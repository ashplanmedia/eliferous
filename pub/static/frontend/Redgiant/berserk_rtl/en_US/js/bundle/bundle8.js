require.config({"config": {
        "jsbuild":{"Magento_Tinymce3/tiny_mce/classes/ui/ListBox.js":"/**\n * ListBox.js\n *\n * Copyright 2009, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n(function(tinymce) {\n\tvar DOM = tinymce.DOM, Event = tinymce.dom.Event, each = tinymce.each, Dispatcher = tinymce.util.Dispatcher;\n\n\t/**\n\t * This class is used to create list boxes/select list. This one will generate\n\t * a non native control. This one has the benefits of having visual items added.\n\t *\n\t * @class tinymce.ui.ListBox\n\t * @extends tinymce.ui.Control\n\t * @example\n\t * // Creates a new plugin class and a custom listbox\n\t * tinymce.create('tinymce.plugins.ExamplePlugin', {\n\t *     createControl: function(n, cm) {\n\t *         switch (n) {\n\t *             case 'mylistbox':\n\t *                 var mlb = cm.createListBox('mylistbox', {\n\t *                      title : 'My list box',\n\t *                      onselect : function(v) {\n\t *                          tinyMCE.activeEditor.windowManager.alert('Value selected:' + v);\n\t *                      }\n\t *                 });\n\t * \n\t *                 // Add some values to the list box\n\t *                 mlb.add('Some item 1', 'val1');\n\t *                 mlb.add('some item 2', 'val2');\n\t *                 mlb.add('some item 3', 'val3');\n\t * \n\t *                 // Return the new listbox instance\n\t *                 return mlb;\n\t *         }\n\t * \n\t *         return null;\n\t *     }\n\t * });\n\t * \n\t * // Register plugin with a short name\n\t * tinymce.PluginManager.add('example', tinymce.plugins.ExamplePlugin);\n\t * \n\t * // Initialize TinyMCE with the new plugin and button\n\t * tinyMCE.init({\n\t *    ...\n\t *    plugins : '-example', // - means TinyMCE will not try to load it\n\t *    theme_advanced_buttons1 : 'mylistbox' // Add the new example listbox to the toolbar\n\t * });\n\t */\n\ttinymce.create('tinymce.ui.ListBox:tinymce.ui.Control', {\n\t\t/**\n\t\t * Constructs a new listbox control instance.\n\t\t *\n\t\t * @constructor\n\t\t * @method ListBox\n\t\t * @param {String} id Control id for the list box.\n\t\t * @param {Object} s Optional name/value settings object.\n\t\t * @param {Editor} ed Optional the editor instance this button is for.\n\t\t */\n\t\tListBox : function(id, s, ed) {\n\t\t\tvar t = this;\n\n\t\t\tt.parent(id, s, ed);\n\n\t\t\t/**\n\t\t\t * Array of ListBox items.\n\t\t\t *\n\t\t\t * @property items\n\t\t\t * @type Array\n\t\t\t */\n\t\t\tt.items = [];\n\n\t\t\t/**\n\t\t\t * Fires when the selection has been changed.\n\t\t\t *\n\t\t\t * @event onChange\n\t\t\t */\n\t\t\tt.onChange = new Dispatcher(t);\n\n\t\t\t/**\n\t\t\t * Fires after the element has been rendered to DOM.\n\t\t\t *\n\t\t\t * @event onPostRender\n\t\t\t */\n\t\t\tt.onPostRender = new Dispatcher(t);\n\n\t\t\t/**\n\t\t\t * Fires when a new item is added.\n\t\t\t *\n\t\t\t * @event onAdd\n\t\t\t */\n\t\t\tt.onAdd = new Dispatcher(t);\n\n\t\t\t/**\n\t\t\t * Fires when the menu gets rendered.\n\t\t\t *\n\t\t\t * @event onRenderMenu\n\t\t\t */\n\t\t\tt.onRenderMenu = new tinymce.util.Dispatcher(this);\n\n\t\t\tt.classPrefix = 'mceListBox';\n\t\t},\n\n\t\t/**\n\t\t * Selects a item/option by value. This will both add a visual selection to the\n\t\t * item and change the title of the control to the title of the option.\n\t\t *\n\t\t * @method select\n\t\t * @param {String/function} va Value to look for inside the list box or a function selector.\n\t\t */\n\t\tselect : function(va) {\n\t\t\tvar t = this, fv, f;\n\n\t\t\tif (va == undefined)\n\t\t\t\treturn t.selectByIndex(-1);\n\n\t\t\t// Is string or number make function selector\n\t\t\tif (va && va.call)\n\t\t\t\tf = va;\n\t\t\telse {\n\t\t\t\tf = function(v) {\n\t\t\t\t\treturn v == va;\n\t\t\t\t};\n\t\t\t}\n\n\t\t\t// Do we need to do something?\n\t\t\tif (va != t.selectedValue) {\n\t\t\t\t// Find item\n\t\t\t\teach(t.items, function(o, i) {\n\t\t\t\t\tif (f(o.value)) {\n\t\t\t\t\t\tfv = 1;\n\t\t\t\t\t\tt.selectByIndex(i);\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (!fv)\n\t\t\t\t\tt.selectByIndex(-1);\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Selects a item/option by index. This will both add a visual selection to the\n\t\t * item and change the title of the control to the title of the option.\n\t\t *\n\t\t * @method selectByIndex\n\t\t * @param {String} idx Index to select, pass -1 to select menu/title of select box.\n\t\t */\n\t\tselectByIndex : function(idx) {\n\t\t\tvar t = this, e, o, label;\n\n\t\t\tif (idx != t.selectedIndex) {\n\t\t\t\te = DOM.get(t.id + '_text');\n\t\t\t\tlabel = DOM.get(t.id + '_voiceDesc');\n\t\t\t\to = t.items[idx];\n\n\t\t\t\tif (o) {\n\t\t\t\t\tt.selectedValue = o.value;\n\t\t\t\t\tt.selectedIndex = idx;\n\t\t\t\t\tDOM.setHTML(e, DOM.encode(o.title));\n\t\t\t\t\tDOM.setHTML(label, t.settings.title + \" - \" + o.title);\n\t\t\t\t\tDOM.removeClass(e, 'mceTitle');\n\t\t\t\t\tDOM.setAttrib(t.id, 'aria-valuenow', o.title);\n\t\t\t\t} else {\n\t\t\t\t\tDOM.setHTML(e, DOM.encode(t.settings.title));\n\t\t\t\t\tDOM.setHTML(label, DOM.encode(t.settings.title));\n\t\t\t\t\tDOM.addClass(e, 'mceTitle');\n\t\t\t\t\tt.selectedValue = t.selectedIndex = null;\n\t\t\t\t\tDOM.setAttrib(t.id, 'aria-valuenow', t.settings.title);\n\t\t\t\t}\n\t\t\t\te = 0;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Adds a option item to the list box.\n\t\t *\n\t\t * @method add\n\t\t * @param {String} n Title for the new option.\n\t\t * @param {String} v Value for the new option.\n\t\t * @param {Object} o Optional object with settings like for example class.\n\t\t */\n\t\tadd : function(n, v, o) {\n\t\t\tvar t = this;\n\n\t\t\to = o || {};\n\t\t\to = tinymce.extend(o, {\n\t\t\t\ttitle : n,\n\t\t\t\tvalue : v\n\t\t\t});\n\n\t\t\tt.items.push(o);\n\t\t\tt.onAdd.dispatch(t, o);\n\t\t},\n\n\t\t/**\n\t\t * Returns the number of items inside the list box.\n\t\t *\n\t\t * @method getLength\n\t\t * @param {Number} Number of items inside the list box.\n\t\t */\n\t\tgetLength : function() {\n\t\t\treturn this.items.length;\n\t\t},\n\n\t\t/**\n\t\t * Renders the list box as a HTML string. This method is much faster than using the DOM and when\n\t\t * creating a whole toolbar with buttons it does make a lot of difference.\n\t\t *\n\t\t * @method renderHTML\n\t\t * @return {String} HTML for the list box control element.\n\t\t */\n\t\trenderHTML : function() {\n\t\t\tvar h = '', t = this, s = t.settings, cp = t.classPrefix;\n\n\t\t\th = '<span role=\"listbox\" aria-haspopup=\"true\" aria-labelledby=\"' + t.id +'_voiceDesc\" aria-describedby=\"' + t.id + '_voiceDesc\"><table role=\"presentation\" tabindex=\"0\" id=\"' + t.id + '\" cellpadding=\"0\" cellspacing=\"0\" class=\"' + cp + ' ' + cp + 'Enabled' + (s['class'] ? (' ' + s['class']) : '') + '\"><tbody><tr>';\n\t\t\th += '<td>' + DOM.createHTML('span', {id: t.id + '_voiceDesc', 'class': 'voiceLabel', style:'display:none;'}, t.settings.title); \n\t\t\th += DOM.createHTML('a', {id : t.id + '_text', tabindex : -1, href : 'javascript:;', 'class' : 'mceText', onclick : \"return false;\", onmousedown : 'return false;'}, DOM.encode(t.settings.title)) + '</td>';\n\t\t\th += '<td>' + DOM.createHTML('a', {id : t.id + '_open', tabindex : -1, href : 'javascript:;', 'class' : 'mceOpen', onclick : \"return false;\", onmousedown : 'return false;'}, '<span><span style=\"display:none;\" class=\"mceIconOnly\" aria-hidden=\"true\">\\u25BC</span></span>') + '</td>';\n\t\t\th += '</tr></tbody></table></span>';\n\n\t\t\treturn h;\n\t\t},\n\n\t\t/**\n\t\t * Displays the drop menu with all items.\n\t\t *\n\t\t * @method showMenu\n\t\t */\n\t\tshowMenu : function() {\n\t\t\tvar t = this, p2, e = DOM.get(this.id), m;\n\n\t\t\tif (t.isDisabled() || t.items.length == 0)\n\t\t\t\treturn;\n\n\t\t\tif (t.menu && t.menu.isMenuVisible)\n\t\t\t\treturn t.hideMenu();\n\n\t\t\tif (!t.isMenuRendered) {\n\t\t\t\tt.renderMenu();\n\t\t\t\tt.isMenuRendered = true;\n\t\t\t}\n\n\t\t\tp2 = DOM.getPos(e);\n\n\t\t\tm = t.menu;\n\t\t\tm.settings.offset_x = p2.x;\n\t\t\tm.settings.offset_y = p2.y;\n\t\t\tm.settings.keyboard_focus = !tinymce.isOpera; // Opera is buggy when it comes to auto focus\n\n\t\t\t// Select in menu\n\t\t\tif (t.oldID)\n\t\t\t\tm.items[t.oldID].setSelected(0);\n\n\t\t\teach(t.items, function(o) {\n\t\t\t\tif (o.value === t.selectedValue) {\n\t\t\t\t\tm.items[o.id].setSelected(1);\n\t\t\t\t\tt.oldID = o.id;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tm.showMenu(0, e.clientHeight);\n\n\t\t\tEvent.add(DOM.doc, 'mousedown', t.hideMenu, t);\n\t\t\tDOM.addClass(t.id, t.classPrefix + 'Selected');\n\n\t\t\t//DOM.get(t.id + '_text').focus();\n\t\t},\n\n\t\t/**\n\t\t * Hides the drop menu.\n\t\t *\n\t\t * @method hideMenu\n\t\t */\n\t\thideMenu : function(e) {\n\t\t\tvar t = this;\n\n\t\t\tif (t.menu && t.menu.isMenuVisible) {\n\t\t\t\tDOM.removeClass(t.id, t.classPrefix + 'Selected');\n\n\t\t\t\t// Prevent double toogles by canceling the mouse click event to the button\n\t\t\t\tif (e && e.type == \"mousedown\" && (e.target.id == t.id + '_text' || e.target.id == t.id + '_open'))\n\t\t\t\t\treturn;\n\n\t\t\t\tif (!e || !DOM.getParent(e.target, '.mceMenu')) {\n\t\t\t\t\tDOM.removeClass(t.id, t.classPrefix + 'Selected');\n\t\t\t\t\tEvent.remove(DOM.doc, 'mousedown', t.hideMenu, t);\n\t\t\t\t\tt.menu.hideMenu();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Renders the menu to the DOM.\n\t\t *\n\t\t * @method renderMenu\n\t\t */\n\t\trenderMenu : function() {\n\t\t\tvar t = this, m;\n\n\t\t\tm = t.settings.control_manager.createDropMenu(t.id + '_menu', {\n\t\t\t\tmenu_line : 1,\n\t\t\t\t'class' : t.classPrefix + 'Menu mceNoIcons',\n\t\t\t\tmax_width : 150,\n\t\t\t\tmax_height : 150\n\t\t\t});\n\n\t\t\tm.onHideMenu.add(function() {\n\t\t\t\tt.hideMenu();\n\t\t\t\tt.focus();\n\t\t\t});\n\n\t\t\tm.add({\n\t\t\t\ttitle : t.settings.title,\n\t\t\t\t'class' : 'mceMenuItemTitle',\n\t\t\t\tonclick : function() {\n\t\t\t\t\tif (t.settings.onselect('') !== false)\n\t\t\t\t\t\tt.select(''); // Must be runned after\n\t\t\t\t}\n\t\t\t});\n\n\t\t\teach(t.items, function(o) {\n\t\t\t\t// No value then treat it as a title\n\t\t\t\tif (o.value === undefined) {\n\t\t\t\t\tm.add({\n\t\t\t\t\t\ttitle : o.title,\n\t\t\t\t\t\trole : \"option\",\n\t\t\t\t\t\t'class' : 'mceMenuItemTitle',\n\t\t\t\t\t\tonclick : function() {\n\t\t\t\t\t\t\tif (t.settings.onselect('') !== false)\n\t\t\t\t\t\t\t\tt.select(''); // Must be runned after\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\to.id = DOM.uniqueId();\n\t\t\t\t\to.role= \"option\";\n\t\t\t\t\to.onclick = function() {\n\t\t\t\t\t\tif (t.settings.onselect(o.value) !== false)\n\t\t\t\t\t\t\tt.select(o.value); // Must be runned after\n\t\t\t\t\t};\n\n\t\t\t\t\tm.add(o);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tt.onRenderMenu.dispatch(t, m);\n\t\t\tt.menu = m;\n\t\t},\n\n\t\t/**\n\t\t * Post render event. This will be executed after the control has been rendered and can be used to\n\t\t * set states, add events to the control etc. It's recommended for subclasses of the control to call this method by using this.parent().\n\t\t *\n\t\t * @method postRender\n\t\t */\n\t\tpostRender : function() {\n\t\t\tvar t = this, cp = t.classPrefix;\n\n\t\t\tEvent.add(t.id, 'click', t.showMenu, t);\n\t\t\tEvent.add(t.id, 'keydown', function(evt) {\n\t\t\t\tif (evt.keyCode == 32) { // Space\n\t\t\t\t\tt.showMenu(evt);\n\t\t\t\t\tEvent.cancel(evt);\n\t\t\t\t}\n\t\t\t});\n\t\t\tEvent.add(t.id, 'focus', function() {\n\t\t\t\tif (!t._focused) {\n\t\t\t\t\tt.keyDownHandler = Event.add(t.id, 'keydown', function(e) {\n\t\t\t\t\t\tif (e.keyCode == 40) {\n\t\t\t\t\t\t\tt.showMenu();\n\t\t\t\t\t\t\tEvent.cancel(e);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tt.keyPressHandler = Event.add(t.id, 'keypress', function(e) {\n\t\t\t\t\t\tvar v;\n\t\t\t\t\t\tif (e.keyCode == 13) {\n\t\t\t\t\t\t\t// Fake select on enter\n\t\t\t\t\t\t\tv = t.selectedValue;\n\t\t\t\t\t\t\tt.selectedValue = null; // Needs to be null to fake change\n\t\t\t\t\t\t\tEvent.cancel(e);\n\t\t\t\t\t\t\tt.settings.onselect(v);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tt._focused = 1;\n\t\t\t});\n\t\t\tEvent.add(t.id, 'blur', function() {\n\t\t\t\tEvent.remove(t.id, 'keydown', t.keyDownHandler);\n\t\t\t\tEvent.remove(t.id, 'keypress', t.keyPressHandler);\n\t\t\t\tt._focused = 0;\n\t\t\t});\n\n\t\t\t// Old IE doesn't have hover on all elements\n\t\t\tif (tinymce.isIE6 || !DOM.boxModel) {\n\t\t\t\tEvent.add(t.id, 'mouseover', function() {\n\t\t\t\t\tif (!DOM.hasClass(t.id, cp + 'Disabled'))\n\t\t\t\t\t\tDOM.addClass(t.id, cp + 'Hover');\n\t\t\t\t});\n\n\t\t\t\tEvent.add(t.id, 'mouseout', function() {\n\t\t\t\t\tif (!DOM.hasClass(t.id, cp + 'Disabled'))\n\t\t\t\t\t\tDOM.removeClass(t.id, cp + 'Hover');\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tt.onPostRender.dispatch(t, DOM.get(t.id));\n\t\t},\n\n\t\t/**\n\t\t * Destroys the ListBox i.e. clear memory and events.\n\t\t *\n\t\t * @method destroy\n\t\t */\n\t\tdestroy : function() {\n\t\t\tthis.parent();\n\n\t\t\tEvent.clear(this.id + '_text');\n\t\t\tEvent.clear(this.id + '_open');\n\t\t}\n\t});\n})(tinymce);\n","Magento_Tinymce3/tiny_mce/classes/ui/Separator.js":"/**\n * Separator.js\n *\n * Copyright 2009, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n/**\n * This class is used to create vertical separator between other controls.\n *\n * @class tinymce.ui.Separator\n * @extends tinymce.ui.Control\n */\ntinymce.create('tinymce.ui.Separator:tinymce.ui.Control', {\n\t/**\n\t * Separator constructor.\n\t *\n\t * @constructor\n\t * @method Separator\n\t * @param {String} id Control id to use for the Separator.\n\t * @param {Object} s Optional name/value settings object.\n\t */\n\tSeparator : function(id, s) {\n\t\tthis.parent(id, s);\n\t\tthis.classPrefix = 'mceSeparator';\n\t\tthis.setDisabled(true);\n\t},\n\n\t/**\n\t * Renders the separator as a HTML string. This method is much faster than using the DOM and when\n\t * creating a whole toolbar with buttons it does make a lot of difference.\n\t *\n\t * @method renderHTML\n\t * @return {String} HTML for the separator control element.\n\t */\n\trenderHTML : function() {\n\t\treturn tinymce.DOM.createHTML('span', {'class' : this.classPrefix, role : 'separator', 'aria-orientation' : 'vertical', tabindex : '-1'});\n\t}\n});\n","Magento_Tinymce3/tiny_mce/classes/ui/SplitButton.js":"/**\n * SplitButton.js\n *\n * Copyright 2009, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n(function(tinymce) {\n\tvar DOM = tinymce.DOM, Event = tinymce.dom.Event, each = tinymce.each;\n\n\t/**\n\t * This class is used to create a split button. A button with a menu attached to it.\n\t *\n\t * @class tinymce.ui.SplitButton\n\t * @extends tinymce.ui.Button\n\t * @example\n\t * // Creates a new plugin class and a custom split button\n\t * tinymce.create('tinymce.plugins.ExamplePlugin', {\n\t *     createControl: function(n, cm) {\n\t *         switch (n) {\n\t *             case 'mysplitbutton':\n\t *                 var c = cm.createSplitButton('mysplitbutton', {\n\t *                     title : 'My split button',\n\t *                     image : 'some.gif',\n\t *                     onclick : function() {\n\t *                         alert('Button was clicked.');\n\t *                     }\n\t *                 });\n\t * \n\t *                 c.onRenderMenu.add(function(c, m) {\n\t *                     m.add({title : 'Some title', 'class' : 'mceMenuItemTitle'}).setDisabled(1);\n\t * \n\t *                     m.add({title : 'Some item 1', onclick : function() {\n\t *                         alert('Some item 1 was clicked.');\n\t *                     }});\n\t * \n\t *                     m.add({title : 'Some item 2', onclick : function() {\n\t *                         alert('Some item 2 was clicked.');\n\t *                     }});\n\t *                 });\n\t * \n\t *               // Return the new splitbutton instance\n\t *               return c;\n\t *         }\n\t * \n\t *         return null;\n\t *     }\n\t * });\n\t */\n\ttinymce.create('tinymce.ui.SplitButton:tinymce.ui.MenuButton', {\n\t\t/**\n\t\t * Constructs a new split button control instance.\n\t\t *\n\t\t * @constructor\n\t\t * @method SplitButton\n\t\t * @param {String} id Control id for the split button.\n\t\t * @param {Object} s Optional name/value settings object.\n\t\t * @param {Editor} ed Optional the editor instance this button is for.\n\t\t */\n\t\tSplitButton : function(id, s, ed) {\n\t\t\tthis.parent(id, s, ed);\n\t\t\tthis.classPrefix = 'mceSplitButton';\n\t\t},\n\n\t\t/**\n\t\t * Renders the split button as a HTML string. This method is much faster than using the DOM and when\n\t\t * creating a whole toolbar with buttons it does make a lot of difference.\n\t\t *\n\t\t * @method renderHTML\n\t\t * @return {String} HTML for the split button control element.\n\t\t */\n\t\trenderHTML : function() {\n\t\t\tvar h, t = this, s = t.settings, h1;\n\n\t\t\th = '<tbody><tr>';\n\n\t\t\tif (s.image)\n\t\t\t\th1 = DOM.createHTML('img ', {src : s.image, role: 'presentation', 'class' : 'mceAction ' + s['class']});\n\t\t\telse\n\t\t\t\th1 = DOM.createHTML('span', {'class' : 'mceAction ' + s['class']}, '');\n\n\t\t\th1 += DOM.createHTML('span', {'class': 'mceVoiceLabel mceIconOnly', id: t.id + '_voice', style: 'display:none;'}, s.title);\n\t\t\th += '<td >' + DOM.createHTML('a', {role: 'button', id : t.id + '_action', tabindex: '-1', href : 'javascript:;', 'class' : 'mceAction ' + s['class'], onclick : \"return false;\", onmousedown : 'return false;', title : s.title}, h1) + '</td>';\n\t\n\t\t\th1 = DOM.createHTML('span', {'class' : 'mceOpen ' + s['class']}, '<span style=\"display:none;\" class=\"mceIconOnly\" aria-hidden=\"true\">\\u25BC</span>');\n\t\t\th += '<td >' + DOM.createHTML('a', {role: 'button', id : t.id + '_open', tabindex: '-1', href : 'javascript:;', 'class' : 'mceOpen ' + s['class'], onclick : \"return false;\", onmousedown : 'return false;', title : s.title}, h1) + '</td>';\n\n\t\t\th += '</tr></tbody>';\n\t\t\th = DOM.createHTML('table', { role: 'presentation',   'class' : 'mceSplitButton mceSplitButtonEnabled ' + s['class'], cellpadding : '0', cellspacing : '0', title : s.title}, h);\n\t\t\treturn DOM.createHTML('div', {id : t.id, role: 'button', tabindex: '0', 'aria-labelledby': t.id + '_voice', 'aria-haspopup': 'true'}, h);\n\t\t},\n\n\t\t/**\n\t\t * Post render handler. This function will be called after the UI has been\n\t\t * rendered so that events can be added.\n\t\t *\n\t\t * @method postRender\n\t\t */\n\t\tpostRender : function() {\n\t\t\tvar t = this, s = t.settings, activate;\n\n\t\t\tif (s.onclick) {\n\t\t\t\tactivate = function(evt) {\n\t\t\t\t\tif (!t.isDisabled()) {\n\t\t\t\t\t\ts.onclick(t.value);\n\t\t\t\t\t\tEvent.cancel(evt);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t\tEvent.add(t.id + '_action', 'click', activate);\n\t\t\t\tEvent.add(t.id, ['click', 'keydown'], function(evt) {\n\t\t\t\t\tvar DOM_VK_SPACE = 32, DOM_VK_ENTER = 14, DOM_VK_RETURN = 13, DOM_VK_UP = 38, DOM_VK_DOWN = 40;\n\t\t\t\t\tif ((evt.keyCode === 32 || evt.keyCode === 13 || evt.keyCode === 14) && !evt.altKey && !evt.ctrlKey && !evt.metaKey) {\n\t\t\t\t\t\tactivate();\n\t\t\t\t\t\tEvent.cancel(evt);\n\t\t\t\t\t} else if (evt.type === 'click' || evt.keyCode === DOM_VK_DOWN) {\n\t\t\t\t\t\tt.showMenu();\n\t\t\t\t\t\tEvent.cancel(evt);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tEvent.add(t.id + '_open', 'click', function (evt) {\n\t\t\t\tt.showMenu();\n\t\t\t\tEvent.cancel(evt);\n\t\t\t});\n\t\t\tEvent.add([t.id, t.id + '_open'], 'focus', function() {t._focused = 1;});\n\t\t\tEvent.add([t.id, t.id + '_open'], 'blur', function() {t._focused = 0;});\n\n\t\t\t// Old IE doesn't have hover on all elements\n\t\t\tif (tinymce.isIE6 || !DOM.boxModel) {\n\t\t\t\tEvent.add(t.id, 'mouseover', function() {\n\t\t\t\t\tif (!DOM.hasClass(t.id, 'mceSplitButtonDisabled'))\n\t\t\t\t\t\tDOM.addClass(t.id, 'mceSplitButtonHover');\n\t\t\t\t});\n\n\t\t\t\tEvent.add(t.id, 'mouseout', function() {\n\t\t\t\t\tif (!DOM.hasClass(t.id, 'mceSplitButtonDisabled'))\n\t\t\t\t\t\tDOM.removeClass(t.id, 'mceSplitButtonHover');\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\n\t\tdestroy : function() {\n\t\t\tthis.parent();\n\n\t\t\tEvent.clear(this.id + '_action');\n\t\t\tEvent.clear(this.id + '_open');\n\t\t\tEvent.clear(this.id);\n\t\t}\n\t});\n})(tinymce);\n","Magento_Tinymce3/tiny_mce/classes/ui/DropMenu.js":"/**\n * DropMenu.js\n *\n * Copyright 2009, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n(function(tinymce) {\n\tvar is = tinymce.is, DOM = tinymce.DOM, each = tinymce.each, Event = tinymce.dom.Event, Element = tinymce.dom.Element;\n\n\t/**\n\t * This class is used to create drop menus, a drop menu can be a\n\t * context menu, or a menu for a list box or a menu bar.\n\t *\n\t * @class tinymce.ui.DropMenu\n\t * @extends tinymce.ui.Menu\n\t * @example\n\t * // Adds a menu to the currently active editor instance\n\t * var dm = tinyMCE.activeEditor.controlManager.createDropMenu('somemenu');\n\t * \n\t * // Add some menu items\n\t * dm.add({title : 'Menu 1', onclick : function() {\n\t *     alert('Item 1 was clicked.');\n\t * }});\n\t * \n\t * dm.add({title : 'Menu 2', onclick : function() {\n\t *     alert('Item 2 was clicked.');\n\t * }});\n\t * \n\t * // Adds a submenu\n\t * var sub1 = dm.addMenu({title : 'Menu 3'});\n\t * sub1.add({title : 'Menu 1.1', onclick : function() {\n\t *     alert('Item 1.1 was clicked.');\n\t * }});\n\t * \n\t * // Adds a horizontal separator\n\t * sub1.addSeparator();\n\t * \n\t * sub1.add({title : 'Menu 1.2', onclick : function() {\n\t *     alert('Item 1.2 was clicked.');\n\t * }});\n\t * \n\t * // Adds a submenu to the submenu\n\t * var sub2 = sub1.addMenu({title : 'Menu 1.3'});\n\t * \n\t * // Adds items to the sub sub menu\n\t * sub2.add({title : 'Menu 1.3.1', onclick : function() {\n\t *     alert('Item 1.3.1 was clicked.');\n\t * }});\n\t * \n\t * sub2.add({title : 'Menu 1.3.2', onclick : function() {\n\t *     alert('Item 1.3.2 was clicked.');\n\t * }});\n\t * \n\t * dm.add({title : 'Menu 4', onclick : function() {\n\t *     alert('Item 3 was clicked.');\n\t * }});\n\t * \n\t * // Display the menu at position 100, 100\n\t * dm.showMenu(100, 100);\n\t */\n\ttinymce.create('tinymce.ui.DropMenu:tinymce.ui.Menu', {\n\t\t/**\n\t\t * Constructs a new drop menu control instance.\n\t\t *\n\t\t * @constructor\n\t\t * @method DropMenu\n\t\t * @param {String} id Button control id for the button.\n\t\t * @param {Object} s Optional name/value settings object.\n\t\t */\n\t\tDropMenu : function(id, s) {\n\t\t\ts = s || {};\n\t\t\ts.container = s.container || DOM.doc.body;\n\t\t\ts.offset_x = s.offset_x || 0;\n\t\t\ts.offset_y = s.offset_y || 0;\n\t\t\ts.vp_offset_x = s.vp_offset_x || 0;\n\t\t\ts.vp_offset_y = s.vp_offset_y || 0;\n\n\t\t\tif (is(s.icons) && !s.icons)\n\t\t\t\ts['class'] += ' mceNoIcons';\n\n\t\t\tthis.parent(id, s);\n\t\t\tthis.onShowMenu = new tinymce.util.Dispatcher(this);\n\t\t\tthis.onHideMenu = new tinymce.util.Dispatcher(this);\n\t\t\tthis.classPrefix = 'mceMenu';\n\t\t},\n\n\t\t/**\n\t\t * Created a new sub menu for the drop menu control.\n\t\t *\n\t\t * @method createMenu\n\t\t * @param {Object} s Optional name/value settings object.\n\t\t * @return {tinymce.ui.DropMenu} New drop menu instance.\n\t\t */\n\t\tcreateMenu : function(s) {\n\t\t\tvar t = this, cs = t.settings, m;\n\n\t\t\ts.container = s.container || cs.container;\n\t\t\ts.parent = t;\n\t\t\ts.constrain = s.constrain || cs.constrain;\n\t\t\ts['class'] = s['class'] || cs['class'];\n\t\t\ts.vp_offset_x = s.vp_offset_x || cs.vp_offset_x;\n\t\t\ts.vp_offset_y = s.vp_offset_y || cs.vp_offset_y;\n\t\t\ts.keyboard_focus = cs.keyboard_focus;\n\t\t\tm = new tinymce.ui.DropMenu(s.id || DOM.uniqueId(), s);\n\n\t\t\tm.onAddItem.add(t.onAddItem.dispatch, t.onAddItem);\n\n\t\t\treturn m;\n\t\t},\n\t\t\n\t\tfocus : function() {\n\t\t\tvar t = this;\n\t\t\tif (t.keyboardNav) {\n\t\t\t\tt.keyboardNav.focus();\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Repaints the menu after new items have been added dynamically.\n\t\t *\n\t\t * @method update\n\t\t */\n\t\tupdate : function() {\n\t\t\tvar t = this, s = t.settings, tb = DOM.get('menu_' + t.id + '_tbl'), co = DOM.get('menu_' + t.id + '_co'), tw, th;\n\n\t\t\ttw = s.max_width ? Math.min(tb.clientWidth, s.max_width) : tb.clientWidth;\n\t\t\tth = s.max_height ? Math.min(tb.clientHeight, s.max_height) : tb.clientHeight;\n\n\t\t\tif (!DOM.boxModel)\n\t\t\t\tt.element.setStyles({width : tw + 2, height : th + 2});\n\t\t\telse\n\t\t\t\tt.element.setStyles({width : tw, height : th});\n\n\t\t\tif (s.max_width)\n\t\t\t\tDOM.setStyle(co, 'width', tw);\n\n\t\t\tif (s.max_height) {\n\t\t\t\tDOM.setStyle(co, 'height', th);\n\n\t\t\t\tif (tb.clientHeight < s.max_height)\n\t\t\t\t\tDOM.setStyle(co, 'overflow', 'hidden');\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Displays the menu at the specified cordinate.\n\t\t *\n\t\t * @method showMenu\n\t\t * @param {Number} x Horizontal position of the menu.\n\t\t * @param {Number} y Vertical position of the menu.\n\t\t * @param {Numner} px Optional parent X position used when menus are cascading.\n\t\t */\n\t\tshowMenu : function(x, y, px) {\n\t\t\tvar t = this, s = t.settings, co, vp = DOM.getViewPort(), w, h, mx, my, ot = 2, dm, tb, cp = t.classPrefix;\n\n\t\t\tt.collapse(1);\n\n\t\t\tif (t.isMenuVisible)\n\t\t\t\treturn;\n\n\t\t\tif (!t.rendered) {\n\t\t\t\tco = DOM.add(t.settings.container, t.renderNode());\n\n\t\t\t\teach(t.items, function(o) {\n\t\t\t\t\to.postRender();\n\t\t\t\t});\n\n\t\t\t\tt.element = new Element('menu_' + t.id, {blocker : 1, container : s.container});\n\t\t\t} else\n\t\t\t\tco = DOM.get('menu_' + t.id);\n\n\t\t\t// Move layer out of sight unless it's Opera since it scrolls to top of page due to an bug\n\t\t\tif (!tinymce.isOpera)\n\t\t\t\tDOM.setStyles(co, {left : -0xFFFF , top : -0xFFFF});\n\n\t\t\tDOM.show(co);\n\t\t\tt.update();\n\n\t\t\tx += s.offset_x || 0;\n\t\t\ty += s.offset_y || 0;\n\t\t\tvp.w -= 4;\n\t\t\tvp.h -= 4;\n\n\t\t\t// Move inside viewport if not submenu\n\t\t\tif (s.constrain) {\n\t\t\t\tw = co.clientWidth - ot;\n\t\t\t\th = co.clientHeight - ot;\n\t\t\t\tmx = vp.x + vp.w;\n\t\t\t\tmy = vp.y + vp.h;\n\n\t\t\t\tif ((x + s.vp_offset_x + w) > mx)\n\t\t\t\t\tx = px ? px - w : Math.max(0, (mx - s.vp_offset_x) - w);\n\n\t\t\t\tif ((y + s.vp_offset_y + h) > my)\n\t\t\t\t\ty = Math.max(0, (my - s.vp_offset_y) - h);\n\t\t\t}\n\n\t\t\tDOM.setStyles(co, {left : x , top : y});\n\t\t\tt.element.update();\n\n\t\t\tt.isMenuVisible = 1;\n\t\t\tt.mouseClickFunc = Event.add(co, 'click', function(e) {\n\t\t\t\tvar m;\n\n\t\t\t\te = e.target;\n\n\t\t\t\tif (e && (e = DOM.getParent(e, 'tr')) && !DOM.hasClass(e, cp + 'ItemSub')) {\n\t\t\t\t\tm = t.items[e.id];\n\n\t\t\t\t\tif (m.isDisabled())\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\tdm = t;\n\n\t\t\t\t\twhile (dm) {\n\t\t\t\t\t\tif (dm.hideMenu)\n\t\t\t\t\t\t\tdm.hideMenu();\n\n\t\t\t\t\t\tdm = dm.settings.parent;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (m.settings.onclick)\n\t\t\t\t\t\tm.settings.onclick(e);\n\n\t\t\t\t\treturn Event.cancel(e); // Cancel to fix onbeforeunload problem\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (t.hasMenus()) {\n\t\t\t\tt.mouseOverFunc = Event.add(co, 'mouseover', function(e) {\n\t\t\t\t\tvar m, r, mi;\n\n\t\t\t\t\te = e.target;\n\t\t\t\t\tif (e && (e = DOM.getParent(e, 'tr'))) {\n\t\t\t\t\t\tm = t.items[e.id];\n\n\t\t\t\t\t\tif (t.lastMenu)\n\t\t\t\t\t\t\tt.lastMenu.collapse(1);\n\n\t\t\t\t\t\tif (m.isDisabled())\n\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\tif (e && DOM.hasClass(e, cp + 'ItemSub')) {\n\t\t\t\t\t\t\t//p = DOM.getPos(s.container);\n\t\t\t\t\t\t\tr = DOM.getRect(e);\n\t\t\t\t\t\t\tm.showMenu((r.x + r.w - ot), r.y - ot, r.x);\n\t\t\t\t\t\t\tt.lastMenu = m;\n\t\t\t\t\t\t\tDOM.addClass(DOM.get(m.id).firstChild, cp + 'ItemActive');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\t\n\t\t\tEvent.add(co, 'keydown', t._keyHandler, t);\n\n\t\t\tt.onShowMenu.dispatch(t);\n\n\t\t\tif (s.keyboard_focus) { \n\t\t\t\tt._setupKeyboardNav(); \n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Hides the displayed menu.\n\t\t *\n\t\t * @method hideMenu\n\t\t */\n\t\thideMenu : function(c) {\n\t\t\tvar t = this, co = DOM.get('menu_' + t.id), e;\n\n\t\t\tif (!t.isMenuVisible)\n\t\t\t\treturn;\n\n\t\t\tif (t.keyboardNav) t.keyboardNav.destroy();\n\t\t\tEvent.remove(co, 'mouseover', t.mouseOverFunc);\n\t\t\tEvent.remove(co, 'click', t.mouseClickFunc);\n\t\t\tEvent.remove(co, 'keydown', t._keyHandler);\n\t\t\tDOM.hide(co);\n\t\t\tt.isMenuVisible = 0;\n\n\t\t\tif (!c)\n\t\t\t\tt.collapse(1);\n\n\t\t\tif (t.element)\n\t\t\t\tt.element.hide();\n\n\t\t\tif (e = DOM.get(t.id))\n\t\t\t\tDOM.removeClass(e.firstChild, t.classPrefix + 'ItemActive');\n\n\t\t\tt.onHideMenu.dispatch(t);\n\t\t},\n\n\t\t/**\n\t\t * Adds a new menu, menu item or sub classes of them to the drop menu.\n\t\t *\n\t\t * @method add\n\t\t * @param {tinymce.ui.Control} o Menu or menu item to add to the drop menu.\n\t\t * @return {tinymce.ui.Control} Same as the input control, the menu or menu item.\n\t\t */\n\t\tadd : function(o) {\n\t\t\tvar t = this, co;\n\n\t\t\to = t.parent(o);\n\n\t\t\tif (t.isRendered && (co = DOM.get('menu_' + t.id)))\n\t\t\t\tt._add(DOM.select('tbody', co)[0], o);\n\n\t\t\treturn o;\n\t\t},\n\n\t\t/**\n\t\t * Collapses the menu, this will hide the menu and all menu items.\n\t\t *\n\t\t * @method collapse\n\t\t * @param {Boolean} d Optional deep state. If this is set to true all children will be collapsed as well.\n\t\t */\n\t\tcollapse : function(d) {\n\t\t\tthis.parent(d);\n\t\t\tthis.hideMenu(1);\n\t\t},\n\n\t\t/**\n\t\t * Removes a specific sub menu or menu item from the drop menu.\n\t\t *\n\t\t * @method remove\n\t\t * @param {tinymce.ui.Control} o Menu item or menu to remove from drop menu.\n\t\t * @return {tinymce.ui.Control} Control instance or null if it wasn't found.\n\t\t */\n\t\tremove : function(o) {\n\t\t\tDOM.remove(o.id);\n\t\t\tthis.destroy();\n\n\t\t\treturn this.parent(o);\n\t\t},\n\n\t\t/**\n\t\t * Destroys the menu. This will remove the menu from the DOM and any events added to it etc.\n\t\t *\n\t\t * @method destroy\n\t\t */\n\t\tdestroy : function() {\n\t\t\tvar t = this, co = DOM.get('menu_' + t.id);\n\n\t\t\tif (t.keyboardNav) t.keyboardNav.destroy();\n\t\t\tEvent.remove(co, 'mouseover', t.mouseOverFunc);\n\t\t\tEvent.remove(DOM.select('a', co), 'focus', t.mouseOverFunc);\n\t\t\tEvent.remove(co, 'click', t.mouseClickFunc);\n\t\t\tEvent.remove(co, 'keydown', t._keyHandler);\n\n\t\t\tif (t.element)\n\t\t\t\tt.element.remove();\n\n\t\t\tDOM.remove(co);\n\t\t},\n\n\t\t/**\n\t\t * Renders the specified menu node to the dom.\n\t\t *\n\t\t * @method renderNode\n\t\t * @return {Element} Container element for the drop menu.\n\t\t */\n\t\trenderNode : function() {\n\t\t\tvar t = this, s = t.settings, n, tb, co, w;\n\n\t\t\tw = DOM.create('div', {role: 'listbox', id : 'menu_' + t.id, 'class' : s['class'], 'style' : 'position:absolute;left:0;top:0;z-index:200000;outline:0'});\n\t\t\tif (t.settings.parent) {\n\t\t\t\tDOM.setAttrib(w, 'aria-parent', 'menu_' + t.settings.parent.id);\n\t\t\t}\n\t\t\tco = DOM.add(w, 'div', {role: 'presentation', id : 'menu_' + t.id + '_co', 'class' : t.classPrefix + (s['class'] ? ' ' + s['class'] : '')});\n\t\t\tt.element = new Element('menu_' + t.id, {blocker : 1, container : s.container});\n\n\t\t\tif (s.menu_line)\n\t\t\t\tDOM.add(co, 'span', {'class' : t.classPrefix + 'Line'});\n\n//\t\t\tn = DOM.add(co, 'div', {id : 'menu_' + t.id + '_co', 'class' : 'mceMenuContainer'});\n\t\t\tn = DOM.add(co, 'table', {role: 'presentation', id : 'menu_' + t.id + '_tbl', border : 0, cellPadding : 0, cellSpacing : 0});\n\t\t\ttb = DOM.add(n, 'tbody');\n\n\t\t\teach(t.items, function(o) {\n\t\t\t\tt._add(tb, o);\n\t\t\t});\n\n\t\t\tt.rendered = true;\n\n\t\t\treturn w;\n\t\t},\n\n\t\t// Internal functions\n\t\t_setupKeyboardNav : function(){\n\t\t\tvar contextMenu, menuItems, t=this; \n\t\t\tcontextMenu = DOM.select('#menu_' + t.id)[0];\n\t\t\tmenuItems = DOM.select('a[role=option]', 'menu_' + t.id);\n\t\t\tmenuItems.splice(0,0,contextMenu);\n\t\t\tt.keyboardNav = new tinymce.ui.KeyboardNavigation({\n\t\t\t\troot: 'menu_' + t.id,\n\t\t\t\titems: menuItems,\n\t\t\t\tonCancel: function() {\n\t\t\t\t\tt.hideMenu();\n\t\t\t\t},\n\t\t\t\tenableUpDown: true\n\t\t\t});\n\t\t\tcontextMenu.focus();\n\t\t},\n\n\t\t_keyHandler : function(evt) {\n\t\t\tvar t = this, e;\n\t\t\tswitch (evt.keyCode) {\n\t\t\t\tcase 37: // Left\n\t\t\t\t\tif (t.settings.parent) {\n\t\t\t\t\t\tt.hideMenu();\n\t\t\t\t\t\tt.settings.parent.focus();\n\t\t\t\t\t\tEvent.cancel(evt);\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tcase 39: // Right\n\t\t\t\t\tif (t.mouseOverFunc)\n\t\t\t\t\t\tt.mouseOverFunc(evt);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t},\n\n\t\t_add : function(tb, o) {\n\t\t\tvar n, s = o.settings, a, ro, it, cp = this.classPrefix, ic;\n\n\t\t\tif (s.separator) {\n\t\t\t\tro = DOM.add(tb, 'tr', {id : o.id, 'class' : cp + 'ItemSeparator'});\n\t\t\t\tDOM.add(ro, 'td', {'class' : cp + 'ItemSeparator'});\n\n\t\t\t\tif (n = ro.previousSibling)\n\t\t\t\t\tDOM.addClass(n, 'mceLast');\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tn = ro = DOM.add(tb, 'tr', {id : o.id, 'class' : cp + 'Item ' + cp + 'ItemEnabled'});\n\t\t\tn = it = DOM.add(n, s.titleItem ? 'th' : 'td');\n\t\t\tn = a = DOM.add(n, 'a', {id: o.id + '_aria',  role: s.titleItem ? 'presentation' : 'option', href : 'javascript:;', onclick : \"return false;\", onmousedown : 'return false;'});\n\n\t\t\tif (s.parent) {\n\t\t\t\tDOM.setAttrib(a, 'aria-haspopup', 'true');\n\t\t\t\tDOM.setAttrib(a, 'aria-owns', 'menu_' + o.id);\n\t\t\t}\n\n\t\t\tDOM.addClass(it, s['class']);\n//\t\t\tn = DOM.add(n, 'span', {'class' : 'item'});\n\n\t\t\tic = DOM.add(n, 'span', {'class' : 'mceIcon' + (s.icon ? ' mce_' + s.icon : '')});\n\n\t\t\tif (s.icon_src)\n\t\t\t\tDOM.add(ic, 'img', {src : s.icon_src});\n\n\t\t\tn = DOM.add(n, s.element || 'span', {'class' : 'mceText', title : o.settings.title}, o.settings.title);\n\n\t\t\tif (o.settings.style)\n\t\t\t\tDOM.setAttrib(n, 'style', o.settings.style);\n\n\t\t\tif (tb.childNodes.length == 1)\n\t\t\t\tDOM.addClass(ro, 'mceFirst');\n\n\t\t\tif ((n = ro.previousSibling) && DOM.hasClass(n, cp + 'ItemSeparator'))\n\t\t\t\tDOM.addClass(ro, 'mceFirst');\n\n\t\t\tif (o.collapse)\n\t\t\t\tDOM.addClass(ro, cp + 'ItemSub');\n\n\t\t\tif (n = ro.previousSibling)\n\t\t\t\tDOM.removeClass(n, 'mceLast');\n\n\t\t\tDOM.addClass(ro, 'mceLast');\n\t\t}\n\t});\n})(tinymce);","Magento_Tinymce3/tiny_mce/classes/ui/Container.js":"/**\n * Container.js\n *\n * Copyright 2009, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n/**\n * This class is the base class for all container controls like toolbars. This class should not\n * be instantiated directly other container controls should inherit from this one.\n *\n * @class tinymce.ui.Container\n * @extends tinymce.ui.Control\n */\ntinymce.create('tinymce.ui.Container:tinymce.ui.Control', {\n\t/**\n\t * Base contrustor a new container control instance.\n\t *\n\t * @constructor\n\t * @method Container\n\t * @param {String} id Control id to use for the container.\n\t * @param {Object} s Optional name/value settings object.\n\t */\n\tContainer : function(id, s, editor) {\n\t\tthis.parent(id, s, editor);\n\n\t\t/**\n\t\t * Array of controls added to the container.\n\t\t *\n\t\t * @property controls\n\t\t * @type Array\n\t\t */\n\t\tthis.controls = [];\n\n\t\tthis.lookup = {};\n\t},\n\n\t/**\n\t * Adds a control to the collection of controls for the container.\n\t *\n\t * @method add\n\t * @param {tinymce.ui.Control} c Control instance to add to the container.\n\t * @return {tinymce.ui.Control} Same control instance that got passed in.\n\t */\n\tadd : function(c) {\n\t\tthis.lookup[c.id] = c;\n\t\tthis.controls.push(c);\n\n\t\treturn c;\n\t},\n\n\t/**\n\t * Returns a control by id from the containers collection.\n\t *\n\t * @method get\n\t * @param {String} n Id for the control to retrieve.\n\t * @return {tinymce.ui.Control} Control instance by the specified name or undefined if it wasn't found.\n\t */\n\tget : function(n) {\n\t\treturn this.lookup[n];\n\t}\n});\n\n","Magento_Tinymce3/tiny_mce/classes/util/Cookie.js":"/**\n * Cookie.js\n *\n * Copyright 2009, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n(function() {\n\tvar each = tinymce.each;\n\n\t/**\n\t * This class contains simple cookie manangement functions.\n\t *\n\t * @class tinymce.util.Cookie\n\t * @static\n\t * @example\n\t * // Gets a cookie from the browser\n\t * console.debug(tinymce.util.Cookie.get('mycookie'));\n\t *\n\t * // Gets a hash table cookie from the browser and takes out the x parameter from it\n\t * console.debug(tinymce.util.Cookie.getHash('mycookie').x);\n\t *\n\t * // Sets a hash table cookie to the browser\n\t * tinymce.util.Cookie.setHash({x : '1', y : '2'});\n\t */\n\ttinymce.create('static tinymce.util.Cookie', {\n\t\t/**\n\t\t * Parses the specified query string into an name/value object.\n\t\t *\n\t\t * @method getHash\n\t\t * @param {String} n String to parse into a n Hashtable object.\n\t\t * @return {Object} Name/Value object with items parsed from querystring.\n\t\t */\n\t\tgetHash : function(n) {\n\t\t\tvar v = this.get(n), h;\n\n\t\t\tif (v) {\n\t\t\t\teach(v.split('&'), function(v) {\n\t\t\t\t\tv = v.split('=');\n\t\t\t\t\th = h || {};\n\t\t\t\t\th[unescape(v[0])] = unescape(v[1]);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn h;\n\t\t},\n\n\t\t/**\n\t\t * Sets a hashtable name/value object to a cookie.\n\t\t *\n\t\t * @method setHash\n\t\t * @param {String} n Name of the cookie.\n\t\t * @param {Object} v Hashtable object to set as cookie.\n\t\t * @param {Date} e Optional date object for the expiration of the cookie.\n\t\t * @param {String} p Optional path to restrict the cookie to.\n\t\t * @param {String} d Optional domain to restrict the cookie to.\n\t\t * @param {String} s Is the cookie secure or not.\n\t\t */\n\t\tsetHash : function(n, v, e, p, d, s) {\n\t\t\tvar o = '';\n\n\t\t\teach(v, function(v, k) {\n\t\t\t\to += (!o ? '' : '&') + escape(k) + '=' + escape(v);\n\t\t\t});\n\n\t\t\tthis.set(n, o, e, p, d, s);\n\t\t},\n\n\t\t/**\n\t\t * Gets the raw data of a cookie by name.\n\t\t *\n\t\t * @method get\n\t\t * @param {String} n Name of cookie to retrieve.\n\t\t * @return {String} Cookie data string.\n\t\t */\n\t\tget : function(n) {\n\t\t\tvar c = document.cookie, e, p = n + \"=\", b;\n\n\t\t\t// Strict mode\n\t\t\tif (!c)\n\t\t\t\treturn;\n\n\t\t\tb = c.indexOf(\"; \" + p);\n\n\t\t\tif (b == -1) {\n\t\t\t\tb = c.indexOf(p);\n\n\t\t\t\tif (b != 0)\n\t\t\t\t\treturn null;\n\t\t\t} else\n\t\t\t\tb += 2;\n\n\t\t\te = c.indexOf(\";\", b);\n\n\t\t\tif (e == -1)\n\t\t\t\te = c.length;\n\n\t\t\treturn unescape(c.substring(b + p.length, e));\n\t\t},\n\n\t\t/**\n\t\t * Sets a raw cookie string.\n\t\t *\n\t\t * @method set\n\t\t * @param {String} n Name of the cookie.\n\t\t * @param {String} v Raw cookie data.\n\t\t * @param {Date} e Optional date object for the expiration of the cookie.\n\t\t * @param {String} p Optional path to restrict the cookie to.\n\t\t * @param {String} d Optional domain to restrict the cookie to.\n\t\t * @param {String} s Is the cookie secure or not.\n\t\t */\n\t\tset : function(n, v, e, p, d, s) {\n\t\t\tdocument.cookie = n + \"=\" + escape(v) +\n\t\t\t\t((e) ? \"; expires=\" + e.toUTCString() : \"\") +\n\t\t\t\t((p) ? \"; path=\" + escape(p) : \"\") +\n\t\t\t\t((d) ? \"; domain=\" + d : \"\") +\n\t\t\t\t((s) ? \"; secure\" : \"\");\n\t\t},\n\n\t\t/**\n\t\t * Removes/deletes a cookie by name.\n\t\t *\n\t\t * @method remove\n\t\t * @param {String} n Cookie name to remove/delete.\n\t\t * @param {Strong} p Optional path to remove the cookie from.\n\t\t */\n\t\tremove : function(n, p) {\n\t\t\tvar d = new Date();\n\n\t\t\td.setTime(d.getTime() - 1000);\n\n\t\t\tthis.set(n, '', d, p, d);\n\t\t}\n\t});\n})();\n","Magento_Tinymce3/tiny_mce/classes/util/JSON.js":"/**\n * JSON.js\n *\n * Copyright 2009, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n(function() {\n\tfunction serialize(o, quote) {\n\t\tvar i, v, t;\n\n\t\tquote = quote || '\"';\n\n\t\tif (o == null)\n\t\t\treturn 'null';\n\n\t\tt = typeof o;\n\n\t\tif (t == 'string') {\n\t\t\tv = '\\bb\\tt\\nn\\ff\\rr\\\"\"\\'\\'\\\\\\\\';\n\n\t\t\treturn quote + o.replace(/([\\u0080-\\uFFFF\\x00-\\x1f\\\"\\'\\\\])/g, function(a, b) {\n\t\t\t\t// Make sure single quotes never get encoded inside double quotes for JSON compatibility\n\t\t\t\tif (quote === '\"' && a === \"'\")\n\t\t\t\t\treturn a;\n\n\t\t\t\ti = v.indexOf(b);\n\n\t\t\t\tif (i + 1)\n\t\t\t\t\treturn '\\\\' + v.charAt(i + 1);\n\n\t\t\t\ta = b.charCodeAt().toString(16);\n\n\t\t\t\treturn '\\\\u' + '0000'.substring(a.length) + a;\n\t\t\t}) + quote;\n\t\t}\n\n\t\tif (t == 'object') {\n\t\t\tif (o.hasOwnProperty && o instanceof Array) {\n\t\t\t\t\tfor (i=0, v = '['; i<o.length; i++)\n\t\t\t\t\t\tv += (i > 0 ? ',' : '') + serialize(o[i], quote);\n\n\t\t\t\t\treturn v + ']';\n\t\t\t\t}\n\n\t\t\t\tv = '{';\n\n\t\t\t\tfor (i in o) {\n\t\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\t\tv += typeof o[i] != 'function' ? (v.length > 1 ? ',' + quote : quote) + i + quote +':' + serialize(o[i], quote) : '';\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn v + '}';\n\t\t}\n\n\t\treturn '' + o;\n\t};\n\n\t/**\n\t * JSON parser and serializer class.\n\t *\n\t * @class tinymce.util.JSON\n\t * @static\n\t * @example\n\t * // JSON parse a string into an object\n\t * var obj = tinymce.util.JSON.parse(somestring);\n\t * \n\t * // JSON serialize a object into an string\n\t * var str = tinymce.util.JSON.serialize(obj);\n\t */\n\ttinymce.util.JSON = {\n\t\t/**\n\t\t * Serializes the specified object as a JSON string.\n\t\t *\n\t\t * @method serialize\n\t\t * @param {Object} obj Object to serialize as a JSON string.\n\t\t * @param {String} quote Optional quote string defaults to \".\n\t\t * @return {string} JSON string serialized from input.\n\t\t */\n\t\tserialize: serialize,\n\n\t\t/**\n\t\t * Unserializes/parses the specified JSON string into a object.\n\t\t *\n\t\t * @method parse\n\t\t * @param {string} s JSON String to parse into a JavaScript object.\n\t\t * @return {Object} Object from input JSON string or undefined if it failed.\n\t\t */\n\t\tparse: function(s) {\n\t\t\ttry {\n\t\t\t\treturn eval('(' + s + ')');\n\t\t\t} catch (ex) {\n\t\t\t\t// Ignore\n\t\t\t}\n\t\t}\n\n\t\t/**#@-*/\n\t};\n})();\n","Magento_Tinymce3/tiny_mce/classes/util/Dispatcher.js":"/**\n * Dispatcher.js\n *\n * Copyright 2009, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n/**\n * This class is used to dispatch event to observers/listeners.\n * All internal events inside TinyMCE uses this class.\n *\n * @class tinymce.util.Dispatcher\n * @example\n * // Creates a custom event\n * this.onSomething = new tinymce.util.Dispatcher(this);\n * \n * // Dispatch/fire the event\n * this.onSomething.dispatch('some string');\n */\ntinymce.create('tinymce.util.Dispatcher', {\n\tscope : null,\n\tlisteners : null,\n\n\t/**\n\t * Constructs a new event dispatcher object.\n\t *\n\t * @constructor\n\t * @method Dispatcher\n\t * @param {Object} s Optional default execution scope for all observer functions.\n\t */\n\tDispatcher : function(s) {\n\t\tthis.scope = s || this;\n\t\tthis.listeners = [];\n\t},\n\n\t/**\n\t * Add an observer function to be executed when a dispatch call is done.\n\t *\n\t * @method add\n\t * @param {function} cb Callback function to execute when a dispatch event occurs.\n\t * @param {Object} s Optional execution scope, defaults to the one specified in the class constructor.\n\t * @return {function} Returns the same function as the one passed on.\n\t */\n\tadd : function(cb, s) {\n\t\tthis.listeners.push({cb : cb, scope : s || this.scope});\n\n\t\treturn cb;\n\t},\n\n\t/**\n\t * Add an observer function to be executed to the top of the list of observers.\n\t *\n\t * @method addToTop\n\t * @param {function} cb Callback function to execute when a dispatch event occurs.\n\t * @param {Object} s Optional execution scope, defaults to the one specified in the class constructor.\n\t * @return {function} Returns the same function as the one passed on.\n\t */\n\taddToTop : function(cb, s) {\n\t\tthis.listeners.unshift({cb : cb, scope : s || this.scope});\n\n\t\treturn cb;\n\t},\n\n\t/**\n\t * Removes an observer function.\n\t *\n\t * @method remove\n\t * @param {function} cb Observer function to remove.\n\t * @return {function} The same function that got passed in or null if it wasn't found.\n\t */\n\tremove : function(cb) {\n\t\tvar l = this.listeners, o = null;\n\n\t\ttinymce.each(l, function(c, i) {\n\t\t\tif (cb == c.cb) {\n\t\t\t\to = cb;\n\t\t\t\tl.splice(i, 1);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\n\t\treturn o;\n\t},\n\n\t/**\n\t * Dispatches an event to all observers/listeners.\n\t *\n\t * @method dispatch\n\t * @param {Object} .. Any number of arguments to dispatch.\n\t * @return {Object} Last observer functions return value.\n\t */\n\tdispatch : function() {\n\t\tvar s, a = arguments, i, li = this.listeners, c;\n\n\t\t// Needs to be a real loop since the listener count might change while looping\n\t\t// And this is also more efficient\n\t\tfor (i = 0; i<li.length; i++) {\n\t\t\tc = li[i];\n\t\t\ts = c.cb.apply(c.scope, a);\n\n\t\t\tif (s === false)\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn s;\n\t}\n\n\t/**#@-*/\n});\n","Magento_Tinymce3/tiny_mce/classes/util/JSONP.js":"/**\n * JSONP.js\n *\n * Copyright 2009, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\ntinymce.create('static tinymce.util.JSONP', {\n\tcallbacks : {},\n\tcount : 0,\n\n\tsend : function(o) {\n\t\tvar t = this, dom = tinymce.DOM, count = o.count !== undefined ? o.count : t.count, id = 'tinymce_jsonp_' + count;\n\n\t\tt.callbacks[count] = function(json) {\n\t\t\tdom.remove(id);\n\t\t\tdelete t.callbacks[count];\n\n\t\t\to.callback(json);\n\t\t};\n\n\t\tdom.add(dom.doc.body, 'script', {id : id , src : o.url, type : 'text/javascript'});\n\t\tt.count++;\n\t}\n});\n","Magento_Tinymce3/tiny_mce/classes/util/URI.js":"/**\n * URI.js\n *\n * Copyright 2009, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n(function() {\n\tvar each = tinymce.each;\n\n\t/**\n\t * This class handles parsing, modification and serialization of URI/URL strings.\n\t * @class tinymce.util.URI\n\t */\n\ttinymce.create('tinymce.util.URI', {\n\t\t/**\n\t\t * Constucts a new URI instance.\n\t\t *\n\t\t * @constructor\n\t\t * @method URI\n\t\t * @param {String} u URI string to parse.\n\t\t * @param {Object} s Optional settings object.\n\t\t */\n\t\tURI : function(u, s) {\n\t\t\tvar t = this, o, a, b, base_url;\n\n\t\t\t// Trim whitespace\n\t\t\tu = tinymce.trim(u);\n\n\t\t\t// Default settings\n\t\t\ts = t.settings = s || {};\n\n\t\t\t// Strange app protocol that isn't http/https or local anchor\n\t\t\t// For example: mailto,skype,tel etc.\n\t\t\tif (/^([\\w\\-]+):([^\\/]{2})/i.test(u) || /^\\s*#/.test(u)) {\n\t\t\t\tt.source = u;\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// Absolute path with no host, fake host and protocol\n\t\t\tif (u.indexOf('/') === 0 && u.indexOf('//') !== 0)\n\t\t\t\tu = (s.base_uri ? s.base_uri.protocol || 'http' : 'http') + '://mce_host' + u;\n\n\t\t\t// Relative path http:// or protocol relative //path\n\t\t\tif (!/^[\\w-]*:?\\/\\//.test(u)) {\n\t\t\t\tbase_url = s.base_uri ? s.base_uri.path : new tinymce.util.URI(location.href).directory;\n\t\t\t\tu = ((s.base_uri && s.base_uri.protocol) || 'http') + '://mce_host' + t.toAbsPath(base_url, u);\n\t\t\t}\n\n\t\t\t// Parse URL (Credits goes to Steave, http://blog.stevenlevithan.com/archives/parseuri)\n\t\t\tu = u.replace(/@@/g, '(mce_at)'); // Zope 3 workaround, they use @@something\n\t\t\tu = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(u);\n\t\t\teach([\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"], function(v, i) {\n\t\t\t\tvar s = u[i];\n\n\t\t\t\t// Zope 3 workaround, they use @@something\n\t\t\t\tif (s)\n\t\t\t\t\ts = s.replace(/\\(mce_at\\)/g, '@@');\n\n\t\t\t\tt[v] = s;\n\t\t\t});\n\n\t\t\tif (b = s.base_uri) {\n\t\t\t\tif (!t.protocol)\n\t\t\t\t\tt.protocol = b.protocol;\n\n\t\t\t\tif (!t.userInfo)\n\t\t\t\t\tt.userInfo = b.userInfo;\n\n\t\t\t\tif (!t.port && t.host == 'mce_host')\n\t\t\t\t\tt.port = b.port;\n\n\t\t\t\tif (!t.host || t.host == 'mce_host')\n\t\t\t\t\tt.host = b.host;\n\n\t\t\t\tt.source = '';\n\t\t\t}\n\n\t\t\t//t.path = t.path || '/';\n\t\t},\n\n\t\t/**\n\t\t * Sets the internal path part of the URI.\n\t\t *\n\t\t * @method setPath\n\t\t * @param {string} p Path string to set.\n\t\t */\n\t\tsetPath : function(p) {\n\t\t\tvar t = this;\n\n\t\t\tp = /^(.*?)\\/?(\\w+)?$/.exec(p);\n\n\t\t\t// Update path parts\n\t\t\tt.path = p[0];\n\t\t\tt.directory = p[1];\n\t\t\tt.file = p[2];\n\n\t\t\t// Rebuild source\n\t\t\tt.source = '';\n\t\t\tt.getURI();\n\t\t},\n\n\t\t/**\n\t\t * Converts the specified URI into a relative URI based on the current URI instance location.\n\t\t *\n\t\t * @method toRelative\n\t\t * @param {String} u URI to convert into a relative path/URI.\n\t\t * @return {String} Relative URI from the point specified in the current URI instance.\n\t\t * @example\n\t\t * // Converts an absolute URL to an relative URL url will be somedir/somefile.htm\n\t\t * var url = new tinymce.util.URI('http://www.site.com/dir/').toRelative('http://www.site.com/dir/somedir/somefile.htm');\n\t\t */\n\t\ttoRelative : function(u) {\n\t\t\tvar t = this, o;\n\n\t\t\tif (u === \"./\")\n\t\t\t\treturn u;\n\n\t\t\tu = new tinymce.util.URI(u, {base_uri : t});\n\n\t\t\t// Not on same domain/port or protocol\n\t\t\tif ((u.host != 'mce_host' && t.host != u.host && u.host) || t.port != u.port || t.protocol != u.protocol)\n\t\t\t\treturn u.getURI();\n\n\t\t\to = t.toRelPath(t.path, u.path);\n\n\t\t\t// Add query\n\t\t\tif (u.query)\n\t\t\t\to += '?' + u.query;\n\n\t\t\t// Add anchor\n\t\t\tif (u.anchor)\n\t\t\t\to += '#' + u.anchor;\n\n\t\t\treturn o;\n\t\t},\n\t\n\t\t/**\n\t\t * Converts the specified URI into a absolute URI based on the current URI instance location.\n\t\t *\n\t\t * @method toAbsolute\n\t\t * @param {String} u URI to convert into a relative path/URI.\n\t\t * @param {Boolean} nh No host and protocol prefix.\n\t\t * @return {String} Absolute URI from the point specified in the current URI instance.\n\t\t * @example\n\t\t * // Converts an relative URL to an absolute URL url will be http://www.site.com/dir/somedir/somefile.htm\n\t\t * var url = new tinymce.util.URI('http://www.site.com/dir/').toAbsolute('somedir/somefile.htm');\n\t\t */\n\t\ttoAbsolute : function(u, nh) {\n\t\t\tvar u = new tinymce.util.URI(u, {base_uri : this});\n\n\t\t\treturn u.getURI(this.host == u.host && this.protocol == u.protocol ? nh : 0);\n\t\t},\n\n\t\t/**\n\t\t * Converts a absolute path into a relative path.\n\t\t *\n\t\t * @method toRelPath\n\t\t * @param {String} base Base point to convert the path from.\n\t\t * @param {String} path Absolute path to convert into a relative path.\n\t\t */\n\t\ttoRelPath : function(base, path) {\n\t\t\tvar items, bp = 0, out = '', i, l;\n\n\t\t\t// Split the paths\n\t\t\tbase = base.substring(0, base.lastIndexOf('/'));\n\t\t\tbase = base.split('/');\n\t\t\titems = path.split('/');\n\n\t\t\tif (base.length >= items.length) {\n\t\t\t\tfor (i = 0, l = base.length; i < l; i++) {\n\t\t\t\t\tif (i >= items.length || base[i] != items[i]) {\n\t\t\t\t\t\tbp = i + 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (base.length < items.length) {\n\t\t\t\tfor (i = 0, l = items.length; i < l; i++) {\n\t\t\t\t\tif (i >= base.length || base[i] != items[i]) {\n\t\t\t\t\t\tbp = i + 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (bp == 1)\n\t\t\t\treturn path;\n\n\t\t\tfor (i = 0, l = base.length - (bp - 1); i < l; i++)\n\t\t\t\tout += \"../\";\n\n\t\t\tfor (i = bp - 1, l = items.length; i < l; i++) {\n\t\t\t\tif (i != bp - 1)\n\t\t\t\t\tout += \"/\" + items[i];\n\t\t\t\telse\n\t\t\t\t\tout += items[i];\n\t\t\t}\n\n\t\t\treturn out;\n\t\t},\n\n\t\t/**\n\t\t * Converts a relative path into a absolute path.\n\t\t *\n\t\t * @method toAbsPath\n\t\t * @param {String} base Base point to convert the path from.\n\t\t * @param {String} path Relative path to convert into an absolute path.\n\t\t */\n\t\ttoAbsPath : function(base, path) {\n\t\t\tvar i, nb = 0, o = [], tr, outPath;\n\n\t\t\t// Split paths\n\t\t\ttr = /\\/$/.test(path) ? '/' : '';\n\t\t\tbase = base.split('/');\n\t\t\tpath = path.split('/');\n\n\t\t\t// Remove empty chunks\n\t\t\teach(base, function(k) {\n\t\t\t\tif (k)\n\t\t\t\t\to.push(k);\n\t\t\t});\n\n\t\t\tbase = o;\n\n\t\t\t// Merge relURLParts chunks\n\t\t\tfor (i = path.length - 1, o = []; i >= 0; i--) {\n\t\t\t\t// Ignore empty or .\n\t\t\t\tif (path[i].length == 0 || path[i] == \".\")\n\t\t\t\t\tcontinue;\n\n\t\t\t\t// Is parent\n\t\t\t\tif (path[i] == '..') {\n\t\t\t\t\tnb++;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Move up\n\t\t\t\tif (nb > 0) {\n\t\t\t\t\tnb--;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\to.push(path[i]);\n\t\t\t}\n\n\t\t\ti = base.length - nb;\n\n\t\t\t// If /a/b/c or /\n\t\t\tif (i <= 0)\n\t\t\t\toutPath = o.reverse().join('/');\n\t\t\telse\n\t\t\t\toutPath = base.slice(0, i).join('/') + '/' + o.reverse().join('/');\n\n\t\t\t// Add front / if it's needed\n\t\t\tif (outPath.indexOf('/') !== 0)\n\t\t\t\toutPath = '/' + outPath;\n\n\t\t\t// Add traling / if it's needed\n\t\t\tif (tr && outPath.lastIndexOf('/') !== outPath.length - 1)\n\t\t\t\toutPath += tr;\n\n\t\t\treturn outPath;\n\t\t},\n\n\t\t/**\n\t\t * Returns the full URI of the internal structure.\n\t\t *\n\t\t * @method getURI\n\t\t * @param {Boolean} nh Optional no host and protocol part. Defaults to false.\n\t\t */\n\t\tgetURI : function(nh) {\n\t\t\tvar s, t = this;\n\n\t\t\t// Rebuild source\n\t\t\tif (!t.source || nh) {\n\t\t\t\ts = '';\n\n\t\t\t\tif (!nh) {\n\t\t\t\t\tif (t.protocol)\n\t\t\t\t\t\ts += t.protocol + '://';\n\n\t\t\t\t\tif (t.userInfo)\n\t\t\t\t\t\ts += t.userInfo + '@';\n\n\t\t\t\t\tif (t.host)\n\t\t\t\t\t\ts += t.host;\n\n\t\t\t\t\tif (t.port)\n\t\t\t\t\t\ts += ':' + t.port;\n\t\t\t\t}\n\n\t\t\t\tif (t.path)\n\t\t\t\t\ts += t.path;\n\n\t\t\t\tif (t.query)\n\t\t\t\t\ts += '?' + t.query;\n\n\t\t\t\tif (t.anchor)\n\t\t\t\t\ts += '#' + t.anchor;\n\n\t\t\t\tt.source = s;\n\t\t\t}\n\n\t\t\treturn t.source;\n\t\t}\n\t});\n})();\n","Magento_Tinymce3/tiny_mce/classes/util/JSONRequest.js":"/**\n * JSONRequest.js\n *\n * Copyright 2009, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n(function() {\n\tvar extend = tinymce.extend, JSON = tinymce.util.JSON, XHR = tinymce.util.XHR;\n\n\t/**\n\t * This class enables you to use JSON-RPC to call backend methods.\n\t *\n\t * @class tinymce.util.JSONRequest\n\t * @example\n\t * var json = new tinymce.util.JSONRequest({\n\t *     url : 'somebackend.php'\n\t * });\n\t * \n\t * // Send RPC call 1\n\t * json.send({\n\t *     method : 'someMethod1',\n\t *     params : ['a', 'b'],\n\t *     success : function(result) {\n\t *         console.dir(result);\n\t *     }\n\t * });\n\t * \n\t * // Send RPC call 2\n\t * json.send({\n\t *     method : 'someMethod2',\n\t *     params : ['a', 'b'],\n\t *     success : function(result) {\n\t *         console.dir(result);\n\t *     }\n\t * });\n\t */\n\ttinymce.create('tinymce.util.JSONRequest', {\n\t\t/**\n\t\t * Constructs a new JSONRequest instance.\n\t\t *\n\t\t * @constructor\n\t\t * @method JSONRequest\n\t\t * @param {Object} s Optional settings object.\n\t\t */\n\t\tJSONRequest : function(s) {\n\t\t\tthis.settings = extend({\n\t\t\t}, s);\n\t\t\tthis.count = 0;\n\t\t},\n\n\t\t/**\n\t\t * Sends a JSON-RPC call. Consult the Wiki API documentation for more details on what you can pass to this function.\n\t\t *\n\t\t * @method send\n\t\t * @param {Object} o Call object where there are three field id, method and params this object should also contain callbacks etc.\n\t\t */\n\t\tsend : function(o) {\n\t\t\tvar ecb = o.error, scb = o.success;\n\n\t\t\to = extend(this.settings, o);\n\n\t\t\to.success = function(c, x) {\n\t\t\t\tc = JSON.parse(c);\n\n\t\t\t\tif (typeof(c) == 'undefined') {\n\t\t\t\t\tc = {\n\t\t\t\t\t\terror : 'JSON Parse error.'\n\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tif (c.error)\n\t\t\t\t\tecb.call(o.error_scope || o.scope, c.error, x);\n\t\t\t\telse\n\t\t\t\t\tscb.call(o.success_scope || o.scope, c.result);\n\t\t\t};\n\n\t\t\to.error = function(ty, x) {\n\t\t\t\tif (ecb)\n\t\t\t\t\tecb.call(o.error_scope || o.scope, ty, x);\n\t\t\t};\n\n\t\t\to.data = JSON.serialize({\n\t\t\t\tid : o.id || 'c' + (this.count++),\n\t\t\t\tmethod : o.method,\n\t\t\t\tparams : o.params\n\t\t\t});\n\n\t\t\t// JSON content type for Ruby on rails. Bug: #1883287\n\t\t\to.content_type = 'application/json';\n\n\t\t\tXHR.send(o);\n\t\t},\n\n\t\t'static' : {\n\t\t\t/**\n\t\t\t * Simple helper function to send a JSON-RPC request without the need to initialize an object.\n\t\t\t * Consult the Wiki API documentation for more details on what you can pass to this function.\n\t\t\t *\n\t\t\t * @method sendRPC\n\t\t\t * @static\n\t\t\t * @param {Object} o Call object where there are three field id, method and params this object should also contain callbacks etc.\n\t\t\t */\n\t\t\tsendRPC : function(o) {\n\t\t\t\treturn new tinymce.util.JSONRequest().send(o);\n\t\t\t}\n\t\t}\n\t});\n}());","Magento_Tinymce3/tiny_mce/classes/util/Quirks.js":"(function(tinymce) {\n\tvar VK = tinymce.VK, BACKSPACE = VK.BACKSPACE, DELETE = VK.DELETE;\n\n\t/**\n\t * Fixes a WebKit bug when deleting contents using backspace or delete key.\n\t * WebKit will produce a span element if you delete across two block elements.\n\t *\n\t * Example:\n\t * <h1>a</h1><p>|b</p>\n\t *\n\t * Will produce this on backspace:\n\t * <h1>a<span class=\"Apple-style-span\" style=\"<all runtime styles>\">b</span></p>\n\t *\n\t * This fixes the backspace to produce:\n\t * <h1>a|b</p>\n\t *\n\t * See bug: https://bugs.webkit.org/show_bug.cgi?id=45784\n\t *\n\t * This code is a bit of a hack and hopefully it will be fixed soon in WebKit.\n\t */\n\tfunction cleanupStylesWhenDeleting(ed) {\n\t\tvar dom = ed.dom, selection = ed.selection;\n\n\t\ted.onKeyDown.add(function(ed, e) {\n\t\t\tvar rng, blockElm, node, clonedSpan, isDelete;\n\n\t\t\tisDelete = e.keyCode == DELETE;\n\t\t\tif (isDelete || e.keyCode == BACKSPACE) {\n\t\t\t\te.preventDefault();\n\t\t\t\trng = selection.getRng();\n\n\t\t\t\t// Find root block\n\t\t\t\tblockElm = dom.getParent(rng.startContainer, dom.isBlock);\n\n\t\t\t\t// On delete clone the root span of the next block element\n\t\t\t\tif (isDelete)\n\t\t\t\t\tblockElm = dom.getNext(blockElm, dom.isBlock);\n\n\t\t\t\t// Locate root span element and clone it since it would otherwise get merged by the \"apple-style-span\" on delete/backspace\n\t\t\t\tif (blockElm) {\n\t\t\t\t\tnode = blockElm.firstChild;\n\n\t\t\t\t\t// Ignore empty text nodes\n\t\t\t\t\twhile (node && node.nodeType == 3 && node.nodeValue.length == 0)\n\t\t\t\t\t\tnode = node.nextSibling;\n\n\t\t\t\t\tif (node && node.nodeName === 'SPAN') {\n\t\t\t\t\t\tclonedSpan = node.cloneNode(false);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Do the backspace/delete actiopn\n\t\t\t\ted.getDoc().execCommand(isDelete ? 'ForwardDelete' : 'Delete', false, null);\n\n\t\t\t\t// Find all odd apple-style-spans\n\t\t\t\tblockElm = dom.getParent(rng.startContainer, dom.isBlock);\n\t\t\t\ttinymce.each(dom.select('span.Apple-style-span,font.Apple-style-span', blockElm), function(span) {\n\t\t\t\t\tvar bm = selection.getBookmark();\n\n\t\t\t\t\tif (clonedSpan) {\n\t\t\t\t\t\tdom.replace(clonedSpan.cloneNode(false), span, true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdom.remove(span, true);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Restore the selection\n\t\t\t\t\tselection.moveToBookmark(bm);\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * WebKit and IE doesn't empty the editor if you select all contents and hit backspace or delete. This fix will check if the body is empty\n\t * like a <h1></h1> or <p></p> and then forcefully remove all contents.\n\t */\n\tfunction emptyEditorWhenDeleting(ed) {\n\t\ted.onKeyUp.add(function(ed, e) {\n\t\t\tvar keyCode = e.keyCode;\n\n\t\t\tif (keyCode == DELETE || keyCode == BACKSPACE) {\n\t\t\t\tif (ed.dom.isEmpty(ed.getBody())) {\n\t\t\t\t\ted.setContent('', {format : 'raw'});\n\t\t\t\t\ted.nodeChanged();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t};\n\n\t/**\n\t * WebKit on MacOS X has a weird issue where it some times fails to properly convert keypresses to input method keystrokes.\n\t * So a fix where we just get the range and set the range back seems to do the trick.\n\t */\n\tfunction inputMethodFocus(ed) {\n\t\ted.dom.bind(ed.getDoc(), 'focusin', function() {\n\t\t\ted.selection.setRng(ed.selection.getRng());\n\t\t});\n\t};\n\n\t/**\n\t * Backspacing in FireFox/IE from a paragraph into a horizontal rule results in a floating text node because the\n\t * browser just deletes the paragraph - the browser fails to merge the text node with a horizontal rule so it is\n\t * left there. TinyMCE sees a floating text node and wraps it in a paragraph on the key up event (ForceBlocks.js\n\t * addRootBlocks), meaning the action does nothing. With this code, FireFox/IE matche the behaviour of other\n     * browsers\n\t */\n\tfunction removeHrOnBackspace(ed) {\n\t\ted.onKeyDown.add(function(ed, e) {\n\t\t\tif (e.keyCode === BACKSPACE) {\n\t\t\t\tif (ed.selection.isCollapsed() && ed.selection.getRng(true).startOffset === 0) {\n\t\t\t\t\tvar node = ed.selection.getNode();\n\t\t\t\t\tvar previousSibling = node.previousSibling;\n\t\t\t\t\tif (previousSibling && previousSibling.nodeName && previousSibling.nodeName.toLowerCase() === \"hr\") {\n\t\t\t\t\t\ted.dom.remove(previousSibling);\n\t\t\t\t\t\ttinymce.dom.Event.cancel(e);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\t/**\n\t * Firefox 3.x has an issue where the body element won't get proper focus if you click out\n\t * side it's rectangle.\n\t */\n\tfunction focusBody(ed) {\n\t\t// Fix for a focus bug in FF 3.x where the body element\n\t\t// wouldn't get proper focus if the user clicked on the HTML element\n\t\tif (!Range.prototype.getClientRects) { // Detect getClientRects got introduced in FF 4\n\t\t\ted.onMouseDown.add(function(ed, e) {\n\t\t\t\tif (e.target.nodeName === \"HTML\") {\n\t\t\t\t\tvar body = ed.getBody();\n\n\t\t\t\t\t// Blur the body it's focused but not correctly focused\n\t\t\t\t\tbody.blur();\n\n\t\t\t\t\t// Refocus the body after a little while\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\tbody.focus();\n\t\t\t\t\t}, 0);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t};\n\n\t/**\n\t * WebKit has a bug where it isn't possible to select image, hr or anchor elements\n\t * by clicking on them so we need to fake that.\n\t */\n\tfunction selectControlElements(ed) {\n\t\ted.onClick.add(function(ed, e) {\n\t\t\te = e.target;\n\n\t\t\tif (/^(IMG|HR)$/.test(e.nodeName))\n\t\t\t\ted.selection.select(e);\n\n\t\t\tif (e.nodeName == 'A' && ed.dom.hasClass(e, 'mceItemAnchor'))\n\t\t\t\ted.selection.select(e);\n\n\t\t\ted.nodeChanged();\n\t\t});\n\t};\n\n\t/**\n\t * Fire a nodeChanged when the selection is changed on WebKit this fixes selection issues on iOS5. It only fires the nodeChange\n\t * event every 50ms since it would other wise update the UI when you type and it hogs the CPU.\n\t */\n\tfunction selectionChangeNodeChanged(ed) {\n\t\tvar lastRng, selectionTimer;\n\n\t\ted.dom.bind(ed.getDoc(), 'selectionchange', function() {\n\t\t\tif (selectionTimer) {\n\t\t\t\tclearTimeout(selectionTimer);\n\t\t\t\tselectionTimer = 0;\n\t\t\t}\n\n\t\t\tselectionTimer = window.setTimeout(function() {\n\t\t\t\tvar rng = ed.selection.getRng();\n\n\t\t\t\t// Compare the ranges to see if it was a real change or not\n\t\t\t\tif (!lastRng || !tinymce.dom.RangeUtils.compareRanges(rng, lastRng)) {\n\t\t\t\t\ted.nodeChanged();\n\t\t\t\t\tlastRng = rng;\n\t\t\t\t}\n\t\t\t}, 50);\n\t\t});\n\t}\n\n\t/**\n\t * Screen readers on IE needs to have the role application set on the body.\n\t */\n\tfunction ensureBodyHasRoleApplication(ed) {\n\t\tdocument.body.setAttribute(\"role\", \"application\");\n\t}\n\n\ttinymce.create('tinymce.util.Quirks', {\n\t\tQuirks: function(ed) {\n\t\t\t// WebKit\n\t\t\tif (tinymce.isWebKit) {\n\t\t\t\tcleanupStylesWhenDeleting(ed);\n\t\t\t\temptyEditorWhenDeleting(ed);\n\t\t\t\tinputMethodFocus(ed);\n\t\t\t\tselectControlElements(ed);\n\n\t\t\t\t// iOS\n\t\t\t\tif (tinymce.isIDevice) {\n\t\t\t\t\tselectionChangeNodeChanged(ed);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// IE\n\t\t\tif (tinymce.isIE) {\n\t\t\t\tremoveHrOnBackspace(ed);\n\t\t\t\temptyEditorWhenDeleting(ed);\n\t\t\t\tensureBodyHasRoleApplication(ed);\n\t\t\t}\n\n\t\t\t// Gecko\n\t\t\tif (tinymce.isGecko) {\n\t\t\t\tremoveHrOnBackspace(ed);\n\t\t\t\tfocusBody(ed);\n\t\t\t}\n\t\t}\n\t});\n})(tinymce);\n","Magento_Tinymce3/tiny_mce/classes/util/XHR.js":"/**\n * XHR.js\n *\n * Copyright 2009, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n/**\n * This class enables you to send XMLHTTPRequests cross browser.\n * @class tinymce.util.XHR\n * @static\n * @example\n * // Sends a low level Ajax request\n * tinymce.util.XHR.send({\n *    url : 'someurl',\n *    success : function(text) {\n *       console.debug(text);\n *    }\n * });\n */\ntinymce.create('static tinymce.util.XHR', {\n\t/**\n\t * Sends a XMLHTTPRequest.\n\t * Consult the Wiki for details on what settings this method takes.\n\t *\n\t * @method send\n\t * @param {Object} o Object will target URL, callbacks and other info needed to make the request.\n\t */\n\tsend : function(o) {\n\t\tvar x, t, w = window, c = 0;\n\n\t\t// Default settings\n\t\to.scope = o.scope || this;\n\t\to.success_scope = o.success_scope || o.scope;\n\t\to.error_scope = o.error_scope || o.scope;\n\t\to.async = o.async === false ? false : true;\n\t\to.data = o.data || '';\n\n\t\tfunction get(s) {\n\t\t\tx = 0;\n\n\t\t\ttry {\n\t\t\t\tx = new ActiveXObject(s);\n\t\t\t} catch (ex) {\n\t\t\t}\n\n\t\t\treturn x;\n\t\t};\n\n\t\tx = w.XMLHttpRequest ? new XMLHttpRequest() : get('Microsoft.XMLHTTP') || get('Msxml2.XMLHTTP');\n\n\t\tif (x) {\n\t\t\tif (x.overrideMimeType)\n\t\t\t\tx.overrideMimeType(o.content_type);\n\n\t\t\tx.open(o.type || (o.data ? 'POST' : 'GET'), o.url, o.async);\n\n\t\t\tif (o.content_type)\n\t\t\t\tx.setRequestHeader('Content-Type', o.content_type);\n\n\t\t\tx.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n\n\t\t\tx.send(o.data);\n\n\t\t\tfunction ready() {\n\t\t\t\tif (!o.async || x.readyState == 4 || c++ > 10000) {\n\t\t\t\t\tif (o.success && c < 10000 && x.status == 200)\n\t\t\t\t\t\to.success.call(o.success_scope, '' + x.responseText, x, o);\n\t\t\t\t\telse if (o.error)\n\t\t\t\t\t\to.error.call(o.error_scope, c > 10000 ? 'TIMED_OUT' : 'GENERAL', x, o);\n\n\t\t\t\t\tx = null;\n\t\t\t\t} else\n\t\t\t\t\tw.setTimeout(ready, 10);\n\t\t\t};\n\n\t\t\t// Syncronous request\n\t\t\tif (!o.async)\n\t\t\t\treturn ready();\n\n\t\t\t// Wait for response, onReadyStateChange can not be used since it leaks memory in IE\n\t\t\tt = w.setTimeout(ready, 10);\n\t\t}\n\t}\n});\n","Magento_Tinymce3/tiny_mce/classes/util/VK.js":"/**\n * This file exposes a set of the common KeyCodes for use.  Please grow it as needed.\n */\n\n(function(tinymce){\n\ttinymce.VK = {\n\t\tDELETE: 46,\n\t\tBACKSPACE: 8,\n\t\tENTER: 13,\n\t\tTAB: 9,\n        SPACEBAR: 32,\n\t\tUP: 38,\n\t\tDOWN: 40\n\t}\n})(tinymce);\n","Magento_Tinymce3/tiny_mce/classes/html/Node.js":"/**\n * Node.js\n *\n * Copyright 2010, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n(function(tinymce) {\n\tvar whiteSpaceRegExp = /^[ \\t\\r\\n]*$/, typeLookup = {\n\t\t'#text' : 3,\n\t\t'#comment' : 8,\n\t\t'#cdata' : 4,\n\t\t'#pi' : 7,\n\t\t'#doctype' : 10,\n\t\t'#document-fragment' : 11\n\t};\n\n\t// Walks the tree left/right\n\tfunction walk(node, root_node, prev) {\n\t\tvar sibling, parent, startName = prev ? 'lastChild' : 'firstChild', siblingName = prev ? 'prev' : 'next';\n\n\t\t// Walk into nodes if it has a start\n\t\tif (node[startName])\n\t\t\treturn node[startName];\n\n\t\t// Return the sibling if it has one\n\t\tif (node !== root_node) {\n\t\t\tsibling = node[siblingName];\n\n\t\t\tif (sibling)\n\t\t\t\treturn sibling;\n\n\t\t\t// Walk up the parents to look for siblings\n\t\t\tfor (parent = node.parent; parent && parent !== root_node; parent = parent.parent) {\n\t\t\t\tsibling = parent[siblingName];\n\n\t\t\t\tif (sibling)\n\t\t\t\t\treturn sibling;\n\t\t\t}\n\t\t}\n\t};\n\n\t/**\n\t * This class is a minimalistic implementation of a DOM like node used by the DomParser class.\n\t *\n\t * @example\n\t * var node = new tinymce.html.Node('strong', 1);\n\t * someRoot.append(node);\n\t *\n\t * @class tinymce.html.Node\n\t * @version 3.4\n\t */\n\n\t/**\n\t * Constructs a new Node instance.\n\t *\n\t * @constructor\n\t * @method Node\n\t * @param {String} name Name of the node type.\n\t * @param {Number} type Numeric type representing the node.\n\t */\n\tfunction Node(name, type) {\n\t\tthis.name = name;\n\t\tthis.type = type;\n\n\t\tif (type === 1) {\n\t\t\tthis.attributes = [];\n\t\t\tthis.attributes.map = {};\n\t\t}\n\t}\n\n\ttinymce.extend(Node.prototype, {\n\t\t/**\n\t\t * Replaces the current node with the specified one.\n\t\t *\n\t\t * @example\n\t\t * someNode.replace(someNewNode);\n\t\t *\n\t\t * @method replace\n\t\t * @param {tinymce.html.Node} node Node to replace the current node with.\n\t\t * @return {tinymce.html.Node} The old node that got replaced.\n\t\t */\n\t\treplace : function(node) {\n\t\t\tvar self = this;\n\n\t\t\tif (node.parent)\n\t\t\t\tnode.remove();\n\n\t\t\tself.insert(node, self);\n\t\t\tself.remove();\n\n\t\t\treturn self;\n\t\t},\n\n\t\t/**\n\t\t * Gets/sets or removes an attribute by name.\n\t\t *\n\t\t * @example\n\t\t * someNode.attr(\"name\", \"value\"); // Sets an attribute\n\t\t * console.log(someNode.attr(\"name\")); // Gets an attribute\n\t\t * someNode.attr(\"name\", null); // Removes an attribute\n\t\t *\n\t\t * @method attr\n\t\t * @param {String} name Attribute name to set or get.\n\t\t * @param {String} value Optional value to set.\n\t\t * @return {String/tinymce.html.Node} String or undefined on a get operation or the current node on a set operation.\n\t\t */\n\t\tattr : function(name, value) {\n\t\t\tvar self = this, attrs, i, undef;\n\n\t\t\tif (typeof name !== \"string\") {\n\t\t\t\tfor (i in name)\n\t\t\t\t\tself.attr(i, name[i]);\n\n\t\t\t\treturn self;\n\t\t\t}\n\n\t\t\tif (attrs = self.attributes) {\n\t\t\t\tif (value !== undef) {\n\t\t\t\t\t// Remove attribute\n\t\t\t\t\tif (value === null) {\n\t\t\t\t\t\tif (name in attrs.map) {\n\t\t\t\t\t\t\tdelete attrs.map[name];\n\n\t\t\t\t\t\t\ti = attrs.length;\n\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\tif (attrs[i].name === name) {\n\t\t\t\t\t\t\t\t\tattrs = attrs.splice(i, 1);\n\t\t\t\t\t\t\t\t\treturn self;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\treturn self;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Set attribute\n\t\t\t\t\tif (name in attrs.map) {\n\t\t\t\t\t\t// Set attribute\n\t\t\t\t\t\ti = attrs.length;\n\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\tif (attrs[i].name === name) {\n\t\t\t\t\t\t\t\tattrs[i].value = value;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else\n\t\t\t\t\t\tattrs.push({name: name, value: value});\n\n\t\t\t\t\tattrs.map[name] = value;\n\n\t\t\t\t\treturn self;\n\t\t\t\t} else {\n\t\t\t\t\treturn attrs.map[name];\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Does a shallow clones the node into a new node. It will also exclude id attributes since\n\t\t * there should only be one id per document.\n\t\t *\n\t\t * @example\n\t\t * var clonedNode = node.clone();\n\t\t *\n\t\t * @method clone\n\t\t * @return {tinymce.html.Node} New copy of the original node.\n\t\t */\n\t\tclone : function() {\n\t\t\tvar self = this, clone = new Node(self.name, self.type), i, l, selfAttrs, selfAttr, cloneAttrs;\n\n\t\t\t// Clone element attributes\n\t\t\tif (selfAttrs = self.attributes) {\n\t\t\t\tcloneAttrs = [];\n\t\t\t\tcloneAttrs.map = {};\n\n\t\t\t\tfor (i = 0, l = selfAttrs.length; i < l; i++) {\n\t\t\t\t\tselfAttr = selfAttrs[i];\n\n\t\t\t\t\t// Clone everything except id\n\t\t\t\t\tif (selfAttr.name !== 'id') {\n\t\t\t\t\t\tcloneAttrs[cloneAttrs.length] = {name: selfAttr.name, value: selfAttr.value};\n\t\t\t\t\t\tcloneAttrs.map[selfAttr.name] = selfAttr.value;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tclone.attributes = cloneAttrs;\n\t\t\t}\n\n\t\t\tclone.value = self.value;\n\t\t\tclone.shortEnded = self.shortEnded;\n\n\t\t\treturn clone;\n\t\t},\n\n\t\t/**\n\t\t * Wraps the node in in another node.\n\t\t *\n\t\t * @example\n\t\t * node.wrap(wrapperNode);\n\t\t *\n\t\t * @method wrap\n\t\t */\n\t\twrap : function(wrapper) {\n\t\t\tvar self = this;\n\n\t\t\tself.parent.insert(wrapper, self);\n\t\t\twrapper.append(self);\n\n\t\t\treturn self;\n\t\t},\n\n\t\t/**\n\t\t * Unwraps the node in other words it removes the node but keeps the children.\n\t\t *\n\t\t * @example\n\t\t * node.unwrap();\n\t\t *\n\t\t * @method unwrap\n\t\t */\n\t\tunwrap : function() {\n\t\t\tvar self = this, node, next;\n\n\t\t\tfor (node = self.firstChild; node; ) {\n\t\t\t\tnext = node.next;\n\t\t\t\tself.insert(node, self, true);\n\t\t\t\tnode = next;\n\t\t\t}\n\n\t\t\tself.remove();\n\t\t},\n\n\t\t/**\n\t\t * Removes the node from it's parent.\n\t\t *\n\t\t * @example\n\t\t * node.remove();\n\t\t *\n\t\t * @method remove\n\t\t * @return {tinymce.html.Node} Current node that got removed.\n\t\t */\n\t\tremove : function() {\n\t\t\tvar self = this, parent = self.parent, next = self.next, prev = self.prev;\n\n\t\t\tif (parent) {\n\t\t\t\tif (parent.firstChild === self) {\n\t\t\t\t\tparent.firstChild = next;\n\n\t\t\t\t\tif (next)\n\t\t\t\t\t\tnext.prev = null;\n\t\t\t\t} else {\n\t\t\t\t\tprev.next = next;\n\t\t\t\t}\n\n\t\t\t\tif (parent.lastChild === self) {\n\t\t\t\t\tparent.lastChild = prev;\n\n\t\t\t\t\tif (prev)\n\t\t\t\t\t\tprev.next = null;\n\t\t\t\t} else {\n\t\t\t\t\tnext.prev = prev;\n\t\t\t\t}\n\n\t\t\t\tself.parent = self.next = self.prev = null;\n\t\t\t}\n\n\t\t\treturn self;\n\t\t},\n\n\t\t/**\n\t\t * Appends a new node as a child of the current node.\n\t\t *\n\t\t * @example\n\t\t * node.append(someNode);\n\t\t *\n\t\t * @method append\n\t\t * @param {tinymce.html.Node} node Node to append as a child of the current one.\n\t\t * @return {tinymce.html.Node} The node that got appended.\n\t\t */\n\t\tappend : function(node) {\n\t\t\tvar self = this, last;\n\n\t\t\tif (node.parent)\n\t\t\t\tnode.remove();\n\n\t\t\tlast = self.lastChild;\n\t\t\tif (last) {\n\t\t\t\tlast.next = node;\n\t\t\t\tnode.prev = last;\n\t\t\t\tself.lastChild = node;\n\t\t\t} else\n\t\t\t\tself.lastChild = self.firstChild = node;\n\n\t\t\tnode.parent = self;\n\n\t\t\treturn node;\n\t\t},\n\n\t\t/**\n\t\t * Inserts a node at a specific position as a child of the current node.\n\t\t *\n\t\t * @example\n\t\t * parentNode.insert(newChildNode, oldChildNode);\n\t\t *\n\t\t * @method insert\n\t\t * @param {tinymce.html.Node} node Node to insert as a child of the current node.\n\t\t * @param {tinymce.html.Node} ref_node Reference node to set node before/after.\n\t\t * @param {Boolean} before Optional state to insert the node before the reference node.\n\t\t * @return {tinymce.html.Node} The node that got inserted.\n\t\t */\n\t\tinsert : function(node, ref_node, before) {\n\t\t\tvar parent;\n\n\t\t\tif (node.parent)\n\t\t\t\tnode.remove();\n\n\t\t\tparent = ref_node.parent || this;\n\n\t\t\tif (before) {\n\t\t\t\tif (ref_node === parent.firstChild)\n\t\t\t\t\tparent.firstChild = node;\n\t\t\t\telse\n\t\t\t\t\tref_node.prev.next = node;\n\n\t\t\t\tnode.prev = ref_node.prev;\n\t\t\t\tnode.next = ref_node;\n\t\t\t\tref_node.prev = node;\n\t\t\t} else {\n\t\t\t\tif (ref_node === parent.lastChild)\n\t\t\t\t\tparent.lastChild = node;\n\t\t\t\telse\n\t\t\t\t\tref_node.next.prev = node;\n\n\t\t\t\tnode.next = ref_node.next;\n\t\t\t\tnode.prev = ref_node;\n\t\t\t\tref_node.next = node;\n\t\t\t}\n\n\t\t\tnode.parent = parent;\n\n\t\t\treturn node;\n\t\t},\n\n\t\t/**\n\t\t * Get all children by name.\n\t\t *\n\t\t * @method getAll\n\t\t * @param {String} name Name of the child nodes to collect.\n\t\t * @return {Array} Array with child nodes matchin the specified name.\n\t\t */\n\t\tgetAll : function(name) {\n\t\t\tvar self = this, node, collection = [];\n\n\t\t\tfor (node = self.firstChild; node; node = walk(node, self)) {\n\t\t\t\tif (node.name === name)\n\t\t\t\t\tcollection.push(node);\n\t\t\t}\n\n\t\t\treturn collection;\n\t\t},\n\n\t\t/**\n\t\t * Removes all children of the current node.\n\t\t *\n\t\t * @method empty\n\t\t * @return {tinymce.html.Node} The current node that got cleared.\n\t\t */\n\t\tempty : function() {\n\t\t\tvar self = this, nodes, i, node;\n\n\t\t\t// Remove all children\n\t\t\tif (self.firstChild) {\n\t\t\t\tnodes = [];\n\n\t\t\t\t// Collect the children\n\t\t\t\tfor (node = self.firstChild; node; node = walk(node, self))\n\t\t\t\t\tnodes.push(node);\n\n\t\t\t\t// Remove the children\n\t\t\t\ti = nodes.length;\n\t\t\t\twhile (i--) {\n\t\t\t\t\tnode = nodes[i];\n\t\t\t\t\tnode.parent = node.firstChild = node.lastChild = node.next = node.prev = null;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tself.firstChild = self.lastChild = null;\n\n\t\t\treturn self;\n\t\t},\n\n\t\t/**\n\t\t * Returns true/false if the node is to be considered empty or not.\n\t\t *\n\t\t * @example\n\t\t * node.isEmpty({img : true});\n\t\t * @method isEmpty\n\t\t * @param {Object} elements Name/value object with elements that are automatically treated as non empty elements.\n\t\t * @return {Boolean} true/false if the node is empty or not.\n\t\t */\n\t\tisEmpty : function(elements) {\n\t\t\tvar self = this, node = self.firstChild, i, name;\n\n\t\t\tif (node) {\n\t\t\t\tdo {\n\t\t\t\t\tif (node.type === 1) {\n\t\t\t\t\t\t// Ignore bogus elements\n\t\t\t\t\t\tif (node.attributes.map['data-mce-bogus'])\n\t\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\t\t// Keep empty elements like <img />\n\t\t\t\t\t\tif (elements[node.name])\n\t\t\t\t\t\t\treturn false;\n\n\t\t\t\t\t\t// Keep elements with data attributes or name attribute like <a name=\"1\"></a>\n\t\t\t\t\t\ti = node.attributes.length;\n\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\tname = node.attributes[i].name;\n\t\t\t\t\t\t\tif (name === \"name\" || name.indexOf('data-') === 0)\n\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t// Keep non whitespace text nodes\n\t\t\t\t\tif ((node.type === 3 && !whiteSpaceRegExp.test(node.value)))\n\t\t\t\t\t\treturn false;\n\t\t\t\t} while (node = walk(node, self));\n\t\t\t}\n\n\t\t\treturn true;\n\t\t},\n\n\t\t/**\n\t\t * Walks to the next or previous node and returns that node or null if it wasn't found.\n\t\t *\n\t\t * @method walk\n\t\t * @param {Boolean} prev Optional previous node state defaults to false.\n\t\t * @return {tinymce.html.Node} Node that is next to or previous of the current node.\n\t\t */\n\t\twalk : function(prev) {\n\t\t\treturn walk(this, null, prev);\n\t\t}\n\t});\n\n\ttinymce.extend(Node, {\n\t\t/**\n\t\t * Creates a node of a specific type.\n\t\t *\n\t\t * @static\n\t\t * @method create\n\t\t * @param {String} name Name of the node type to create for example \"b\" or \"#text\".\n\t\t * @param {Object} attrs Name/value collection of attributes that will be applied to elements.\n\t\t */\n\t\tcreate : function(name, attrs) {\n\t\t\tvar node, attrName;\n\n\t\t\t// Create node\n\t\t\tnode = new Node(name, typeLookup[name] || 1);\n\n\t\t\t// Add attributes if needed\n\t\t\tif (attrs) {\n\t\t\t\tfor (attrName in attrs)\n\t\t\t\t\tnode.attr(attrName, attrs[attrName]);\n\t\t\t}\n\n\t\t\treturn node;\n\t\t}\n\t});\n\n\ttinymce.html.Node = Node;\n})(tinymce);\n","Magento_Tinymce3/tiny_mce/classes/html/Serializer.js":"/**\n * Serializer.js\n *\n * Copyright 2010, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n(function(tinymce) {\n\t/**\n\t * This class is used to serialize down the DOM tree into a string using a Writer instance.\n\t *\n\t *\n\t * @example\n\t * new tinymce.html.Serializer().serialize(new tinymce.html.DomParser().parse('<p>text</p>'));\n\t * @class tinymce.html.Serializer\n\t * @version 3.4\n\t */\n\n\t/**\n\t * Constructs a new Serializer instance.\n\t *\n\t * @constructor\n\t * @method Serializer\n\t * @param {Object} settings Name/value settings object.\n\t * @param {tinymce.html.Schema} schema Schema instance to use.\n\t */\n\ttinymce.html.Serializer = function(settings, schema) {\n\t\tvar self = this, writer = new tinymce.html.Writer(settings);\n\n\t\tsettings = settings || {};\n\t\tsettings.validate = \"validate\" in settings ? settings.validate : true;\n\n\t\tself.schema = schema = schema || new tinymce.html.Schema();\n\t\tself.writer = writer;\n\n\t\t/**\n\t\t * Serializes the specified node into a string.\n\t\t *\n\t\t * @example\n\t\t * new tinymce.html.Serializer().serialize(new tinymce.html.DomParser().parse('<p>text</p>'));\n\t\t * @method serialize\n\t\t * @param {tinymce.html.Node} node Node instance to serialize.\n\t\t * @return {String} String with HTML based on DOM tree.\n\t\t */\n\t\tself.serialize = function(node) {\n\t\t\tvar handlers, validate;\n\n\t\t\tvalidate = settings.validate;\n\n\t\t\thandlers = {\n\t\t\t\t// #text\n\t\t\t\t3: function(node, raw) {\n\t\t\t\t\twriter.text(node.value, node.raw);\n\t\t\t\t},\n\n\t\t\t\t// #comment\n\t\t\t\t8: function(node) {\n\t\t\t\t\twriter.comment(node.value);\n\t\t\t\t},\n\n\t\t\t\t// Processing instruction\n\t\t\t\t7: function(node) {\n\t\t\t\t\twriter.pi(node.name, node.value);\n\t\t\t\t},\n\n\t\t\t\t// Doctype\n\t\t\t\t10: function(node) {\n\t\t\t\t\twriter.doctype(node.value);\n\t\t\t\t},\n\n\t\t\t\t// CDATA\n\t\t\t\t4: function(node) {\n\t\t\t\t\twriter.cdata(node.value);\n\t\t\t\t},\n\n \t\t\t\t// Document fragment\n\t\t\t\t11: function(node) {\n\t\t\t\t\tif ((node = node.firstChild)) {\n\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\twalk(node);\n\t\t\t\t\t\t} while (node = node.next);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\twriter.reset();\n\n\t\t\tfunction walk(node) {\n\t\t\t\tvar handler = handlers[node.type], name, isEmpty, attrs, attrName, attrValue, sortedAttrs, i, l, elementRule;\n\n\t\t\t\tif (!handler) {\n\t\t\t\t\tname = node.name;\n\t\t\t\t\tisEmpty = node.shortEnded;\n\t\t\t\t\tattrs = node.attributes;\n\n\t\t\t\t\t// Sort attributes\n\t\t\t\t\tif (validate && attrs && attrs.length > 1) {\n\t\t\t\t\t\tsortedAttrs = [];\n\t\t\t\t\t\tsortedAttrs.map = {};\n\n\t\t\t\t\t\telementRule = schema.getElementRule(node.name);\n\t\t\t\t\t\tfor (i = 0, l = elementRule.attributesOrder.length; i < l; i++) {\n\t\t\t\t\t\t\tattrName = elementRule.attributesOrder[i];\n\n\t\t\t\t\t\t\tif (attrName in attrs.map) {\n\t\t\t\t\t\t\t\tattrValue = attrs.map[attrName];\n\t\t\t\t\t\t\t\tsortedAttrs.map[attrName] = attrValue;\n\t\t\t\t\t\t\t\tsortedAttrs.push({name: attrName, value: attrValue});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (i = 0, l = attrs.length; i < l; i++) {\n\t\t\t\t\t\t\tattrName = attrs[i].name;\n\n\t\t\t\t\t\t\tif (!(attrName in sortedAttrs.map)) {\n\t\t\t\t\t\t\t\tattrValue = attrs.map[attrName];\n\t\t\t\t\t\t\t\tsortedAttrs.map[attrName] = attrValue;\n\t\t\t\t\t\t\t\tsortedAttrs.push({name: attrName, value: attrValue});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tattrs = sortedAttrs;\n\t\t\t\t\t}\n\n\t\t\t\t\twriter.start(node.name, attrs, isEmpty);\n\n\t\t\t\t\tif (!isEmpty) {\n\t\t\t\t\t\tif ((node = node.firstChild)) {\n\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\twalk(node);\n\t\t\t\t\t\t\t} while (node = node.next);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\twriter.end(name);\n\t\t\t\t\t}\n\t\t\t\t} else\n\t\t\t\t\thandler(node);\n\t\t\t}\n\n\t\t\t// Serialize element and treat all non elements as fragments\n\t\t\tif (node.type == 1 && !settings.inner)\n\t\t\t\twalk(node);\n\t\t\telse\n\t\t\t\thandlers[11](node);\n\n\t\t\treturn writer.getContent();\n\t\t};\n\t}\n})(tinymce);\n","Magento_Tinymce3/tiny_mce/classes/html/Schema.js":"/**\n * Schema.js\n *\n * Copyright 2010, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n(function(tinymce) {\n\tvar transitional = {}, boolAttrMap, blockElementsMap, shortEndedElementsMap, nonEmptyElementsMap, customElementsMap = {},\n\t\tdefaultWhiteSpaceElementsMap, selfClosingElementsMap, makeMap = tinymce.makeMap, each = tinymce.each;\n\n\tfunction split(str, delim) {\n\t\treturn str.split(delim || ',');\n\t};\n\n\t/**\n\t * Unpacks the specified lookup and string data it will also parse it into an object\n\t * map with sub object for it's children. This will later also include the attributes.\n\t */\n\tfunction unpack(lookup, data) {\n\t\tvar key, elements = {};\n\n\t\tfunction replace(value) {\n\t\t\treturn value.replace(/[A-Z]+/g, function(key) {\n\t\t\t\treturn replace(lookup[key]);\n\t\t\t});\n\t\t};\n\n\t\t// Unpack lookup\n\t\tfor (key in lookup) {\n\t\t\tif (lookup.hasOwnProperty(key))\n\t\t\t\tlookup[key] = replace(lookup[key]);\n\t\t}\n\n\t\t// Unpack and parse data into object map\n\t\treplace(data).replace(/#/g, '#text').replace(/(\\w+)\\[([^\\]]+)\\]\\[([^\\]]*)\\]/g, function(str, name, attributes, children) {\n\t\t\tattributes = split(attributes, '|');\n\n\t\t\telements[name] = {\n\t\t\t\tattributes : makeMap(attributes),\n\t\t\t\tattributesOrder : attributes,\n\t\t\t\tchildren : makeMap(children, '|', {'#comment' : {}})\n\t\t\t}\n\t\t});\n\n\t\treturn elements;\n\t};\n\n\t// Build a lookup table for block elements both lowercase and uppercase\n\tblockElementsMap = 'h1,h2,h3,h4,h5,h6,hr,p,div,address,pre,form,table,tbody,thead,tfoot,' + \n\t\t\t\t\t\t'th,tr,td,li,ol,ul,caption,blockquote,center,dl,dt,dd,dir,fieldset,' + \n\t\t\t\t\t\t'noscript,menu,isindex,samp,header,footer,article,section,hgroup';\n\tblockElementsMap = makeMap(blockElementsMap, ',', makeMap(blockElementsMap.toUpperCase()));\n\n\t// This is the XHTML 1.0 transitional elements with it's attributes and children packed to reduce it's size\n\ttransitional = unpack({\n\t\tZ : 'H|K|N|O|P',\n\t\tY : 'X|form|R|Q',\n\t\tZG : 'E|span|width|align|char|charoff|valign',\n\t\tX : 'p|T|div|U|W|isindex|fieldset|table',\n\t\tZF : 'E|align|char|charoff|valign',\n\t\tW : 'pre|hr|blockquote|address|center|noframes',\n\t\tZE : 'abbr|axis|headers|scope|rowspan|colspan|align|char|charoff|valign|nowrap|bgcolor|width|height',\n\t\tZD : '[E][S]',\n\t\tU : 'ul|ol|dl|menu|dir',\n\t\tZC : 'p|Y|div|U|W|table|br|span|bdo|object|applet|img|map|K|N|Q',\n\t\tT : 'h1|h2|h3|h4|h5|h6',\n\t\tZB : 'X|S|Q',\n\t\tS : 'R|P',\n\t\tZA : 'a|G|J|M|O|P',\n\t\tR : 'a|H|K|N|O',\n\t\tQ : 'noscript|P',\n\t\tP : 'ins|del|script',\n\t\tO : 'input|select|textarea|label|button',\n\t\tN : 'M|L',\n\t\tM : 'em|strong|dfn|code|q|samp|kbd|var|cite|abbr|acronym',\n\t\tL : 'sub|sup',\n\t\tK : 'J|I',\n\t\tJ : 'tt|i|b|u|s|strike',\n\t\tI : 'big|small|font|basefont',\n\t\tH : 'G|F',\n\t\tG : 'br|span|bdo',\n\t\tF : 'object|applet|img|map|iframe',\n\t\tE : 'A|B|C',\n\t\tD : 'accesskey|tabindex|onfocus|onblur',\n\t\tC : 'onclick|ondblclick|onmousedown|onmouseup|onmouseover|onmousemove|onmouseout|onkeypress|onkeydown|onkeyup',\n\t\tB : 'lang|xml:lang|dir',\n\t\tA : 'id|class|style|title'\n\t}, 'script[id|charset|type|language|src|defer|xml:space][]' + \n\t\t'style[B|id|type|media|title|xml:space][]' + \n\t\t'object[E|declare|classid|codebase|data|type|codetype|archive|standby|width|height|usemap|name|tabindex|align|border|hspace|vspace][#|param|Y]' + \n\t\t'param[id|name|value|valuetype|type][]' + \n\t\t'p[E|align][#|S]' + \n\t\t'a[E|D|charset|type|name|href|hreflang|rel|rev|shape|coords|target][#|Z]' + \n\t\t'br[A|clear][]' + \n\t\t'span[E][#|S]' + \n\t\t'bdo[A|C|B][#|S]' + \n\t\t'applet[A|codebase|archive|code|object|alt|name|width|height|align|hspace|vspace][#|param|Y]' + \n\t\t'h1[E|align][#|S]' + \n\t\t'img[E|src|alt|name|longdesc|width|height|usemap|ismap|align|border|hspace|vspace][]' + \n\t\t'map[B|C|A|name][X|form|Q|area]' + \n\t\t'h2[E|align][#|S]' + \n\t\t'iframe[A|longdesc|name|src|frameborder|marginwidth|marginheight|scrolling|align|width|height][#|Y]' + \n\t\t'h3[E|align][#|S]' + \n\t\t'tt[E][#|S]' + \n\t\t'i[E][#|S]' + \n\t\t'b[E][#|S]' + \n\t\t'u[E][#|S]' + \n\t\t's[E][#|S]' + \n\t\t'strike[E][#|S]' + \n\t\t'big[E][#|S]' + \n\t\t'small[E][#|S]' + \n\t\t'font[A|B|size|color|face][#|S]' + \n\t\t'basefont[id|size|color|face][]' + \n\t\t'em[E][#|S]' + \n\t\t'strong[E][#|S]' + \n\t\t'dfn[E][#|S]' + \n\t\t'code[E][#|S]' + \n\t\t'q[E|cite][#|S]' + \n\t\t'samp[E][#|S]' + \n\t\t'kbd[E][#|S]' + \n\t\t'var[E][#|S]' + \n\t\t'cite[E][#|S]' + \n\t\t'abbr[E][#|S]' + \n\t\t'acronym[E][#|S]' + \n\t\t'sub[E][#|S]' + \n\t\t'sup[E][#|S]' + \n\t\t'input[E|D|type|name|value|checked|disabled|readonly|size|maxlength|src|alt|usemap|onselect|onchange|accept|align][]' + \n\t\t'select[E|name|size|multiple|disabled|tabindex|onfocus|onblur|onchange][optgroup|option]' + \n\t\t'optgroup[E|disabled|label][option]' + \n\t\t'option[E|selected|disabled|label|value][]' + \n\t\t'textarea[E|D|name|rows|cols|disabled|readonly|onselect|onchange][]' + \n\t\t'label[E|for|accesskey|onfocus|onblur][#|S]' + \n\t\t'button[E|D|name|value|type|disabled][#|p|T|div|U|W|table|G|object|applet|img|map|K|N|Q]' + \n\t\t'h4[E|align][#|S]' + \n\t\t'ins[E|cite|datetime][#|Y]' + \n\t\t'h5[E|align][#|S]' + \n\t\t'del[E|cite|datetime][#|Y]' + \n\t\t'h6[E|align][#|S]' + \n\t\t'div[E|align][#|Y]' + \n\t\t'ul[E|type|compact][li]' + \n\t\t'li[E|type|value][#|Y]' + \n\t\t'ol[E|type|compact|start][li]' + \n\t\t'dl[E|compact][dt|dd]' + \n\t\t'dt[E][#|S]' + \n\t\t'dd[E][#|Y]' + \n\t\t'menu[E|compact][li]' + \n\t\t'dir[E|compact][li]' + \n\t\t'pre[E|width|xml:space][#|ZA]' + \n\t\t'hr[E|align|noshade|size|width][]' + \n\t\t'blockquote[E|cite][#|Y]' + \n\t\t'address[E][#|S|p]' + \n\t\t'center[E][#|Y]' + \n\t\t'noframes[E][#|Y]' + \n\t\t'isindex[A|B|prompt][]' + \n\t\t'fieldset[E][#|legend|Y]' + \n\t\t'legend[E|accesskey|align][#|S]' + \n\t\t'table[E|summary|width|border|frame|rules|cellspacing|cellpadding|align|bgcolor][caption|col|colgroup|thead|tfoot|tbody|tr]' + \n\t\t'caption[E|align][#|S]' + \n\t\t'col[ZG][]' + \n\t\t'colgroup[ZG][col]' + \n\t\t'thead[ZF][tr]' + \n\t\t'tr[ZF|bgcolor][th|td]' + \n\t\t'th[E|ZE][#|Y]' + \n\t\t'form[E|action|method|name|enctype|onsubmit|onreset|accept|accept-charset|target][#|X|R|Q]' + \n\t\t'noscript[E][#|Y]' + \n\t\t'td[E|ZE][#|Y]' + \n\t\t'tfoot[ZF][tr]' + \n\t\t'tbody[ZF][tr]' + \n\t\t'area[E|D|shape|coords|href|nohref|alt|target][]' + \n\t\t'base[id|href|target][]' + \n\t\t'body[E|onload|onunload|background|bgcolor|text|link|vlink|alink][#|Y]'\n\t);\n\n\tboolAttrMap = makeMap('checked,compact,declare,defer,disabled,ismap,multiple,nohref,noresize,noshade,nowrap,readonly,selected,autoplay,loop,controls');\n\tshortEndedElementsMap = makeMap('area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,source');\n\tnonEmptyElementsMap = tinymce.extend(makeMap('td,th,iframe,video,audio,object'), shortEndedElementsMap);\n\tdefaultWhiteSpaceElementsMap = makeMap('pre,script,style,textarea');\n\tselfClosingElementsMap = makeMap('colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr');\n\n\t/**\n\t * Schema validator class.\n\t *\n\t * @class tinymce.html.Schema\n\t * @example\n\t *  if (tinymce.activeEditor.schema.isValidChild('p', 'span'))\n\t *    alert('span is valid child of p.');\n\t *\n\t *  if (tinymce.activeEditor.schema.getElementRule('p'))\n\t *    alert('P is a valid element.');\n\t *\n\t * @class tinymce.html.Schema\n\t * @version 3.4\n\t */\n\n\t/**\n\t * Constructs a new Schema instance.\n\t *\n\t * @constructor\n\t * @method Schema\n\t * @param {Object} settings Name/value settings object.\n\t */\n\ttinymce.html.Schema = function(settings) {\n\t\tvar self = this, elements = {}, children = {}, patternElements = [], validStyles, whiteSpaceElementsMap;\n\n\t\tsettings = settings || {};\n\n\t\t// Allow all elements and attributes if verify_html is set to false\n\t\tif (settings.verify_html === false)\n\t\t\tsettings.valid_elements = '*[*]';\n\n\t\t// Build styles list\n\t\tif (settings.valid_styles) {\n\t\t\tvalidStyles = {};\n\n\t\t\t// Convert styles into a rule list\n\t\t\teach(settings.valid_styles, function(value, key) {\n\t\t\t\tvalidStyles[key] = tinymce.explode(value);\n\t\t\t});\n\t\t}\n\n\t\twhiteSpaceElementsMap = settings.whitespace_elements ? makeMap(settings.whitespace_elements) : defaultWhiteSpaceElementsMap;\n\n\t\t// Converts a wildcard expression string to a regexp for example *a will become /.*a/.\n\t\tfunction patternToRegExp(str) {\n\t\t\treturn new RegExp('^' + str.replace(/([?+*])/g, '.$1') + '$');\n\t\t};\n\n\t\t// Parses the specified valid_elements string and adds to the current rules\n\t\t// This function is a bit hard to read since it's heavily optimized for speed\n\t\tfunction addValidElements(valid_elements) {\n\t\t\tvar ei, el, ai, al, yl, matches, element, attr, attrData, elementName, attrName, attrType, attributes, attributesOrder,\n\t\t\t\tprefix, outputName, globalAttributes, globalAttributesOrder, transElement, key, childKey, value,\n\t\t\t\telementRuleRegExp = /^([#+-])?([^\\[\\/]+)(?:\\/([^\\[]+))?(?:\\[([^\\]]+)\\])?$/,\n\t\t\t\tattrRuleRegExp = /^([!\\-])?(\\w+::\\w+|[^=:<]+)?(?:([=:<])(.*))?$/,\n\t\t\t\thasPatternsRegExp = /[*?+]/;\n\n\t\t\tif (valid_elements) {\n\t\t\t\t// Split valid elements into an array with rules\n\t\t\t\tvalid_elements = split(valid_elements);\n\n\t\t\t\tif (elements['@']) {\n\t\t\t\t\tglobalAttributes = elements['@'].attributes;\n\t\t\t\t\tglobalAttributesOrder = elements['@'].attributesOrder;\n\t\t\t\t}\n\n\t\t\t\t// Loop all rules\n\t\t\t\tfor (ei = 0, el = valid_elements.length; ei < el; ei++) {\n\t\t\t\t\t// Parse element rule\n\t\t\t\t\tmatches = elementRuleRegExp.exec(valid_elements[ei]);\n\t\t\t\t\tif (matches) {\n\t\t\t\t\t\t// Setup local names for matches\n\t\t\t\t\t\tprefix = matches[1];\n\t\t\t\t\t\telementName = matches[2];\n\t\t\t\t\t\toutputName = matches[3];\n\t\t\t\t\t\tattrData = matches[4];\n\n\t\t\t\t\t\t// Create new attributes and attributesOrder\n\t\t\t\t\t\tattributes = {};\n\t\t\t\t\t\tattributesOrder = [];\n\n\t\t\t\t\t\t// Create the new element\n\t\t\t\t\t\telement = {\n\t\t\t\t\t\t\tattributes : attributes,\n\t\t\t\t\t\t\tattributesOrder : attributesOrder\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\t// Padd empty elements prefix\n\t\t\t\t\t\tif (prefix === '#')\n\t\t\t\t\t\t\telement.paddEmpty = true;\n\n\t\t\t\t\t\t// Remove empty elements prefix\n\t\t\t\t\t\tif (prefix === '-')\n\t\t\t\t\t\t\telement.removeEmpty = true;\n\n\t\t\t\t\t\t// Copy attributes from global rule into current rule\n\t\t\t\t\t\tif (globalAttributes) {\n\t\t\t\t\t\t\tfor (key in globalAttributes)\n\t\t\t\t\t\t\t\tattributes[key] = globalAttributes[key];\n\n\t\t\t\t\t\t\tattributesOrder.push.apply(attributesOrder, globalAttributesOrder);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Attributes defined\n\t\t\t\t\t\tif (attrData) {\n\t\t\t\t\t\t\tattrData = split(attrData, '|');\n\t\t\t\t\t\t\tfor (ai = 0, al = attrData.length; ai < al; ai++) {\n\t\t\t\t\t\t\t\tmatches = attrRuleRegExp.exec(attrData[ai]);\n\t\t\t\t\t\t\t\tif (matches) {\n\t\t\t\t\t\t\t\t\tattr = {};\n\t\t\t\t\t\t\t\t\tattrType = matches[1];\n\t\t\t\t\t\t\t\t\tattrName = matches[2].replace(/::/g, ':');\n\t\t\t\t\t\t\t\t\tprefix = matches[3];\n\t\t\t\t\t\t\t\t\tvalue = matches[4];\n\n\t\t\t\t\t\t\t\t\t// Required\n\t\t\t\t\t\t\t\t\tif (attrType === '!') {\n\t\t\t\t\t\t\t\t\t\telement.attributesRequired = element.attributesRequired || [];\n\t\t\t\t\t\t\t\t\t\telement.attributesRequired.push(attrName);\n\t\t\t\t\t\t\t\t\t\tattr.required = true;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Denied from global\n\t\t\t\t\t\t\t\t\tif (attrType === '-') {\n\t\t\t\t\t\t\t\t\t\tdelete attributes[attrName];\n\t\t\t\t\t\t\t\t\t\tattributesOrder.splice(tinymce.inArray(attributesOrder, attrName), 1);\n\t\t\t\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Default value\n\t\t\t\t\t\t\t\t\tif (prefix) {\n\t\t\t\t\t\t\t\t\t\t// Default value\n\t\t\t\t\t\t\t\t\t\tif (prefix === '=') {\n\t\t\t\t\t\t\t\t\t\t\telement.attributesDefault = element.attributesDefault || [];\n\t\t\t\t\t\t\t\t\t\t\telement.attributesDefault.push({name: attrName, value: value});\n\t\t\t\t\t\t\t\t\t\t\tattr.defaultValue = value;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Forced value\n\t\t\t\t\t\t\t\t\t\tif (prefix === ':') {\n\t\t\t\t\t\t\t\t\t\t\telement.attributesForced = element.attributesForced || [];\n\t\t\t\t\t\t\t\t\t\t\telement.attributesForced.push({name: attrName, value: value});\n\t\t\t\t\t\t\t\t\t\t\tattr.forcedValue = value;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// Required values\n\t\t\t\t\t\t\t\t\t\tif (prefix === '<')\n\t\t\t\t\t\t\t\t\t\t\tattr.validValues = makeMap(value, '?');\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// Check for attribute patterns\n\t\t\t\t\t\t\t\t\tif (hasPatternsRegExp.test(attrName)) {\n\t\t\t\t\t\t\t\t\t\telement.attributePatterns = element.attributePatterns || [];\n\t\t\t\t\t\t\t\t\t\tattr.pattern = patternToRegExp(attrName);\n\t\t\t\t\t\t\t\t\t\telement.attributePatterns.push(attr);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t// Add attribute to order list if it doesn't already exist\n\t\t\t\t\t\t\t\t\t\tif (!attributes[attrName])\n\t\t\t\t\t\t\t\t\t\t\tattributesOrder.push(attrName);\n\n\t\t\t\t\t\t\t\t\t\tattributes[attrName] = attr;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Global rule, store away these for later usage\n\t\t\t\t\t\tif (!globalAttributes && elementName == '@') {\n\t\t\t\t\t\t\tglobalAttributes = attributes;\n\t\t\t\t\t\t\tglobalAttributesOrder = attributesOrder;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Handle substitute elements such as b/strong\n\t\t\t\t\t\tif (outputName) {\n\t\t\t\t\t\t\telement.outputName = elementName;\n\t\t\t\t\t\t\telements[outputName] = element;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Add pattern or exact element\n\t\t\t\t\t\tif (hasPatternsRegExp.test(elementName)) {\n\t\t\t\t\t\t\telement.pattern = patternToRegExp(elementName);\n\t\t\t\t\t\t\tpatternElements.push(element);\n\t\t\t\t\t\t} else\n\t\t\t\t\t\t\telements[elementName] = element;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tfunction setValidElements(valid_elements) {\n\t\t\telements = {};\n\t\t\tpatternElements = [];\n\n\t\t\taddValidElements(valid_elements);\n\n\t\t\teach(transitional, function(element, name) {\n\t\t\t\tchildren[name] = element.children;\n\t\t\t});\n\t\t};\n\n\t\t// Adds custom non HTML elements to the schema\n\t\tfunction addCustomElements(custom_elements) {\n\t\t\tvar customElementRegExp = /^(~)?(.+)$/;\n\n\t\t\tif (custom_elements) {\n\t\t\t\teach(split(custom_elements), function(rule) {\n\t\t\t\t\tvar matches = customElementRegExp.exec(rule),\n\t\t\t\t\t\tinline = matches[1] === '~',\n\t\t\t\t\t\tcloneName = inline ? 'span' : 'div',\n\t\t\t\t\t\tname = matches[2];\n\n\t\t\t\t\tchildren[name] = children[cloneName];\n\t\t\t\t\tcustomElementsMap[name] = cloneName;\n\n\t\t\t\t\t// If it's not marked as inline then add it to valid block elements\n\t\t\t\t\tif (!inline)\n\t\t\t\t\t\tblockElementsMap[name] = {};\n\n\t\t\t\t\t// Add custom elements at span/div positions\n\t\t\t\t\teach(children, function(element, child) {\n\t\t\t\t\t\tif (element[cloneName])\n\t\t\t\t\t\t\telement[name] = element[cloneName];\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\t// Adds valid children to the schema object\n\t\tfunction addValidChildren(valid_children) {\n\t\t\tvar childRuleRegExp = /^([+\\-]?)(\\w+)\\[([^\\]]+)\\]$/;\n\n\t\t\tif (valid_children) {\n\t\t\t\teach(split(valid_children), function(rule) {\n\t\t\t\t\tvar matches = childRuleRegExp.exec(rule), parent, prefix;\n\n\t\t\t\t\tif (matches) {\n\t\t\t\t\t\tprefix = matches[1];\n\n\t\t\t\t\t\t// Add/remove items from default\n\t\t\t\t\t\tif (prefix)\n\t\t\t\t\t\t\tparent = children[matches[2]];\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tparent = children[matches[2]] = {'#comment' : {}};\n\n\t\t\t\t\t\tparent = children[matches[2]];\n\n\t\t\t\t\t\teach(split(matches[3], '|'), function(child) {\n\t\t\t\t\t\t\tif (prefix === '-')\n\t\t\t\t\t\t\t\tdelete parent[child];\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\tparent[child] = {};\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\tfunction getElementRule(name) {\n\t\t\tvar element = elements[name], i;\n\n\t\t\t// Exact match found\n\t\t\tif (element)\n\t\t\t\treturn element;\n\n\t\t\t// No exact match then try the patterns\n\t\t\ti = patternElements.length;\n\t\t\twhile (i--) {\n\t\t\t\telement = patternElements[i];\n\n\t\t\t\tif (element.pattern.test(name))\n\t\t\t\t\treturn element;\n\t\t\t}\n\t\t};\n\n\t\tif (!settings.valid_elements) {\n\t\t\t// No valid elements defined then clone the elements from the transitional spec\n\t\t\teach(transitional, function(element, name) {\n\t\t\t\telements[name] = {\n\t\t\t\t\tattributes : element.attributes,\n\t\t\t\t\tattributesOrder : element.attributesOrder\n\t\t\t\t};\n\n\t\t\t\tchildren[name] = element.children;\n\t\t\t});\n\n\t\t\t// Switch these\n\t\t\teach(split('strong/b,em/i'), function(item) {\n\t\t\t\titem = split(item, '/');\n\t\t\t\telements[item[1]].outputName = item[0];\n\t\t\t});\n\n\t\t\t// Add default alt attribute for images\n\t\t\telements.img.attributesDefault = [{name: 'alt', value: ''}];\n\n\t\t\t// Remove these if they are empty by default\n\t\t\teach(split('ol,ul,sub,sup,blockquote,span,font,a,table,tbody,tr'), function(name) {\n\t\t\t\telements[name].removeEmpty = true;\n\t\t\t});\n\n\t\t\t// Padd these by default\n\t\t\teach(split('p,h1,h2,h3,h4,h5,h6,th,td,pre,div,address,caption'), function(name) {\n\t\t\t\telements[name].paddEmpty = true;\n\t\t\t});\n\t\t} else\n\t\t\tsetValidElements(settings.valid_elements);\n\n\t\taddCustomElements(settings.custom_elements);\n\t\taddValidChildren(settings.valid_children);\n\t\taddValidElements(settings.extended_valid_elements);\n\n\t\t// Todo: Remove this when we fix list handling to be valid\n\t\taddValidChildren('+ol[ul|ol],+ul[ul|ol]');\n\n\t\t// If the user didn't allow span only allow internal spans\n\t\tif (!getElementRule('span'))\n\t\t\taddValidElements('span[!data-mce-type|*]');\n\n\t\t// Delete invalid elements\n\t\tif (settings.invalid_elements) {\n\t\t\ttinymce.each(tinymce.explode(settings.invalid_elements), function(item) {\n\t\t\t\tif (elements[item])\n\t\t\t\t\tdelete elements[item];\n\t\t\t});\n\t\t}\n\n\t\t/**\n\t\t * Name/value map object with valid parents and children to those parents.\n\t\t *\n\t\t * @example\n\t\t * children = {\n\t\t *    div:{p:{}, h1:{}}\n\t\t * };\n\t\t * @field children\n\t\t * @type {Object}\n\t\t */\n\t\tself.children = children;\n\n\t\t/**\n\t\t * Name/value map object with valid styles for each element.\n\t\t *\n\t\t * @field styles\n\t\t * @type {Object}\n\t\t */\n\t\tself.styles = validStyles;\n\n\t\t/**\n\t\t * Returns a map with boolean attributes.\n\t\t *\n\t\t * @method getBoolAttrs\n\t\t * @return {Object} Name/value lookup map for boolean attributes.\n\t\t */\n\t\tself.getBoolAttrs = function() {\n\t\t\treturn boolAttrMap;\n\t\t};\n\n\t\t/**\n\t\t * Returns a map with block elements.\n\t\t *\n\t\t * @method getBoolAttrs\n\t\t * @return {Object} Name/value lookup map for block elements.\n\t\t */\n\t\tself.getBlockElements = function() {\n\t\t\treturn blockElementsMap;\n\t\t};\n\n\t\t/**\n\t\t * Returns a map with short ended elements such as BR or IMG.\n\t\t *\n\t\t * @method getShortEndedElements\n\t\t * @return {Object} Name/value lookup map for short ended elements.\n\t\t */\n\t\tself.getShortEndedElements = function() {\n\t\t\treturn shortEndedElementsMap;\n\t\t};\n\n\t\t/**\n\t\t * Returns a map with self closing tags such as <li>.\n\t\t *\n\t\t * @method getSelfClosingElements\n\t\t * @return {Object} Name/value lookup map for self closing tags elements.\n\t\t */\n\t\tself.getSelfClosingElements = function() {\n\t\t\treturn selfClosingElementsMap;\n\t\t};\n\n\t\t/**\n\t\t * Returns a map with elements that should be treated as contents regardless if it has text\n\t\t * content in them or not such as TD, VIDEO or IMG.\n\t\t *\n\t\t * @method getNonEmptyElements\n\t\t * @return {Object} Name/value lookup map for non empty elements.\n\t\t */\n\t\tself.getNonEmptyElements = function() {\n\t\t\treturn nonEmptyElementsMap;\n\t\t};\n\n\t\t/**\n\t\t * Returns a map with elements where white space is to be preserved like PRE or SCRIPT.\n\t\t *\n\t\t * @method getWhiteSpaceElements\n\t\t * @return {Object} Name/value lookup map for white space elements.\n\t\t */\n\t\tself.getWhiteSpaceElements = function() {\n\t\t\treturn whiteSpaceElementsMap;\n\t\t};\n\n\t\t/**\n\t\t * Returns true/false if the specified element and it's child is valid or not\n\t\t * according to the schema.\n\t\t *\n\t\t * @method isValidChild\n\t\t * @param {String} name Element name to check for.\n\t\t * @param {String} child Element child to verify.\n\t\t * @return {Boolean} True/false if the element is a valid child of the specified parent.\n\t\t */\n\t\tself.isValidChild = function(name, child) {\n\t\t\tvar parent = children[name];\n\n\t\t\treturn !!(parent && parent[child]);\n\t\t};\n\n\t\t/**\n\t\t * Returns true/false if the specified element is valid or not\n\t\t * according to the schema.\n\t\t *\n\t\t * @method getElementRule\n\t\t * @param {String} name Element name to check for.\n\t\t * @return {Object} Element object or undefined if the element isn't valid.\n\t\t */\n\t\tself.getElementRule = getElementRule;\n\n\t\t/**\n\t\t * Returns an map object of all custom elements.\n\t\t *\n\t\t * @method getCustomElements\n\t\t * @return {Object} Name/value map object of all custom elements.\n\t\t */\n\t\tself.getCustomElements = function() {\n\t\t\treturn customElementsMap;\n\t\t};\n\n\t\t/**\n\t\t * Parses a valid elements string and adds it to the schema. The valid elements format is for example \"element[attr=default|otherattr]\".\n\t\t * Existing rules will be replaced with the ones specified, so this extends the schema.\n\t\t *\n\t\t * @method addValidElements\n\t\t * @param {String} valid_elements String in the valid elements format to be parsed.\n\t\t */\n\t\tself.addValidElements = addValidElements;\n\n\t\t/**\n\t\t * Parses a valid elements string and sets it to the schema. The valid elements format is for example \"element[attr=default|otherattr]\".\n\t\t * Existing rules will be replaced with the ones specified, so this extends the schema.\n\t\t *\n\t\t * @method setValidElements\n\t\t * @param {String} valid_elements String in the valid elements format to be parsed.\n\t\t */\n\t\tself.setValidElements = setValidElements;\n\n\t\t/**\n\t\t * Adds custom non HTML elements to the schema.\n\t\t *\n\t\t * @method addCustomElements\n\t\t * @param {String} custom_elements Comma separated list of custom elements to add.\n\t\t */\n\t\tself.addCustomElements = addCustomElements;\n\n\t\t/**\n\t\t * Parses a valid children string and adds them to the schema structure. The valid children format is for example: \"element[child1|child2]\".\n\t\t *\n\t\t * @method addValidChildren\n\t\t * @param {String} valid_children Valid children elements string to parse\n\t\t */\n\t\tself.addValidChildren = addValidChildren;\n\t};\n\n\t// Expose boolMap and blockElementMap as static properties for usage in DOMUtils\n\ttinymce.html.Schema.boolAttrMap = boolAttrMap;\n\ttinymce.html.Schema.blockElementsMap = blockElementsMap;\n})(tinymce);\n","Magento_Tinymce3/tiny_mce/classes/html/Styles.js":"/**\n * Styles.js\n *\n * Copyright 2010, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n/**\n * This class is used to parse CSS styles it also compresses styles to reduce the output size.\n *\n * @example\n * var Styles = new tinymce.html.Styles({\n *    url_converter: function(url) {\n *       return url;\n *    }\n * });\n *\n * styles = Styles.parse('border: 1px solid red');\n * styles.color = 'red';\n *\n * console.log(new tinymce.html.StyleSerializer().serialize(styles));\n *\n * @class tinymce.html.Styles\n * @version 3.4\n */\ntinymce.html.Styles = function(settings, schema) {\n\tvar rgbRegExp = /rgb\\s*\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*\\)/gi,\n\t\turlOrStrRegExp = /(?:url(?:(?:\\(\\s*\\\"([^\\\"]+)\\\"\\s*\\))|(?:\\(\\s*\\'([^\\']+)\\'\\s*\\))|(?:\\(\\s*([^)\\s]+)\\s*\\))))|(?:\\'([^\\']+)\\')|(?:\\\"([^\\\"]+)\\\")/gi,\n\t\tstyleRegExp = /\\s*([^:]+):\\s*([^;]+);?/g,\n\t\ttrimRightRegExp = /\\s+$/,\n\t\turlColorRegExp = /rgb/,\n\t\tundef, i, encodingLookup = {}, encodingItems;\n\n\tsettings = settings || {};\n\n\tencodingItems = '\\\\\" \\\\\\' \\\\; \\\\: ; : \\uFEFF'.split(' ');\n\tfor (i = 0; i < encodingItems.length; i++) {\n\t\tencodingLookup[encodingItems[i]] = '\\uFEFF' + i;\n\t\tencodingLookup['\\uFEFF' + i] = encodingItems[i];\n\t}\n\n\tfunction toHex(match, r, g, b) {\n\t\tfunction hex(val) {\n\t\t\tval = parseInt(val).toString(16);\n\n\t\t\treturn val.length > 1 ? val : '0' + val; // 0 -> 00\n\t\t};\n\n\t\treturn '#' + hex(r) + hex(g) + hex(b);\n\t};\n\n\treturn {\n\t\t/**\n\t\t * Parses the specified RGB color value and returns a hex version of that color.\n\t\t *\n\t\t * @method toHex\n\t\t * @param {String} color RGB string value like rgb(1,2,3)\n\t\t * @return {String} Hex version of that RGB value like #FF00FF.\n\t\t */\n\t\ttoHex : function(color) {\n\t\t\treturn color.replace(rgbRegExp, toHex);\n\t\t},\n\n\t\t/**\n\t\t * Parses the specified style value into an object collection. This parser will also\n\t\t * merge and remove any redundant items that browsers might have added. It will also convert non hex\n\t\t * colors to hex values. Urls inside the styles will also be converted to absolute/relative based on settings.\n\t\t *\n\t\t * @method parse\n\t\t * @param {String} css Style value to parse for example: border:1px solid red;.\n\t\t * @return {Object} Object representation of that style like {border : '1px solid red'}\n\t\t */\n\t\tparse : function(css) {\n\t\t\tvar styles = {}, matches, name, value, isEncoded, urlConverter = settings.url_converter, urlConverterScope = settings.url_converter_scope || this;\n\n\t\t\tfunction compress(prefix, suffix) {\n\t\t\t\tvar top, right, bottom, left;\n\n\t\t\t\t// Get values and check it needs compressing\n\t\t\t\ttop = styles[prefix + '-top' + suffix];\n\t\t\t\tif (!top)\n\t\t\t\t\treturn;\n\n\t\t\t\tright = styles[prefix + '-right' + suffix];\n\t\t\t\tif (top != right)\n\t\t\t\t\treturn;\n\n\t\t\t\tbottom = styles[prefix + '-bottom' + suffix];\n\t\t\t\tif (right != bottom)\n\t\t\t\t\treturn;\n\n\t\t\t\tleft = styles[prefix + '-left' + suffix];\n\t\t\t\tif (bottom != left)\n\t\t\t\t\treturn;\n\n\t\t\t\t// Compress\n\t\t\t\tstyles[prefix + suffix] = left;\n\t\t\t\tdelete styles[prefix + '-top' + suffix];\n\t\t\t\tdelete styles[prefix + '-right' + suffix];\n\t\t\t\tdelete styles[prefix + '-bottom' + suffix];\n\t\t\t\tdelete styles[prefix + '-left' + suffix];\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Checks if the specific style can be compressed in other words if all border-width are equal.\n\t\t\t */\n\t\t\tfunction canCompress(key) {\n\t\t\t\tvar value = styles[key], i;\n\n\t\t\t\tif (!value || value.indexOf(' ') < 0)\n\t\t\t\t\treturn;\n\n\t\t\t\tvalue = value.split(' ');\n\t\t\t\ti = value.length;\n\t\t\t\twhile (i--) {\n\t\t\t\t\tif (value[i] !== value[0])\n\t\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\tstyles[key] = value[0];\n\n\t\t\t\treturn true;\n\t\t\t};\n\n\t\t\t/**\n\t\t\t * Compresses multiple styles into one style.\n\t\t\t */\n\t\t\tfunction compress2(target, a, b, c) {\n\t\t\t\tif (!canCompress(a))\n\t\t\t\t\treturn;\n\n\t\t\t\tif (!canCompress(b))\n\t\t\t\t\treturn;\n\n\t\t\t\tif (!canCompress(c))\n\t\t\t\t\treturn;\n\n\t\t\t\t// Compress\n\t\t\t\tstyles[target] = styles[a] + ' ' + styles[b] + ' ' + styles[c];\n\t\t\t\tdelete styles[a];\n\t\t\t\tdelete styles[b];\n\t\t\t\tdelete styles[c];\n\t\t\t};\n\n\t\t\t// Encodes the specified string by replacing all \\\" \\' ; : with _<num>\n\t\t\tfunction encode(str) {\n\t\t\t\tisEncoded = true;\n\n\t\t\t\treturn encodingLookup[str];\n\t\t\t};\n\n\t\t\t// Decodes the specified string by replacing all _<num> with it's original value \\\" \\' etc\n\t\t\t// It will also decode the \\\" \\' if keep_slashes is set to fale or omitted\n\t\t\tfunction decode(str, keep_slashes) {\n\t\t\t\tif (isEncoded) {\n\t\t\t\t\tstr = str.replace(/\\uFEFF[0-9]/g, function(str) {\n\t\t\t\t\t\treturn encodingLookup[str];\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\tif (!keep_slashes)\n\t\t\t\t\tstr = str.replace(/\\\\([\\'\\\";:])/g, \"$1\");\n\n\t\t\t\treturn str;\n\t\t\t}\n\n\t\t\tif (css) {\n\t\t\t\t// Encode \\\" \\' % and ; and : inside strings so they don't interfere with the style parsing\n\t\t\t\tcss = css.replace(/\\\\[\\\"\\';:\\uFEFF]/g, encode).replace(/\\\"[^\\\"]+\\\"|\\'[^\\']+\\'/g, function(str) {\n\t\t\t\t\treturn str.replace(/[;:]/g, encode);\n\t\t\t\t});\n\n\t\t\t\t// Parse styles\n\t\t\t\twhile (matches = styleRegExp.exec(css)) {\n\t\t\t\t\tname = matches[1].replace(trimRightRegExp, '').toLowerCase();\n\t\t\t\t\tvalue = matches[2].replace(trimRightRegExp, '');\n\n\t\t\t\t\tif (name && value.length > 0) {\n\t\t\t\t\t\t// Opera will produce 700 instead of bold in their style values\n\t\t\t\t\t\tif (name === 'font-weight' && value === '700')\n\t\t\t\t\t\t\tvalue = 'bold';\n\t\t\t\t\t\telse if (name === 'color' || name === 'background-color') // Lowercase colors like RED\n\t\t\t\t\t\t\tvalue = value.toLowerCase();\t\t\n\n\t\t\t\t\t\t// Convert RGB colors to HEX\n\t\t\t\t\t\tvalue = value.replace(rgbRegExp, toHex);\n\n\t\t\t\t\t\t// Convert URLs and force them into url('value') format\n\t\t\t\t\t\tvalue = value.replace(urlOrStrRegExp, function(match, url, url2, url3, str, str2) {\n\t\t\t\t\t\t\tstr = str || str2;\n\n\t\t\t\t\t\t\tif (str) {\n\t\t\t\t\t\t\t\tstr = decode(str);\n\n\t\t\t\t\t\t\t\t// Force strings into single quote format\n\t\t\t\t\t\t\t\treturn \"'\" + str.replace(/\\'/g, \"\\\\'\") + \"'\";\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\turl = decode(url || url2 || url3);\n\n\t\t\t\t\t\t\t// Convert the URL to relative/absolute depending on config\n\t\t\t\t\t\t\tif (urlConverter)\n\t\t\t\t\t\t\t\turl = urlConverter.call(urlConverterScope, url, 'style');\n\n\t\t\t\t\t\t\t// Output new URL format\n\t\t\t\t\t\t\treturn \"url('\" + url.replace(/\\'/g, \"\\\\'\") + \"')\";\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tstyles[name] = isEncoded ? decode(value, true) : value;\n\t\t\t\t\t}\n\n\t\t\t\t\tstyleRegExp.lastIndex = matches.index + matches[0].length;\n\t\t\t\t}\n\n\t\t\t\t// Compress the styles to reduce it's size for example IE will expand styles\n\t\t\t\tcompress(\"border\", \"\");\n\t\t\t\tcompress(\"border\", \"-width\");\n\t\t\t\tcompress(\"border\", \"-color\");\n\t\t\t\tcompress(\"border\", \"-style\");\n\t\t\t\tcompress(\"padding\", \"\");\n\t\t\t\tcompress(\"margin\", \"\");\n\t\t\t\tcompress2('border', 'border-width', 'border-style', 'border-color');\n\n\t\t\t\t// Remove pointless border, IE produces these\n\t\t\t\tif (styles.border === 'medium none')\n\t\t\t\t\tdelete styles.border;\n\t\t\t}\n\n\t\t\treturn styles;\n\t\t},\n\n\t\t/**\n\t\t * Serializes the specified style object into a string.\n\t\t *\n\t\t * @method serialize\n\t\t * @param {Object} styles Object to serialize as string for example: {border : '1px solid red'}\n\t\t * @param {String} element_name Optional element name, if specified only the styles that matches the schema will be serialized.\n\t\t * @return {String} String representation of the style object for example: border: 1px solid red.\n\t\t */\n\t\tserialize : function(styles, element_name) {\n\t\t\tvar css = '', name, value;\n\n\t\t\tfunction serializeStyles(name) {\n\t\t\t\tvar styleList, i, l, value;\n\n\t\t\t\tstyleList = schema.styles[name];\n\t\t\t\tif (styleList) {\n\t\t\t\t\tfor (i = 0, l = styleList.length; i < l; i++) {\n\t\t\t\t\t\tname = styleList[i];\n\t\t\t\t\t\tvalue = styles[name];\n\n\t\t\t\t\t\tif (value !== undef && value.length > 0)\n\t\t\t\t\t\t\tcss += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Serialize styles according to schema\n\t\t\tif (element_name && schema && schema.styles) {\n\t\t\t\t// Serialize global styles and element specific styles\n\t\t\t\tserializeStyles('*');\n\t\t\t\tserializeStyles(element_name);\n\t\t\t} else {\n\t\t\t\t// Output the styles in the order they are inside the object\n\t\t\t\tfor (name in styles) {\n\t\t\t\t\tvalue = styles[name];\n\n\t\t\t\t\tif (value !== undef && value.length > 0)\n\t\t\t\t\t\tcss += (css.length > 0 ? ' ' : '') + name + ': ' + value + ';';\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn css;\n\t\t}\n\t};\n};\n","Magento_Tinymce3/tiny_mce/classes/html/SaxParser.js":"/**\n * SaxParser.js\n *\n * Copyright 2010, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n(function(tinymce) {\n\t/**\n\t * This class parses HTML code using pure JavaScript and executes various events for each item it finds. It will\n\t * always execute the events in the right order for tag soup code like <b><p></b></p>. It will also remove elements\n\t * and attributes that doesn't fit the schema if the validate setting is enabled.\n\t *\n\t * @example\n\t * var parser = new tinymce.html.SaxParser({\n\t *     validate: true,\n\t *\n\t *     comment: function(text) {\n\t *         console.log('Comment:', text);\n\t *     },\n\t *\n\t *     cdata: function(text) {\n\t *         console.log('CDATA:', text);\n\t *     },\n\t *\n\t *     text: function(text, raw) {\n\t *         console.log('Text:', text, 'Raw:', raw);\n\t *     },\n\t *\n\t *     start: function(name, attrs, empty) {\n\t *         console.log('Start:', name, attrs, empty);\n\t *     },\n\t *\n\t *     end: function(name) {\n\t *         console.log('End:', name);\n\t *     },\n\t *\n\t *     pi: function(name, text) {\n\t *         console.log('PI:', name, text);\n\t *     },\n\t *\n\t *     doctype: function(text) {\n\t *         console.log('DocType:', text);\n\t *     }\n\t * }, schema);\n\t * @class tinymce.html.SaxParser\n\t * @version 3.4\n\t */\n\n\t/**\n\t * Constructs a new SaxParser instance.\n\t *\n\t * @constructor\n\t * @method SaxParser\n\t * @param {Object} settings Name/value collection of settings. comment, cdata, text, start and end are callbacks.\n\t * @param {tinymce.html.Schema} schema HTML Schema class to use when parsing.\n\t */\n\ttinymce.html.SaxParser = function(settings, schema) {\n\t\tvar self = this, noop = function() {};\n\n\t\tsettings = settings || {};\n\t\tself.schema = schema = schema || new tinymce.html.Schema();\n\n\t\tif (settings.fix_self_closing !== false)\n\t\t\tsettings.fix_self_closing = true;\n\n\t\t// Add handler functions from settings and setup default handlers\n\t\ttinymce.each('comment cdata text start end pi doctype'.split(' '), function(name) {\n\t\t\tif (name)\n\t\t\t\tself[name] = settings[name] || noop;\n\t\t});\n\n\t\t/**\n\t\t * Parses the specified HTML string and executes the callbacks for each item it finds.\n\t\t *\n\t\t * @example\n\t\t * new SaxParser({...}).parse('<b>text</b>');\n\t\t * @method parse\n\t\t * @param {String} html Html string to sax parse.\n\t\t */\n\t\tself.parse = function(html) {\n\t\t\tvar self = this, matches, index = 0, value, endRegExp, stack = [], attrList, i, text, name, isInternalElement, removeInternalElements,\n\t\t\t\tshortEndedElements, fillAttrsMap, isShortEnded, validate, elementRule, isValidElement, attr, attribsValue, invalidPrefixRegExp,\n\t\t\t\tvalidAttributesMap, validAttributePatterns, attributesRequired, attributesDefault, attributesForced, selfClosing,\n\t\t\t\ttokenRegExp, attrRegExp, specialElements, attrValue, idCount = 0, decode = tinymce.html.Entities.decode, fixSelfClosing, isIE;\n\n\t\t\tfunction processEndTag(name) {\n\t\t\t\tvar pos, i;\n\n\t\t\t\t// Find position of parent of the same type\n\t\t\t\tpos = stack.length;\n\t\t\t\twhile (pos--) {\n\t\t\t\t\tif (stack[pos].name === name)\n\t\t\t\t\t\tbreak;\t\t\t\t\t\t\n\t\t\t\t}\n\n\t\t\t\t// Found parent\n\t\t\t\tif (pos >= 0) {\n\t\t\t\t\t// Close all the open elements\n\t\t\t\t\tfor (i = stack.length - 1; i >= pos; i--) {\n\t\t\t\t\t\tname = stack[i];\n\n\t\t\t\t\t\tif (name.valid)\n\t\t\t\t\t\t\tself.end(name.name);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Remove the open elements from the stack\n\t\t\t\t\tstack.length = pos;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\t// Precompile RegExps and map objects\n\t\t\ttokenRegExp = new RegExp('<(?:' +\n\t\t\t\t'(?:!--([\\\\w\\\\W]*?)-->)|' + // Comment\n\t\t\t\t'(?:!\\\\[CDATA\\\\[([\\\\w\\\\W]*?)\\\\]\\\\]>)|' + // CDATA\n\t\t\t\t'(?:!DOCTYPE([\\\\w\\\\W]*?)>)|' + // DOCTYPE\n\t\t\t\t'(?:\\\\?([^\\\\s\\\\/<>]+) ?([\\\\w\\\\W]*?)[?/]>)|' + // PI\n\t\t\t\t'(?:\\\\/([^>]+)>)|' + // End element\n\t\t\t\t'(?:([^\\\\s\\\\/<>]+)((?:\\\\s+[^\"\\'>]+(?:(?:\"[^\"]*\")|(?:\\'[^\\']*\\')|[^>]*))*|\\\\/)>)' + // Start element\n\t\t\t')', 'g');\n\n\t\t\tattrRegExp = /([\\w:\\-]+)(?:\\s*=\\s*(?:(?:\\\"((?:\\\\.|[^\\\"])*)\\\")|(?:\\'((?:\\\\.|[^\\'])*)\\')|([^>\\s]+)))?/g;\n\t\t\tspecialElements = {\n\t\t\t\t'script' : /<\\/script[^>]*>/gi,\n\t\t\t\t'style' : /<\\/style[^>]*>/gi,\n\t\t\t\t'noscript' : /<\\/noscript[^>]*>/gi\n\t\t\t};\n\n\t\t\t// Setup lookup tables for empty elements and boolean attributes\n\t\t\tshortEndedElements = schema.getShortEndedElements();\n\t\t\tselfClosing = schema.getSelfClosingElements();\n\t\t\tfillAttrsMap = schema.getBoolAttrs();\n\t\t\tvalidate = settings.validate;\n\t\t\tremoveInternalElements = settings.remove_internals;\n\t\t\tfixSelfClosing = settings.fix_self_closing;\n\t\t\tisIE = tinymce.isIE;\n\t\t\tinvalidPrefixRegExp = /^:/;\n\n\t\t\twhile (matches = tokenRegExp.exec(html)) {\n\t\t\t\t// Text\n\t\t\t\tif (index < matches.index)\n\t\t\t\t\tself.text(decode(html.substr(index, matches.index - index)));\n\n\t\t\t\tif (value = matches[6]) { // End element\n\t\t\t\t\tvalue = value.toLowerCase();\n\n\t\t\t\t\t// IE will add a \":\" in front of elements it doesn't understand like custom elements or HTML5 elements\n\t\t\t\t\tif (isIE && invalidPrefixRegExp.test(value))\n\t\t\t\t\t\tvalue = value.substr(1);\n\n\t\t\t\t\tprocessEndTag(value);\n\t\t\t\t} else if (value = matches[7]) { // Start element\n\t\t\t\t\tvalue = value.toLowerCase();\n\n\t\t\t\t\t// IE will add a \":\" in front of elements it doesn't understand like custom elements or HTML5 elements\n\t\t\t\t\tif (isIE && invalidPrefixRegExp.test(value))\n\t\t\t\t\t\tvalue = value.substr(1);\n\n\t\t\t\t\tisShortEnded = value in shortEndedElements;\n\n\t\t\t\t\t// Is self closing tag for example an <li> after an open <li>\n\t\t\t\t\tif (fixSelfClosing && selfClosing[value] && stack.length > 0 && stack[stack.length - 1].name === value)\n\t\t\t\t\t\tprocessEndTag(value);\n\n\t\t\t\t\t// Validate element\n\t\t\t\t\tif (!validate || (elementRule = schema.getElementRule(value))) {\n\t\t\t\t\t\tisValidElement = true;\n\n\t\t\t\t\t\t// Grab attributes map and patters when validation is enabled\n\t\t\t\t\t\tif (validate) {\n\t\t\t\t\t\t\tvalidAttributesMap = elementRule.attributes;\n\t\t\t\t\t\t\tvalidAttributePatterns = elementRule.attributePatterns;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Parse attributes\n\t\t\t\t\t\tif (attribsValue = matches[8]) {\n\t\t\t\t\t\t\tisInternalElement = attribsValue.indexOf('data-mce-type') !== -1; // Check if the element is an internal element\n\n\t\t\t\t\t\t\t// If the element has internal attributes then remove it if we are told to do so\n\t\t\t\t\t\t\tif (isInternalElement && removeInternalElements)\n\t\t\t\t\t\t\t\tisValidElement = false;\n\n\t\t\t\t\t\t\tattrList = [];\n\t\t\t\t\t\t\tattrList.map = {};\n\n\t\t\t\t\t\t\tattribsValue.replace(attrRegExp, function(match, name, value, val2, val3) {\n\t\t\t\t\t\t\t\tvar attrRule, i;\n\n\t\t\t\t\t\t\t\tname = name.toLowerCase();\n\t\t\t\t\t\t\t\tvalue = name in fillAttrsMap ? name : decode(value || val2 || val3 || ''); // Handle boolean attribute than value attribute\n\n\t\t\t\t\t\t\t\t// Validate name and value\n\t\t\t\t\t\t\t\tif (validate && !isInternalElement && name.indexOf('data-') !== 0) {\n\t\t\t\t\t\t\t\t\tattrRule = validAttributesMap[name];\n\n\t\t\t\t\t\t\t\t\t// Find rule by pattern matching\n\t\t\t\t\t\t\t\t\tif (!attrRule && validAttributePatterns) {\n\t\t\t\t\t\t\t\t\t\ti = validAttributePatterns.length;\n\t\t\t\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\t\t\t\tattrRule = validAttributePatterns[i];\n\t\t\t\t\t\t\t\t\t\t\tif (attrRule.pattern.test(name))\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t// No rule matched\n\t\t\t\t\t\t\t\t\t\tif (i === -1)\n\t\t\t\t\t\t\t\t\t\t\tattrRule = null;\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t// No attribute rule found\n\t\t\t\t\t\t\t\t\tif (!attrRule)\n\t\t\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\t\t\t// Validate value\n\t\t\t\t\t\t\t\t\tif (attrRule.validValues && !(value in attrRule.validValues))\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Add attribute to list and map\n\t\t\t\t\t\t\t\tattrList.map[name] = value;\n\t\t\t\t\t\t\t\tattrList.push({\n\t\t\t\t\t\t\t\t\tname: name,\n\t\t\t\t\t\t\t\t\tvalue: value\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tattrList = [];\n\t\t\t\t\t\t\tattrList.map = {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Process attributes if validation is enabled\n\t\t\t\t\t\tif (validate && !isInternalElement) {\n\t\t\t\t\t\t\tattributesRequired = elementRule.attributesRequired;\n\t\t\t\t\t\t\tattributesDefault = elementRule.attributesDefault;\n\t\t\t\t\t\t\tattributesForced = elementRule.attributesForced;\n\n\t\t\t\t\t\t\t// Handle forced attributes\n\t\t\t\t\t\t\tif (attributesForced) {\n\t\t\t\t\t\t\t\ti = attributesForced.length;\n\t\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\t\tattr = attributesForced[i];\n\t\t\t\t\t\t\t\t\tname = attr.name;\n\t\t\t\t\t\t\t\t\tattrValue = attr.value;\n\n\t\t\t\t\t\t\t\t\tif (attrValue === '{$uid}')\n\t\t\t\t\t\t\t\t\t\tattrValue = 'mce_' + idCount++;\n\n\t\t\t\t\t\t\t\t\tattrList.map[name] = attrValue;\n\t\t\t\t\t\t\t\t\tattrList.push({name: name, value: attrValue});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Handle default attributes\n\t\t\t\t\t\t\tif (attributesDefault) {\n\t\t\t\t\t\t\t\ti = attributesDefault.length;\n\t\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\t\tattr = attributesDefault[i];\n\t\t\t\t\t\t\t\t\tname = attr.name;\n\n\t\t\t\t\t\t\t\t\tif (!(name in attrList.map)) {\n\t\t\t\t\t\t\t\t\t\tattrValue = attr.value;\n\n\t\t\t\t\t\t\t\t\t\tif (attrValue === '{$uid}')\n\t\t\t\t\t\t\t\t\t\t\tattrValue = 'mce_' + idCount++;\n\n\t\t\t\t\t\t\t\t\t\tattrList.map[name] = attrValue;\n\t\t\t\t\t\t\t\t\t\tattrList.push({name: name, value: attrValue});\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Handle required attributes\n\t\t\t\t\t\t\tif (attributesRequired) {\n\t\t\t\t\t\t\t\ti = attributesRequired.length;\n\t\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\t\tif (attributesRequired[i] in attrList.map)\n\t\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// None of the required attributes where found\n\t\t\t\t\t\t\t\tif (i === -1)\n\t\t\t\t\t\t\t\t\tisValidElement = false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Invalidate element if it's marked as bogus\n\t\t\t\t\t\t\tif (attrList.map['data-mce-bogus'])\n\t\t\t\t\t\t\t\tisValidElement = false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (isValidElement)\n\t\t\t\t\t\t\tself.start(value, attrList, isShortEnded);\n\t\t\t\t\t} else\n\t\t\t\t\t\tisValidElement = false;\n\n\t\t\t\t\t// Treat script, noscript and style a bit different since they may include code that looks like elements\n\t\t\t\t\tif (endRegExp = specialElements[value]) {\n\t\t\t\t\t\tendRegExp.lastIndex = index = matches.index + matches[0].length;\n\n\t\t\t\t\t\tif (matches = endRegExp.exec(html)) {\n\t\t\t\t\t\t\tif (isValidElement)\n\t\t\t\t\t\t\t\ttext = html.substr(index, matches.index - index);\n\n\t\t\t\t\t\t\tindex = matches.index + matches[0].length;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\ttext = html.substr(index);\n\t\t\t\t\t\t\tindex = html.length;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (isValidElement && text.length > 0)\n\t\t\t\t\t\t\tself.text(text, true);\n\n\t\t\t\t\t\tif (isValidElement)\n\t\t\t\t\t\t\tself.end(value);\n\n\t\t\t\t\t\ttokenRegExp.lastIndex = index;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Push value on to stack\n\t\t\t\t\tif (!isShortEnded) {\n\t\t\t\t\t\tif (!attribsValue || attribsValue.indexOf('/') != attribsValue.length - 1)\n\t\t\t\t\t\t\tstack.push({name: value, valid: isValidElement});\n\t\t\t\t\t\telse if (isValidElement)\n\t\t\t\t\t\t\tself.end(value);\n\t\t\t\t\t}\n\t\t\t\t} else if (value = matches[1]) { // Comment\n\t\t\t\t\tself.comment(value);\n\t\t\t\t} else if (value = matches[2]) { // CDATA\n\t\t\t\t\tself.cdata(value);\n\t\t\t\t} else if (value = matches[3]) { // DOCTYPE\n\t\t\t\t\tself.doctype(value);\n\t\t\t\t} else if (value = matches[4]) { // PI\n\t\t\t\t\tself.pi(value, matches[5]);\n\t\t\t\t}\n\n\t\t\t\tindex = matches.index + matches[0].length;\n\t\t\t}\n\n\t\t\t// Text\n\t\t\tif (index < html.length)\n\t\t\t\tself.text(decode(html.substr(index)));\n\n\t\t\t// Close any open elements\n\t\t\tfor (i = stack.length - 1; i >= 0; i--) {\n\t\t\t\tvalue = stack[i];\n\n\t\t\t\tif (value.valid)\n\t\t\t\t\tself.end(value.name);\n\t\t\t}\n\t\t};\n\t}\n})(tinymce);\n","Magento_Tinymce3/tiny_mce/classes/html/Entities.js":"/**\n * Entities.js\n *\n * Copyright 2010, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n(function(tinymce) {\n\tvar namedEntities, baseEntities, reverseEntities,\n\t\tattrsCharsRegExp = /[&<>\\\"\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,\n\t\ttextCharsRegExp = /[<>&\\u007E-\\uD7FF\\uE000-\\uFFEF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g,\n\t\trawCharsRegExp = /[<>&\\\"\\']/g,\n\t\tentityRegExp = /&(#x|#)?([\\w]+);/g,\n\t\tasciiMap = {\n\t\t\t\t128 : \"\\u20AC\", 130 : \"\\u201A\", 131 : \"\\u0192\", 132 : \"\\u201E\", 133 : \"\\u2026\", 134 : \"\\u2020\",\n\t\t\t\t135 : \"\\u2021\", 136 : \"\\u02C6\", 137 : \"\\u2030\", 138 : \"\\u0160\", 139 : \"\\u2039\", 140 : \"\\u0152\",\n\t\t\t\t142 : \"\\u017D\", 145 : \"\\u2018\", 146 : \"\\u2019\", 147 : \"\\u201C\", 148 : \"\\u201D\", 149 : \"\\u2022\",\n\t\t\t\t150 : \"\\u2013\", 151 : \"\\u2014\", 152 : \"\\u02DC\", 153 : \"\\u2122\", 154 : \"\\u0161\", 155 : \"\\u203A\",\n\t\t\t\t156 : \"\\u0153\", 158 : \"\\u017E\", 159 : \"\\u0178\"\n\t\t};\n\n\t// Raw entities\n\tbaseEntities = {\n\t\t'\\\"' : '&quot;', // Needs to be escaped since the YUI compressor would otherwise break the code\n\t\t\"'\" : '&#39;',\n\t\t'<' : '&lt;',\n\t\t'>' : '&gt;',\n\t\t'&' : '&amp;'\n\t};\n\n\t// Reverse lookup table for raw entities\n\treverseEntities = {\n\t\t'&lt;' : '<',\n\t\t'&gt;' : '>',\n\t\t'&amp;' : '&',\n\t\t'&quot;' : '\"',\n\t\t'&apos;' : \"'\"\n\t};\n\n\t// Decodes text by using the browser\n\tfunction nativeDecode(text) {\n\t\tvar elm;\n\n\t\telm = document.createElement(\"div\");\n\t\telm.innerHTML = text;\n\n\t\treturn elm.textContent || elm.innerText || text;\n\t};\n\n\t// Build a two way lookup table for the entities\n\tfunction buildEntitiesLookup(items, radix) {\n\t\tvar i, chr, entity, lookup = {};\n\n\t\tif (items) {\n\t\t\titems = items.split(',');\n\t\t\tradix = radix || 10;\n\n\t\t\t// Build entities lookup table\n\t\t\tfor (i = 0; i < items.length; i += 2) {\n\t\t\t\tchr = String.fromCharCode(parseInt(items[i], radix));\n\n\t\t\t\t// Only add non base entities\n\t\t\t\tif (!baseEntities[chr]) {\n\t\t\t\t\tentity = '&' + items[i + 1] + ';';\n\t\t\t\t\tlookup[chr] = entity;\n\t\t\t\t\tlookup[entity] = chr;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn lookup;\n\t\t}\n\t};\n\n\t// Unpack entities lookup where the numbers are in radix 32 to reduce the size\n\tnamedEntities = buildEntitiesLookup(\n\t\t'50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,' +\n\t\t'5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,' +\n\t\t'5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,' +\n\t\t'5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,' +\n\t\t'68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,' +\n\t\t'6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,' +\n\t\t'6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,' +\n\t\t'75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,' +\n\t\t'7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,' +\n\t\t'7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,' +\n\t\t'sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,' +\n\t\t'st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,' +\n\t\t't9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,' +\n\t\t'tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,' +\n\t\t'u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,' +\n\t\t'81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,' +\n\t\t'8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,' +\n\t\t'8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,' +\n\t\t'8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,' +\n\t\t'8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,' +\n\t\t'nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,' +\n\t\t'rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,' +\n\t\t'Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,' +\n\t\t'80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,' +\n\t\t'811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro'\n\t, 32);\n\n\ttinymce.html = tinymce.html || {};\n\n\t/**\n\t * Entity encoder class.\n\t *\n\t * @class tinymce.html.SaxParser\n\t * @static\n\t * @version 3.4\n\t */\n\ttinymce.html.Entities = {\n\t\t/**\n\t\t * Encodes the specified string using raw entities. This means only the required XML base entities will be endoded.\n\t\t *\n\t\t * @method encodeRaw\n\t\t * @param {String} text Text to encode.\n\t\t * @param {Boolean} attr Optional flag to specify if the text is attribute contents.\n\t\t * @return {String} Entity encoded text.\n\t\t */\n\t\tencodeRaw : function(text, attr) {\n\t\t\treturn text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function(chr) {\n\t\t\t\treturn baseEntities[chr] || chr;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Encoded the specified text with both the attributes and text entities. This function will produce larger text contents\n\t\t * since it doesn't know if the context is within a attribute or text node. This was added for compatibility\n\t\t * and is exposed as the DOMUtils.encode function.\n\t\t *\n\t\t * @method encodeAllRaw\n\t\t * @param {String} text Text to encode.\n\t\t * @return {String} Entity encoded text.\n\t\t */\n\t\tencodeAllRaw : function(text) {\n\t\t\treturn ('' + text).replace(rawCharsRegExp, function(chr) {\n\t\t\t\treturn baseEntities[chr] || chr;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Encodes the specified string using numeric entities. The core entities will be encoded as named ones but all non lower ascii characters\n\t\t * will be encoded into numeric entities.\n\t\t *\n\t\t * @method encodeNumeric\n\t\t * @param {String} text Text to encode.\n\t\t * @param {Boolean} attr Optional flag to specify if the text is attribute contents.\n\t\t * @return {String} Entity encoded text.\n\t\t */\n\t\tencodeNumeric : function(text, attr) {\n\t\t\treturn text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function(chr) {\n\t\t\t\t// Multi byte sequence convert it to a single entity\n\t\t\t\tif (chr.length > 1)\n\t\t\t\t\treturn '&#' + (((chr.charCodeAt(0) - 0xD800) * 0x400) + (chr.charCodeAt(1) - 0xDC00) + 0x10000) + ';';\n\n\t\t\t\treturn baseEntities[chr] || '&#' + chr.charCodeAt(0) + ';';\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Encodes the specified string using named entities. The core entities will be encoded as named ones but all non lower ascii characters\n\t\t * will be encoded into named entities.\n\t\t *\n\t\t * @method encodeNamed\n\t\t * @param {String} text Text to encode.\n\t\t * @param {Boolean} attr Optional flag to specify if the text is attribute contents.\n\t\t * @param {Object} entities Optional parameter with entities to use.\n\t\t * @return {String} Entity encoded text.\n\t\t */\n\t\tencodeNamed : function(text, attr, entities) {\n\t\t\tentities = entities || namedEntities;\n\n\t\t\treturn text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function(chr) {\n\t\t\t\treturn baseEntities[chr] || entities[chr] || chr;\n\t\t\t});\n\t\t},\n\n\t\t/**\n\t\t * Returns an encode function based on the name(s) and it's optional entities.\n\t\t *\n\t\t * @method getEncodeFunc\n\t\t * @param {String} name Comma separated list of encoders for example named,numeric.\n\t\t * @param {String} entities Optional parameter with entities to use instead of the built in set.\n\t\t * @return {function} Encode function to be used.\n\t\t */\n\t\tgetEncodeFunc : function(name, entities) {\n\t\t\tvar Entities = tinymce.html.Entities;\n\n\t\t\tentities = buildEntitiesLookup(entities) || namedEntities;\n\n\t\t\tfunction encodeNamedAndNumeric(text, attr) {\n\t\t\t\treturn text.replace(attr ? attrsCharsRegExp : textCharsRegExp, function(chr) {\n\t\t\t\t\treturn baseEntities[chr] || entities[chr] || '&#' + chr.charCodeAt(0) + ';' || chr;\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tfunction encodeCustomNamed(text, attr) {\n\t\t\t\treturn Entities.encodeNamed(text, attr, entities);\n\t\t\t};\n\n\t\t\t// Replace + with , to be compatible with previous TinyMCE versions\n\t\t\tname = tinymce.makeMap(name.replace(/\\+/g, ','));\n\n\t\t\t// Named and numeric encoder\n\t\t\tif (name.named && name.numeric)\n\t\t\t\treturn encodeNamedAndNumeric;\n\n\t\t\t// Named encoder\n\t\t\tif (name.named) {\n\t\t\t\t// Custom names\n\t\t\t\tif (entities)\n\t\t\t\t\treturn encodeCustomNamed;\n\n\t\t\t\treturn Entities.encodeNamed;\n\t\t\t}\n\n\t\t\t// Numeric\n\t\t\tif (name.numeric)\n\t\t\t\treturn Entities.encodeNumeric;\n\n\t\t\t// Raw encoder\n\t\t\treturn Entities.encodeRaw;\n\t\t},\n\n\t\t/**\n\t\t * Decodes the specified string, this will replace entities with raw UTF characters.\n\t\t *\n\t\t * @param {String} text Text to entity decode.\n\t\t * @return {String} Entity decoded string.\n\t\t */\n\t\tdecode : function(text) {\n\t\t\treturn text.replace(entityRegExp, function(all, numeric, value) {\n\t\t\t\tif (numeric) {\n\t\t\t\t\tvalue = parseInt(value, numeric.length === 2 ? 16 : 10);\n\n\t\t\t\t\t// Support upper UTF\n\t\t\t\t\tif (value > 0xFFFF) {\n\t\t\t\t\t\tvalue -= 0x10000;\n\n\t\t\t\t\t\treturn String.fromCharCode(0xD800 + (value >> 10), 0xDC00 + (value & 0x3FF));\n\t\t\t\t\t} else\n\t\t\t\t\t\treturn asciiMap[value] || String.fromCharCode(value);\n\t\t\t\t}\n\n\t\t\t\treturn reverseEntities[all] || namedEntities[all] || nativeDecode(all);\n\t\t\t});\n\t\t}\n\t};\n})(tinymce);\n","Magento_Tinymce3/tiny_mce/classes/html/Writer.js":"/**\n * Writer.js\n *\n * Copyright 2010, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n/**\n * This class is used to write HTML tags out it can be used with the Serializer or the SaxParser.\n *\n * @class tinymce.html.Writer\n * @example\n * var writer = new tinymce.html.Writer({indent : true});\n * var parser = new tinymce.html.SaxParser(writer).parse('<p><br></p>');\n * console.log(writer.getContent());\n *\n * @class tinymce.html.Writer\n * @version 3.4\n */\n\n/**\n * Constructs a new Writer instance.\n *\n * @constructor\n * @method Writer\n * @param {Object} settings Name/value settings object.\n */\ntinymce.html.Writer = function(settings) {\n\tvar html = [], indent, indentBefore, indentAfter, encode, htmlOutput;\n\n\tsettings = settings || {};\n\tindent = settings.indent;\n\tindentBefore = tinymce.makeMap(settings.indent_before || '');\n\tindentAfter = tinymce.makeMap(settings.indent_after || '');\n\tencode = tinymce.html.Entities.getEncodeFunc(settings.entity_encoding || 'raw', settings.entities);\n\thtmlOutput = settings.element_format == \"html\";\n\n\treturn {\n\t\t/**\n\t\t * Writes the a start element such as <p id=\"a\">.\n\t\t *\n\t\t * @method start\n\t\t * @param {String} name Name of the element.\n\t\t * @param {Array} attrs Optional attribute array or undefined if it hasn't any.\n\t\t * @param {Boolean} empty Optional empty state if the tag should end like <br />.\n\t\t */\n\t\tstart: function(name, attrs, empty) {\n\t\t\tvar i, l, attr, value;\n\n\t\t\tif (indent && indentBefore[name] && html.length > 0) {\n\t\t\t\tvalue = html[html.length - 1];\n\n\t\t\t\tif (value.length > 0 && value !== '\\n')\n\t\t\t\t\thtml.push('\\n');\n\t\t\t}\n\n\t\t\thtml.push('<', name);\n\n\t\t\tif (attrs) {\n\t\t\t\tfor (i = 0, l = attrs.length; i < l; i++) {\n\t\t\t\t\tattr = attrs[i];\n\t\t\t\t\thtml.push(' ', attr.name, '=\"', encode(attr.value, true), '\"');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (!empty || htmlOutput)\n\t\t\t\thtml[html.length] = '>';\n\t\t\telse\n\t\t\t\thtml[html.length] = ' />';\n\n\t\t\tif (empty && indent && indentAfter[name] && html.length > 0) {\n\t\t\t\tvalue = html[html.length - 1];\n\n\t\t\t\tif (value.length > 0 && value !== '\\n')\n\t\t\t\t\thtml.push('\\n');\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Writes the a end element such as </p>.\n\t\t *\n\t\t * @method end\n\t\t * @param {String} name Name of the element.\n\t\t */\n\t\tend: function(name) {\n\t\t\tvar value;\n\n\t\t\t/*if (indent && indentBefore[name] && html.length > 0) {\n\t\t\t\tvalue = html[html.length - 1];\n\n\t\t\t\tif (value.length > 0 && value !== '\\n')\n\t\t\t\t\thtml.push('\\n');\n\t\t\t}*/\n\n\t\t\thtml.push('</', name, '>');\n\n\t\t\tif (indent && indentAfter[name] && html.length > 0) {\n\t\t\t\tvalue = html[html.length - 1];\n\n\t\t\t\tif (value.length > 0 && value !== '\\n')\n\t\t\t\t\thtml.push('\\n');\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Writes a text node.\n\t\t *\n\t\t * @method text\n\t\t * @param {String} text String to write out.\n\t\t * @param {Boolean} raw Optional raw state if true the contents wont get encoded.\n\t\t */\n\t\ttext: function(text, raw) {\n\t\t\tif (text.length > 0)\n\t\t\t\thtml[html.length] = raw ? text : encode(text);\n\t\t},\n\n\t\t/**\n\t\t * Writes a cdata node such as <![CDATA[data]]>.\n\t\t *\n\t\t * @method cdata\n\t\t * @param {String} text String to write out inside the cdata.\n\t\t */\n\t\tcdata: function(text) {\n\t\t\thtml.push('<![CDATA[', text, ']]>');\n\t\t},\n\n\t\t/**\n\t\t * Writes a comment node such as <!-- Comment -->.\n\t\t *\n\t\t * @method cdata\n\t\t * @param {String} text String to write out inside the comment.\n\t\t */\n\t\tcomment: function(text) {\n\t\t\thtml.push('<!--', text, '-->');\n\t\t},\n\n\t\t/**\n\t\t * Writes a PI node such as <?xml attr=\"value\" ?>.\n\t\t *\n\t\t * @method pi\n\t\t * @param {String} name Name of the pi.\n\t\t * @param {String} text String to write out inside the pi.\n\t\t */\n\t\tpi: function(name, text) {\n\t\t\tif (text)\n\t\t\t\thtml.push('<?', name, ' ', text, '?>');\n\t\t\telse\n\t\t\t\thtml.push('<?', name, '?>');\n\n\t\t\tif (indent)\n\t\t\t\thtml.push('\\n');\n\t\t},\n\n\t\t/**\n\t\t * Writes a doctype node such as <!DOCTYPE data>.\n\t\t *\n\t\t * @method doctype\n\t\t * @param {String} text String to write out inside the doctype.\n\t\t */\n\t\tdoctype: function(text) {\n\t\t\thtml.push('<!DOCTYPE', text, '>', indent ? '\\n' : '');\n\t\t},\n\n\t\t/**\n\t\t * Resets the internal buffer if one wants to reuse the writer.\n\t\t *\n\t\t * @method reset\n\t\t */\n\t\treset: function() {\n\t\t\thtml.length = 0;\n\t\t},\n\n\t\t/**\n\t\t * Returns the contents that got serialized.\n\t\t *\n\t\t * @method getContent\n\t\t * @return {String} HTML contents that got written down.\n\t\t */\n\t\tgetContent: function() {\n\t\t\treturn html.join('').replace(/\\n$/, '');\n\t\t}\n\t};\n};\n","Magento_Tinymce3/tiny_mce/classes/html/DomParser.js":"/**\n * DomParser.js\n *\n * Copyright 2010, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n(function(tinymce) {\n\tvar Node = tinymce.html.Node;\n\n\t/**\n\t * This class parses HTML code into a DOM like structure of nodes it will remove redundant whitespace and make\n\t * sure that the node tree is valid according to the specified schema. So for example: <p>a<p>b</p>c</p> will become <p>a</p><p>b</p><p>c</p>\n\t *\n\t * @example\n\t * var parser = new tinymce.html.DomParser({validate: true}, schema);\n\t * var rootNode = parser.parse('<h1>content</h1>');\n\t *\n\t * @class tinymce.html.DomParser\n\t * @version 3.4\n\t */\n\n\t/**\n\t * Constructs a new DomParser instance.\n\t *\n\t * @constructor\n\t * @method DomParser\n\t * @param {Object} settings Name/value collection of settings. comment, cdata, text, start and end are callbacks.\n\t * @param {tinymce.html.Schema} schema HTML Schema class to use when parsing.\n\t */\n\ttinymce.html.DomParser = function(settings, schema) {\n\t\tvar self = this, nodeFilters = {}, attributeFilters = [], matchedNodes = {}, matchedAttributes = {};\n\n\t\tsettings = settings || {};\n\t\tsettings.validate = \"validate\" in settings ? settings.validate : true;\n\t\tsettings.root_name = settings.root_name || 'body';\n\t\tself.schema = schema = schema || new tinymce.html.Schema();\n\n\t\tfunction fixInvalidChildren(nodes) {\n\t\t\tvar ni, node, parent, parents, newParent, currentNode, tempNode, childNode, i,\n\t\t\t\tchildClone, nonEmptyElements, nonSplitableElements, sibling, nextNode;\n\n\t\t\tnonSplitableElements = tinymce.makeMap('tr,td,th,tbody,thead,tfoot,table');\n\t\t\tnonEmptyElements = schema.getNonEmptyElements();\n\n\t\t\tfor (ni = 0; ni < nodes.length; ni++) {\n\t\t\t\tnode = nodes[ni];\n\n\t\t\t\t// Already removed\n\t\t\t\tif (!node.parent)\n\t\t\t\t\tcontinue;\n\n\t\t\t\t// Get list of all parent nodes until we find a valid parent to stick the child into\n\t\t\t\tparents = [node];\n\t\t\t\tfor (parent = node.parent; parent && !schema.isValidChild(parent.name, node.name) && !nonSplitableElements[parent.name]; parent = parent.parent)\n\t\t\t\t\tparents.push(parent);\n\n\t\t\t\t// Found a suitable parent\n\t\t\t\tif (parent && parents.length > 1) {\n\t\t\t\t\t// Reverse the array since it makes looping easier\n\t\t\t\t\tparents.reverse();\n\n\t\t\t\t\t// Clone the related parent and insert that after the moved node\n\t\t\t\t\tnewParent = currentNode = self.filterNode(parents[0].clone());\n\n\t\t\t\t\t// Start cloning and moving children on the left side of the target node\n\t\t\t\t\tfor (i = 0; i < parents.length - 1; i++) {\n\t\t\t\t\t\tif (schema.isValidChild(currentNode.name, parents[i].name)) {\n\t\t\t\t\t\t\ttempNode = self.filterNode(parents[i].clone());\n\t\t\t\t\t\t\tcurrentNode.append(tempNode);\n\t\t\t\t\t\t} else\n\t\t\t\t\t\t\ttempNode = currentNode;\n\n\t\t\t\t\t\tfor (childNode = parents[i].firstChild; childNode && childNode != parents[i + 1]; ) {\n\t\t\t\t\t\t\tnextNode = childNode.next;\n\t\t\t\t\t\t\ttempNode.append(childNode);\n\t\t\t\t\t\t\tchildNode = nextNode;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tcurrentNode = tempNode;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!newParent.isEmpty(nonEmptyElements)) {\n\t\t\t\t\t\tparent.insert(newParent, parents[0], true);\n\t\t\t\t\t\tparent.insert(node, newParent);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tparent.insert(node, parents[0], true);\n\t\t\t\t\t}\n\n\t\t\t\t\t// Check if the element is empty by looking through it's contents and special treatment for <p><br /></p>\n\t\t\t\t\tparent = parents[0];\n\t\t\t\t\tif (parent.isEmpty(nonEmptyElements) || parent.firstChild === parent.lastChild && parent.firstChild.name === 'br') {\n\t\t\t\t\t\tparent.empty().remove();\n\t\t\t\t\t}\n\t\t\t\t} else if (node.parent) {\n\t\t\t\t\t// If it's an LI try to find a UL/OL for it or wrap it\n\t\t\t\t\tif (node.name === 'li') {\n\t\t\t\t\t\tsibling = node.prev;\n\t\t\t\t\t\tif (sibling && (sibling.name === 'ul' || sibling.name === 'ul')) {\n\t\t\t\t\t\t\tsibling.append(node);\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsibling = node.next;\n\t\t\t\t\t\tif (sibling && (sibling.name === 'ul' || sibling.name === 'ul')) {\n\t\t\t\t\t\t\tsibling.insert(node, sibling.firstChild, true);\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tnode.wrap(self.filterNode(new Node('ul', 1)));\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Try wrapping the element in a DIV\n\t\t\t\t\tif (schema.isValidChild(node.parent.name, 'div') && schema.isValidChild('div', node.name)) {\n\t\t\t\t\t\tnode.wrap(self.filterNode(new Node('div', 1)));\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// We failed wrapping it, then remove or unwrap it\n\t\t\t\t\t\tif (node.name === 'style' || node.name === 'script')\n\t\t\t\t\t\t\tnode.empty().remove();\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tnode.unwrap();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\t/**\n\t\t * Runs the specified node though the element and attributes filters.\n\t\t *\n\t\t * @param {tinymce.html.Node} Node the node to run filters on.\n\t\t * @return {tinymce.html.Node} The passed in node.\n\t\t */\n\t\tself.filterNode = function(node) {\n\t\t\tvar i, name, list;\n\n\t\t\t// Run element filters\n\t\t\tif (name in nodeFilters) {\n\t\t\t\tlist = matchedNodes[name];\n\n\t\t\t\tif (list)\n\t\t\t\t\tlist.push(node);\n\t\t\t\telse\n\t\t\t\t\tmatchedNodes[name] = [node];\n\t\t\t}\n\n\t\t\t// Run attribute filters\n\t\t\ti = attributeFilters.length;\n\t\t\twhile (i--) {\n\t\t\t\tname = attributeFilters[i].name;\n\n\t\t\t\tif (name in node.attributes.map) {\n\t\t\t\t\tlist = matchedAttributes[name];\n\n\t\t\t\t\tif (list)\n\t\t\t\t\t\tlist.push(node);\n\t\t\t\t\telse\n\t\t\t\t\t\tmatchedAttributes[name] = [node];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn node;\n\t\t};\n\n\t\t/**\n\t\t * Adds a node filter function to the parser, the parser will collect the specified nodes by name\n\t\t * and then execute the callback ones it has finished parsing the document.\n\t\t *\n\t\t * @example\n\t\t * parser.addNodeFilter('p,h1', function(nodes, name) {\n\t\t *\t\tfor (var i = 0; i < nodes.length; i++) {\n\t\t *\t\t\tconsole.log(nodes[i].name);\n\t\t *\t\t}\n\t\t * });\n\t\t * @method addNodeFilter\n\t\t * @method {String} name Comma separated list of nodes to collect.\n\t\t * @param {function} callback Callback function to execute once it has collected nodes.\n\t\t */\n\t\tself.addNodeFilter = function(name, callback) {\n\t\t\ttinymce.each(tinymce.explode(name), function(name) {\n\t\t\t\tvar list = nodeFilters[name];\n\n\t\t\t\tif (!list)\n\t\t\t\t\tnodeFilters[name] = list = [];\n\n\t\t\t\tlist.push(callback);\n\t\t\t});\n\t\t};\n\n\t\t/**\n\t\t * Adds a attribute filter function to the parser, the parser will collect nodes that has the specified attributes\n\t\t * and then execute the callback ones it has finished parsing the document.\n\t\t *\n\t\t * @example\n\t\t * parser.addAttributeFilter('src,href', function(nodes, name) {\n\t\t *\t\tfor (var i = 0; i < nodes.length; i++) {\n\t\t *\t\t\tconsole.log(nodes[i].name);\n\t\t *\t\t}\n\t\t * });\n\t\t * @method addAttributeFilter\n\t\t * @method {String} name Comma separated list of nodes to collect.\n\t\t * @param {function} callback Callback function to execute once it has collected nodes.\n\t\t */\n\t\tself.addAttributeFilter = function(name, callback) {\n\t\t\ttinymce.each(tinymce.explode(name), function(name) {\n\t\t\t\tvar i;\n\n\t\t\t\tfor (i = 0; i < attributeFilters.length; i++) {\n\t\t\t\t\tif (attributeFilters[i].name === name) {\n\t\t\t\t\t\tattributeFilters[i].callbacks.push(callback);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tattributeFilters.push({name: name, callbacks: [callback]});\n\t\t\t});\n\t\t};\n\n\t\t/**\n\t\t * Parses the specified HTML string into a DOM like node tree and returns the result.\n\t\t *\n\t\t * @example\n\t\t * var rootNode = new DomParser({...}).parse('<b>text</b>');\n\t\t * @method parse\n\t\t * @param {String} html Html string to sax parse.\n\t\t * @param {Object} args Optional args object that gets passed to all filter functions.\n\t\t * @return {tinymce.html.Node} Root node containing the tree.\n\t\t */\n\t\tself.parse = function(html, args) {\n\t\t\tvar parser, rootNode, node, nodes, i, l, fi, fl, list, name, validate,\n\t\t\t\tblockElements, startWhiteSpaceRegExp, invalidChildren = [],\n\t\t\t\tendWhiteSpaceRegExp, allWhiteSpaceRegExp, whiteSpaceElements, children, nonEmptyElements, rootBlockName;\n\n\t\t\targs = args || {};\n\t\t\tmatchedNodes = {};\n\t\t\tmatchedAttributes = {};\n\t\t\tblockElements = tinymce.extend(tinymce.makeMap('script,style,head,html,body,title,meta,param'), schema.getBlockElements());\n\t\t\tnonEmptyElements = schema.getNonEmptyElements();\n\t\t\tchildren = schema.children;\n\t\t\tvalidate = settings.validate;\n\t\t\trootBlockName = \"forced_root_block\" in args ? args.forced_root_block : settings.forced_root_block;\n\n\t\t\twhiteSpaceElements = schema.getWhiteSpaceElements();\n\t\t\tstartWhiteSpaceRegExp = /^[ \\t\\r\\n]+/;\n\t\t\tendWhiteSpaceRegExp = /[ \\t\\r\\n]+$/;\n\t\t\tallWhiteSpaceRegExp = /[ \\t\\r\\n]+/g;\n\n\t\t\tfunction addRootBlocks() {\n\t\t\t\tvar node = rootNode.firstChild, next, rootBlockNode;\n\n\t\t\t\twhile (node) {\n\t\t\t\t\tnext = node.next;\n\n\t\t\t\t\tif (node.type == 3 || (node.type == 1 && node.name !== 'p' && !blockElements[node.name] && !node.attr('data-mce-type'))) {\n\t\t\t\t\t\tif (!rootBlockNode) {\n\t\t\t\t\t\t\t// Create a new root block element\n\t\t\t\t\t\t\trootBlockNode = createNode(rootBlockName, 1);\n\t\t\t\t\t\t\trootNode.insert(rootBlockNode, node);\n\t\t\t\t\t\t\trootBlockNode.append(node);\n\t\t\t\t\t\t} else\n\t\t\t\t\t\t\trootBlockNode.append(node);\n\t\t\t\t\t} else {\n\t\t\t\t\t\trootBlockNode = null;\n\t\t\t\t\t}\n\n\t\t\t\t\tnode = next;\n\t\t\t\t};\n\t\t\t};\n\n\t\t\tfunction createNode(name, type) {\n\t\t\t\tvar node = new Node(name, type), list;\n\n\t\t\t\tif (name in nodeFilters) {\n\t\t\t\t\tlist = matchedNodes[name];\n\n\t\t\t\t\tif (list)\n\t\t\t\t\t\tlist.push(node);\n\t\t\t\t\telse\n\t\t\t\t\t\tmatchedNodes[name] = [node];\n\t\t\t\t}\n\n\t\t\t\treturn node;\n\t\t\t};\n\n\t\t\tfunction removeWhitespaceBefore(node) {\n\t\t\t\tvar textNode, textVal, sibling;\n\n\t\t\t\tfor (textNode = node.prev; textNode && textNode.type === 3; ) {\n\t\t\t\t\ttextVal = textNode.value.replace(endWhiteSpaceRegExp, '');\n\n\t\t\t\t\tif (textVal.length > 0) {\n\t\t\t\t\t\ttextNode.value = textVal;\n\t\t\t\t\t\ttextNode = textNode.prev;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsibling = textNode.prev;\n\t\t\t\t\t\ttextNode.remove();\n\t\t\t\t\t\ttextNode = sibling;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tparser = new tinymce.html.SaxParser({\n\t\t\t\tvalidate : validate,\n\t\t\t\tfix_self_closing : !validate, // Let the DOM parser handle <li> in <li> or <p> in <p> for better results\n\n\t\t\t\tcdata: function(text) {\n\t\t\t\t\tnode.append(createNode('#cdata', 4)).value = text;\n\t\t\t\t},\n\n\t\t\t\ttext: function(text, raw) {\n\t\t\t\t\tvar textNode;\n\n\t\t\t\t\t// Trim all redundant whitespace on non white space elements\n\t\t\t\t\tif (!whiteSpaceElements[node.name]) {\n\t\t\t\t\t\ttext = text.replace(allWhiteSpaceRegExp, ' ');\n\n\t\t\t\t\t\tif (node.lastChild && blockElements[node.lastChild.name])\n\t\t\t\t\t\t\ttext = text.replace(startWhiteSpaceRegExp, '');\n\t\t\t\t\t}\n\n\t\t\t\t\t// Do we need to create the node\n\t\t\t\t\tif (text.length !== 0) {\n\t\t\t\t\t\ttextNode = createNode('#text', 3);\n\t\t\t\t\t\ttextNode.raw = !!raw;\n\t\t\t\t\t\tnode.append(textNode).value = text;\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tcomment: function(text) {\n\t\t\t\t\tnode.append(createNode('#comment', 8)).value = text;\n\t\t\t\t},\n\n\t\t\t\tpi: function(name, text) {\n\t\t\t\t\tnode.append(createNode(name, 7)).value = text;\n\t\t\t\t\tremoveWhitespaceBefore(node);\n\t\t\t\t},\n\n\t\t\t\tdoctype: function(text) {\n\t\t\t\t\tvar newNode;\n\t\t\n\t\t\t\t\tnewNode = node.append(createNode('#doctype', 10));\n\t\t\t\t\tnewNode.value = text;\n\t\t\t\t\tremoveWhitespaceBefore(node);\n\t\t\t\t},\n\n\t\t\t\tstart: function(name, attrs, empty) {\n\t\t\t\t\tvar newNode, attrFiltersLen, elementRule, textNode, attrName, text, sibling, parent;\n\n\t\t\t\t\telementRule = validate ? schema.getElementRule(name) : {};\n\t\t\t\t\tif (elementRule) {\n\t\t\t\t\t\tnewNode = createNode(elementRule.outputName || name, 1);\n\t\t\t\t\t\tnewNode.attributes = attrs;\n\t\t\t\t\t\tnewNode.shortEnded = empty;\n\n\t\t\t\t\t\tnode.append(newNode);\n\n\t\t\t\t\t\t// Check if node is valid child of the parent node is the child is\n\t\t\t\t\t\t// unknown we don't collect it since it's probably a custom element\n\t\t\t\t\t\tparent = children[node.name];\n\t\t\t\t\t\tif (parent && children[newNode.name] && !parent[newNode.name])\n\t\t\t\t\t\t\tinvalidChildren.push(newNode);\n\n\t\t\t\t\t\tattrFiltersLen = attributeFilters.length;\n\t\t\t\t\t\twhile (attrFiltersLen--) {\n\t\t\t\t\t\t\tattrName = attributeFilters[attrFiltersLen].name;\n\n\t\t\t\t\t\t\tif (attrName in attrs.map) {\n\t\t\t\t\t\t\t\tlist = matchedAttributes[attrName];\n\n\t\t\t\t\t\t\t\tif (list)\n\t\t\t\t\t\t\t\t\tlist.push(newNode);\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tmatchedAttributes[attrName] = [newNode];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Trim whitespace before block\n\t\t\t\t\t\tif (blockElements[name])\n\t\t\t\t\t\t\tremoveWhitespaceBefore(newNode);\n\n\t\t\t\t\t\t// Change current node if the element wasn't empty i.e not <br /> or <img />\n\t\t\t\t\t\tif (!empty)\n\t\t\t\t\t\t\tnode = newNode;\n\t\t\t\t\t}\n\t\t\t\t},\n\n\t\t\t\tend: function(name) {\n\t\t\t\t\tvar textNode, elementRule, text, sibling, tempNode;\n\n\t\t\t\t\telementRule = validate ? schema.getElementRule(name) : {};\n\t\t\t\t\tif (elementRule) {\n\t\t\t\t\t\tif (blockElements[name]) {\n\t\t\t\t\t\t\tif (!whiteSpaceElements[node.name]) {\n\t\t\t\t\t\t\t\t// Trim whitespace at beginning of block\n\t\t\t\t\t\t\t\tfor (textNode = node.firstChild; textNode && textNode.type === 3; ) {\n\t\t\t\t\t\t\t\t\ttext = textNode.value.replace(startWhiteSpaceRegExp, '');\n\n\t\t\t\t\t\t\t\t\tif (text.length > 0) {\n\t\t\t\t\t\t\t\t\t\ttextNode.value = text;\n\t\t\t\t\t\t\t\t\t\ttextNode = textNode.next;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsibling = textNode.next;\n\t\t\t\t\t\t\t\t\t\ttextNode.remove();\n\t\t\t\t\t\t\t\t\t\ttextNode = sibling;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t// Trim whitespace at end of block\n\t\t\t\t\t\t\t\tfor (textNode = node.lastChild; textNode && textNode.type === 3; ) {\n\t\t\t\t\t\t\t\t\ttext = textNode.value.replace(endWhiteSpaceRegExp, '');\n\n\t\t\t\t\t\t\t\t\tif (text.length > 0) {\n\t\t\t\t\t\t\t\t\t\ttextNode.value = text;\n\t\t\t\t\t\t\t\t\t\ttextNode = textNode.prev;\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsibling = textNode.prev;\n\t\t\t\t\t\t\t\t\t\ttextNode.remove();\n\t\t\t\t\t\t\t\t\t\ttextNode = sibling;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t// Trim start white space\n\t\t\t\t\t\t\ttextNode = node.prev;\n\t\t\t\t\t\t\tif (textNode && textNode.type === 3) {\n\t\t\t\t\t\t\t\ttext = textNode.value.replace(startWhiteSpaceRegExp, '');\n\n\t\t\t\t\t\t\t\tif (text.length > 0)\n\t\t\t\t\t\t\t\t\ttextNode.value = text;\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\ttextNode.remove();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Handle empty nodes\n\t\t\t\t\t\tif (elementRule.removeEmpty || elementRule.paddEmpty) {\n\t\t\t\t\t\t\tif (node.isEmpty(nonEmptyElements)) {\n\t\t\t\t\t\t\t\tif (elementRule.paddEmpty)\n\t\t\t\t\t\t\t\t\tnode.empty().append(new Node('#text', '3')).value = '\\u00a0';\n\t\t\t\t\t\t\t\telse {\n\t\t\t\t\t\t\t\t\t// Leave nodes that have a name like <a name=\"name\">\n\t\t\t\t\t\t\t\t\tif (!node.attributes.map.name) {\n\t\t\t\t\t\t\t\t\t\ttempNode = node.parent;\n\t\t\t\t\t\t\t\t\t\tnode.empty().remove();\n\t\t\t\t\t\t\t\t\t\tnode = tempNode;\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tnode = node.parent;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}, schema);\n\n\t\t\trootNode = node = new Node(args.context || settings.root_name, 11);\n\n\t\t\tparser.parse(html);\n\n\t\t\t// Fix invalid children or report invalid children in a contextual parsing\n\t\t\tif (validate && invalidChildren.length) {\n\t\t\t\tif (!args.context)\n\t\t\t\t\tfixInvalidChildren(invalidChildren);\n\t\t\t\telse\n\t\t\t\t\targs.invalid = true;\n\t\t\t}\n\n\t\t\t// Wrap nodes in the root into block elements if the root is body\n\t\t\tif (rootBlockName && rootNode.name == 'body')\n\t\t\t\taddRootBlocks();\n\n\t\t\t// Run filters only when the contents is valid\n\t\t\tif (!args.invalid) {\n\t\t\t\t// Run node filters\n\t\t\t\tfor (name in matchedNodes) {\n\t\t\t\t\tlist = nodeFilters[name];\n\t\t\t\t\tnodes = matchedNodes[name];\n\n\t\t\t\t\t// Remove already removed children\n\t\t\t\t\tfi = nodes.length;\n\t\t\t\t\twhile (fi--) {\n\t\t\t\t\t\tif (!nodes[fi].parent)\n\t\t\t\t\t\t\tnodes.splice(fi, 1);\n\t\t\t\t\t}\n\n\t\t\t\t\tfor (i = 0, l = list.length; i < l; i++)\n\t\t\t\t\t\tlist[i](nodes, name, args);\n\t\t\t\t}\n\n\t\t\t\t// Run attribute filters\n\t\t\t\tfor (i = 0, l = attributeFilters.length; i < l; i++) {\n\t\t\t\t\tlist = attributeFilters[i];\n\n\t\t\t\t\tif (list.name in matchedAttributes) {\n\t\t\t\t\t\tnodes = matchedAttributes[list.name];\n\n\t\t\t\t\t\t// Remove already removed children\n\t\t\t\t\t\tfi = nodes.length;\n\t\t\t\t\t\twhile (fi--) {\n\t\t\t\t\t\t\tif (!nodes[fi].parent)\n\t\t\t\t\t\t\t\tnodes.splice(fi, 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tfor (fi = 0, fl = list.callbacks.length; fi < fl; fi++)\n\t\t\t\t\t\t\tlist.callbacks[fi](nodes, list.name, args);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn rootNode;\n\t\t};\n\n\t\t// Remove <br> at end of block elements Gecko and WebKit injects BR elements to\n\t\t// make it possible to place the caret inside empty blocks. This logic tries to remove\n\t\t// these elements and keep br elements that where intended to be there intact\n\t\tif (settings.remove_trailing_brs) {\n\t\t\tself.addNodeFilter('br', function(nodes, name) {\n\t\t\t\tvar i, l = nodes.length, node, blockElements = schema.getBlockElements(),\n\t\t\t\t\tnonEmptyElements = schema.getNonEmptyElements(), parent, prev, prevName;\n\n\t\t\t\t// Remove brs from body element as well\n\t\t\t\tblockElements.body = 1;\n\n\t\t\t\t// Must loop forwards since it will otherwise remove all brs in <p>a<br><br><br></p>\n\t\t\t\tfor (i = 0; i < l; i++) {\n\t\t\t\t\tnode = nodes[i];\n\t\t\t\t\tparent = node.parent;\n\n\t\t\t\t\tif (blockElements[node.parent.name] && node === parent.lastChild) {\n\t\t\t\t\t\t// Loop all nodes to the right of the current node and check for other BR elements\n\t\t\t\t\t\t// excluding bookmarks since they are invisible\n\t\t\t\t\t\tprev = node.prev;\n\t\t\t\t\t\twhile (prev) {\n\t\t\t\t\t\t\tprevName = prev.name;\n\n\t\t\t\t\t\t\t// Ignore bookmarks\n\t\t\t\t\t\t\tif (prevName !== \"span\" || prev.attr('data-mce-type') !== 'bookmark') {\n\t\t\t\t\t\t\t\t// Found a non BR element\n\t\t\t\t\t\t\t\tif (prevName !== \"br\")\n\t\t\t\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\t\t\t// Found another br it's a <br><br> structure then don't remove anything\n\t\t\t\t\t\t\t\tif (prevName === 'br') {\n\t\t\t\t\t\t\t\t\tnode = null;\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tprev = prev.prev;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (node) {\n\t\t\t\t\t\t\tnode.remove();\n\n\t\t\t\t\t\t\t// Is the parent to be considered empty after we removed the BR\n\t\t\t\t\t\t\tif (parent.isEmpty(nonEmptyElements)) {\n\t\t\t\t\t\t\t\telementRule = schema.getElementRule(parent.name);\n\n\t\t\t\t\t\t\t\t// Remove or padd the element depending on schema rule\n\t\t\t\t\t\t\t\tif (elementRule) {\n\t\t\t\t\t\t\t\t  if (elementRule.removeEmpty)\n\t\t\t\t\t\t\t\t\t  parent.remove();\n\t\t\t\t\t\t\t\t  else if (elementRule.paddEmpty)\n\t\t\t\t\t\t\t\t\t  parent.empty().append(new tinymce.html.Node('#text', 3)).value = '\\u00a0';\n\t\t\t\t\t\t\t  }\n              }\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n})(tinymce);\n","Magento_Tinymce3/tiny_mce/classes/firebug/firebug-lite.js":"var firebug = {\n  version:[1.23,20090309],\n  el:{}, \n  env:{ \n    \"cache\":{},\n    \"extConsole\":null,\n    \"css\":\"http://getfirebug.com/releases/lite/1.2/firebug-lite.css\", \n    \"debug\":true,\n    \"detectFirebug\":true,\n    \"dIndex\":\"console\", \n    \"height\":295,\n    \"hideDOMFunctions\":false,\n    \"init\":false, \n    \"isPopup\":false,\n    \"liteFilename\":\"firebug-lite.js\",\n    \"minimized\":false,\n    \"openInPopup\": false,\n    \"override\":true,\n    \"ml\":false,\n    \"popupWin\":null,\n    \"showIconWhenHidden\":true,\n    \"targetWindow\":undefined,\n    \"popupTop\":1,\n    \"popupLeft\":1,\n    \"popupWidth\":undefined,\n    \"popupHeight\":undefined\n  },\n  initConsole:function(){\n    /* \n     * initialize the console - user defined values are not available within this method because FBLite is not yet initialized\n     */\n    var command;\n    try{\n      if((!window.console || (window.console && !window.console.firebug)) || (firebug.env.override && !(/Firefox\\/3/i.test(navigator.userAgent)))){\n        window.console = { \"provider\":\"Firebug Lite\" };\n\n        for(command in firebug.d.console.cmd){\n          window.console[command] = firebug.lib.util.Curry(firebug.d.console.run,window,command);\n        };\n      }\n      /*window.onerror = function(_message,_file,_line){\n        firebug.d.console.run('error',firebug.lib.util.String.format('{0} ({1},{2})',_message,firebug.getFileName(_file),_line));\n      };*/\n      } catch(e){}\n  },\n  overrideConsole:function(){\n    with (firebug){\n      env.override=true;\n      try{\n        env.extConsole=window.console;\n      } catch(e){}\n      initConsole();\n    }\n  },\n  restoreConsole:function(){\n    with(firebug){\n      if(env.extConsole){\n        env.override=false;\n        try{\n          window.console=env.extConsole;\n        } catch(e){}\n        env.extConsole=null;\n      }\n    }\n  },\n  init:function(_css){\n    var iconTitle = \"Click here or press F12, (CTRL|CMD)+SHIFT+L or SHIFT+ENTER to show Firebug Lite. CTRL|CMD click this icon to hide it.\";\n  \n    with(firebug){\n      if(document.getElementsByTagName('html')[0].attributes.getNamedItem('debug')){\n        env.debug = document.getElementsByTagName('html')[0].attributes.getNamedItem('debug').nodeValue !== \"false\";\n      }\n            \n      if(env.isPopup) {\n        env.openInPopup = false;\n        env.targetWindow = window.opener;\n        env.popupWidth = window.opener.firebug.env.popupWidth || window.opener.firebug.lib.util.GetViewport().width;\n        env.popupHeight = window.opener.firebug.env.popupHeight || window.opener.firebug.lib.util.GetViewport().height;\n      } else {\n        env.targetWindow = window;\n        env.popupWidth = env.popupWidth || lib.util.GetViewport().width;\n        env.popupHeight = env.popupHeight || lib.util.GetViewport().height;\n      }\n\n      settings.readCookie();\n      \n      if(env.init || (env.detectFirebug && window.console && window.console.firebug)) {\n        return;\n      }\n\n      document.getElementsByTagName(\"head\")[0].appendChild(\n        new lib.element(\"link\").attribute.set(\"rel\",\"stylesheet\").attribute.set(\"type\",\"text/css\").attribute.set(\"href\",env.css).element\n      );\n\n      if(env.override){\n        overrideConsole();\n      }\n      \n      /* \n       * Firebug Icon\n       */\n      el.firebugIcon = new lib.element(\"div\").attribute.set(\"id\",\"firebugIconDiv\").attribute.set(\"title\",iconTitle).attribute.set(\"alt\",iconTitle).event.addListener(\"mousedown\",win.iconClicked).insert(document.body);\n      \n      /* \n       * main interface\n       */\n      el.content = {};\n      el.mainiframe = new lib.element(\"IFRAME\").attribute.set(\"id\",\"FirebugIFrame\").environment.addStyle({ \"display\":\"none\", \"width\":lib.util.GetViewport().width+\"px\" }).insert(document.body);\n      el.main = new lib.element(\"DIV\").attribute.set(\"id\",\"Firebug\").environment.addStyle({ \"display\":\"none\", \"width\":lib.util.GetViewport().width+\"px\" }).insert(document.body);\n      if(!env.isPopup){\n        el.resizer = new lib.element(\"DIV\").attribute.addClass(\"Resizer\").event.addListener(\"mousedown\",win.resizer.start).insert(el.main);\n      }\n      el.header = new lib.element(\"DIV\").attribute.addClass(\"Header\").insert(el.main);\n      el.left = {};\n      el.left.container = new lib.element(\"DIV\").attribute.addClass(\"Left\").insert(el.main);\n      el.right = {};\n      el.right.container = new lib.element(\"DIV\").attribute.addClass(\"Right\").insert(el.main);\n      el.main.child.add(new lib.element(\"DIV\").attribute.addClass('Clear'));\n\n      /*\n       * buttons\n       */\n      el.button = {};\n      el.button.container = new lib.element(\"DIV\").attribute.addClass(\"ButtonContainer\").insert(el.header);\n      el.button.logo = new lib.element(\"A\").attribute.set(\"title\",\"Firebug Lite\").attribute.set(\"target\",\"_blank\").attribute.set(\"href\",\"http://getfirebug.com/lite.html\").update(\"&nbsp;\").attribute.addClass(\"Button Logo\").insert(el.button.container);\n      el.button.inspect = new lib.element(\"A\").attribute.addClass(\"Button\").event.addListener(\"click\",env.targetWindow.firebug.d.inspector.toggle).update(\"Inspect\").insert(el.button.container);\n      el.button.dock = new lib.element(\"A\").attribute.addClass(\"Button Dock\").event.addListener(\"click\", win.dock).insert(el.button.container);\n      el.button.newWindow = new lib.element(\"A\").attribute.addClass(\"Button NewWindow\").event.addListener(\"click\", win.newWindow).insert(el.button.container);\n\n      if(!env.isPopup){\n        el.button.maximize = new lib.element(\"A\").attribute.addClass(\"Button Maximize\").event.addListener(\"click\",win.maximize).insert(el.button.container);\n        el.button.minimize = new lib.element(\"A\").attribute.addClass(\"Button Minimize\").event.addListener(\"click\",win.minimize).insert(el.button.container);\n        el.button.close = new lib.element(\"A\").attribute.addClass(\"Button Close\").event.addListener(\"click\",win.hide).insert(el.button.container);\n      }\n\n      if(lib.env.ie||lib.env.webkit){\n        el.button.container.environment.addStyle({ \"paddingTop\":\"12px\" });\n      }\n\n      /*\n       * navigation\n       */\n      el.nav = {};\n      el.nav.container = new lib.element(\"DIV\").attribute.addClass(\"Nav\").insert(el.left.container);\n      el.nav.console = new lib.element(\"A\").attribute.addClass(\"Tab Selected\").event.addListener(\"click\",lib.util.Curry(d.navigate,window,\"console\")).update(\"Console\").insert(el.nav.container);\n      el.nav.html = new lib.element(\"A\").attribute.addClass(\"Tab\").update(\"HTML\").event.addListener(\"click\",lib.util.Curry(d.navigate,window,\"html\")).insert(el.nav.container);\n      el.nav.css = new lib.element(\"A\").attribute.addClass(\"Tab\").update(\"CSS\").event.addListener(\"click\",lib.util.Curry(d.navigate,window,\"css\")).insert(el.nav.container);\n      if(!env.isPopup){\n        el.nav.scripts = new lib.element(\"A\").attribute.addClass(\"Tab\").update(\"Script\").event.addListener(\"click\",lib.util.Curry(d.navigate,window,\"scripts\")).insert(el.nav.container);\n      }\n      el.nav.dom = new lib.element(\"A\").attribute.addClass(\"Tab\").update(\"DOM\").event.addListener(\"click\",lib.util.Curry(d.navigate,env.targetWindow,\"dom\")).insert(el.nav.container);\n      el.nav.xhr = new lib.element(\"A\").attribute.addClass(\"Tab\").update(\"XHR\").event.addListener(\"click\",lib.util.Curry(d.navigate,window,\"xhr\")).insert(el.nav.container);\n      el.nav.optionsdiv = new lib.element(\"DIV\").attribute.addClass(\"Settings\").insert(el.nav.container);\n      el.nav.options = new lib.element(\"A\").attribute.addClass(\"Tab\").update(\"Options&nbsp;&or;\").event.addListener(\"click\", settings.toggle).insert(el.nav.optionsdiv);\n      \n      /*\n       * inspector\n       */\n      el.borderInspector = new lib.element(\"DIV\").attribute.set(\"id\",\"FirebugBorderInspector\").event.addListener(\"click\",listen.inspector).insert(document.body);\n      el.bgInspector = new lib.element(\"DIV\").attribute.set(\"id\",\"FirebugBGInspector\").insert(document.body);\n\n      /*\n       * console\n       */\n      el.left.console = {};\n      el.left.console.container = new lib.element(\"DIV\").attribute.addClass(\"Console\").insert(el.left.container);\n      el.left.console.mlButton = new lib.element(\"A\").attribute.addClass(\"MLButton\").event.addListener(\"click\",d.console.toggleML).insert(el.left.console.container);\n      el.left.console.monitor = new lib.element(\"DIV\").insert(\n          new lib.element(\"DIV\").attribute.addClass(\"Monitor\").insert(el.left.console.container)\n      );\n      el.left.console.container.child.add(\n          new lib.element(\"DIV\").attribute.addClass(\"InputArrow\").update(\">>>\")\n      );\n      el.left.console.input = new lib.element(\"INPUT\").attribute.set(\"type\",\"text\").attribute.addClass(\"Input\").event.addListener(\"keydown\",listen.consoleTextbox).insert(\n          new lib.element(\"DIV\").attribute.addClass(\"InputContainer\").insert(el.left.console.container)\n      );\n\n      el.right.console = {};\n      el.right.console.container = new lib.element(\"DIV\").attribute.addClass(\"Console Container\").insert(el.right.container);\n      el.right.console.mlButton = new lib.element(\"A\").attribute.addClass(\"MLButton CloseML\").event.addListener(\"click\",d.console.toggleML).insert(el.right.console.container);\n      el.right.console.input = new lib.element(\"TEXTAREA\").attribute.addClass(\"Input\").insert(el.right.console.container);\n      el.right.console.input.event.addListener(\"keydown\",lib.util.Curry(tab,window,el.right.console.input.element));\n      el.right.console.run = new lib.element(\"A\").attribute.addClass(\"Button\").event.addListener(\"click\",listen.runMultiline).update(\"Run\").insert(el.right.console.container);\n      el.right.console.clear = new lib.element(\"A\").attribute.addClass(\"Button\").event.addListener(\"click\",lib.util.Curry(d.clean,window,el.right.console.input)).update(\"Clear\").insert(el.right.console.container);\n\n      el.button.console = {};\n      el.button.console.container = new lib.element(\"DIV\").attribute.addClass(\"ButtonSet\").insert(el.button.container);\n      el.button.console.clear = new lib.element(\"A\").attribute.addClass(\"Button\").event.addListener(\"click\",d.console.clear).update(\"Clear\").insert(el.button.console.container);\n\n      /*\n       * html\n       */\n\n      el.left.html = {};\n      el.left.html.container = new lib.element(\"DIV\").attribute.addClass(\"HTML\").insert(el.left.container);\n\n      el.right.html = {};\n      el.right.html.container = new lib.element(\"DIV\").attribute.addClass(\"HTML Container\").insert(el.right.container);\n\n      el.right.html.nav = {};\n      el.right.html.nav.container = new lib.element(\"DIV\").attribute.addClass(\"Nav\").insert(el.right.html.container);\n      el.right.html.nav.computedStyle = new lib.element(\"A\").attribute.addClass(\"Tab Selected\").event.addListener(\"click\",lib.util.Curry(d.html.navigate,firebug,\"computedStyle\")).update(\"Computed Style\").insert(el.right.html.nav.container);\n      el.right.html.nav.dom = new lib.element(\"A\").attribute.addClass(\"Tab\").event.addListener(\"click\",lib.util.Curry(d.html.navigate,firebug,\"dom\")).update(\"DOM\").insert(el.right.html.nav.container);\n\n      el.right.html.content = new lib.element(\"DIV\").attribute.addClass(\"Content\").insert(el.right.html.container);\n\n      el.button.html = {};\n      el.button.html.container = new lib.element(\"DIV\").attribute.addClass(\"ButtonSet HTML\").insert(el.button.container);\n\n      /*\n       * css\n       */\n\n      el.left.css = {};\n      el.left.css.container = new lib.element(\"DIV\").attribute.addClass(\"CSS\").insert(el.left.container);\n\n      el.right.css = {};\n      el.right.css.container = new lib.element(\"DIV\").attribute.addClass(\"CSS Container\").insert(el.right.container);\n\n      el.right.css.nav = {};\n      el.right.css.nav.container = new lib.element(\"DIV\").attribute.addClass(\"Nav\").insert(el.right.css.container);\n      el.right.css.nav.runCSS = new lib.element(\"A\").attribute.addClass(\"Tab Selected\").update(\"Run CSS\").insert(el.right.css.nav.container);\n\n      el.right.css.mlButton = new lib.element(\"A\").attribute.addClass(\"MLButton CloseML\").event.addListener(\"click\",d.console.toggleML).insert(el.right.css.container);\n      el.right.css.input = new lib.element(\"TEXTAREA\").attribute.addClass(\"Input\").insert(el.right.css.container);\n      el.right.css.input.event.addListener(\"keydown\",lib.util.Curry(firebug.tab,window,el.right.css.input.element));\n      el.right.css.run = new lib.element(\"A\").attribute.addClass(\"Button\").event.addListener(\"click\",listen.runCSS).update(\"Run\").insert(el.right.css.container);\n      el.right.css.clear = new lib.element(\"A\").attribute.addClass(\"Button\").event.addListener(\"click\",lib.util.Curry(d.clean,window,el.right.css.input)).update(\"Clear\").insert(el.right.css.container);\n\n      el.button.css = {};\n      el.button.css.container = new lib.element(\"DIV\").attribute.addClass(\"ButtonSet CSS\").insert(el.button.container);\n      el.button.css.selectbox = new lib.element(\"SELECT\").event.addListener(\"change\",listen.cssSelectbox).insert(el.button.css.container);\n\n      /*\n       * scripts\n       */\n\n      el.left.scripts = {};\n      el.left.scripts.container = new lib.element(\"DIV\").attribute.addClass(\"Scripts\").insert(el.left.container);\n\n      el.right.scripts = {};\n      el.right.scripts.container = new lib.element(\"DIV\").attribute.addClass(\"Scripts Container\").insert(el.right.container);\n\n      el.button.scripts = {};\n      el.button.scripts.container = new lib.element(\"DIV\").attribute.addClass(\"ButtonSet Scripts\").insert(el.button.container);\n      el.button.scripts.selectbox = new lib.element(\"SELECT\").event.addListener(\"change\",listen.scriptsSelectbox).insert(el.button.scripts.container);\n      el.button.scripts.lineNumbers = new lib.element(\"A\").attribute.addClass(\"Button\").event.addListener(\"click\",d.scripts.toggleLineNumbers).update(\"Show Line Numbers\").insert(el.button.scripts.container);\n\n      /*\n       * dom\n       */\n\n      el.left.dom = {};\n      el.left.dom.container = new lib.element(\"DIV\").attribute.addClass(\"DOM\").insert(el.left.container);\n\n      el.right.dom = {};\n      el.right.dom.container = new lib.element(\"DIV\").attribute.addClass(\"DOM Container\").insert(el.right.container);\n\n      el.button.dom = {};\n      el.button.dom.container = new lib.element(\"DIV\").attribute.addClass(\"ButtonSet DOM\").insert(el.button.container);\n      el.button.dom.label = new lib.element(\"LABEL\").update(\"Object Path:\").insert(el.button.dom.container);\n      el.button.dom.textbox = new lib.element(\"INPUT\").event.addListener(\"keydown\",listen.domTextbox).update(env.isPopup?\"window.opener\":\"window\").insert(el.button.dom.container);\n\n      /*\n       * str\n       */\n      el.left.str = {};\n      el.left.str.container = new lib.element(\"DIV\").attribute.addClass(\"STR\").insert(el.left.container);\n\n      el.right.str = {};\n      el.right.str.container = new lib.element(\"DIV\").attribute.addClass(\"STR\").insert(el.left.container);\n\n      el.button.str = {};\n      el.button.str.container = new lib.element(\"DIV\").attribute.addClass(\"ButtonSet XHR\").insert(el.button.container);\n      el.button.str.watch = new lib.element(\"A\").attribute.addClass(\"Button\").event.addListener(\"click\",lib.util.Curry(d.navigate,window,\"xhr\")).update(\"Back\").insert(el.button.str.container);\n\n      /*\n       * xhr\n       */\n      el.left.xhr = {};\n      el.left.xhr.container = new lib.element(\"DIV\").attribute.addClass(\"XHR\").insert(el.left.container);\n\n      el.right.xhr = {};\n      el.right.xhr.container = new lib.element(\"DIV\").attribute.addClass(\"XHR\").insert(el.left.container);\n\n\n      el.button.xhr = {};\n      el.button.xhr.container = new lib.element(\"DIV\").attribute.addClass(\"ButtonSet XHR\").insert(el.button.container);\n      el.button.xhr.label = new lib.element(\"LABEL\").update(\"XHR Path:\").insert(el.button.xhr.container);\n      el.button.xhr.textbox = new lib.element(\"INPUT\").event.addListener(\"keydown\",listen.xhrTextbox).insert(el.button.xhr.container);\n      el.button.xhr.watch = new lib.element(\"A\").attribute.addClass(\"Button\").event.addListener(\"click\",listen.addXhrObject).update(\"Watch\").insert(el.button.xhr.container);\n\n      /*\n       * settings\n       */\n      el.settings = {};\n      el.settings.container = new lib.element(\"DIV\").child.add(\n        new lib.element(\"DIV\").attribute.addClass(\"Header\").child.add(\n          new lib.element().attribute.addClass(\"Title\").update('Firebug Lite Settings')\n        )\n      ).attribute.addClass(\"SettingsDiv\").insert(el.main);\n      el.settings.content = new lib.element(\"DIV\").attribute.addClass(\"Content\").insert(el.settings.container);\n      el.settings.progressDiv = new lib.element(\"DIV\").attribute.addClass(\"ProgressDiv\").insert(el.settings.content);\n      el.settings.progress = new lib.element(\"DIV\").attribute.addClass(\"Progress\").insert(el.settings.progressDiv);\n      el.settings.cbxDebug = new lib.element(\"INPUT\").attribute.set(\"type\",\"checkbox\").attribute.addClass(\"SettingsCBX\").insert(el.settings.content);\n      el.settings.content.child.add(document.createTextNode(\"Start visible\"));\n      new lib.element(\"BR\").insert(el.settings.content);\n      el.settings.cbxDetectFirebug = new lib.element(\"INPUT\").attribute.set(\"type\",\"checkbox\").attribute.addClass(\"SettingsCBX\").insert(el.settings.content);\n      el.settings.content.child.add(document.createTextNode(\"Hide when Firebug active\"));\n      new lib.element(\"BR\").insert(el.settings.content);\n      el.settings.cbxHideDOMFunctions = new lib.element(\"INPUT\").attribute.set(\"type\",\"checkbox\").attribute.addClass(\"SettingsCBX\").insert(el.settings.content);\n      el.settings.content.child.add(document.createTextNode(\"Hide DOM functions\"));\n      new lib.element(\"BR\").insert(el.settings.content);\n      el.settings.cbxOverride = new lib.element(\"INPUT\").attribute.set(\"type\",\"checkbox\").attribute.addClass(\"SettingsCBX\").insert(el.settings.content);\n      el.settings.content.child.add(document.createTextNode(\"Override window.console\"));\n      new lib.element(\"BR\").insert(el.settings.content);\n      el.settings.cbxShowIcon = new lib.element(\"INPUT\").attribute.set(\"type\",\"checkbox\").attribute.addClass(\"SettingsCBX\").insert(el.settings.content);\n      el.settings.content.child.add(document.createTextNode(\"Show icon when hidden\"));\n      new lib.element(\"BR\").insert(el.settings.content);\n      el.settings.cbxOpenInPopup = new lib.element(\"INPUT\").attribute.set(\"type\",\"checkbox\").attribute.addClass(\"SettingsCBX\").insert(el.settings.content);\n      el.settings.content.child.add(document.createTextNode(\"Open in popup\"));\n      el.settings.buttonDiv = new lib.element(\"DIV\").insert(el.settings.content);\n      el.settings.buttonLeftDiv = new lib.element(\"DIV\").attribute.addClass(\"ButtonsLeft\").insert(el.settings.buttonDiv);\n      el.settings.resetButton = new lib.element(\"INPUT\").attribute.set(\"type\",\"button\").update(\"Reset\").event.addListener(\"click\",settings.reset).insert(el.settings.buttonLeftDiv);\n      el.settings.buttonRightDiv = new lib.element(\"DIV\").attribute.addClass(\"ButtonsRight\").insert(el.settings.buttonDiv);\n      el.settings.cancelButton = new lib.element(\"INPUT\").attribute.set(\"type\",\"button\").update(\"Cancel\").event.addListener(\"click\",settings.hide).insert(el.settings.buttonRightDiv);\n      el.settings.buttonRightDiv.child.add(document.createTextNode(\" \"));\n      el.settings.saveButton = new lib.element(\"INPUT\").attribute.set(\"type\",\"button\").update(\"Save\").event.addListener(\"click\",settings.saveClicked).insert(el.settings.buttonRightDiv);\n\n      lib.util.AddEvent(document,\"mousemove\",listen.mouse)(\"mousemove\",win.resizer.resize)(\"mouseup\",win.resizer.stop)(\"keydown\",listen.keyboard);\n\n      env.init = true;\n\n      for(var i=0, len=d.console.cache.length; i<len; i++){\n        var item = d.console.cache[i];\n        d.console.cmd[item.command].apply(window,item.arg);\n      };\n\n      if(lib.env.ie6){\n        window.onscroll = lib.util.Curry(win.setVerticalPosition,window,null);\n        var buttons = [\n          el.button.inspect,\n          el.button.close,\n          el.button.inspect,\n          el.button.console.clear,\n          el.right.console.run,\n          el.right.console.clear,\n          el.right.css.run,\n          el.right.css.clear\n          ];\n        for(var i=0, len=buttons.length; i<len; i++)\n          buttons[i].attribute.set(\"href\",\"#\");\n        win.refreshSize();\n      }\n     \n      if(env.showIconWhenHidden) {\n        if(!env.popupWin) {\n          el.firebugIcon.environment.addStyle({ \"display\": env.debug&&'none'||'block' });\n        }\n      }\n\n      lib.util.AddEvent(window, \"unload\", win.unload);\n\n      if (env.isPopup) {\n        env.height=lib.util.GetViewport().height;\n        lib.util.AddEvent(window, \"resize\", win.fitToPopup);\n        win.fitToPopup();\n      } else {\n        lib.util.AddEvent(window, \"resize\", win.refreshSize);\n      }\n\n      win.setHeight(env.height);\n\n      if(env.openInPopup&&!env.isPopup) {\n        win.newWindow();\n      } else {\n        el.main.environment.addStyle({ \"display\":env.debug&&'block'||'none' });\n        el.mainiframe.environment.addStyle({ \"display\":env.debug&&'block'||'none' });\n      }\n    }  \n  },\n  inspect:function(){\n    return firebug.d.html.inspect.apply(window,arguments);\n  },\n  watchXHR:function(){\n    with(firebug){\n      d.xhr.addObject.apply(window,arguments);\n      if(env.dIndex!=\"xhr\"){\n        d.navigate(\"xhr\");\n      }\n    }\n  },\n  settings:{\n    isVisible:false,\n    show: function() {\n      with(firebug){\n        var posXY=lib.util.Element.getPosition(firebug.el.nav.options.element);\n        settings.refreshForm();\n\n        el.settings.container.environment.addStyle({\n          \"display\": \"block\",\n          \"left\": (posXY.offsetLeft-125)+\"px\"\n        });\n        el.settings.progressDiv.environment.addStyle({\n          \"display\": \"none\"\n        });\n        firebug.settings.isVisible = true;\n      }\n    },\n    hide: function() {\n      with(firebug){\n        firebug.el.settings.container.environment.addStyle({\n          \"display\": \"none\"\n        });\n        firebug.settings.isVisible = false;\n      }\n    },\n    toggle: function(){\n      with(firebug){\n        settings[!settings.isVisible && 'show' || 'hide']();\n      }\n    },\n    saveClicked: function() {\n      firebug.el.settings.progressDiv.environment.addStyle({\n        \"display\": \"block\"\n      });\n      setTimeout(firebug.settings.formToSettings,0);\n    },\n    formToSettings: function() {\n      var fe=firebug.env,\n        ofe,\n        elSet=firebug.el.settings,\n        exdate;\n\n      fe.debug=elSet.cbxDebug.element.checked;\n      fe.detectFirebug=elSet.cbxDetectFirebug.element.checked;\n      fe.hideDOMFunctions=elSet.cbxHideDOMFunctions.element.checked;\n      fe.override=elSet.cbxOverride.element.checked;\n      fe.showIconWhenHidden=elSet.cbxShowIcon.element.checked;\n      fe.openInPopup=elSet.cbxOpenInPopup.element.checked;\n\n      if(fe.isPopup) {\n        ofe=window.opener.firebug.env;\n        ofe.debug=fe.debug;\n        ofe.detectFirebug=fe.detectFirebug;\n        ofe.hideDOMFunctions=fe.hideDOMFunctions;\n        ofe.override=fe.override;\n        ofe.showIconWhenHidden=fe.showIconWhenHidden;\n        ofe.openInPopup=fe.openInPopup;\n        ofe.popupTop=fe.popupTop;\n        ofe.popupLeft=fe.popupLeft;\n        ofe.popupWidth=fe.popupWidth;\n        ofe.popupHeight=fe.popupHeight;\n      }\n\n      with(firebug) {\n        settings.writeCookie();\n        settings.hide();\n        win.refreshDOM();\n      }\n    },\n    reset: function() {\n      var exdate=new Date();\n\n      exdate.setTime(exdate.getTime()-1);\n      document.cookie='FBLiteSettings=;expires='+exdate.toUTCString();\n      location.reload(true);\n    },\n    readCookie: function() {\n      var i,cookieArr,valueArr,item,value;\n\n      with(firebug.env){\n        if(targetWindow.document.cookie.length>0) {\n          cookieArr=targetWindow.document.cookie.split('; ');\n          \n          for(i=0;i<cookieArr.length;i++) {\n            if(cookieArr[i].split('=')[0]=='FBLiteSettings') {\n              valueArr=cookieArr[i].split('=')[1].split(',');\n            }\n          }\n\n          if(valueArr) {\n            for(i=0;i<valueArr.length;i++) {\n              item=valueArr[i].split(':')[0];\n              value=valueArr[i].split(':')[1];\n              \n              switch(item) {\n                case 'debug':\n                  debug=value==\"true\";\n                  break;\n                case 'detectFirebug':\n                  detectFirebug=value==\"true\";\n                  break;\n                case 'hideDOMFunctions':\n                  hideDOMFunctions=value==\"true\";\n                  break;\n                case 'override':\n                  override=value==\"true\";\n                  break;\n                case 'showIconWhenHidden':\n                  showIconWhenHidden=value==\"true\";\n                  break;\n                case 'openInPopup':\n                  openInPopup=value==\"true\";\n                  break;\n                case 'popupTop':\n                  popupTop=parseInt(value,10);\n                  break;\n                case 'popupLeft':\n                  popupLeft=parseInt(value,10);\n                  break;\n                case 'popupWidth':\n                  popupWidth=parseInt(value,10);\n                  break;\n                case 'popupHeight':\n                  popupHeight=parseInt(value,10);\n                  break;\n                case 'height':\n                  height=parseInt(value,10);\n                  break;\n              }\n            }\n          }\n        }\n      }\n    },\n    writeCookie: function() {\n      var values;\n      \n      with(firebug.env){\n        values='debug:'+debug+',';\n        values+='detectFirebug:'+detectFirebug+',';\n        values+='hideDOMFunctions:'+hideDOMFunctions+',';\n        values+='override:'+override+',';\n        values+='showIconWhenHidden:'+showIconWhenHidden+',';\n        values+='openInPopup:'+openInPopup+',';\n\n        if(isPopup) {\n          if(window.outerWidth===undefined) {\n            values+='popupTop:'+(window.screenTop-56)+',';\n            values+='popupLeft:'+(window.screenLeft-8)+',';\n            values+='popupWidth:'+document.body.clientWidth+',';\n            values+='popupHeight:'+document.body.clientHeight+',';\n          } else {\n            values+='popupTop:'+window.screenY+',';\n            values+='popupLeft:'+window.screenX+',';\n            values+='popupWidth:'+window.outerWidth+',';\n            values+='popupHeight:'+window.outerHeight+',';\n          }\n        } else {\n          values+='popupTop:'+popupTop+',';\n          values+='popupLeft:'+popupLeft+',';\n          values+='popupWidth:'+popupWidth+',';\n          values+='popupHeight:'+popupHeight+',';\n        }\n        \n        values+='height:'+(parseInt(targetWindow.firebug.el.main.element.style.height.replace(/px/,''),10)-38);\n\n        exdate=new Date();\n        exdate.setDate(exdate.getDate()+365);\n        targetWindow.document.cookie='FBLiteSettings='+values+';expires='+exdate.toUTCString();\n      }\n    },\n    refreshForm: function() {\n      var fe=firebug.env,\n          elSet=firebug.el.settings;\n\n      elSet.cbxDebug.element.checked=fe.debug;\n      elSet.cbxDetectFirebug.element.checked=fe.detectFirebug;\n      elSet.cbxHideDOMFunctions.element.checked=fe.hideDOMFunctions;\n      elSet.cbxOverride.element.checked=fe.override;\n      elSet.cbxShowIcon.element.checked=fe.showIconWhenHidden;\n      elSet.cbxOpenInPopup.element.checked=fe.openInPopup;\n    }\n  },\n  win:{\n    hide:function(){\n      with(firebug){\n        el.main.environment.addStyle({\n          \"display\": \"none\"\n        });\n        el.mainiframe.environment.addStyle({\n          \"display\": \"none\"\n        });\n        if(env.showIconWhenHidden) {\n          el.firebugIcon.environment.addStyle({\n            \"display\": \"block\"\n          });\n        }\n      }\n    },\n    show:function(){\n      with(firebug){\n        el.main.environment.addStyle({\n          \"display\": \"block\"\n        });\n        el.mainiframe.environment.addStyle({\n          \"display\": \"block\"\n        });\n        if(env.showIconWhenHidden) {\n          el.firebugIcon.environment.addStyle({\n            \"display\": \"none\"\n          });\n        }\n      }\n    },\n    iconClicked:function(_event) {\n        with(firebug) {\n            if(_event.ctrlKey==true||_event.metaKey==true) {\n                el.firebugIcon.environment.addStyle({ \"display\": \"none\" });\n                env.showIconWhenHidden=false;\n            } else {\n                win.show();\n            }\n        }\n    },\n    minimize:function(){\n      with(firebug){\n        env.minimized=true;\n        el.main.environment.addStyle({ \"height\":\"35px\" });\n        el.mainiframe.environment.addStyle({ \"height\":\"35px\" });\n        el.button.maximize.environment.addStyle({ \"display\":\"block\" });\n        el.button.minimize.environment.addStyle({ \"display\":\"none\" });\n        win.refreshSize();\n      }\n    },\n    maximize:function(){\n      with(firebug){\n        env.minimized=false;\n        el.button.minimize.environment.addStyle({ \"display\":\"block\" });\n        el.button.maximize.environment.addStyle({ \"display\":\"none\" });\n        win.setHeight(env.height);\n      }\n    },\n    newWindow: function() {\n      var interval,scripts,script,scriptPath,\n          fe=firebug.env;\n\n      if (!fe.popupWin) {\n        scripts = document.getElementsByTagName('script');\n        \n        fe.popupWin = window.open(\"\", \"_firebug\", \n          \"status=0,menubar=0,resizable=1,top=\"+fe.popupTop+\",left=\"+fe.popupLeft+\",width=\" + fe.popupWidth + \n          \",height=\" + fe.popupHeight + \",scrollbars=0,addressbar=0,outerWidth=\"+fe.popupWidth+\",outerHeight=\"+fe.popupHeight+\n          \"toolbar=0,location=0,directories=0,dialog=0\");\n        \n        if(!fe.popupWin) {\n          alert(\"Firebug Lite could not open a pop-up window, most likely because of a popup blocker.\\nPlease enable popups for this domain\");\n        } else {\n          firebug.settings.hide();\n        \n          for (i=0,len=scripts.length; i<len; i++) {\n            if (scripts[i].src.indexOf(fe.liteFilename) > -1) {\n              scriptPath = scripts[i].src;\n              break;\n            }\n          }\n\n          if (scriptPath) {\n            script = fe.popupWin.document.createElement('script'), done = false;\n            script.type = 'text/javascript';\n            script.src = scriptPath;\n\n            script[firebug.lib.env.ie?\"onreadystatechange\":\"onload\"] = function(){\n              if(!done && (!firebug.lib.env.ie || this.readyState == \"complete\" || this.readyState==\"loaded\")){\n                done = true;\n                if(fe.popupWin.firebug) {\n                  with(fe.popupWin.firebug) {\n                    env.isPopup = true;\n                    env.css = fe.css;\n                    init();\n                    el.button.dock.environment.addStyle({ \"display\": \"block\"});\n                    el.button.newWindow.environment.addStyle({ \"display\": \"none\"});\n                  }\n                }\n              }\n            };\n\n            if (!done && firebug.lib.env.webkit) {\n              fe.popupWin.document.write('<html><head></head><body></body></html>');\n              interval = setInterval(function() {\n                if (fe.popupWin.firebug) {\n                  clearInterval(interval);\n                  done = true;\n                  with(fe.popupWin.firebug) {\n                    env.isPopup = true;\n                    env.css = fe.css;\n                    init();\n                    el.button.dock.environment.addStyle({ \"display\": \"block\"});\n                    el.button.newWindow.environment.addStyle({ \"display\": \"none\"});\n                  }\n                }\n              }, 10);\n            };\n\n            if (!done) {\n              fe.popupWin.document.getElementsByTagName('head')[0].appendChild(script);\n              firebug.el.main.environment.addStyle({\"display\": \"none\"});\n              firebug.el.mainiframe.environment.addStyle({\"display\": \"none\"});\n            }\n          } else {\n            alert(\"Unable to detect the following script \\\"\" + fe.liteFilename +\n                  \"\\\" ... if the script has been renamed then please set the value of firebug.env.liteFilename to reflect this change\");\n            fe.popupWin.close();\n            fe.popupWin=null;\n          }\n        }\n      }\n    },\n    dock: function() {\n      with(opener.firebug) {\n        env.popupWin = null;\n        el.main.environment.addStyle({\n          \"display\": \"block\"\n        });\n        el.mainiframe.environment.addStyle({\n          \"display\": \"block\"\n        });\n        settings.readCookie();\n        window.close();\n      };\n    },\n    unload: function() {\n      with(firebug){\n        if(env.isPopup) {\n          win.dock();\n        } else if(env.popupWin) {\n          env.popupWin.close();\n        }\n      }\n    },\n    fitToPopup: function() {\n      with(firebug) {\n        var viewport = lib.util.GetViewport(window);\n        win.setHeight((window.innerHeight||viewport.height) - 38);\n        el.main.environment.addStyle({\n          \"width\": (viewport.width) + \"px\"\n        });\n        el.mainiframe.environment.addStyle({\n          \"width\": (viewport.width) + \"px\"\n        });\n      }\n    },\n    resizer:{\n      y:[], enabled:false,\n      start:function(_event){\n        with(firebug){\n          if(env.minimized)return;\n          win.resizer.y=[el.main.element.offsetHeight,_event.clientY];\n          if(lib.env.ie6){\n            win.resizer.y[3]=parseInt(el.main.environment.getPosition().top);\n          }\n          win.resizer.enabled=true;\n        }\n      },\n      resize:function(_event){\n        with(firebug){\n          if(!win.resizer.enabled)return;\n          win.resizer.y[2]=(win.resizer.y[0]+(win.resizer.y[1]-_event.clientY));\n          el.main.environment.addStyle({ \"height\":win.resizer.y[2]+\"px\" });\n          el.mainiframe.environment.addStyle({ \"height\":win.resizer.y[2]+\"px\" });\n          if(lib.env.ie6){\n            el.main.environment.addStyle({ \"top\":win.resizer.y[3]-(win.resizer.y[1]-_event.clientY)+\"px\" });\n            el.mainiframe.environment.addStyle({ \"top\":win.resizer.y[3]-(win.resizer.y[1]-_event.clientY)+\"px\" });\n          }\n        }\n      },\n      stop:function(_event){\n        with(firebug){\n          if(win.resizer.enabled){\n            win.resizer.enabled=false;\n            win.setHeight(win.resizer.y[2]-35);\n          }\n        }\n      }\n    },\n    setHeight:function(_height){\n      with(firebug){\n        env.height=_height;\n\n        el.left.container.environment.addStyle({ \"height\":_height+\"px\" });\n        el.right.container.environment.addStyle({ \"height\":_height+\"px\" });\n        el.main.environment.addStyle({ \"height\":_height+38+\"px\" });\n        el.mainiframe.environment.addStyle({ \"height\":_height+38+\"px\" });\n\n        win.refreshSize();\n\n        // console\n        el.left.console.monitor.element.parentNode.style.height=_height-47+\"px\";\n        el.left.console.mlButton.environment.addStyle({ \"top\":_height+19+\"px\" });\n        el.right.console.mlButton.environment.addStyle({ \"top\":_height+19+\"px\" });\n        el.right.console.input.environment.addStyle({ \"height\":_height-29+\"px\" });\n\n        // html\n        el.left.html.container.environment.addStyle({\"height\":_height-23+\"px\"});\n        el.right.html.content.environment.addStyle({\"height\":_height-23+\"px\"});\n\n        // css\n        el.left.css.container.environment.addStyle({\"height\":_height-33+\"px\"});\n        el.right.css.input.environment.addStyle({ \"height\":_height-55+\"px\" });\n\n        // script\n        el.left.scripts.container.environment.addStyle({\"height\":_height-23+\"px\"});\n\n        // dom\n        el.left.dom.container.environment.addStyle({\"height\":_height-31+\"px\"});\n\n        // xhr\n        el.left.xhr.container.environment.addStyle({\"height\":_height-32+\"px\"});\n\n        // string\n        el.left.str.container.environment.addStyle({\"height\":_height-32+\"px\"});\n      }\n    },\n    refreshDOM:function(){\n      with(firebug){\n        d.dom.open(eval(el.button.dom.textbox.environment.getElement().value),el.left.dom.container);\n        if(d.html.nIndex==\"dom\"){\n          firebug.d.html.navigate(\"dom\")\n        }\n      }\n    },\n    refreshSize:function(){\n      with(firebug){\n        if(!env.init)\n          return;\n\n        var dim = lib.util.GetViewport();\n        el.main.environment.addStyle({ \"width\":dim.width+\"px\"});\n        el.mainiframe.environment.addStyle({ \"width\":dim.width+\"px\"});\n        if(lib.env.ie6)\n          win.setVerticalPosition(dim);\n      }\n    },\n    setVerticalPosition:function(_dim,_event){\n      with(firebug){\n        var dim = _dim||lib.util.GetViewport();\n        el.main.environment.addStyle({ \"top\":dim.height-el.main.environment.getSize().offsetHeight+Math.max(document.documentElement.scrollTop,document.body.scrollTop)+\"px\" });\n        el.mainiframe.environment.addStyle({ \"top\":dim.height-el.main.environment.getSize().offsetHeight+Math.max(document.documentElement.scrollTop,document.body.scrollTop)+\"px\" });\n      }\n    }\n  },\n  d: {\n    clean:function(_element){\n      with(firebug){\n        _element.update(\"\");\n      }\n    },\n    console:{\n      addLine:function(){\n        with (firebug) {\n          return new lib.element(\"DIV\").attribute.addClass(\"Row\").insert(el.left.console.monitor);\n        }\n      },\n      cache:[],\n      clear:function(){\n        with(firebug){\n          d.clean(el.left.console.monitor);\n          d.console.cache = [];\n        }\n      },\n      formatArgs:function(){\n        with(firebug){\n          var content = [];\n          for(var i=0, len=arguments.length; i<len; i++){\n            content.push( d.highlight(arguments[i],false,false,true) );\n          }\n          return content.join(\" \");\n        }\n      },\n      history:[], historyIndex:0,\n      openObject:function(_index){\n        with (firebug) {\n          d.dom.open(d.console.cache[_index], el.left.dom.container, lib.env.ie);\n          d.navigate(\"dom\");\n        }\n      },\n      print: function(_cmd,_text){\n        with (firebug){\n          d.console.addLine().attribute.addClass(\"Arrow\").update(\">>> \"+_cmd);\n          d.console.addLine().update(d.highlight(_text,false,false,true));\n          d.console.scroll();\n        }\n      },\n      printException: function(_exception){\n        with(firebug){\n          var message = _exception.description||_exception.message||_exception;\n          if(_exception.fileName){\n            message+=' ('+(_exception.name&&(_exception.name+', ')||'')+getFileName(_exception.fileName)+', '+_exception.lineNumber+')';\n          }\n          d.console.addLine().attribute.addClass(\"Error\").update(\"<strong>Error: </strong>\"+message,true);\n        }\n      },\n      eval:function(_cmd){\n        var result;\n        with(firebug){\n          if(_cmd.length==0)\n            return;\n\n          el.left.console.input.environment.getElement().value = \"\";\n          d.console.historyIndex = d.console.history.push(_cmd);\n\n          try {\n            if(_cmd==='console.firebug') {\n              d.console.addLine().attribute.addClass(\"Arrow\").update(firebug.version);\n            } else {  \n              result = eval.call(window,_cmd);\n              d.console.print(_cmd,result);\n            }\n          } catch(e){\n            d.console.addLine().attribute.addClass(\"Arrow\").update(\">>> \"+_cmd);\n            d.console.printException(e);\n          }\n          d.console.scroll();\n        }\n      },\n      scroll:function(){\n        with(firebug){\n          el.left.console.monitor.environment.getElement().parentNode.scrollTop = Math.abs(el.left.console.monitor.environment.getSize().offsetHeight-(el.left.console.monitor.element.parentNode.offsetHeight-11));\n        }\n      },\n      run:function(_command){\n        with(firebug){\n          if(!env.init){\n            d.console.cache.push({ \"command\":_command, \"arg\":Array.prototype.slice.call(arguments,1) });\n          } else {\n            d.console.cmd[_command].apply(window,Array.prototype.slice.call(arguments,1));\n          }\n        }\n      },\n      toggleML:function(){\n        with(firebug){\n          var open = !env.ml;\n          env.ml = !env.ml;\n          d.navigateRightColumn(\"console\",open);\n          el[open?\"left\":\"right\"].console.mlButton.environment.addStyle({ display:\"none\" });\n          el[!open?\"left\":\"right\"].console.mlButton.environment.addStyle({ display:\"block\" });\n          el.left.console.mlButton.attribute[(open?\"add\":\"remove\")+\"Class\"](\"CloseML\");\n        }\n      },\n      countMap:{}, timeMap: {},\n      cmd:{\n        log: function(_value){\n          with(firebug){\n            var args = d.console.formatArgs.apply(window,arguments);\n            d.console.addLine().attribute.addClass(\"Log\").update(args);\n            d.console.scroll();\n          }\n        },\n        warn: function(_value){\n          with(firebug){\n            var args = d.console.formatArgs.apply(window,arguments);\n            d.console.addLine().attribute.addClass(\"Warn\").update(args);\n            d.console.scroll();\n          }\n        },\n        info: function(_value){\n          with(firebug){\n            var args = d.console.formatArgs.apply(window,arguments);\n            d.console.addLine().attribute.addClass(\"Info\").update(args);\n            d.console.scroll();\n          }\n        },\n        debug: function(_value){\n          with(firebug){\n            var args = d.console.formatArgs.apply(window,arguments);\n            d.console.addLine().attribute.addClass(\"Debug\").update(args);\n            d.console.scroll();\n          }\n        },\n        error: function(_value){\n          with(firebug){\n            var args = d.console.formatArgs.apply(window,arguments);\n            d.console.addLine().attribute.addClass(\"Error\").update(args);\n            d.console.scroll();\n          }\n        },\n        trace: function(_value){\n          with(firebug){\n            var stackAmt = 3, f = arguments.caller, isArray = lib.util.IsArray(f); //function that called trace\n\n            if((!isArray&&f)||(isArray&&f.length>0)){\n              d.console.addLine().attribute.addClass(\"Arrow\").update(\">>> console.trace(stack)\");\n              for(var i=0;i<stackAmt;i++){\n                var func = f.toString(), args = f.arguments;\n                d.dom.open({\"function\":func, \"arguments\":args},d.console.addLine());\n                f = f.caller;\n              }\n            }\n          }\n        },\n        dir:function(_value){\n          with(firebug){\n            d.console.addLine().attribute.addClass(\"Arrow\").update(\">>> console.dir(\"+_value+\")\");\n            d.dom.open(_value,d.console.addLine());\n          }\n        },\n        dirxml: function(){\n          with(firebug){\n            d.console.cmd.log.apply(this, arguments);\n          }\n        },\n        time: function(_name){\n          with(firebug){\n            d.console.timeMap[_name] = new Date().getTime();\n          }\n        },\n        timeEnd: function(_name){\n          with(firebug){\n            if(_name in d.console.timeMap){\n              var delta = new Date().getTime() - d.console.timeMap[_name],\n              args = d.console.formatArgs.apply(window,[_name+\":\", delta+\"ms\"]);\n              d.console.addLine().attribute.addClass(\"log\").update(args);\n              delete d.console.timeMap[_name];\n            }\n          }\n        },\n        count: function(_name){\n          with(firebug){\n            if(!d.console.countMap[_name])\n              d.console.countMap[_name] = 0;\n            d.console.countMap[_name]++;\n            d.console.cmd.log.apply(window, [_name, d.console.countMap[_name]]);\n          }\n        },\n        group:function(){\n          with(firebug){\n            d.console.cmd.log.apply(this, [\"console.group is not supported\"]);\n          }\n        },\n        groupEnd:function(){\n          with(firebug){\n            d.console.cmd.log.apply(this, [\"console.groupEnd is not supported\"]);\n          }\n        },\n        profile:function(){\n          with(firebug){\n            d.console.cmd.log.apply(this, [\"console.profile is not supported\"]);\n          }\n        },\n        profileEnd:function(){\n          with(firebug){\n            d.console.cmd.log.apply(this, [\"console.profileEnd is not supported\"]);\n          }\n        }\n      }\n    },\n    css:{\n      index:-1,\n      open:function(_index){\n        with (firebug) {\n          var item = env.targetWindow.document.styleSheets[_index],\n          uri = item.href;\n          try {\n            var rules = item[lib.env.ie ? \"rules\" : \"cssRules\"], str = \"\";\n            for (var i=0; i<rules.length; i++) {\n              var item = rules[i];\n              var selector = item.selectorText;\n              var cssText = lib.env.ie?item.style.cssText:item.cssText.match(/\\{(.*)\\}/)[1];\n              str+=d.css.printRule(selector, cssText.split(\";\"), el.left.css.container);\n            }\n          } catch(e) {\n            str=\"<em>Access to restricted URI denied</em>\";\n          }\n          el.left.css.container.update(str);\n        }\n      },\n      printRule:function(_selector,_css,_layer){\n        with(firebug){\n          var str = \"<div class='Selector'>\"+_selector+\" {</div>\";\n          for(var i=0,len=_css.length; i<len; i++){\n            var item = _css[i];\n            str += \"<div class='CSSText'>\"+item.replace(/(.+\\:)(.+)/,\"<span class='CSSProperty'>$1</span><span class='CSSValue'>$2;</span>\")+\"</div>\";\n          }\n          str+=\"<div class='Selector'>}</div>\";\n          return str;\n        }\n      },\n      refresh:function(){\n        with(firebug){\n          el.button.css.selectbox.update(\"\");\n          var collection = env.targetWindow.document.styleSheets;\n          for(var i=0,len=collection.length; i<len; i++){\n            var uri = getFileName(collection[i].href);\n            d.css.index=d.css.index<0?i:d.css.index;\n            el.button.css.selectbox.child.add(\n                new lib.element(\"OPTION\").attribute.set(\"value\",i).update(uri)\n            )\n          };\n          d.css.open(d.css.index);\n        }\n      }\n    },\n    dom: {\n      open: function(_object,_layer){\n        with (firebug) {\n          _layer.clean();\n          var container = new lib.element(\"DIV\").attribute.addClass(\"DOMContent\").insert(_layer);\n          d.dom.print(_object, container);\n        }\n      },\n      print:function(_object,_parent, _inTree){\n        with (firebug) {\n          var obj = _object || window, parentElement = _parent;\n          parentElement.update(\"\");\n\n          if(parentElement.opened&&parentElement!=el.left.dom.container){\n            parentElement.environment.getParent().lib.child.get()[0].lib.child.get()[0].lib.attribute.removeClass(\"Opened\");\n            parentElement.opened = false;\n            parentElement.environment.addStyle({ \"display\":\"none\" });\n            return;\n          }\n          if(_inTree)\n            parentElement.environment.getParent().lib.child.get()[0].lib.child.get()[0].lib.attribute.addClass(\"Opened\");\n          parentElement.opened = true;\n\n          for (var key in obj) {\n            try {\n              if (env.hideDOMFunctions && typeof(obj[key]) == \"function\") continue;\n              var value = obj[key], property = key, container = new lib.element(\"DIV\").attribute.addClass(\"DOMRow\").insert(parentElement),\n              left = new lib.element(\"DIV\").attribute.addClass(\"DOMRowLeft\").insert(container), right = new lib.element(\"DIV\").attribute.addClass(\"DOMRowRight\").insert(container);\n\n              container.child.add(\n                  new lib.element(\"DIV\").attribute.addClass('Clear')\n              );\n\n              var link = new lib.element(\"A\").attribute.addClass(\n                  typeof value==\"object\"&&Boolean(value)?\"Property Object\":\"Property\"\n              ).update(property).insert(left);\n\n              right.update(d.highlight(value,false,true));\n\n              var subContainer = new lib.element(\"DIV\").attribute.addClass(\"DOMRowSubContainer\").insert(container);\n\n              if(typeof value!=\"object\"||Boolean(value)==false)\n                continue;\n\n              link.event.addListener(\"click\",lib.util.Curry(d.dom.print,window,value, subContainer, true));\n            }catch(e){\n            }\n          }\n          parentElement.environment.addStyle({ \"display\":\"block\" });\n        }\n      }\n    },\n    highlight:function(_value,_inObject,_inArray,_link){\n      with(firebug){\n        var isArray = false, isHash, isElement = false, vtype=typeof _value, result=[];\n        \n        if(vtype==\"object\"){\n          if(Object.prototype.toString.call(_value) === \"[object Date]\"){\n            vtype = \"date\";\n          } else if(Object.prototype.toString.call(_value) === \"[object String]\"){\n            vtype = \"string\";\n          } else if(Object.prototype.toString.call(_value) === \"[object Boolean]\"){\n            vtype = \"boolean\";\n          } else if(Object.prototype.toString.call(_value) === \"[object RegExp]\"){\n            vtype = \"regexp\";\n          }\n        }\n        \n        try {\n          isArray = lib.util.IsArray(_value);\n          isHash = lib.util.IsHash(_value);\n          isElement = _value!=undefined&&Boolean(_value.nodeName)&&Boolean(_value.nodeType);\n\n          // number, string, boolean, null, function\n          if(_value==null||vtype==\"number\"||vtype==\"string\"||vtype==\"boolean\"||vtype==\"function\"||vtype==\"regexp\"||vtype==\"date\"){\n            if(_value==null){\n              result.push(\"<span class='Null'>null</span>\");\n            }else if (vtype==\"regexp\") {\n              result.push(\"<span class='Maroon'>\" + _value + \"</span>\");\n            }else if (vtype==\"date\") {\n              result.push(\"<span class='DarkBlue'>'\" + _value + \"'</span>\");\n            } else if (vtype==\"boolean\"||vtype==\"number\") {\n              result.push(\"<span class='DarkBlue'>\" + _value + \"</span>\");\n            } else if(vtype==\"function\"){\n              result.push(\"<span class='\"+(_inObject?\"Italic Gray\":\"Green\")+\"'>function()</span>\");\n            } else {\n              result.push(\"<span class='Red'>\\\"\"+( !_inObject&&!_inArray?_value : _value.substring(0,35)+(_value.length>35?\" ...\":\"\") ).replace(/\\n/g,\"\\\\n\").replace(/\\s/g,\"&nbsp;\").replace(/>/g,\"&#62;\").replace(/</g,\"&#60;\")+\"\\\"</span>\");\n            }\n          }\n          // element\n          else if(isElement){\n\n            if(_value.nodeType==3)\n              result.push(d.highlight(_value.nodeValue));\n            else if(_inObject){\n              result.push(\"<span class='Gray Italic'>\"+_value.nodeName.toLowerCase()+\"</span>\");\n            } else {\n              result.push(\"<span class='Blue\"+ ( !_link?\"'\":\" ObjectLink' onmouseover='this.className=this.className.replace(\\\"ObjectLink\\\",\\\"ObjectLinkHover\\\")' onmouseout='this.className=this.className.replace(\\\"ObjectLinkHover\\\",\\\"ObjectLink\\\")' onclick='firebug.d.html.inspect(firebug.d.console.cache[\" +( d.console.cache.push( _value ) -1 )+\"])'\" ) + \"'>\");\n\n              if(_inArray){\n                result.push(_value.nodeName.toLowerCase());\n                if(_value.getAttribute){\n                  if(_value.getAttribute&&_value.getAttribute(\"id\"))\n                    result.push(\"<span class='DarkBlue'>#\"+_value.getAttribute(\"id\")+\"</span>\");\n                  var elClass = _value.getAttribute(lib.env.ie&&!lib.env.ie8?\"className\":\"class\")||\"\";\n                  result.push(!elClass?\"\":\"<span class='Red'>.\"+elClass.split(\" \")[0]+\"</span>\");\n                }\n                result.push(\"</span>\");\n              } else {\n                result.push(\"<span class='DarkBlue'>&#60;<span class='Blue TagName'>\"+ _value.nodeName.toLowerCase());\n\n                if(_value.attributes){\n                  for(var i=0,len=_value.attributes.length; i<len; i++){\n                    var item = _value.attributes[i];\n\n                    if(!lib.env.ie||item.nodeValue)\n                      result.push(\" <span class='DarkBlue'>\"+item.nodeName+\"=\\\"<span class='Red'>\"+item.nodeValue+\"</span>\\\"</span>\");\n                  }\n                }\n\n                result.push(\"</span>&#62;</span>\");\n              }\n            }\n          } \n          // array, hash\n          else if(isArray||isHash){\n            if(isArray){\n              if(_inObject){\n                result.push(\"<span class='Gray Italic'>[\"+_value.length+\"]</span>\");\n              } else {\n                result.push(\"<span class='Strong'>[ \");\n\n                for(var i=0,len=_value.length; i<len; i++){\n                  if((_inObject||_inArray)&&i>3){\n                    result.push(\", <span class='Strong Gray'>\"+(len-4)+\" More...</span>\");\n                    break;\n                  }\n                  result.push( (i > 0 ? \", \" : \"\") + d.highlight(_value[i], false, true, true) );\n                }\n\n                result.push(\" ]</span>\");\n              }\n            } else if(_inObject){\n              result.push(\"<span class='Gray Italic'>Object</span>\");\n            } else {  \n              result.push(\"<span class='Strong Green\"+ ( !_link?\"'\":\" ObjectLink' onmouseover='this.className=this.className.replace(\\\"ObjectLink\\\",\\\"ObjectLinkHover\\\")' onmouseout='this.className=this.className.replace(\\\"ObjectLinkHover\\\",\\\"ObjectLink\\\")' onclick='firebug.d.console.openObject(\" +( d.console.cache.push( _value ) -1 )+\")'\" ) + \">Object\");\n              var i=0;\n              for(var key in _value){\n                var value = _value[key];\n                if((_inObject||_inArray)&&i>3){\n                  result.push(\" <span class='Strong Gray'>More...</span>\");\n                  break;\n                }\n                result.push(\" \"+key+\"=\"+d.highlight(value,true));\n                i++;\n              }\n              result.push(\"</span>\");\n            } \n          } else {\n            result.push([\"<span class'Gray Italic'>\"+_value+\"</span>\"]);\n          }\n        } catch(e){\n          result.push(\"..\"); \n        }\n        return result.join(\"\");\n      }\n    },\n    html:{\n      nIndex:\"computedStyle\",\n      current:null,\n      highlight:function(_element,_clear,_event){\n        with(firebug){\n          if(_element.firebugElement){\n            return;\n          }\n          if(_clear){\n            env.targetWindow.firebug.el.bgInspector.environment.addStyle({ \"display\":\"none\" });\n            return;\n          }\n          d.inspector.inspect(_element,true);\n        }\n      },\n      inspect:function(_element){\n        var map = [],\n        parentLayer,\n        t,\n        tagName,\n        parent = _element;\n        while (parent) {\n          map.push(parent);\n          if (parent == firebug.env.targetWindow.document.body) break;\n          parent = parent.parentNode;\n        }\n        map = map.reverse();\n        with(firebug) {\n          if (env.dIndex != \"html\") {\n            env.targetWindow.firebug.d.navigate(\"html\");\n          }\n\n          env.targetWindow.firebug.d.inspector.toggle(false);\n\n          for (t = 0; t < el.left.html.container.child.get().length; t++) {\n            if (el.left.html.container.child.get()[t].childNodes[0].childNodes[1].childNodes[0].childNodes[0]) {\n              if (el.left.html.container.child.get()[t].childNodes[0].childNodes[1].childNodes[0].childNodes[0].innerText) {\n                tagName = el.left.html.container.child.get()[t].childNodes[0].childNodes[1].childNodes[0].childNodes[0].innerText;\n              } else {\n                tagName = el.left.html.container.child.get()[t].childNodes[0].childNodes[1].childNodes[0].childNodes[0].textContent;\n              }\n\n              if (/<body/i.test(tagName)) {\n                parentLayer = el.left.html.container.child.get()[t].childNodes[1].lib;\n                break;\n              }\n            }\n          }\n\n          if (!parentLayer) {\n            parentLayer = el.left.html.container.child.get()[3].childNodes[1].lib;\n          }\n\n          for (t = 0, len = map.length; map[t]; t++) {\n            if (t == len - 1) {\n              var link = parentLayer.environment.getElement().previousSibling.lib;\n              link.attribute.addClass(\"Selected\");\n\n              if (d.html.current) {\n                d.html.current[1].attribute.removeClass(\"Selected\");\n              }\n              d.html.current = [_element, link];\n              return;\n            }\n            parentLayer = d.html.openHtmlTree(map[t], parentLayer, map[t + 1]);\n          }\n        }\n      },\n      navigate:function(_index,_element){\n        with(firebug){\n          el.right.html.nav[d.html.nIndex].attribute.removeClass(\"Selected\");\n          el.right.html.nav[_index].attribute.addClass(\"Selected\");\n          d.html.nIndex = _index;\n          d.html.openProperties();\n        }\n      },\n      openHtmlTree:function(_element,_parent,_returnParentElementByElement,_event){\n        with(firebug){\n          var element = _element || env.targetWindow.document.documentElement, \n              parent = _parent || el.left.html.container, \n              returnParentEl = _returnParentElementByElement || null, \n              returnParentVal = null,\n              len = element.childNodes.length,\n              nodeLink;\n\n          if(parent!=el.left.html.container){\n            nodeLink = parent.environment.getParent().lib.child.get()[0].lib;\n            if (d.html.current) {\n              d.html.current[1].attribute.removeClass(\"Selected\");\n            }\n            nodeLink.attribute.addClass(\"Selected\");\n\n            d.html.current = [_element,nodeLink];\n            d.html.openProperties();\n          };\n\n          if(element.childNodes&&(len==0||(len==1&&element.childNodes[0].nodeType==3)))return;\n          parent.clean();\n\n          if(parent.opened&&Boolean(_returnParentElementByElement)==false){\n            parent.opened = false;\n            parent.element.previousSibling.lib.attribute.removeClass(\"Open\");\n            parent.element.lib.attribute.removeClass(\"OpenSubContainer\");\n            return;\n          };\n\n          if (parent != el.left.html.container) {\n            parent.element.previousSibling.lib.attribute.addClass(\"Open\");\n            parent.element.lib.attribute.addClass(\"OpenSubContainer\");\n            parent.opened = true;\n          };\n\n          if(element==document.documentElement){\n            new lib.element(\"A\").attribute.addClass(\"Block\").update(\"<span class='DarkBlue'>&#60;<span class='Blue'>html</span>&#62;\").insert(parent);\n          };\n\n          for(var i=0; i<=len; i++){\n            if(i==len){\n              new lib.element(\"A\").attribute.addClass(\"Block\").update(\"<span class='DarkBlue'>&#60;/<span class='Blue'>\"+element.nodeName.toLowerCase()+\"</span>&#62;\").insert(container);\n              break;\n            } \n            var item = element.childNodes[i];\n\n            if (item.nodeType != 3){\n              var container = new lib.element().attribute.addClass(\"Block\").insert(parent), \n              link = new lib.element(\"A\").attribute.addClass(\"Link\").insert(container), \n              spacer = new lib.element(\"SPAN\").attribute.addClass(\"Spacer\").update(\"&nbsp;\").insert(link),\n              html = new lib.element(\"SPAN\").attribute.addClass(\"Content\").update(d.highlight(item)).insert(link),\n              subContainer = new lib.element(\"DIV\").attribute.addClass(\"SubContainer\").insert(container),\n              view = lib.util.Element.getView(item);\n\n              link.event.addListener(\"click\", lib.util.Curry(d.html.openHtmlTree, window, item, subContainer, false));\n              link.event.addListener(\"mouseover\", lib.util.Curry(d.html.highlight, window, item, false));\n              link.event.addListener(\"mouseout\", lib.util.Curry(d.html.highlight, window, item, true));\n\n              returnParentVal = returnParentEl == item ? subContainer : returnParentVal;\n\n              if(d.html.current==null&&item==document.body){\n                link.attribute.addClass(\"Selected\");\n                d.html.current = [item,link];\n                d.html.openHtmlTree(item,subContainer);\n              }\n\n              if(element.nodeName!=\"HEAD\"&&element!=document.documentElement&&(view.visibility==\"hidden\"||view.display==\"none\")){\n                container.attribute.addClass(\"Unvisible\");\n              };\n\n              if (item.childNodes){\n                var childLen = item.childNodes.length;\n                if (childLen == 1 && item.childNodes[0].nodeType == 3) {\n                  html.child.add(document.createTextNode(item.childNodes[0].nodeValue.substring(0, 50)));\n                  html.child.add(document.createTextNode(\"</\"));\n                  html.child.add(new lib.element(\"span\").attribute.addClass(\"Blue\").update(item.nodeName.toLowerCase()).environment.getElement());\n                  html.child.add(document.createTextNode(\">\"));\n                  continue;\n                }\n                else \n                  if (childLen > 0) {\n                    link.attribute.addClass(\"Parent\");\n                  }\n              }\n            }\n          };\n          return returnParentVal;\n        }\n      },\n      openProperties:function(){\n        with(firebug){\n          var index = d.html.nIndex;\n          var node = d.html.current[0];\n          d.clean(el.right.html.content);\n          var str = \"\";\n          switch(index){\n            case \"computedStyle\":\n              var property = [\"opacity\",\"filter\",\"azimuth\",\"background\",\"backgroundAttachment\",\"backgroundColor\",\"backgroundImage\",\"backgroundPosition\",\"backgroundRepeat\",\"border\",\"borderCollapse\",\"borderColor\",\"borderSpacing\",\"borderStyle\",\"borderTop\",\"borderRight\",\"borderBottom\",\"borderLeft\",\"borderTopColor\",\"borderRightColor\",\"borderBottomColor\",\"borderLeftColor\",\"borderTopStyle\",\"borderRightStyle\",\"borderBottomStyle\",\"borderLeftStyle\",\"borderTopWidth\",\"borderRightWidth\",\"borderBottomWidth\",\"borderLeftWidth\",\"borderWidth\",\"bottom\",\"captionSide\",\"clear\",\"clip\",\"color\",\"content\",\"counterIncrement\",\"counterReset\",\"cue\",\"cueAfter\",\"cueBefore\",\"cursor\",\"direction\",\"display\",\"elevation\",\"emptyCells\",\"cssFloat\",\"font\",\"fontFamily\",\"fontSize\",\"fontSizeAdjust\",\"fontStretch\",\"fontStyle\",\"fontVariant\",\"fontWeight\",\"height\",\"left\",\"letterSpacing\",\"lineHeight\",\"listStyle\",\"listStyleImage\",\"listStylePosition\",\"listStyleType\",\"margin\",\"marginTop\",\"marginRight\",\"marginBottom\",\"marginLeft\",\"markerOffset\",\"marks\",\"maxHeight\",\"maxWidth\",\"minHeight\",\"minWidth\",\"orphans\",\"outline\",\"outlineColor\",\"outlineStyle\",\"outlineWidth\",\"overflow\",\"padding\",\"paddingTop\",\"paddingRight\",\"paddingBottom\",\"paddingLeft\",\"page\",\"pageBreakAfter\",\"pageBreakBefore\",\"pageBreakInside\",\"pause\",\"pauseAfter\",\"pauseBefore\",\"pitch\",\"pitchRange\",\"playDuring\",\"position\",\"quotes\",\"richness\",\"right\",\"size\",\"speak\",\"speakHeader\",\"speakNumeral\",\"speakPunctuation\",\"speechRate\",\"stress\",\"tableLayout\",\"textAlign\",\"textDecoration\",\"textIndent\",\"textShadow\",\"textTransform\",\"top\",\"unicodeBidi\",\"verticalAlign\",\"visibility\",\"voiceFamily\",\"volume\",\"whiteSpace\",\"widows\",\"width\",\"wordSpacing\",\"zIndex\"].sort();\n              var view = document.defaultView?document.defaultView.getComputedStyle(node,null):node.currentStyle;\n              for(var i=0,len=property.length; i<len; i++){\n                var item = property[i];\n                if(!view[item])continue;\n                str+=\"<div class='CSSItem'><div class='CSSProperty'>\"+item+\"</div><div class='CSSValue'>\"+d.highlight(view[item])+\"</div></div>\";\n              }\n              el.right.html.content.update(str);\n              break;\n            case \"dom\":\n              d.dom.open(node,el.right.html.content,lib.env.ie);\n              break;\n          }\n        }\n      }\n    },\n    inspector:{\n      enabled:false,\n      el:null,\n      inspect:function(_element,_bgInspector){\n        with(firebug){\n          var pos = env.targetWindow.firebug.lib.util.Element.getPosition(_element);\n\n          env.targetWindow.firebug.el[_bgInspector&&\"bgInspector\"||\"borderInspector\"].environment.addStyle({ \n            \"width\":_element.offsetWidth+\"px\", \"height\":_element.offsetHeight+\"px\",\n            \"top\":pos.offsetTop-(_bgInspector?0:2)+\"px\", \"left\":pos.offsetLeft-(_bgInspector?0:2)+\"px\",\n            \"display\":\"block\"\n          });\n9\n          if(!_bgInspector){\n            d.inspector.el = _element;\n          }\n        };\n      },\n      toggle:function(_absoluteValue,_event){\n        with (firebug) {\n          if(_absoluteValue==d.inspector.enabled)\n            return;\n          d.inspector.enabled = _absoluteValue!=undefined&&!_absoluteValue.clientX?_absoluteValue:!d.inspector.enabled;\n          el.button.inspect.attribute[(d.inspector.enabled ? \"add\" : \"remove\") + \"Class\"](\"Enabled\");\n          if(d.inspector.enabled==false){\n            el.borderInspector.environment.addStyle({ \"display\":\"none\" });\n            d.inspector.el = null;\n          } else if(lib.env.dIndex!=\"html\") {\n            if (env.popupWin) {\n              env.popupWin.firebug.d.navigate(\"html\");\n            } else {\n              d.navigate(\"html\");\n            }\n          }\n        }\n      }\n    },\n    scripts:{\n      index:-1,\n      lineNumbers:false,\n      open:function(_index){\n        with(firebug){\n          d.scripts.index = _index;\n          el.left.scripts.container.update(\"\");\n          var script = document.getElementsByTagName(\"script\")[_index],uri = script.src||document.location.href,source;\n          try {\n            if(uri!=document.location.href){\n              source = env.cache[uri]||lib.xhr.get(uri).responseText;\n              env.cache[uri] = source;\n            } else {\n              source = script.innerHTML;\n            }\n            source = source.replace(/<|>/g,function(_ch){\n              return ({\"<\":\"&#60;\",\">\":\"&#62;\"})[_ch];\n            });\n          \n            if(!d.scripts.lineNumbers) \n              el.left.scripts.container.child.add(\n                  new lib.element(\"DIV\").attribute.addClass(\"CodeContainer\").update(source)\n              );\n            else {\n              source = source.split(\"<br />\");\n              for (var i = 0; i < source.length; i++) {\n                el.left.scripts.container.child.add(new lib.element(\"DIV\").child.add(new lib.element(\"DIV\").attribute.addClass(\"LineNumber\").update(i + 1), new lib.element(\"DIV\").attribute.addClass(\"Code\").update(\"&nbsp;\" + source[i]), new lib.element(\"DIV\").attribute.addClass('Clear')));\n              };\n            };\n          } catch(e){\n            el.left.scripts.container.child.add(\n              new lib.element(\"DIV\").attribute.addClass(\"CodeContainer\").update(\"<em>Access to restricted URI denied</em>\")\n            );\n          }\n        }\n      },\n      toggleLineNumbers:function(){\n        with(firebug){\n          d.scripts.lineNumbers = !d.scripts.lineNumbers;\n          el.button.scripts.lineNumbers.attribute[(d.scripts.lineNumbers ? \"add\" : \"remove\") + \"Class\"](\"Enabled\");\n          d.scripts.open( d.scripts.index );\n        }\n      },\n      refresh:function(){\n        with(firebug){\n          el.button.scripts.selectbox.clean();\n          var collection = env.targetWindow.document.getElementsByTagName(\"script\");\n          for(var i=0,len=collection.length; i<len; i++){\n            var item = collection[i],\n            fileName = getFileName(item.src||item.baseURI||\"..\");\n            d.scripts.index=d.scripts.index<0?i:d.scripts.index;\n            el.button.scripts.selectbox.child.add(\n                new lib.element(\"OPTION\").attribute.set(\"value\",i).update(fileName)\n            );\n          }\n          d.scripts.open( d.scripts.index );\n        }\n      }\n    },\n    str: {\n      open:function(_str){\n        with(firebug){\n          d.navigate(\"str\");\n          el.left.str.container.update(_str.replace(/\\n/g,\"<br />\"))\n        }\n      }\n    },\n    xhr:{\n      objects:[],\n      addObject:function(){\n        with(firebug){\n          for(var i=0,len=arguments.length; i<len; i++){\n            try {\n              var item = arguments[i],\n                  val = env.targetWindow.eval(item);\n              d.xhr.objects.push([item, val]);\n            } catch(e){\n              continue;\n            }\n          }\n        }\n      },\n      open:function(){\n        with(firebug){\n          el.left.xhr.container.update(\"\");\n          el.left.xhr.name = new lib.element(\"DIV\").attribute.addClass(\"BlockContent\").insert(new lib.element(\"DIV\").attribute.addClass(\"Block\").environment.addStyle({ \"width\":\"20%\" }).insert(el.left.xhr.container));\n          el.left.xhr.nameTitle = new lib.element(\"STRONG\").update(\"Object Name:\").insert(el.left.xhr.name);\n          el.left.xhr.nameContent = new lib.element(\"DIV\").insert(el.left.xhr.name);\n          el.left.xhr.status = new lib.element(\"DIV\").attribute.addClass(\"BlockContent\").insert(new lib.element(\"DIV\").attribute.addClass(\"Block\").environment.addStyle({ \"width\":\"10%\" }).insert(el.left.xhr.container));\n          el.left.xhr.statusTitle = new lib.element(\"STRONG\").update(\"Status:\").insert(el.left.xhr.status);\n          el.left.xhr.statusContent = new lib.element(\"DIV\").insert(el.left.xhr.status);\n          el.left.xhr.readystate = new lib.element(\"DIV\").attribute.addClass(\"BlockContent\").insert(new lib.element(\"DIV\").environment.addStyle({ \"width\":\"15%\" }).attribute.addClass(\"Block\").insert(el.left.xhr.container));\n          el.left.xhr.readystateTitle =el.left.xhr.nameTitle = new lib.element(\"STRONG\").update(\"Ready State:\").insert(el.left.xhr.readystate);\n          el.left.xhr.readystateContent = new lib.element(\"DIV\").insert(el.left.xhr.readystate);\n          el.left.xhr.response = new lib.element(\"DIV\").attribute.addClass(\"BlockContent\").insert(new lib.element(\"DIV\").environment.addStyle({ \"width\":(lib.env.ie?\"50\":\"55\")+\"%\" }).attribute.addClass(\"Block\").insert(el.left.xhr.container));\n          el.left.xhr.responseTitle = new lib.element(\"STRONG\").update(\"Response:\").insert(el.left.xhr.response);\n          el.left.xhr.responseContent = new lib.element(\"DIV\").insert(el.left.xhr.response);\n          setTimeout(d.xhr.refresh,500);\n        }\n      },\n      refresh:function(){\n        with(firebug){\n          el.left.xhr.nameContent.update(\"\");\n          el.left.xhr.statusContent.update(\"\");\n          el.left.xhr.readystateContent.update(\"\");\n          el.left.xhr.responseContent.update(\"\");\n          for(var i=0,len=d.xhr.objects.length; i<len; i++){\n            var item = d.xhr.objects[i],\n                response = item[1].responseText;\n            if(Boolean(item[1])==false)continue;\n            el.left.xhr.nameContent.child.add(new lib.element(\"span\").update(item[0]));\n            try {\n              el.left.xhr.statusContent.child.add(new lib.element(\"span\").update(item[1].status));\n            } catch(e){ el.left.xhr.statusContent.child.add(new lib.element(\"span\").update(\"&nbsp;\")); }\n            el.left.xhr.readystateContent.child.add(new lib.element(\"span\").update(item[1].readyState));\n\n            el.left.xhr.responseContent.child.add(new lib.element(\"span\").child.add(\n                new lib.element(\"A\").event.addListener(\"click\",lib.util.Curry(d.str.open,window,response)).update(\"&nbsp;\"+response.substring(0,50))\n            ));\n          };\n          if(env.dIndex==\"xhr\")\n            setTimeout(d.xhr.refresh,500);\n        }\n      }\n    },\n    navigateRightColumn:function(_index,_open){\n      with(firebug){\n        el.left.container.environment.addStyle({ \"width\":_open?\"70%\":\"100%\" });\n        el.right.container.environment.addStyle({ \"display\":_open?\"block\":\"none\" });\n      }\n    },\n    navigate:function(_index){\n      with(firebug){\n        var open = _index, close = env.dIndex;\n        env.dIndex = open;\n\n        settings.hide();\n\n        el.button[close].container.environment.addStyle({ \"display\":\"none\" });\n        el.left[close].container.environment.addStyle({ \"display\":\"none\" });\n        el.right[close].container.environment.addStyle({ \"display\":\"none\" });\n\n        el.button[open].container.environment.addStyle({ \"display\":\"inline\" });\n        el.left[open].container.environment.addStyle({ \"display\":\"block\" });\n        el.right[open].container.environment.addStyle({ \"display\":\"block\" });\n\n        if(el.nav[close])\n          el.nav[close].attribute.removeClass(\"Selected\");\n        if(el.nav[open])\n          el.nav[open].attribute.addClass(\"Selected\");\n\n        switch(open){\n          case \"console\":\n            d.navigateRightColumn(_index);\n            break;\n          case \"html\":\n            d.navigateRightColumn(_index,true);\n            if(!d.html.current){\n              var t=Number(new Date);\n              d.html.openHtmlTree();\n            }\n            break;\n          case \"css\":\n            d.navigateRightColumn(_index,true);\n            d.css.refresh();\n            break;\n          case \"scripts\":\n            d.navigateRightColumn(_index);\n            d.scripts.refresh();\n            break;\n          case \"dom\":\n            d.navigateRightColumn(_index);\n            if(el.left.dom.container.environment.getElement().innerHTML==\"\"){\n              var t=Number(new Date);\n              d.dom.open(eval(el.button.dom.textbox.environment.getElement().value),el.left.dom.container);\n            }\n            break;\n          case \"xhr\":\n            d.navigateRightColumn(_index);\n            d.xhr.open();\n            break;\n        }\n      }\n    }\n  },\n  getFileName:function(_path){\n    var match = _path&&_path.match(/[\\w\\-\\.\\?\\=\\&]+$/);\n    return match&&match[0]||_path;\n  },\n  cancelEvent:function(_event){\n    if(_event.stopPropagation)\n      _event.stopPropagation();\n    if(_event.preventDefault)\n      _event.preventDefault();\n  },\n  getSelection:function(_el){\n    with(firebug){\n      if(lib.env.ie){\n        var range = document.selection.createRange(),stored = range.duplicate();\n        stored.moveToElementText(_el);\n        stored.setEndPoint('EndToEnd', range);\n        _el.selectionStart = stored.text.length - range.text.length;\n        _el.selectionEnd = _el.selectionStart + range.text.length;\n      }\n      return {\n        start:_el.selectionStart,\n        length:_el.selectionEnd-_el.selectionStart\n      }\n    }\n  },\n  tab:function(_el,_event){\n    with(firebug){\n      if(_event.keyCode==9){\n        if(_el.setSelectionRange){\n          var position = firebug.getSelection(_el);\n          _el.value = _el.value.substring(0,position.start) + String.fromCharCode(9) + _el.value.substring(position.start+position.length,_el.value.length);\n          _el.setSelectionRange(position.start+1,position.start+1);\n        } else if(document.selection) {  \n          var range = document.selection.createRange(), isCollapsed = range.text == '';\n          range.text = String.fromCharCode(9);\n          range.moveStart('character', -1);\n        }\n        firebug.cancelEvent(_event);\n        if(lib.env.ie)\n          setTimeout(_el.focus,100);\n      };\n    }\n  },\n  listen: {\n    addXhrObject:function(){\n      with(firebug){\n        d.xhr.addObject.apply(env.targetWindow, el.button.xhr.textbox.environment.getElement().value.split(\",\"));\n      }\n    },\n    consoleTextbox:function(_event){\n      with(firebug){\n        if(_event.keyCode==13&&(env.multilinemode==false||_event.shiftKey==false)){\n          d.console.historyIndex = d.console.history.length;\n          d.console.eval(el.left.console.input.environment.getElement().value);\n          return false;\n        }\n\n        switch(_event.keyCode){\n          case 40:\n            if(d.console.history[d.console.historyIndex+1]){\n              d.console.historyIndex+=1;\n              el.left.console.input.update( d.console.history[d.console.historyIndex] );\n            }\n            break;\n          case 38:\n            if(d.console.history[d.console.historyIndex-1]){\n              d.console.historyIndex-=1;\n              el.left.console.input.update( d.console.history[d.console.historyIndex] );\n            }\n            break;\n        }\n      }\n    },\n    cssSelectbox:function(){\n      with(firebug){\n        d.css.open(el.button.css.selectbox.environment.getElement().selectedIndex);\n      }\n    },\n    domTextbox:function(_event){\n      with(firebug){\n        if(_event.keyCode==13){\n          d.dom.open(eval(el.button.dom.textbox.environment.getElement().value),el.left.dom.container);\n        }\n      }\n    },\n    inspector:function(){\n      with(firebug){\n        if (env.popupWin) {\n          env.popupWin.firebug.d.html.inspect(firebug.d.inspector.el);\n        } else {\n          firebug.d.html.inspect(firebug.d.inspector.el);\n        }\n      }\n    },\n    keyboard:function(_event){\n      with(firebug){\n        if(_event.keyCode==27 && d.inspector.enabled){\n          d.inspector.toggle();\n        } else if(_event.keyCode === 123 && _event.ctrlKey || _event.metaKey) {\n          if(env.isPopup){\n            win.dock();\n          }else {\n            win.newWindow();\n          }\n        } else if(\n            (_event.keyCode === 123 && !_event.ctrlKey && !_event.metaKey) || \n            (_event.keyCode === 76 && (_event.ctrlKey || _event.metaKey) && _event.shiftKey) ||\n            (_event.keyCode === 13 && _event.shiftKey)) {\n\n          if(env.isPopup){\n            win.dock();\n          } else if (el.main.environment.getStyle(\"display\") === 'none') {\n            win.show();\n          } else {\n            win.hide();\n          }\n        }\n      }\n    },\n    mouse:function(_event){\n      with(firebug){\n        var target;\n        \n        if(document.elementFromPoint) {\n          target = document.elementFromPoint(_event.clientX, _event.clientY);\n        } else {\n          if(lib.env.ie) {\n            target = _event.srcElement;\n          } else {\n            target = _event.explicitOriginalTarget || _event.target;\n          }\n        }\n        \n        if( d.inspector.enabled&&\n          target!=document.body&&\n          target!=document.firstChild&&\n          target!=document.childNodes[1]&&\n          target!=el.borderInspector.environment.getElement()&&\n          target!=el.main.environment.getElement()&&\n          target.offsetParent!=el.main.environment.getElement() ) {\n            d.inspector.inspect(target);\n        }\n      }\n    },\n    runMultiline:function(){\n      with(firebug){\n        d.console.eval.call(window,el.right.console.input.environment.getElement().value);\n      }\n    },\n    runCSS:function(){\n      with(firebug){\n        var source = el.right.css.input.environment.getElement().value.replace(/\\n|\\t/g,\"\").split(\"}\");\n        for(var i=0, len=source.length; i<len; i++){\n          var item = source[i]+\"}\", rule = !lib.env.ie?item:item.split(/{|}/),\n              styleSheet = document.styleSheets[0];\n          console.log(rule);\n          if(item.match(/.+\\{.+\\}/)){\n            if(lib.env.ie)\n              styleSheet.addRule(rule[0],rule[1]);\n            else\n              styleSheet.insertRule( rule, styleSheet.cssRules.length );\n          }\n        }\n      }\n    },\n    scriptsSelectbox:function(){\n      with(firebug){\n        d.scripts.open(parseInt(el.button.scripts.selectbox.environment.getElement().value));\n      }\n    },\n    xhrTextbox:function(_event){\n      with(firebug){\n        if(_event.keyCode==13){\n          d.xhr.addObject.apply(env.targetWindow, el.button.xhr.textbox.environment.getElement().value.split(\",\"));\n        }\n      }\n    }\n  }\n};\n\n(function(_scope){\n  _scope.lib = {};\n  var pi  = _scope.lib; pi.version = [1.1,2008091000];\n\n  pi.env = {\n    ie: /MSIE/i.test(navigator.userAgent),\n    ie6: /MSIE 6/i.test(navigator.userAgent),\n    ie7: /MSIE 7/i.test(navigator.userAgent),\n    ie8: /MSIE 8/i.test(navigator.userAgent),\n    firefox: /Firefox/i.test(navigator.userAgent),\n    opera: /Opera/i.test(navigator.userAgent),\n    webkit: /Webkit/i.test(navigator.userAgent),\n    camino: /Camino/i.test(navigator.userAgent)\n  };\n\n  pi.get = function(){\n    return document.getElementById(arguments[0]);\n  };\n  pi.get.byTag = function(){\n    return document.getElementsByTagName(arguments[0]);\n  };\n  pi.get.byClass = function(){ return document.getElementsByClassName.apply(document,arguments); };\n\n  pi.util = {\n    Array:{\n      clone:function(_array,_undeep){\n        var tmp = [];\n        Array.prototype.push.apply(tmp,_array);\n        pi.util.Array.forEach(tmp,function(_item,_index,_source){\n          if(_item instanceof Array&&!_undeep)\n            _source[_index] = pi.util.Array.clone(_source[_index]);\n        });\n        return tmp;\n      },\n      count:function(_array,_value){\n        var count = 0;\n        pi.util.Array.forEach(_array,function(){\n          count+=Number(arguments[0]==_value);\n        });\n        return count;\n      },\n      forEach:function(_array,_function){\n        if(_array.forEach)\n          return _array.forEach(_function);\n        for(var i=0,len=_array.length; i<len; i++)\n          _function.apply(_array,[_array[i],i,_array]);   \n      },\n      getLatest:function(_array){\n        return _array[_array.length-1];\n      },\n      indexOf:function(_array,_value){\n        if(!pi.env.ie){\n          return _array.indexOf(_value);\n        };\n\n        var index = -1;\n        for(var i=0, len=_array.length; i<len; i++){\n          if(_array[i]==_value){\n            index = i;\n            break;\n          }\n        }\n        return index;\n      },\n      remove:function(_array,_index){\n        var result = _array.slice(0,_index);\n        _array = Array.prototype.push.apply(result,_array.slice(_index+1));\n        return result;\n      }\n    },\n    Curry:function(_fn,_scope){\n      var fn = _fn, scope = _scope||window, args = Array.prototype.slice.call(arguments,2);\n      return function(){ \n        return fn.apply(scope,args.concat( Array.prototype.slice.call(arguments,0) )); \n      };\n    },\n    Extend:function(_superClass,_prototype,_skipClonning){\n      var object = new pi.base;\n      if(_prototype[\"$Init\"]){\n        object.init = _prototype[\"$Init\"];\n        delete _prototype[\"$Init\"];\n      };\n\n      object.body = _superClass==pi.base?_prototype:pi.util.Hash.merge(_prototype,_superClass.prototype);\n      object.init=object.init||function(){\n        if(_superClass!=pi.base)\n          _superClass.apply(this,arguments);\n      };\n\n      return object.build(_skipClonning);\n    },\n    IsArray:function(_object){\n      if(_object===null){\n        return false;\n      }\n      if(window.NodeList&&window.NamedNodeMap&&!pi.env.ie8){\n        if(_object instanceof Array||_object instanceof NodeList||_object instanceof NamedNodeMap||(window.HTMLCollection&&_object instanceof HTMLCollection))\n          return true;\n      };\n      if(!_object||_object==window||typeof _object==\"function\"||typeof _object==\"string\"||typeof _object.length!=\"number\"){\n        return false\n      };\n      var len = _object.length;\n      if(len>0&&_object[0]!=undefined&&_object[len-1]!=undefined){\n        return true;\n      } else {\n        for(var key in _object){\n          if(key!=\"item\"&&key!=\"length\"&&key!=\"setNamedItemNS\"&&key!=\"setNamedItem\"&&key!=\"getNamedItem\"&&key!=\"removeNamedItem\"&&key!=\"getNamedItemNS\"&&key!=\"removeNamedItemNS\"&&key!=\"tags\"){\n            return false;\n          }\n        }\n        return true\n      };\n    },\n    IsHash:function(_object){\n      return _object && typeof _object==\"object\"&&(_object==window||_object instanceof Object)&&!_object.nodeName&&!pi.util.IsArray(_object)\n    },\n    Init:[],\n    AddEvent: function(_element,_eventName,_fn,_useCapture){\n      _element[pi.env.ie?\"attachEvent\":\"addEventListener\"]((pi.env.ie?\"on\":\"\")+_eventName,_fn,_useCapture||false);\n      return pi.util.Curry(pi.util.AddEvent,this,_element);\n    },\n    RemoveEvent: function(_element,_eventName,_fn,_useCapture){\n      _element[pi.env.ie?\"detachEvent\":\"removeEventListener\"]((pi.env.ie?\"on\":\"\")+_eventName,_fn,_useCapture||false);\n      return pi.util.Curry(pi.util.RemoveEvent,this,_element);\n    },\n    Element:{\n      addClass:function(_element,_class){\n        if( !pi.util.Element.hasClass(_element,_class) )\n          pi.util.Element.setClass(_element, pi.util.Element.getClass(_element) + \" \" + _class );\n      },\n      getClass:function(_element){\n        return _element.getAttribute(pi.env.ie&&!pi.env.ie8?\"className\":\"class\")||\"\";\n      },\n      hasClass:function(_element,_class){\n        return pi.util.Array.indexOf(pi.util.Element.getClass(_element).split(\" \"),_class)>-1;\n      },\n      removeClass:function(_element,_class){\n        if( pi.util.Element.hasClass(_element,_class) ){\n          var names = pi.util.Element.getClass(_element,_class).split(\" \");\n          pi.util.Element.setClass(\n              _element, \n              pi.util.Array.remove(names,pi.util.Array.indexOf(names,_class)).join(\" \")\n          );\n        }\n      },\n      setClass:function(_element,_value){\n        if(pi.env.ie8){\n          _element.setAttribute(\"className\", _value );\n          _element.setAttribute(\"class\", _value );\n        } else {\n          _element.setAttribute(pi.env.ie?\"className\":\"class\", _value );\n        }\n      },\n      toggleClass:function(){\n        if(pi.util.Element.hasClass.apply(this,arguments))\n          pi.util.Element.removeClass.apply(this,arguments);\n        else\n          pi.util.Element.addClass.apply(this,arguments);\n      },\n      getOpacity:function(_styleObject){\n        var styleObject = _styleObject;\n        if(!pi.env.ie)\n          return styleObject[\"opacity\"];\n\n        var alpha = styleObject[\"filter\"].match(/opacity\\=(\\d+)/i);\n        return alpha?alpha[1]/100:1;\n      },\n      setOpacity:function(_element,_value){\n        if(!pi.env.ie)\n          return pi.util.Element.addStyle(_element,{ \"opacity\":_value });\n        _value*=100;\n        pi.util.Element.addStyle(_element,{ \"filter\":\"alpha(opacity=\"+_value+\")\" });\n        return this._parent_;\n      },\n      getPosition:function(_element){\n        var parent = _element,offsetLeft = document.body.offsetLeft, offsetTop = document.body.offsetTop, view = pi.util.Element.getView(_element);\n        while(parent&&parent!=document.body&&parent!=document.firstChild){\n          offsetLeft +=parseInt(parent.offsetLeft);\n          offsetTop += parseInt(parent.offsetTop);\n          parent = parent.offsetParent;\n        };\n        return {\n          \"bottom\":view[\"bottom\"],\n          \"clientLeft\":_element.clientLeft,\n          \"clientTop\":_element.clientTop,\n          \"left\":view[\"left\"],\n          \"marginTop\":view[\"marginTop\"],\n          \"marginLeft\":view[\"marginLeft\"],\n          \"offsetLeft\":offsetLeft,\n          \"offsetTop\":offsetTop,\n          \"position\":view[\"position\"],\n          \"right\":view[\"right\"],\n          \"top\":view[\"top\"],\n          \"zIndex\":view[\"zIndex\"]\n        };\n      },\n      getSize:function(_element){\n        var view = pi.util.Element.getView(_element);\n        return {\n          \"height\":view[\"height\"],\n          \"clientHeight\":_element.clientHeight,\n          \"clientWidth\":_element.clientWidth,\n          \"offsetHeight\":_element.offsetHeight,\n          \"offsetWidth\":_element.offsetWidth,\n          \"width\":view[\"width\"]\n        }\n      },\n      addStyle:function(_element,_style){\n        for(var key in _style){\n          key = key==\"float\"?pi.env.ie?\"styleFloat\":\"cssFloat\":key;\n          if (key == \"opacity\" && pi.env.ie) {\n            pi.util.Element.setOpacity(_element,_style[key]);\n            continue;\n          }\n          try {\n            _element.style[key] = _style[key];\n          }catch(e){}     \n        }\n      },\n      getStyle:function(_element,_property){\n        _property = _property==\"float\"?pi.env.ie?\"styleFloat\":\"cssFloat\":_property;\n        if(_property==\"opacity\"&&pi.env.ie)\n          return pi.util.Element.getOpacity(_element.style);\n        return typeof _property==\"string\"?_element.style[_property]:_element.style;\n      },\n      getValue:function(_element){\n        switch(_element.nodeName.toLowerCase()){\n          case \"input\":\n          case \"textarea\":\n            return _element.value;\n          case \"select\":\n            return _element.options[_element.selectedIndex].value;\n          default:\n            return _element.innerHTML;\n          break;\n        }\n      },\n      getView:function(_element,_property){\n        var view = document.defaultView?document.defaultView.getComputedStyle(_element,null):_element.currentStyle;\n        _property = _property==\"float\"?pi.env.ie?\"styleFloat\":\"cssFloat\":_property;\n        if(_property==\"opacity\"&&pi.env.ie)\n          return pi.util.Element.getOpacity(_element,view);\n        return typeof _property==\"string\"?view[_property]:view;\n      }\n    },\n    Hash: {\n      clone:function(_hash,_undeep){\n        var tmp = {};\n        for(var key in _hash){\n          if( !_undeep&&pi.util.IsArray( _hash[key] ) ){\n            tmp[key] = pi.util.Array.clone( _hash[key] );\n          } else if( !_undeep&&pi.util.IsHash( _hash[key] ) ){\n            tmp[ key ] = pi.util.Hash.clone(_hash[key]);\n          } else {\n            tmp[key] = _hash[key];\n          }\n        }\n        return tmp;\n      },\n      merge:function(_hash,_source,_undeep){\n        for(var key in _source){\n          var value = _source[key];\n          if (!_undeep&&pi.util.IsArray(_source[key])) {\n            if(pi.util.IsArray( _hash[key] )){\n              Array.prototype.push.apply( _source[key], _hash[key] )\n            }\n            else\n              value = pi.util.Array.clone(_source[key]);\n          }\n          else if (!_undeep&&pi.util.IsHash(_source[key])) {\n            if (pi.util.IsHash(_hash[key])) {\n              value = pi.util.Hash.merge(_hash[key], _source[key]);\n            } else {\n              value = pi.util.Hash.clone( _source[key] );\n            }\n          } else if( _hash[key] )\n            value = _hash[ key ];\n          _hash[key] = value;\n        };\n        return _hash;\n      }\n    },\n    String:{\n      format:function(_str){\n        var values = Array.prototype.slice.call(arguments,1);\n        return _str.replace(/\\{(\\d)\\}/g,function(){\n          return values[arguments[1]];\n        })\n      }\n    },\n    GetViewport:function(){\n      return {\n        height:document.documentElement.clientHeight||document.body.clientHeight,\n        width:document.documentElement.clientWidth||document.body.clientWidth\n      }\n    }\n  };\n\n  pi.base = function(){\n    this.body = {};\n    this.init = null;\n\n    this.build = function(_skipClonning){\n      var base = this, skipClonning = _skipClonning||false, _private = {},\n      fn = function(){\n        var _p = pi.util.Hash.clone(_private);\n        if(!skipClonning){\n          for(var key in this){\n            if(pi.util.IsArray( this[ key ] ) ){\n              this[key] = pi.util.Array.clone( this[key] );\n            } else\n              if( pi.util.IsHash(this[key]) ){\n                this[key] = pi.util.Hash.clone( \n                    this[ key ],\n                    function(_key,_object){\n                      this[ _key ]._parent_ = this;\n                    }\n                );\n                //this[key]._parent_ = this;\n              }\n          }\n        };\n        base.createAccessors( _p, this );\n        if(base.init)\n          return base.init.apply(this,arguments);\n        return this;\n      };\n      this.movePrivateMembers(this.body,_private);\n      if(this.init){\n        fn[\"$Init\"] = this.init;\n      };\n      fn.prototype = this.body;\n      return fn;\n    };\n\n    this.createAccessors = function(_p, _branch){\n      var getter = function(_property){ return this[_property]; },\n      setter = function(_property,_value){ this[_property] = _value; return _branch._parent_||_branch; };\n\n      for (var name in _p) {\n        var isPrivate = name.substring(0, 1) == \"_\", title = name.substring(1, 2).toUpperCase() + name.substring(2);\n\n        if (isPrivate) {\n          _branch[(_branch[\"get\" + title]?\"_\":\"\")+\"get\" + title] = pi.util.Curry(getter,_p,name);\n          _branch[(_branch[\"set\" + title]?\"_\":\"\")+\"set\" + title] = pi.util.Curry(setter,_p,name);\n        }\n        else \n          if (pi.util.IsHash(_p[name])){\n            _branch[name]._parent_ = _branch;\n            if(!_branch[name])\n              _branch[name] = {};\n            this.createAccessors(_p[name], _branch[name]);\n          }   \n      };\n    };\n\n    this.movePrivateMembers = function(_object, _branch){\n      for (var name in _object) {\n        var isPrivate = name.substring(0, 1) == \"_\";\n\n        if (isPrivate) {\n          _branch[name] = _object[name];\n          delete _object[name];\n        }\n        else \n          if (pi.util.IsHash(_object[name])){\n            _branch[name] = {};\n            this.movePrivateMembers(_object[name], _branch[name]);\n          }\n      };\n    };\n  };\n\n  pi.element = new pi.base;\n  pi.element.init = function(_val){\n    this.environment.setElement(\n        typeof _val==\"string\"||!_val?\n            document.createElement(_val||\"DIV\"):\n              _val\n    );\n    return this;\n  };\n\n  pi.element.body = {\n    \"addStyle\":function(){\n      return this.environment.addStyle.apply(this.environment,arguments);\n    },\n    \"clean\":function(){\n      var childs = this.child.get();\n      while(childs.length){\n        childs[0].parentNode.removeChild(childs[0]);\n      }\n    },\n    \"clone\":function(_deep){\n      return this.environment.getElement().cloneNode(_deep);\n    },\n    \"insert\":function(_element){\n      _element = _element.environment?_element.environment.getElement():_element;\n      _element.appendChild(this.environment.getElement());\n      return this;\n    },\n    \"insertAfter\":function(_referenceElement){\n      _referenceElement = _referenceElement.environment?_referenceElement.environment.getElement():_referenceElement;\n      _referenceElement.nextSibling?this.insertBefore(_referenceElement.nextSibling):this.insert(_referenceElement.parentNode);\n      return this;\n    },\n    \"insertBefore\":function(_referenceElement){\n      _referenceElement = _referenceElement.environment?_referenceElement.environment.getElement():_referenceElement;\n      _referenceElement.parentNode.insertBefore(this.environment.getElement(),_referenceElement);\n      return this;\n    },\n    \"query\":function(_expression,_resultType,namespaceResolver,_result){\n      return pi.xpath(_expression,_resultType||\"ORDERED_NODE_SNAPSHOT_TYPE\",this.environment.getElement(),_namespaceResolver,_result);\n    },\n    \"remove\":function(){\n      if (this.environment.getParent()) {\n        this.environment.getParent().removeChild(this.environment.getElement());\n      }\n    },\n    \"update\":function(_value){\n      this.element[this.element.nodeName.toLowerCase()==\"textarea\"||this.element.nodeName.toLowerCase()==\"input\"?\"value\":\"innerHTML\"]=_value;\n      return this;\n    },\n    \"attribute\":{\n      \"getAll\":function(){\n        return this._parent_.environment.getElement().attributes;\n      },\n      \"clear\":function(_name){\n        this.set(_name,\"\");\n        return this._parent_;\n      },\n      \"get\":function(_name){\n        return this._parent_.environment.getElement().getAttribute(_name);\n      },\n      \"has\":function(_name){\n        return pi.env.ie?(this.get(_name)!=null):this._parent_.environment.getElement().hasAttribute(_name);\n      },\n      \"remove\":function(_name){\n        this._parent_.environment.getElement().removeAttribute(_name);\n        return this._parent_;\n      },\n      \"set\":function(_name,_value){\n        this._parent_.environment.getElement().setAttribute(_name,_value);\n        return this._parent_;\n      },\n      \"addClass\":function(_classes){\n        for(var i=0,len=arguments.length; i<len; i++){\n          pi.util.Element.addClass(this._parent_.environment.getElement(),arguments[i]);\n        };\n        return this._parent_;\n      },\n      \"clearClass\":function(){\n        this.setClass(\"\");\n        this._parent_;\n      },\n      \"getClass\":function(){\n        return pi.util.Element.getClass( this._parent_.environment.getElement() );\n      },\n      \"hasClass\":function(_class){\n        return pi.util.Element.hasClass( this._parent_.environment.getElement(), _class );\n      },\n      \"setClass\":function(_value){\n        return pi.util.Element.setClass( this._parent_.environment.getElement(), _value );\n      },\n      \"removeClass\":function(_class){\n        pi.util.Element.removeClass( this._parent_.environment.getElement(), _class );\n        return this._parent_;\n      },\n      \"toggleClass\":function(_class){\n        pi.util.Element.toggleClass( this._parent_.environment.getElement(), _class );\n      }\n    },\n    \"child\":{\n      \"get\":function(){\n        return this._parent_.environment.getElement().childNodes;\n      },\n      \"add\":function(_elements){\n        for (var i = 0; i < arguments.length; i++) {\n          var el = arguments[i];\n          this._parent_.environment.getElement().appendChild(\n              el.environment ? el.environment.getElement() : el\n          );\n        }\n        return this._parent_;\n      },\n      \"addAfter\":function(_element,_referenceElement){\n        this.addBefore(\n            _element.environment?_element.environment.getElement():_element,\n                (_referenceElement.environment?_referenceElement.environment.getElement():_referenceElement).nextSibling\n        );\n        return this._parent_;\n      },\n      \"addBefore\":function(_element,_referenceElement){\n        this._parent_.environment.getElement().insertBefore(\n            _element.environment?_element.environment.getElement():_element,\n                _referenceElement.environment?_referenceElement.environment.getElement():_referenceElement\n        );\n        return this._parent_;\n      },\n      \"remove\":function(_element){\n        this._parent_.environment.getElement().removeChild(_element.environment?_element.environment.getElement():_element);\n      }\n    },\n    \"environment\":{\n      \"_element\":null,\n      \"setElement\":function(_value){\n        this._parent_.element = _value;\n        this._parent_.element.lib = this._parent_;\n        this._parent_.element.firebugElement = true;\n        this._setElement(_value);\n      },\n      \"getParent\":function(){\n        return this.getElement().parentNode;\n      },\n      \"getPosition\":function(){\n        return pi.util.Element.getPosition(this.getElement());\n      },\n      \"getSize\":function(){\n        return pi.util.Element.getSize( this.getElement() );\n      },\n      \"addStyle\":function(_styleObject){\n        pi.util.Element.addStyle(this.getElement(),_styleObject);\n        return this._parent_;\n      },\n      \"getStyle\":function(_property){\n        return pi.util.Element.getStyle(this.getElement(),_property);\n      },\n      \"getName\":function(){\n        return this.getElement().nodeName;\n      },\n      \"getType\":function(){\n        return this.getElement().nodeType;\n      },\n      \"getValue\":function(){\n        return pi.util.Element.getValue(this.getElement());\n      },\n      \"getView\":function(_property){\n        return pi.util.Element.getView(this.getElement(),_property);\n      }\n    },\n    \"event\":{\n      \"addListener\":function(_event,_fn,_useCapture){\n        pi.util.AddEvent(this._parent_.environment.getElement(),_event,_fn,_useCapture);\n        return this._parent_;\n      },\n      \"removeListener\":function(_event,_fn,_useCapture){\n        pi.util.RemoveEvent(this._parent_.environment.getElement(),_event,_fn,_useCapture);\n        return this._parent_;\n      }\n    }\n  };\n  pi.element = pi.element.build();\n\n  pi.xhr = new pi.base;\n  pi.xhr.init = function(_url){\n    if(!window.XMLHttpRequest){\n      var names = [\"Msxml2.XMLHTTP.6.0\",\"Msxml2.XMLHTTP.3.0\",\"Msxml2.XMLHTTP\",\"Microsoft.XMLHTTP\"];\n      for (var i = 0; i < names.length; i++) {\n        try {\n          this.environment.setApi(new ActiveXObject(names[i]));\n          break;\n        } catch (e) { continue; }\n      }\n    }\n    else {\n      this.environment.setApi(new XMLHttpRequest());\n    }\n    this.environment.getApi().onreadystatechange=pi.util.Curry(this.event.readystatechange,this);\n    this.environment.setUrl(_url);\n    this.environment.setCallback([]);\n\n    return this;\n  };\n  pi.xhr.body = {\n    \"addCallback\": function(){\n      return this.environment.addCallback.apply(this.environment,arguments);\n    },\n    \"addData\": function(){\n      return this.environment.addData.apply(this.environment,arguments);\n    },\n    \"abort\":function(){\n      this.environment.getApi().abort();\n      return this;\n    },\n    \"send\":function(){\n      var url = this.environment.getUrl(), data = this.environment.getData(),dataUrl = \"\"; \n\n      if(!this.environment.getCache())\n        data[\"forceCache\"] = Number(new Date);\n\n      for (var key in data)\n        dataUrl += pi.util.String.format(\"{0}={1}&\",key, data[key]);\n\n      if (this.environment.getType()==\"GET\")\n        url += (url.search(\"\\\\?\")==-1?\"?\":\"&\")+pi.util.String.format(\"{0}\",dataUrl);\n\n      this.api.open(this.environment.getType(),url,this.environment.getAsync());\n      if(this.environment.getType()==\"POST\"){\n        this.api.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\");\n      };\n      this.api.send(this.environment.getType()==\"GET\"?\"\":dataUrl);\n      return this;\n    }\n  };\n  pi.xhr.body.environment = {\n    \"_async\":true, \"_api\":null, \"_cache\":true, \"_callback\":null, \"_data\":{}, \"_type\":\"GET\", \"_url\":\"\",\n    \"setApi\":function(_value){\n      this._parent_.api = _value;\n      this._setApi(_value);\n    },\n    \"addCallback\": function(_readyState,_fn){\n      this.getCallback().push({ \"fn\":_fn, \"readyState\":_readyState  });\n      return this._parent_;\n    },\n    \"addData\": function(_key,_value){\n      this.getData()[_key] = _value;\n      return this._parent_;\n    },\n    \"setType\": function(_value){\n      this._setType(_value);\n      return this._parent_;\n    }\n  };\n  pi.xhr.body.event = {\n    \"readystatechange\":function(){\n      var readyState = this.environment.getApi().readyState, callback=this.environment.getCallback();\n      for (var i = 0, len=callback.length; i < len; i++) {\n        if(pi.util.Array.indexOf(callback[i].readyState,readyState)>-1){\n          callback[i].fn.apply(this);\n        }\n      }\n    }\n  };\n  pi.xhr = pi.xhr.build();\n\n  /*\n   * xml.xhr.get\n   */\n\n  pi.xhr.get = function(_url,_returnPiObject){\n    var request = new pi.xhr();\n    request.environment.setAsync(false);\n    request.environment.setUrl(_url);\n    request.send();\n    return _returnPiObject?request:request.environment.getApi();\n  };\n\n  /*\n   * registering onload event for init functions\n   */\n  pi.util.AddEvent(\n    pi.env.ie?window:document,\n    pi.env.ie?\"load\":\"DOMContentLoaded\",\n    function(){\n      for(var i=0,len=pi.util.Init.length; i<len; i++){\n        pi.util.Init[ i ]();\n      }\n    }\n  );\n})(firebug);\n\nwith(firebug){\n  initConsole();\n  lib.util.Init.push(firebug.init);\n}\n","Magento_Tinymce3/tiny_mce/classes/xml/Parser.js":"/**\n * Parser.js\n *\n * Copyright 2009, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n(function() {\n\t/**\n\t * XML Parser class. This class is only available for the dev version of TinyMCE.\n\t */\n\ttinymce.create('tinymce.xml.Parser', {\n\t\t/**\n\t\t * Constucts a new XML parser instance.\n\t\t *\n\t\t * @param {Object} Optional settings object.\n\t\t */\n\t\tParser : function(s) {\n\t\t\tthis.settings = tinymce.extend({\n\t\t\t\tasync : true\n\t\t\t}, s);\n\t\t},\n\n\t\t/**\n\t\t * Parses the specified document and executed the callback ones it's parsed.\n\t\t *\n\t\t * @param {String} u URL to XML file to parse.\n\t\t * @param {function} cb Optional callback to execute ones the XML file is loaded.\n\t\t * @param {Object} s Optional scope for the callback execution.\n\t\t */\n\t\tload : function(u, cb, s) {\n\t\t\tvar doc, t, w = window, c = 0;\n\n\t\t\ts = s || this;\n\n\t\t\t// Explorer, use XMLDOM since it can be used on local fs\n\t\t\tif (window.ActiveXObject) {\n\t\t\t\tdoc = new ActiveXObject(\"Microsoft.XMLDOM\");\n\t\t\t\tdoc.async = this.settings.async;\n\n\t\t\t\t// Wait for response\n\t\t\t\tif (doc.async) {\n\t\t\t\t\tfunction check() {\n\t\t\t\t\t\tif (doc.readyState == 4 || c++ > 10000)\n\t\t\t\t\t\t\treturn cb.call(s, doc);\n\n\t\t\t\t\t\tw.setTimeout(check, 10);\n\t\t\t\t\t};\n\n\t\t\t\t\tt = w.setTimeout(check, 10);\n\t\t\t\t}\n\n\t\t\t\tdoc.load(u);\n\n\t\t\t\tif (!doc.async)\n\t\t\t\t\tcb.call(s, doc);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// W3C using XMLHttpRequest\n\t\t\tif (window.XMLHttpRequest) {\n\t\t\t\ttry {\n\t\t\t\t\tdoc = new window.XMLHttpRequest();\n\t\t\t\t\tdoc.open('GET', u, this.settings.async);\n\t\t\t\t\tdoc.async = this.settings.async;\n\n\t\t\t\t\tdoc.onload = function() {\n\t\t\t\t\t\tcb.call(s, doc.responseXML);\n\t\t\t\t\t};\n\n\t\t\t\t\tdoc.send('');\n\t\t\t\t} catch (ex) {\n\t\t\t\t\tcb.call(s, null, ex);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Parses the specified XML string.\n\t\t *\n\t\t * @param {String} xml XML String to parse.\n\t\t * @return {Document} XML Document instance.\n\t\t */\n\t\tloadXML : function(xml) {\n\t\t\tvar doc;\n\n\t\t\t// W3C\n\t\t\tif (window.DOMParser)\n\t\t\t\treturn new DOMParser().parseFromString(xml, \"text/xml\");\n\n\t\t\t// Explorer\n\t\t\tif (window.ActiveXObject) {\n\t\t\t\tdoc = new ActiveXObject(\"Microsoft.XMLDOM\");\n\t\t\t\tdoc.async = \"false\";\n\t\t\t\tdoc.loadXML(xml);\n\n\t\t\t\treturn doc;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns all string contents of a element concated together.\n\t\t *\n\t\t * @param {XMLNode} el XML element to retrieve text from.\n\t\t * @return {string} XML element text contents.\n\t\t */\n\t\tgetText : function(el) {\n\t\t\tvar o = '';\n\n\t\t\tif (!el)\n\t\t\t\treturn '';\n\n\t\t\tif (el.hasChildNodes()) {\n\t\t\t\tel = el.firstChild;\n\n\t\t\t\tdo {\n\t\t\t\t\tif (el.nodeType == 3 || el.nodeType == 4)\n\t\t\t\t\t\to += el.nodeValue;\n\t\t\t\t} while(el = el.nextSibling);\n\t\t\t}\n\n\t\t\treturn o;\n\t\t}\n\t});\n})();\n","Magento_Swatches/js/swatch-renderer.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'underscore',\n    'mage/template',\n    'mage/smart-keyboard-handler',\n    'mage/translate',\n    'priceUtils',\n    'jquery/ui',\n    'jquery/jquery.parsequery',\n    'mage/validation/validation'\n], function ($, _, mageTemplate, keyboardHandler, $t, priceUtils) {\n    'use strict';\n\n    /**\n     * Extend form validation to support swatch accessibility\n     */\n    $.widget('mage.validation', $.mage.validation, {\n        /**\n         * Handle form with swatches validation. Focus on first invalid swatch block.\n         *\n         * @param {jQuery.Event} event\n         * @param {Object} validation\n         */\n        listenFormValidateHandler: function (event, validation) {\n            var swatchWrapper, firstActive, swatches, swatch, successList, errorList, firstSwatch;\n\n            this._superApply(arguments);\n\n            swatchWrapper = '.swatch-attribute-options';\n            swatches = $(event.target).find(swatchWrapper);\n\n            if (!swatches.length) {\n                return;\n            }\n\n            swatch = '.swatch-attribute';\n            firstActive = $(validation.errorList[0].element || []);\n            successList = validation.successList;\n            errorList = validation.errorList;\n            firstSwatch = $(firstActive).parent(swatch).find(swatchWrapper);\n\n            keyboardHandler.focus(swatches);\n\n            $.each(successList, function (index, item) {\n                $(item).parent(swatch).find(swatchWrapper).attr('aria-invalid', false);\n            });\n\n            $.each(errorList, function (index, item) {\n                $(item.element).parent(swatch).find(swatchWrapper).attr('aria-invalid', true);\n            });\n\n            if (firstSwatch.length) {\n                $(firstSwatch).focus();\n            }\n        }\n    });\n\n    /**\n     * Render tooltips by attributes (only to up).\n     * Required element attributes:\n     *  - option-type (integer, 0-3)\n     *  - option-label (string)\n     *  - option-tooltip-thumb\n     *  - option-tooltip-value\n     *  - thumb-width\n     *  - thumb-height\n     */\n    $.widget('mage.SwatchRendererTooltip', {\n        options: {\n            delay: 200,                             //how much ms before tooltip to show\n            tooltipClass: 'swatch-option-tooltip'  //configurable, but remember about css\n        },\n\n        /**\n         * @private\n         */\n        _init: function () {\n            var $widget = this,\n                $this = this.element,\n                $element = $('.' + $widget.options.tooltipClass),\n                timer,\n                type = parseInt($this.attr('option-type'), 10),\n                label = $this.attr('option-label'),\n                thumb = $this.attr('option-tooltip-thumb'),\n                value = $this.attr('option-tooltip-value'),\n                width = $this.attr('thumb-width'),\n                height = $this.attr('thumb-height'),\n                $image,\n                $title,\n                $corner;\n\n            if (!$element.length) {\n                $element = $('<div class=\"' +\n                    $widget.options.tooltipClass +\n                    '\"><div class=\"image\"></div><div class=\"title\"></div><div class=\"corner\"></div></div>'\n                );\n                $('body').append($element);\n            }\n\n            $image = $element.find('.image');\n            $title = $element.find('.title');\n            $corner = $element.find('.corner');\n\n            $this.hover(function () {\n                if (!$this.hasClass('disabled')) {\n                    timer = setTimeout(\n                        function () {\n                            var leftOpt = null,\n                                leftCorner = 0,\n                                left,\n                                $window;\n\n                            if (type === 2) {\n                                // Image\n                                $image.css({\n                                    'background': 'url(\"' + thumb + '\") no-repeat center', //Background case\n                                    'background-size': 'initial',\n                                    'width': width + 'px',\n                                    'height': height + 'px'\n                                });\n                                $image.show();\n                            } else if (type === 1) {\n                                // Color\n                                $image.css({\n                                    background: value\n                                });\n                                $image.show();\n                            } else if (type === 0 || type === 3) {\n                                // Default\n                                $image.hide();\n                            }\n\n                            $title.text(label);\n\n                            leftOpt = $this.offset().left;\n                            left = leftOpt + $this.width() / 2 - $element.width() / 2;\n                            $window = $(window);\n\n                            // the numbers (5 and 5) is magick constants for offset from left or right page\n                            if (left < 0) {\n                                left = 5;\n                            } else if (left + $element.width() > $window.width()) {\n                                left = $window.width() - $element.width() - 5;\n                            }\n\n                            // the numbers (6,  3 and 18) is magick constants for offset tooltip\n                            leftCorner = 0;\n\n                            if ($element.width() < $this.width()) {\n                                leftCorner = $element.width() / 2 - 3;\n                            } else {\n                                leftCorner = (leftOpt > left ? leftOpt - left : left - leftOpt) + $this.width() / 2 - 6;\n                            }\n\n                            $corner.css({\n                                left: leftCorner\n                            });\n                            $element.css({\n                                left: left,\n                                top: $this.offset().top - $element.height() - $corner.height() - 18\n                            }).show();\n                        },\n                        $widget.options.delay\n                    );\n                }\n            }, function () {\n                $element.hide();\n                clearTimeout(timer);\n            });\n\n            $(document).on('tap', function () {\n                $element.hide();\n                clearTimeout(timer);\n            });\n\n            $this.on('tap', function (event) {\n                event.stopPropagation();\n            });\n        }\n    });\n\n    /**\n     * Render swatch controls with options and use tooltips.\n     * Required two json:\n     *  - jsonConfig (magento's option config)\n     *  - jsonSwatchConfig (swatch's option config)\n     *\n     *  Tuning:\n     *  - numberToShow (show \"more\" button if options are more)\n     *  - onlySwatches (hide selectboxes)\n     *  - moreButtonText (text for \"more\" button)\n     *  - selectorProduct (selector for product container)\n     *  - selectorProductPrice (selector for change price)\n     */\n    $.widget('mage.SwatchRenderer', {\n        options: {\n            classes: {\n                attributeClass: 'swatch-attribute',\n                attributeLabelClass: 'swatch-attribute-label',\n                attributeSelectedOptionLabelClass: 'swatch-attribute-selected-option',\n                attributeOptionsWrapper: 'swatch-attribute-options',\n                attributeInput: 'swatch-input',\n                optionClass: 'swatch-option',\n                selectClass: 'swatch-select',\n                moreButton: 'swatch-more',\n                loader: 'swatch-option-loading'\n            },\n            // option's json config\n            jsonConfig: {},\n\n            // swatch's json config\n            jsonSwatchConfig: {},\n\n            // selector of parental block of prices and swatches (need to know where to seek for price block)\n            selectorProduct: '.product-info-main',\n\n            // selector of price wrapper (need to know where set price)\n            selectorProductPrice: '[data-role=priceBox]',\n\n            //selector of product images gallery wrapper\n            mediaGallerySelector: '[data-gallery-role=gallery-placeholder]',\n\n            // selector of category product tile wrapper\n            selectorProductTile: '.product-item',\n\n            // number of controls to show (false or zero = show all)\n            numberToShow: false,\n\n            // show only swatch controls\n            onlySwatches: false,\n\n            // enable label for control\n            enableControlLabel: true,\n\n            // control label id\n            controlLabelId: '',\n\n            // text for more button\n            moreButtonText: $t('More'),\n\n            // Callback url for media\n            mediaCallback: '',\n\n            // Local media cache\n            mediaCache: {},\n\n            // Cache for BaseProduct images. Needed when option unset\n            mediaGalleryInitial: [{}],\n\n            // Use ajax to get image data\n            useAjax: false,\n\n            /**\n             * Defines the mechanism of how images of a gallery should be\n             * updated when user switches between configurations of a product.\n             *\n             * As for now value of this option can be either 'replace' or 'prepend'.\n             *\n             * @type {String}\n             */\n            gallerySwitchStrategy: 'replace',\n\n            // whether swatches are rendered in product list or on product page\n            inProductList: false,\n\n            // sly-old-price block selector\n            slyOldPriceSelector: '.sly-old-price',\n\n            // tier prise selectors start\n            tierPriceTemplateSelector: '#tier-prices-template',\n            tierPriceBlockSelector: '[data-role=\"tier-price-block\"]',\n            tierPriceTemplate: '',\n            // tier prise selectors end\n\n            // A price label selector\n            normalPriceLabelSelector: '.normal-price .price-label'\n        },\n\n        /**\n         * Get chosen product\n         *\n         * @returns int|null\n         */\n        getProduct: function () {\n            var products = this._CalcProducts();\n\n            return _.isArray(products) ? products[0] : null;\n        },\n\n        /**\n         * @private\n         */\n        _init: function () {\n            if (_.isEmpty(this.options.jsonConfig.images)) {\n                this.options.useAjax = true;\n                // creates debounced variant of _LoadProductMedia()\n                // to use it in events handlers instead of _LoadProductMedia()\n                this._debouncedLoadProductMedia = _.debounce(this._LoadProductMedia.bind(this), 500);\n            }\n\n            if (this.options.jsonConfig !== '' && this.options.jsonSwatchConfig !== '') {\n                // store unsorted attributes\n                this.options.jsonConfig.mappedAttributes = _.clone(this.options.jsonConfig.attributes);\n                this._sortAttributes();\n                this._RenderControls();\n                this._setPreSelectedGallery();\n                $(this.element).trigger('swatch.initialized');\n            } else {\n                console.log('SwatchRenderer: No input data received');\n            }\n            this.options.tierPriceTemplate = $(this.options.tierPriceTemplateSelector).html();\n        },\n\n        /**\n         * @private\n         */\n        _sortAttributes: function () {\n            this.options.jsonConfig.attributes = _.sortBy(this.options.jsonConfig.attributes, function (attribute) {\n                return parseInt(attribute.position, 10);\n            });\n        },\n\n        /**\n         * @private\n         */\n        _create: function () {\n            var options = this.options,\n                gallery = $('[data-gallery-role=gallery-placeholder]', '.column.main'),\n                productData = this._determineProductData(),\n                $main = productData.isInProductView ?\n                    this.element.parents('.column.main') :\n                    this.element.parents('.product-item-info');\n\n            if (productData.isInProductView) {\n                gallery.data('gallery') ?\n                    this._onGalleryLoaded(gallery) :\n                    gallery.on('gallery:loaded', this._onGalleryLoaded.bind(this, gallery));\n            } else {\n                options.mediaGalleryInitial = [{\n                    'img': $main.find('.product-image-photo').attr('src')\n                }];\n            }\n\n            this.productForm = this.element.parents(this.options.selectorProductTile).find('form:first');\n            this.inProductList = this.productForm.length > 0;\n        },\n\n        /**\n         * Determine product id and related data\n         *\n         * @returns {{productId: *, isInProductView: bool}}\n         * @private\n         */\n        _determineProductData: function () {\n            // Check if product is in a list of products.\n            var productId,\n                isInProductView = false;\n\n            productId = this.element.parents('.product-item-details')\n                    .find('.price-box.price-final_price').attr('data-product-id');\n\n            if (!productId) {\n                // Check individual product.\n                productId = $('[name=product]').val();\n                isInProductView = productId > 0;\n            }\n\n            return {\n                productId: productId,\n                isInProductView: isInProductView\n            };\n        },\n\n        /**\n         * Render controls\n         *\n         * @private\n         */\n        _RenderControls: function () {\n            var $widget = this,\n                container = this.element,\n                classes = this.options.classes,\n                chooseText = this.options.jsonConfig.chooseText;\n\n            $widget.optionsMap = {};\n\n            $.each(this.options.jsonConfig.attributes, function () {\n                var item = this,\n                    controlLabelId = 'option-label-' + item.code + '-' + item.id,\n                    options = $widget._RenderSwatchOptions(item, controlLabelId),\n                    select = $widget._RenderSwatchSelect(item, chooseText),\n                    input = $widget._RenderFormInput(item),\n                    listLabel = '',\n                    label = '';\n\n                // Show only swatch controls\n                if ($widget.options.onlySwatches && !$widget.options.jsonSwatchConfig.hasOwnProperty(item.id)) {\n                    return;\n                }\n\n                if ($widget.options.enableControlLabel) {\n                    label +=\n                        '<span id=\"' + controlLabelId + '\" class=\"' + classes.attributeLabelClass + '\">' +\n                            item.label +\n                        '</span>' +\n                        '<span class=\"' + classes.attributeSelectedOptionLabelClass + '\"></span>';\n                }\n\n                if ($widget.inProductList) {\n                    $widget.productForm.append(input);\n                    input = '';\n                    listLabel = 'aria-label=\"' + item.label + '\"';\n                } else {\n                    listLabel = 'aria-labelledby=\"' + controlLabelId + '\"';\n                }\n\n                // Create new control\n                container.append(\n                    '<div class=\"' + classes.attributeClass + ' ' + item.code + '\" ' +\n                         'attribute-code=\"' + item.code + '\" ' +\n                         'attribute-id=\"' + item.id + '\">' +\n                        label +\n                        '<div aria-activedescendant=\"\" ' +\n                             'tabindex=\"0\" ' +\n                             'aria-invalid=\"false\" ' +\n                             'aria-required=\"true\" ' +\n                             'role=\"listbox\" ' + listLabel +\n                             'class=\"' + classes.attributeOptionsWrapper + ' clearfix\">' +\n                            options + select +\n                        '</div>' + input +\n                    '</div>'\n                );\n\n                $widget.optionsMap[item.id] = {};\n\n                // Aggregate options array to hash (key => value)\n                $.each(item.options, function () {\n                    if (this.products.length > 0) {\n                        $widget.optionsMap[item.id][this.id] = {\n                            price: parseInt(\n                                $widget.options.jsonConfig.optionPrices[this.products[0]].finalPrice.amount,\n                                10\n                            ),\n                            products: this.products\n                        };\n                    }\n                });\n            });\n\n            // Connect Tooltip\n            container\n                .find('[option-type=\"1\"], [option-type=\"2\"], [option-type=\"0\"], [option-type=\"3\"]')\n                .SwatchRendererTooltip();\n\n            // Hide all elements below more button\n            $('.' + classes.moreButton).nextAll().hide();\n\n            // Handle events like click or change\n            $widget._EventListener();\n\n            // Rewind options\n            $widget._Rewind(container);\n\n            //Emulate click on all swatches from Request\n            $widget._EmulateSelected($.parseQuery());\n            $widget._EmulateSelected($widget._getSelectedAttributes());\n        },\n\n        /**\n         * Render swatch options by part of config\n         *\n         * @param {Object} config\n         * @param {String} controlId\n         * @returns {String}\n         * @private\n         */\n        _RenderSwatchOptions: function (config, controlId) {\n            var optionConfig = this.options.jsonSwatchConfig[config.id],\n                optionClass = this.options.classes.optionClass,\n                sizeConfig = this.options.jsonSwatchImageSizeConfig,\n                moreLimit = parseInt(this.options.numberToShow, 10),\n                moreClass = this.options.classes.moreButton,\n                moreText = this.options.moreButtonText,\n                countAttributes = 0,\n                html = '';\n\n            if (!this.options.jsonSwatchConfig.hasOwnProperty(config.id)) {\n                return '';\n            }\n\n            $.each(config.options, function () {\n                var id,\n                    type,\n                    value,\n                    thumb,\n                    label,\n                    width,\n                    height,\n                    attr;\n\n                if (!optionConfig.hasOwnProperty(this.id)) {\n                    return '';\n                }\n\n                // Add more button\n                if (moreLimit === countAttributes++) {\n                    html += '<a href=\"#\" class=\"' + moreClass + '\">' + moreText + '</a>';\n                }\n\n                id = this.id;\n                type = parseInt(optionConfig[id].type, 10);\n                value = optionConfig[id].hasOwnProperty('value') ? optionConfig[id].value : '';\n                thumb = optionConfig[id].hasOwnProperty('thumb') ? optionConfig[id].thumb : '';\n                width = _.has(sizeConfig, 'swatchThumb') ? sizeConfig.swatchThumb.width : 110;\n                height = _.has(sizeConfig, 'swatchThumb') ? sizeConfig.swatchThumb.height : 90;\n                label = this.label ? this.label : '';\n                attr =\n                    ' id=\"' + controlId + '-item-' + id + '\"' +\n                    ' aria-checked=\"false\"' +\n                    ' aria-describedby=\"' + controlId + '\"' +\n                    ' tabindex=\"0\"' +\n                    ' option-type=\"' + type + '\"' +\n                    ' option-id=\"' + id + '\"' +\n                    ' option-label=\"' + label + '\"' +\n                    ' aria-label=\"' + label + '\"' +\n                    ' option-tooltip-thumb=\"' + thumb + '\"' +\n                    ' option-tooltip-value=\"' + value + '\"' +\n                    ' role=\"option\"' +\n                    ' thumb-width=\"' + width + '\"' +\n                    ' thumb-height=\"' + height + '\"';\n\n                if (!this.hasOwnProperty('products') || this.products.length <= 0) {\n                    attr += ' option-empty=\"true\"';\n                }\n\n                if (type === 0) {\n                    // Text\n                    html += '<div class=\"' + optionClass + ' text\" ' + attr + '>' + (value ? value : label) +\n                        '</div>';\n                } else if (type === 1) {\n                    // Color\n                    html += '<div class=\"' + optionClass + ' color\" ' + attr +\n                        ' style=\"background: ' + value +\n                        ' no-repeat center; background-size: initial;\">' + '' +\n                        '</div>';\n                } else if (type === 2) {\n                    // Image\n                    html += '<div class=\"' + optionClass + ' image\" ' + attr +\n                        ' style=\"background: url(' + value + ') no-repeat center; background-size: initial;width:' +\n                        sizeConfig.swatchImage.width + 'px; height:' + sizeConfig.swatchImage.height + 'px\">' + '' +\n                        '</div>';\n                } else if (type === 3) {\n                    // Clear\n                    html += '<div class=\"' + optionClass + '\" ' + attr + '></div>';\n                } else {\n                    // Default\n                    html += '<div class=\"' + optionClass + '\" ' + attr + '>' + label + '</div>';\n                }\n            });\n\n            return html;\n        },\n\n        /**\n         * Render select by part of config\n         *\n         * @param {Object} config\n         * @param {String} chooseText\n         * @returns {String}\n         * @private\n         */\n        _RenderSwatchSelect: function (config, chooseText) {\n            var html;\n\n            if (this.options.jsonSwatchConfig.hasOwnProperty(config.id)) {\n                return '';\n            }\n\n            html =\n                '<select class=\"' + this.options.classes.selectClass + ' ' + config.code + '\">' +\n                '<option value=\"0\" option-id=\"0\">' + chooseText + '</option>';\n\n            $.each(config.options, function () {\n                var label = this.label,\n                    attr = ' value=\"' + this.id + '\" option-id=\"' + this.id + '\"';\n\n                if (!this.hasOwnProperty('products') || this.products.length <= 0) {\n                    attr += ' option-empty=\"true\"';\n                }\n\n                html += '<option ' + attr + '>' + label + '</option>';\n            });\n\n            html += '</select>';\n\n            return html;\n        },\n\n        /**\n         * Input for submit form.\n         * This control shouldn't have \"type=hidden\", \"display: none\" for validation work :(\n         *\n         * @param {Object} config\n         * @private\n         */\n        _RenderFormInput: function (config) {\n            return '<input class=\"' + this.options.classes.attributeInput + ' super-attribute-select\" ' +\n                'name=\"super_attribute[' + config.id + ']\" ' +\n                'type=\"text\" ' +\n                'value=\"\" ' +\n                'data-selector=\"super_attribute[' + config.id + ']\" ' +\n                'data-validate=\"{required: true}\" ' +\n                'aria-required=\"true\" ' +\n                'aria-invalid=\"false\">';\n        },\n\n        /**\n         * Event listener\n         *\n         * @private\n         */\n        _EventListener: function () {\n            var $widget = this,\n                options = this.options.classes,\n                target;\n\n            $widget.element.on('click', '.' + options.optionClass, function () {\n                return $widget._OnClick($(this), $widget);\n            });\n\n            $widget.element.on('change', '.' + options.selectClass, function () {\n                return $widget._OnChange($(this), $widget);\n            });\n\n            $widget.element.on('click', '.' + options.moreButton, function (e) {\n                e.preventDefault();\n\n                return $widget._OnMoreClick($(this));\n            });\n\n            $widget.element.on('keydown', function (e) {\n                if (e.which === 13) {\n                    target = $(e.target);\n\n                    if (target.is('.' + options.optionClass)) {\n                        return $widget._OnClick(target, $widget);\n                    } else if (target.is('.' + options.selectClass)) {\n                        return $widget._OnChange(target, $widget);\n                    } else if (target.is('.' + options.moreButton)) {\n                        e.preventDefault();\n\n                        return $widget._OnMoreClick(target);\n                    }\n                }\n            });\n        },\n\n        /**\n         * Load media gallery using ajax or json config.\n         *\n         * @private\n         */\n        _loadMedia: function () {\n            var $main = this.inProductList ?\n                    this.element.parents('.product-item-info') :\n                    this.element.parents('.column.main'),\n                images;\n\n            if (this.options.useAjax) {\n                this._debouncedLoadProductMedia();\n            }  else {\n                images = this.options.jsonConfig.images[this.getProduct()];\n\n                if (!images) {\n                    images = this.options.mediaGalleryInitial;\n                }\n\n                this.updateBaseImage(images, $main, !this.inProductList);\n            }\n        },\n\n        /**\n         * Event for swatch options\n         *\n         * @param {Object} $this\n         * @param {Object} $widget\n         * @private\n         */\n        _OnClick: function ($this, $widget) {\n            var $parent = $this.parents('.' + $widget.options.classes.attributeClass),\n                $wrapper = $this.parents('.' + $widget.options.classes.attributeOptionsWrapper),\n                $label = $parent.find('.' + $widget.options.classes.attributeSelectedOptionLabelClass),\n                attributeId = $parent.attr('attribute-id'),\n                $input = $parent.find('.' + $widget.options.classes.attributeInput);\n\n            if ($widget.inProductList) {\n                $input = $widget.productForm.find(\n                    '.' + $widget.options.classes.attributeInput + '[name=\"super_attribute[' + attributeId + ']\"]'\n                );\n            }\n\n            if ($this.hasClass('disabled')) {\n                return;\n            }\n\n            if ($this.hasClass('selected')) {\n                $parent.removeAttr('option-selected').find('.selected').removeClass('selected');\n                $input.val('');\n                $label.text('');\n                $this.attr('aria-checked', false);\n            } else {\n                $parent.attr('option-selected', $this.attr('option-id')).find('.selected').removeClass('selected');\n                $label.text($this.attr('option-label'));\n                $input.val($this.attr('option-id'));\n                $input.attr('data-attr-name', this._getAttributeCodeById(attributeId));\n                $this.addClass('selected');\n                $widget._toggleCheckedAttributes($this, $wrapper);\n            }\n\n            $widget._Rebuild();\n\n            if ($widget.element.parents($widget.options.selectorProduct)\n                    .find(this.options.selectorProductPrice).is(':data(mage-priceBox)')\n            ) {\n                $widget._UpdatePrice();\n            }\n\n            $widget._loadMedia();\n            $input.trigger('change');\n        },\n\n        /**\n         * Get human readable attribute code (eg. size, color) by it ID from configuration\n         *\n         * @param {Number} attributeId\n         * @returns {*}\n         * @private\n         */\n        _getAttributeCodeById: function (attributeId) {\n            var attribute = this.options.jsonConfig.mappedAttributes[attributeId];\n\n            return attribute ? attribute.code : attributeId;\n        },\n\n        /**\n         * Toggle accessibility attributes\n         *\n         * @param {Object} $this\n         * @param {Object} $wrapper\n         * @private\n         */\n        _toggleCheckedAttributes: function ($this, $wrapper) {\n            $wrapper.attr('aria-activedescendant', $this.attr('id'))\n                    .find('.' + this.options.classes.optionClass).attr('aria-checked', false);\n            $this.attr('aria-checked', true);\n        },\n\n        /**\n         * Event for select\n         *\n         * @param {Object} $this\n         * @param {Object} $widget\n         * @private\n         */\n        _OnChange: function ($this, $widget) {\n            var $parent = $this.parents('.' + $widget.options.classes.attributeClass),\n                attributeId = $parent.attr('attribute-id'),\n                $input = $parent.find('.' + $widget.options.classes.attributeInput);\n\n            if ($widget.productForm.length > 0) {\n                $input = $widget.productForm.find(\n                    '.' + $widget.options.classes.attributeInput + '[name=\"super_attribute[' + attributeId + ']\"]'\n                );\n            }\n\n            if ($this.val() > 0) {\n                $parent.attr('option-selected', $this.val());\n                $input.val($this.val());\n            } else {\n                $parent.removeAttr('option-selected');\n                $input.val('');\n            }\n\n            $widget._Rebuild();\n            $widget._UpdatePrice();\n            $widget._loadMedia();\n            $input.trigger('change');\n        },\n\n        /**\n         * Event for more switcher\n         *\n         * @param {Object} $this\n         * @private\n         */\n        _OnMoreClick: function ($this) {\n            $this.nextAll().show();\n            $this.blur().remove();\n        },\n\n        /**\n         * Rewind options for controls\n         *\n         * @private\n         */\n        _Rewind: function (controls) {\n            controls.find('div[option-id], option[option-id]').removeClass('disabled').removeAttr('disabled');\n            controls.find('div[option-empty], option[option-empty]').attr('disabled', true).addClass('disabled');\n        },\n\n        /**\n         * Rebuild container\n         *\n         * @private\n         */\n        _Rebuild: function () {\n            var $widget = this,\n                controls = $widget.element.find('.' + $widget.options.classes.attributeClass + '[attribute-id]'),\n                selected = controls.filter('[option-selected]');\n\n            // Enable all options\n            $widget._Rewind(controls);\n\n            // done if nothing selected\n            if (selected.length <= 0) {\n                return;\n            }\n\n            // Disable not available options\n            controls.each(function () {\n                var $this = $(this),\n                    id = $this.attr('attribute-id'),\n                    products = $widget._CalcProducts(id);\n\n                if (selected.length === 1 && selected.first().attr('attribute-id') === id) {\n                    return;\n                }\n\n                $this.find('[option-id]').each(function () {\n                    var $element = $(this),\n                        option = $element.attr('option-id');\n\n                    if (!$widget.optionsMap.hasOwnProperty(id) || !$widget.optionsMap[id].hasOwnProperty(option) ||\n                        $element.hasClass('selected') ||\n                        $element.is(':selected')) {\n                        return;\n                    }\n\n                    if (_.intersection(products, $widget.optionsMap[id][option].products).length <= 0) {\n                        $element.attr('disabled', true).addClass('disabled');\n                    }\n                });\n            });\n        },\n\n        /**\n         * Get selected product list\n         *\n         * @returns {Array}\n         * @private\n         */\n        _CalcProducts: function ($skipAttributeId) {\n            var $widget = this,\n                products = [];\n\n            // Generate intersection of products\n            $widget.element.find('.' + $widget.options.classes.attributeClass + '[option-selected]').each(function () {\n                var id = $(this).attr('attribute-id'),\n                    option = $(this).attr('option-selected');\n\n                if ($skipAttributeId !== undefined && $skipAttributeId === id) {\n                    return;\n                }\n\n                if (!$widget.optionsMap.hasOwnProperty(id) || !$widget.optionsMap[id].hasOwnProperty(option)) {\n                    return;\n                }\n\n                if (products.length === 0) {\n                    products = $widget.optionsMap[id][option].products;\n                } else {\n                    products = _.intersection(products, $widget.optionsMap[id][option].products);\n                }\n            });\n\n            return products;\n        },\n\n        /**\n         * Update total price\n         *\n         * @private\n         */\n        _UpdatePrice: function () {\n            var $widget = this,\n                $product = $widget.element.parents($widget.options.selectorProduct),\n                $productPrice = $product.find(this.options.selectorProductPrice),\n                options = _.object(_.keys($widget.optionsMap), {}),\n                result,\n                tierPriceHtml;\n\n            $widget.element.find('.' + $widget.options.classes.attributeClass + '[option-selected]').each(function () {\n                var attributeId = $(this).attr('attribute-id');\n\n                options[attributeId] = $(this).attr('option-selected');\n            });\n\n            result = $widget.options.jsonConfig.optionPrices[_.findKey($widget.options.jsonConfig.index, options)];\n\n            $productPrice.trigger(\n                'updatePrice',\n                {\n                    'prices': $widget._getPrices(result, $productPrice.priceBox('option').prices)\n                }\n            );\n\n            if (typeof result != 'undefined' && result.oldPrice.amount !== result.finalPrice.amount) {\n                $(this.options.slyOldPriceSelector).show();\n            } else {\n                $(this.options.slyOldPriceSelector).hide();\n            }\n\n            if (typeof result != 'undefined' && result.tierPrices.length) {\n                if (this.options.tierPriceTemplate) {\n                    tierPriceHtml = mageTemplate(\n                        this.options.tierPriceTemplate,\n                        {\n                            'tierPrices': result.tierPrices,\n                            '$t': $t,\n                            'currencyFormat': this.options.jsonConfig.currencyFormat,\n                            'priceUtils': priceUtils\n                        }\n                    );\n                    $(this.options.tierPriceBlockSelector).html(tierPriceHtml).show();\n                }\n            } else {\n                $(this.options.tierPriceBlockSelector).hide();\n            }\n\n            $(this.options.normalPriceLabelSelector).hide();\n\n            _.each($('.' + this.options.classes.attributeOptionsWrapper), function (attribute) {\n                if ($(attribute).find('.' + this.options.classes.optionClass + '.selected').length === 0) {\n                    if ($(attribute).find('.' + this.options.classes.selectClass).length > 0) {\n                        _.each($(attribute).find('.' + this.options.classes.selectClass), function (dropdown) {\n                            if ($(dropdown).val() === '0') {\n                                $(this.options.normalPriceLabelSelector).show();\n                            }\n                        }.bind(this));\n                    } else {\n                        $(this.options.normalPriceLabelSelector).show();\n                    }\n                }\n            }.bind(this));\n        },\n\n        /**\n         * Get prices\n         *\n         * @param {Object} newPrices\n         * @param {Object} displayPrices\n         * @returns {*}\n         * @private\n         */\n        _getPrices: function (newPrices, displayPrices) {\n            var $widget = this;\n\n            if (_.isEmpty(newPrices)) {\n                newPrices = $widget.options.jsonConfig.prices;\n            }\n\n            _.each(displayPrices, function (price, code) {\n                if (newPrices[code]) {\n                    displayPrices[code].amount = newPrices[code].amount - displayPrices[code].amount;\n                }\n            });\n\n            return displayPrices;\n        },\n\n        /**\n         * Gets all product media and change current to the needed one\n         *\n         * @private\n         */\n        _LoadProductMedia: function () {\n            var $widget = this,\n                $this = $widget.element,\n                productData = this._determineProductData(),\n                mediaCallData,\n                mediaCacheKey,\n\n                /**\n                 * Processes product media data\n                 *\n                 * @param {Object} data\n                 * @returns void\n                 */\n                mediaSuccessCallback = function (data) {\n                    if (!(mediaCacheKey in $widget.options.mediaCache)) {\n                        $widget.options.mediaCache[mediaCacheKey] = data;\n                    }\n                    $widget._ProductMediaCallback($this, data, productData.isInProductView);\n                    setTimeout(function () {\n                        $widget._DisableProductMediaLoader($this);\n                    }, 300);\n                };\n\n            if (!$widget.options.mediaCallback) {\n                return;\n            }\n\n            mediaCallData = {\n                'product_id': this.getProduct()\n            };\n\n            mediaCacheKey = JSON.stringify(mediaCallData);\n\n            if (mediaCacheKey in $widget.options.mediaCache) {\n                $widget._XhrKiller();\n                $widget._EnableProductMediaLoader($this);\n                mediaSuccessCallback($widget.options.mediaCache[mediaCacheKey]);\n            } else {\n                mediaCallData.isAjax = true;\n                $widget._XhrKiller();\n                $widget._EnableProductMediaLoader($this);\n                $widget.xhr = $.get(\n                    $widget.options.mediaCallback,\n                    mediaCallData,\n                    mediaSuccessCallback,\n                    'json'\n                ).done(function () {\n                    $widget._XhrKiller();\n                });\n            }\n        },\n\n        /**\n         * Enable loader\n         *\n         * @param {Object} $this\n         * @private\n         */\n        _EnableProductMediaLoader: function ($this) {\n            var $widget = this;\n\n            if ($('body.catalog-product-view').length > 0) {\n                $this.parents('.column.main').find('.photo.image')\n                    .addClass($widget.options.classes.loader);\n            } else {\n                //Category View\n                $this.parents('.product-item-info').find('.product-image-photo')\n                    .addClass($widget.options.classes.loader);\n            }\n        },\n\n        /**\n         * Disable loader\n         *\n         * @param {Object} $this\n         * @private\n         */\n        _DisableProductMediaLoader: function ($this) {\n            var $widget = this;\n\n            if ($('body.catalog-product-view').length > 0) {\n                $this.parents('.column.main').find('.photo.image')\n                    .removeClass($widget.options.classes.loader);\n            } else {\n                //Category View\n                $this.parents('.product-item-info').find('.product-image-photo')\n                    .removeClass($widget.options.classes.loader);\n            }\n        },\n\n        /**\n         * Callback for product media\n         *\n         * @param {Object} $this\n         * @param {String} response\n         * @param {Boolean} isInProductView\n         * @private\n         */\n        _ProductMediaCallback: function ($this, response, isInProductView) {\n            var $main = isInProductView ? $this.parents('.column.main') : $this.parents('.product-item-info'),\n                $widget = this,\n                images = [],\n\n                /**\n                 * Check whether object supported or not\n                 *\n                 * @param {Object} e\n                 * @returns {*|Boolean}\n                 */\n                support = function (e) {\n                    return e.hasOwnProperty('large') && e.hasOwnProperty('medium') && e.hasOwnProperty('small');\n                };\n\n            if (_.size($widget) < 1 || !support(response)) {\n                this.updateBaseImage(this.options.mediaGalleryInitial, $main, isInProductView);\n\n                return;\n            }\n\n            images.push({\n                full: response.large,\n                img: response.medium,\n                thumb: response.small,\n                isMain: true\n            });\n\n            if (response.hasOwnProperty('gallery')) {\n                $.each(response.gallery, function () {\n                    if (!support(this) || response.large === this.large) {\n                        return;\n                    }\n                    images.push({\n                        full: this.large,\n                        img: this.medium,\n                        thumb: this.small\n                    });\n                });\n            }\n\n            this.updateBaseImage(images, $main, isInProductView);\n        },\n\n        /**\n         * Check if images to update are initial and set their type\n         * @param {Array} images\n         */\n        _setImageType: function (images) {\n            var initial = this.options.mediaGalleryInitial[0].img;\n\n            if (images[0].img === initial) {\n                images = $.extend(true, [], this.options.mediaGalleryInitial);\n            } else {\n                images.map(function (img) {\n                    if (!img.type) {\n                        img.type = 'image';\n                    }\n                });\n            }\n\n            return images;\n        },\n\n        /**\n         * Update [gallery-placeholder] or [product-image-photo]\n         * @param {Array} images\n         * @param {jQuery} context\n         * @param {Boolean} isInProductView\n         */\n        updateBaseImage: function (images, context, isInProductView) {\n            var justAnImage = images[0],\n                initialImages = this.options.mediaGalleryInitial,\n                gallery = context.find(this.options.mediaGallerySelector).data('gallery'),\n                imagesToUpdate,\n                isInitial;\n\n            if (isInProductView) {\n                imagesToUpdate = images.length ? this._setImageType($.extend(true, [], images)) : [];\n                isInitial = _.isEqual(imagesToUpdate, initialImages);\n\n                if (this.options.gallerySwitchStrategy === 'prepend' && !isInitial) {\n                    imagesToUpdate = imagesToUpdate.concat(initialImages);\n                }\n\n                imagesToUpdate = this._setImageIndex(imagesToUpdate);\n                gallery.updateData(imagesToUpdate);\n\n                if (isInitial) {\n                    $(this.options.mediaGallerySelector).AddFotoramaVideoEvents();\n                } else {\n                    $(this.options.mediaGallerySelector).AddFotoramaVideoEvents({\n                        selectedOption: this.getProduct(),\n                        dataMergeStrategy: this.options.gallerySwitchStrategy\n                    });\n                }\n\n                gallery.first();\n\n            } else if (justAnImage && justAnImage.img) {\n                context.find('.product-image-photo').attr('src', justAnImage.img);\n            }\n        },\n\n        /**\n         * Set correct indexes for image set.\n         *\n         * @param {Array} images\n         * @private\n         */\n        _setImageIndex: function (images) {\n            var length = images.length,\n                i;\n\n            for (i = 0; length > i; i++) {\n                images[i].i = i + 1;\n            }\n\n            return images;\n        },\n\n        /**\n         * Kill doubled AJAX requests\n         *\n         * @private\n         */\n        _XhrKiller: function () {\n            var $widget = this;\n\n            if ($widget.xhr !== undefined && $widget.xhr !== null) {\n                $widget.xhr.abort();\n                $widget.xhr = null;\n            }\n        },\n\n        /**\n         * Emulate mouse click on all swatches that should be selected\n         * @param {Object} [selectedAttributes]\n         * @private\n         */\n        _EmulateSelected: function (selectedAttributes) {\n            $.each(selectedAttributes, $.proxy(function (attributeCode, optionId) {\n                var elem = this.element.find('.' + this.options.classes.attributeClass +\n                    '[attribute-code=\"' + attributeCode + '\"] [option-id=\"' + optionId + '\"]'),\n                    parentInput = elem.parent();\n\n                if (elem.hasClass('selected')) {\n                    return;\n                }\n\n                if (parentInput.hasClass(this.options.classes.selectClass)) {\n                    parentInput.val(optionId);\n                    parentInput.trigger('change');\n                } else {\n                    elem.trigger('click');\n                }\n            }, this));\n        },\n\n        /**\n         * Emulate mouse click or selection change on all swatches that should be selected\n         * @param {Object} [selectedAttributes]\n         * @private\n         */\n        _EmulateSelectedByAttributeId: function (selectedAttributes) {\n            $.each(selectedAttributes, $.proxy(function (attributeId, optionId) {\n                var elem = this.element.find('.' + this.options.classes.attributeClass +\n                    '[attribute-id=\"' + attributeId + '\"] [option-id=\"' + optionId + '\"]'),\n                    parentInput = elem.parent();\n\n                if (elem.hasClass('selected')) {\n                    return;\n                }\n\n                if (parentInput.hasClass(this.options.classes.selectClass)) {\n                    parentInput.val(optionId);\n                    parentInput.trigger('change');\n                } else {\n                    elem.trigger('click');\n                }\n            }, this));\n        },\n\n        /**\n         * Get default options values settings with either URL query parameters\n         * @private\n         */\n        _getSelectedAttributes: function () {\n            var hashIndex = window.location.href.indexOf('#'),\n                selectedAttributes = {},\n                params;\n\n            if (hashIndex !== -1) {\n                params = $.parseQuery(window.location.href.substr(hashIndex + 1));\n\n                selectedAttributes = _.invert(_.mapObject(_.invert(params), function (attributeId) {\n                    var attribute = this.options.jsonConfig.mappedAttributes[attributeId];\n\n                    return attribute ? attribute.code : attributeId;\n                }.bind(this)));\n            }\n\n            return selectedAttributes;\n        },\n\n        /**\n         * Callback which fired after gallery gets initialized.\n         *\n         * @param {HTMLElement} element - DOM element associated with a gallery.\n         */\n        _onGalleryLoaded: function (element) {\n            var galleryObject = element.data('gallery');\n\n            this.options.mediaGalleryInitial = galleryObject.returnCurrentImages();\n        },\n\n        /**\n         * Sets mediaCache for cases when jsonConfig contains preSelectedGallery on layered navigation result pages\n         *\n         * @private\n         */\n        _setPreSelectedGallery: function () {\n            var mediaCallData;\n\n            if (this.options.jsonConfig.preSelectedGallery) {\n                mediaCallData = {\n                    'product_id': this.getProduct()\n                };\n\n                this.options.mediaCache[JSON.stringify(mediaCallData)] = this.options.jsonConfig.preSelectedGallery;\n            }\n        }\n    });\n\n    return $.mage.SwatchRenderer;\n});\n","Magento_Swatches/js/catalog-add-to-cart.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\nrequire([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    /**\n     * Add selected swatch attributes to redirect url\n     *\n     * @see Magento_Catalog/js/catalog-add-to-cart\n     */\n    $('body').on('catalogCategoryAddToCartRedirect', function (event, data) {\n        $(data.form).find('[name*=\"super\"]').each(function (index, item) {\n            var $item = $(item),\n                attr;\n\n            if ($item.attr('data-attr-name')) {\n                attr = $item.attr('data-attr-name');\n            } else {\n                attr = $item.parent().attr('attribute-code');\n            }\n            data.redirectParameters.push(attr + '=' + $item.val());\n\n        });\n    });\n});\n","Magento_Swatches/js/configurable-customer-data.js":"require([\n    'jquery',\n    'Magento_ConfigurableProduct/js/options-updater'\n], function ($, Updater) {\n    'use strict';\n\n    var selectors = {\n            formSelector: '#product_addtocart_form',\n            swatchSelector: '.swatch-opt'\n        },\n        swatchWidgetName = 'mageSwatchRenderer',\n        widgetInitEvent = 'swatch.initialized',\n\n    /**\n    * Sets all configurable swatch attribute's selected values\n    */\n    updateSwatchOptions = function () {\n        var swatchWidget = $(selectors.swatchSelector).data(swatchWidgetName);\n\n        if (!swatchWidget || !swatchWidget._EmulateSelectedByAttributeId) {\n            return;\n        }\n        swatchWidget._EmulateSelectedByAttributeId(this.productOptions);\n    },\n    updater = new Updater(widgetInitEvent, updateSwatchOptions);\n\n    updater.listen();\n});\n","requirejs/domReady.js":"/**\n * @license RequireJS domReady 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/requirejs/domReady for details\n */\n/*jslint */\n/*global require: false, define: false, requirejs: false,\n  window: false, clearInterval: false, document: false,\n  self: false, setInterval: false */\n\n\ndefine(function () {\n    'use strict';\n\n    var isTop, testDiv, scrollIntervalId,\n        isBrowser = typeof window !== \"undefined\" && window.document,\n        isPageLoaded = !isBrowser,\n        doc = isBrowser ? document : null,\n        readyCalls = [];\n\n    function runCallbacks(callbacks) {\n        var i;\n        for (i = 0; i < callbacks.length; i += 1) {\n            callbacks[i](doc);\n        }\n    }\n\n    function callReady() {\n        var callbacks = readyCalls;\n\n        if (isPageLoaded) {\n            //Call the DOM ready callbacks\n            if (callbacks.length) {\n                readyCalls = [];\n                runCallbacks(callbacks);\n            }\n        }\n    }\n\n    /**\n     * Sets the page as loaded.\n     */\n    function pageLoaded() {\n        if (!isPageLoaded) {\n            isPageLoaded = true;\n            if (scrollIntervalId) {\n                clearInterval(scrollIntervalId);\n            }\n\n            callReady();\n        }\n    }\n\n    if (isBrowser) {\n        if (document.addEventListener) {\n            //Standards. Hooray! Assumption here that if standards based,\n            //it knows about DOMContentLoaded.\n            document.addEventListener(\"DOMContentLoaded\", pageLoaded, false);\n            window.addEventListener(\"load\", pageLoaded, false);\n        } else if (window.attachEvent) {\n            window.attachEvent(\"onload\", pageLoaded);\n\n            testDiv = document.createElement('div');\n            try {\n                isTop = window.frameElement === null;\n            } catch (e) {}\n\n            //DOMContentLoaded approximation that uses a doScroll, as found by\n            //Diego Perini: http://javascript.nwbox.com/IEContentLoaded/,\n            //but modified by other contributors, including jdalton\n            if (testDiv.doScroll && isTop && window.external) {\n                scrollIntervalId = setInterval(function () {\n                    try {\n                        testDiv.doScroll();\n                        pageLoaded();\n                    } catch (e) {}\n                }, 30);\n            }\n        }\n\n        //Check if document already complete, and if so, just trigger page load\n        //listeners. Latest webkit browsers also use \"interactive\", and\n        //will fire the onDOMContentLoaded before \"interactive\" but not after\n        //entering \"interactive\" or \"complete\". More details:\n        //http://dev.w3.org/html5/spec/the-end.html#the-end\n        //http://stackoverflow.com/questions/3665561/document-readystate-of-interactive-vs-ondomcontentloaded\n        //Hmm, this is more complicated on further use, see \"firing too early\"\n        //bug: https://github.com/requirejs/domReady/issues/1\n        //so removing the || document.readyState === \"interactive\" test.\n        //There is still a window.onload binding that should get fired if\n        //DOMContentLoaded is missed.\n        if (document.readyState === \"complete\") {\n            pageLoaded();\n        }\n    }\n\n    /** START OF PUBLIC API **/\n\n    /**\n     * Registers a callback for DOM ready. If DOM is already ready, the\n     * callback is called immediately.\n     * @param {Function} callback\n     */\n    function domReady(callback) {\n        if (isPageLoaded) {\n            callback(doc);\n        } else {\n            readyCalls.push(callback);\n        }\n        return domReady;\n    }\n\n    domReady.version = '2.0.1';\n\n    /**\n     * Loader Plugin API method\n     */\n    domReady.load = function (name, req, onLoad, config) {\n        if (config.isBuild) {\n            onLoad(null);\n        } else {\n            domReady(onLoad);\n        }\n    };\n\n    /** END OF PUBLIC API **/\n\n    return domReady;\n});","Magento_Search/js/form-mini.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'underscore',\n    'mage/template',\n    'matchMedia',\n    'jquery/ui',\n    'mage/translate'\n], function ($, _, mageTemplate, mediaCheck) {\n    'use strict';\n\n    /**\n     * Check whether the incoming string is not empty or if doesn't consist of spaces.\n     *\n     * @param {String} value - Value to check.\n     * @returns {Boolean}\n     */\n    function isEmpty(value) {\n        return value.length === 0 || value == null || /^\\s+$/.test(value);\n    }\n\n    $.widget('mage.quickSearch', {\n        options: {\n            autocomplete: 'off',\n            minSearchLength: 2,\n            responseFieldElements: 'ul li',\n            selectClass: 'selected',\n            template:\n                '<li class=\"<%- data.row_class %>\" id=\"qs-option-<%- data.index %>\" role=\"option\">' +\n                    '<span class=\"qs-option-name\">' +\n                       ' <%- data.title %>' +\n                    '</span>' +\n                    '<span aria-hidden=\"true\" class=\"amount\">' +\n                        '<%- data.num_results %>' +\n                    '</span>' +\n                '</li>',\n            submitBtn: 'button[type=\"submit\"]',\n            searchLabel: '[data-role=minisearch-label]',\n            isExpandable: null,\n            suggestionDelay: 300\n        },\n\n        /** @inheritdoc */\n        _create: function () {\n            this.responseList = {\n                indexList: null,\n                selected: null\n            };\n            this.autoComplete = $(this.options.destinationSelector);\n            this.searchForm = $(this.options.formSelector);\n            this.submitBtn = this.searchForm.find(this.options.submitBtn)[0];\n            this.searchLabel = this.searchForm.find(this.options.searchLabel);\n            this.isExpandable = this.options.isExpandable;\n\n            _.bindAll(this, '_onKeyDown', '_onPropertyChange', '_onSubmit');\n\n            this.submitBtn.disabled = true;\n\n            this.element.attr('autocomplete', this.options.autocomplete);\n\n            mediaCheck({\n                media: '(max-width: 768px)',\n                entry: function () {\n                    this.isExpandable = true;\n                }.bind(this),\n                exit: function () {\n                    this.isExpandable = false;\n                    this.element.removeAttr('aria-expanded');\n                }.bind(this)\n            });\n\n            this.searchLabel.on('click', function (e) {\n                // allow input to lose its' focus when clicking on label\n                if (this.isExpandable && this.isActive()) {\n                    e.preventDefault();\n                }\n            }.bind(this));\n\n            this.element.on('blur', $.proxy(function () {\n                if (!this.searchLabel.hasClass('active')) {\n                    return;\n                }\n\n                setTimeout($.proxy(function () {\n                    if (this.autoComplete.is(':hidden')) {\n                        this.setActiveState(false);\n                    } else {\n                        this.element.trigger('focus');\n                    }\n                    this.autoComplete.hide();\n                    this._updateAriaHasPopup(false);\n                }, this), 250);\n            }, this));\n\n            if (this.element.get(0) === document.activeElement) {\n                this.setActiveState(true);\n            }\n\n            this.element.on('focus', this.setActiveState.bind(this, true));\n            this.element.on('keydown', this._onKeyDown);\n            // Prevent spamming the server with requests by waiting till the user has stopped typing for period of time\n            this.element.on('input propertychange', _.debounce(this._onPropertyChange, this.options.suggestionDelay));\n\n            this.searchForm.on('submit', $.proxy(function (e) {\n                this._onSubmit(e);\n                this._updateAriaHasPopup(false);\n            }, this));\n        },\n\n        /**\n         * Checks if search field is active.\n         *\n         * @returns {Boolean}\n         */\n        isActive: function () {\n            return this.searchLabel.hasClass('active');\n        },\n\n        /**\n         * Sets state of the search field to provided value.\n         *\n         * @param {Boolean} isActive\n         */\n        setActiveState: function (isActive) {\n            this.searchForm.toggleClass('active', isActive);\n            this.searchLabel.toggleClass('active', isActive);\n\n            if (this.isExpandable) {\n                this.element.attr('aria-expanded', isActive);\n            }\n        },\n\n        /**\n         * @private\n         * @return {Element} The first element in the suggestion list.\n         */\n        _getFirstVisibleElement: function () {\n            return this.responseList.indexList ? this.responseList.indexList.first() : false;\n        },\n\n        /**\n         * @private\n         * @return {Element} The last element in the suggestion list.\n         */\n        _getLastElement: function () {\n            return this.responseList.indexList ? this.responseList.indexList.last() : false;\n        },\n\n        /**\n         * @private\n         * @param {Boolean} show - Set attribute aria-haspopup to \"true/false\" for element.\n         */\n        _updateAriaHasPopup: function (show) {\n            if (show) {\n                this.element.attr('aria-haspopup', 'true');\n            } else {\n                this.element.attr('aria-haspopup', 'false');\n            }\n        },\n\n        /**\n         * Clears the item selected from the suggestion list and resets the suggestion list.\n         * @private\n         * @param {Boolean} all - Controls whether to clear the suggestion list.\n         */\n        _resetResponseList: function (all) {\n            this.responseList.selected = null;\n\n            if (all === true) {\n                this.responseList.indexList = null;\n            }\n        },\n\n        /**\n         * Executes when the search box is submitted. Sets the search input field to the\n         * value of the selected item.\n         * @private\n         * @param {Event} e - The submit event\n         */\n        _onSubmit: function (e) {\n            var value = this.element.val();\n\n            if (isEmpty(value)) {\n                e.preventDefault();\n            }\n\n            if (this.responseList.selected) {\n                this.element.val(this.responseList.selected.find('.qs-option-name').text());\n            }\n        },\n\n        /**\n         * Executes when keys are pressed in the search input field. Performs specific actions\n         * depending on which keys are pressed.\n         * @private\n         * @param {Event} e - The key down event\n         * @return {Boolean} Default return type for any unhandled keys\n         */\n        _onKeyDown: function (e) {\n            var keyCode = e.keyCode || e.which;\n\n            switch (keyCode) {\n                case $.ui.keyCode.HOME:\n                    if (this._getFirstVisibleElement()) {\n                        this._getFirstVisibleElement().addClass(this.options.selectClass);\n                        this.responseList.selected = this._getFirstVisibleElement();\n                    }\n                    break;\n\n                case $.ui.keyCode.END:\n                    if (this._getLastElement()) {\n                        this._getLastElement().addClass(this.options.selectClass);\n                        this.responseList.selected = this._getLastElement();\n                    }\n                    break;\n\n                case $.ui.keyCode.ESCAPE:\n                    this._resetResponseList(true);\n                    this.autoComplete.hide();\n                    break;\n\n                case $.ui.keyCode.ENTER:\n                    this.searchForm.trigger('submit');\n                    e.preventDefault();\n                    break;\n\n                case $.ui.keyCode.DOWN:\n                    if (this.responseList.indexList) {\n                        if (!this.responseList.selected) {  //eslint-disable-line max-depth\n                            this._getFirstVisibleElement().addClass(this.options.selectClass);\n                            this.responseList.selected = this._getFirstVisibleElement();\n                        } else if (!this._getLastElement().hasClass(this.options.selectClass)) {\n                            this.responseList.selected = this.responseList.selected\n                                .removeClass(this.options.selectClass).next().addClass(this.options.selectClass);\n                        } else {\n                            this.responseList.selected.removeClass(this.options.selectClass);\n                            this._getFirstVisibleElement().addClass(this.options.selectClass);\n                            this.responseList.selected = this._getFirstVisibleElement();\n                        }\n                        this.element.val(this.responseList.selected.find('.qs-option-name').text());\n                        this.element.attr('aria-activedescendant', this.responseList.selected.attr('id'));\n                    }\n                    break;\n\n                case $.ui.keyCode.UP:\n                    if (this.responseList.indexList !== null) {\n                        if (!this._getFirstVisibleElement().hasClass(this.options.selectClass)) {\n                            this.responseList.selected = this.responseList.selected\n                                .removeClass(this.options.selectClass).prev().addClass(this.options.selectClass);\n\n                        } else {\n                            this.responseList.selected.removeClass(this.options.selectClass);\n                            this._getLastElement().addClass(this.options.selectClass);\n                            this.responseList.selected = this._getLastElement();\n                        }\n                        this.element.val(this.responseList.selected.find('.qs-option-name').text());\n                        this.element.attr('aria-activedescendant', this.responseList.selected.attr('id'));\n                    }\n                    break;\n                default:\n                    return true;\n            }\n        },\n\n        /**\n         * Executes when the value of the search input field changes. Executes a GET request\n         * to populate a suggestion list based on entered text. Handles click (select), hover,\n         * and mouseout events on the populated suggestion list dropdown.\n         * @private\n         */\n        _onPropertyChange: function () {\n            var searchField = this.element,\n                clonePosition = {\n                    position: 'absolute',\n                    // Removed to fix display issues\n                    // left: searchField.offset().left,\n                    // top: searchField.offset().top + searchField.outerHeight(),\n                    width: searchField.outerWidth()\n                },\n                source = this.options.template,\n                template = mageTemplate(source),\n                dropdown = $('<ul role=\"listbox\"></ul>'),\n                value = this.element.val();\n\n            this.submitBtn.disabled = isEmpty(value);\n\n            if (value.length >= parseInt(this.options.minSearchLength, 10)) {\n                $.getJSON(this.options.url, {\n                    q: value\n                }, $.proxy(function (data) {\n                    if (data.length) {\n                        $.each(data, function (index, element) {\n                            var html;\n\n                            element.index = index;\n                            html = template({\n                                data: element\n                            });\n                            dropdown.append(html);\n                        });\n\n                        this.responseList.indexList = this.autoComplete.html(dropdown)\n                            .css(clonePosition)\n                            .show()\n                            .find(this.options.responseFieldElements + ':visible');\n\n                        this._resetResponseList(false);\n                        this.element.removeAttr('aria-activedescendant');\n\n                        if (this.responseList.indexList.length) {\n                            this._updateAriaHasPopup(true);\n                        } else {\n                            this._updateAriaHasPopup(false);\n                        }\n\n                        this.responseList.indexList\n                            .on('click', function (e) {\n                                this.responseList.selected = $(e.currentTarget);\n                                this.searchForm.trigger('submit');\n                            }.bind(this))\n                            .on('mouseenter mouseleave', function (e) {\n                                this.responseList.indexList.removeClass(this.options.selectClass);\n                                $(e.target).addClass(this.options.selectClass);\n                                this.responseList.selected = $(e.target);\n                                this.element.attr('aria-activedescendant', $(e.target).attr('id'));\n                            }.bind(this))\n                            .on('mouseout', function (e) {\n                                if (!this._getLastElement() &&\n                                    this._getLastElement().hasClass(this.options.selectClass)) {\n                                    $(e.target).removeClass(this.options.selectClass);\n                                    this._resetResponseList(false);\n                                }\n                            }.bind(this));\n                    }\n                }, this));\n            } else {\n                this._resetResponseList(true);\n                this.autoComplete.hide();\n                this._updateAriaHasPopup(false);\n                this.element.removeAttr('aria-activedescendant');\n            }\n        }\n    });\n\n    return $.mage.quickSearch;\n});\n","fotorama/fotorama.min.js":"fotoramaVersion=\"4.6.4\";(function(window,document,location,$,undefined){\"use strict\";var _fotoramaClass=\"fotorama\",_fullscreenClass=\"fotorama__fullscreen\",wrapClass=_fotoramaClass+\"__wrap\",wrapCss2Class=wrapClass+\"--css2\",wrapCss3Class=wrapClass+\"--css3\",wrapVideoClass=wrapClass+\"--video\",wrapFadeClass=wrapClass+\"--fade\",wrapSlideClass=wrapClass+\"--slide\",wrapNoControlsClass=wrapClass+\"--no-controls\",wrapNoShadowsClass=wrapClass+\"--no-shadows\",wrapPanYClass=wrapClass+\"--pan-y\",wrapRtlClass=wrapClass+\"--rtl\",wrapOnlyActiveClass=wrapClass+\"--only-active\",wrapNoCaptionsClass=wrapClass+\"--no-captions\",wrapToggleArrowsClass=wrapClass+\"--toggle-arrows\",stageClass=_fotoramaClass+\"__stage\",stageFrameClass=stageClass+\"__frame\",stageFrameVideoClass=stageFrameClass+\"--video\",stageShaftClass=stageClass+\"__shaft\",grabClass=_fotoramaClass+\"__grab\",pointerClass=_fotoramaClass+\"__pointer\",arrClass=_fotoramaClass+\"__arr\",arrDisabledClass=arrClass+\"--disabled\",arrPrevClass=arrClass+\"--prev\",arrNextClass=arrClass+\"--next\",navClass=_fotoramaClass+\"__nav\",navWrapClass=navClass+\"-wrap\",navShaftClass=navClass+\"__shaft\",navShaftVerticalClass=navWrapClass+\"--vertical\",navShaftListClass=navWrapClass+\"--list\",navShafthorizontalClass=navWrapClass+\"--horizontal\",navDotsClass=navClass+\"--dots\",navThumbsClass=navClass+\"--thumbs\",navFrameClass=navClass+\"__frame\",fadeClass=_fotoramaClass+\"__fade\",fadeFrontClass=fadeClass+\"-front\",fadeRearClass=fadeClass+\"-rear\",shadowClass=_fotoramaClass+\"__shadow\",shadowsClass=shadowClass+\"s\",shadowsLeftClass=shadowsClass+\"--left\",shadowsRightClass=shadowsClass+\"--right\",shadowsTopClass=shadowsClass+\"--top\",shadowsBottomClass=shadowsClass+\"--bottom\",activeClass=_fotoramaClass+\"__active\",selectClass=_fotoramaClass+\"__select\",hiddenClass=_fotoramaClass+\"--hidden\",fullscreenClass=_fotoramaClass+\"--fullscreen\",fullscreenIconClass=_fotoramaClass+\"__fullscreen-icon\",errorClass=_fotoramaClass+\"__error\",loadingClass=_fotoramaClass+\"__loading\",loadedClass=_fotoramaClass+\"__loaded\",loadedFullClass=loadedClass+\"--full\",loadedImgClass=loadedClass+\"--img\",grabbingClass=_fotoramaClass+\"__grabbing\",imgClass=_fotoramaClass+\"__img\",imgFullClass=imgClass+\"--full\",thumbClass=_fotoramaClass+\"__thumb\",thumbArrLeft=thumbClass+\"__arr--left\",thumbArrRight=thumbClass+\"__arr--right\",thumbBorderClass=thumbClass+\"-border\",htmlClass=_fotoramaClass+\"__html\",videoContainerClass=_fotoramaClass+\"-video-container\",videoClass=_fotoramaClass+\"__video\",videoPlayClass=videoClass+\"-play\",videoCloseClass=videoClass+\"-close\",horizontalImageClass=_fotoramaClass+\"_horizontal_ratio\",verticalImageClass=_fotoramaClass+\"_vertical_ratio\",fotoramaSpinnerClass=_fotoramaClass+\"__spinner\",spinnerShowClass=fotoramaSpinnerClass+\"--show\";var JQUERY_VERSION=$&&$.fn.jquery.split(\".\");if(!JQUERY_VERSION||JQUERY_VERSION[0]<1||JQUERY_VERSION[0]==1&&JQUERY_VERSION[1]<8){throw\"Fotorama requires jQuery 1.8 or later and will not run without it.\"}var _={};var Modernizr=function(window,document,undefined){var version=\"2.8.3\",Modernizr={},docElement=document.documentElement,mod=\"modernizr\",modElem=document.createElement(mod),mStyle=modElem.style,inputElem,toString={}.toString,prefixes=\" -webkit- -moz- -o- -ms- \".split(\" \"),omPrefixes=\"Webkit Moz O ms\",cssomPrefixes=omPrefixes.split(\" \"),domPrefixes=omPrefixes.toLowerCase().split(\" \"),tests={},inputs={},attrs={},classes=[],slice=classes.slice,featureName,injectElementWithStyles=function(rule,callback,nodes,testnames){var style,ret,node,docOverflow,div=document.createElement(\"div\"),body=document.body,fakeBody=body||document.createElement(\"body\");if(parseInt(nodes,10)){while(nodes--){node=document.createElement(\"div\");node.id=testnames?testnames[nodes]:mod+(nodes+1);div.appendChild(node)}}style=[\"&#173;\",'<style id=\"s',mod,'\">',rule,\"</style>\"].join(\"\");div.id=mod;(body?div:fakeBody).innerHTML+=style;fakeBody.appendChild(div);if(!body){fakeBody.style.background=\"\";fakeBody.style.overflow=\"hidden\";docOverflow=docElement.style.overflow;docElement.style.overflow=\"hidden\";docElement.appendChild(fakeBody)}ret=callback(div,rule);if(!body){fakeBody.parentNode.removeChild(fakeBody);docElement.style.overflow=docOverflow}else{div.parentNode.removeChild(div)}return!!ret},_hasOwnProperty={}.hasOwnProperty,hasOwnProp;if(!is(_hasOwnProperty,\"undefined\")&&!is(_hasOwnProperty.call,\"undefined\")){hasOwnProp=function(object,property){return _hasOwnProperty.call(object,property)}}else{hasOwnProp=function(object,property){return property in object&&is(object.constructor.prototype[property],\"undefined\")}}if(!Function.prototype.bind){Function.prototype.bind=function bind(that){var target=this;if(typeof target!=\"function\"){throw new TypeError}var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var F=function(){};F.prototype=target.prototype;var self=new F;var result=target.apply(self,args.concat(slice.call(arguments)));if(Object(result)===result){return result}return self}else{return target.apply(that,args.concat(slice.call(arguments)))}};return bound}}function setCss(str){mStyle.cssText=str}function setCssAll(str1,str2){return setCss(prefixes.join(str1+\";\")+(str2||\"\"))}function is(obj,type){return typeof obj===type}function contains(str,substr){return!!~(\"\"+str).indexOf(substr)}function testProps(props,prefixed){for(var i in props){var prop=props[i];if(!contains(prop,\"-\")&&mStyle[prop]!==undefined){return prefixed==\"pfx\"?prop:true}}return false}function testDOMProps(props,obj,elem){for(var i in props){var item=obj[props[i]];if(item!==undefined){if(elem===false)return props[i];if(is(item,\"function\")){return item.bind(elem||obj)}return item}}return false}function testPropsAll(prop,prefixed,elem){var ucProp=prop.charAt(0).toUpperCase()+prop.slice(1),props=(prop+\" \"+cssomPrefixes.join(ucProp+\" \")+ucProp).split(\" \");if(is(prefixed,\"string\")||is(prefixed,\"undefined\")){return testProps(props,prefixed)}else{props=(prop+\" \"+domPrefixes.join(ucProp+\" \")+ucProp).split(\" \");return testDOMProps(props,prefixed,elem)}}tests[\"touch\"]=function(){var bool;if(\"ontouchstart\"in window||window.DocumentTouch&&document instanceof DocumentTouch){bool=true}else{injectElementWithStyles([\"@media (\",prefixes.join(\"touch-enabled),(\"),mod,\")\",\"{#modernizr{top:9px;position:absolute}}\"].join(\"\"),function(node){bool=node.offsetTop===9})}return bool};tests[\"csstransforms3d\"]=function(){var ret=!!testPropsAll(\"perspective\");if(ret&&\"webkitPerspective\"in docElement.style){injectElementWithStyles(\"@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}\",function(node,rule){ret=node.offsetLeft===9&&node.offsetHeight===3})}return ret};tests[\"csstransitions\"]=function(){return testPropsAll(\"transition\")};for(var feature in tests){if(hasOwnProp(tests,feature)){featureName=feature.toLowerCase();Modernizr[featureName]=tests[feature]();classes.push((Modernizr[featureName]?\"\":\"no-\")+featureName)}}Modernizr.addTest=function(feature,test){if(typeof feature==\"object\"){for(var key in feature){if(hasOwnProp(feature,key)){Modernizr.addTest(key,feature[key])}}}else{feature=feature.toLowerCase();if(Modernizr[feature]!==undefined){return Modernizr}test=typeof test==\"function\"?test():test;if(typeof enableClasses!==\"undefined\"&&enableClasses){docElement.className+=\" \"+(test?\"\":\"no-\")+feature}Modernizr[feature]=test}return Modernizr};setCss(\"\");modElem=inputElem=null;Modernizr._version=version;Modernizr._prefixes=prefixes;Modernizr._domPrefixes=domPrefixes;Modernizr._cssomPrefixes=cssomPrefixes;Modernizr.testProp=function(prop){return testProps([prop])};Modernizr.testAllProps=testPropsAll;Modernizr.testStyles=injectElementWithStyles;Modernizr.prefixed=function(prop,obj,elem){if(!obj){return testPropsAll(prop,\"pfx\")}else{return testPropsAll(prop,obj,elem)}};return Modernizr}(window,document);var fullScreenApi={ok:false,is:function(){return false},request:function(){},cancel:function(){},event:\"\",prefix:\"\"},browserPrefixes=\"webkit moz o ms khtml\".split(\" \");if(typeof document.cancelFullScreen!=\"undefined\"){fullScreenApi.ok=true}else{for(var i=0,il=browserPrefixes.length;i<il;i++){fullScreenApi.prefix=browserPrefixes[i];if(typeof document[fullScreenApi.prefix+\"CancelFullScreen\"]!=\"undefined\"){fullScreenApi.ok=true;break}}}if(fullScreenApi.ok){fullScreenApi.event=fullScreenApi.prefix+\"fullscreenchange\";fullScreenApi.is=function(){switch(this.prefix){case\"\":return document.fullScreen;case\"webkit\":return document.webkitIsFullScreen;default:return document[this.prefix+\"FullScreen\"]}};fullScreenApi.request=function(el){return this.prefix===\"\"?el.requestFullScreen():el[this.prefix+\"RequestFullScreen\"]()};fullScreenApi.cancel=function(el){return this.prefix===\"\"?document.cancelFullScreen():document[this.prefix+\"CancelFullScreen\"]()}}function bez(coOrdArray){var encodedFuncName=\"bez_\"+$.makeArray(arguments).join(\"_\").replace(\".\",\"p\");if(typeof $[\"easing\"][encodedFuncName]!==\"function\"){var polyBez=function(p1,p2){var A=[null,null],B=[null,null],C=[null,null],bezCoOrd=function(t,ax){C[ax]=3*p1[ax];B[ax]=3*(p2[ax]-p1[ax])-C[ax];A[ax]=1-C[ax]-B[ax];return t*(C[ax]+t*(B[ax]+t*A[ax]))},xDeriv=function(t){return C[0]+t*(2*B[0]+3*A[0]*t)},xForT=function(t){var x=t,i=0,z;while(++i<14){z=bezCoOrd(x,0)-t;if(Math.abs(z)<.001)break;x-=z/xDeriv(x)}return x};return function(t){return bezCoOrd(xForT(t),1)}};$[\"easing\"][encodedFuncName]=function(x,t,b,c,d){return c*polyBez([coOrdArray[0],coOrdArray[1]],[coOrdArray[2],coOrdArray[3]])(t/d)+b}}return encodedFuncName}var $WINDOW=$(window),$DOCUMENT=$(document),$HTML,$BODY,QUIRKS_FORCE=location.hash.replace(\"#\",\"\")===\"quirks\",TRANSFORMS3D=Modernizr.csstransforms3d,CSS3=TRANSFORMS3D&&!QUIRKS_FORCE,COMPAT=TRANSFORMS3D||document.compatMode===\"CSS1Compat\",FULLSCREEN=fullScreenApi.ok,MOBILE=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),SLOW=!CSS3||MOBILE,MS_POINTER=navigator.msPointerEnabled,WHEEL=\"onwheel\"in document.createElement(\"div\")?\"wheel\":document.onmousewheel!==undefined?\"mousewheel\":\"DOMMouseScroll\",TOUCH_TIMEOUT=250,TRANSITION_DURATION=300,SCROLL_LOCK_TIMEOUT=1400,AUTOPLAY_INTERVAL=5e3,MARGIN=2,THUMB_SIZE=64,WIDTH=500,HEIGHT=333,STAGE_FRAME_KEY=\"$stageFrame\",NAV_DOT_FRAME_KEY=\"$navDotFrame\",NAV_THUMB_FRAME_KEY=\"$navThumbFrame\",AUTO=\"auto\",BEZIER=bez([.1,0,.25,1]),MAX_WIDTH=1200,thumbsPerSlide=1,OPTIONS={width:null,minwidth:null,maxwidth:\"100%\",height:null,minheight:null,maxheight:null,ratio:null,margin:MARGIN,nav:\"dots\",navposition:\"bottom\",navwidth:null,thumbwidth:THUMB_SIZE,thumbheight:THUMB_SIZE,thumbmargin:MARGIN,thumbborderwidth:MARGIN,allowfullscreen:false,transition:\"slide\",clicktransition:null,transitionduration:TRANSITION_DURATION,captions:true,startindex:0,loop:false,autoplay:false,stopautoplayontouch:true,keyboard:false,arrows:true,click:true,swipe:false,trackpad:false,shuffle:false,direction:\"ltr\",shadows:true,showcaption:true,navdir:\"horizontal\",navarrows:true,navtype:\"thumbs\"},KEYBOARD_OPTIONS={left:true,right:true,down:true,up:true,space:false,home:false,end:false};function noop(){}function minMaxLimit(value,min,max){return Math.max(isNaN(min)?-Infinity:min,Math.min(isNaN(max)?Infinity:max,value))}function readTransform(css,dir){return css.match(/ma/)&&css.match(/-?\\d+(?!d)/g)[css.match(/3d/)?dir===\"vertical\"?13:12:dir===\"vertical\"?5:4]}function readPosition($el,dir){if(CSS3){return+readTransform($el.css(\"transform\"),dir)}else{return+$el.css(dir===\"vertical\"?\"top\":\"left\").replace(\"px\",\"\")}}function getTranslate(pos,direction){var obj={};if(CSS3){switch(direction){case\"vertical\":obj.transform=\"translate3d(0, \"+pos+\"px,0)\";break;case\"list\":break;default:obj.transform=\"translate3d(\"+pos+\"px,0,0)\";break}}else{direction===\"vertical\"?obj.top=pos:obj.left=pos}return obj}function getDuration(time){return{\"transition-duration\":time+\"ms\"}}function unlessNaN(value,alternative){return isNaN(value)?alternative:value}function numberFromMeasure(value,measure){return unlessNaN(+String(value).replace(measure||\"px\",\"\"))}function numberFromPercent(value){return/%$/.test(value)?numberFromMeasure(value,\"%\"):undefined}function numberFromWhatever(value,whole){return unlessNaN(numberFromPercent(value)/100*whole,numberFromMeasure(value))}function measureIsValid(value){return(!isNaN(numberFromMeasure(value))||!isNaN(numberFromMeasure(value,\"%\")))&&value}function getPosByIndex(index,side,margin,baseIndex){return(index-(baseIndex||0))*(side+(margin||0))}function getIndexByPos(pos,side,margin,baseIndex){return-Math.round(pos/(side+(margin||0))-(baseIndex||0))}function bindTransitionEnd($el){var elData=$el.data();if(elData.tEnd)return;var el=$el[0],transitionEndEvent={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",msTransition:\"MSTransitionEnd\",transition:\"transitionend\"};addEvent(el,transitionEndEvent[Modernizr.prefixed(\"transition\")],function(e){elData.tProp&&e.propertyName.match(elData.tProp)&&elData.onEndFn()});elData.tEnd=true}function afterTransition($el,property,fn,time){var ok,elData=$el.data();if(elData){elData.onEndFn=function(){if(ok)return;ok=true;clearTimeout(elData.tT);fn()};elData.tProp=property;clearTimeout(elData.tT);elData.tT=setTimeout(function(){elData.onEndFn()},time*1.5);bindTransitionEnd($el)}}function stop($el,pos){var dir=$el.navdir||\"horizontal\";if($el.length){var elData=$el.data();if(CSS3){$el.css(getDuration(0));elData.onEndFn=noop;clearTimeout(elData.tT)}else{$el.stop()}var lockedPos=getNumber(pos,function(){return readPosition($el,dir)});$el.css(getTranslate(lockedPos,dir));return lockedPos}}function getNumber(){var number;for(var _i=0,_l=arguments.length;_i<_l;_i++){number=_i?arguments[_i]():arguments[_i];if(typeof number===\"number\"){break}}return number}function edgeResistance(pos,edge){return Math.round(pos+(edge-pos)/1.5)}function getProtocol(){getProtocol.p=getProtocol.p||(location.protocol===\"https:\"?\"https://\":\"http://\");return getProtocol.p}function parseHref(href){var a=document.createElement(\"a\");a.href=href;return a}function findVideoId(href,forceVideo){if(typeof href!==\"string\")return href;href=parseHref(href);var id,type;if(href.host.match(/youtube\\.com/)&&href.search){id=href.search.split(\"v=\")[1];if(id){var ampersandPosition=id.indexOf(\"&\");if(ampersandPosition!==-1){id=id.substring(0,ampersandPosition)}type=\"youtube\"}}else if(href.host.match(/youtube\\.com|youtu\\.be/)){id=href.pathname.replace(/^\\/(embed\\/|v\\/)?/,\"\").replace(/\\/.*/,\"\");type=\"youtube\"}else if(href.host.match(/vimeo\\.com/)){type=\"vimeo\";id=href.pathname.replace(/^\\/(video\\/)?/,\"\").replace(/\\/.*/,\"\")}if((!id||!type)&&forceVideo){id=href.href;type=\"custom\"}return id?{id:id,type:type,s:href.search.replace(/^\\?/,\"\"),p:getProtocol()}:false}function getVideoThumbs(dataFrame,data,fotorama){var img,thumb,video=dataFrame.video;if(video.type===\"youtube\"){thumb=getProtocol()+\"img.youtube.com/vi/\"+video.id+\"/default.jpg\";img=thumb.replace(/\\/default.jpg$/,\"/hqdefault.jpg\");dataFrame.thumbsReady=true}else if(video.type===\"vimeo\"){$.ajax({url:getProtocol()+\"vimeo.com/api/v2/video/\"+video.id+\".json\",dataType:\"jsonp\",success:function(json){dataFrame.thumbsReady=true;updateData(data,{img:json[0].thumbnail_large,thumb:json[0].thumbnail_small},dataFrame.i,fotorama)}})}else{dataFrame.thumbsReady=true}return{img:img,thumb:thumb}}function updateData(data,_dataFrame,i,fotorama){for(var _i=0,_l=data.length;_i<_l;_i++){var dataFrame=data[_i];if(dataFrame.i===i&&dataFrame.thumbsReady){var clear={videoReady:true};clear[STAGE_FRAME_KEY]=clear[NAV_THUMB_FRAME_KEY]=clear[NAV_DOT_FRAME_KEY]=false;fotorama.splice(_i,1,$.extend({},dataFrame,clear,_dataFrame));break}}}function getDataFromHtml($el){var data=[];function getDataFromImg($img,imgData,checkVideo){var $child=$img.children(\"img\").eq(0),_imgHref=$img.attr(\"href\"),_imgSrc=$img.attr(\"src\"),_thumbSrc=$child.attr(\"src\"),_video=imgData.video,video=checkVideo?findVideoId(_imgHref,_video===true):false;if(video){_imgHref=false}else{video=_video}getDimensions($img,$child,$.extend(imgData,{video:video,img:imgData.img||_imgHref||_imgSrc||_thumbSrc,thumb:imgData.thumb||_thumbSrc||_imgSrc||_imgHref}))}function getDimensions($img,$child,imgData){var separateThumbFLAG=imgData.thumb&&imgData.img!==imgData.thumb,width=numberFromMeasure(imgData.width||$img.attr(\"width\")),height=numberFromMeasure(imgData.height||$img.attr(\"height\"));$.extend(imgData,{width:width,height:height,thumbratio:getRatio(imgData.thumbratio||numberFromMeasure(imgData.thumbwidth||$child&&$child.attr(\"width\")||separateThumbFLAG||width)/numberFromMeasure(imgData.thumbheight||$child&&$child.attr(\"height\")||separateThumbFLAG||height))})}$el.children().each(function(){var $this=$(this),dataFrame=optionsToLowerCase($.extend($this.data(),{id:$this.attr(\"id\")}));if($this.is(\"a, img\")){getDataFromImg($this,dataFrame,true)}else if(!$this.is(\":empty\")){getDimensions($this,null,$.extend(dataFrame,{html:this,_html:$this.html()}))}else return;data.push(dataFrame)});return data}function isHidden(el){return el.offsetWidth===0&&el.offsetHeight===0}function isDetached(el){return!$.contains(document.documentElement,el)}function waitFor(test,fn,timeout,i){if(!waitFor.i){waitFor.i=1;waitFor.ii=[true]}i=i||waitFor.i;if(typeof waitFor.ii[i]===\"undefined\"){waitFor.ii[i]=true}if(test()){fn()}else{waitFor.ii[i]&&setTimeout(function(){waitFor.ii[i]&&waitFor(test,fn,timeout,i)},timeout||100)}return waitFor.i++}waitFor.stop=function(i){waitFor.ii[i]=false};function fit($el,measuresToFit){var elData=$el.data(),measures=elData.measures;if(measures&&(!elData.l||elData.l.W!==measures.width||elData.l.H!==measures.height||elData.l.r!==measures.ratio||elData.l.w!==measuresToFit.w||elData.l.h!==measuresToFit.h)){var height=minMaxLimit(measuresToFit.h,0,measures.height),width=height*measures.ratio;UTIL.setRatio($el,width,height);elData.l={W:measures.width,H:measures.height,r:measures.ratio,w:measuresToFit.w,h:measuresToFit.h}}return true}function setStyle($el,style){var el=$el[0];if(el.styleSheet){el.styleSheet.cssText=style}else{$el.html(style)}}function findShadowEdge(pos,min,max,dir){return min===max?false:dir===\"vertical\"?pos<=min?\"top\":pos>=max?\"bottom\":\"top bottom\":pos<=min?\"left\":pos>=max?\"right\":\"left right\"}function smartClick($el,fn,_options){_options=_options||{};$el.each(function(){var $this=$(this),thisData=$this.data(),startEvent;if(thisData.clickOn)return;thisData.clickOn=true;$.extend(touch($this,{onStart:function(e){startEvent=e;(_options.onStart||noop).call(this,e)},onMove:_options.onMove||noop,onTouchEnd:_options.onTouchEnd||noop,onEnd:function(result){if(result.moved)return;fn.call(this,startEvent)}}),{noMove:true})})}function div(classes,child){return'<div class=\"'+classes+'\">'+(child||\"\")+\"</div>\"}function cls(className){return\".\"+className}function createVideoFrame(videoItem){var frame='<iframe src=\"'+videoItem.p+videoItem.type+\".com/embed/\"+videoItem.id+'\" frameborder=\"0\" allowfullscreen></iframe>';return frame}function shuffle(array){var l=array.length;while(l){var i=Math.floor(Math.random()*l--);var t=array[l];array[l]=array[i];array[i]=t}return array}function clone(array){return Object.prototype.toString.call(array)==\"[object Array]\"&&$.map(array,function(frame){return $.extend({},frame)})}function lockScroll($el,left,top){$el.scrollLeft(left||0).scrollTop(top||0)}function optionsToLowerCase(options){if(options){var opts={};$.each(options,function(key,value){opts[key.toLowerCase()]=value});return opts}}function getRatio(_ratio){if(!_ratio)return;var ratio=+_ratio;if(!isNaN(ratio)){return ratio}else{ratio=_ratio.split(\"/\");return+ratio[0]/+ratio[1]||undefined}}function addEvent(el,e,fn,bool){if(!e)return;el.addEventListener?el.addEventListener(e,fn,!!bool):el.attachEvent(\"on\"+e,fn)}function validateRestrictions(position,restriction){if(position>restriction.max){position=restriction.max}else{if(position<restriction.min){position=restriction.min}}return position}function validateSlidePos(opt,navShaftTouchTail,guessIndex,offsetNav,$guessNavFrame,$navWrap,dir){var position,size,wrapSize;if(dir===\"horizontal\"){size=opt.thumbwidth;wrapSize=$navWrap.width()}else{size=opt.thumbheight;wrapSize=$navWrap.height()}if((size+opt.margin)*(guessIndex+1)>=wrapSize-offsetNav){if(dir===\"horizontal\"){position=-$guessNavFrame.position().left}else{position=-$guessNavFrame.position().top}}else{if((size+opt.margin)*guessIndex<=Math.abs(offsetNav)){if(dir===\"horizontal\"){position=-$guessNavFrame.position().left+wrapSize-(size+opt.margin)}else{position=-$guessNavFrame.position().top+wrapSize-(size+opt.margin)}}else{position=offsetNav}}position=validateRestrictions(position,navShaftTouchTail);return position||0}function elIsDisabled(el){return!!el.getAttribute(\"disabled\")}function disableAttr(FLAG,disable){if(disable){return{disabled:FLAG}}else{return{tabindex:FLAG*-1+\"\",disabled:FLAG}}}function addEnterUp(el,fn){addEvent(el,\"keyup\",function(e){elIsDisabled(el)||e.keyCode==13&&fn.call(el,e)})}function addFocus(el,fn){addEvent(el,\"focus\",el.onfocusin=function(e){fn.call(el,e)},true)}function stopEvent(e,stopPropagation){e.preventDefault?e.preventDefault():e.returnValue=false;stopPropagation&&e.stopPropagation&&e.stopPropagation()}function stubEvent($el,eventType){var isIOS=/ip(ad|hone|od)/i.test(window.navigator.userAgent);if(isIOS&&eventType===\"touchend\"){$el.on(\"touchend\",function(e){$DOCUMENT.trigger(\"mouseup\",e)})}$el.on(eventType,function(e){stopEvent(e,true);return false})}function getDirectionSign(forward){return forward?\">\":\"<\"}var UTIL=function(){function setRatioClass($el,wh,ht){var rateImg=wh/ht;if(rateImg<=1){$el.parent().removeClass(horizontalImageClass);$el.parent().addClass(verticalImageClass)}else{$el.parent().removeClass(verticalImageClass);$el.parent().addClass(horizontalImageClass)}}function setThumbAttr($frame,value,searchAttr){var attr=searchAttr;if(!$frame.attr(attr)&&$frame.attr(attr)!==undefined){$frame.attr(attr,value)}if($frame.find(\"[\"+attr+\"]\").length){$frame.find(\"[\"+attr+\"]\").each(function(){$(this).attr(attr,value)})}}function isExpectedCaption(frameItem,isExpected,undefined){var expected=false,frameExpected;frameItem.showCaption===undefined||frameItem.showCaption===true?frameExpected=true:frameExpected=false;if(!isExpected){return false}if(frameItem.caption&&frameExpected){expected=true}return expected}return{setRatio:setRatioClass,setThumbAttr:setThumbAttr,isExpectedCaption:isExpectedCaption}}(UTIL||{},jQuery);function slide($el,options){var elData=$el.data(),elPos=Math.round(options.pos),onEndFn=function(){if(elData&&elData.sliding){elData.sliding=false}(options.onEnd||noop)()};if(typeof options.overPos!==\"undefined\"&&options.overPos!==options.pos){elPos=options.overPos}var translate=$.extend(getTranslate(elPos,options.direction),options.width&&{width:options.width},options.height&&{height:options.height});if(elData&&elData.sliding){elData.sliding=true}if(CSS3){$el.css($.extend(getDuration(options.time),translate));if(options.time>10){afterTransition($el,\"transform\",onEndFn,options.time)}else{onEndFn()}}else{$el.stop().animate(translate,options.time,BEZIER,onEndFn)}}function fade($el1,$el2,$frames,options,fadeStack,chain){var chainedFLAG=typeof chain!==\"undefined\";if(!chainedFLAG){fadeStack.push(arguments);Array.prototype.push.call(arguments,fadeStack.length);if(fadeStack.length>1)return}$el1=$el1||$($el1);$el2=$el2||$($el2);var _$el1=$el1[0],_$el2=$el2[0],crossfadeFLAG=options.method===\"crossfade\",onEndFn=function(){if(!onEndFn.done){onEndFn.done=true;var args=(chainedFLAG||fadeStack.shift())&&fadeStack.shift();args&&fade.apply(this,args);(options.onEnd||noop)(!!args)}},time=options.time/(chain||1);$frames.removeClass(fadeRearClass+\" \"+fadeFrontClass);$el1.stop().addClass(fadeRearClass);$el2.stop().addClass(fadeFrontClass);crossfadeFLAG&&_$el2&&$el1.fadeTo(0,0);$el1.fadeTo(crossfadeFLAG?time:0,1,crossfadeFLAG&&onEndFn);$el2.fadeTo(time,0,onEndFn);_$el1&&crossfadeFLAG||_$el2||onEndFn()}var lastEvent,moveEventType,preventEvent,preventEventTimeout,dragDomEl;function extendEvent(e){var touch=(e.touches||[])[0]||e;e._x=touch.pageX||touch.originalEvent.pageX;e._y=touch.clientY||touch.originalEvent.clientY;e._now=$.now()}function touch($el,options){var el=$el[0],tail={},touchEnabledFLAG,startEvent,$target,controlTouch,touchFLAG,targetIsSelectFLAG,targetIsLinkFlag,tolerance,moved;function onStart(e){$target=$(e.target);tail.checked=targetIsSelectFLAG=targetIsLinkFlag=moved=false;if(touchEnabledFLAG||tail.flow||e.touches&&e.touches.length>1||e.which>1||lastEvent&&lastEvent.type!==e.type&&preventEvent||(targetIsSelectFLAG=options.select&&$target.is(options.select,el)))return targetIsSelectFLAG;touchFLAG=e.type===\"touchstart\";targetIsLinkFlag=$target.is(\"a, a *\",el);controlTouch=tail.control;tolerance=tail.noMove||tail.noSwipe||controlTouch?16:!tail.snap?4:0;extendEvent(e);startEvent=lastEvent=e;moveEventType=e.type.replace(/down|start/,\"move\").replace(/Down/,\"Move\");(options.onStart||noop).call(el,e,{control:controlTouch,$target:$target});touchEnabledFLAG=tail.flow=true;if(!touchFLAG||tail.go)stopEvent(e)}function onMove(e){if(e.touches&&e.touches.length>1||MS_POINTER&&!e.isPrimary||moveEventType!==e.type||!touchEnabledFLAG){touchEnabledFLAG&&onEnd();(options.onTouchEnd||noop)();return}extendEvent(e);var xDiff=Math.abs(e._x-startEvent._x),yDiff=Math.abs(e._y-startEvent._y),xyDiff=xDiff-yDiff,xWin=(tail.go||tail.x||xyDiff>=0)&&!tail.noSwipe,yWin=xyDiff<0;if(touchFLAG&&!tail.checked){if(touchEnabledFLAG=xWin){stopEvent(e)}}else{stopEvent(e);if(movedEnough(xDiff,yDiff)){(options.onMove||noop).call(el,e,{touch:touchFLAG})}}if(!moved&&movedEnough(xDiff,yDiff)&&Math.sqrt(Math.pow(xDiff,2)+Math.pow(yDiff,2))>tolerance){moved=true}tail.checked=tail.checked||xWin||yWin}function movedEnough(xDiff,yDiff){return xDiff>yDiff&&xDiff>1.5}function onEnd(e){(options.onTouchEnd||noop)();var _touchEnabledFLAG=touchEnabledFLAG;tail.control=touchEnabledFLAG=false;if(_touchEnabledFLAG){tail.flow=false}if(!_touchEnabledFLAG||targetIsLinkFlag&&!tail.checked)return;e&&stopEvent(e);preventEvent=true;clearTimeout(preventEventTimeout);preventEventTimeout=setTimeout(function(){preventEvent=false},1e3);(options.onEnd||noop).call(el,{moved:moved,$target:$target,control:controlTouch,touch:touchFLAG,startEvent:startEvent,aborted:!e||e.type===\"MSPointerCancel\"})}function onOtherStart(){if(tail.flow)return;tail.flow=true}function onOtherEnd(){if(!tail.flow)return;tail.flow=false}if(MS_POINTER){addEvent(el,\"MSPointerDown\",onStart);addEvent(document,\"MSPointerMove\",onMove);addEvent(document,\"MSPointerCancel\",onEnd);addEvent(document,\"MSPointerUp\",onEnd)}else{addEvent(el,\"touchstart\",onStart);addEvent(el,\"touchmove\",onMove);addEvent(el,\"touchend\",onEnd);addEvent(document,\"touchstart\",onOtherStart);addEvent(document,\"touchend\",onOtherEnd);addEvent(document,\"touchcancel\",onOtherEnd);$WINDOW.on(\"scroll\",onOtherEnd);$el.on(\"mousedown pointerdown\",onStart);$DOCUMENT.on(\"mousemove pointermove\",onMove).on(\"mouseup pointerup\",onEnd)}if(Modernizr.touch){dragDomEl=\"a\"}else{dragDomEl=\"div\"}$el.on(\"click\",dragDomEl,function(e){tail.checked&&stopEvent(e)});return tail}function moveOnTouch($el,options){var el=$el[0],elData=$el.data(),tail={},startCoo,coo,startElPos,moveElPos,edge,moveTrack,startTime,endTime,min,max,snap,dir,slowFLAG,controlFLAG,moved,tracked;function startTracking(e,noStop){tracked=true;startCoo=coo=dir===\"vertical\"?e._y:e._x;startTime=e._now;moveTrack=[[startTime,startCoo]];startElPos=moveElPos=tail.noMove||noStop?0:stop($el,(options.getPos||noop)());(options.onStart||noop).call(el,e)}function onStart(e,result){min=tail.min;max=tail.max;snap=tail.snap,dir=tail.direction||\"horizontal\",$el.navdir=dir;slowFLAG=e.altKey;tracked=moved=false;controlFLAG=result.control;if(!controlFLAG&&!elData.sliding){startTracking(e)}}function onMove(e,result){if(!tail.noSwipe){if(!tracked){startTracking(e)}coo=dir===\"vertical\"?e._y:e._x;moveTrack.push([e._now,coo]);moveElPos=startElPos-(startCoo-coo);edge=findShadowEdge(moveElPos,min,max,dir);if(moveElPos<=min){moveElPos=edgeResistance(moveElPos,min)}else if(moveElPos>=max){moveElPos=edgeResistance(moveElPos,max)}if(!tail.noMove){$el.css(getTranslate(moveElPos,dir));if(!moved){moved=true;result.touch||MS_POINTER||$el.addClass(grabbingClass)}(options.onMove||noop).call(el,e,{pos:moveElPos,edge:edge})}}}function onEnd(result){if(tail.noSwipe&&result.moved)return;if(!tracked){startTracking(result.startEvent,true)}result.touch||MS_POINTER||$el.removeClass(grabbingClass);endTime=$.now();var _backTimeIdeal=endTime-TOUCH_TIMEOUT,_backTime,_timeDiff,_timeDiffLast,backTime=null,backCoo,virtualPos,limitPos,newPos,overPos,time=TRANSITION_DURATION,speed,friction=options.friction;for(var _i=moveTrack.length-1;_i>=0;_i--){_backTime=moveTrack[_i][0];_timeDiff=Math.abs(_backTime-_backTimeIdeal);if(backTime===null||_timeDiff<_timeDiffLast){backTime=_backTime;backCoo=moveTrack[_i][1]}else if(backTime===_backTimeIdeal||_timeDiff>_timeDiffLast){break}_timeDiffLast=_timeDiff}newPos=minMaxLimit(moveElPos,min,max);var cooDiff=backCoo-coo,forwardFLAG=cooDiff>=0,timeDiff=endTime-backTime,longTouchFLAG=timeDiff>TOUCH_TIMEOUT,swipeFLAG=!longTouchFLAG&&moveElPos!==startElPos&&newPos===moveElPos;if(snap){newPos=minMaxLimit(Math[swipeFLAG?forwardFLAG?\"floor\":\"ceil\":\"round\"](moveElPos/snap)*snap,min,max);min=max=newPos}if(swipeFLAG&&(snap||newPos===moveElPos)){speed=-(cooDiff/timeDiff);time*=minMaxLimit(Math.abs(speed),options.timeLow,options.timeHigh);virtualPos=Math.round(moveElPos+speed*time/friction);if(!snap){newPos=virtualPos}if(!forwardFLAG&&virtualPos>max||forwardFLAG&&virtualPos<min){limitPos=forwardFLAG?min:max;overPos=virtualPos-limitPos;if(!snap){newPos=limitPos}overPos=minMaxLimit(newPos+overPos*.03,limitPos-50,limitPos+50);time=Math.abs((moveElPos-overPos)/(speed/friction))}}time*=slowFLAG?10:1;(options.onEnd||noop).call(el,$.extend(result,{moved:result.moved||longTouchFLAG&&snap,pos:moveElPos,newPos:newPos,overPos:overPos,time:time,dir:dir}))}tail=$.extend(touch(options.$wrap,$.extend({},options,{onStart:onStart,onMove:onMove,onEnd:onEnd})),tail);return tail}function wheel($el,options){var el=$el[0],lockFLAG,lastDirection,lastNow,tail={prevent:{}};addEvent(el,WHEEL,function(e){var yDelta=e.wheelDeltaY||-1*e.deltaY||0,xDelta=e.wheelDeltaX||-1*e.deltaX||0,xWin=Math.abs(xDelta)&&!Math.abs(yDelta),direction=getDirectionSign(xDelta<0),sameDirection=lastDirection===direction,now=$.now(),tooFast=now-lastNow<TOUCH_TIMEOUT;lastDirection=direction;lastNow=now;if(!xWin||!tail.ok||tail.prevent[direction]&&!lockFLAG){return}else{stopEvent(e,true);if(lockFLAG&&sameDirection&&tooFast){return}}if(options.shift){lockFLAG=true;clearTimeout(tail.t);tail.t=setTimeout(function(){lockFLAG=false},SCROLL_LOCK_TIMEOUT)}(options.onEnd||noop)(e,options.shift?direction:xDelta)});return tail}jQuery.Fotorama=function($fotorama,opts){$HTML=$(\"html\");$BODY=$(\"body\");var that=this,stamp=$.now(),stampClass=_fotoramaClass+stamp,fotorama=$fotorama[0],data,dataFrameCount=1,fotoramaData=$fotorama.data(),size,$style=$(\"<style></style>\"),$anchor=$(div(hiddenClass)),$wrap=$fotorama.find(cls(wrapClass)),$stage=$wrap.find(cls(stageClass)),stage=$stage[0],$stageShaft=$fotorama.find(cls(stageShaftClass)),$stageFrame=$(),$arrPrev=$fotorama.find(cls(arrPrevClass)),$arrNext=$fotorama.find(cls(arrNextClass)),$arrs=$fotorama.find(cls(arrClass)),$navWrap=$fotorama.find(cls(navWrapClass)),$nav=$navWrap.find(cls(navClass)),$navShaft=$nav.find(cls(navShaftClass)),$navFrame,$navDotFrame=$(),$navThumbFrame=$(),stageShaftData=$stageShaft.data(),navShaftData=$navShaft.data(),$thumbBorder=$fotorama.find(cls(thumbBorderClass)),$thumbArrLeft=$fotorama.find(cls(thumbArrLeft)),$thumbArrRight=$fotorama.find(cls(thumbArrRight)),$fullscreenIcon=$fotorama.find(cls(fullscreenIconClass)),fullscreenIcon=$fullscreenIcon[0],$videoPlay=$(div(videoPlayClass)),$videoClose=$fotorama.find(cls(videoCloseClass)),videoClose=$videoClose[0],$spinner=$fotorama.find(cls(fotoramaSpinnerClass)),$videoPlaying,activeIndex=false,activeFrame,activeIndexes,repositionIndex,dirtyIndex,lastActiveIndex,prevIndex,nextIndex,nextAutoplayIndex,startIndex,o_loop,o_nav,o_navThumbs,o_navTop,o_allowFullScreen,o_nativeFullScreen,o_fade,o_thumbSide,o_thumbSide2,o_transitionDuration,o_transition,o_shadows,o_rtl,o_keyboard,lastOptions={},measures={},measuresSetFLAG,stageShaftTouchTail={},stageWheelTail={},navShaftTouchTail={},navWheelTail={},scrollTop,scrollLeft,showedFLAG,pausedAutoplayFLAG,stoppedAutoplayFLAG,toDeactivate={},toDetach={},measuresStash,touchedFLAG,hoverFLAG,navFrameKey,stageLeft=0,fadeStack=[];$wrap[STAGE_FRAME_KEY]=$('<div class=\"'+stageFrameClass+'\"></div>');$wrap[NAV_THUMB_FRAME_KEY]=$($.Fotorama.jst.thumb());$wrap[NAV_DOT_FRAME_KEY]=$($.Fotorama.jst.dots());toDeactivate[STAGE_FRAME_KEY]=[];toDeactivate[NAV_THUMB_FRAME_KEY]=[];toDeactivate[NAV_DOT_FRAME_KEY]=[];toDetach[STAGE_FRAME_KEY]={};$wrap.addClass(CSS3?wrapCss3Class:wrapCss2Class);fotoramaData.fotorama=this;function checkForVideo(){$.each(data,function(i,dataFrame){if(!dataFrame.i){dataFrame.i=dataFrameCount++;var video=findVideoId(dataFrame.video,true);if(video){var thumbs={};dataFrame.video=video;if(!dataFrame.img&&!dataFrame.thumb){thumbs=getVideoThumbs(dataFrame,data,that)}else{dataFrame.thumbsReady=true}updateData(data,{img:thumbs.img,thumb:thumbs.thumb},dataFrame.i,that)}}})}function allowKey(key){return o_keyboard[key]}function setStagePosition(){if($stage!==undefined){if(opts.navdir==\"vertical\"){var padding=opts.thumbwidth+opts.thumbmargin;$stage.css(\"left\",padding);$arrNext.css(\"right\",padding);$fullscreenIcon.css(\"right\",padding);$wrap.css(\"width\",$wrap.css(\"width\")+padding);$stageShaft.css(\"max-width\",$wrap.width()-padding)}else{$stage.css(\"left\",\"\");$arrNext.css(\"right\",\"\");$fullscreenIcon.css(\"right\",\"\");$wrap.css(\"width\",$wrap.css(\"width\")+padding);$stageShaft.css(\"max-width\",\"\")}}}function bindGlobalEvents(FLAG){var keydownCommon=\"keydown.\"+_fotoramaClass,localStamp=_fotoramaClass+stamp,keydownLocal=\"keydown.\"+localStamp,keyupLocal=\"keyup.\"+localStamp,resizeLocal=\"resize.\"+localStamp+\" \"+\"orientationchange.\"+localStamp,showParams;if(FLAG){$DOCUMENT.on(keydownLocal,function(e){var catched,index;if($videoPlaying&&e.keyCode===27){catched=true;unloadVideo($videoPlaying,true,true)}else if(that.fullScreen||opts.keyboard&&!that.index){if(e.keyCode===27){catched=true;that.cancelFullScreen()}else if(e.shiftKey&&e.keyCode===32&&allowKey(\"space\")||e.keyCode===37&&allowKey(\"left\")||e.keyCode===38&&allowKey(\"up\")&&$(\":focus\").attr(\"data-gallery-role\")){that.longPress.progress();index=\"<\"}else if(e.keyCode===32&&allowKey(\"space\")||e.keyCode===39&&allowKey(\"right\")||e.keyCode===40&&allowKey(\"down\")&&$(\":focus\").attr(\"data-gallery-role\")){that.longPress.progress();index=\">\"}else if(e.keyCode===36&&allowKey(\"home\")){that.longPress.progress();index=\"<<\"}else if(e.keyCode===35&&allowKey(\"end\")){that.longPress.progress();index=\">>\"}}(catched||index)&&stopEvent(e);showParams={index:index,slow:e.altKey,user:true};index&&(that.longPress.inProgress?that.showWhileLongPress(showParams):that.show(showParams))});if(FLAG){$DOCUMENT.on(keyupLocal,function(e){if(that.longPress.inProgress){that.showEndLongPress({user:true})}that.longPress.reset()})}if(!that.index){$DOCUMENT.off(keydownCommon).on(keydownCommon,\"textarea, input, select\",function(e){!$BODY.hasClass(_fullscreenClass)&&e.stopPropagation()})}$WINDOW.on(resizeLocal,that.resize)}else{$DOCUMENT.off(keydownLocal);$WINDOW.off(resizeLocal)}}function appendElements(FLAG){if(FLAG===appendElements.f)return;if(FLAG){$fotorama.addClass(_fotoramaClass+\" \"+stampClass).before($anchor).before($style);addInstance(that)}else{$anchor.detach();$style.detach();$fotorama.html(fotoramaData.urtext).removeClass(stampClass);hideInstance(that)}bindGlobalEvents(FLAG);appendElements.f=FLAG}function setData(){data=that.data=data||clone(opts.data)||getDataFromHtml($fotorama);size=that.size=data.length;ready.ok&&opts.shuffle&&shuffle(data);checkForVideo();activeIndex=limitIndex(activeIndex);size&&appendElements(true)}function stageNoMove(){var _noMove=size<2||$videoPlaying;stageShaftTouchTail.noMove=_noMove||o_fade;stageShaftTouchTail.noSwipe=_noMove||!opts.swipe;!o_transition&&$stageShaft.toggleClass(grabClass,!opts.click&&!stageShaftTouchTail.noMove&&!stageShaftTouchTail.noSwipe);MS_POINTER&&$wrap.toggleClass(wrapPanYClass,!stageShaftTouchTail.noSwipe)}function setAutoplayInterval(interval){if(interval===true)interval=\"\";opts.autoplay=Math.max(+interval||AUTOPLAY_INTERVAL,o_transitionDuration*1.5)}function updateThumbArrow(opt){if(opt.navarrows&&opt.nav===\"thumbs\"){$thumbArrLeft.show();$thumbArrRight.show()}else{$thumbArrLeft.hide();$thumbArrRight.hide()}}function getThumbsInSlide($el,opts){return Math.floor($wrap.width()/(opts.thumbwidth+opts.thumbmargin))}function setOptions(){if(!opts.nav||opts.nav===\"dots\"){opts.navdir=\"horizontal\"}that.options=opts=optionsToLowerCase(opts);thumbsPerSlide=getThumbsInSlide($wrap,opts);o_fade=opts.transition===\"crossfade\"||opts.transition===\"dissolve\";o_loop=opts.loop&&(size>2||o_fade&&(!o_transition||o_transition!==\"slide\"));o_transitionDuration=+opts.transitionduration||TRANSITION_DURATION;o_rtl=opts.direction===\"rtl\";o_keyboard=$.extend({},opts.keyboard&&KEYBOARD_OPTIONS,opts.keyboard);updateThumbArrow(opts);var classes={add:[],remove:[]};function addOrRemoveClass(FLAG,value){classes[FLAG?\"add\":\"remove\"].push(value)}if(size>1){o_nav=opts.nav;o_navTop=opts.navposition===\"top\";classes.remove.push(selectClass);$arrs.toggle(opts.arrows)}else{o_nav=false;$arrs.hide()}arrsUpdate();stageWheelUpdate();thumbArrUpdate();if(opts.autoplay)setAutoplayInterval(opts.autoplay);o_thumbSide=numberFromMeasure(opts.thumbwidth)||THUMB_SIZE;o_thumbSide2=numberFromMeasure(opts.thumbheight)||THUMB_SIZE;stageWheelTail.ok=navWheelTail.ok=opts.trackpad&&!SLOW;stageNoMove();extendMeasures(opts,[measures]);o_navThumbs=o_nav===\"thumbs\";if($navWrap.filter(\":hidden\")&&!!o_nav){$navWrap.show()}if(o_navThumbs){frameDraw(size,\"navThumb\");$navFrame=$navThumbFrame;navFrameKey=NAV_THUMB_FRAME_KEY;setStyle($style,$.Fotorama.jst.style({w:o_thumbSide,h:o_thumbSide2,b:opts.thumbborderwidth,m:opts.thumbmargin,s:stamp,q:!COMPAT}));$nav.addClass(navThumbsClass).removeClass(navDotsClass)}else if(o_nav===\"dots\"){frameDraw(size,\"navDot\");$navFrame=$navDotFrame;navFrameKey=NAV_DOT_FRAME_KEY;$nav.addClass(navDotsClass).removeClass(navThumbsClass)}else{$navWrap.hide();o_nav=false;$nav.removeClass(navThumbsClass+\" \"+navDotsClass)}if(o_nav){if(o_navTop){$navWrap.insertBefore($stage)}else{$navWrap.insertAfter($stage)}frameAppend.nav=false;frameAppend($navFrame,$navShaft,\"nav\")}o_allowFullScreen=opts.allowfullscreen;if(o_allowFullScreen){$fullscreenIcon.prependTo($stage);o_nativeFullScreen=FULLSCREEN&&o_allowFullScreen===\"native\";stubEvent($fullscreenIcon,\"touchend\")}else{$fullscreenIcon.detach();o_nativeFullScreen=false}addOrRemoveClass(o_fade,wrapFadeClass);addOrRemoveClass(!o_fade,wrapSlideClass);addOrRemoveClass(!opts.captions,wrapNoCaptionsClass);addOrRemoveClass(o_rtl,wrapRtlClass);addOrRemoveClass(opts.arrows,wrapToggleArrowsClass);o_shadows=opts.shadows&&!SLOW;addOrRemoveClass(!o_shadows,wrapNoShadowsClass);$wrap.addClass(classes.add.join(\" \")).removeClass(classes.remove.join(\" \"));lastOptions=$.extend({},opts);setStagePosition()}function normalizeIndex(index){return index<0?(size+index%size)%size:index>=size?index%size:index}function limitIndex(index){return minMaxLimit(index,0,size-1)}function edgeIndex(index){return o_loop?normalizeIndex(index):limitIndex(index)}function getPrevIndex(index){return index>0||o_loop?index-1:false}function getNextIndex(index){return index<size-1||o_loop?index+1:false}function setStageShaftMinmaxAndSnap(){stageShaftTouchTail.min=o_loop?-Infinity:-getPosByIndex(size-1,measures.w,opts.margin,repositionIndex);stageShaftTouchTail.max=o_loop?Infinity:-getPosByIndex(0,measures.w,opts.margin,repositionIndex);stageShaftTouchTail.snap=measures.w+opts.margin}function setNavShaftMinMax(){var isVerticalDir=opts.navdir===\"vertical\";var param=isVerticalDir?$navShaft.height():$navShaft.width();var mainParam=isVerticalDir?measures.h:measures.nw;navShaftTouchTail.min=Math.min(0,mainParam-param);navShaftTouchTail.max=0;navShaftTouchTail.direction=opts.navdir;$navShaft.toggleClass(grabClass,!(navShaftTouchTail.noMove=navShaftTouchTail.min===navShaftTouchTail.max))}function eachIndex(indexes,type,fn){if(typeof indexes===\"number\"){indexes=new Array(indexes);var rangeFLAG=true}return $.each(indexes,function(i,index){if(rangeFLAG)index=i;if(typeof index===\"number\"){var dataFrame=data[normalizeIndex(index)];if(dataFrame){var key=\"$\"+type+\"Frame\",$frame=dataFrame[key];fn.call(this,i,index,dataFrame,$frame,key,$frame&&$frame.data())}}})}function setMeasures(width,height,ratio,index){if(!measuresSetFLAG||measuresSetFLAG===\"*\"&&index===startIndex){width=measureIsValid(opts.width)||measureIsValid(width)||WIDTH;height=measureIsValid(opts.height)||measureIsValid(height)||HEIGHT;that.resize({width:width,ratio:opts.ratio||ratio||width/height},0,index!==startIndex&&\"*\")}}function loadImg(indexes,type,specialMeasures,again){eachIndex(indexes,type,function(i,index,dataFrame,$frame,key,frameData){if(!$frame)return;var fullFLAG=that.fullScreen&&!frameData.$full&&type===\"stage\";if(frameData.$img&&!again&&!fullFLAG)return;var img=new Image,$img=$(img),imgData=$img.data();frameData[fullFLAG?\"$full\":\"$img\"]=$img;var srcKey=type===\"stage\"?fullFLAG?\"full\":\"img\":\"thumb\",src=dataFrame[srcKey],dummy=fullFLAG?dataFrame[\"img\"]:dataFrame[type===\"stage\"?\"thumb\":\"img\"];if(type===\"navThumb\")$frame=frameData.$wrap;function triggerTriggerEvent(event){var _index=normalizeIndex(index);triggerEvent(event,{index:_index,src:src,frame:data[_index]})}function error(){$img.remove();$.Fotorama.cache[src]=\"error\";if((!dataFrame.html||type!==\"stage\")&&dummy&&dummy!==src){dataFrame[srcKey]=src=dummy;frameData.$full=null;loadImg([index],type,specialMeasures,true)}else{if(src&&!dataFrame.html&&!fullFLAG){$frame.trigger(\"f:error\").removeClass(loadingClass).addClass(errorClass);triggerTriggerEvent(\"error\")}else if(type===\"stage\"){$frame.trigger(\"f:load\").removeClass(loadingClass+\" \"+errorClass).addClass(loadedClass);triggerTriggerEvent(\"load\");setMeasures()}frameData.state=\"error\";if(size>1&&data[index]===dataFrame&&!dataFrame.html&&!dataFrame.deleted&&!dataFrame.video&&!fullFLAG){dataFrame.deleted=true;that.splice(index,1)}}}function loaded(){$.Fotorama.measures[src]=imgData.measures=$.Fotorama.measures[src]||{width:img.width,height:img.height,ratio:img.width/img.height};setMeasures(imgData.measures.width,imgData.measures.height,imgData.measures.ratio,index);$img.off(\"load error\").addClass(\"\"+(fullFLAG?imgFullClass:imgClass)).attr(\"aria-hidden\",\"false\").prependTo($frame);if($frame.hasClass(stageFrameClass)&&!$frame.hasClass(videoContainerClass)){$frame.attr(\"href\",$img.attr(\"src\"))}fit($img,($.isFunction(specialMeasures)?specialMeasures():specialMeasures)||measures);$.Fotorama.cache[src]=frameData.state=\"loaded\";setTimeout(function(){$frame.trigger(\"f:load\").removeClass(loadingClass+\" \"+errorClass).addClass(loadedClass+\" \"+(fullFLAG?loadedFullClass:loadedImgClass));if(type===\"stage\"){triggerTriggerEvent(\"load\")}else if(dataFrame.thumbratio===AUTO||!dataFrame.thumbratio&&opts.thumbratio===AUTO){dataFrame.thumbratio=imgData.measures.ratio;reset()}},0)}if(!src){error();return}function waitAndLoad(){var _i=10;waitFor(function(){return!touchedFLAG||!_i--&&!SLOW},function(){loaded()})}if(!$.Fotorama.cache[src]){$.Fotorama.cache[src]=\"*\";$img.on(\"load\",waitAndLoad).on(\"error\",error)}else{(function justWait(){if($.Fotorama.cache[src]===\"error\"){error()}else if($.Fotorama.cache[src]===\"loaded\"){setTimeout(waitAndLoad,0)}else{setTimeout(justWait,100)}})()}frameData.state=\"\";img.src=src;if(frameData.data.caption){img.alt=frameData.data.caption||\"\"}if(frameData.data.full){$(img).data(\"original\",frameData.data.full)}if(UTIL.isExpectedCaption(dataFrame,opts.showcaption)){$(img).attr(\"aria-labelledby\",dataFrame.labelledby)}})}function updateFotoramaState(){var $frame=activeFrame[STAGE_FRAME_KEY];if($frame&&!$frame.data().state){$spinner.addClass(spinnerShowClass);$frame.on(\"f:load f:error\",function(){$frame.off(\"f:load f:error\");$spinner.removeClass(spinnerShowClass)})}}function addNavFrameEvents(frame){addEnterUp(frame,onNavFrameClick);addFocus(frame,function(){setTimeout(function(){lockScroll($nav)},0);slideNavShaft({time:o_transitionDuration,guessIndex:$(this).data().eq,minMax:navShaftTouchTail})})}function frameDraw(indexes,type){eachIndex(indexes,type,function(i,index,dataFrame,$frame,key,frameData){if($frame)return;$frame=dataFrame[key]=$wrap[key].clone();frameData=$frame.data();frameData.data=dataFrame;var frame=$frame[0],labelledbyValue=\"labelledby\"+$.now();if(type===\"stage\"){if(dataFrame.html){$('<div class=\"'+htmlClass+'\"></div>').append(dataFrame._html?$(dataFrame.html).removeAttr(\"id\").html(dataFrame._html):dataFrame.html).appendTo($frame)}if(dataFrame.id){labelledbyValue=dataFrame.id||labelledbyValue}dataFrame.labelledby=labelledbyValue;if(UTIL.isExpectedCaption(dataFrame,opts.showcaption)){$($.Fotorama.jst.frameCaption({caption:dataFrame.caption,labelledby:labelledbyValue})).appendTo($frame)}dataFrame.video&&$frame.addClass(stageFrameVideoClass).append($videoPlay.clone());addFocus(frame,function(){setTimeout(function(){lockScroll($stage)},0);clickToShow({index:frameData.eq,user:true})});$stageFrame=$stageFrame.add($frame)}else if(type===\"navDot\"){addNavFrameEvents(frame);$navDotFrame=$navDotFrame.add($frame)}else if(type===\"navThumb\"){addNavFrameEvents(frame);frameData.$wrap=$frame.children(\":first\");$navThumbFrame=$navThumbFrame.add($frame);if(dataFrame.video){frameData.$wrap.append($videoPlay.clone())}}})}function callFit($img,measuresToFit){return $img&&$img.length&&fit($img,measuresToFit)}function stageFramePosition(indexes){eachIndex(indexes,\"stage\",function(i,index,dataFrame,$frame,key,frameData){if(!$frame)return;var normalizedIndex=normalizeIndex(index);frameData.eq=normalizedIndex;toDetach[STAGE_FRAME_KEY][normalizedIndex]=$frame.css($.extend({left:o_fade?0:getPosByIndex(index,measures.w,opts.margin,repositionIndex)},o_fade&&getDuration(0)));if(isDetached($frame[0])){$frame.appendTo($stageShaft);unloadVideo(dataFrame.$video)}callFit(frameData.$img,measures);callFit(frameData.$full,measures);if($frame.hasClass(stageFrameClass)&&!($frame.attr(\"aria-hidden\")===\"false\"&&$frame.hasClass(activeClass))){$frame.attr(\"aria-hidden\",\"true\")}})}function thumbsDraw(pos,loadFLAG){var leftLimit,rightLimit,exceedLimit;if(o_nav!==\"thumbs\"||isNaN(pos))return;leftLimit=-pos;rightLimit=-pos+measures.nw;if(opts.navdir===\"vertical\"){pos=pos-opts.thumbheight;rightLimit=-pos+measures.h}$navThumbFrame.each(function(){var $this=$(this),thisData=$this.data(),eq=thisData.eq,getSpecialMeasures=function(){return{h:o_thumbSide2,w:thisData.w}},specialMeasures=getSpecialMeasures(),exceedLimit=opts.navdir===\"vertical\"?thisData.t>rightLimit:thisData.l>rightLimit;specialMeasures.w=thisData.w;if(thisData.l+thisData.w<leftLimit||exceedLimit||callFit(thisData.$img,specialMeasures))return;loadFLAG&&loadImg([eq],\"navThumb\",getSpecialMeasures)})}function frameAppend($frames,$shaft,type){if(!frameAppend[type]){var thumbsFLAG=type===\"nav\"&&o_navThumbs,left=0,top=0;$shaft.append($frames.filter(function(){var actual,$this=$(this),frameData=$this.data();for(var _i=0,_l=data.length;_i<_l;_i++){if(frameData.data===data[_i]){actual=true;frameData.eq=_i;break}}return actual||$this.remove()&&false}).sort(function(a,b){return $(a).data().eq-$(b).data().eq}).each(function(){var $this=$(this),frameData=$this.data();UTIL.setThumbAttr($this,frameData.data.caption,\"aria-label\")}).each(function(){if(!thumbsFLAG)return;var $this=$(this),frameData=$this.data(),thumbwidth=Math.round(o_thumbSide2*frameData.data.thumbratio)||o_thumbSide,thumbheight=Math.round(o_thumbSide/frameData.data.thumbratio)||o_thumbSide2;frameData.t=top;frameData.h=thumbheight;frameData.l=left;frameData.w=thumbwidth;$this.css({width:thumbwidth});top+=thumbheight+opts.thumbmargin;left+=thumbwidth+opts.thumbmargin}));frameAppend[type]=true}}function getDirection(x){return x-stageLeft>measures.w/3}function disableDirrection(i){return!o_loop&&(!(activeIndex+i)||!(activeIndex-size+i))&&!$videoPlaying}function arrsUpdate(){var disablePrev=disableDirrection(0),disableNext=disableDirrection(1);$arrPrev.toggleClass(arrDisabledClass,disablePrev).attr(disableAttr(disablePrev,false));$arrNext.toggleClass(arrDisabledClass,disableNext).attr(disableAttr(disableNext,false))}function thumbArrUpdate(){var isLeftDisable=false,isRightDisable=false;if(opts.navtype===\"thumbs\"&&!opts.loop){activeIndex==0?isLeftDisable=true:isLeftDisable=false;activeIndex==opts.data.length-1?isRightDisable=true:isRightDisable=false}if(opts.navtype===\"slides\"){var pos=readPosition($navShaft,opts.navdir);pos>=navShaftTouchTail.max?isLeftDisable=true:isLeftDisable=false;pos<=navShaftTouchTail.min?isRightDisable=true:isRightDisable=false}$thumbArrLeft.toggleClass(arrDisabledClass,isLeftDisable).attr(disableAttr(isLeftDisable,true));$thumbArrRight.toggleClass(arrDisabledClass,isRightDisable).attr(disableAttr(isRightDisable,true))}function stageWheelUpdate(){if(stageWheelTail.ok){stageWheelTail.prevent={\"<\":disableDirrection(0),\">\":disableDirrection(1)}}}function getNavFrameBounds($navFrame){var navFrameData=$navFrame.data(),left,top,width,height;if(o_navThumbs){left=navFrameData.l;top=navFrameData.t;width=navFrameData.w;height=navFrameData.h}else{left=$navFrame.position().left;width=$navFrame.width()}var horizontalBounds={c:left+width/2,min:-left+opts.thumbmargin*10,max:-left+measures.w-width-opts.thumbmargin*10};var verticalBounds={c:top+height/2,min:-top+opts.thumbmargin*10,max:-top+measures.h-height-opts.thumbmargin*10};return opts.navdir===\"vertical\"?verticalBounds:horizontalBounds}function slideThumbBorder(time){var navFrameData=activeFrame[navFrameKey].data();slide($thumbBorder,{time:time*1.2,pos:opts.navdir===\"vertical\"?navFrameData.t:navFrameData.l,width:navFrameData.w,height:navFrameData.h,direction:opts.navdir})}function slideNavShaft(options){var $guessNavFrame=data[options.guessIndex][navFrameKey],typeOfAnimation=opts.navtype;var overflowFLAG,time,minMax,boundTop,boundLeft,l,pos,x;if($guessNavFrame){if(typeOfAnimation===\"thumbs\"){overflowFLAG=navShaftTouchTail.min!==navShaftTouchTail.max;minMax=options.minMax||overflowFLAG&&getNavFrameBounds(activeFrame[navFrameKey]);boundTop=overflowFLAG&&(options.keep&&slideNavShaft.t?slideNavShaft.l:minMaxLimit((options.coo||measures.nw/2)-getNavFrameBounds($guessNavFrame).c,minMax.min,minMax.max));boundLeft=overflowFLAG&&(options.keep&&slideNavShaft.l?slideNavShaft.l:minMaxLimit((options.coo||measures.nw/2)-getNavFrameBounds($guessNavFrame).c,minMax.min,minMax.max));l=opts.navdir===\"vertical\"?boundTop:boundLeft;pos=overflowFLAG&&minMaxLimit(l,navShaftTouchTail.min,navShaftTouchTail.max)||0;time=options.time*1.1;slide($navShaft,{time:time,pos:pos,direction:opts.navdir,onEnd:function(){thumbsDraw(pos,true);thumbArrUpdate()}});setShadow($nav,findShadowEdge(pos,navShaftTouchTail.min,navShaftTouchTail.max,opts.navdir));slideNavShaft.l=l}else{x=readPosition($navShaft,opts.navdir);time=options.time*1.11;pos=validateSlidePos(opts,navShaftTouchTail,options.guessIndex,x,$guessNavFrame,$navWrap,opts.navdir);slide($navShaft,{time:time,pos:pos,direction:opts.navdir,onEnd:function(){thumbsDraw(pos,true);thumbArrUpdate()}});setShadow($nav,findShadowEdge(pos,navShaftTouchTail.min,navShaftTouchTail.max,opts.navdir))}}}function navUpdate(){deactivateFrames(navFrameKey);toDeactivate[navFrameKey].push(activeFrame[navFrameKey].addClass(activeClass).attr(\"data-active\",true))}function deactivateFrames(key){var _toDeactivate=toDeactivate[key];while(_toDeactivate.length){_toDeactivate.shift().removeClass(activeClass).attr(\"data-active\",false)}}function detachFrames(key){var _toDetach=toDetach[key];$.each(activeIndexes,function(i,index){delete _toDetach[normalizeIndex(index)]});$.each(_toDetach,function(index,$frame){delete _toDetach[index];$frame.detach()})}function stageShaftReposition(skipOnEnd){repositionIndex=dirtyIndex=activeIndex;var $frame=activeFrame[STAGE_FRAME_KEY];if($frame){deactivateFrames(STAGE_FRAME_KEY);toDeactivate[STAGE_FRAME_KEY].push($frame.addClass(activeClass).attr(\"data-active\",true));if($frame.hasClass(stageFrameClass)){$frame.attr(\"aria-hidden\",\"false\")}skipOnEnd||that.showStage.onEnd(true);stop($stageShaft,0,true);detachFrames(STAGE_FRAME_KEY);stageFramePosition(activeIndexes);setStageShaftMinmaxAndSnap();setNavShaftMinMax();addEnterUp($stageShaft[0],function(){if(!$fotorama.hasClass(fullscreenClass)){that.requestFullScreen();$fullscreenIcon.focus()}})}}function extendMeasures(options,measuresArray){if(!options)return;$.each(measuresArray,function(i,measures){if(!measures)return;$.extend(measures,{width:options.width||measures.width,height:options.height,minwidth:options.minwidth,maxwidth:options.maxwidth,minheight:options.minheight,maxheight:options.maxheight,ratio:getRatio(options.ratio)})})}function triggerEvent(event,extra){$fotorama.trigger(_fotoramaClass+\":\"+event,[that,extra])}function onTouchStart(){clearTimeout(onTouchEnd.t);touchedFLAG=1;if(opts.stopautoplayontouch){that.stopAutoplay()}else{pausedAutoplayFLAG=true}}function onTouchEnd(){if(!touchedFLAG)return;if(!opts.stopautoplayontouch){releaseAutoplay();changeAutoplay()}onTouchEnd.t=setTimeout(function(){touchedFLAG=0},TRANSITION_DURATION+TOUCH_TIMEOUT)}function releaseAutoplay(){pausedAutoplayFLAG=!!($videoPlaying||stoppedAutoplayFLAG)}function changeAutoplay(){clearTimeout(changeAutoplay.t);waitFor.stop(changeAutoplay.w);if(!opts.autoplay||pausedAutoplayFLAG){if(that.autoplay){that.autoplay=false;triggerEvent(\"stopautoplay\")}return}if(!that.autoplay){that.autoplay=true;triggerEvent(\"startautoplay\")}var _activeIndex=activeIndex;var frameData=activeFrame[STAGE_FRAME_KEY].data();changeAutoplay.w=waitFor(function(){return frameData.state||_activeIndex!==activeIndex},function(){changeAutoplay.t=setTimeout(function(){if(pausedAutoplayFLAG||_activeIndex!==activeIndex)return;var _nextAutoplayIndex=nextAutoplayIndex,nextFrameData=data[_nextAutoplayIndex][STAGE_FRAME_KEY].data();changeAutoplay.w=waitFor(function(){return nextFrameData.state||_nextAutoplayIndex!==nextAutoplayIndex},function(){if(pausedAutoplayFLAG||_nextAutoplayIndex!==nextAutoplayIndex)return;that.show(o_loop?getDirectionSign(!o_rtl):nextAutoplayIndex)})},opts.autoplay)})}that.startAutoplay=function(interval){if(that.autoplay)return this;pausedAutoplayFLAG=stoppedAutoplayFLAG=false;setAutoplayInterval(interval||opts.autoplay);changeAutoplay();return this};that.stopAutoplay=function(){if(that.autoplay){pausedAutoplayFLAG=stoppedAutoplayFLAG=true;changeAutoplay()}return this};that.showSlide=function(slideDir){var currentPosition=readPosition($navShaft,opts.navdir),pos,time=500*1.1,size=opts.navdir===\"horizontal\"?opts.thumbwidth:opts.thumbheight,onEnd=function(){thumbArrUpdate()};if(slideDir===\"next\"){pos=currentPosition-(size+opts.margin)*thumbsPerSlide}if(slideDir===\"prev\"){pos=currentPosition+(size+opts.margin)*thumbsPerSlide}pos=validateRestrictions(pos,navShaftTouchTail);thumbsDraw(pos,true);slide($navShaft,{time:time,pos:pos,direction:opts.navdir,onEnd:onEnd})};that.showWhileLongPress=function(options){if(that.longPress.singlePressInProgress){return}var index=calcActiveIndex(options);calcGlobalIndexes(index);var time=calcTime(options)/50;var _activeFrame=activeFrame;that.activeFrame=activeFrame=data[activeIndex];var silent=_activeFrame===activeFrame&&!options.user;that.showNav(silent,options,time);return this};that.showEndLongPress=function(options){if(that.longPress.singlePressInProgress){return}var index=calcActiveIndex(options);calcGlobalIndexes(index);var time=calcTime(options)/50;var _activeFrame=activeFrame;that.activeFrame=activeFrame=data[activeIndex];var silent=_activeFrame===activeFrame&&!options.user;that.showStage(silent,options,time);showedFLAG=typeof lastActiveIndex!==\"undefined\"&&lastActiveIndex!==activeIndex;lastActiveIndex=activeIndex;return this};function calcActiveIndex(options){var index;if(typeof options!==\"object\"){index=options;options={}}else{index=options.index}index=index===\">\"?dirtyIndex+1:index===\"<\"?dirtyIndex-1:index===\"<<\"?0:index===\">>\"?size-1:index;index=isNaN(index)?undefined:index;index=typeof index===\"undefined\"?activeIndex||0:index;return index}function calcGlobalIndexes(index){that.activeIndex=activeIndex=edgeIndex(index);prevIndex=getPrevIndex(activeIndex);nextIndex=getNextIndex(activeIndex);nextAutoplayIndex=normalizeIndex(activeIndex+(o_rtl?-1:1));activeIndexes=[activeIndex,prevIndex,nextIndex];dirtyIndex=o_loop?index:activeIndex}function calcTime(options){var diffIndex=Math.abs(lastActiveIndex-dirtyIndex),time=getNumber(options.time,function(){return Math.min(o_transitionDuration*(1+(diffIndex-1)/12),o_transitionDuration*2)});if(options.slow){time*=10}return time}that.showStage=function(silent,options,time){unloadVideo($videoPlaying,activeFrame.i!==data[normalizeIndex(repositionIndex)].i);frameDraw(activeIndexes,\"stage\");stageFramePosition(SLOW?[dirtyIndex]:[dirtyIndex,getPrevIndex(dirtyIndex),getNextIndex(dirtyIndex)]);updateTouchTails(\"go\",true);silent||triggerEvent(\"show\",{user:options.user,time:time});pausedAutoplayFLAG=true;var overPos=options.overPos;var onEnd=that.showStage.onEnd=function(skipReposition){if(onEnd.ok)return;onEnd.ok=true;skipReposition||stageShaftReposition(true);if(!silent){triggerEvent(\"showend\",{user:options.user})}if(!skipReposition&&o_transition&&o_transition!==opts.transition){that.setOptions({transition:o_transition});o_transition=false;return}updateFotoramaState();loadImg(activeIndexes,\"stage\");updateTouchTails(\"go\",false);stageWheelUpdate();stageCursor();releaseAutoplay();changeAutoplay();if(that.fullScreen){activeFrame[STAGE_FRAME_KEY].find(\".\"+imgFullClass).attr(\"aria-hidden\",false);activeFrame[STAGE_FRAME_KEY].find(\".\"+imgClass).attr(\"aria-hidden\",true)}else{activeFrame[STAGE_FRAME_KEY].find(\".\"+imgFullClass).attr(\"aria-hidden\",true);activeFrame[STAGE_FRAME_KEY].find(\".\"+imgClass).attr(\"aria-hidden\",false)}};if(!o_fade){slide($stageShaft,{pos:-getPosByIndex(dirtyIndex,measures.w,opts.margin,repositionIndex),overPos:overPos,time:time,onEnd:onEnd})}else{var $activeFrame=activeFrame[STAGE_FRAME_KEY],$prevActiveFrame=data[lastActiveIndex]&&activeIndex!==lastActiveIndex?data[lastActiveIndex][STAGE_FRAME_KEY]:null;fade($activeFrame,$prevActiveFrame,$stageFrame,{time:time,method:opts.transition,onEnd:onEnd},fadeStack)}arrsUpdate()};that.showNav=function(silent,options,time){thumbArrUpdate();if(o_nav){navUpdate();var guessIndex=limitIndex(activeIndex+minMaxLimit(dirtyIndex-lastActiveIndex,-1,1));slideNavShaft({time:time,coo:guessIndex!==activeIndex&&options.coo,guessIndex:typeof options.coo!==\"undefined\"?guessIndex:activeIndex,keep:silent});if(o_navThumbs)slideThumbBorder(time)}};that.show=function(options){that.longPress.singlePressInProgress=true;var index=calcActiveIndex(options);calcGlobalIndexes(index);var time=calcTime(options);var _activeFrame=activeFrame;that.activeFrame=activeFrame=data[activeIndex];var silent=_activeFrame===activeFrame&&!options.user;that.showStage(silent,options,time);that.showNav(silent,options,time);showedFLAG=typeof lastActiveIndex!==\"undefined\"&&lastActiveIndex!==activeIndex;lastActiveIndex=activeIndex;that.longPress.singlePressInProgress=false;return this};that.requestFullScreen=function(){if(o_allowFullScreen&&!that.fullScreen){var isVideo=$((that.activeFrame||{}).$stageFrame||{}).hasClass(\"fotorama-video-container\");if(isVideo){return}scrollTop=$WINDOW.scrollTop();scrollLeft=$WINDOW.scrollLeft();lockScroll($WINDOW);updateTouchTails(\"x\",true);measuresStash=$.extend({},measures);$fotorama.addClass(fullscreenClass).appendTo($BODY.addClass(_fullscreenClass));$HTML.addClass(_fullscreenClass);unloadVideo($videoPlaying,true,true);that.fullScreen=true;if(o_nativeFullScreen){fullScreenApi.request(fotorama)}that.resize();loadImg(activeIndexes,\"stage\");updateFotoramaState();triggerEvent(\"fullscreenenter\");if(!(\"ontouchstart\"in window)){$fullscreenIcon.focus()}}return this};function cancelFullScreen(){if(that.fullScreen){that.fullScreen=false;if(FULLSCREEN){fullScreenApi.cancel(fotorama)}$BODY.removeClass(_fullscreenClass);$HTML.removeClass(_fullscreenClass);$fotorama.removeClass(fullscreenClass).insertAfter($anchor);measures=$.extend({},measuresStash);unloadVideo($videoPlaying,true,true);updateTouchTails(\"x\",false);that.resize();loadImg(activeIndexes,\"stage\");lockScroll($WINDOW,scrollLeft,scrollTop);triggerEvent(\"fullscreenexit\")}}that.cancelFullScreen=function(){if(o_nativeFullScreen&&fullScreenApi.is()){fullScreenApi.cancel(document)}else{cancelFullScreen()}return this};that.toggleFullScreen=function(){return that[(that.fullScreen?\"cancel\":\"request\")+\"FullScreen\"]()};that.resize=function(options){if(!data)return this;var time=arguments[1]||0,setFLAG=arguments[2];thumbsPerSlide=getThumbsInSlide($wrap,opts);extendMeasures(!that.fullScreen?optionsToLowerCase(options):{width:$(window).width(),maxwidth:null,minwidth:null,height:$(window).height(),maxheight:null,minheight:null},[measures,setFLAG||that.fullScreen||opts]);var width=measures.width,height=measures.height,ratio=measures.ratio,windowHeight=$WINDOW.height()-(o_nav?$nav.height():0);if(measureIsValid(width)){$wrap.css({width:\"\"});$wrap.css({height:\"\"});$stage.css({width:\"\"});$stage.css({height:\"\"});$stageShaft.css({width:\"\"});$stageShaft.css({height:\"\"});$nav.css({width:\"\"});$nav.css({height:\"\"});$wrap.css({minWidth:measures.minwidth||0,maxWidth:measures.maxwidth||MAX_WIDTH});if(o_nav===\"dots\"){$navWrap.hide()}width=measures.W=measures.w=$wrap.width();measures.nw=o_nav&&numberFromWhatever(opts.navwidth,width)||width;$stageShaft.css({width:measures.w,marginLeft:(measures.W-measures.w)/2});height=numberFromWhatever(height,windowHeight);height=height||ratio&&width/ratio;if(height){width=Math.round(width);height=measures.h=Math.round(minMaxLimit(height,numberFromWhatever(measures.minheight,windowHeight),numberFromWhatever(measures.maxheight,windowHeight)));$stage.css({width:width,height:height});if(opts.navdir===\"vertical\"&&!that.fullscreen){$nav.width(opts.thumbwidth+opts.thumbmargin*2)}if(opts.navdir===\"horizontal\"&&!that.fullscreen){$nav.height(opts.thumbheight+opts.thumbmargin*2)}if(o_nav===\"dots\"){$nav.width(width).height(\"auto\");$navWrap.show()}if(opts.navdir===\"vertical\"&&that.fullScreen){$stage.css(\"height\",$WINDOW.height())}if(opts.navdir===\"horizontal\"&&that.fullScreen){$stage.css(\"height\",$WINDOW.height()-$nav.height())}if(o_nav){switch(opts.navdir){case\"vertical\":$navWrap.removeClass(navShafthorizontalClass);$navWrap.removeClass(navShaftListClass);$navWrap.addClass(navShaftVerticalClass);$nav.stop().animate({height:measures.h,width:opts.thumbwidth},time);break;case\"list\":$navWrap.removeClass(navShaftVerticalClass);$navWrap.removeClass(navShafthorizontalClass);$navWrap.addClass(navShaftListClass);break;default:$navWrap.removeClass(navShaftVerticalClass);$navWrap.removeClass(navShaftListClass);$navWrap.addClass(navShafthorizontalClass);$nav.stop().animate({width:measures.nw},time);break}stageShaftReposition();slideNavShaft({guessIndex:activeIndex,time:time,keep:true});if(o_navThumbs&&frameAppend.nav)slideThumbBorder(time)}measuresSetFLAG=setFLAG||true;ready.ok=true;ready()}}stageLeft=$stage.offset().left;setStagePosition();return this};that.setOptions=function(options){$.extend(opts,options);reset();return this};that.shuffle=function(){data&&shuffle(data)&&reset();return this};function setShadow($el,edge){if(o_shadows){$el.removeClass(shadowsLeftClass+\" \"+shadowsRightClass);$el.removeClass(shadowsTopClass+\" \"+shadowsBottomClass);edge&&!$videoPlaying&&$el.addClass(edge.replace(/^|\\s/g,\" \"+shadowsClass+\"--\"))}}that.longPress={threshold:1,count:0,thumbSlideTime:20,progress:function(){if(!this.inProgress){this.count++;this.inProgress=this.count>this.threshold}},end:function(){if(this.inProgress){this.isEnded=true}},reset:function(){this.count=0;this.inProgress=false;this.isEnded=false}};that.destroy=function(){that.cancelFullScreen();that.stopAutoplay();data=that.data=null;appendElements();activeIndexes=[];detachFrames(STAGE_FRAME_KEY);reset.ok=false;return this};that.playVideo=function(){var dataFrame=activeFrame,video=dataFrame.video,_activeIndex=activeIndex;if(typeof video===\"object\"&&dataFrame.videoReady){o_nativeFullScreen&&that.fullScreen&&that.cancelFullScreen();waitFor(function(){return!fullScreenApi.is()||_activeIndex!==activeIndex},function(){if(_activeIndex===activeIndex){dataFrame.$video=dataFrame.$video||$(div(videoClass)).append(createVideoFrame(video));dataFrame.$video.appendTo(dataFrame[STAGE_FRAME_KEY]);$wrap.addClass(wrapVideoClass);$videoPlaying=dataFrame.$video;stageNoMove();$arrs.blur();$fullscreenIcon.blur();triggerEvent(\"loadvideo\")}})}return this};that.stopVideo=function(){unloadVideo($videoPlaying,true,true);return this};that.spliceByIndex=function(index,newImgObj){newImgObj.i=index+1;newImgObj.img&&$.ajax({url:newImgObj.img,type:\"HEAD\",success:function(){data.splice(index,1,newImgObj);reset()}})};function unloadVideo($video,unloadActiveFLAG,releaseAutoplayFLAG){if(unloadActiveFLAG){$wrap.removeClass(wrapVideoClass);$videoPlaying=false;stageNoMove()}if($video&&$video!==$videoPlaying){$video.remove();triggerEvent(\"unloadvideo\")}if(releaseAutoplayFLAG){releaseAutoplay();changeAutoplay()}}function toggleControlsClass(FLAG){$wrap.toggleClass(wrapNoControlsClass,FLAG)}function stageCursor(e){if(stageShaftTouchTail.flow)return;var x=e?e.pageX:stageCursor.x,pointerFLAG=x&&!disableDirrection(getDirection(x))&&opts.click;if(stageCursor.p!==pointerFLAG&&$stage.toggleClass(pointerClass,pointerFLAG)){stageCursor.p=pointerFLAG;stageCursor.x=x}}$stage.on(\"mousemove\",stageCursor);function clickToShow(showOptions){clearTimeout(clickToShow.t);if(opts.clicktransition&&opts.clicktransition!==opts.transition){setTimeout(function(){var _o_transition=opts.transition;that.setOptions({transition:opts.clicktransition});o_transition=_o_transition;clickToShow.t=setTimeout(function(){that.show(showOptions)},10)},0)}else{that.show(showOptions)}}function onStageTap(e,toggleControlsFLAG){var target=e.target,$target=$(target);if($target.hasClass(videoPlayClass)){that.playVideo()}else if(target===fullscreenIcon){that.toggleFullScreen()}else if($videoPlaying){target===videoClose&&unloadVideo($videoPlaying,true,true)}else if(!$fotorama.hasClass(fullscreenClass)){that.requestFullScreen()}}function updateTouchTails(key,value){stageShaftTouchTail[key]=navShaftTouchTail[key]=value}stageShaftTouchTail=moveOnTouch($stageShaft,{onStart:onTouchStart,onMove:function(e,result){setShadow($stage,result.edge)},onTouchEnd:onTouchEnd,onEnd:function(result){var toggleControlsFLAG;setShadow($stage);toggleControlsFLAG=(MS_POINTER&&!hoverFLAG||result.touch)&&opts.arrows;if((result.moved||toggleControlsFLAG&&result.pos!==result.newPos&&!result.control)&&result.$target[0]!==$fullscreenIcon[0]){var index=getIndexByPos(result.newPos,measures.w,opts.margin,repositionIndex);that.show({index:index,time:o_fade?o_transitionDuration:result.time,overPos:result.overPos,user:true})}else if(!result.aborted&&!result.control){onStageTap(result.startEvent,toggleControlsFLAG)}},timeLow:1,timeHigh:1,friction:2,select:\".\"+selectClass+\", .\"+selectClass+\" *\",$wrap:$stage,direction:\"horizontal\"});navShaftTouchTail=moveOnTouch($navShaft,{onStart:onTouchStart,onMove:function(e,result){setShadow($nav,result.edge)},onTouchEnd:onTouchEnd,onEnd:function(result){function onEnd(){slideNavShaft.l=result.newPos;releaseAutoplay();changeAutoplay();thumbsDraw(result.newPos,true);thumbArrUpdate()}if(!result.moved){var target=result.$target.closest(\".\"+navFrameClass,$navShaft)[0];target&&onNavFrameClick.call(target,result.startEvent)}else if(result.pos!==result.newPos){pausedAutoplayFLAG=true;slide($navShaft,{time:result.time,pos:result.newPos,overPos:result.overPos,direction:opts.navdir,onEnd:onEnd});thumbsDraw(result.newPos);o_shadows&&setShadow($nav,findShadowEdge(result.newPos,navShaftTouchTail.min,navShaftTouchTail.max,result.dir))}else{onEnd()}},timeLow:.5,timeHigh:2,friction:5,$wrap:$nav,direction:opts.navdir});stageWheelTail=wheel($stage,{shift:true,onEnd:function(e,direction){onTouchStart();onTouchEnd();that.show({index:direction,slow:e.altKey})}});navWheelTail=wheel($nav,{onEnd:function(e,direction){onTouchStart();onTouchEnd();var newPos=stop($navShaft)+direction*.25;$navShaft.css(getTranslate(minMaxLimit(newPos,navShaftTouchTail.min,navShaftTouchTail.max),opts.navdir));o_shadows&&setShadow($nav,findShadowEdge(newPos,navShaftTouchTail.min,navShaftTouchTail.max,opts.navdir));navWheelTail.prevent={\"<\":newPos>=navShaftTouchTail.max,\">\":newPos<=navShaftTouchTail.min};clearTimeout(navWheelTail.t);navWheelTail.t=setTimeout(function(){slideNavShaft.l=newPos;thumbsDraw(newPos,true)},TOUCH_TIMEOUT);thumbsDraw(newPos)}});$wrap.hover(function(){setTimeout(function(){if(touchedFLAG)return;toggleControlsClass(!(hoverFLAG=true))},0)},function(){if(!hoverFLAG)return;toggleControlsClass(!(hoverFLAG=false))});function onNavFrameClick(e){var index=$(this).data().eq;if(opts.navtype===\"thumbs\"){clickToShow({index:index,slow:e.altKey,user:true,coo:e._x-$nav.offset().left})}else{clickToShow({index:index,slow:e.altKey,user:true})}}function onArrClick(e){clickToShow({index:$arrs.index(this)?\">\":\"<\",slow:e.altKey,user:true})}smartClick($arrs,function(e){stopEvent(e);onArrClick.call(this,e)},{onStart:function(){onTouchStart();stageShaftTouchTail.control=true},onTouchEnd:onTouchEnd});smartClick($thumbArrLeft,function(e){stopEvent(e);if(opts.navtype===\"thumbs\"){that.show(\"<\")}else{that.showSlide(\"prev\")}});smartClick($thumbArrRight,function(e){stopEvent(e);if(opts.navtype===\"thumbs\"){that.show(\">\")}else{that.showSlide(\"next\")}});function addFocusOnControls(el){addFocus(el,function(){setTimeout(function(){lockScroll($stage)},0);toggleControlsClass(false)})}$arrs.each(function(){addEnterUp(this,function(e){onArrClick.call(this,e)});addFocusOnControls(this)});addEnterUp(fullscreenIcon,function(){if($fotorama.hasClass(fullscreenClass)){that.cancelFullScreen();$stageShaft.focus()}else{that.requestFullScreen();$fullscreenIcon.focus()}});addFocusOnControls(fullscreenIcon);function reset(){setData();setOptions();if(!reset.i){reset.i=true;var _startindex=opts.startindex;activeIndex=repositionIndex=dirtyIndex=lastActiveIndex=startIndex=edgeIndex(_startindex)||0}if(size){if(changeToRtl())return;if($videoPlaying){unloadVideo($videoPlaying,true)}activeIndexes=[];detachFrames(STAGE_FRAME_KEY);reset.ok=true;that.show({index:activeIndex,time:0});that.resize()}else{that.destroy()}}function changeToRtl(){if(!changeToRtl.f===o_rtl){changeToRtl.f=o_rtl;activeIndex=size-1-activeIndex;that.reverse();return true}}$.each(\"load push pop shift unshift reverse sort splice\".split(\" \"),function(i,method){that[method]=function(){data=data||[];if(method!==\"load\"){Array.prototype[method].apply(data,arguments)}else if(arguments[0]&&typeof arguments[0]===\"object\"&&arguments[0].length){data=clone(arguments[0])}reset();return that}});function ready(){if(ready.ok){ready.ok=false;triggerEvent(\"ready\")}}reset()};$.fn.fotorama=function(opts){return this.each(function(){var that=this,$fotorama=$(this),fotoramaData=$fotorama.data(),fotorama=fotoramaData.fotorama;if(!fotorama){waitFor(function(){return!isHidden(that)},function(){fotoramaData.urtext=$fotorama.html();new $.Fotorama($fotorama,$.extend({},OPTIONS,window.fotoramaDefaults,opts,fotoramaData))})}else{fotorama.setOptions(opts,true)}})};$.Fotorama.instances=[];function calculateIndexes(){$.each($.Fotorama.instances,function(index,instance){instance.index=index})}function addInstance(instance){$.Fotorama.instances.push(instance);calculateIndexes()}function hideInstance(instance){$.Fotorama.instances.splice(instance.index,1);calculateIndexes()}$.Fotorama.cache={};$.Fotorama.measures={};$=$||{};$.Fotorama=$.Fotorama||{};$.Fotorama.jst=$.Fotorama.jst||{};$.Fotorama.jst.dots=function(v){var __t,__p=\"\",__e=_.escape;__p+='<div class=\"fotorama__nav__frame fotorama__nav__frame--dot\" tabindex=\"0\" role=\"button\" data-gallery-role=\"nav-frame\" data-nav-type=\"thumb\" aria-label>\\r\\n    <div class=\"fotorama__dot\"></div>\\r\\n</div>';return __p};$.Fotorama.jst.frameCaption=function(v){var __t,__p=\"\",__e=_.escape;__p+='<div class=\"fotorama__caption\" aria-hidden=\"true\">\\r\\n    <div class=\"fotorama__caption__wrap\" id=\"'+((__t=v.labelledby)==null?\"\":__t)+'\">'+((__t=v.caption)==null?\"\":__t)+\"</div>\\r\\n</div>\\r\\n\";return __p};$.Fotorama.jst.style=function(v){var __t,__p=\"\",__e=_.escape;__p+=\".fotorama\"+((__t=v.s)==null?\"\":__t)+\" .fotorama__nav--thumbs .fotorama__nav__frame{\\r\\npadding:\"+((__t=v.m)==null?\"\":__t)+\"px;\\r\\nheight:\"+((__t=v.h)==null?\"\":__t)+\"px}\\r\\n.fotorama\"+((__t=v.s)==null?\"\":__t)+\" .fotorama__thumb-border{\\r\\nheight:\"+((__t=v.h)==null?\"\":__t)+\"px;\\r\\nborder-width:\"+((__t=v.b)==null?\"\":__t)+\"px;\\r\\nmargin-top:\"+((__t=v.m)==null?\"\":__t)+\"px}\";return __p};$.Fotorama.jst.thumb=function(v){var __t,__p=\"\",__e=_.escape;__p+='<div class=\"fotorama__nav__frame fotorama__nav__frame--thumb\" tabindex=\"0\" role=\"button\" data-gallery-role=\"nav-frame\" data-nav-type=\"thumb\" aria-label>\\r\\n    <div class=\"fotorama__thumb\">\\r\\n    </div>\\r\\n</div>';return __p}})(window,document,location,typeof jQuery!==\"undefined\"&&jQuery);","Magento_Usps/js/model/shipping-rates-validation-rules.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([], function () {\n    'use strict';\n\n    return {\n        /**\n         * @return {Object}\n         */\n        getRules: function () {\n            return {\n                'country_id': {\n                    'required': true\n                },\n                'postcode': {\n                    'required': false\n                }\n            };\n        }\n    };\n});\n","Magento_Usps/js/model/shipping-rates-validator.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'mageUtils',\n    './shipping-rates-validation-rules',\n    'mage/translate'\n], function ($, utils, validationRules, $t) {\n    'use strict';\n\n    var checkoutConfig = window.checkoutConfig;\n\n    return {\n        validationErrors: [],\n\n        /**\n         * @param {Object} address\n         * @return {Boolean}\n         */\n        validate: function (address) {\n            var rules = validationRules.getRules(),\n                self = this;\n\n            $.each(rules, function (field, rule) {\n                var message;\n\n                if (rule.required && utils.isEmpty(address[field])) {\n                    message = $t('Field ') + field + $t(' is required.');\n                    self.validationErrors.push(message);\n                }\n            });\n\n            if (!this.validationErrors.length) {\n                if (address['country_id'] == checkoutConfig.originCountryCode) { //eslint-disable-line eqeqeq\n                    return !utils.isEmpty(address.postcode);\n                }\n\n                return true;\n            }\n\n            return false;\n        }\n    };\n});\n","Magento_Usps/js/view/shipping-rates-validation.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'uiComponent',\n    'Magento_Checkout/js/model/shipping-rates-validator',\n    'Magento_Checkout/js/model/shipping-rates-validation-rules',\n    '../model/shipping-rates-validator',\n    '../model/shipping-rates-validation-rules'\n], function (\n    Component,\n    defaultShippingRatesValidator,\n    defaultShippingRatesValidationRules,\n    uspsShippingRatesValidator,\n    uspsShippingRatesValidationRules\n) {\n    'use strict';\n\n    defaultShippingRatesValidator.registerValidator('usps', uspsShippingRatesValidator);\n    defaultShippingRatesValidationRules.registerRules('usps', uspsShippingRatesValidationRules);\n\n    return Component;\n});\n","Redgiant_Berserk/js/ev-emitter.js":"/**\n * EvEmitter v1.0.1\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( this, function() {\n\n\"use strict\";\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners array\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || [];\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var i = 0;\n  var listener = listeners[i];\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  while ( listener ) {\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n    // get next listener\n    i += isOnce ? 0 : 1;\n    listener = listeners[i];\n  }\n\n  return this;\n};\n\nreturn EvEmitter;\n\n}));\n","Redgiant_Berserk/js/jquery.bridget.js":"/**\n * Bridget makes jQuery widgets\n * v1.0.1\n */\n\n( function( window ) {\n\n'use strict';\n\n// -------------------------- utils -------------------------- //\n\nvar slice = Array.prototype.slice;\n\nfunction noop() {}\n\n// -------------------------- definition -------------------------- //\n\nfunction defineBridget( $ ) {\n\n// bail if no jQuery\nif ( !$ ) {\n  return;\n}\n\n// -------------------------- addOptionMethod -------------------------- //\n\n/**\n * adds option method -> $().plugin('option', {...})\n * @param {Function} PluginClass - constructor class\n */\nfunction addOptionMethod( PluginClass ) {\n  // don't overwrite original option method\n  if(typeof PluginClass === \"function\"){\n      if ( PluginClass.prototype.option ) {\n        return;\n      }\n\n      // option setter\n      PluginClass.prototype.option = function( opts ) {\n        // bail out if not an object\n        if ( !$.isPlainObject( opts ) ){\n          return;\n        }\n        this.options = $.extend( true, this.options, opts );\n      };\n  } else {\n      return;\n  }\n}\n\n\n// -------------------------- plugin bridge -------------------------- //\n\n// helper function for logging errors\n// $.error breaks jQuery chaining\nvar logError = typeof console === 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n/**\n * jQuery plugin bridge, access methods like $elem.plugin('method')\n * @param {String} namespace - plugin name\n * @param {Function} PluginClass - constructor class\n */\nfunction bridge( namespace, PluginClass ) {\n  // add to jQuery fn namespace\n  $.fn[ namespace ] = function( options ) {\n    if ( typeof options === 'string' ) {\n      // call plugin method when first argument is a string\n      // get arguments for method\n      var args = slice.call( arguments, 1 );\n\n      for ( var i=0, len = this.length; i < len; i++ ) {\n        var elem = this[i];\n        var instance = $.data( elem, namespace );\n        if ( !instance ) {\n          logError( \"cannot call methods on \" + namespace + \" prior to initialization; \" +\n            \"attempted to call '\" + options + \"'\" );\n          continue;\n        }\n        if ( !$.isFunction( instance[options] ) || options.charAt(0) === '_' ) {\n          logError( \"no such method '\" + options + \"' for \" + namespace + \" instance\" );\n          continue;\n        }\n\n        // trigger method with arguments\n        var returnValue = instance[ options ].apply( instance, args );\n\n        // break look and return first value if provided\n        if ( returnValue !== undefined ) {\n          return returnValue;\n        }\n      }\n      // return this if no return value\n      return this;\n    } else {\n      return this.each( function() {\n        var instance = $.data( this, namespace );\n        if ( instance ) {\n          // apply options & init\n          instance.option( options );\n          instance._init();\n        } else {\n          // initialize new instance\n          instance = new PluginClass( this, options );\n          $.data( this, namespace, instance );\n        }\n      });\n    }\n  };\n\n}\n\n// -------------------------- bridget -------------------------- //\n\n/**\n * converts a Prototypical class into a proper jQuery plugin\n *   the class must have a ._init method\n * @param {String} namespace - plugin name, used in $().pluginName\n * @param {Function} PluginClass - constructor class\n */\n$.bridget = function( namespace, PluginClass ) {\n  addOptionMethod( PluginClass );\n  bridge( namespace, PluginClass );\n};\n\nreturn $.bridget;\n\n}\n\n// transport\nif ( typeof define === 'function' && define.amd ) {\n  // AMD\n  define( [ 'jquery' ], defineBridget );\n} else {\n  // get jquery from browser global\n  defineBridget( window.jQuery );\n}\n\n})( window );\n","Redgiant_Berserk/js/packery.pkgd.js":"/*!\n * Packery PACKAGED v1.4.3\n * bin-packing layout library\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * http://packery.metafizzy.co\n * Copyright 2015 Metafizzy\n */\n\n/**\n * Bridget makes jQuery widgets\n * v1.1.0\n * MIT license\n */\n\n( function( window ) {\n\n\n\n// -------------------------- utils -------------------------- //\n\nvar slice = Array.prototype.slice;\n\nfunction noop() {}\n\n// -------------------------- definition -------------------------- //\n\nfunction defineBridget( $ ) {\n\n// bail if no jQuery\nif ( !$ ) {\n  return;\n}\n\n// -------------------------- addOptionMethod -------------------------- //\n\n/**\n * adds option method -> $().plugin('option', {...})\n * @param {Function} PluginClass - constructor class\n */\nfunction addOptionMethod( PluginClass ) {\n  // don't overwrite original option method\n  if ( PluginClass.prototype.option ) {\n    return;\n  }\n\n  // option setter\n  PluginClass.prototype.option = function( opts ) {\n    // bail out if not an object\n    if ( !$.isPlainObject( opts ) ){\n      return;\n    }\n    this.options = $.extend( true, this.options, opts );\n  };\n}\n\n// -------------------------- plugin bridge -------------------------- //\n\n// helper function for logging errors\n// $.error breaks jQuery chaining\nvar logError = typeof console === 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n/**\n * jQuery plugin bridge, access methods like $elem.plugin('method')\n * @param {String} namespace - plugin name\n * @param {Function} PluginClass - constructor class\n */\nfunction bridge( namespace, PluginClass ) {\n  // add to jQuery fn namespace\n  $.fn[ namespace ] = function( options ) {\n    if ( typeof options === 'string' ) {\n      // call plugin method when first argument is a string\n      // get arguments for method\n      var args = slice.call( arguments, 1 );\n\n      for ( var i=0, len = this.length; i < len; i++ ) {\n        var elem = this[i];\n        var instance = $.data( elem, namespace );\n        if ( !instance ) {\n          logError( \"cannot call methods on \" + namespace + \" prior to initialization; \" +\n            \"attempted to call '\" + options + \"'\" );\n          continue;\n        }\n        if ( !$.isFunction( instance[options] ) || options.charAt(0) === '_' ) {\n          logError( \"no such method '\" + options + \"' for \" + namespace + \" instance\" );\n          continue;\n        }\n\n        // trigger method with arguments\n        var returnValue = instance[ options ].apply( instance, args );\n\n        // break look and return first value if provided\n        if ( returnValue !== undefined ) {\n          return returnValue;\n        }\n      }\n      // return this if no return value\n      return this;\n    } else {\n      return this.each( function() {\n        var instance = $.data( this, namespace );\n        if ( instance ) {\n          // apply options & init\n          instance.option( options );\n          instance._init();\n        } else {\n          // initialize new instance\n          instance = new PluginClass( this, options );\n          $.data( this, namespace, instance );\n        }\n      });\n    }\n  };\n\n}\n\n// -------------------------- bridget -------------------------- //\n\n/**\n * converts a Prototypical class into a proper jQuery plugin\n *   the class must have a ._init method\n * @param {String} namespace - plugin name, used in $().pluginName\n * @param {Function} PluginClass - constructor class\n */\n$.bridget = function( namespace, PluginClass ) {\n  addOptionMethod( PluginClass );\n  bridge( namespace, PluginClass );\n};\n\nreturn $.bridget;\n\n}\n\n// transport\nif ( typeof define === 'function' && define.amd ) {\n  // AMD\n  define( 'jquery-bridget/jquery.bridget',[ 'jquery' ], defineBridget );\n} else if ( typeof exports === 'object' ) {\n  defineBridget( require('jquery') );\n} else {\n  // get jquery from browser global\n  defineBridget( window.jQuery );\n}\ndefineBridget( window.jQuery );\n})( window );\n\n/*!\n * classie v1.0.1\n * class helper functions\n * from bonzo https://github.com/ded/bonzo\n * MIT license\n * \n * classie.has( elem, 'my-class' ) -> true/false\n * classie.add( elem, 'my-new-class' )\n * classie.remove( elem, 'my-unwanted-class' )\n * classie.toggle( elem, 'my-class' )\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n/*global define: false, module: false */\n\n( function( window ) {\n\n\n\n// class helper functions from bonzo https://github.com/ded/bonzo\n\nfunction classReg( className ) {\n  return new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\");\n}\n\n// classList support for class management\n// altho to be fair, the api sucks because it won't accept multiple classes at once\nvar hasClass, addClass, removeClass;\n\nif ( 'classList' in document.documentElement ) {\n  hasClass = function( elem, c ) {\n    return elem.classList.contains( c );\n  };\n  addClass = function( elem, c ) {\n    elem.classList.add( c );\n  };\n  removeClass = function( elem, c ) {\n    elem.classList.remove( c );\n  };\n}\nelse {\n  hasClass = function( elem, c ) {\n    return classReg( c ).test( elem.className );\n  };\n  addClass = function( elem, c ) {\n    if ( !hasClass( elem, c ) ) {\n      elem.className = elem.className + ' ' + c;\n    }\n  };\n  removeClass = function( elem, c ) {\n    elem.className = elem.className.replace( classReg( c ), ' ' );\n  };\n}\n\nfunction toggleClass( elem, c ) {\n  var fn = hasClass( elem, c ) ? removeClass : addClass;\n  fn( elem, c );\n}\n\nvar classie = {\n  // full names\n  hasClass: hasClass,\n  addClass: addClass,\n  removeClass: removeClass,\n  toggleClass: toggleClass,\n  // short names\n  has: hasClass,\n  add: addClass,\n  remove: removeClass,\n  toggle: toggleClass\n};\n\n// transport\nif ( typeof define === 'function' && define.amd ) {\n  // AMD\n  define( 'classie/classie',classie );\n} else if ( typeof exports === 'object' ) {\n  // CommonJS\n  module.exports = classie;\n} else {\n  // browser global\n  window.classie = classie;\n}\n\n})( window );\n\n/*!\n * getStyleProperty v1.0.4\n * original by kangax\n * http://perfectionkills.com/feature-testing-css-properties/\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true */\n/*global define: false, exports: false, module: false */\n\n( function( window ) {\n\n\n\nvar prefixes = 'Webkit Moz ms Ms O'.split(' ');\nvar docElemStyle = document.documentElement.style;\n\nfunction getStyleProperty( propName ) {\n  if ( !propName ) {\n    return;\n  }\n\n  // test standard property first\n  if ( typeof docElemStyle[ propName ] === 'string' ) {\n    return propName;\n  }\n\n  // capitalize\n  propName = propName.charAt(0).toUpperCase() + propName.slice(1);\n\n  // test vendor specific properties\n  var prefixed;\n  for ( var i=0, len = prefixes.length; i < len; i++ ) {\n    prefixed = prefixes[i] + propName;\n    if ( typeof docElemStyle[ prefixed ] === 'string' ) {\n      return prefixed;\n    }\n  }\n}\n\n// transport\nif ( typeof define === 'function' && define.amd ) {\n  // AMD\n  define( 'get-style-property/get-style-property',[],function() {\n    return getStyleProperty;\n  });\n} else if ( typeof exports === 'object' ) {\n  // CommonJS for Component\n  module.exports = getStyleProperty;\n} else {\n  // browser global\n  window.getStyleProperty = getStyleProperty;\n}\n\n})( window );\n\n/*!\n * getSize v1.2.2\n * measure size of elements\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n/*global define: false, exports: false, require: false, module: false, console: false */\n\n( function( window, undefined ) {\n\n\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') === -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console === 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0, len = measurements.length; i < len; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n\n\nfunction defineGetSize( getStyleProperty ) {\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar getStyle, boxSizingProp, isBoxSizeOuter;\n\n/**\n * setup vars and functions\n * do it on initial getSize(), rather than on script load\n * For Firefox bug https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  var getComputedStyle = window.getComputedStyle;\n  getStyle = ( function() {\n    var getStyleFn = getComputedStyle ?\n      function( elem ) {\n        return getComputedStyle( elem, null );\n      } :\n      function( elem ) {\n        return elem.currentStyle;\n      };\n\n      return function getStyle( elem ) {\n        var style = getStyleFn( elem );\n        if ( !style ) {\n          logError( 'Style returned ' + style +\n            '. Are you running this code in a hidden iframe on Firefox? ' +\n            'See http://bit.ly/getsizebug1' );\n        }\n        return style;\n      };\n  })();\n\n  // -------------------------- box sizing -------------------------- //\n\n  boxSizingProp = getStyleProperty('boxSizing');\n\n  /**\n   * WebKit measures the outer-width on style.width on border-box elems\n   * IE & Firefox measures the inner-width\n   */\n  if ( boxSizingProp ) {\n    var div = document.createElement('div');\n    div.style.width = '200px';\n    div.style.padding = '1px 2px 3px 4px';\n    div.style.borderStyle = 'solid';\n    div.style.borderWidth = '1px 2px 3px 4px';\n    div.style[ boxSizingProp ] = 'border-box';\n\n    var body = document.body || document.documentElement;\n    body.appendChild( div );\n    var style = getStyle( div );\n\n    isBoxSizeOuter = getStyleSize( style.width ) === 200;\n    body.removeChild( div );\n  }\n\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem === 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem !== 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display === 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = !!( boxSizingProp &&\n    style[ boxSizingProp ] && style[ boxSizingProp ] === 'border-box' );\n\n  // get all measurements\n  for ( var i=0, len = measurements.length; i < len; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    value = mungeNonPixel( elem, value );\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\n// IE8 returns percent values, not pixels\n// taken from jQuery's curCSS\nfunction mungeNonPixel( elem, value ) {\n  // IE8 and has percent value\n  if ( window.getComputedStyle || value.indexOf('%') === -1 ) {\n    return value;\n  }\n  var style = elem.style;\n  // Remember the original values\n  var left = style.left;\n  var rs = elem.runtimeStyle;\n  var rsLeft = rs && rs.left;\n\n  // Put in the new values to get a computed value out\n  if ( rsLeft ) {\n    rs.left = elem.currentStyle.left;\n  }\n  style.left = value;\n  value = style.pixelLeft;\n\n  // Revert the changed values\n  style.left = left;\n  if ( rsLeft ) {\n    rs.left = rsLeft;\n  }\n\n  return value;\n}\n\nreturn getSize;\n\n}\n\n// transport\nif ( typeof define === 'function' && define.amd ) {\n  // AMD for RequireJS\n  define( 'get-size/get-size',[ 'get-style-property/get-style-property' ], defineGetSize );\n} else if ( typeof exports === 'object' ) {\n  // CommonJS for Component\n  module.exports = defineGetSize( require('desandro-get-style-property') );\n} else {\n  // browser global\n  window.getSize = defineGetSize( window.getStyleProperty );\n}\n\n})( window );\n\n/*!\n * eventie v1.0.6\n * event binding helper\n *   eventie.bind( elem, 'click', myFn )\n *   eventie.unbind( elem, 'click', myFn )\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true */\n/*global define: false, module: false */\n\n( function( window ) {\n\n\n\nvar docElem = document.documentElement;\n\nvar bind = function() {};\n\nfunction getIEEvent( obj ) {\n  var event = window.event;\n  // add event.target\n  event.target = event.target || event.srcElement || obj;\n  return event;\n}\n\nif ( docElem.addEventListener ) {\n  bind = function( obj, type, fn ) {\n    obj.addEventListener( type, fn, false );\n  };\n} else if ( docElem.attachEvent ) {\n  bind = function( obj, type, fn ) {\n    obj[ type + fn ] = fn.handleEvent ?\n      function() {\n        var event = getIEEvent( obj );\n        fn.handleEvent.call( fn, event );\n      } :\n      function() {\n        var event = getIEEvent( obj );\n        fn.call( obj, event );\n      };\n    obj.attachEvent( \"on\" + type, obj[ type + fn ] );\n  };\n}\n\nvar unbind = function() {};\n\nif ( docElem.removeEventListener ) {\n  unbind = function( obj, type, fn ) {\n    obj.removeEventListener( type, fn, false );\n  };\n} else if ( docElem.detachEvent ) {\n  unbind = function( obj, type, fn ) {\n    obj.detachEvent( \"on\" + type, obj[ type + fn ] );\n    try {\n      delete obj[ type + fn ];\n    } catch ( err ) {\n      // can't delete window object properties\n      obj[ type + fn ] = undefined;\n    }\n  };\n}\n\nvar eventie = {\n  bind: bind,\n  unbind: unbind\n};\n\n// ----- module definition ----- //\n\nif ( typeof define === 'function' && define.amd ) {\n  // AMD\n  define( 'eventie/eventie',eventie );\n} else if ( typeof exports === 'object' ) {\n  // CommonJS\n  module.exports = eventie;\n} else {\n  // browser global\n  window.eventie = eventie;\n}\nwindow.eventie = eventie;\n})( window );\n\n/*!\n * EventEmitter v4.2.11 - git.io/ee\n * Unlicense - http://unlicense.org/\n * Oliver Caldwell - http://oli.me.uk/\n * @preserve\n */\n\n;(function () {\n    \n\n    /**\n     * Class for managing events.\n     * Can be extended to provide event functionality in other classes.\n     *\n     * @class EventEmitter Manages event registering and emitting.\n     */\n    function EventEmitter() {}\n\n    // Shortcuts to improve speed and size\n    var proto = EventEmitter.prototype;\n    var exports = this;\n    var originalGlobalValue = exports.EventEmitter;\n\n    /**\n     * Finds the index of the listener for the event in its storage array.\n     *\n     * @param {Function[]} listeners Array of listeners to search through.\n     * @param {Function} listener Method to look for.\n     * @return {Number} Index of the specified listener, -1 if not found\n     * @api private\n     */\n    function indexOfListener(listeners, listener) {\n        var i = listeners.length;\n        while (i--) {\n            if (listeners[i].listener === listener) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    /**\n     * Alias a method while keeping the context correct, to allow for overwriting of target method.\n     *\n     * @param {String} name The name of the target method.\n     * @return {Function} The aliased method\n     * @api private\n     */\n    function alias(name) {\n        return function aliasClosure() {\n            return this[name].apply(this, arguments);\n        };\n    }\n\n    /**\n     * Returns the listener array for the specified event.\n     * Will initialise the event object and listener arrays if required.\n     * Will return an object if you use a regex search. The object contains keys for each matched event. So /ba[rz]/ might return an object containing bar and baz. But only if you have either defined them with defineEvent or added some listeners to them.\n     * Each property in the object response is an array of listener functions.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Function[]|Object} All listener functions for the event.\n     */\n    proto.getListeners = function getListeners(evt) {\n        var events = this._getEvents();\n        var response;\n        var key;\n\n        // Return a concatenated array of all matching events if\n        // the selector is a regular expression.\n        if (evt instanceof RegExp) {\n            response = {};\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    response[key] = events[key];\n                }\n            }\n        }\n        else {\n            response = events[evt] || (events[evt] = []);\n        }\n\n        return response;\n    };\n\n    /**\n     * Takes a list of listener objects and flattens it into a list of listener functions.\n     *\n     * @param {Object[]} listeners Raw listener objects.\n     * @return {Function[]} Just the listener functions.\n     */\n    proto.flattenListeners = function flattenListeners(listeners) {\n        var flatListeners = [];\n        var i;\n\n        for (i = 0; i < listeners.length; i += 1) {\n            flatListeners.push(listeners[i].listener);\n        }\n\n        return flatListeners;\n    };\n\n    /**\n     * Fetches the requested listeners via getListeners but will always return the results inside an object. This is mainly for internal use but others may find it useful.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Object} All listener functions for an event in an object.\n     */\n    proto.getListenersAsObject = function getListenersAsObject(evt) {\n        var listeners = this.getListeners(evt);\n        var response;\n\n        if (listeners instanceof Array) {\n            response = {};\n            response[evt] = listeners;\n        }\n\n        return response || listeners;\n    };\n\n    /**\n     * Adds a listener function to the specified event.\n     * The listener will not be added if it is a duplicate.\n     * If the listener returns true then it will be removed after it is called.\n     * If you pass a regular expression as the event name then the listener will be added to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListener = function addListener(evt, listener) {\n        var listeners = this.getListenersAsObject(evt);\n        var listenerIsWrapped = typeof listener === 'object';\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key) && indexOfListener(listeners[key], listener) === -1) {\n                listeners[key].push(listenerIsWrapped ? listener : {\n                    listener: listener,\n                    once: false\n                });\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of addListener\n     */\n    proto.on = alias('addListener');\n\n    /**\n     * Semi-alias of addListener. It will add a listener that will be\n     * automatically removed after its first execution.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addOnceListener = function addOnceListener(evt, listener) {\n        return this.addListener(evt, {\n            listener: listener,\n            once: true\n        });\n    };\n\n    /**\n     * Alias of addOnceListener.\n     */\n    proto.once = alias('addOnceListener');\n\n    /**\n     * Defines an event name. This is required if you want to use a regex to add a listener to multiple events at once. If you don't do this then how do you expect it to know what event to add to? Should it just add to every possible match for a regex? No. That is scary and bad.\n     * You need to tell it what event names should be matched by a regex.\n     *\n     * @param {String} evt Name of the event to create.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvent = function defineEvent(evt) {\n        this.getListeners(evt);\n        return this;\n    };\n\n    /**\n     * Uses defineEvent to define multiple events.\n     *\n     * @param {String[]} evts An array of event names to define.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvents = function defineEvents(evts) {\n        for (var i = 0; i < evts.length; i += 1) {\n            this.defineEvent(evts[i]);\n        }\n        return this;\n    };\n\n    /**\n     * Removes a listener function from the specified event.\n     * When passed a regular expression as the event name, it will remove the listener from all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to remove the listener from.\n     * @param {Function} listener Method to remove from the event.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListener = function removeListener(evt, listener) {\n        var listeners = this.getListenersAsObject(evt);\n        var index;\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key)) {\n                index = indexOfListener(listeners[key], listener);\n\n                if (index !== -1) {\n                    listeners[key].splice(index, 1);\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeListener\n     */\n    proto.off = alias('removeListener');\n\n    /**\n     * Adds listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the second argument you can add to multiple events at once. The object should contain key value pairs of events and listeners or listener arrays. You can also pass it an event name and an array of listeners to be added.\n     * You can also pass it a regular expression to add the array of listeners to all events that match it.\n     * Yeah, this function does quite a bit. That's probably a bad thing.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add to multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListeners = function addListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(false, evt, listeners);\n    };\n\n    /**\n     * Removes listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the second argument you can remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be removed.\n     * You can also pass it a regular expression to remove the listeners from all events that match it.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListeners = function removeListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(true, evt, listeners);\n    };\n\n    /**\n     * Edits listeners in bulk. The addListeners and removeListeners methods both use this to do their job. You should really use those instead, this is a little lower level.\n     * The first argument will determine if the listeners are removed (true) or added (false).\n     * If you pass an object as the second argument you can add/remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be added/removed.\n     * You can also pass it a regular expression to manipulate the listeners of all events that match it.\n     *\n     * @param {Boolean} remove True if you want to remove listeners, false if you want to add.\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add/remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add/remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.manipulateListeners = function manipulateListeners(remove, evt, listeners) {\n        var i;\n        var value;\n        var single = remove ? this.removeListener : this.addListener;\n        var multiple = remove ? this.removeListeners : this.addListeners;\n\n        // If evt is an object then pass each of its properties to this method\n        if (typeof evt === 'object' && !(evt instanceof RegExp)) {\n            for (i in evt) {\n                if (evt.hasOwnProperty(i) && (value = evt[i])) {\n                    // Pass the single listener straight through to the singular method\n                    if (typeof value === 'function') {\n                        single.call(this, i, value);\n                    }\n                    else {\n                        // Otherwise pass back to the multiple function\n                        multiple.call(this, i, value);\n                    }\n                }\n            }\n        }\n        else {\n            // So evt must be a string\n            // And listeners must be an array of listeners\n            // Loop over it and pass each one to the multiple method\n            i = listeners.length;\n            while (i--) {\n                single.call(this, evt, listeners[i]);\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Removes all listeners from a specified event.\n     * If you do not specify an event then all listeners will be removed.\n     * That means every event will be emptied.\n     * You can also pass a regex to remove all events that match it.\n     *\n     * @param {String|RegExp} [evt] Optional name of the event to remove all listeners for. Will remove from every event if not passed.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeEvent = function removeEvent(evt) {\n        var type = typeof evt;\n        var events = this._getEvents();\n        var key;\n\n        // Remove different things depending on the state of evt\n        if (type === 'string') {\n            // Remove all listeners for the specified event\n            delete events[evt];\n        }\n        else if (evt instanceof RegExp) {\n            // Remove all events matching the regex.\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    delete events[key];\n                }\n            }\n        }\n        else {\n            // Remove all listeners in all events\n            delete this._events;\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeEvent.\n     *\n     * Added to mirror the node API.\n     */\n    proto.removeAllListeners = alias('removeEvent');\n\n    /**\n     * Emits an event of your choice.\n     * When emitted, every listener attached to that event will be executed.\n     * If you pass the optional argument array then those arguments will be passed to every listener upon execution.\n     * Because it uses `apply`, your array of arguments will be passed as if you wrote them out separately.\n     * So they will not arrive within the array on the other side, they will be separate.\n     * You can also pass a regular expression to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {Array} [args] Optional array of arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emitEvent = function emitEvent(evt, args) {\n        var listeners = this.getListenersAsObject(evt);\n        var listener;\n        var i;\n        var key;\n        var response;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key)) {\n                i = listeners[key].length;\n\n                while (i--) {\n                    // If the listener returns true then it shall be removed from the event\n                    // The function is executed either with a basic call or an apply if there is an args array\n                    listener = listeners[key][i];\n\n                    if (listener.once === true) {\n                        this.removeListener(evt, listener.listener);\n                    }\n\n                    response = listener.listener.apply(this, args || []);\n\n                    if (response === this._getOnceReturnValue()) {\n                        this.removeListener(evt, listener.listener);\n                    }\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of emitEvent\n     */\n    proto.trigger = alias('emitEvent');\n\n    /**\n     * Subtly different from emitEvent in that it will pass its arguments on to the listeners, as opposed to taking a single array of arguments to pass on.\n     * As with emitEvent, you can pass a regex in place of the event name to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {...*} Optional additional arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emit = function emit(evt) {\n        var args = Array.prototype.slice.call(arguments, 1);\n        return this.emitEvent(evt, args);\n    };\n\n    /**\n     * Sets the current value to check against when executing listeners. If a\n     * listeners return value matches the one set here then it will be removed\n     * after execution. This value defaults to true.\n     *\n     * @param {*} value The new value to check for when executing listeners.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.setOnceReturnValue = function setOnceReturnValue(value) {\n        this._onceReturnValue = value;\n        return this;\n    };\n\n    /**\n     * Fetches the current value to check against when executing listeners. If\n     * the listeners return value matches this one then it should be removed\n     * automatically. It will return true by default.\n     *\n     * @return {*|Boolean} The current value to check for or the default, true.\n     * @api private\n     */\n    proto._getOnceReturnValue = function _getOnceReturnValue() {\n        if (this.hasOwnProperty('_onceReturnValue')) {\n            return this._onceReturnValue;\n        }\n        else {\n            return true;\n        }\n    };\n\n    /**\n     * Fetches the events object and creates one if required.\n     *\n     * @return {Object} The events storage object.\n     * @api private\n     */\n    proto._getEvents = function _getEvents() {\n        return this._events || (this._events = {});\n    };\n\n    /**\n     * Reverts the global {@link EventEmitter} to its previous value and returns a reference to this version.\n     *\n     * @return {Function} Non conflicting EventEmitter class.\n     */\n    EventEmitter.noConflict = function noConflict() {\n        exports.EventEmitter = originalGlobalValue;\n        return EventEmitter;\n    };\n\n    // Expose the class either via AMD, CommonJS or the global object\n    if (typeof define === 'function' && define.amd) {\n        define('eventEmitter/EventEmitter',[],function () {\n            return EventEmitter;\n        });\n    }\n    else if (typeof module === 'object' && module.exports){\n        module.exports = EventEmitter;\n    }\n    else {\n        exports.EventEmitter = EventEmitter;\n    }\n}.call(this));\n\n/*!\n * docReady v1.0.4\n * Cross browser DOMContentLoaded event emitter\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true*/\n/*global define: false, require: false, module: false */\n\n( function( window ) {\n\n\n\nvar document = window.document;\n// collection of functions to be triggered on ready\nvar queue = [];\n\nfunction docReady( fn ) {\n  // throw out non-functions\n  if ( typeof fn !== 'function' ) {\n    return;\n  }\n\n  if ( docReady.isReady ) {\n    // ready now, hit it\n    fn();\n  } else {\n    // queue function when ready\n    queue.push( fn );\n  }\n}\n\ndocReady.isReady = false;\n\n// triggered on various doc ready events\nfunction onReady( event ) {\n  // bail if already triggered or IE8 document is not ready just yet\n  var isIE8NotReady = event.type === 'readystatechange' && document.readyState !== 'complete';\n  if ( docReady.isReady || isIE8NotReady ) {\n    return;\n  }\n\n  trigger();\n}\n\nfunction trigger() {\n  docReady.isReady = true;\n  // process queue\n  for ( var i=0, len = queue.length; i < len; i++ ) {\n    var fn = queue[i];\n    fn();\n  }\n}\n\nfunction defineDocReady( eventie ) {\n  // trigger ready if page is ready\n  if ( document.readyState === 'complete' ) {\n    trigger();\n  } else {\n    // listen for events\n    window.eventie.bind( document, 'DOMContentLoaded', onReady );\n    window.eventie.bind( document, 'readystatechange', onReady );\n    window.eventie.bind( window, 'load', onReady );\n  }\n\n  return docReady;\n}\n\n// transport\nif ( typeof define === 'function' && define.amd ) {\n  // AMD\n  define( 'doc-ready/doc-ready',[ 'eventie/eventie' ], defineDocReady );\n} else if ( typeof exports === 'object' ) {\n  module.exports = defineDocReady( require('eventie') );\n} else {\n  // browser global\n  window.docReady = defineDocReady( window.eventie );\n}\n\n})( window );\n\n/**\n * matchesSelector v1.0.3\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n/*global define: false, module: false */\n\n( function( ElemProto ) {\n\n  \n\n  var matchesMethod = ( function() {\n    // check for the standard method name first\n    if ( ElemProto.matches ) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if ( ElemProto.matchesSelector ) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n    for ( var i=0, len = prefixes.length; i < len; i++ ) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if ( ElemProto[ method ] ) {\n        return method;\n      }\n    }\n  })();\n\n  // ----- match ----- //\n\n  function match( elem, selector ) {\n    return elem[ matchesMethod ]( selector );\n  }\n\n  // ----- appendToFragment ----- //\n\n  function checkParent( elem ) {\n    // not needed if already has parent\n    if ( elem.parentNode ) {\n      return;\n    }\n    var fragment = document.createDocumentFragment();\n    fragment.appendChild( elem );\n  }\n\n  // ----- query ----- //\n\n  // fall back to using QSA\n  // thx @jonathantneal https://gist.github.com/3062955\n  function query( elem, selector ) {\n    // append to fragment if no parent\n    checkParent( elem );\n\n    // match elem with all selected elems of parent\n    var elems = elem.parentNode.querySelectorAll( selector );\n    for ( var i=0, len = elems.length; i < len; i++ ) {\n      // return true if match\n      if ( elems[i] === elem ) {\n        return true;\n      }\n    }\n    // otherwise return false\n    return false;\n  }\n\n  // ----- matchChild ----- //\n\n  function matchChild( elem, selector ) {\n    checkParent( elem );\n    return match( elem, selector );\n  }\n\n  // ----- matchesSelector ----- //\n\n  var matchesSelector;\n\n  if ( matchesMethod ) {\n    // IE9 supports matchesSelector, but doesn't work on orphaned elems\n    // check for that\n    var div = document.createElement('div');\n    var supportsOrphans = match( div, 'div' );\n    matchesSelector = supportsOrphans ? match : matchChild;\n  } else {\n    matchesSelector = query;\n  }\n\n  // transport\n  if ( typeof define === 'function' && define.amd ) {\n    // AMD\n    define( 'matches-selector/matches-selector',[],function() {\n      return matchesSelector;\n    });\n  } else if ( typeof exports === 'object' ) {\n    module.exports = matchesSelector;\n  }\n  else {\n    // browser global\n    window.matchesSelector = matchesSelector;\n  }\n\n})( Element.prototype );\n\n/**\n * Fizzy UI utils v1.0.1\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  /*global define: false, module: false, require: false */\n  \n  // universal module definition\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'fizzy-ui-utils/utils',[\n      'doc-ready/doc-ready',\n      'matches-selector/matches-selector'\n    ], function( docReady, matchesSelector ) {\n      return factory( window, docReady, matchesSelector );\n    });\n  } else if ( typeof exports == 'object' ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('doc-ready'),\n      require('desandro-matches-selector')\n    );\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(\n      window,\n      window.docReady,\n      window.matchesSelector\n    );\n  }\n\n}( window, function factory( window, docReady, matchesSelector ) {\n\n\n\nvar utils = {};\n\n// ----- extend ----- //\n\n// extends objects\nutils.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\n// ----- modulo ----- //\n\nutils.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\n// ----- isArray ----- //\n  \nvar objToString = Object.prototype.toString;\nutils.isArray = function( obj ) {\n  return objToString.call( obj ) == '[object Array]';\n};\n\n// ----- makeArray ----- //\n\n// turn element or nodeList into an array\nutils.makeArray = function( obj ) {\n  var ary = [];\n  if ( utils.isArray( obj ) ) {\n    // use object if already an array\n    ary = obj;\n  } else if ( obj && typeof obj.length == 'number' ) {\n    // convert nodeList to array\n    for ( var i=0, len = obj.length; i < len; i++ ) {\n      ary.push( obj[i] );\n    }\n  } else {\n    // array of single index\n    ary.push( obj );\n  }\n  return ary;\n};\n\n// ----- indexOf ----- //\n\n// index of helper cause IE8\nutils.indexOf = Array.prototype.indexOf ? function( ary, obj ) {\n    return ary.indexOf( obj );\n  } : function( ary, obj ) {\n    for ( var i=0, len = ary.length; i < len; i++ ) {\n      if ( ary[i] === obj ) {\n        return i;\n      }\n    }\n    return -1;\n  };\n\n// ----- removeFrom ----- //\n\nutils.removeFrom = function( ary, obj ) {\n  var index = utils.indexOf( ary, obj );\n  if ( index != -1 ) {\n    ary.splice( index, 1 );\n  }\n};\n\n// ----- isElement ----- //\n\n// http://stackoverflow.com/a/384380/182183\nutils.isElement = ( typeof HTMLElement == 'function' || typeof HTMLElement == 'object' ) ?\n  function isElementDOM2( obj ) {\n    return obj instanceof HTMLElement;\n  } :\n  function isElementQuirky( obj ) {\n    return obj && typeof obj == 'object' &&\n      obj.nodeType == 1 && typeof obj.nodeName == 'string';\n  };\n\n// ----- setText ----- //\n\nutils.setText = ( function() {\n  var setTextProperty;\n  function setText( elem, text ) {\n    // only check setTextProperty once\n    setTextProperty = setTextProperty || ( document.documentElement.textContent !== undefined ? 'textContent' : 'innerText' );\n    elem[ setTextProperty ] = text;\n  }\n  return setText;\n})();\n\n// ----- getParent ----- //\n\nutils.getParent = function( elem, selector ) {\n  while ( elem != document.body ) {\n    elem = elem.parentNode;\n    if ( matchesSelector( elem, selector ) ) {\n      return elem;\n    }\n  }\n};\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\nutils.getQueryElement = function( elem ) {\n  if ( typeof elem == 'string' ) {\n    return document.querySelector( elem );\n  }\n  return elem;\n};\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\nutils.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// ----- filterFindElements ----- //\n\nutils.filterFindElements = function( elems, selector ) {\n  // make array of elems\n  elems = utils.makeArray( elems );\n  var ffElems = [];\n\n  for ( var i=0, len = elems.length; i < len; i++ ) {\n    var elem = elems[i];\n    // check that elem is an actual element\n    if ( !utils.isElement( elem ) ) {\n      continue;\n    }\n    // filter & find items if we have a selector\n    if ( selector ) {\n      // filter siblings\n      if ( matchesSelector( elem, selector ) ) {\n        ffElems.push( elem );\n      }\n      // find children\n      var childElems = elem.querySelectorAll( selector );\n      // concat childElems to filterFound array\n      for ( var j=0, jLen = childElems.length; j < jLen; j++ ) {\n        ffElems.push( childElems[j] );\n      }\n    } else {\n      ffElems.push( elem );\n    }\n  }\n\n  return ffElems;\n};\n\n// ----- debounceMethod ----- //\n\nutils.debounceMethod = function( _class, methodName, threshold ) {\n  // original method\n  var method = _class.prototype[ methodName ];\n  var timeoutName = methodName + 'Timeout';\n\n  _class.prototype[ methodName ] = function() {\n    var timeout = this[ timeoutName ];\n    if ( timeout ) {\n      clearTimeout( timeout );\n    }\n    var args = arguments;\n\n    var _this = this;\n    this[ timeoutName ] = setTimeout( function() {\n      method.apply( _this, args );\n      delete _this[ timeoutName ];\n    }, threshold || 100 );\n  };\n};\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\nutils.toDashed = function( str ) {\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n    return $1 + '-' + $2;\n  }).toLowerCase();\n};\n\nvar console = window.console;\n/**\n * allow user to initialize classes via .js-namespace class\n * htmlInit( Widget, 'widgetName' )\n * options are parsed from data-namespace-option attribute\n */\nutils.htmlInit = function( WidgetClass, namespace ) {\n  docReady( function() {\n    var dashedNamespace = utils.toDashed( namespace );\n    var elems = document.querySelectorAll( '.js-' + dashedNamespace );\n    var dataAttr = 'data-' + dashedNamespace + '-options';\n\n    for ( var i=0, len = elems.length; i < len; i++ ) {\n      var elem = elems[i];\n      var attr = elem.getAttribute( dataAttr );\n      var options;\n      try {\n        options = attr && JSON.parse( attr );\n      } catch ( error ) {\n        // log error, do not initialize\n        if ( console ) {\n          console.error( 'Error parsing ' + dataAttr + ' on ' +\n            elem.nodeName.toLowerCase() + ( elem.id ? '#' + elem.id : '' ) + ': ' +\n            error );\n        }\n        continue;\n      }\n      // initialize\n      var instance = new WidgetClass( elem, options );\n      // make available via $().data('layoutname')\n      var jQuery = window.jQuery;\n      if ( jQuery ) {\n        jQuery.data( elem, namespace, instance );\n      }\n    }\n  });\n};\n\n// -----  ----- //\n\nreturn utils;\n\n}));\n\n/**\n * Outlayer Item\n */\n\n( function( window, factory ) {\n  \n  // universal module definition\n  if ( typeof define === 'function' && define.amd ) {\n    // AMD\n    define( 'outlayer/item',[\n        'eventEmitter/EventEmitter',\n        'get-size/get-size',\n        'get-style-property/get-style-property',\n        'fizzy-ui-utils/utils'\n      ],\n      function( EventEmitter, getSize, getStyleProperty, utils ) {\n        return factory( window, EventEmitter, getSize, getStyleProperty, utils );\n      }\n    );\n  } else if (typeof exports === 'object') {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('wolfy87-eventemitter'),\n      require('get-size'),\n      require('desandro-get-style-property'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Outlayer = {};\n    window.Outlayer.Item = factory(\n      window,\n      window.EventEmitter,\n      window.getSize,\n      window.getStyleProperty,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, EventEmitter, getSize, getStyleProperty, utils ) {\n\n\n// ----- helpers ----- //\n\nvar getComputedStyle = window.getComputedStyle;\nvar getStyle = getComputedStyle ?\n  function( elem ) {\n    return getComputedStyle( elem, null );\n  } :\n  function( elem ) {\n    return elem.currentStyle;\n  };\n\n\nfunction isEmptyObj( obj ) {\n  for ( var prop in obj ) {\n    return false;\n  }\n  prop = null;\n  return true;\n}\n\n// -------------------------- CSS3 support -------------------------- //\n\nvar transitionProperty = getStyleProperty('transition');\nvar transformProperty = getStyleProperty('transform');\nvar supportsCSS3 = transitionProperty && transformProperty;\nvar is3d = !!getStyleProperty('perspective');\n\nvar transitionEndEvent = {\n  WebkitTransition: 'webkitTransitionEnd',\n  MozTransition: 'transitionend',\n  OTransition: 'otransitionend',\n  transition: 'transitionend'\n}[ transitionProperty ];\n\n// properties that could have vendor prefix\nvar prefixableProperties = [\n  'transform',\n  'transition',\n  'transitionDuration',\n  'transitionProperty'\n];\n\n// cache all vendor properties\nvar vendorProperties = ( function() {\n  var cache = {};\n  for ( var i=0, len = prefixableProperties.length; i < len; i++ ) {\n    var prop = prefixableProperties[i];\n    var supportedProp = getStyleProperty( prop );\n    if ( supportedProp && supportedProp !== prop ) {\n      cache[ prop ] = supportedProp;\n    }\n  }\n  return cache;\n})();\n\n// -------------------------- Item -------------------------- //\n\nfunction Item( element, layout ) {\n  if ( !element ) {\n    return;\n  }\n\n  this.element = element;\n  // parent layout class, i.e. Masonry, Isotope, or Packery\n  this.layout = layout;\n  this.position = {\n    x: 0,\n    y: 0\n  };\n\n  this._create();\n}\n\n// inherit EventEmitter\nutils.extend( Item.prototype, EventEmitter.prototype );\n\nItem.prototype._create = function() {\n  // transition objects\n  this._transn = {\n    ingProperties: {},\n    clean: {},\n    onEnd: {}\n  };\n\n  this.css({\n    position: 'absolute'\n  });\n};\n\n// trigger specified handler for event type\nItem.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nItem.prototype.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * apply CSS styles to element\n * @param {Object} style\n */\nItem.prototype.css = function( style ) {\n  var elemStyle = this.element.style;\n\n  for ( var prop in style ) {\n    // use vendor property if available\n    var supportedProp = vendorProperties[ prop ] || prop;\n    elemStyle[ supportedProp ] = style[ prop ];\n  }\n};\n\n // measure position, and sets it\nItem.prototype.getPosition = function() {\n  var style = getStyle( this.element );\n  var layoutOptions = this.layout.options;\n  var isOriginLeft = layoutOptions.isOriginLeft;\n  var isOriginTop = layoutOptions.isOriginTop;\n  var xValue = style[ isOriginLeft ? 'left' : 'right' ];\n  var yValue = style[ isOriginTop ? 'top' : 'bottom' ];\n  // convert percent to pixels\n  var layoutSize = this.layout.size;\n  var x = xValue.indexOf('%') != -1 ?\n    ( parseFloat( xValue ) / 100 ) * layoutSize.width : parseInt( xValue, 10 );\n  var y = yValue.indexOf('%') != -1 ?\n    ( parseFloat( yValue ) / 100 ) * layoutSize.height : parseInt( yValue, 10 );\n\n  // clean up 'auto' or other non-integer values\n  x = isNaN( x ) ? 0 : x;\n  y = isNaN( y ) ? 0 : y;\n  // remove padding from measurement\n  x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;\n  y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;\n\n  this.position.x = x;\n  this.position.y = y;\n};\n\n// set settled position, apply padding\nItem.prototype.layoutPosition = function() {\n  var layoutSize = this.layout.size;\n  var layoutOptions = this.layout.options;\n  var style = {};\n\n  // x\n  var xPadding = layoutOptions.isOriginLeft ? 'paddingLeft' : 'paddingRight';\n  var xProperty = layoutOptions.isOriginLeft ? 'left' : 'right';\n  var xResetProperty = layoutOptions.isOriginLeft ? 'right' : 'left';\n\n  var x = this.position.x + layoutSize[ xPadding ];\n  // set in percentage or pixels\n  style[ xProperty ] = this.getXValue( x );\n  // reset other property\n  style[ xResetProperty ] = '';\n\n  // y\n  var yPadding = layoutOptions.isOriginTop ? 'paddingTop' : 'paddingBottom';\n  var yProperty = layoutOptions.isOriginTop ? 'top' : 'bottom';\n  var yResetProperty = layoutOptions.isOriginTop ? 'bottom' : 'top';\n\n  var y = this.position.y + layoutSize[ yPadding ];\n  // set in percentage or pixels\n  style[ yProperty ] = this.getYValue( y );\n  // reset other property\n  style[ yResetProperty ] = '';\n\n  this.css( style );\n  this.emitEvent( 'layout', [ this ] );\n};\n\nItem.prototype.getXValue = function( x ) {\n  var layoutOptions = this.layout.options;\n  return layoutOptions.percentPosition && !layoutOptions.isHorizontal ?\n    ( ( x / this.layout.size.width ) * 100 ) + '%' : x + 'px';\n};\n\nItem.prototype.getYValue = function( y ) {\n  var layoutOptions = this.layout.options;\n  return layoutOptions.percentPosition && layoutOptions.isHorizontal ?\n    ( ( y / this.layout.size.height ) * 100 ) + '%' : y + 'px';\n};\n\n\nItem.prototype._transitionTo = function( x, y ) {\n  this.getPosition();\n  // get current x & y from top/left\n  var curX = this.position.x;\n  var curY = this.position.y;\n\n  var compareX = parseInt( x, 10 );\n  var compareY = parseInt( y, 10 );\n  var didNotMove = compareX === this.position.x && compareY === this.position.y;\n\n  // save end position\n  this.setPosition( x, y );\n\n  // if did not move and not transitioning, just go to layout\n  if ( didNotMove && !this.isTransitioning ) {\n    this.layoutPosition();\n    return;\n  }\n\n  var transX = x - curX;\n  var transY = y - curY;\n  var transitionStyle = {};\n  transitionStyle.transform = this.getTranslate( transX, transY );\n\n  this.transition({\n    to: transitionStyle,\n    onTransitionEnd: {\n      transform: this.layoutPosition\n    },\n    isCleaning: true\n  });\n};\n\nItem.prototype.getTranslate = function( x, y ) {\n  // flip cooridinates if origin on right or bottom\n  var layoutOptions = this.layout.options;\n  x = layoutOptions.isOriginLeft ? x : -x;\n  y = layoutOptions.isOriginTop ? y : -y;\n\n  if ( is3d ) {\n    return 'translate3d(' + x + 'px, ' + y + 'px, 0)';\n  }\n\n  return 'translate(' + x + 'px, ' + y + 'px)';\n};\n\n// non transition + transform support\nItem.prototype.goTo = function( x, y ) {\n  this.setPosition( x, y );\n  this.layoutPosition();\n};\n\n// use transition and transforms if supported\nItem.prototype.moveTo = supportsCSS3 ?\n  Item.prototype._transitionTo : Item.prototype.goTo;\n\nItem.prototype.setPosition = function( x, y ) {\n  this.position.x = parseInt( x, 10 );\n  this.position.y = parseInt( y, 10 );\n};\n\n// ----- transition ----- //\n\n/**\n * @param {Object} style - CSS\n * @param {Function} onTransitionEnd\n */\n\n// non transition, just trigger callback\nItem.prototype._nonTransition = function( args ) {\n  this.css( args.to );\n  if ( args.isCleaning ) {\n    this._removeStyles( args.to );\n  }\n  for ( var prop in args.onTransitionEnd ) {\n    args.onTransitionEnd[ prop ].call( this );\n  }\n};\n\n/**\n * proper transition\n * @param {Object} args - arguments\n *   @param {Object} to - style to transition to\n *   @param {Object} from - style to start transition from\n *   @param {Boolean} isCleaning - removes transition styles after transition\n *   @param {Function} onTransitionEnd - callback\n */\nItem.prototype._transition = function( args ) {\n  // redirect to nonTransition if no transition duration\n  if ( !parseFloat( this.layout.options.transitionDuration ) ) {\n    this._nonTransition( args );\n    return;\n  }\n\n  var _transition = this._transn;\n  // keep track of onTransitionEnd callback by css property\n  for ( var prop in args.onTransitionEnd ) {\n    _transition.onEnd[ prop ] = args.onTransitionEnd[ prop ];\n  }\n  // keep track of properties that are transitioning\n  for ( prop in args.to ) {\n    _transition.ingProperties[ prop ] = true;\n    // keep track of properties to clean up when transition is done\n    if ( args.isCleaning ) {\n      _transition.clean[ prop ] = true;\n    }\n  }\n\n  // set from styles\n  if ( args.from ) {\n    this.css( args.from );\n    // force redraw. http://blog.alexmaccaw.com/css-transitions\n    var h = this.element.offsetHeight;\n    // hack for JSHint to hush about unused var\n    h = null;\n  }\n  // enable transition\n  this.enableTransition( args.to );\n  // set styles that are transitioning\n  this.css( args.to );\n\n  this.isTransitioning = true;\n\n};\n\n// dash before all cap letters, including first for\n// WebkitTransform => -webkit-transform\nfunction toDashedAll( str ) {\n  return str.replace( /([A-Z])/g, function( $1 ) {\n    return '-' + $1.toLowerCase();\n  });\n}\n\nvar transitionProps = 'opacity,' +\n  toDashedAll( vendorProperties.transform || 'transform' );\n\nItem.prototype.enableTransition = function(/* style */) {\n  // HACK changing transitionProperty during a transition\n  // will cause transition to jump\n  if ( this.isTransitioning ) {\n    return;\n  }\n\n  // make `transition: foo, bar, baz` from style object\n  // HACK un-comment this when enableTransition can work\n  // while a transition is happening\n  // var transitionValues = [];\n  // for ( var prop in style ) {\n  //   // dash-ify camelCased properties like WebkitTransition\n  //   prop = vendorProperties[ prop ] || prop;\n  //   transitionValues.push( toDashedAll( prop ) );\n  // }\n  // enable transition styles\n  this.css({\n    transitionProperty: transitionProps,\n    transitionDuration: this.layout.options.transitionDuration\n  });\n  // listen for transition end event\n  this.element.addEventListener( transitionEndEvent, this, false );\n};\n\nItem.prototype.transition = Item.prototype[ transitionProperty ? '_transition' : '_nonTransition' ];\n\n// ----- events ----- //\n\nItem.prototype.onwebkitTransitionEnd = function( event ) {\n  this.ontransitionend( event );\n};\n\nItem.prototype.onotransitionend = function( event ) {\n  this.ontransitionend( event );\n};\n\n// properties that I munge to make my life easier\nvar dashedVendorProperties = {\n  '-webkit-transform': 'transform',\n  '-moz-transform': 'transform',\n  '-o-transform': 'transform'\n};\n\nItem.prototype.ontransitionend = function( event ) {\n  // disregard bubbled events from children\n  if ( event.target !== this.element ) {\n    return;\n  }\n  var _transition = this._transn;\n  // get property name of transitioned property, convert to prefix-free\n  var propertyName = dashedVendorProperties[ event.propertyName ] || event.propertyName;\n\n  // remove property that has completed transitioning\n  delete _transition.ingProperties[ propertyName ];\n  // check if any properties are still transitioning\n  if ( isEmptyObj( _transition.ingProperties ) ) {\n    // all properties have completed transitioning\n    this.disableTransition();\n  }\n  // clean style\n  if ( propertyName in _transition.clean ) {\n    // clean up style\n    this.element.style[ event.propertyName ] = '';\n    delete _transition.clean[ propertyName ];\n  }\n  // trigger onTransitionEnd callback\n  if ( propertyName in _transition.onEnd ) {\n    var onTransitionEnd = _transition.onEnd[ propertyName ];\n    onTransitionEnd.call( this );\n    delete _transition.onEnd[ propertyName ];\n  }\n\n  this.emitEvent( 'transitionEnd', [ this ] );\n};\n\nItem.prototype.disableTransition = function() {\n  this.removeTransitionStyles();\n  this.element.removeEventListener( transitionEndEvent, this, false );\n  this.isTransitioning = false;\n};\n\n/**\n * removes style property from element\n * @param {Object} style\n**/\nItem.prototype._removeStyles = function( style ) {\n  // clean up transition styles\n  var cleanStyle = {};\n  for ( var prop in style ) {\n    cleanStyle[ prop ] = '';\n  }\n  this.css( cleanStyle );\n};\n\nvar cleanTransitionStyle = {\n  transitionProperty: '',\n  transitionDuration: ''\n};\n\nItem.prototype.removeTransitionStyles = function() {\n  // remove transition\n  this.css( cleanTransitionStyle );\n};\n\n// ----- show/hide/remove ----- //\n\n// remove element from DOM\nItem.prototype.removeElem = function() {\n  this.element.parentNode.removeChild( this.element );\n  // remove display: none\n  this.css({ display: '' });\n  this.emitEvent( 'remove', [ this ] );\n};\n\nItem.prototype.remove = function() {\n  // just remove element if no transition support or no transition\n  if ( !transitionProperty || !parseFloat( this.layout.options.transitionDuration ) ) {\n    this.removeElem();\n    return;\n  }\n\n  // start transition\n  var _this = this;\n  this.once( 'transitionEnd', function() {\n    _this.removeElem();\n  });\n  this.hide();\n};\n\nItem.prototype.reveal = function() {\n  delete this.isHidden;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('visibleStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onRevealTransitionEnd;\n\n  this.transition({\n    from: options.hiddenStyle,\n    to: options.visibleStyle,\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nItem.prototype.onRevealTransitionEnd = function() {\n  // check if still visible\n  // during transition, item may have been hidden\n  if ( !this.isHidden ) {\n    this.emitEvent('reveal');\n  }\n};\n\n/**\n * get style property use for hide/reveal transition end\n * @param {String} styleProperty - hiddenStyle/visibleStyle\n * @returns {String}\n */\nItem.prototype.getHideRevealTransitionEndProperty = function( styleProperty ) {\n  var optionStyle = this.layout.options[ styleProperty ];\n  // use opacity\n  if ( optionStyle.opacity ) {\n    return 'opacity';\n  }\n  // get first property\n  for ( var prop in optionStyle ) {\n    return prop;\n  }\n};\n\nItem.prototype.hide = function() {\n  // set flag\n  this.isHidden = true;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('hiddenStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onHideTransitionEnd;\n\n  this.transition({\n    from: options.visibleStyle,\n    to: options.hiddenStyle,\n    // keep hidden stuff hidden\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nItem.prototype.onHideTransitionEnd = function() {\n  // check if still hidden\n  // during transition, item may have been un-hidden\n  if ( this.isHidden ) {\n    this.css({ display: 'none' });\n    this.emitEvent('hide');\n  }\n};\n\nItem.prototype.destroy = function() {\n  this.css({\n    position: '',\n    left: '',\n    right: '',\n    top: '',\n    bottom: '',\n    transition: '',\n    transform: ''\n  });\n};\n\nreturn Item;\n\n}));\n\n/*!\n * Outlayer v1.4.2\n * the brains and guts of a layout library\n * MIT license\n */\n\n( function( window, factory ) {\n  \n  // universal module definition\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'outlayer/outlayer',[\n        'eventie/eventie',\n        'eventEmitter/EventEmitter',\n        'get-size/get-size',\n        'fizzy-ui-utils/utils',\n        './item'\n      ],\n      function( eventie, EventEmitter, getSize, utils, Item ) {\n        return factory( window, eventie, EventEmitter, getSize, utils, Item);\n      }\n    );\n  } else if ( typeof exports == 'object' ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('eventie'),\n      require('wolfy87-eventemitter'),\n      require('get-size'),\n      require('fizzy-ui-utils'),\n      require('./item')\n    );\n  } else {\n    // browser global\n    window.Outlayer = factory(\n      window,\n      window.eventie,\n      window.EventEmitter,\n      window.getSize,\n      window.fizzyUIUtils,\n      window.Outlayer.Item\n    );\n  }\n\n}( window, function factory( window, eventie, EventEmitter, getSize, utils, Item ) {\n\n\n// ----- vars ----- //\n\nvar console = window.console;\nvar jQuery = window.jQuery;\nvar noop = function() {};\n\n// -------------------------- Outlayer -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Outlayer intances\nvar instances = {};\n\n\n/**\n * @param {Element, String} element\n * @param {Object} options\n * @constructor\n */\nfunction Outlayer( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for ' + this.constructor.namespace +\n        ': ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // add id for Outlayer.getFromElement\n  var id = ++GUID;\n  this.element.outlayerGUID = id; // expando\n  instances[ id ] = this; // associate via id\n\n  // kick it off\n  this._create();\n\n  if ( this.options.isInitLayout ) {\n    this.layout();\n  }\n}\n\n// settings are for internal use only\nOutlayer.namespace = 'outlayer';\nOutlayer.Item = Item;\n\n// default options\nOutlayer.defaults = {\n  containerStyle: {\n    position: 'relative'\n  },\n  isInitLayout: true,\n  isOriginLeft: true,\n  isOriginTop: true,\n  isResizeBound: true,\n  isResizingContainer: true,\n  // item options\n  transitionDuration: '0.4s',\n  hiddenStyle: {\n    opacity: 0,\n    transform: 'scale(0.001)'\n  },\n  visibleStyle: {\n    opacity: 1,\n    transform: 'scale(1)'\n  }\n};\n\n// inherit EventEmitter\nutils.extend( Outlayer.prototype, EventEmitter.prototype );\n\n/**\n * set options\n * @param {Object} opts\n */\nOutlayer.prototype.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\nOutlayer.prototype._create = function() {\n  // get items from children\n  this.reloadItems();\n  // elements that affect layout, but are not laid out\n  this.stamps = [];\n  this.stamp( this.options.stamp );\n  // set container style\n  utils.extend( this.element.style, this.options.containerStyle );\n\n  // bind resize method\n  if ( this.options.isResizeBound ) {\n    this.bindResize();\n  }\n};\n\n// goes through all children again and gets bricks in proper order\nOutlayer.prototype.reloadItems = function() {\n  // collection of item elements\n  this.items = this._itemize( this.element.children );\n};\n\n\n/**\n * turn elements into Outlayer.Items to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - collection of new Outlayer Items\n */\nOutlayer.prototype._itemize = function( elems ) {\n\n  var itemElems = this._filterFindItemElements( elems );\n  var Item = this.constructor.Item;\n\n  // create new Outlayer Items for collection\n  var items = [];\n  for ( var i=0, len = itemElems.length; i < len; i++ ) {\n    var elem = itemElems[i];\n    var item = new Item( elem, this );\n    items.push( item );\n  }\n\n  return items;\n};\n\n/**\n * get item elements to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - item elements\n */\nOutlayer.prototype._filterFindItemElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.itemSelector );\n};\n\n/**\n * getter method for getting item elements\n * @returns {Array} elems - collection of item elements\n */\nOutlayer.prototype.getItemElements = function() {\n  var elems = [];\n  for ( var i=0, len = this.items.length; i < len; i++ ) {\n    elems.push( this.items[i].element );\n  }\n  return elems;\n};\n\n// ----- init & layout ----- //\n\n/**\n * lays out all items\n */\nOutlayer.prototype.layout = function() {\n  this._resetLayout();\n  this._manageStamps();\n\n  // don't animate first layout\n  var isInstant = this.options.isLayoutInstant !== undefined ?\n    this.options.isLayoutInstant : !this._isLayoutInited;\n  this.layoutItems( this.items, isInstant );\n\n  // flag for initalized\n  this._isLayoutInited = true;\n};\n\n// _init is alias for layout\nOutlayer.prototype._init = Outlayer.prototype.layout;\n\n/**\n * logic before any new layout\n */\nOutlayer.prototype._resetLayout = function() {\n  this.getSize();\n};\n\n\nOutlayer.prototype.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * get measurement from option, for columnWidth, rowHeight, gutter\n * if option is String -> get element from selector string, & get size of element\n * if option is Element -> get size of element\n * else use option as a number\n *\n * @param {String} measurement\n * @param {String} size - width or height\n * @private\n */\nOutlayer.prototype._getMeasurement = function( measurement, size ) {\n  var option = this.options[ measurement ];\n  var elem;\n  if ( !option ) {\n    // default to 0\n    this[ measurement ] = 0;\n  } else {\n    // use option as an element\n    if ( typeof option === 'string' ) {\n      elem = this.element.querySelector( option );\n    } else if ( utils.isElement( option ) ) {\n      elem = option;\n    }\n    // use size of element, if element\n    this[ measurement ] = elem ? getSize( elem )[ size ] : option;\n  }\n};\n\n/**\n * layout a collection of item elements\n * @api public\n */\nOutlayer.prototype.layoutItems = function( items, isInstant ) {\n  items = this._getItemsForLayout( items );\n\n  this._layoutItems( items, isInstant );\n\n  this._postLayout();\n};\n\n/**\n * get the items to be laid out\n * you may want to skip over some items\n * @param {Array} items\n * @returns {Array} items\n */\nOutlayer.prototype._getItemsForLayout = function( items ) {\n  var layoutItems = [];\n  for ( var i=0, len = items.length; i < len; i++ ) {\n    var item = items[i];\n    if ( !item.isIgnored ) {\n      layoutItems.push( item );\n    }\n  }\n  return layoutItems;\n};\n\n/**\n * layout items\n * @param {Array} items\n * @param {Boolean} isInstant\n */\nOutlayer.prototype._layoutItems = function( items, isInstant ) {\n  this._emitCompleteOnItems( 'layout', items );\n\n  if ( !items || !items.length ) {\n    // no items, emit event with empty array\n    return;\n  }\n\n  var queue = [];\n\n  for ( var i=0, len = items.length; i < len; i++ ) {\n    var item = items[i];\n    // get x/y object from method\n    var position = this._getItemLayoutPosition( item );\n    // enqueue\n    position.item = item;\n    position.isInstant = isInstant || item.isLayoutInstant;\n    queue.push( position );\n  }\n\n  this._processLayoutQueue( queue );\n};\n\n/**\n * get item layout position\n * @param {Outlayer.Item} item\n * @returns {Object} x and y position\n */\nOutlayer.prototype._getItemLayoutPosition = function( /* item */ ) {\n  return {\n    x: 0,\n    y: 0\n  };\n};\n\n/**\n * iterate over array and position each item\n * Reason being - separating this logic prevents 'layout invalidation'\n * thx @paul_irish\n * @param {Array} queue\n */\nOutlayer.prototype._processLayoutQueue = function( queue ) {\n  for ( var i=0, len = queue.length; i < len; i++ ) {\n    var obj = queue[i];\n    this._positionItem( obj.item, obj.x, obj.y, obj.isInstant );\n  }\n};\n\n/**\n * Sets position of item in DOM\n * @param {Outlayer.Item} item\n * @param {Number} x - horizontal position\n * @param {Number} y - vertical position\n * @param {Boolean} isInstant - disables transitions\n */\nOutlayer.prototype._positionItem = function( item, x, y, isInstant ) {\n  if ( isInstant ) {\n    // if not transition, just set CSS\n    item.goTo( x, y );\n  } else {\n    item.moveTo( x, y );\n  }\n};\n\n/**\n * Any logic you want to do after each layout,\n * i.e. size the container\n */\nOutlayer.prototype._postLayout = function() {\n  this.resizeContainer();\n};\n\nOutlayer.prototype.resizeContainer = function() {\n  if ( !this.options.isResizingContainer ) {\n    return;\n  }\n  var size = this._getContainerSize();\n  if ( size ) {\n    this._setContainerMeasure( size.width, true );\n    this._setContainerMeasure( size.height, false );\n  }\n};\n\n/**\n * Sets width or height of container if returned\n * @returns {Object} size\n *   @param {Number} width\n *   @param {Number} height\n */\nOutlayer.prototype._getContainerSize = noop;\n\n/**\n * @param {Number} measure - size of width or height\n * @param {Boolean} isWidth\n */\nOutlayer.prototype._setContainerMeasure = function( measure, isWidth ) {\n  if ( measure === undefined ) {\n    return;\n  }\n\n  var elemSize = this.size;\n  // add padding and border width if border box\n  if ( elemSize.isBorderBox ) {\n    measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight +\n      elemSize.borderLeftWidth + elemSize.borderRightWidth :\n      elemSize.paddingBottom + elemSize.paddingTop +\n      elemSize.borderTopWidth + elemSize.borderBottomWidth;\n  }\n\n  measure = Math.max( measure, 0 );\n  this.element.style[ isWidth ? 'width' : 'height' ] = measure + 'px';\n};\n\n/**\n * emit eventComplete on a collection of items events\n * @param {String} eventName\n * @param {Array} items - Outlayer.Items\n */\nOutlayer.prototype._emitCompleteOnItems = function( eventName, items ) {\n  var _this = this;\n  function onComplete() {\n    _this.dispatchEvent( eventName + 'Complete', null, [ items ] );\n  }\n\n  var count = items.length;\n  if ( !items || !count ) {\n    onComplete();\n    return;\n  }\n\n  var doneCount = 0;\n  function tick() {\n    doneCount++;\n    if ( doneCount === count ) {\n      onComplete();\n    }\n  }\n\n  // bind callback\n  for ( var i=0, len = items.length; i < len; i++ ) {\n    var item = items[i];\n    item.once( eventName, tick );\n  }\n};\n\n/**\n * emits events via eventEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nOutlayer.prototype.dispatchEvent = function( type, event, args ) {\n  // add original event to arguments\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery ) {\n    // set this.$element\n    this.$element = this.$element || jQuery( this.element );\n    if ( event ) {\n      // create jQuery event\n      var $event = jQuery.Event( event );\n      $event.type = type;\n      this.$element.trigger( $event, args );\n    } else {\n      // just trigger with type if no event available\n      this.$element.trigger( type, args );\n    }\n  }\n};\n\n// -------------------------- ignore & stamps -------------------------- //\n\n\n/**\n * keep item in collection, but do not lay it out\n * ignored items do not get skipped in layout\n * @param {Element} elem\n */\nOutlayer.prototype.ignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    item.isIgnored = true;\n  }\n};\n\n/**\n * return item to layout collection\n * @param {Element} elem\n */\nOutlayer.prototype.unignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    delete item.isIgnored;\n  }\n};\n\n/**\n * adds elements to stamps\n * @param {NodeList, Array, Element, or String} elems\n */\nOutlayer.prototype.stamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ) {\n    return;\n  }\n\n  this.stamps = this.stamps.concat( elems );\n  // ignore\n  for ( var i=0, len = elems.length; i < len; i++ ) {\n    var elem = elems[i];\n    this.ignore( elem );\n  }\n};\n\n/**\n * removes elements to stamps\n * @param {NodeList, Array, or Element} elems\n */\nOutlayer.prototype.unstamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ){\n    return;\n  }\n\n  for ( var i=0, len = elems.length; i < len; i++ ) {\n    var elem = elems[i];\n    // filter out removed stamp elements\n    utils.removeFrom( this.stamps, elem );\n    this.unignore( elem );\n  }\n\n};\n\n/**\n * finds child elements\n * @param {NodeList, Array, Element, or String} elems\n * @returns {Array} elems\n */\nOutlayer.prototype._find = function( elems ) {\n  if ( !elems ) {\n    return;\n  }\n  // if string, use argument as selector string\n  if ( typeof elems === 'string' ) {\n    elems = this.element.querySelectorAll( elems );\n  }\n  elems = utils.makeArray( elems );\n  return elems;\n};\n\nOutlayer.prototype._manageStamps = function() {\n  if ( !this.stamps || !this.stamps.length ) {\n    return;\n  }\n\n  this._getBoundingRect();\n\n  for ( var i=0, len = this.stamps.length; i < len; i++ ) {\n    var stamp = this.stamps[i];\n    this._manageStamp( stamp );\n  }\n};\n\n// update boundingLeft / Top\nOutlayer.prototype._getBoundingRect = function() {\n  // get bounding rect for container element\n  var boundingRect = this.element.getBoundingClientRect();\n  var size = this.size;\n  this._boundingRect = {\n    left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,\n    top: boundingRect.top + size.paddingTop + size.borderTopWidth,\n    right: boundingRect.right - ( size.paddingRight + size.borderRightWidth ),\n    bottom: boundingRect.bottom - ( size.paddingBottom + size.borderBottomWidth )\n  };\n};\n\n/**\n * @param {Element} stamp\n**/\nOutlayer.prototype._manageStamp = noop;\n\n/**\n * get x/y position of element relative to container element\n * @param {Element} elem\n * @returns {Object} offset - has left, top, right, bottom\n */\nOutlayer.prototype._getElementOffset = function( elem ) {\n  var boundingRect = elem.getBoundingClientRect();\n  var thisRect = this._boundingRect;\n  var size = getSize( elem );\n  var offset = {\n    left: boundingRect.left - thisRect.left - size.marginLeft,\n    top: boundingRect.top - thisRect.top - size.marginTop,\n    right: thisRect.right - boundingRect.right - size.marginRight,\n    bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom\n  };\n  return offset;\n};\n\n// -------------------------- resize -------------------------- //\n\n// enable event handlers for listeners\n// i.e. resize -> onresize\nOutlayer.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n/**\n * Bind layout to window resizing\n */\nOutlayer.prototype.bindResize = function() {\n  // bind just one listener\n  if ( this.isResizeBound ) {\n    return;\n  }\n  window.eventie.bind( window, 'resize', this );\n  this.isResizeBound = true;\n};\n\n/**\n * Unbind layout to window resizing\n */\nOutlayer.prototype.unbindResize = function() {\n  if ( this.isResizeBound ) {\n    window.eventie.unbind( window, 'resize', this );\n  }\n  this.isResizeBound = false;\n};\n\n// original debounce by John Hann\n// http://unscriptable.com/index.php/2009/03/20/debouncing-javascript-methods/\n\n// this fires every resize\nOutlayer.prototype.onresize = function() {\n  if ( this.resizeTimeout ) {\n    clearTimeout( this.resizeTimeout );\n  }\n\n  var _this = this;\n  function delayed() {\n    _this.resize();\n    delete _this.resizeTimeout;\n  }\n\n  this.resizeTimeout = setTimeout( delayed, 100 );\n};\n\n// debounced, layout on resize\nOutlayer.prototype.resize = function() {\n  // don't trigger if size did not change\n  // or if resize was unbound. See #9\n  if ( !this.isResizeBound || !this.needsResizeLayout() ) {\n    return;\n  }\n\n  this.layout();\n};\n\n/**\n * check if layout is needed post layout\n * @returns Boolean\n */\nOutlayer.prototype.needsResizeLayout = function() {\n  var size = getSize( this.element );\n  // check that this.size and size are there\n  // IE8 triggers resize on body size change, so they might not be\n  var hasSizes = this.size && size;\n  return hasSizes && size.innerWidth !== this.size.innerWidth;\n};\n\n// -------------------------- methods -------------------------- //\n\n/**\n * add items to Outlayer instance\n * @param {Array or NodeList or Element} elems\n * @returns {Array} items - Outlayer.Items\n**/\nOutlayer.prototype.addItems = function( elems ) {\n  var items = this._itemize( elems );\n  // add items to collection\n  if ( items.length ) {\n    this.items = this.items.concat( items );\n  }\n  return items;\n};\n\n/**\n * Layout newly-appended item elements\n * @param {Array or NodeList or Element} elems\n */\nOutlayer.prototype.appended = function( elems ) {\n  var items = this.addItems( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // layout and reveal just the new items\n  this.layoutItems( items, true );\n  this.reveal( items );\n};\n\n/**\n * Layout prepended elements\n * @param {Array or NodeList or Element} elems\n */\nOutlayer.prototype.prepended = function( elems ) {\n  var items = this._itemize( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // add items to beginning of collection\n  var previousItems = this.items.slice(0);\n  this.items = items.concat( previousItems );\n  // start new layout\n  this._resetLayout();\n  this._manageStamps();\n  // layout new stuff without transition\n  this.layoutItems( items, true );\n  this.reveal( items );\n  // layout previous items\n  this.layoutItems( previousItems );\n};\n\n/**\n * reveal a collection of items\n * @param {Array of Outlayer.Items} items\n */\nOutlayer.prototype.reveal = function( items ) {\n  this._emitCompleteOnItems( 'reveal', items );\n\n  var len = items && items.length;\n  for ( var i=0; len && i < len; i++ ) {\n    var item = items[i];\n    item.reveal();\n  }\n};\n\n/**\n * hide a collection of items\n * @param {Array of Outlayer.Items} items\n */\nOutlayer.prototype.hide = function( items ) {\n  this._emitCompleteOnItems( 'hide', items );\n\n  var len = items && items.length;\n  for ( var i=0; len && i < len; i++ ) {\n    var item = items[i];\n    item.hide();\n  }\n};\n\n/**\n * reveal item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nOutlayer.prototype.revealItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.reveal( items );\n};\n\n/**\n * hide item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nOutlayer.prototype.hideItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.hide( items );\n};\n\n/**\n * get Outlayer.Item, given an Element\n * @param {Element} elem\n * @param {Function} callback\n * @returns {Outlayer.Item} item\n */\nOutlayer.prototype.getItem = function( elem ) {\n  // loop through items to get the one that matches\n  for ( var i=0, len = this.items.length; i < len; i++ ) {\n    var item = this.items[i];\n    if ( item.element === elem ) {\n      // return item\n      return item;\n    }\n  }\n};\n\n/**\n * get collection of Outlayer.Items, given Elements\n * @param {Array} elems\n * @returns {Array} items - Outlayer.Items\n */\nOutlayer.prototype.getItems = function( elems ) {\n  elems = utils.makeArray( elems );\n  var items = [];\n  for ( var i=0, len = elems.length; i < len; i++ ) {\n    var elem = elems[i];\n    var item = this.getItem( elem );\n    if ( item ) {\n      items.push( item );\n    }\n  }\n\n  return items;\n};\n\n/**\n * remove element(s) from instance and DOM\n * @param {Array or NodeList or Element} elems\n */\nOutlayer.prototype.remove = function( elems ) {\n  var removeItems = this.getItems( elems );\n\n  this._emitCompleteOnItems( 'remove', removeItems );\n\n  // bail if no items to remove\n  if ( !removeItems || !removeItems.length ) {\n    return;\n  }\n\n  for ( var i=0, len = removeItems.length; i < len; i++ ) {\n    var item = removeItems[i];\n    item.remove();\n    // remove item from collection\n    utils.removeFrom( this.items, item );\n  }\n};\n\n// ----- destroy ----- //\n\n// remove and disable Outlayer instance\nOutlayer.prototype.destroy = function() {\n  // clean up dynamic styles\n  var style = this.element.style;\n  style.height = '';\n  style.position = '';\n  style.width = '';\n  // destroy items\n  for ( var i=0, len = this.items.length; i < len; i++ ) {\n    var item = this.items[i];\n    item.destroy();\n  }\n\n  this.unbindResize();\n\n  var id = this.element.outlayerGUID;\n  delete instances[ id ]; // remove reference to instance by id\n  delete this.element.outlayerGUID;\n  // remove data for jQuery\n  if ( jQuery ) {\n    jQuery.removeData( this.element, this.constructor.namespace );\n  }\n\n};\n\n// -------------------------- data -------------------------- //\n\n/**\n * get Outlayer instance from element\n * @param {Element} elem\n * @returns {Outlayer}\n */\nOutlayer.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.outlayerGUID;\n  return id && instances[ id ];\n};\n\n\n// -------------------------- create Outlayer class -------------------------- //\n\n/**\n * create a layout class\n * @param {String} namespace\n */\nOutlayer.create = function( namespace, options ) {\n  // sub-class Outlayer\n  function Layout() {\n    Outlayer.apply( this, arguments );\n  }\n  // inherit Outlayer prototype, use Object.create if there\n  if ( Object.create ) {\n    Layout.prototype = Object.create( Outlayer.prototype );\n  } else {\n    utils.extend( Layout.prototype, Outlayer.prototype );\n  }\n  // set contructor, used for namespace and Item\n  Layout.prototype.constructor = Layout;\n\n  Layout.defaults = utils.extend( {}, Outlayer.defaults );\n  // apply new options\n  utils.extend( Layout.defaults, options );\n  // keep prototype.settings for backwards compatibility (Packery v1.2.0)\n  Layout.prototype.settings = {};\n\n  Layout.namespace = namespace;\n\n  Layout.data = Outlayer.data;\n\n  // sub-class Item\n  Layout.Item = function LayoutItem() {\n    Item.apply( this, arguments );\n  };\n\n  Layout.Item.prototype = new Item();\n\n  // -------------------------- declarative -------------------------- //\n\n  utils.htmlInit( Layout, namespace );\n\n  // -------------------------- jQuery bridge -------------------------- //\n\n  // make into jQuery plugin\n  if ( jQuery && jQuery.bridget ) {\n    jQuery.bridget( namespace, Layout );\n  }\n\n  return Layout;\n};\n\n// ----- fin ----- //\n\n// back in global\nOutlayer.Item = Item;\n\nreturn Outlayer;\n\n}));\n\n\n/**\n * Rect\n * low-level utility class for basic geometry\n */\n\n( function( window, factory ) {\n  \n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'packery/js/rect',factory );\n  } else if ( typeof exports == 'object' ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.Packery = window.Packery || {};\n    window.Packery.Rect = factory();\n  }\n\n}( window, function factory() {\n\n\n// -------------------------- Packery -------------------------- //\n\n// global namespace\nvar Packery = window.Packery = function() {};\n\n// -------------------------- Rect -------------------------- //\n\nfunction Rect( props ) {\n  // extend properties from defaults\n  for ( var prop in Rect.defaults ) {\n    this[ prop ] = Rect.defaults[ prop ];\n  }\n\n  for ( prop in props ) {\n    this[ prop ] = props[ prop ];\n  }\n\n}\n\n// make available\nPackery.Rect = Rect;\n\nRect.defaults = {\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0\n};\n\n/**\n * Determines whether or not this rectangle wholly encloses another rectangle or point.\n * @param {Rect} rect\n * @returns {Boolean}\n**/\nRect.prototype.contains = function( rect ) {\n  // points don't have width or height\n  var otherWidth = rect.width || 0;\n  var otherHeight = rect.height || 0;\n  return this.x <= rect.x &&\n    this.y <= rect.y &&\n    this.x + this.width >= rect.x + otherWidth &&\n    this.y + this.height >= rect.y + otherHeight;\n};\n\n/**\n * Determines whether or not the rectangle intersects with another.\n * @param {Rect} rect\n * @returns {Boolean}\n**/\nRect.prototype.overlaps = function( rect ) {\n  var thisRight = this.x + this.width;\n  var thisBottom = this.y + this.height;\n  var rectRight = rect.x + rect.width;\n  var rectBottom = rect.y + rect.height;\n\n  // http://stackoverflow.com/a/306332\n  return this.x < rectRight &&\n    thisRight > rect.x &&\n    this.y < rectBottom &&\n    thisBottom > rect.y;\n};\n\n/**\n * @param {Rect} rect - the overlapping rect\n * @returns {Array} freeRects - rects representing the area around the rect\n**/\nRect.prototype.getMaximalFreeRects = function( rect ) {\n\n  // if no intersection, return false\n  if ( !this.overlaps( rect ) ) {\n    return false;\n  }\n\n  var freeRects = [];\n  var freeRect;\n\n  var thisRight = this.x + this.width;\n  var thisBottom = this.y + this.height;\n  var rectRight = rect.x + rect.width;\n  var rectBottom = rect.y + rect.height;\n\n  // top\n  if ( this.y < rect.y ) {\n    freeRect = new Rect({\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: rect.y - this.y\n    });\n    freeRects.push( freeRect );\n  }\n\n  // right\n  if ( thisRight > rectRight ) {\n    freeRect = new Rect({\n      x: rectRight,\n      y: this.y,\n      width: thisRight - rectRight,\n      height: this.height\n    });\n    freeRects.push( freeRect );\n  }\n\n  // bottom\n  if ( thisBottom > rectBottom ) {\n    freeRect = new Rect({\n      x: this.x,\n      y: rectBottom,\n      width: this.width,\n      height: thisBottom - rectBottom\n    });\n    freeRects.push( freeRect );\n  }\n\n  // left\n  if ( this.x < rect.x ) {\n    freeRect = new Rect({\n      x: this.x,\n      y: this.y,\n      width: rect.x - this.x,\n      height: this.height\n    });\n    freeRects.push( freeRect );\n  }\n\n  return freeRects;\n};\n\nRect.prototype.canFit = function( rect ) {\n  return this.width >= rect.width && this.height >= rect.height;\n};\n\nreturn Rect;\n\n}));\n\n/**\n * Packer\n * bin-packing algorithm\n */\n\n( function( window, factory ) {\n  \n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'packery/js/packer',[ './rect' ], factory );\n  } else if ( typeof exports == 'object' ) {\n    // CommonJS\n    module.exports = factory(\n      require('./rect')\n    );\n  } else {\n    // browser global\n    var Packery = window.Packery = window.Packery || {};\n    Packery.Packer = factory( Packery.Rect );\n  }\n\n}( window, function factory( Rect ) {\n\n\n// -------------------------- Packer -------------------------- //\n\n/**\n * @param {Number} width\n * @param {Number} height\n * @param {String} sortDirection\n *   topLeft for vertical, leftTop for horizontal\n */\nfunction Packer( width, height, sortDirection ) {\n  this.width = width || 0;\n  this.height = height || 0;\n  this.sortDirection = sortDirection || 'downwardLeftToRight';\n\n  this.reset();\n}\n\nPacker.prototype.reset = function() {\n  this.spaces = [];\n  this.newSpaces = [];\n\n  var initialSpace = new Rect({\n    x: 0,\n    y: 0,\n    width: this.width,\n    height: this.height\n  });\n\n  this.spaces.push( initialSpace );\n  // set sorter\n  this.sorter = sorters[ this.sortDirection ] || sorters.downwardLeftToRight;\n};\n\n// change x and y of rect to fit with in Packer's available spaces\nPacker.prototype.pack = function( rect ) {\n  for ( var i=0, len = this.spaces.length; i < len; i++ ) {\n    var space = this.spaces[i];\n    if ( space.canFit( rect ) ) {\n      this.placeInSpace( rect, space );\n      break;\n    }\n  }\n};\n\nPacker.prototype.placeInSpace = function( rect, space ) {\n  // place rect in space\n  rect.x = space.x;\n  rect.y = space.y;\n\n  this.placed( rect );\n};\n\n// update spaces with placed rect\nPacker.prototype.placed = function( rect ) {\n  // update spaces\n  var revisedSpaces = [];\n  for ( var i=0, len = this.spaces.length; i < len; i++ ) {\n    var space = this.spaces[i];\n    var newSpaces = space.getMaximalFreeRects( rect );\n    // add either the original space or the new spaces to the revised spaces\n    if ( newSpaces ) {\n      revisedSpaces.push.apply( revisedSpaces, newSpaces );\n    } else {\n      revisedSpaces.push( space );\n    }\n  }\n\n  this.spaces = revisedSpaces;\n\n  this.mergeSortSpaces();\n};\n\nPacker.prototype.mergeSortSpaces = function() {\n  // remove redundant spaces\n  Packer.mergeRects( this.spaces );\n  this.spaces.sort( this.sorter );\n};\n\n// add a space back\nPacker.prototype.addSpace = function( rect ) {\n  this.spaces.push( rect );\n  this.mergeSortSpaces();\n};\n\n// -------------------------- utility functions -------------------------- //\n\n/**\n * Remove redundant rectangle from array of rectangles\n * @param {Array} rects: an array of Rects\n * @returns {Array} rects: an array of Rects\n**/\nPacker.mergeRects = function( rects ) {\n  for ( var i=0, len = rects.length; i < len; i++ ) {\n    var rect = rects[i];\n    // skip over this rect if it was already removed\n    if ( !rect ) {\n      continue;\n    }\n    // clone rects we're testing, remove this rect\n    var compareRects = rects.slice(0);\n    // do not compare with self\n    compareRects.splice( i, 1 );\n    // compare this rect with others\n    var removedCount = 0;\n    for ( var j=0, jLen = compareRects.length; j < jLen; j++ ) {\n      var compareRect = compareRects[j];\n      // if this rect contains another,\n      // remove that rect from test collection\n      var indexAdjust = i > j ? 0 : 1;\n      if ( rect.contains( compareRect ) ) {\n        // console.log( 'current test rects:' + testRects.length, testRects );\n        // console.log( i, j, indexAdjust, rect, compareRect );\n        rects.splice( j + indexAdjust - removedCount, 1 );\n        removedCount++;\n      }\n    }\n  }\n\n  return rects;\n};\n\n\n// -------------------------- sorters -------------------------- //\n\n// functions for sorting rects in order\nvar sorters = {\n  // top down, then left to right\n  downwardLeftToRight: function( a, b ) {\n    return a.y - b.y || a.x - b.x;\n  },\n  // left to right, then top down\n  rightwardTopToBottom: function( a, b ) {\n    return a.x - b.x || a.y - b.y;\n  }\n};\n\n\n// --------------------------  -------------------------- //\n\nreturn Packer;\n\n}));\n/**\n * Packery Item Element\n**/\n\n( function( window, factory ) {\n  \n  // universal module definition\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'packery/js/item',[\n        'get-style-property/get-style-property',\n        'outlayer/outlayer',\n        './rect'\n      ],\n      factory );\n  } else if ( typeof exports == 'object' ) {\n    // CommonJS\n    module.exports = factory(\n      require('desandro-get-style-property'),\n      require('outlayer'),\n      require('./rect')\n    );\n  } else {\n    // browser global\n    window.Packery.Item = factory(\n      window.getStyleProperty,\n      window.Outlayer,\n      window.Packery.Rect\n    );\n  }\n\n}( window, function factory( getStyleProperty, Outlayer, Rect ) {\n\n\n// -------------------------- Item -------------------------- //\n\nvar transformProperty = getStyleProperty('transform');\n\n// sub-class Item\nvar Item = function PackeryItem() {\n  Outlayer.Item.apply( this, arguments );\n};\n\nItem.prototype = new Outlayer.Item();\n\nvar protoCreate = Item.prototype._create;\nItem.prototype._create = function() {\n  // call default _create logic\n  protoCreate.call( this );\n  this.rect = new Rect();\n  // rect used for placing, in drag or Packery.fit()\n  this.placeRect = new Rect();\n};\n\n// -------------------------- drag -------------------------- //\n\nItem.prototype.dragStart = function() {\n  this.getPosition();\n  this.removeTransitionStyles();\n  // remove transform property from transition\n  if ( this.isTransitioning && transformProperty ) {\n    this.element.style[ transformProperty ] = 'none';\n  }\n  this.getSize();\n  // create place rect, used for position when dragged then dropped\n  // or when positioning\n  this.isPlacing = true;\n  this.needsPositioning = false;\n  this.positionPlaceRect( this.position.x, this.position.y );\n  this.isTransitioning = false;\n  this.didDrag = false;\n};\n\n/**\n * handle item when it is dragged\n * @param {Number} x - horizontal position of dragged item\n * @param {Number} y - vertical position of dragged item\n */\nItem.prototype.dragMove = function( x, y ) {\n  this.didDrag = true;\n  var packerySize = this.layout.size;\n  x -= packerySize.paddingLeft;\n  y -= packerySize.paddingTop;\n  this.positionPlaceRect( x, y );\n};\n\nItem.prototype.dragStop = function() {\n  this.getPosition();\n  var isDiffX = this.position.x != this.placeRect.x;\n  var isDiffY = this.position.y != this.placeRect.y;\n  // set post-drag positioning flag\n  this.needsPositioning = isDiffX || isDiffY;\n  // reset flag\n  this.didDrag = false;\n};\n\n// -------------------------- placing -------------------------- //\n\n/**\n * position a rect that will occupy space in the packer\n * @param {Number} x\n * @param {Number} y\n * @param {Boolean} isMaxYContained\n */\nItem.prototype.positionPlaceRect = function( x, y, isMaxYOpen ) {\n  this.placeRect.x = this.getPlaceRectCoord( x, true );\n  this.placeRect.y = this.getPlaceRectCoord( y, false, isMaxYOpen );\n};\n\n/**\n * get x/y coordinate for place rect\n * @param {Number} coord - x or y\n * @param {Boolean} isX\n * @param {Boolean} isMaxOpen - does not limit value to outer bound\n * @returns {Number} coord - processed x or y\n */\nItem.prototype.getPlaceRectCoord = function( coord, isX, isMaxOpen ) {\n  var measure = isX ? 'Width' : 'Height';\n  var size = this.size[ 'outer' + measure ];\n  var segment = this.layout[ isX ? 'columnWidth' : 'rowHeight' ];\n  var parentSize = this.layout.size[ 'inner' + measure ];\n\n  // additional parentSize calculations for Y\n  if ( !isX ) {\n    parentSize = Math.max( parentSize, this.layout.maxY );\n    // prevent gutter from bumping up height when non-vertical grid\n    if ( !this.layout.rowHeight ) {\n      parentSize -= this.layout.gutter;\n    }\n  }\n\n  var max;\n\n  if ( segment ) {\n    segment += this.layout.gutter;\n    // allow for last column to reach the edge\n    parentSize += isX ? this.layout.gutter : 0;\n    // snap to closest segment\n    coord = Math.round( coord / segment );\n    // contain to outer bound\n    // contain non-growing bound, allow growing bound to grow\n    var mathMethod;\n    if ( this.layout.options.isHorizontal ) {\n      mathMethod = !isX ? 'floor' : 'ceil';\n    } else {\n      mathMethod = isX ? 'floor' : 'ceil';\n    }\n    var maxSegments = Math[ mathMethod ]( parentSize / segment );\n    maxSegments -= Math.ceil( size / segment );\n    max = maxSegments;\n  } else {\n    max = parentSize - size;\n  }\n\n  coord = isMaxOpen ? coord : Math.min( coord, max );\n  coord *= segment || 1;\n\n  return Math.max( 0, coord );\n};\n\nItem.prototype.copyPlaceRectPosition = function() {\n  this.rect.x = this.placeRect.x;\n  this.rect.y = this.placeRect.y;\n};\n\n// -----  ----- //\n\n// remove element from DOM\nItem.prototype.removeElem = function() {\n  this.element.parentNode.removeChild( this.element );\n  // add space back to packer\n  this.layout.packer.addSpace( this.rect );\n  this.emitEvent( 'remove', [ this ] );\n};\n\n// -----  ----- //\n\nreturn Item;\n\n}));\n\n/*!\n * Packery v1.4.3\n * bin-packing layout library\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * http://packery.metafizzy.co\n * Copyright 2015 Metafizzy\n */\n\n( function( window, factory ) {\n  \n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'classie/classie',\n        'get-size/get-size',\n        'outlayer/outlayer',\n        'packery/js/rect',\n        'packery/js/packer',\n        'packery/js/item'\n      ],\n      factory );\n  } else if ( typeof exports == 'object' ) {\n    // CommonJS\n    module.exports = factory(\n      require('desandro-classie'),\n      require('get-size'),\n      require('outlayer'),\n      require('./rect'),\n      require('./packer'),\n      require('./item')\n    );\n  } else {\n    // browser global\n    window.Packery = factory(\n      window.classie,\n      window.getSize,\n      window.Outlayer,\n      window.Packery.Rect,\n      window.Packery.Packer,\n      window.Packery.Item\n    );\n  }\n\n}( window, function factory( classie, getSize, Outlayer, Rect, Packer, Item ) {\n\n\n// ----- Rect ----- //\n\n// allow for pixel rounding errors IE8-IE11 & Firefox; #227\nRect.prototype.canFit = function( rect ) {\n  return this.width >= rect.width - 1 && this.height >= rect.height - 1;\n};\n\n// -------------------------- Packery -------------------------- //\n\n// create an Outlayer layout class\nvar Packery = Outlayer.create('packery');\nPackery.Item = Item;\n\nPackery.prototype._create = function() {\n  // call super\n  Outlayer.prototype._create.call( this );\n\n  // initial properties\n  this.packer = new Packer();\n\n  // Left over from v1.0\n  this.stamp( this.options.stamped );\n\n  // create drag handlers\n  var _this = this;\n  this.handleDraggabilly = {\n    dragStart: function() {\n      _this.itemDragStart( this.element );\n    },\n    dragMove: function() {\n      _this.itemDragMove( this.element, this.position.x, this.position.y );\n    },\n    dragEnd: function() {\n      _this.itemDragEnd( this.element );\n    }\n  };\n\n  this.handleUIDraggable = {\n    start: function handleUIDraggableStart( event, ui ) {\n      // HTML5 may trigger dragstart, dismiss HTML5 dragging\n      if ( !ui ) {\n        return;\n      }\n      _this.itemDragStart( event.currentTarget );\n    },\n    drag: function handleUIDraggableDrag( event, ui ) {\n      if ( !ui ) {\n        return;\n      }\n      _this.itemDragMove( event.currentTarget, ui.position.left, ui.position.top );\n    },\n    stop: function handleUIDraggableStop( event, ui ) {\n      if ( !ui ) {\n        return;\n      }\n      _this.itemDragEnd( event.currentTarget );\n    }\n  };\n\n};\n\n\n// ----- init & layout ----- //\n\n/**\n * logic before any new layout\n */\nPackery.prototype._resetLayout = function() {\n  this.getSize();\n\n  this._getMeasurements();\n\n  // reset packer\n  var packer = this.packer;\n  // packer settings, if horizontal or vertical\n  if ( this.options.isHorizontal ) {\n    packer.width = Number.POSITIVE_INFINITY;\n    packer.height = this.size.innerHeight + this.gutter;\n    packer.sortDirection = 'rightwardTopToBottom';\n  } else {\n    packer.width = this.size.innerWidth + this.gutter;\n    packer.height = Number.POSITIVE_INFINITY;\n    packer.sortDirection = 'downwardLeftToRight';\n  }\n\n  packer.reset();\n\n  // layout\n  this.maxY = 0;\n  this.maxX = 0;\n};\n\n/**\n * update columnWidth, rowHeight, & gutter\n * @private\n */\nPackery.prototype._getMeasurements = function() {\n  this._getMeasurement( 'columnWidth', 'width' );\n  this._getMeasurement( 'rowHeight', 'height' );\n  this._getMeasurement( 'gutter', 'width' );\n};\n\nPackery.prototype._getItemLayoutPosition = function( item ) {\n  this._packItem( item );\n  return item.rect;\n};\n\n\n/**\n * layout item in packer\n * @param {Packery.Item} item\n */\nPackery.prototype._packItem = function( item ) {\n  this._setRectSize( item.element, item.rect );\n  // pack the rect in the packer\n  this.packer.pack( item.rect );\n  this._setMaxXY( item.rect );\n};\n\n/**\n * set max X and Y value, for size of container\n * @param {Packery.Rect} rect\n * @private\n */\nPackery.prototype._setMaxXY = function( rect ) {\n  this.maxX = Math.max( rect.x + rect.width, this.maxX );\n  this.maxY = Math.max( rect.y + rect.height, this.maxY );\n};\n\n/**\n * set the width and height of a rect, applying columnWidth and rowHeight\n * @param {Element} elem\n * @param {Packery.Rect} rect\n */\nPackery.prototype._setRectSize = function( elem, rect ) {\n  var size = getSize( elem );\n  var w = size.outerWidth;\n  var h = size.outerHeight;\n  // size for columnWidth and rowHeight, if available\n  // only check if size is non-zero, #177\n  if ( w || h ) {\n    w = this._applyGridGutter( w, this.columnWidth );\n    h = this._applyGridGutter( h, this.rowHeight );\n  }\n  // rect must fit in packer\n  rect.width = Math.min( w, this.packer.width );\n  rect.height = Math.min( h, this.packer.height );\n};\n\n/**\n * fits item to columnWidth/rowHeight and adds gutter\n * @param {Number} measurement - item width or height\n * @param {Number} gridSize - columnWidth or rowHeight\n * @returns measurement\n */\nPackery.prototype._applyGridGutter = function( measurement, gridSize ) {\n  // just add gutter if no gridSize\n  if ( !gridSize ) {\n    return measurement + this.gutter;\n  }\n  gridSize += this.gutter;\n  // fit item to columnWidth/rowHeight\n  var remainder = measurement % gridSize;\n  var mathMethod = remainder && remainder < 1 ? 'round' : 'ceil';\n  measurement = Math[ mathMethod ]( measurement / gridSize ) * gridSize;\n  return measurement;\n};\n\nPackery.prototype._getContainerSize = function() {\n  if ( this.options.isHorizontal ) {\n    return {\n      width: this.maxX - this.gutter\n    };\n  } else {\n    return {\n      height: this.maxY - this.gutter\n    };\n  }\n};\n\n\n// -------------------------- stamp -------------------------- //\n\n/**\n * makes space for element\n * @param {Element} elem\n */\nPackery.prototype._manageStamp = function( elem ) {\n\n  var item = this.getItem( elem );\n  var rect;\n  if ( item && item.isPlacing ) {\n    rect = item.placeRect;\n  } else {\n    var offset = this._getElementOffset( elem );\n    rect = new Rect({\n      x: this.options.isOriginLeft ? offset.left : offset.right,\n      y: this.options.isOriginTop ? offset.top : offset.bottom\n    });\n  }\n\n  this._setRectSize( elem, rect );\n  // save its space in the packer\n  this.packer.placed( rect );\n  this._setMaxXY( rect );\n};\n\n// -------------------------- methods -------------------------- //\n\nfunction verticalSorter( a, b ) {\n  return a.position.y - b.position.y || a.position.x - b.position.x;\n}\n\nfunction horizontalSorter( a, b ) {\n  return a.position.x - b.position.x || a.position.y - b.position.y;\n}\n\nPackery.prototype.sortItemsByPosition = function() {\n  var sorter = this.options.isHorizontal ? horizontalSorter : verticalSorter;\n  this.items.sort( sorter );\n};\n\n/**\n * Fit item element in its current position\n * Packery will position elements around it\n * useful for expanding elements\n *\n * @param {Element} elem\n * @param {Number} x - horizontal destination position, optional\n * @param {Number} y - vertical destination position, optional\n */\nPackery.prototype.fit = function( elem, x, y ) {\n  var item = this.getItem( elem );\n  if ( !item ) {\n    return;\n  }\n\n  // prepare internal properties\n  this._getMeasurements();\n\n  // stamp item to get it out of layout\n  this.stamp( item.element );\n  // required for positionPlaceRect\n  item.getSize();\n  // set placing flag\n  item.isPlacing = true;\n  // fall back to current position for fitting\n  x = x === undefined ? item.rect.x: x;\n  y = y === undefined ? item.rect.y: y;\n\n  // position it best at its destination\n  item.positionPlaceRect( x, y, true );\n\n  this._bindFitEvents( item );\n  item.moveTo( item.placeRect.x, item.placeRect.y );\n  // layout everything else\n  this.layout();\n\n  // return back to regularly scheduled programming\n  this.unstamp( item.element );\n  this.sortItemsByPosition();\n  // un set placing flag, back to normal\n  item.isPlacing = false;\n  // copy place rect position\n  item.copyPlaceRectPosition();\n};\n\n/**\n * emit event when item is fit and other items are laid out\n * @param {Packery.Item} item\n * @private\n */\nPackery.prototype._bindFitEvents = function( item ) {\n  var _this = this;\n  var ticks = 0;\n  function tick() {\n    ticks++;\n    if ( ticks != 2 ) {\n      return;\n    }\n    _this.dispatchEvent( 'fitComplete', null, [ item ] );\n  }\n  // when item is laid out\n  item.on( 'layout', function() {\n    tick();\n    return true;\n  });\n  // when all items are laid out\n  this.on( 'layoutComplete', function() {\n    tick();\n    return true;\n  });\n};\n\n// -------------------------- resize -------------------------- //\n\n// debounced, layout on resize\nPackery.prototype.resize = function() {\n  // don't trigger if size did not change\n  var size = getSize( this.element );\n  // check that this.size and size are there\n  // IE8 triggers resize on body size change, so they might not be\n  var hasSizes = this.size && size;\n  var innerSize = this.options.isHorizontal ? 'innerHeight' : 'innerWidth';\n  if ( hasSizes && size[ innerSize ] == this.size[ innerSize ] ) {\n    return;\n  }\n\n  this.layout();\n};\n\n// -------------------------- drag -------------------------- //\n\n/**\n * handle an item drag start event\n * @param {Element} elem\n */\nPackery.prototype.itemDragStart = function( elem ) {\n  this.stamp( elem );\n  var item = this.getItem( elem );\n  if ( item ) {\n    item.dragStart();\n  }\n};\n\n/**\n * handle an item drag move event\n * @param {Element} elem\n * @param {Number} x - horizontal change in position\n * @param {Number} y - vertical change in position\n */\nPackery.prototype.itemDragMove = function( elem, x, y ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    item.dragMove( x, y );\n  }\n\n  // debounce\n  var _this = this;\n  // debounce triggering layout\n  function delayed() {\n    _this.layout();\n    delete _this.dragTimeout;\n  }\n\n  this.clearDragTimeout();\n\n  this.dragTimeout = setTimeout( delayed, 40 );\n};\n\nPackery.prototype.clearDragTimeout = function() {\n  if ( this.dragTimeout ) {\n    clearTimeout( this.dragTimeout );\n  }\n};\n\n/**\n * handle an item drag end event\n * @param {Element} elem\n */\nPackery.prototype.itemDragEnd = function( elem ) {\n  var item = this.getItem( elem );\n  var itemDidDrag;\n  if ( item ) {\n    itemDidDrag = item.didDrag;\n    item.dragStop();\n  }\n  // if elem didn't move, or if it doesn't need positioning\n  // unignore and unstamp and call it a day\n  if ( !item || ( !itemDidDrag && !item.needsPositioning ) ) {\n    this.unstamp( elem );\n    return;\n  }\n  // procced with dragged item\n\n  classie.add( item.element, 'is-positioning-post-drag' );\n\n  // save this var, as it could get reset in dragStart\n  var onLayoutComplete = this._getDragEndLayoutComplete( elem, item );\n\n  if ( item.needsPositioning ) {\n    item.on( 'layout', onLayoutComplete );\n    item.moveTo( item.placeRect.x, item.placeRect.y );\n  } else if ( item ) {\n    // item didn't need placement\n    item.copyPlaceRectPosition();\n  }\n\n  this.clearDragTimeout();\n  this.on( 'layoutComplete', onLayoutComplete );\n  this.layout();\n\n};\n\n/**\n * get drag end callback\n * @param {Element} elem\n * @param {Packery.Item} item\n * @returns {Function} onLayoutComplete\n */\nPackery.prototype._getDragEndLayoutComplete = function( elem, item ) {\n  var itemNeedsPositioning = item && item.needsPositioning;\n  var completeCount = 0;\n  var asyncCount = itemNeedsPositioning ? 2 : 1;\n  var _this = this;\n\n  return function onLayoutComplete() {\n    completeCount++;\n    // don't proceed if not complete\n    if ( completeCount != asyncCount ) {\n      return true;\n    }\n    // reset item\n    if ( item ) {\n      classie.remove( item.element, 'is-positioning-post-drag' );\n      item.isPlacing = false;\n      item.copyPlaceRectPosition();\n    }\n\n    _this.unstamp( elem );\n    // only sort when item moved\n    _this.sortItemsByPosition();\n\n    // emit item drag event now that everything is done\n    if ( itemNeedsPositioning ) {\n      _this.dispatchEvent( 'dragItemPositioned', null, [ item ] );\n    }\n    // listen once\n    return true;\n  };\n};\n\n/**\n * binds Draggabilly events\n * @param {Draggabilly} draggie\n */\nPackery.prototype.bindDraggabillyEvents = function( draggie ) {\n  draggie.on( 'dragStart', this.handleDraggabilly.dragStart );\n  draggie.on( 'dragMove', this.handleDraggabilly.dragMove );\n  draggie.on( 'dragEnd', this.handleDraggabilly.dragEnd );\n};\n\n/**\n * binds jQuery UI Draggable events\n * @param {jQuery} $elems\n */\nPackery.prototype.bindUIDraggableEvents = function( $elems ) {\n  $elems\n    .on( 'dragstart', this.handleUIDraggable.start )\n    .on( 'drag', this.handleUIDraggable.drag )\n    .on( 'dragstop', this.handleUIDraggable.stop );\n};\n\nPackery.Rect = Rect;\nPackery.Packer = Packer;\n\nreturn Packery;\n\n}));\n\n","Redgiant_Berserk/js/imagesloaded.js":"/*!\n * imagesLoaded PACKAGED v4.1.0\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n/**\n * EvEmitter v1.0.1\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( 'ev-emitter/ev-emitter',factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( this, function() {\n\n\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners array\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || [];\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var i = 0;\n  var listener = listeners[i];\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  while ( listener ) {\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n    // get next listener\n    i += isOnce ? 0 : 1;\n    listener = listeners[i];\n  }\n\n  return this;\n};\n\nreturn EvEmitter;\n\n}));\n\n/*!\n * imagesLoaded v4.1.0\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n( function( window, factory ) { 'use strict';\n  // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.imagesLoaded = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n})( window,\n\n// --------------------------  factory -------------------------- //\n\nfunction factory( window, EvEmitter ) {\n\n\n\nvar $ = window.jQuery;\nvar console = window.console;\n\n// -------------------------- helpers -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\n// turn element or nodeList into an array\nfunction makeArray( obj ) {\n  var ary = [];\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    ary = obj;\n  } else if ( typeof obj.length == 'number' ) {\n    // convert nodeList to array\n    for ( var i=0; i < obj.length; i++ ) {\n      ary.push( obj[i] );\n    }\n  } else {\n    // array of single index\n    ary.push( obj );\n  }\n  return ary;\n}\n\n// -------------------------- imagesLoaded -------------------------- //\n\n/**\n * @param {Array, Element, NodeList, String} elem\n * @param {Object or Function} options - if function, use as callback\n * @param {Function} onAlways - callback function\n */\nfunction ImagesLoaded( elem, options, onAlways ) {\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n  if ( !( this instanceof ImagesLoaded ) ) {\n    return new ImagesLoaded( elem, options, onAlways );\n  }\n  // use elem as selector string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelectorAll( elem );\n  }\n\n  this.elements = makeArray( elem );\n  this.options = extend( {}, this.options );\n\n  if ( typeof options == 'function' ) {\n    onAlways = options;\n  } else {\n    extend( this.options, options );\n  }\n\n  if ( onAlways ) {\n    this.on( 'always', onAlways );\n  }\n\n  this.getImages();\n\n  if ( $ ) {\n    // add jQuery Deferred object\n    this.jqDeferred = new $.Deferred();\n  }\n\n  // HACK check async to allow time to bind listeners\n  setTimeout( function() {\n    this.check();\n  }.bind( this ));\n}\n\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\n\nImagesLoaded.prototype.options = {};\n\nImagesLoaded.prototype.getImages = function() {\n  this.images = [];\n\n  // filter & find items if we have an item selector\n  this.elements.forEach( this.addElementImages, this );\n};\n\n/**\n * @param {Node} element\n */\nImagesLoaded.prototype.addElementImages = function( elem ) {\n  // filter siblings\n  if ( elem.nodeName == 'IMG' ) {\n    this.addImage( elem );\n  }\n  // get background image on element\n  if ( this.options.background === true ) {\n    this.addElementBackgroundImages( elem );\n  }\n\n  // find children\n  // no non-element nodes, #143\n  var nodeType = elem.nodeType;\n  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\n    return;\n  }\n  var childImgs = elem.querySelectorAll('img');\n  // concat childElems to filterFound array\n  for ( var i=0; i < childImgs.length; i++ ) {\n    var img = childImgs[i];\n    this.addImage( img );\n  }\n\n  // get child background images\n  if ( typeof this.options.background == 'string' ) {\n    var children = elem.querySelectorAll( this.options.background );\n    for ( i=0; i < children.length; i++ ) {\n      var child = children[i];\n      this.addElementBackgroundImages( child );\n    }\n  }\n};\n\nvar elementNodeTypes = {\n  1: true,\n  9: true,\n  11: true\n};\n\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n    return;\n  }\n  // get url inside url(\"...\")\n  var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n  var matches = reURL.exec( style.backgroundImage );\n  while ( matches !== null ) {\n    var url = matches && matches[2];\n    if ( url ) {\n      this.addBackground( url, elem );\n    }\n    matches = reURL.exec( style.backgroundImage );\n  }\n};\n\n/**\n * @param {Image} img\n */\nImagesLoaded.prototype.addImage = function( img ) {\n  var loadingImage = new LoadingImage( img );\n  this.images.push( loadingImage );\n};\n\nImagesLoaded.prototype.addBackground = function( url, elem ) {\n  var background = new Background( url, elem );\n  this.images.push( background );\n};\n\nImagesLoaded.prototype.check = function() {\n  var _this = this;\n  this.progressedCount = 0;\n  this.hasAnyBroken = false;\n  // complete if no images\n  if ( !this.images.length ) {\n    this.complete();\n    return;\n  }\n\n  function onProgress( image, elem, message ) {\n    // HACK - Chrome triggers event before object properties have changed. #83\n    setTimeout( function() {\n      _this.progress( image, elem, message );\n    });\n  }\n\n  this.images.forEach( function( loadingImage ) {\n    loadingImage.once( 'progress', onProgress );\n    loadingImage.check();\n  });\n};\n\nImagesLoaded.prototype.progress = function( image, elem, message ) {\n  this.progressedCount++;\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n  // progress event\n  this.emitEvent( 'progress', [ this, image, elem ] );\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\n    this.jqDeferred.notify( this, image );\n  }\n  // check if completed\n  if ( this.progressedCount == this.images.length ) {\n    this.complete();\n  }\n\n  if ( this.options.debug && console ) {\n    console.log( 'progress: ' + message, image, elem );\n  }\n};\n\nImagesLoaded.prototype.complete = function() {\n  var eventName = this.hasAnyBroken ? 'fail' : 'done';\n  this.isComplete = true;\n  this.emitEvent( eventName, [ this ] );\n  this.emitEvent( 'always', [ this ] );\n  if ( this.jqDeferred ) {\n    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n    this.jqDeferred[ jqMethod ]( this );\n  }\n};\n\n// --------------------------  -------------------------- //\n\nfunction LoadingImage( img ) {\n  this.img = img;\n}\n\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\n\nLoadingImage.prototype.check = function() {\n  // If complete is true and browser supports natural sizes,\n  // try to check for image status manually.\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    // report based on naturalWidth\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    return;\n  }\n\n  // If none of the checks above matched, simulate loading on detached element.\n  this.proxyImage = new Image();\n  this.proxyImage.addEventListener( 'load', this );\n  this.proxyImage.addEventListener( 'error', this );\n  // bind to image as well for Firefox. #191\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.proxyImage.src = this.img.src;\n};\n\nLoadingImage.prototype.getIsImageComplete = function() {\n  return this.img.complete && this.img.naturalWidth !== undefined;\n};\n\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.img, message ] );\n};\n\n// ----- events ----- //\n\n// trigger specified handler for event type\nLoadingImage.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nLoadingImage.prototype.onload = function() {\n  this.confirm( true, 'onload' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.onerror = function() {\n  this.confirm( false, 'onerror' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.unbindEvents = function() {\n  this.proxyImage.removeEventListener( 'load', this );\n  this.proxyImage.removeEventListener( 'error', this );\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\n// -------------------------- Background -------------------------- //\n\nfunction Background( url, element ) {\n  this.url = url;\n  this.element = element;\n  this.img = new Image();\n}\n\n// inherit LoadingImage prototype\nBackground.prototype = Object.create( LoadingImage.prototype );\n\nBackground.prototype.check = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.img.src = this.url;\n  // check if image is already complete\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    this.unbindEvents();\n  }\n};\n\nBackground.prototype.unbindEvents = function() {\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\nBackground.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.element, message ] );\n};\n\n// -------------------------- jQuery -------------------------- //\n\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\n  jQuery = jQuery || window.jQuery;\n  if ( !jQuery ) {\n    return;\n  }\n  // set local variable\n  $ = jQuery;\n  // $().imagesLoaded()\n  $.fn.imagesLoaded = function( options, callback ) {\n    var instance = new ImagesLoaded( this, options, callback );\n    return instance.jqDeferred.promise( $(this) );\n  };\n};\n// try making plugin\nImagesLoaded.makeJQueryPlugin();\n\n// --------------------------  -------------------------- //\n\nreturn ImagesLoaded;\n\n});\n","Magento_Persistent/js/view/remember-me.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @deprecated since version 2.2.0\n */\ndefine([\n    'ko',\n    'uiComponent'\n], function (ko, Component) {\n    'use strict';\n\n    var persistenceConfig = window.checkoutConfig.persistenceConfig;\n\n    return Component.extend({\n        defaults: {\n            template: 'Magento_Persistent/remember-me'\n        },\n        dataScope: 'global',\n        isRememberMeCheckboxVisible: ko.observable(persistenceConfig.isRememberMeCheckboxVisible),\n        isRememberMeCheckboxChecked: ko.observable(persistenceConfig.isRememberMeCheckboxChecked)\n    });\n});\n","Nwdthemes_Revslider/public/assets/js/jquery.themepunch.tools.min.js":"define(\"themepunchTools\",[],function(){var e=window.GreenSockGlobals;try{window.GreenSockGlobals=null,window._gsQueue=null,window._gsDefine=null,delete window.GreenSockGlobals,delete window._gsQueue,delete window._gsDefine}catch(e){}try{window.GreenSockGlobals=punchgsSandbox.oldgs,window._gsQueue=punchgsSandbox.oldgs_queue}catch(e){}return window.punchgs=e,e});","Nwdthemes_Revslider/public/assets/js/jquery.themepunch.revolution.min.js":"define(\"themepunchRevolution\",[\"jquery\",\"themepunchTools\"],function(jQuery,punchgs){\"use strict\";var version={core:\"5.4.8\",\"revolution.extensions.actions.min.js\":\"2.1.0\",\"revolution.extensions.carousel.min.js\":\"1.2.1\",\"revolution.extensions.kenburn.min.js\":\"1.3.1\",\"revolution.extensions.layeranimation.min.js\":\"3.6.5\",\"revolution.extensions.navigation.min.js\":\"1.3.5\",\"revolution.extensions.parallax.min.js\":\"2.2.3\",\"revolution.extensions.slideanims.min.js\":\"1.8\",\"revolution.extensions.video.min.js\":\"2.2.2\"};jQuery.fn.extend({revolution:function(t){var e={delay:9e3,responsiveLevels:4064,visibilityLevels:[2048,1024,778,480],gridwidth:960,gridheight:500,minHeight:0,autoHeight:\"off\",sliderType:\"standard\",sliderLayout:\"auto\",fullScreenAutoWidth:\"off\",fullScreenAlignForce:\"off\",fullScreenOffsetContainer:\"\",fullScreenOffset:\"0\",hideCaptionAtLimit:0,hideAllCaptionAtLimit:0,hideSliderAtLimit:0,disableProgressBar:\"off\",stopAtSlide:-1,stopAfterLoops:-1,shadow:0,dottedOverlay:\"none\",startDelay:0,lazyType:\"smart\",spinner:\"spinner0\",shuffle:\"off\",viewPort:{enable:!1,outof:\"wait\",visible_area:\"60%\",presize:!1},fallbacks:{isJoomla:!1,panZoomDisableOnMobile:\"off\",simplifyAll:\"on\",nextSlideOnWindowFocus:\"off\",disableFocusListener:!0,ignoreHeightChanges:\"off\",ignoreHeightChangesSize:0,allowHTML5AutoPlayOnAndroid:!0},parallax:{type:\"off\",levels:[10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85],origo:\"enterpoint\",speed:400,bgparallax:\"off\",opacity:\"on\",disable_onmobile:\"off\",ddd_shadow:\"on\",ddd_bgfreeze:\"off\",ddd_overflow:\"visible\",ddd_layer_overflow:\"visible\",ddd_z_correction:65,ddd_path:\"mouse\"},scrolleffect:{fade:\"off\",blur:\"off\",scale:\"off\",grayscale:\"off\",maxblur:10,on_layers:\"off\",on_slidebg:\"off\",on_static_layers:\"off\",on_parallax_layers:\"off\",on_parallax_static_layers:\"off\",direction:\"both\",multiplicator:1.35,multiplicator_layers:.5,tilt:30,disable_on_mobile:\"on\"},carousel:{easing:punchgs.Power3.easeInOut,speed:800,showLayersAllTime:\"off\",horizontal_align:\"center\",vertical_align:\"center\",infinity:\"on\",space:0,maxVisibleItems:3,stretch:\"off\",fadeout:\"on\",maxRotation:0,minScale:0,vary_fade:\"off\",vary_rotation:\"on\",vary_scale:\"off\",border_radius:\"0px\",padding_top:0,padding_bottom:0},navigation:{keyboardNavigation:\"off\",keyboard_direction:\"horizontal\",mouseScrollNavigation:\"off\",onHoverStop:\"on\",touch:{touchenabled:\"off\",touchOnDesktop:\"off\",swipe_treshold:75,swipe_min_touches:1,drag_block_vertical:!1,swipe_direction:\"horizontal\"},arrows:{style:\"\",enable:!1,hide_onmobile:!1,hide_onleave:!0,hide_delay:200,hide_delay_mobile:1200,hide_under:0,hide_over:9999,tmp:\"\",rtl:!1,left:{h_align:\"left\",v_align:\"center\",h_offset:20,v_offset:0,container:\"slider\"},right:{h_align:\"right\",v_align:\"center\",h_offset:20,v_offset:0,container:\"slider\"}},bullets:{container:\"slider\",rtl:!1,style:\"\",enable:!1,hide_onmobile:!1,hide_onleave:!0,hide_delay:200,hide_delay_mobile:1200,hide_under:0,hide_over:9999,direction:\"horizontal\",h_align:\"left\",v_align:\"center\",space:0,h_offset:20,v_offset:0,tmp:'<span class=\"tp-bullet-image\"></span><span class=\"tp-bullet-title\"></span>'},thumbnails:{container:\"slider\",rtl:!1,style:\"\",enable:!1,width:100,height:50,min_width:100,wrapper_padding:2,wrapper_color:\"#f5f5f5\",wrapper_opacity:1,tmp:'<span class=\"tp-thumb-image\"></span><span class=\"tp-thumb-title\"></span>',visibleAmount:5,hide_onmobile:!1,hide_onleave:!0,hide_delay:200,hide_delay_mobile:1200,hide_under:0,hide_over:9999,direction:\"horizontal\",span:!1,position:\"inner\",space:2,h_align:\"left\",v_align:\"center\",h_offset:20,v_offset:0},tabs:{container:\"slider\",rtl:!1,style:\"\",enable:!1,width:100,min_width:100,height:50,wrapper_padding:10,wrapper_color:\"#f5f5f5\",wrapper_opacity:1,tmp:'<span class=\"tp-tab-image\"></span>',visibleAmount:5,hide_onmobile:!1,hide_onleave:!0,hide_delay:200,hide_delay_mobile:1200,hide_under:0,hide_over:9999,direction:\"horizontal\",span:!1,space:0,position:\"inner\",h_align:\"left\",v_align:\"center\",h_offset:20,v_offset:0}},extensions:\"extensions/\",extensions_suffix:\".min.js\",debugMode:!1};return t=jQuery.extend(!0,{},e,t),this.each(function(){var e=jQuery(this);t.minHeight=null!=t.minHeight?parseInt(t.minHeight,0):t.minHeight,t.scrolleffect.on=\"on\"===t.scrolleffect.fade||\"on\"===t.scrolleffect.scale||\"on\"===t.scrolleffect.blur||\"on\"===t.scrolleffect.grayscale,\"hero\"==t.sliderType&&e.find(\">ul>li\").each(function(e){0<e&&jQuery(this).remove()}),t.jsFileLocation=t.jsFileLocation||getScriptLocation(\"themepunch.revolution.min.js\"),t.jsFileLocation=t.jsFileLocation+t.extensions,t.scriptsneeded=getNeededScripts(t,e),t.curWinRange=0,t.rtl=!0,null!=t.navigation&&null!=t.navigation.touch&&(t.navigation.touch.swipe_min_touches=5<t.navigation.touch.swipe_min_touches?1:t.navigation.touch.swipe_min_touches),jQuery(this).on(\"scriptsloaded\",function(){if(t.modulesfailing)return e.html('<div style=\"margin:auto;line-height:40px;font-size:14px;color:#fff;padding:15px;background:#e74c3c;margin:20px 0px;\">!! Error at loading Slider Revolution 5.0 Extrensions.'+t.errorm+\"</div>\").show(),!1;null!=_R.migration&&(t=_R.migration(e,t)),punchgs.force3D=!0,\"on\"!==t.simplifyAll&&punchgs.TweenLite.lagSmoothing(1e3,16),prepareOptions(e,t),initSlider(e,t)}),e[0].opt=t,waitForScripts(e,t)})},getRSVersion:function(e){if(!0===e)return jQuery(\"body\").data(\"tp_rs_version\");var t=jQuery(\"body\").data(\"tp_rs_version\"),i=\"\";for(var a in i+=\"---------------------------------------------------------\\n\",i+=\"    Currently Loaded Slider Revolution & SR Modules :\\n\",i+=\"---------------------------------------------------------\\n\",t)i+=t[a].alias+\": \"+t[a].ver+\"\\n\";return i+=\"---------------------------------------------------------\\n\"},revremoveslide:function(r){return this.each(function(){var e=jQuery(this),t=e[0].opt;if(!(r<0||r>t.slideamount)&&null!=e&&0<e.length&&0<jQuery(\"body\").find(\"#\"+e.attr(\"id\")).length&&t&&0<t.li.length&&(0<r||r<=t.li.length)){var i=jQuery(t.li[r]),a=i.data(\"index\"),n=!1;t.slideamount=t.slideamount-1,t.realslideamount=t.realslideamount-1,removeNavWithLiref(\".tp-bullet\",a,t),removeNavWithLiref(\".tp-tab\",a,t),removeNavWithLiref(\".tp-thumb\",a,t),i.hasClass(\"active-revslide\")&&(n=!0),i.remove(),t.li=removeArray(t.li,r),t.carousel&&t.carousel.slides&&(t.carousel.slides=removeArray(t.carousel.slides,r)),t.thumbs=removeArray(t.thumbs,r),_R.updateNavIndexes&&_R.updateNavIndexes(t),n&&e.revnext(),punchgs.TweenLite.set(t.li,{minWidth:\"99%\"}),punchgs.TweenLite.set(t.li,{minWidth:\"100%\"})}})},revaddcallback:function(e){return this.each(function(){this.opt&&(void 0===this.opt.callBackArray&&(this.opt.callBackArray=new Array),this.opt.callBackArray.push(e))})},revgetparallaxproc:function(){return jQuery(this)[0].opt.scrollproc},revdebugmode:function(){return this.each(function(){var e=jQuery(this);e[0].opt.debugMode=!0,containerResized(e,e[0].opt)})},revscroll:function(t){return this.each(function(){var e=jQuery(this);jQuery(\"body,html\").animate({scrollTop:e.offset().top+e.height()-t+\"px\"},{duration:400})})},revredraw:function(e){return this.each(function(){var e=jQuery(this);containerResized(e,e[0].opt)})},revkill:function(e){var t=this,i=jQuery(this);if(punchgs.TweenLite.killDelayedCallsTo(_R.showHideNavElements),null!=i&&0<i.length&&0<jQuery(\"body\").find(\"#\"+i.attr(\"id\")).length){i.data(\"conthover\",1),i.data(\"conthover-changed\",1),i.trigger(\"revolution.slide.onpause\");var a=i.parent().find(\".tp-bannertimer\"),n=i[0].opt;n.tonpause=!0,i.trigger(\"stoptimer\");var r=\"resize.revslider-\"+i.attr(\"id\");jQuery(window).unbind(r),punchgs.TweenLite.killTweensOf(i.find(\"*\"),!1),punchgs.TweenLite.killTweensOf(i,!1),i.unbind(\"hover, mouseover, mouseenter,mouseleave, resize\");r=\"resize.revslider-\"+i.attr(\"id\");jQuery(window).off(r),i.find(\"*\").each(function(){var e=jQuery(this);e.unbind(\"on, hover, mouseenter,mouseleave,mouseover, resize,restarttimer, stoptimer\"),e.off(\"on, hover, mouseenter,mouseleave,mouseover, resize\"),e.data(\"mySplitText\",null),e.data(\"ctl\",null),null!=e.data(\"tween\")&&e.data(\"tween\").kill(),null!=e.data(\"kenburn\")&&e.data(\"kenburn\").kill(),null!=e.data(\"timeline_out\")&&e.data(\"timeline_out\").kill(),null!=e.data(\"timeline\")&&e.data(\"timeline\").kill(),e.remove(),e.empty(),e=null}),punchgs.TweenLite.killTweensOf(i.find(\"*\"),!1),punchgs.TweenLite.killTweensOf(i,!1),a.remove();try{i.closest(\".forcefullwidth_wrapper_tp_banner\").remove()}catch(e){}try{i.closest(\".rev_slider_wrapper\").remove()}catch(e){}try{i.remove()}catch(e){}return i.empty(),i.html(),n=i=null,delete t.c,delete t.opt,delete t.container,!0}return!1},revpause:function(){return this.each(function(){var e=jQuery(this);null!=e&&0<e.length&&0<jQuery(\"body\").find(\"#\"+e.attr(\"id\")).length&&(e.data(\"conthover\",1),e.data(\"conthover-changed\",1),e.trigger(\"revolution.slide.onpause\"),e[0].opt.tonpause=!0,e.trigger(\"stoptimer\"))})},revresume:function(){return this.each(function(){var e=jQuery(this);null!=e&&0<e.length&&0<jQuery(\"body\").find(\"#\"+e.attr(\"id\")).length&&(e.data(\"conthover\",0),e.data(\"conthover-changed\",1),e.trigger(\"revolution.slide.onresume\"),e[0].opt.tonpause=!1,e.trigger(\"starttimer\"))})},revstart:function(){var e=jQuery(this);if(null!=e&&0<e.length&&0<jQuery(\"body\").find(\"#\"+e.attr(\"id\")).length&&void 0!==e[0].opt)return e[0].opt.sliderisrunning?(console.log(\"Slider Is Running Already\"),!1):((e[0].opt.c=e)[0].opt.ul=e.find(\">ul\"),runSlider(e,e[0].opt),!0)},revnext:function(){return this.each(function(){var e=jQuery(this);null!=e&&0<e.length&&0<jQuery(\"body\").find(\"#\"+e.attr(\"id\")).length&&_R.callingNewSlide(e,1)})},revprev:function(){return this.each(function(){var e=jQuery(this);null!=e&&0<e.length&&0<jQuery(\"body\").find(\"#\"+e.attr(\"id\")).length&&_R.callingNewSlide(e,-1)})},revmaxslide:function(){return jQuery(this).find(\".tp-revslider-mainul >li\").length},revcurrentslide:function(){var e=jQuery(this);if(null!=e&&0<e.length&&0<jQuery(\"body\").find(\"#\"+e.attr(\"id\")).length)return parseInt(e[0].opt.act,0)+1},revlastslide:function(){return jQuery(this).find(\".tp-revslider-mainul >li\").length},revshowslide:function(t){return this.each(function(){var e=jQuery(this);null!=e&&0<e.length&&0<jQuery(\"body\").find(\"#\"+e.attr(\"id\")).length&&_R.callingNewSlide(e,\"to\"+(t-1))})},revcallslidewithid:function(t){return this.each(function(){var e=jQuery(this);null!=e&&0<e.length&&0<jQuery(\"body\").find(\"#\"+e.attr(\"id\")).length&&_R.callingNewSlide(e,t)})}});var _R=jQuery.fn.revolution;jQuery.extend(!0,_R,{getversion:function(){return version},compare_version:function(e){var t=jQuery(\"body\").data(\"tp_rs_version\");return void 0===(t=void 0===t?new Object:t).Core&&(t.Core=new Object,t.Core.alias=\"Slider Revolution Core\",t.Core.name=\"jquery.themepunch.revolution.min.js\",t.Core.ver=_R.getversion().core),\"stop\"!=e.check&&(_R.getversion().core<e.min_core?(void 0===e.check&&(console.log(\"%cSlider Revolution Warning (Core:\"+_R.getversion().core+\")\",\"color:#c0392b;font-weight:bold;\"),console.log(\"%c     Core is older than expected (\"+e.min_core+\") from \"+e.alias,\"color:#333\"),console.log(\"%c     Please update Slider Revolution to the latest version.\",\"color:#333\"),console.log(\"%c     It might be required to purge and clear Server/Client side Caches.\",\"color:#333\")),e.check=\"stop\"):null!=_R.getversion()[e.name]&&e.version<_R.getversion()[e.name]&&(void 0===e.check&&(console.log(\"%cSlider Revolution Warning (Core:\"+_R.getversion().core+\")\",\"color:#c0392b;font-weight:bold;\"),console.log(\"%c     \"+e.alias+\" (\"+e.version+\") is older than requiered (\"+_R.getversion()[e.name]+\")\",\"color:#333\"),console.log(\"%c     Please update Slider Revolution to the latest version.\",\"color:#333\"),console.log(\"%c     It might be required to purge and clear Server/Client side Caches.\",\"color:#333\")),e.check=\"stop\")),void 0===t[e.alias]&&(t[e.alias]=new Object,t[e.alias].alias=e.alias,t[e.alias].ver=e.version,t[e.alias].name=e.name),jQuery(\"body\").data(\"tp_rs_version\",t),e},currentSlideIndex:function(e){var t=e.c.find(\".active-revslide\").index();return t=-1==t?0:t},simp:function(e,t,i){var a=Math.abs(e)-Math.floor(Math.abs(e/t))*t;return i?a:e<0?-1*a:a},iOSVersion:function(){var e=!1;return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)?navigator.userAgent.match(/OS 4_\\d like Mac OS X/i)&&(e=!0):e=!1,e},isIE:function(e,t){var i=jQuery('<div style=\"display:none;\"/>').appendTo(jQuery(\"body\"));i.html(\"\\x3c!--[if \"+(t||\"\")+\" IE \"+(e||\"\")+\"]><a>&nbsp;</a><![endif]--\\x3e\");var a=i.find(\"a\").length;return i.remove(),a},is_mobile:function(){var e=[\"android\",\"webos\",\"iphone\",\"ipad\",\"blackberry\",\"Android\",\"webos\",,\"iPod\",\"iPhone\",\"iPad\",\"Blackberry\",\"BlackBerry\"],t=!1;for(var i in e)1<navigator.userAgent.split(e[i]).length&&(t=!0);return t},is_android:function(){var e=[\"android\",\"Android\"],t=!1;for(var i in e)1<navigator.userAgent.split(e[i]).length&&(t=!0);return t},callBackHandling:function(e,i,a){try{e.callBackArray&&jQuery.each(e.callBackArray,function(e,t){t&&t.inmodule&&t.inmodule===i&&t.atposition&&t.atposition===a&&t.callback&&t.callback.call()})}catch(e){console.log(\"Call Back Failed\")}},get_browser:function(){var e,t=navigator.appName,i=navigator.userAgent,a=i.match(/(opera|chrome|safari|firefox|msie)\\/?\\s*(\\.?\\d+(\\.\\d+)*)/i);return a&&null!=(e=i.match(/version\\/([\\.\\d]+)/i))&&(a[2]=e[1]),(a=a?[a[1],a[2]]:[t,navigator.appVersion,\"-?\"])[0]},get_browser_version:function(){var e,t=navigator.appName,i=navigator.userAgent,a=i.match(/(opera|chrome|safari|firefox|msie)\\/?\\s*(\\.?\\d+(\\.\\d+)*)/i);return a&&null!=(e=i.match(/version\\/([\\.\\d]+)/i))&&(a[2]=e[1]),(a=a?[a[1],a[2]]:[t,navigator.appVersion,\"-?\"])[1]},isSafari11:function(){var e=jQuery.trim(_R.get_browser().toLowerCase());return-1===jQuery.trim(navigator.userAgent.toLowerCase()).search(\"edge\")&&\"msie\"!==e&&e.match(/safari|chrome/)},getHorizontalOffset:function(e,t){var i=gWiderOut(e,\".outer-left\"),a=gWiderOut(e,\".outer-right\");switch(t){case\"left\":return i;case\"right\":return a;case\"both\":return i+a}},callingNewSlide:function(e,t){var i=0<e.find(\".next-revslide\").length?e.find(\".next-revslide\").index():0<e.find(\".processing-revslide\").length?e.find(\".processing-revslide\").index():e.find(\".active-revslide\").index(),a=0,n=e[0].opt;e.find(\".next-revslide\").removeClass(\"next-revslide\"),e.find(\".active-revslide\").hasClass(\"tp-invisible-slide\")&&(i=n.last_shown_slide),t&&jQuery.isNumeric(t)||t.match(/to/g)?(a=1===t||-1===t?(a=i+t)<0?n.slideamount-1:a>=n.slideamount?0:a:(t=jQuery.isNumeric(t)?t:parseInt(t.split(\"to\")[1],0))<0?0:t>n.slideamount-1?n.slideamount-1:t,e.find(\".tp-revslider-slidesli:eq(\"+a+\")\").addClass(\"next-revslide\")):t&&e.find(\".tp-revslider-slidesli\").each(function(){var e=jQuery(this);e.data(\"index\")===t&&e.addClass(\"next-revslide\")}),a=e.find(\".next-revslide\").index(),e.trigger(\"revolution.nextslide.waiting\"),i===a&&i===n.last_shown_slide||a!==i&&-1!=a?swapSlide(e):e.find(\".next-revslide\").removeClass(\"next-revslide\")},slotSize:function(e,t){t.slotw=Math.ceil(t.width/t.slots),\"fullscreen\"==t.sliderLayout?t.sloth=Math.ceil(jQuery(window).height()/t.slots):t.sloth=Math.ceil(t.height/t.slots),\"on\"==t.autoHeight&&void 0!==e&&\"\"!==e&&(t.sloth=Math.ceil(e.height()/t.slots))},setSize:function(e){var t=(e.top_outer||0)+(e.bottom_outer||0),i=parseInt(e.carousel.padding_top||0,0),a=parseInt(e.carousel.padding_bottom||0,0),n=e.gridheight[e.curWinRange],r=0,o=-1===e.nextSlide||void 0===e.nextSlide?0:e.nextSlide;if(e.paddings=void 0===e.paddings?{top:parseInt(e.c.parent().css(\"paddingTop\"),0)||0,bottom:parseInt(e.c.parent().css(\"paddingBottom\"),0)||0}:e.paddings,e.rowzones&&0<e.rowzones.length)for(var s=0;s<e.rowzones[o].length;s++)r+=e.rowzones[o][s][0].offsetHeight;if(n=(n=n<e.minHeight?e.minHeight:n)<r?r:n,\"fullwidth\"==e.sliderLayout&&\"off\"==e.autoHeight&&punchgs.TweenLite.set(e.c,{maxHeight:n+\"px\"}),e.c.css({marginTop:i,marginBottom:a}),e.width=e.ul.width(),e.height=e.ul.height(),setScale(e),e.height=Math.round(e.gridheight[e.curWinRange]*(e.width/e.gridwidth[e.curWinRange])),e.height>e.gridheight[e.curWinRange]&&\"on\"!=e.autoHeight&&(e.height=e.gridheight[e.curWinRange]),\"fullscreen\"==e.sliderLayout||e.infullscreenmode){e.height=e.bw*e.gridheight[e.curWinRange];e.c.parent().width();var l=jQuery(window).height();if(null!=e.fullScreenOffsetContainer){try{var d=e.fullScreenOffsetContainer.split(\",\");d&&jQuery.each(d,function(e,t){l=0<jQuery(t).length?l-jQuery(t).outerHeight(!0):l})}catch(e){}try{1<e.fullScreenOffset.split(\"%\").length&&null!=e.fullScreenOffset&&0<e.fullScreenOffset.length?l-=jQuery(window).height()*parseInt(e.fullScreenOffset,0)/100:null!=e.fullScreenOffset&&0<e.fullScreenOffset.length&&(l-=parseInt(e.fullScreenOffset,0))}catch(e){}}l=l<e.minHeight?e.minHeight:l,l-=t,e.c.parent().height(l),e.c.closest(\".rev_slider_wrapper\").height(l),e.c.css({height:\"100%\"}),e.height=l,null!=e.minHeight&&e.height<e.minHeight&&(e.height=e.minHeight),e.height=parseInt(r,0)>parseInt(e.height,0)?r:e.height}else null!=e.minHeight&&e.height<e.minHeight&&(e.height=e.minHeight),e.height=parseInt(r,0)>parseInt(e.height,0)?r:e.height,e.c.height(e.height);var c={height:i+a+t+e.height+e.paddings.top+e.paddings.bottom};e.c.closest(\".forcefullwidth_wrapper_tp_banner\").find(\".tp-fullwidth-forcer\").css(c),e.c.closest(\".rev_slider_wrapper\").css(c),setScale(e)},enterInViewPort:function(i){i.waitForCountDown&&(countDown(i.c,i),i.waitForCountDown=!1),i.waitForFirstSlide&&(swapSlide(i.c),i.waitForFirstSlide=!1,setTimeout(function(){i.c.removeClass(\"tp-waitforfirststart\")},500)),\"playing\"!=i.sliderlaststatus&&null!=i.sliderlaststatus||i.c.trigger(\"starttimer\"),null!=i.lastplayedvideos&&0<i.lastplayedvideos.length&&jQuery.each(i.lastplayedvideos,function(e,t){_R.playVideo(t,i)})},leaveViewPort:function(i){i.sliderlaststatus=i.sliderstatus,i.c.trigger(\"stoptimer\"),null!=i.playingvideos&&0<i.playingvideos.length&&(i.lastplayedvideos=jQuery.extend(!0,[],i.playingvideos),i.playingvideos&&jQuery.each(i.playingvideos,function(e,t){i.leaveViewPortBasedStop=!0,_R.stopVideo&&_R.stopVideo(t,i)}))},unToggleState:function(e){null!=e&&0<e.length&&jQuery.each(e,function(e,t){t.removeClass(\"rs-toggle-content-active\")})},toggleState:function(e){null!=e&&0<e.length&&jQuery.each(e,function(e,t){t.addClass(\"rs-toggle-content-active\")})},swaptoggleState:function(e){null!=e&&0<e.length&&jQuery.each(e,function(e,t){jQuery(t).hasClass(\"rs-toggle-content-active\")?jQuery(t).removeClass(\"rs-toggle-content-active\"):jQuery(t).addClass(\"rs-toggle-content-active\")})},lastToggleState:function(e){var i=0;return null!=e&&0<e.length&&jQuery.each(e,function(e,t){i=t.hasClass(\"rs-toggle-content-active\")}),i}});var _ISM=_R.is_mobile(),_ANDROID=_R.is_android(),checkIDS=function(e,t){if(e.anyid=void 0===e.anyid?[]:e.anyid,-1!=jQuery.inArray(t.attr(\"id\"),e.anyid)){var i=t.attr(\"id\")+\"_\"+Math.round(9999*Math.random());t.attr(\"id\",i)}e.anyid.push(t.attr(\"id\"))},removeArray=function(e,i){var a=[];return jQuery.each(e,function(e,t){e!=i&&a.push(t)}),a},removeNavWithLiref=function(e,t,i){i.c.find(e).each(function(){var e=jQuery(this);e.data(\"liref\")===t&&e.remove()})},lAjax=function(t,i){return!jQuery(\"body\").data(t)&&(i.filesystem?(void 0===i.errorm&&(i.errorm=\"<br>Local Filesystem Detected !<br>Put this to your header:\"),console.warn(\"Local Filesystem detected !\"),i.errorm=i.errorm+'<br>&lt;script type=\"text/javascript\" src=\"'+i.jsFileLocation+t+i.extensions_suffix+'\"&gt;&lt;/script&gt;',console.warn(i.jsFileLocation+t+i.extensions_suffix+\" could not be loaded !\"),console.warn(\"Please use a local Server or work online or make sure that you load all needed Libraries manually in your Document.\"),console.log(\" \"),!(i.modulesfailing=!0)):(jQuery.ajaxSetup({type:\"get\"}),jQuery.ajax({url:i.jsFileLocation+t+i.extensions_suffix+\"?version=\"+version.core,dataType:\"script\",cache:!0,error:function(e){console.warn(\"Slider Revolution 5.0 Error !\"),console.error(\"Failure at Loading:\"+t+i.extensions_suffix+\" on Path:\"+i.jsFileLocation),console.info(e)}}),void jQuery(\"body\").data(t,!0)))},getNeededScripts=function(i,e){var t=new Object,a=i.navigation;return t.kenburns=!1,t.parallax=!1,t.carousel=!1,t.navigation=!1,t.videos=!1,t.actions=!1,t.layeranim=!1,t.migration=!1,e.data(\"version\")&&e.data(\"version\").toString().match(/5./gi)?(e.find(\"img\").each(function(){\"on\"==jQuery(this).data(\"kenburns\")&&(t.kenburns=!0)}),(\"carousel\"==i.sliderType||\"on\"==a.keyboardNavigation||\"on\"==a.mouseScrollNavigation||\"on\"==a.touch.touchenabled||a.arrows.enable||a.bullets.enable||a.thumbnails.enable||a.tabs.enable)&&(t.navigation=!0),e.find(\".tp-caption, .tp-static-layer, .rs-background-video-layer\").each(function(){var e=jQuery(this);(null!=e.data(\"ytid\")||0<e.find(\"iframe\").length&&0<e.find(\"iframe\").attr(\"src\").toLowerCase().indexOf(\"youtube\"))&&(t.videos=!0),(null!=e.data(\"vimeoid\")||0<e.find(\"iframe\").length&&0<e.find(\"iframe\").attr(\"src\").toLowerCase().indexOf(\"vimeo\"))&&(t.videos=!0),void 0!==e.data(\"actions\")&&(t.actions=!0),t.layeranim=!0}),e.find(\"li\").each(function(){jQuery(this).data(\"link\")&&null!=jQuery(this).data(\"link\")&&(t.layeranim=!0,t.actions=!0)}),!t.videos&&(0<e.find(\".rs-background-video-layer\").length||0<e.find(\".tp-videolayer\").length||0<e.find(\".tp-audiolayer\").length||0<e.find(\"iframe\").length||0<e.find(\"video\").length)&&(t.videos=!0),\"carousel\"==i.sliderType&&(t.carousel=!0),(\"off\"!==i.parallax.type||i.viewPort.enable||\"true\"==i.viewPort.enable||\"true\"===i.scrolleffect.on||i.scrolleffect.on)&&(t.parallax=!0)):(t.kenburns=!0,t.parallax=!0,t.carousel=!1,t.navigation=!0,t.videos=!0,t.actions=!0,t.layeranim=!0,t.migration=!0),\"hero\"==i.sliderType&&(t.carousel=!1,t.navigation=!1),window.location.href.match(/file:/gi)&&(t.filesystem=!0,i.filesystem=!0),t.videos&&void 0===_R.isVideoPlaying&&lAjax(\"revolution.extension.video\",i),t.carousel&&void 0===_R.prepareCarousel&&lAjax(\"revolution.extension.carousel\",i),t.carousel||void 0!==_R.animateSlide||lAjax(\"revolution.extension.slideanims\",i),t.actions&&void 0===_R.checkActions&&lAjax(\"revolution.extension.actions\",i),t.layeranim&&void 0===_R.handleStaticLayers&&lAjax(\"revolution.extension.layeranimation\",i),t.kenburns&&void 0===_R.stopKenBurn&&lAjax(\"revolution.extension.kenburn\",i),t.navigation&&void 0===_R.createNavigation&&lAjax(\"revolution.extension.navigation\",i),t.migration&&void 0===_R.migration&&lAjax(\"revolution.extension.migration\",i),t.parallax&&void 0===_R.checkForParallax&&lAjax(\"revolution.extension.parallax\",i),null!=i.addons&&0<i.addons.length&&jQuery.each(i.addons,function(e,t){\"object\"==typeof t&&null!=t.fileprefix&&lAjax(t.fileprefix,i)}),t},waitForScripts=function(e,t){var i=!0,a=t.scriptsneeded;null!=t.addons&&0<t.addons.length&&jQuery.each(t.addons,function(e,t){\"object\"==typeof t&&null!=t.init&&void 0===_R[t.init]&&(i=!1)}),a.filesystem||void 0!==punchgs&&i&&(!a.kenburns||a.kenburns&&void 0!==_R.stopKenBurn)&&(!a.navigation||a.navigation&&void 0!==_R.createNavigation)&&(!a.carousel||a.carousel&&void 0!==_R.prepareCarousel)&&(!a.videos||a.videos&&void 0!==_R.resetVideo)&&(!a.actions||a.actions&&void 0!==_R.checkActions)&&(!a.layeranim||a.layeranim&&void 0!==_R.handleStaticLayers)&&(!a.migration||a.migration&&void 0!==_R.migration)&&(!a.parallax||a.parallax&&void 0!==_R.checkForParallax)&&(a.carousel||!a.carousel&&void 0!==_R.animateSlide)?e.trigger(\"scriptsloaded\"):setTimeout(function(){waitForScripts(e,t)},50)},getScriptLocation=function(e){var t=new RegExp(\"themepunch.revolution.min.js\",\"gi\"),i=\"\";return jQuery(\"script\").each(function(){var e=jQuery(this).attr(\"src\");e&&e.match(t)&&(i=e)}),i=(i=(i=i.replace(\"jquery.themepunch.revolution.min.js\",\"\")).replace(\"jquery.themepunch.revolution.js\",\"\")).split(\"?\")[0]},setCurWinRange=function(e,t){var i=9999,a=0,n=0,r=0,o=jQuery(window).width(),s=t&&9999==e.responsiveLevels?e.visibilityLevels:e.responsiveLevels;s&&s.length&&jQuery.each(s,function(e,t){o<t&&(0==a||t<a)&&(r=e,a=i=t),t<o&&a<t&&(a=t,n=e)}),a<i&&(r=n),t?e.forcedWinRange=r:e.curWinRange=r},prepareOptions=function(e,t){t.carousel.maxVisibleItems=t.carousel.maxVisibleItems<1?999:t.carousel.maxVisibleItems,t.carousel.vertical_align=\"top\"===t.carousel.vertical_align?\"0%\":\"bottom\"===t.carousel.vertical_align?\"100%\":\"50%\"},gWiderOut=function(e,t){var i=0;return e.find(t).each(function(){var e=jQuery(this);!e.hasClass(\"tp-forcenotvisible\")&&i<e.outerWidth()&&(i=e.outerWidth())}),i},initSlider=function(container,opt){if(null==container)return!1;null!=container.data(\"aimg\")&&(\"enabled\"==container.data(\"aie8\")&&_R.isIE(8)||\"enabled\"==container.data(\"amobile\")&&_ISM)&&container.html('<img class=\"tp-slider-alternative-image\" src=\"'+container.data(\"aimg\")+'\">'),container.find(\">ul\").addClass(\"tp-revslider-mainul\"),opt.c=container,opt.ul=container.find(\".tp-revslider-mainul\"),opt.ul.find(\">li\").each(function(e){var t=jQuery(this);\"on\"==t.data(\"hideslideonmobile\")&&_ISM&&t.remove(),(t.data(\"invisible\")||!0===t.data(\"invisible\"))&&(t.addClass(\"tp-invisible-slide\"),t.appendTo(opt.ul))}),null!=opt.addons&&0<opt.addons.length&&jQuery.each(opt.addons,function(i,obj){\"object\"==typeof obj&&null!=obj.init&&_R[obj.init](eval(obj.params))}),opt.cid=container.attr(\"id\"),opt.ul.css({visibility:\"visible\"}),opt.slideamount=opt.ul.find(\">li\").not(\".tp-invisible-slide\").length,opt.realslideamount=opt.ul.find(\">li\").length,opt.slayers=container.find(\".tp-static-layers\"),opt.slayers.data(\"index\",\"staticlayers\"),1!=opt.waitForInit&&(container[0].opt=opt,runSlider(container,opt))},onFullScreenChange=function(){jQuery(\"body\").data(\"rs-fullScreenMode\",!jQuery(\"body\").data(\"rs-fullScreenMode\")),jQuery(\"body\").data(\"rs-fullScreenMode\")&&setTimeout(function(){jQuery(window).trigger(\"resize\")},200)},runSlider=function(i,x){if(x.sliderisrunning=!0,x.ul.find(\">li\").each(function(e){jQuery(this).data(\"originalindex\",e)}),x.allli=x.ul.find(\">li\"),jQuery.each(x.allli,function(e,t){(t=jQuery(t)).data(\"origindex\",t.index())}),x.li=x.ul.find(\">li\").not(\".tp-invisible-slide\"),\"on\"==x.shuffle){var e=new Object,t=x.ul.find(\">li:first-child\");e.fstransition=t.data(\"fstransition\"),e.fsmasterspeed=t.data(\"fsmasterspeed\"),e.fsslotamount=t.data(\"fsslotamount\");for(var a=0;a<x.slideamount;a++){var n=Math.round(Math.random()*x.slideamount);x.ul.find(\">li:eq(\"+n+\")\").prependTo(x.ul)}var r=x.ul.find(\">li:first-child\");r.data(\"fstransition\",e.fstransition),r.data(\"fsmasterspeed\",e.fsmasterspeed),r.data(\"fsslotamount\",e.fsslotamount),x.allli=x.ul.find(\">li\"),x.li=x.ul.find(\">li\").not(\".tp-invisible-slide\")}if(x.inli=x.ul.find(\">li.tp-invisible-slide\"),x.thumbs=new Array,x.slots=4,x.act=-1,x.firststart=1,x.loadqueue=new Array,x.syncload=0,x.conw=i.width(),x.conh=i.height(),1<x.responsiveLevels.length?x.responsiveLevels[0]=9999:x.responsiveLevels=9999,jQuery.each(x.allli,function(e,t){var i=(t=jQuery(t)).find(\".rev-slidebg\")||t.find(\"img\").first(),a=0;t.addClass(\"tp-revslider-slidesli\"),void 0===t.data(\"index\")&&t.data(\"index\",\"rs-\"+Math.round(999999*Math.random()));var n=new Object;n.params=new Array,n.id=t.data(\"index\"),n.src=void 0!==t.data(\"thumb\")?t.data(\"thumb\"):void 0!==i.data(\"lazyload\")?i.data(\"lazyload\"):i.attr(\"src\"),void 0!==t.data(\"title\")&&n.params.push({from:RegExp(\"\\\\{\\\\{title\\\\}\\\\}\",\"g\"),to:t.data(\"title\")}),void 0!==t.data(\"description\")&&n.params.push({from:RegExp(\"\\\\{\\\\{description\\\\}\\\\}\",\"g\"),to:t.data(\"description\")});for(a=1;a<=10;a++)void 0!==t.data(\"param\"+a)&&n.params.push({from:RegExp(\"\\\\{\\\\{param\"+a+\"\\\\}\\\\}\",\"g\"),to:t.data(\"param\"+a)});if(x.thumbs.push(n),null!=t.data(\"link\")){var r=t.data(\"link\"),o=t.data(\"target\")||\"_self\",s=\"back\"===t.data(\"slideindex\")?0:60,l=t.data(\"linktoslide\"),d=l;null!=l&&\"next\"!=l&&\"prev\"!=l&&x.allli.each(function(){var e=jQuery(this);e.data(\"origindex\")+1==d&&(l=e.data(\"index\"))}),\"slide\"!=r&&(l=\"no\");var c='<div class=\"tp-caption slidelink\" style=\"cursor:pointer;width:100%;height:100%;z-index:'+s+';\" data-x=\"center\" data-y=\"center\" data-basealign=\"slide\" ',u=' data-frames=\\'[{\"delay\":0,\"speed\":100,\"frame\":\"0\",\"from\":\"opacity:0;\",\"to\":\"o:1;\",\"ease\":\"Power3.easeInOut\"},{\"delay\":\"wait\",\"speed\":300,\"frame\":\"999\",\"to\":\"opacity:0;\",\"ease\":\"Power3.easeInOut\"}]\\'';c=\"no\"==l?c+u+\" >\":c+\"data-actions='\"+(\"scroll_under\"===l?'[{\"event\":\"click\",\"action\":\"scrollbelow\",\"offset\":\"100px\",\"delay\":\"0\"}]':\"prev\"===l?'[{\"event\":\"click\",\"action\":\"jumptoslide\",\"slide\":\"prev\",\"delay\":\"0.2\"}]':\"next\"===l?'[{\"event\":\"click\",\"action\":\"jumptoslide\",\"slide\":\"next\",\"delay\":\"0.2\"}]':'[{\"event\":\"click\",\"action\":\"jumptoslide\",\"slide\":\"'+l+'\",\"delay\":\"0.2\"}]')+\"'\"+u+\" >\",c+='<a style=\"width:100%;height:100%;display:block\"',c=\"slide\"!=r?c+' target=\"'+o+'\" href=\"'+r+'\"':c,c+='><span style=\"width:100%;height:100%;display:block\"></span></a></div>',t.append(c)}}),x.rle=x.responsiveLevels.length||1,x.gridwidth=cArray(x.gridwidth,x.rle),x.gridheight=cArray(x.gridheight,x.rle),\"on\"==x.simplifyAll&&(_R.isIE(8)||_R.iOSVersion())&&(i.find(\".tp-caption\").each(function(){var e=jQuery(this);e.removeClass(\"customin customout\").addClass(\"fadein fadeout\"),e.data(\"splitin\",\"\"),e.data(\"speed\",400)}),x.allli.each(function(){var e=jQuery(this);e.data(\"transition\",\"fade\"),e.data(\"masterspeed\",500),e.data(\"slotamount\",1),(e.find(\".rev-slidebg\")||e.find(\">img\").first()).data(\"kenburns\",\"off\")})),x.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),x.autoHeight=\"fullscreen\"==x.sliderLayout?\"on\":x.autoHeight,\"fullwidth\"==x.sliderLayout&&\"off\"==x.autoHeight&&i.css({maxHeight:x.gridheight[x.curWinRange]+\"px\"}),\"auto\"!=x.sliderLayout&&0==i.closest(\".forcefullwidth_wrapper_tp_banner\").length&&(\"fullscreen\"!==x.sliderLayout||\"on\"!=x.fullScreenAutoWidth)){var o=i.parent(),s=o.css(\"marginBottom\"),l=o.css(\"marginTop\"),d=i.attr(\"id\")+\"_forcefullwidth\";s=void 0===s?0:s,l=void 0===l?0:l,o.wrap('<div class=\"forcefullwidth_wrapper_tp_banner\" id=\"'+d+'\" style=\"position:relative;width:100%;height:auto;margin-top:'+l+\";margin-bottom:\"+s+'\"></div>'),i.closest(\".forcefullwidth_wrapper_tp_banner\").append('<div class=\"tp-fullwidth-forcer\" style=\"width:100%;height:'+i.height()+'px\"></div>'),i.parent().css({marginTop:\"0px\",marginBottom:\"0px\"}),i.parent().css({position:\"absolute\"})}if(void 0!==x.shadow&&0<x.shadow&&(i.parent().addClass(\"tp-shadow\"+x.shadow),i.parent().append('<div class=\"tp-shadowcover\"></div>'),i.parent().find(\".tp-shadowcover\").css({backgroundColor:i.parent().css(\"backgroundColor\"),backgroundImage:i.parent().css(\"backgroundImage\")})),setCurWinRange(x),setCurWinRange(x,!0),!i.hasClass(\"revslider-initialised\")){i.addClass(\"revslider-initialised\"),i.addClass(\"tp-simpleresponsive\"),null==i.attr(\"id\")&&i.attr(\"id\",\"revslider-\"+Math.round(1e3*Math.random()+5)),checkIDS(x,i),x.firefox13=!1,x.ie=!jQuery.support.opacity,x.ie9=9==document.documentMode,x.origcd=x.delay;var c=jQuery.fn.jquery.split(\".\"),u=parseFloat(c[0]),p=parseFloat(c[1]);parseFloat(c[2]||\"0\");1==u&&p<7&&i.html('<div style=\"text-align:center; padding:40px 0px; font-size:20px; color:#992222;\"> The Current Version of jQuery:'+c+\" <br>Please update your jQuery Version to min. 1.7 in Case you wish to use the Revolution Slider Plugin</div>\"),1<u&&(x.ie=!1);var j=new Object;j.addedyt=0,j.addedvim=0,j.addedvid=0,x.scrolleffect.on&&(x.scrolleffect.layers=new Array),i.find(\".tp-caption, .rs-background-video-layer\").each(function(e){var n=jQuery(this),t=n.data(),i=t.autoplayonlyfirsttime,a=t.autoplay,r=(void 0!==t.videomp4||void 0!==t.videowebm||t.videoogv,n.hasClass(\"tp-audiolayer\")),o=t.videoloop,s=!0,l=!1;t.startclasses=n.attr(\"class\"),t.isparallaxlayer=0<=t.startclasses.indexOf(\"rs-parallax\"),n.hasClass(\"tp-static-layer\")&&_R.handleStaticLayers&&(_R.handleStaticLayers(n,x),x.scrolleffect.on&&(\"on\"===x.scrolleffect.on_parallax_static_layers&&t.isparallaxlayer||\"on\"===x.scrolleffect.on_static_layers&&!t.isparallaxlayer)&&(l=!0),s=!1);var d=n.data(\"noposteronmobile\")||n.data(\"noPosterOnMobile\")||n.data(\"posteronmobile\")||n.data(\"posterOnMobile\")||n.data(\"posterOnMObile\");n.data(\"noposteronmobile\",d);var c=0;if(n.find(\"iframe\").each(function(){punchgs.TweenLite.set(jQuery(this),{autoAlpha:0}),c++}),0<c&&n.data(\"iframes\",!0),n.hasClass(\"tp-caption\")){var u=n.hasClass(\"slidelink\")?\"width:100% !important;height:100% !important;\":\"\",p=n.data(),h=\"\",f=p.type,g=\"row\"===f||\"column\"===f?\"relative\":\"absolute\",v=\"\";\"row\"===f?(n.addClass(\"rev_row\").removeClass(\"tp-resizeme\"),v=\"rev_row_wrap\"):\"column\"===f?(h=void 0===p.verticalalign?\" vertical-align:bottom;\":\" vertical-align:\"+p.verticalalign+\";\",v=\"rev_column\",n.addClass(\"rev_column_inner\").removeClass(\"tp-resizeme\"),n.data(\"width\",\"auto\"),punchgs.TweenLite.set(n,{width:\"auto\"})):\"group\"===f&&n.removeClass(\"tp-resizeme\");var m=\"\",y=\"\";\"row\"!==f&&\"group\"!==f&&\"column\"!==f?(m=\"display:\"+n.css(\"display\")+\";\",0<n.closest(\".rev_column\").length?(n.addClass(\"rev_layer_in_column\"),s=!1):0<n.closest(\".rev_group\").length&&(n.addClass(\"rev_layer_in_group\"),s=!1)):\"column\"===f&&(s=!1),void 0!==p.wrapper_class&&(v=v+\" \"+p.wrapper_class),void 0!==p.wrapper_id&&(y='id=\"'+p.wrapper_id+'\"');var w=\"\";n.hasClass(\"tp-no-events\")&&(w=\";pointer-events:none\"),n.wrap(\"<div \"+y+' class=\"tp-parallax-wrap '+v+'\" style=\"'+h+\" \"+u+\"position:\"+g+\";\"+m+\";visibility:hidden\"+w+'\"><div class=\"tp-loop-wrap\" style=\"'+u+\"position:\"+g+\";\"+m+';\"><div class=\"tp-mask-wrap\" style=\"'+u+\"position:\"+g+\";\"+m+';\" ></div></div></div>'),s&&x.scrolleffect.on&&(\"on\"===x.scrolleffect.on_parallax_layers&&t.isparallaxlayer||\"on\"===x.scrolleffect.on_layers&&!t.isparallaxlayer)&&x.scrolleffect.layers.push(n.parent()),l&&x.scrolleffect.layers.push(n.parent()),\"column\"===f&&(n.append('<div class=\"rev_column_bg rev_column_bg_man_sized\" style=\"visibility:hidden\"></div>'),n.closest(\".tp-parallax-wrap\").append('<div class=\"rev_column_bg rev_column_bg_auto_sized\"></div>'));var b=n.closest(\".tp-loop-wrap\");jQuery.each([\"pendulum\",\"rotate\",\"slideloop\",\"pulse\",\"wave\"],function(e,t){var i=n.find(\".rs-\"+t),a=i.data()||\"\";\"\"!=a&&(b.data(a),b.addClass(\"rs-\"+t),i.children(0).unwrap(),n.data(\"loopanimation\",\"on\"))}),void 0===n.attr(\"id\")&&n.attr(\"id\",\"layer-\"+Math.round(999999999*Math.random())),checkIDS(x,n),punchgs.TweenLite.set(n,{visibility:\"hidden\"})}var _=n.data(\"actions\");void 0!==_&&_R.checkActions(n,x,_),checkHoverDependencies(n,x),_R.checkVideoApis&&(j=_R.checkVideoApis(n,x,j)),r||1!=i&&\"true\"!=i&&\"1sttime\"!=a||\"loopandnoslidestop\"==o||n.closest(\"li.tp-revslider-slidesli\").addClass(\"rs-pause-timer-once\"),r||1!=a&&\"true\"!=a&&\"on\"!=a&&\"no1sttime\"!=a||\"loopandnoslidestop\"==o||n.closest(\"li.tp-revslider-slidesli\").addClass(\"rs-pause-timer-always\")}),i[0].addEventListener(\"mouseenter\",function(){i.trigger(\"tp-mouseenter\"),x.overcontainer=!0},{passive:!0}),i[0].addEventListener(\"mouseover\",function(){i.trigger(\"tp-mouseover\"),x.overcontainer=!0},{passive:!0}),i[0].addEventListener(\"mouseleave\",function(){i.trigger(\"tp-mouseleft\"),x.overcontainer=!1},{passive:!0}),i.find(\".tp-caption video\").each(function(e){var t=jQuery(this);t.removeClass(\"video-js vjs-default-skin\"),t.attr(\"preload\",\"\"),t.css({display:\"none\"})}),\"standard\"!==x.sliderType&&(x.lazyType=\"all\"),loadImages(i.find(\".tp-static-layers\"),x,0,!0),waitForCurrentImages(i.find(\".tp-static-layers\"),x,function(){i.find(\".tp-static-layers img\").each(function(){var e=jQuery(this),t=null!=e.data(\"lazyload\")?e.data(\"lazyload\"):e.attr(\"src\"),i=getLoadObj(x,t);e.attr(\"src\",i.src)})}),x.rowzones=[],x.allli.each(function(e){var t=jQuery(this);x.rowzones[e]=[],t.find(\".rev_row_zone\").each(function(){x.rowzones[e].push(jQuery(this))}),\"all\"!=x.lazyType&&(\"smart\"!=x.lazyType||0!=e&&1!=e&&e!=x.slideamount&&e!=x.slideamount-1)||(loadImages(t,x,e),waitForCurrentImages(t,x,function(){}))});var h=getUrlVars(\"#\")[0];if(h.length<9&&1<h.split(\"slide\").length){var f=parseInt(h.split(\"slide\")[1],0);f<1&&(f=1),f>x.slideamount&&(f=x.slideamount),x.startWithSlide=f-1}i.append('<div class=\"tp-loader '+x.spinner+'\"><div class=\"dot1\"></div><div class=\"dot2\"></div><div class=\"bounce1\"></div><div class=\"bounce2\"></div><div class=\"bounce3\"></div></div>'),x.loader=i.find(\".tp-loader\"),0===i.find(\".tp-bannertimer\").length&&i.append('<div class=\"tp-bannertimer\" style=\"visibility:hidden\"></div>'),i.find(\".tp-bannertimer\").css({width:\"0%\"}),x.ul.css({display:\"block\"}),prepareSlides(i,x),(\"off\"!==x.parallax.type||x.scrolleffect.on)&&_R.checkForParallax&&_R.checkForParallax(i,x),_R.setSize(x),\"hero\"!==x.sliderType&&_R.createNavigation&&_R.createNavigation(i,x),_R.resizeThumbsTabs&&_R.resizeThumbsTabs&&_R.resizeThumbsTabs(x),contWidthManager(x);var g=x.viewPort;x.inviewport=!1,null!=g&&g.enable&&(jQuery.isNumeric(g.visible_area)||-1!==g.visible_area.indexOf(\"%\")&&(g.visible_area=parseInt(g.visible_area)/100),_R.scrollTicker&&_R.scrollTicker(x,i)),\"carousel\"===x.sliderType&&_R.prepareCarousel&&(punchgs.TweenLite.set(x.ul,{opacity:0}),_R.prepareCarousel(x,new punchgs.TimelineLite,void 0,0),x.onlyPreparedSlide=!0),setTimeout(function(){if(!g.enable||g.enable&&x.inviewport||g.enable&&!x.inviewport&&\"wait\"==!g.outof)swapSlide(i);else if(x.c.addClass(\"tp-waitforfirststart\"),x.waitForFirstSlide=!0,g.presize){var e=jQuery(x.li[0]);loadImages(e,x,0,!0),waitForCurrentImages(e.find(\".tp-layers\"),x,function(){_R.animateTheCaptions({slide:e,opt:x,preset:!0})})}_R.manageNavigation&&_R.manageNavigation(x),1<x.slideamount&&(!g.enable||g.enable&&x.inviewport?countDown(i,x):x.waitForCountDown=!0),setTimeout(function(){i.trigger(\"revolution.slide.onloaded\")},100)},x.startDelay),x.startDelay=0,jQuery(\"body\").data(\"rs-fullScreenMode\",!1),window.addEventListener(\"fullscreenchange\",onFullScreenChange,{passive:!0}),window.addEventListener(\"mozfullscreenchange\",onFullScreenChange,{passive:!0}),window.addEventListener(\"webkitfullscreenchange\",onFullScreenChange,{passive:!0});var v=\"resize.revslider-\"+i.attr(\"id\");jQuery(window).on(v,function(){if(null==i)return!1;0!=jQuery(\"body\").find(i)&&contWidthManager(x);var e=!1;if(\"fullscreen\"==x.sliderLayout){var t=jQuery(window).height();\"mobile\"==x.fallbacks.ignoreHeightChanges&&_ISM||\"always\"==x.fallbacks.ignoreHeightChanges?(x.fallbacks.ignoreHeightChangesSize=null==x.fallbacks.ignoreHeightChangesSize?0:x.fallbacks.ignoreHeightChangesSize,e=t!=x.lastwindowheight&&Math.abs(t-x.lastwindowheight)>x.fallbacks.ignoreHeightChangesSize):e=t!=x.lastwindowheight}(i.outerWidth(!0)!=x.width||i.is(\":hidden\")||e)&&(x.lastwindowheight=jQuery(window).height(),containerResized(i,x))}),hideSliderUnder(i,x),contWidthManager(x),x.fallbacks.disableFocusListener||\"true\"==x.fallbacks.disableFocusListener||!0===x.fallbacks.disableFocusListener||(i.addClass(\"rev_redraw_on_blurfocus\"),tabBlurringCheck())}},cArray=function(e,t){if(!jQuery.isArray(e)){var i=e;(e=new Array).push(i)}if(e.length<t){i=e[e.length-1];for(var a=0;a<t-e.length+2;a++)e.push(i)}return e},checkHoverDependencies=function(e,n){var t=e.data();(\"sliderenter\"===t.start||void 0!==t.frames&&null!=t.frames[0]&&\"sliderenter\"===t.frames[0].delay)&&(void 0===n.layersonhover&&(n.c.on(\"tp-mouseenter\",function(){n.layersonhover&&jQuery.each(n.layersonhover,function(e,t){var i=t.data(\"closestli\")||t.closest(\".tp-revslider-slidesli\"),a=t.data(\"staticli\")||t.closest(\".tp-static-layers\");void 0===t.data(\"closestli\")&&(t.data(\"closestli\",i),t.data(\"staticli\",a)),(0<i.length&&i.hasClass(\"active-revslide\")||i.hasClass(\"processing-revslide\")||0<a.length)&&(t.data(\"animdirection\",\"in\"),_R.playAnimationFrame&&_R.playAnimationFrame({caption:t,opt:n,frame:\"frame_0\",triggerdirection:\"in\",triggerframein:\"frame_0\",triggerframeout:\"frame_999\"}),t.data(\"triggerstate\",\"on\"))})}),n.c.on(\"tp-mouseleft\",function(){n.layersonhover&&jQuery.each(n.layersonhover,function(e,t){t.data(\"animdirection\",\"out\"),t.data(\"triggered\",!0),t.data(\"triggerstate\",\"off\"),_R.stopVideo&&_R.stopVideo(t,n),_R.playAnimationFrame&&_R.playAnimationFrame({caption:t,opt:n,frame:\"frame_999\",triggerdirection:\"out\",triggerframein:\"frame_0\",triggerframeout:\"frame_999\"})})}),n.layersonhover=new Array),n.layersonhover.push(e))},contWidthManager=function(e){var t=_R.getHorizontalOffset(e.c,\"left\");if(\"auto\"==e.sliderLayout||\"fullscreen\"===e.sliderLayout&&\"on\"==e.fullScreenAutoWidth)\"fullscreen\"==e.sliderLayout&&\"on\"==e.fullScreenAutoWidth?punchgs.TweenLite.set(e.ul,{left:0,width:e.c.width()}):punchgs.TweenLite.set(e.ul,{left:t,width:e.c.width()-_R.getHorizontalOffset(e.c,\"both\")});else{var i=Math.ceil(e.c.closest(\".forcefullwidth_wrapper_tp_banner\").offset().left-t);punchgs.TweenLite.set(e.c.parent(),{left:0-i+\"px\",width:jQuery(window).width()-_R.getHorizontalOffset(e.c,\"both\")})}e.slayers&&\"fullwidth\"!=e.sliderLayout&&\"fullscreen\"!=e.sliderLayout&&punchgs.TweenLite.set(e.slayers,{left:t})},cv=function(e,t){return void 0===e?t:e},hideSliderUnder=function(e,t,i){var a=e.parent();jQuery(window).width()<t.hideSliderAtLimit?(e.trigger(\"stoptimer\"),\"none\"!=a.css(\"display\")&&a.data(\"olddisplay\",a.css(\"display\")),a.css({display:\"none\"})):e.is(\":hidden\")&&i&&(null!=a.data(\"olddisplay\")&&\"undefined\"!=a.data(\"olddisplay\")&&\"none\"!=a.data(\"olddisplay\")?a.css({display:a.data(\"olddisplay\")}):a.css({display:\"block\"}),e.trigger(\"restarttimer\"),setTimeout(function(){containerResized(e,t)},150)),_R.hideUnHideNav&&_R.hideUnHideNav(t)},containerResized=function(e,t){if(e.trigger(\"revolution.slide.beforeredraw\"),1==t.infullscreenmode&&(t.minHeight=jQuery(window).height()),setCurWinRange(t),setCurWinRange(t,!0),!_R.resizeThumbsTabs||!0===_R.resizeThumbsTabs(t)){if(hideSliderUnder(e,t,!0),contWidthManager(t),\"carousel\"==t.sliderType&&_R.prepareCarousel(t,!0),void 0===e)return!1;_R.setSize(t),t.conw=t.c.width(),t.conh=t.infullscreenmode?t.minHeight:t.c.height();var i=e.find(\".active-revslide .slotholder\"),a=e.find(\".processing-revslide .slotholder\");removeSlots(e,t,e,2),\"standard\"===t.sliderType&&(punchgs.TweenLite.set(a.find(\".defaultimg\"),{opacity:0}),i.find(\".defaultimg\").css({opacity:1})),\"carousel\"===t.sliderType&&t.lastconw!=t.conw&&(clearTimeout(t.pcartimer),t.pcartimer=setTimeout(function(){_R.prepareCarousel(t,!0),\"carousel\"==t.sliderType&&\"on\"===t.carousel.showLayersAllTime&&jQuery.each(t.li,function(e){_R.animateTheCaptions({slide:jQuery(t.li[e]),opt:t,recall:!0})})},100),t.lastconw=t.conw),_R.manageNavigation&&_R.manageNavigation(t),_R.animateTheCaptions&&0<e.find(\".active-revslide\").length&&_R.animateTheCaptions({slide:e.find(\".active-revslide\"),opt:t,recall:!0}),\"on\"==a.data(\"kenburns\")&&_R.startKenBurn(a,t,void 0!==a.data(\"kbtl\")?a.data(\"kbtl\").progress():0),\"on\"==i.data(\"kenburns\")&&_R.startKenBurn(i,t,void 0!==i.data(\"kbtl\")?i.data(\"kbtl\").progress():0),_R.animateTheCaptions&&0<e.find(\".processing-revslide\").length&&_R.animateTheCaptions({slide:e.find(\".processing-revslide\"),opt:t,recall:!0}),_R.manageNavigation&&_R.manageNavigation(t)}e.trigger(\"revolution.slide.afterdraw\")},setScale=function(e){e.bw=e.width/e.gridwidth[e.curWinRange],e.bh=e.height/e.gridheight[e.curWinRange],e.bh>e.bw?e.bh=e.bw:e.bw=e.bh,(1<e.bh||1<e.bw)&&(e.bw=1,e.bh=1)},prepareSlides=function(e,u){if(e.find(\".tp-caption\").each(function(){var e=jQuery(this);void 0!==e.data(\"transition\")&&e.addClass(e.data(\"transition\"))}),u.ul.css({overflow:\"hidden\",width:\"100%\",height:\"100%\",maxHeight:e.parent().css(\"maxHeight\")}),\"on\"==u.autoHeight&&(u.ul.css({overflow:\"hidden\",width:\"100%\",height:\"100%\",maxHeight:\"none\"}),e.css({maxHeight:\"none\"}),e.parent().css({maxHeight:\"none\"})),u.allli.each(function(e){var t=jQuery(this),i=t.data(\"originalindex\");(null!=u.startWithSlide&&i==u.startWithSlide||void 0===u.startWithSlide&&0==e)&&t.addClass(\"next-revslide\"),t.css({width:\"100%\",height:\"100%\",overflow:\"hidden\"})}),\"carousel\"===u.sliderType){u.ul.css({overflow:\"visible\"}).wrap('<div class=\"tp-carousel-wrapper\" style=\"width:100%;height:100%;position:absolute;top:0px;left:0px;overflow:hidden;\"></div>');var t='<div style=\"clear:both;display:block;width:100%;height:1px;position:relative;margin-bottom:-1px\"></div>';u.c.parent().prepend(t),u.c.parent().append(t),_R.prepareCarousel(u)}e.parent().css({overflow:\"visible\"}),u.allli.find(\">img\").each(function(e){var t=jQuery(this),i=t.closest(\"li\"),a=i.find(\".rs-background-video-layer\");a.addClass(\"defaultvid\").css({zIndex:30}),t.addClass(\"defaultimg\"),\"on\"==u.fallbacks.panZoomDisableOnMobile&&_ISM&&(t.data(\"kenburns\",\"off\"),t.data(\"bgfit\",\"cover\"));var n=i.data(\"mediafilter\");n=\"none\"===n||void 0===n?\"\":n,t.wrap('<div class=\"slotholder\" style=\"position:absolute; top:0px; left:0px; z-index:0;width:100%;height:100%;\"></div>'),a.appendTo(i.find(\".slotholder\"));var r=t.data();t.closest(\".slotholder\").data(r),0<a.length&&null!=r.bgparallax&&(a.data(\"bgparallax\",r.bgparallax),a.data(\"showcoveronpause\",\"on\")),\"none\"!=u.dottedOverlay&&null!=u.dottedOverlay&&t.closest(\".slotholder\").append('<div class=\"tp-dottedoverlay '+u.dottedOverlay+'\"></div>');var o=t.attr(\"src\");r.src=o,r.bgfit=r.bgfit||\"cover\",r.bgrepeat=r.bgrepeat||\"no-repeat\",r.bgposition=r.bgposition||\"center center\";t.closest(\".slotholder\");var s=t.data(\"bgcolor\"),l=\"\";l=void 0!==s&&0<=s.indexOf(\"gradient\")?'\"background:'+s+';width:100%;height:100%;\"':'\"background-color:'+s+\";background-repeat:\"+r.bgrepeat+\";background-image:url(\"+o+\");background-size:\"+r.bgfit+\";background-position:\"+r.bgposition+';width:100%;height:100%;\"',t.data(\"mediafilter\",n),n=\"on\"===t.data(\"kenburns\")?\"\":n;var d=jQuery('<div class=\"tp-bgimg defaultimg '+n+'\" data-bgcolor=\"'+s+'\" style='+l+\"></div>\");t.parent().append(d);var c=document.createComment(\"Runtime Modification - Img tag is Still Available for SEO Goals in Source - \"+t.get(0).outerHTML);t.replaceWith(c),d.data(r),d.attr(\"src\",o),\"standard\"!==u.sliderType&&\"undefined\"!==u.sliderType||d.css({opacity:0})}),u.scrolleffect.on&&\"on\"===u.scrolleffect.on_slidebg&&(u.allslotholder=new Array,u.allli.find(\".slotholder\").each(function(){jQuery(this).wrap('<div style=\"display:block;position:absolute;top:0px;left:0px;width:100%;height:100%\" class=\"slotholder_fadeoutwrap\"></div>')}),u.allslotholder=u.c.find(\".slotholder_fadeoutwrap\"))},removeSlots=function(e,t,i,a){t.removePrepare=t.removePrepare+a,i.find(\".slot, .slot-circle-wrapper\").each(function(){jQuery(this).remove()}),t.transition=0,t.removePrepare=0},cutParams=function(e){var t=e;return null!=e&&0<e.length&&(t=e.split(\"?\")[0]),t},relativeRedir=function(e){return location.pathname.replace(/(.*)\\/[^/]*/,\"$1/\"+e)},abstorel=function(e,t){var i=e.split(\"/\"),a=t.split(\"/\");i.pop();for(var n=0;n<a.length;n++)\".\"!=a[n]&&(\"..\"==a[n]?i.pop():i.push(a[n]));return i.join(\"/\")},imgLoaded=function(l,e,d){e.syncload--,e.loadqueue&&jQuery.each(e.loadqueue,function(e,t){var i=t.src.replace(/\\.\\.\\/\\.\\.\\//gi,\"\"),a=self.location.href,n=document.location.origin,r=a.substring(0,a.length-1)+\"/\"+i,o=n+\"/\"+i,s=abstorel(self.location.href,t.src);a=a.substring(0,a.length-1)+i,(cutParams(n+=i)===cutParams(decodeURIComponent(l.src))||cutParams(a)===cutParams(decodeURIComponent(l.src))||cutParams(s)===cutParams(decodeURIComponent(l.src))||cutParams(o)===cutParams(decodeURIComponent(l.src))||cutParams(r)===cutParams(decodeURIComponent(l.src))||cutParams(t.src)===cutParams(decodeURIComponent(l.src))||cutParams(t.src).replace(/^.*\\/\\/[^\\/]+/,\"\")===cutParams(decodeURIComponent(l.src)).replace(/^.*\\/\\/[^\\/]+/,\"\")||\"file://\"===window.location.origin&&cutParams(l.src).match(new RegExp(i)))&&(t.progress=d,t.width=l.width,t.height=l.height)}),progressImageLoad(e)},progressImageLoad=function(a){3!=a.syncload&&a.loadqueue&&jQuery.each(a.loadqueue,function(e,t){if(t.progress.match(/prepared/g)&&a.syncload<=3){if(a.syncload++,\"img\"==t.type){var i=new Image;i.onload=function(){imgLoaded(this,a,\"loaded\"),t.error=!1},i.onerror=function(){imgLoaded(this,a,\"failed\"),t.error=!0},i.src=t.src}else jQuery.get(t.src,function(e){t.innerHTML=(new XMLSerializer).serializeToString(e.documentElement),t.progress=\"loaded\",a.syncload--,progressImageLoad(a)}).fail(function(){t.progress=\"failed\",a.syncload--,progressImageLoad(a)});t.progress=\"inload\"}})},addToLoadQueue=function(i,e,t,a,n){var r=!1;if(e.loadqueue&&jQuery.each(e.loadqueue,function(e,t){t.src===i&&(r=!0)}),!r){var o=new Object;o.src=i,o.starttoload=jQuery.now(),o.type=a||\"img\",o.prio=t,o.progress=\"prepared\",o.static=n,e.loadqueue.push(o)}},loadImages=function(e,a,n,r){e.find(\"img,.defaultimg, .tp-svg-layer\").each(function(){var e=jQuery(this),t=void 0!==e.data(\"lazyload\")&&\"undefined\"!==e.data(\"lazyload\")?e.data(\"lazyload\"):null!=e.data(\"svg_src\")?e.data(\"svg_src\"):e.attr(\"src\"),i=null!=e.data(\"svg_src\")?\"svg\":\"img\";e.data(\"start-to-load\",jQuery.now()),addToLoadQueue(t,a,n,i,r)}),progressImageLoad(a)},getLoadObj=function(e,i){var a=new Object;return e.loadqueue&&jQuery.each(e.loadqueue,function(e,t){t.src==i&&(a=t)}),a},waitForCurrentImages=function(o,s,e){var l=!1;o.find(\"img,.defaultimg, .tp-svg-layer\").each(function(){var e=jQuery(this),t=null!=e.data(\"lazyload\")?e.data(\"lazyload\"):null!=e.data(\"svg_src\")?e.data(\"svg_src\"):e.attr(\"src\"),i=getLoadObj(s,t);if(void 0===e.data(\"loaded\")&&void 0!==i&&i.progress&&i.progress.match(/loaded/g)){if(e.attr(\"src\",i.src),\"img\"==i.type)if(e.hasClass(\"defaultimg\"))_R.isIE(8)?defimg.attr(\"src\",i.src):-1==i.src.indexOf(\"images/transparent.png\")&&-1==i.src.indexOf(\"assets/transparent.png\")||void 0===e.data(\"bgcolor\")?e.css({backgroundImage:'url(\"'+i.src+'\")'}):void 0!==e.data(\"bgcolor\")&&e.css({background:e.data(\"bgcolor\")}),o.data(\"owidth\",i.width),o.data(\"oheight\",i.height),o.find(\".slotholder\").data(\"owidth\",i.width),o.find(\".slotholder\").data(\"oheight\",i.height);else{var a=e.data(\"ww\"),n=e.data(\"hh\");e.data(\"owidth\",i.width),e.data(\"oheight\",i.height),a=null==a||\"auto\"==a||\"\"==a?i.width:a,n=null==n||\"auto\"==n||\"\"==n?i.height:n,!jQuery.isNumeric(a)&&0<a.indexOf(\"%\")&&(n=a),e.data(\"ww\",a),e.data(\"hh\",n)}else\"svg\"==i.type&&\"loaded\"==i.progress&&(e.append('<div class=\"tp-svg-innercontainer\"></div>'),e.find(\".tp-svg-innercontainer\").append(i.innerHTML));e.data(\"loaded\",!0)}if(i&&i.progress&&i.progress.match(/inprogress|inload|prepared/g)&&(!i.error&&jQuery.now()-e.data(\"start-to-load\")<5e3?l=!0:(i.progress=\"failed\",i.reported_img||(i.reported_img=!0,console.warn(t+\"  Could not be loaded !\")))),1==s.youtubeapineeded&&(!window.YT||null==YT.Player)&&(l=!0,5e3<jQuery.now()-s.youtubestarttime&&1!=s.youtubewarning)){s.youtubewarning=!0;var r=\"YouTube Api Could not be loaded !\";\"https:\"===location.protocol&&(r+=\" Please Check and Renew SSL Certificate !\"),console.error(r),s.c.append('<div style=\"position:absolute;top:50%;width:100%;color:#e74c3c;  font-size:16px; text-align:center; padding:15px;background:#000; display:block;\"><strong>'+r+\"</strong></div>\")}if(1==s.vimeoapineeded&&!window.Vimeo&&(l=!0,5e3<jQuery.now()-s.vimeostarttime&&1!=s.vimeowarning)){s.vimeowarning=!0;r=\"Vimeo Api Could not be loaded !\";\"https:\"===location.protocol&&(r+=\" Please Check and Renew SSL Certificate !\"),console.error(r),s.c.append('<div style=\"position:absolute;top:50%;width:100%;color:#e74c3c;  font-size:16px; text-align:center; padding:15px;background:#000; display:block;\"><strong>'+r+\"</strong></div>\")}}),!_ISM&&s.audioqueue&&0<s.audioqueue.length&&jQuery.each(s.audioqueue,function(e,t){t.status&&\"prepared\"===t.status&&jQuery.now()-t.start<t.waittime&&(l=!0)}),jQuery.each(s.loadqueue,function(e,t){!0!==t.static||\"loaded\"==t.progress&&\"failed\"!==t.progress||(\"failed\"==t.progress?t.reported||(t.reported=!0,console.warn(\"Static Image \"+t.src+\"  Could not be loaded in time. Error Exists:\"+t.error)):!t.error&&jQuery.now()-t.starttoload<5e3?l=!0:t.reported||(t.reported=!0,console.warn(\"Static Image \"+t.src+\"  Could not be loaded within 5s! Error Exists:\"+t.error)))}),l?punchgs.TweenLite.delayedCall(.18,waitForCurrentImages,[o,s,e]):punchgs.TweenLite.delayedCall(.18,e)},swapSlide=function(e){var t=e[0].opt;if(clearTimeout(t.waitWithSwapSlide),0<e.find(\".processing-revslide\").length)return t.waitWithSwapSlide=setTimeout(function(){swapSlide(e)},150),!1;var i=e.find(\".active-revslide\"),a=e.find(\".next-revslide\"),n=a.find(\".defaultimg\");if(\"carousel\"!==t.sliderType||t.carousel.fadein||(punchgs.TweenLite.to(t.ul,1,{opacity:1}),t.carousel.fadein=!0),a.index()===i.index()&&!0!==t.onlyPreparedSlide)return a.removeClass(\"next-revslide\"),!1;!0===t.onlyPreparedSlide&&(t.onlyPreparedSlide=!1,jQuery(t.li[0]).addClass(\"processing-revslide\")),a.removeClass(\"next-revslide\").addClass(\"processing-revslide\"),-1===a.index()&&\"carousel\"===t.sliderType&&(a=jQuery(t.li[0])),a.data(\"slide_on_focus_amount\",a.data(\"slide_on_focus_amount\")+1||1),\"on\"==t.stopLoop&&a.index()==t.lastslidetoshow-1&&(e.find(\".tp-bannertimer\").css({visibility:\"hidden\"}),e.trigger(\"revolution.slide.onstop\"),t.noloopanymore=1),a.index()===t.slideamount-1&&(t.looptogo=t.looptogo-1,t.looptogo<=0&&(t.stopLoop=\"on\")),t.tonpause=!0,e.trigger(\"stoptimer\"),t.cd=0,\"off\"===t.spinner&&(void 0!==t.loader?t.loader.css({display:\"none\"}):t.loadertimer=setTimeout(function(){void 0!==t.loader&&t.loader.css({display:\"block\"})},50)),loadImages(a,t,1),_R.preLoadAudio&&_R.preLoadAudio(a,t,1),waitForCurrentImages(a,t,function(){a.find(\".rs-background-video-layer\").each(function(){var e=jQuery(this);e.hasClass(\"HasListener\")||(e.data(\"bgvideo\",1),_R.manageVideoLayer&&_R.manageVideoLayer(e,t)),0==e.find(\".rs-fullvideo-cover\").length&&e.append('<div class=\"rs-fullvideo-cover\"></div>')}),swapSlideProgress(n,e)})},swapSlideProgress=function(e,t){var i=t.find(\".active-revslide\"),a=t.find(\".processing-revslide\"),n=i.find(\".slotholder\"),r=a.find(\".slotholder\"),o=t[0].opt;o.tonpause=!1,o.cd=0,clearTimeout(o.loadertimer),void 0!==o.loader&&o.loader.css({display:\"none\"}),_R.setSize(o),_R.slotSize(e,o),_R.manageNavigation&&_R.manageNavigation(o);var s={};s.nextslide=a,s.currentslide=i,t.trigger(\"revolution.slide.onbeforeswap\",s),o.transition=1,o.videoplaying=!1,null!=a.data(\"delay\")?(o.cd=0,o.delay=a.data(\"delay\")):o.delay=o.origcd,\"true\"==a.data(\"ssop\")||!0===a.data(\"ssop\")?o.ssop=!0:o.ssop=!1,t.trigger(\"nulltimer\");var l=i.index(),d=a.index();o.sdir=d<l?1:0,\"arrow\"==o.sc_indicator&&(0==l&&d==o.slideamount-1&&(o.sdir=1),l==o.slideamount-1&&0==d&&(o.sdir=0)),o.lsdir=void 0===o.lsdir?o.sdir:o.lsdir,o.dirc=o.lsdir!=o.sdir,o.lsdir=o.sdir,i.index()!=a.index()&&1!=o.firststart&&_R.removeTheCaptions&&_R.removeTheCaptions(i,o),a.hasClass(\"rs-pause-timer-once\")||a.hasClass(\"rs-pause-timer-always\")?o.videoplaying=!0:t.trigger(\"restarttimer\"),a.removeClass(\"rs-pause-timer-once\");var c;if(o.currentSlide=i.index(),o.nextSlide=a.index(),\"carousel\"==o.sliderType)c=new punchgs.TimelineLite,_R.prepareCarousel(o,c),letItFree(t,r,n,a,i,c),o.transition=0,o.firststart=0;else{(c=new punchgs.TimelineLite({onComplete:function(){letItFree(t,r,n,a,i,c)}})).add(punchgs.TweenLite.set(r.find(\".defaultimg\"),{opacity:0})),c.pause(),_R.animateTheCaptions&&_R.animateTheCaptions({slide:a,opt:o,preset:!0}),1==o.firststart&&(punchgs.TweenLite.set(i,{autoAlpha:0}),o.firststart=0),punchgs.TweenLite.set(i,{zIndex:18}),punchgs.TweenLite.set(a,{autoAlpha:0,zIndex:20}),\"prepared\"==a.data(\"differentissplayed\")&&(a.data(\"differentissplayed\",\"done\"),a.data(\"transition\",a.data(\"savedtransition\")),a.data(\"slotamount\",a.data(\"savedslotamount\")),a.data(\"masterspeed\",a.data(\"savedmasterspeed\"))),null!=a.data(\"fstransition\")&&\"done\"!=a.data(\"differentissplayed\")&&(a.data(\"savedtransition\",a.data(\"transition\")),a.data(\"savedslotamount\",a.data(\"slotamount\")),a.data(\"savedmasterspeed\",a.data(\"masterspeed\")),a.data(\"transition\",a.data(\"fstransition\")),a.data(\"slotamount\",a.data(\"fsslotamount\")),a.data(\"masterspeed\",a.data(\"fsmasterspeed\")),a.data(\"differentissplayed\",\"prepared\")),null==a.data(\"transition\")&&a.data(\"transition\",\"random\");var u=void 0!==a.data(\"transition\")?a.data(\"transition\").split(\",\"):\"fade\",p=null==a.data(\"nexttransid\")?-1:a.data(\"nexttransid\");\"on\"==a.data(\"randomtransition\")?p=Math.round(Math.random()*u.length):p+=1,p==u.length&&(p=0),a.data(\"nexttransid\",p);var h=u[p];o.ie&&(\"boxfade\"==h&&(h=\"boxslide\"),\"slotfade-vertical\"==h&&(h=\"slotzoom-vertical\"),\"slotfade-horizontal\"==h&&(h=\"slotzoom-horizontal\")),_R.isIE(8)&&(h=11),c=_R.animateSlide(0,h,t,a,i,r,n,c),\"on\"==r.data(\"kenburns\")&&(_R.startKenBurn(r,o),c.add(punchgs.TweenLite.set(r,{autoAlpha:0}))),c.pause()}_R.scrollHandling&&(_R.scrollHandling(o,!0,0),c.eventCallback(\"onUpdate\",function(){_R.scrollHandling(o,!0,0)})),\"off\"!=o.parallax.type&&null==o.parallax.firstgo&&_R.scrollHandling&&(o.parallax.firstgo=!0,o.lastscrolltop=-999,_R.scrollHandling(o,!0,0),setTimeout(function(){o.lastscrolltop=-999,_R.scrollHandling(o,!0,0)},210),setTimeout(function(){o.lastscrolltop=-999,_R.scrollHandling(o,!0,0)},420)),_R.animateTheCaptions?\"carousel\"===o.sliderType&&\"on\"===o.carousel.showLayersAllTime?(jQuery.each(o.li,function(e){o.carousel.allLayersStarted?_R.animateTheCaptions({slide:jQuery(o.li[e]),opt:o,recall:!0}):o.li[e]===a?_R.animateTheCaptions({slide:jQuery(o.li[e]),maintimeline:c,opt:o,startslideanimat:0}):_R.animateTheCaptions({slide:jQuery(o.li[e]),opt:o,startslideanimat:0})}),o.carousel.allLayersStarted=!0):_R.animateTheCaptions({slide:a,opt:o,maintimeline:c,startslideanimat:0}):null!=c&&setTimeout(function(){c.resume()},30),punchgs.TweenLite.to(a,.001,{autoAlpha:1})},letItFree=function(e,t,i,a,n,r){var o=e[0].opt;\"carousel\"===o.sliderType||(o.removePrepare=0,punchgs.TweenLite.to(t.find(\".defaultimg\"),.001,{zIndex:20,autoAlpha:1,onComplete:function(){removeSlots(e,o,a,1)}}),a.index()!=n.index()&&punchgs.TweenLite.to(n,.2,{zIndex:18,autoAlpha:0,onComplete:function(){removeSlots(e,o,n,1)}})),e.find(\".active-revslide\").removeClass(\"active-revslide\"),e.find(\".processing-revslide\").removeClass(\"processing-revslide\").addClass(\"active-revslide\"),o.act=a.index(),o.c.attr(\"data-slideactive\",e.find(\".active-revslide\").data(\"index\")),\"scroll\"!=o.parallax.type&&\"scroll+mouse\"!=o.parallax.type&&\"mouse+scroll\"!=o.parallax.type||(o.lastscrolltop=-999,_R.scrollHandling(o)),r.clear(),null!=i.data(\"kbtl\")&&(i.data(\"kbtl\").reverse(),i.data(\"kbtl\").timeScale(25)),\"on\"==t.data(\"kenburns\")&&(null!=t.data(\"kbtl\")?(t.data(\"kbtl\").timeScale(1),t.data(\"kbtl\").play()):_R.startKenBurn(t,o)),a.find(\".rs-background-video-layer\").each(function(e){if(_ISM&&!o.fallbacks.allowHTML5AutoPlayOnAndroid)return!1;var t=jQuery(this);_R.resetVideo(t,o,!1,!0),punchgs.TweenLite.fromTo(t,1,{autoAlpha:0},{autoAlpha:1,ease:punchgs.Power3.easeInOut,delay:.2,onComplete:function(){_R.animcompleted&&_R.animcompleted(t,o)}})}),n.find(\".rs-background-video-layer\").each(function(e){if(_ISM)return!1;var t=jQuery(this);_R.stopVideo&&(_R.resetVideo(t,o),_R.stopVideo(t,o)),punchgs.TweenLite.to(t,1,{autoAlpha:0,ease:punchgs.Power3.easeInOut,delay:.2})});var s={};if(s.slideIndex=a.index()+1,s.slideLIIndex=a.index(),s.slide=a,s.currentslide=a,s.prevslide=n,o.last_shown_slide=n.index(),e.trigger(\"revolution.slide.onchange\",s),e.trigger(\"revolution.slide.onafterswap\",s),void 0!==o.startWithSlide&&\"done\"!==o.startWithSlide&&\"carousel\"===o.sliderType){for(var l=o.startWithSlide,d=0;d<=o.li.length-1;d++){jQuery(o.li[d]).data(\"originalindex\")===o.startWithSlide&&(l=d)}0!==l&&_R.callingNewSlide(o.c,l),o.startWithSlide=\"done\"}o.duringslidechange=!1;var c=n.data(\"slide_on_focus_amount\"),u=n.data(\"hideafterloop\");0!=u&&u<=c&&o.c.revremoveslide(n.index());var p=-1===o.nextSlide||void 0===o.nextSlide?0:o.nextSlide;null!=o.rowzones&&(p=p>o.rowzones.length?o.rowzones.length:p),null!=o.rowzones&&0<o.rowzones.length&&null!=o.rowzones[p]&&0<=p&&p<=o.rowzones.length&&0<o.rowzones[p].length&&_R.setSize(o)},removeAllListeners=function(e,t){e.children().each(function(){try{jQuery(this).die(\"click\")}catch(e){}try{jQuery(this).die(\"mouseenter\")}catch(e){}try{jQuery(this).die(\"mouseleave\")}catch(e){}try{jQuery(this).unbind(\"hover\")}catch(e){}});try{e.die(\"click\",\"mouseenter\",\"mouseleave\")}catch(e){}clearInterval(t.cdint),e=null},countDown=function(e,t){t.cd=0,t.loop=0,null!=t.stopAfterLoops&&-1<t.stopAfterLoops?t.looptogo=t.stopAfterLoops:t.looptogo=9999999,null!=t.stopAtSlide&&-1<t.stopAtSlide?t.lastslidetoshow=t.stopAtSlide:t.lastslidetoshow=999,t.stopLoop=\"off\",0==t.looptogo&&(t.stopLoop=\"on\");var i=e.find(\".tp-bannertimer\");e.on(\"stoptimer\",function(){var e=jQuery(this).find(\".tp-bannertimer\");e[0].tween.pause(),\"on\"==t.disableProgressBar&&e.css({visibility:\"hidden\"}),t.sliderstatus=\"paused\",_R.unToggleState(t.slidertoggledby)}),e.on(\"starttimer\",function(){t.forcepause_viatoggle||(1!=t.conthover&&1!=t.videoplaying&&t.width>t.hideSliderAtLimit&&1!=t.tonpause&&1!=t.overnav&&1!=t.ssop&&(1===t.noloopanymore||t.viewPort.enable&&!t.inviewport||(i.css({visibility:\"visible\"}),i[0].tween.resume(),t.sliderstatus=\"playing\")),\"on\"==t.disableProgressBar&&i.css({visibility:\"hidden\"}),_R.toggleState(t.slidertoggledby))}),e.on(\"restarttimer\",function(){if(!t.forcepause_viatoggle){var e=jQuery(this).find(\".tp-bannertimer\");if(t.mouseoncontainer&&\"on\"==t.navigation.onHoverStop&&!_ISM)return!1;1===t.noloopanymore||t.viewPort.enable&&!t.inviewport||1==t.ssop||(e.css({visibility:\"visible\"}),e[0].tween.kill(),e[0].tween=punchgs.TweenLite.fromTo(e,t.delay/1e3,{width:\"0%\"},{force3D:\"auto\",width:\"100%\",ease:punchgs.Linear.easeNone,onComplete:a,delay:1}),t.sliderstatus=\"playing\"),\"on\"==t.disableProgressBar&&e.css({visibility:\"hidden\"}),_R.toggleState(t.slidertoggledby)}}),e.on(\"nulltimer\",function(){i[0].tween.kill(),i[0].tween=punchgs.TweenLite.fromTo(i,t.delay/1e3,{width:\"0%\"},{force3D:\"auto\",width:\"100%\",ease:punchgs.Linear.easeNone,onComplete:a,delay:1}),i[0].tween.pause(0),\"on\"==t.disableProgressBar&&i.css({visibility:\"hidden\"}),t.sliderstatus=\"paused\"});var a=function(){0==jQuery(\"body\").find(e).length&&(removeAllListeners(e,t),clearInterval(t.cdint)),e.trigger(\"revolution.slide.slideatend\"),1==e.data(\"conthover-changed\")&&(t.conthover=e.data(\"conthover\"),e.data(\"conthover-changed\",0)),_R.callingNewSlide(e,1)};i[0].tween=punchgs.TweenLite.fromTo(i,t.delay/1e3,{width:\"0%\"},{force3D:\"auto\",width:\"100%\",ease:punchgs.Linear.easeNone,onComplete:a,delay:1}),1<t.slideamount&&(0!=t.stopAfterLoops||1!=t.stopAtSlide)?e.trigger(\"starttimer\"):(t.noloopanymore=1,e.trigger(\"nulltimer\")),e.on(\"tp-mouseenter\",function(){t.mouseoncontainer=!0,\"on\"!=t.navigation.onHoverStop||_ISM||(e.trigger(\"stoptimer\"),e.trigger(\"revolution.slide.onpause\"))}),e.on(\"tp-mouseleft\",function(){t.mouseoncontainer=!1,1!=e.data(\"conthover\")&&\"on\"==t.navigation.onHoverStop&&(1==t.viewPort.enable&&t.inviewport||0==t.viewPort.enable)&&(e.trigger(\"revolution.slide.onresume\"),e.trigger(\"starttimer\"))})},vis=function(){var t,i,e={hidden:\"visibilitychange\",webkitHidden:\"webkitvisibilitychange\",mozHidden:\"mozvisibilitychange\",msHidden:\"msvisibilitychange\"};for(t in e)if(t in document){i=e[t];break}return function(e){return e&&document.addEventListener(i,e,{pasive:!0}),!document[t]}}(),restartOnFocus=function(){jQuery(\".rev_redraw_on_blurfocus\").each(function(){var e=jQuery(this)[0].opt;if(null==e||null==e.c||0===e.c.length)return!1;1!=e.windowfocused&&(e.windowfocused=!0,punchgs.TweenLite.delayedCall(.3,function(){\"on\"==e.fallbacks.nextSlideOnWindowFocus&&e.c.revnext(),e.c.revredraw(),\"playing\"==e.lastsliderstatus&&e.c.revresume()}))})},lastStatBlur=function(){jQuery(\".rev_redraw_on_blurfocus\").each(function(){var e=jQuery(this)[0].opt;e.windowfocused=!1,e.lastsliderstatus=e.sliderstatus,e.c.revpause();var t=e.c.find(\".active-revslide .slotholder\"),i=e.c.find(\".processing-revslide .slotholder\");\"on\"==i.data(\"kenburns\")&&_R.stopKenBurn(i,e),\"on\"==t.data(\"kenburns\")&&_R.stopKenBurn(t,e)})},tabBlurringCheck=function(){var e=void 0===document.documentMode,t=window.chrome;1!==jQuery(\"body\").data(\"revslider_focus_blur_listener\")&&(jQuery(\"body\").data(\"revslider_focus_blur_listener\",1),e&&!t?jQuery(window).on(\"focusin\",function(){restartOnFocus()}).on(\"focusout\",function(){lastStatBlur()}):window.addEventListener?(window.addEventListener(\"focus\",function(e){restartOnFocus()},{capture:!1,passive:!0}),window.addEventListener(\"blur\",function(e){lastStatBlur()},{capture:!1,passive:!0})):(window.attachEvent(\"focus\",function(e){restartOnFocus()}),window.attachEvent(\"blur\",function(e){lastStatBlur()})))},getUrlVars=function(e){for(var t,i=[],a=window.location.href.slice(window.location.href.indexOf(e)+1).split(\"_\"),n=0;n<a.length;n++)a[n]=a[n].replace(\"%3D\",\"=\"),t=a[n].split(\"=\"),i.push(t[0]),i[t[0]]=t[1];return i};return jQuery});","Nwdthemes_Revslider/public/assets/js/tp-color-picker.min.js":"/**************************************************************************\r\n * tp-color-picker.js - Color Picker Plugin for Revolution Slider\r\n * @version: 1.0.2 (5.10.2017)\r\n * @author ThemePunch\r\n**************************************************************************/\r\n\r\n;window.RevColor={defaultValue:\"#ffffff\",isColor:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,get:function(b){return b?RevColor.process(b,!0)[0]:\"transparent\"},parse:function(b,k,l){b=RevColor.process(b,!0);var p=[];p[0]=k?k+\": \"+b[0]+\";\":b[0];l&&(p[1]=b[1]);return p},convert:function(b,k){if(!b||\"string\"!==typeof b)return RevColor.defaultValue;if(\"transparent\"===b)return b;if(-1!==b.search(/\\[\\{/)||-1!==b.search(\"gradient\")||\"undefined\"===typeof k||isNaN(k))return RevColor.process(b,!0)[0];k=parseFloat(k);\r\n1>=k&&(k*=100);k=Math.max(Math.min(parseInt(k,10),100),0);if(0===k)return\"transparent\";try{if(-1!==b.search(\"#\")||8>b.length)return RevColor.isColor.test(b)||(b=b.replace(/[^A-Za-z0-9#]/g,\"\")),RevColor.processRgba(RevColor.sanitizeHex(b),k);b=RevColor.rgbValues(b,3);return RevColor.rgbaString(b[0],b[1],b[2],.01*k)}catch(l){return RevColor.defaultValue}},process:function(b,k){if(\"string\"!==typeof b)return k&&(b=RevColor.sanitizeGradient(b)),[RevColor.processGradient(b),\"gradient\",b];if(\"transparent\"===\r\nb.trim())return[\"transparent\",\"transparent\"];if(-1!==b.search(/\\[\\{/))try{return b=JSON.parse(b.replace(/\\&/g,'\"')),k&&(b=RevColor.sanitizeGradient(b)),[RevColor.processGradient(b),\"gradient\",b]}catch(l){return console.log(\"RevColor.process() failed to parse JSON string\"),[\"linear-gradient(0deg, rgba(255, 255, 255, 1) 0%, rgba(0, 0, 0, 1) 100%)\",\"gradient\",{type:\"linear\",angle:\"0\",colors:[{r:\"255\",g:\"255\",b:\"255\",a:\"1\",position:\"0\",align:\"bottom\"},{r:\"0\",g:\"0\",b:\"0\",a:\"1\",position:\"100\",align:\"bottom\"}]}]}else return-1!==\r\nb.search(\"#\")?[RevColor.sanitizeHex(b),\"hex\"]:-1!==b.search(\"rgba\")?[b.replace(/\\s/g,\"\").replace(/false/g,\"1\"),\"rgba\"]:[b.replace(/\\s/g,\"\"),\"rgb\"]},transparentRgba:function(b,k){return k||\"rgba\"===RevColor.process(b)[1]?\"0\"===RevColor.rgbValues(b,4)[3]:!1},rgbValues:function(b,k){b=b.substring(b.indexOf(\"(\")+1,b.lastIndexOf(\")\")).split(\",\");3===b.length&&4===k&&(b[3]=\"1\");for(var l=0;l<k;l++)b[l]=b[l].trim();return b},rgbaString:function(b,k,l,p){return\"rgba(\"+b+\", \"+k+\", \"+l+\", \"+p+\")\"},rgbToHex:function(b){b=\r\nRevColor.rgbValues(b,3);return RevColor.getRgbToHex(b[0],b[1],b[2])},rgbaToHex:function(b){b=RevColor.rgbValues(b,4);return[RevColor.getRgbToHex(b[0],b[1],b[2]),b[3]]},getOpacity:function(b){return parseInt(100*RevColor.rgbValues(b,4)[3],10)+\"%\"},getRgbToHex:function(b,k,l){return\"#\"+(\"0\"+parseInt(b).toString(16)).slice(-2)+(\"0\"+parseInt(k).toString(16)).slice(-2)+(\"0\"+parseInt(l).toString(16)).slice(-2)},joinToRgba:function(b){b=b.split(\"||\");return RevColor.convert(b[0],b[1])},processRgba:function(b,\r\nk){b=b.replace(\"#\",\"\");var l=\"undefined\"!==typeof k,p=(l?\"rgba\":\"rgb\")+\"(\"+parseInt(b.substring(0,2),16)+\", \"+parseInt(b.substring(2,4),16)+\", \"+parseInt(b.substring(4,6),16);return p=l?p+(\", \"+(.01*parseInt(k,10)).toFixed(2).replace(/\\.?0*$/,\"\")+\")\"):p+\")\"},processGradient:function(b){var k=b.type,l=\"linear\"===k?b.angle+\"deg, \":\"ellipse at center, \";b=b.colors;for(var p=b.length,B=\"\",u,y=0;y<p;y++)0<y&&(B+=\", \"),u=b[y],B+=\"rgba(\"+u.r+\", \"+u.g+\", \"+u.b+\", \"+u.a+\") \"+u.position+\"%\";return k+\"-gradient(\"+\r\nl+B+\")\"},sanitizeHex:function(b){b=b.replace(\"#\",\"\").trim();if(3===b.length){var k=b.charAt(0),l=b.charAt(1);b=b.charAt(2);b=k+k+l+l+b+b}return\"#\"+b},sanitizeGradient:function(b){for(var k=b.colors,l=k.length,p=[],B,u=0;u<l;u++){var y=k[u];delete y.align;B?JSON.stringify(y)!==JSON.stringify(B)&&(p[p.length]=y):p[p.length]=y;B=y}b.colors=p;return b}};\r\n(function(b){function k(){this.innerHTML=T[this.getAttribute(\"data-text\")||\"\"]}function l(){this.setAttribute(\"placeholder\",T[this.getAttribute(\"data-placeholder\")||\"\"])}function p(){this.setAttribute(\"data-message\",T[this.getAttribute(\"data-alert\")||\"\"])}function B(a){a||(a={});\"string\"===typeof a&&(a=JSON.parse(a.replace(/\\&/g,'\"')));T=b.extend({},wa,a);Va=T.color;n.find(\"*[data-placeholder]\").each(l);n.find(\"*[data-alert]\").each(p);n.find(\"*[data-text]\").each(k)}function u(a,c,d,e){if(b.isPlainObject(a)){var g;\r\nfor(g in a)if(a.hasOwnProperty(g)){a=a[g];if(\"string\"===typeof a){a=RevColor.process(a);if(\"gradient\"===a[1]){var h=a[2];var ga=h.angle;var r=h.type}a=a[0]}else ga=a.angle,r=a.type;var f=isNaN(g)?g.replace(/_/g,\" \").replace(/\\b\\w/g,function(a){return a.toUpperCase()}):\"radial\"!==r?ga+\"&deg;\":\"radial\"}}else f=a;if(\"blank\"!==a)return b.isPlainObject(a)&&(h=a,a=e||RevColor.processGradient(a)),a='<span class=\"rev-cpicker-color tptip'+d+'\" data-title=\"'+f+'\" data-color=\"'+a+'\"><span class=\"rev-cpicker-preset-tile\"></span><span class=\"rev-cpicker-preset-bg\" style=\"background: '+\r\na+'\"></span>',c||(a+='<span class=\"rev-cpicker-delete\"><span class=\"rev-cpicker-delete-icon\"></span></span>'),c=b(a+\"</span>\"),h&&c.data(\"gradient\",h),c[0];c=document.createElement(\"span\");c.className=\"rev-cpicker-color blank\";return c}function y(){var a=(this.getAttribute(\"data-color\")||\"\").toLowerCase(),c=ha?!1:a===Wa.toLowerCase();if(a===ia||c)return a=b(this),a.closest(\".rev-cpicker-presets-group\").find(\".rev-cpicker-color.selected\").removeClass(\"selected\"),q=a,ha&&!xa&&ya(q.data(\"gradient\"),\r\n!0),q.addClass(\"selected\"),!1}function O(a,c,b){if(A){a||(c=c||t.val(),b=\"undefined\"!==typeof b?b:w.val(),c=\"transparent\"===c?\"transparent\":\"100%\"===b?RevColor.sanitizeHex(c):RevColor.processRgba(c,b));var d=(b=\"transparent\"===c)?\"\":c;a?H.data(\"state\",c):D.data(\"state\",c);b?A.css(\"background\",d):A[0].style.background=d;za&&za(m,c);I.trigger(\"revcolorpickerupdate\",[m,c])}}function ya(a,c){var d=RevColor.process(a),e=d[1],g=d[0];ja&&J.removeClass(\"checked\");if(\"gradient\"!==e){switch(e){case \"hex\":a=\r\nRevColor.sanitizeHex(g);w.val(\"100%\");U(100);break;case \"rgba\":var d=RevColor.rgbaToHex(g),h=parseInt(100*d[1],10);a=d[0];w.val(h+\"%\");U(h);break;case \"rgb\":a=RevColor.rgbToHex(g);w.val(\"100%\");U(100);break;default:ka.click(),D.click()}K.val(a).change();c||D.click()}else if(ja){d=d[2];h=d.angle;\"radial\"===d.type&&(h=\"radial\");P.removeClass(\"selected\");b('.rev-cpicker-orientation[data-direction=\"'+h+'\"]').addClass(\"selected\");z.val(Aa(h));Xa(h);for(var d=d.colors,h=document.createDocumentFragment(),\r\nga=d.length,r,f,k=0;k<ga;k++)f=d[k],r=f.align,h.appendChild(Ya(r,f.position,Za(f),$a(f,r)));Q&&Q.draggable(\"destroy\");L.empty().append(h);Q=L.children().draggable(V);x();c||(ab=!0,H.click())}else K.val(RevColor.defaultValue).change(),D.click();return[g,e]}function bb(a,c){a:{var d=v.slice();var e=d.length;for(d.sort(Ba);e--;){var g=d[e];if(g.align===a&&g.x<c){d=g;break a}}for(var e=d.length,h=0;h<e;h++)if(g=d[h],g.align===a&&g.x>c){d=g;break a}d=void 0}e=d.color;d=$a(e,a,!0);e=Za(e,!0);d=Ya(a,c,e,\r\nd);f&&f.removeClass(\"active\");f=b(d).addClass(\"active\").appendTo(L).draggable(V);la=f.children(\".rev-cpicker-point-square\")[0];ma=f.children(\".rev-cpicker-point-triangle\")[0];Q=L.children();e=cb(c);x(d);\"bottom\"===a&&R.val(e[1]).change()}function cb(a){\"undefined\"===typeof a&&(a=v[na].x);var b=f.attr(\"data-color\"),d=f.hasClass(\"rev-cpicker-point-bottom\");if(d)E.hasClass(\"active\")&&(W.attr(\"disabled\",\"disabled\"),M.attr(\"disabled\",\"disabled\"),E.removeClass(\"active\")),b=RevColor.rgbaToHex(b)[0],X.css(\"background\",\r\nb),N.removeAttr(\"disabled\").val(a+\"%\"),2<n.find(\".rev-cpicker-point-bottom\").length&&F.addClass(\"active\"),n.addClass(\"open\");else{F.hasClass(\"active\")&&(X.css(\"background\",\"\"),N.attr(\"disabled\",\"disabled\"),F.removeClass(\"active\"));var e=RevColor.getOpacity(b);W.attr(\"data-opacity\",e).val(e).removeAttr(\"disabled\");M.val(a+\"%\").removeAttr(\"disabled\");2<n.find(\".rev-cpicker-point-top\").length&&E.addClass(\"active\");n.removeClass(\"open\")}return[d,b]}function $a(a,b,d){return\"bottom\"===b?\"rgb(\"+a.r+\",\"+\r\na.g+\",\"+a.b+\")\":\"rgba(0, 0, 0, \"+(d?\"1\":a.a)+\")\"}function Za(a,b){return\"rgba(\"+a.r+\",\"+a.g+\",\"+a.b+\",\"+(b?\"1\":a.a)+\")\"}function Ya(a,c,d,e){var g=document.createElement(\"span\");g.className=\"rev-cpicker-point rev-cpicker-point-\"+a;\"string\"===typeof d?g.setAttribute(\"data-color\",d):b(g).data(\"gradient\",d);g.setAttribute(\"data-location\",c);g.style.left=c+\"%\";g.innerHTML=\"bottom\"===a?'<span class=\"rev-cpicker-point-triangle\" style=\"border-bottom-color: '+e+'\"></span><span class=\"rev-cpicker-point-square\" style=\"background: '+\r\ne+'\"></span>':'<span class=\"rev-cpicker-point-square\" style=\"background: '+e+'\"></span><span class=\"rev-cpicker-point-triangle\" style=\"border-top-color: '+e+'\"></span>';return g}function Aa(a){a&&\"radial\"!==a||(a=\"0\");Ca.innerHTML=a+\"&deg;\";return Ca.value}function db(){f&&(f.removeClass(\"active\"),f=!1);N.attr(\"disabled\",\"disabled\");W.attr(\"disabled\",\"disabled\");M.attr(\"disabled\",\"disabled\");E.removeClass(\"active\");F.removeClass(\"active\");X.css(\"background\",\"\");n.removeClass(\"open\")}function Da(a,\r\nb){n.removeClass(\"active is-basic\").hide();Y.removeClass(\"rev-colorpicker-open\");Z.css({left:\"\",top:\"\"});oa&&(oa.remove(),oa=!1);q?(q.hasClass(\"selected\")?(b&&m.data(\"hex\",q.attr(\"data-color\").toLowerCase()),q.removeClass(\"selected\")):m.removeData(\"hex\"),q=!1):m.removeData(\"hex\");b||(Ea&&Ea(),G&&\"transparent\"!==G?A[0].style.background=G:A.css(\"background\",\"\"),I.trigger(\"revcolorpickerupdate\",[m,G]));m=A=!1}function Fa(){var a=b(this).children(\".rev-cpicker-color\").not(\".blank\").length;6<a?b(\"#\"+this.id+\r\n\"-btn\").addClass(\"multiplerows\"):b(\"#\"+this.id+\"-btn\").removeClass(\"multiplerows\");return a}function Bb(){for(var a=b(this),c=-1!==this.id.search(\"colors\")?5:6,a=a.children(\".rev-cpicker-color\"),d=a.length,e=Math.ceil(d/6),c=6*c,g,d=d+1,h=0;h<e;h++){var f=6*h,f=a.slice(f,parseInt(f+6,10)-1);Ga=!0;f.each(Cb);Ga&&(d-=6,d>=c&&(f.remove(),g=!0))}return g}function Cb(){if(-1===this.className.search(\"blank\"))return Ga=!1}function x(a,b,d){Ha=b;eb();Ha=!1;for(var c,g=[],h=v.length,f=0;f<h;f++)c=v[f],b=c.color,\r\ng[f]=b,c=c.el,c.setAttribute(\"data-color\",RevColor.rgbaString(b.r,b.g,b.b,b.a)),c.setAttribute(\"data-opacity\",100*b.a),a&&a===c&&(na=f);fb.hasClass(\"selected\")?(C.type=\"radial\",C.angle=\"0\"):(C.type=\"linear\",C.angle=parseInt(z.val(),10).toString());C.colors=g;q&&q.removeClass(\"selected\");a=RevColor.processGradient(C);O(!0,a);if(d)return[C,a];d=gb.style;g=a.replace(\"radial-\",\"linear-\");g=g.split(\"(\");b=g[0];g.shift();g=g.join(\"(\").split(\",\");g.shift();b=b+\"(90deg,\"+g.join(\",\");d.background=b;pa.style.background=\r\na}function hb(a,b){if(0===a)return!1;for(var c;a--;)if(c=v[a],c.align!==b)return c;return!1}function ib(a,b,d){if(a===d)return!1;for(var c;a++<d;)if(c=v[a],c.align!==b)return c;return!1}function Ia(a,b,d,e,g){return Math.max(Math.min(Math.round(Math.abs((a-b)/(d-b)*(g-e)+e)),255),0)}function eb(){v=[];aa=[];ba=[];Q.each(Db);v.sort(Ba);for(var a=v.length,b=a-1,d,e,g,h,f=0;f<a;f++)if(d=v[f],g=d.align,e=hb(f,g),!1===e&&(e=ib(f,g,b)),h=ib(f,g,b),!1===h&&(h=hb(f,g)),\"bottom\"===g){g=d;var r=e.alpha,k=h.alpha;\r\nr!==k?(e=e.x,h=Math.max(Math.min(Math.abs(parseFloat(((g.x-e)/(h.x-e)*(k-r)).toFixed(2))+parseFloat(r)),1),0).toFixed(2)):h=r;g.alpha=h;g.color.a=h}else g=d.color,k=e.color,r=h.color,e!==h?(d=d.x,e=e.x,h=h.x,g.r=Ia(d,e,h,k.r,r.r),g.g=Ia(d,e,h,k.g,r.g),g.b=Ia(d,e,h,k.b,r.b)):(g.r=k.r,g.g=k.g,g.b=k.b);v.sort(Ba)}function Ba(a,b){return a.x<b.x?-1:a.x>b.x?1:0}function Db(a){var b=RevColor.rgbValues(this.getAttribute(\"data-color\")||\"\",4),d=-1!==this.className.search(\"bottom\")?\"bottom\":\"top\",e=b[3].replace(/\\.?0*$/,\r\n\"\")||0,g=parseInt(this.style.left,10);Ha&&(g=50>g?g+2*(50-g):g-2*(g-50),this.style.left=g+\"%\",this.setAttribute(\"data-location\",g));v[a]={el:this,x:g,alpha:e,align:d,color:{r:parseInt(b[0],10),g:parseInt(b[1],10),b:parseInt(b[2],10),a:e,position:g,align:d}};f&&f[0]!==this&&(\"bottom\"===d?ba[ba.length]=g:aa[aa.length]=g)}function Xa(a){a=\"undefined\"!==typeof a?a:parseInt(z.val(),10);jb[0].style.transform=\"rotate(\"+a+\"deg)\"}function Ja(a,c,d){var e=\"undefined\"!==typeof d;d=e?d:parseInt(z.val(),10);if(a&&\r\n\"keyup\"===a.type){var g=!isNaN(d)&&-360<=d&&360>=d;var h=d}else{a=parseInt(z.data(\"orig-value\"),10);d||(d=\"0\");if(isNaN(d)||-360>d||360<d)d=a;d!==a&&(h=d,g=!0,z.val(Aa(d)),e||(d=c||d,P.removeClass(\"selected\"),b('.rev-cpicker-orientation[data-direction=\"'+d+'\"]').addClass(\"selected\")))}if(g||c)h&&Xa(h),x()}function kb(){var a=b(this);-1!==this.className.search(\"down\")?(a.parent().addClass(\"active\"),a.closest(\".rev-cpicker-presets\").addClass(\"active\"),b(this.id.replace(\"-btn\",\"\")).addClass(\"active\"),\r\nqa=n.hasClass(\"gradient-view\")):(a.parent().removeClass(\"active\"),a.closest(\".rev-cpicker-presets\").removeClass(\"active\"),b(this.id.replace(\"-btn\",\"\")).removeClass(\"active\"),qa=!1)}function Eb(a,b){var c=parseInt(100*(Math.round(b.position.left)/263).toFixed(2),10);\"bottom\"===Ka?N.val(c+\"%\").trigger(\"keyup\"):M.val(c+\"%\").trigger(\"keyup\")}function Fb(){var a=b(this);Ka=a.hasClass(\"rev-cpicker-point-bottom\")?\"bottom\":\"top\";a.click()}function Gb(){\"bottom\"===Ka?N.trigger(\"focusout\"):M.trigger(\"focusout\")}\r\nfunction U(a){La=!0;Ma.slider(\"value\",Math.round(1.8*a));La=!1}function lb(a){var b=ca.offset(),d=a.pageX-b.left;a=a.pageY-b.top;isNaN(d)||isNaN(a)||(d=180/Math.PI*Math.atan2(a-30,d-30)+90,0>d&&(d+=360),d=Math.max(0,Math.min(360,Math.round(d))),d=5*Math.round(d/5),Ja(!1,!1,d))}function da(a){a.stopImmediatePropagation()}function Hb(){Na||b.tpColorPicker();mb=document.getElementById(\"rev-cpicker-current-edit\");pa=document.getElementById(\"rev-cpicker-gradient-output\");gb=document.getElementById(\"rev-cpicker-gradient-input\");\r\nOa=document.getElementById(\"rev-cpicker-edit-title\");Ca=document.createElement(\"textarea\");E=b(\"#rev-cpicker-opacity-delete\");L=b(\"#rev-cpciker-point-container\");M=b(\"#rev-cpicker-opacity-location\");S=b(\".rev-cpicker-presets-group\");w=b(\"#rev-cpicker-color-opacity\");fb=b(\"#rev-cpicker-orientation-radial\");F=b(\"#rev-cpicker-color-delete\");W=b(\"#rev-cpicker-grad-opacity\");N=b(\"#rev-cpicker-color-location\");Pa=b(\"#rev-cpicker-gradients-core\");P=b(\".rev-cpicker-orientation\");R=b(\"#rev-cpicker-iris-gradient\");\r\njb=b(\"#rev-cpicker-wheel-point\");nb=b(\"#rev-cpicker-gradients\");K=b(\"#rev-cpicker-iris-color\");H=b(\"#rev-cpicker-gradient-btn\");ra=b(\"#rev-cpicker-gradient-hex\");ka=b(\"#rev-cpciker-clear-hex\");J=b(\"#rev-cpicker-meta-reverse\");sa=b(\"#rev-cpicker-hit-bottom\");Ma=b(\"#rev-cpicker-scroll\");ob=b(\"#rev-cpicker-colors\");t=b(\"#rev-cpicker-color-hex\");D=b(\"#rev-cpicker-color-btn\");X=b(\"#rev-cpicker-color-box\");z=b(\"#rev-cpicker-meta-angle\");ca=b(\"#rev-cpicker-wheel\");ea=b(\"#rev-cpicker-hit-top\");Z=b(\"#rev-cpicker\");\r\nI=b(document);V.drag=Eb;V.stop=Gb;V.start=Fb;D.data(\"state\",ob.find(\".rev-cpicker-color\").eq(0).attr(\"data-color\")||\"#ffffff\");H.data(\"state\",nb.find(\".rev-cpicker-color\").eq(0).attr(\"data-color\")||\"linear-gradient(0deg, rgba(255, 255, 255, 1) 0%, rgba(0, 0, 0, 1) 100%)\");Z.draggable({containment:\"window\",handle:\".rev-cpicker-draggable\",stop:function(){Z.css(\"height\",\"auto\")}});S.perfectScrollbar({wheelPropagation:!1,suppressScrollX:!0});ca.on(\"mousedown.revcpicker\",function(a){P.removeClass(\"selected\");\r\nQa=!0;lb(a)}).on(\"mousemove.revcpicker\",function(a){Qa&&lb(a)}).on(\"mouseleave.revcpicker mouseup.revcpicker\",function(){Qa=!1});b(\".rev-cpicker-main-btn\").on(\"click.revcpicker\",function(){xa=-1===this.id.search(\"gradient\");if(A){var a=b(this);a=a.data(\"state\")}xa?(A&&(ia=t.val()),n.removeClass(\"gradient-view\").addClass(\"color-view\")):(A&&(ia=a),n.removeClass(\"color-view\").addClass(\"gradient-view\"),ab||Pa.children(\".rev-cpicker-color\").not(\".blank\").eq(0).click());S.perfectScrollbar(\"update\");if(a){var c=\r\n\"transparent\"===a,d=c?\"\":a;c?A.css(\"background\",d):A[0].style.background=d;ha=!0;b(\".rev-cpicker-color\").not(\".blank\").each(y);ha=!1;I.trigger(\"revcolorpickerupdate\",[m,a])}});b(\"#rev-cpicker-check\").on(\"click.revcipicker\",function(){if(n.hasClass(\"color-view\")){var a=t.val();var c=w.val();m.removeData(\"gradient\");a=\"transparent\"===a?\"transparent\":\"100%\"===c?RevColor.sanitizeHex(a):RevColor.processRgba(a,c);c=[m,a,!1]}else{db();a=x(!1,!1,!0);c=b.extend({},a[0]);var d=a[1];m.data(\"gradient\",d);a=JSON.stringify(c).replace(/\\\"/g,\r\n\"&\");c=[m,d,c]}if(d=c[1]!==G)m.attr(\"data-color\",c[1]).val(a).change(),I.trigger(\"revcolorpicker\",c),Ra&&Ra(c[0],c[1],c[2]);Da(!1,d)});n.on(\"click.revcpicker\",function(a){if(n.hasClass(\"open\")){var c=a.target;a=b(c);var d=c.id;(c=-1!==c.className.search(\"rev-cpicker-point\")||\"rev-cpicker-section-right\"===d||-1!==d.search(\"hit\")||a.closest(\"#rev-cpicker-section-right, #rev-cpicker-point-wrap\").length)&&(\"text\"===a.attr(\"type\")?c=!a.attr(\"disabled\"):\"rev-cpicker-check-gradient\"===d&&(c=!1));c||db()}else Sa&&\r\n!1===/wheel|angle|reverse/.test(a.target.id)&&(-1===a.target.id.search(\"radial\")&&b('.rev-cpicker-orientation[data-direction=\"'+parseInt(z.val())+'\"]').addClass(\"selected\"),ca.removeClass(\"active\"),Sa=!1)});b(\".rev-cpicker-close\").on(\"click.revcpicker\",Da);K.wpColorPicker({palettes:!1,width:267,border:!1,hide:!1,change:function(a,b){var c=b.color.toString();this.value=c;t.val(c);if(!Ta){var e=w.val();0===parseInt(e,10)&&(c=\"transparent\");O(!1,c,e);q&&(q.removeClass(\"selected\"),q=!1)}}});R.wpColorPicker({palettes:!1,\r\nheight:250,border:!1,hide:!1,change:function(a,b){var c=b.color.toString();this.value=c;ra.val(c);X.css(\"background\",c);la.style.backgroundColor=c;ma.style.borderBottomColor=c;var c=RevColor.processRgba(c,100),e=RevColor.rgbValues(c,4),g=C.colors[na];g.r=e[0];g.g=e[1];g.b=e[2];g.a=e[3];f.attr(\"data-color\",c);x()}});Ma.slider({orientation:\"vertical\",max:180,value:180,start:function(){pb=\"transparent\"===t.val()},slide:function(a,b){if(!La){var c=parseInt(100*(b.value/180).toFixed(2),10);if(pb){var e=\r\nc?\"#ffffff\":\"transparent\";t.val(e)}0===c&&(e=\"transparent\");O(!1,e,c||\"transparent\");w.val(c+\"%\")}}});b(\".rev-cpicker-point-location\").on(\"keyup.revcpicker focusout.revcpicker\",function(a){if(f){var b=f.hasClass(\"rev-cpicker-point-bottom\")?\"bottom\":\"top\",d=\"bottom\"===b?ba:aa,b=\"bottom\"===b?N:M,e=b.val().replace(\"%\",\"\")||\"0\";a=a.type;var g;isNaN(e)&&(e=\"keyup\"===a?\"0\":f.attr(\"data-location\"));e=Math.max(0,Math.min(100,parseInt(e,10)));for(g=50>e?1:-1;-1!==d.indexOf(e);)e+=g;\"focusout\"===a&&(b.val(e+\r\n\"%\"),f.attr(\"data-location\",e));f.css(\"left\",e+\"%\");x()}}).on(\"focusin.revcpicker\",da);b(\"body\").on(\"click.revcpicker\",\".rev-cpicker-point\",function(){L.find(\".rev-cpicker-point.active\").removeClass(\"active\");f=b(this).addClass(\"active\");la=f.children(\".rev-cpicker-point-square\")[0];ma=f.children(\".rev-cpicker-point-triangle\")[0];x(this);q=!1;var a=cb();a[0]&&R.val(a[1]).change()}).on(\"mousedown.revcpicker\",\".rev-cpicker-point\",function(a){f=b(this).data(\"mousestart\",a.pageY)}).on(\"mousemove.revcpicker\",\r\nfunction(a){if(f&&f.data(\"mousestart\")){var b=f.data(\"mousestart\");a=a.pageY;f.hasClass(\"rev-cpicker-point-bottom\")?a>b&&15<a-b&&F.hasClass(\"active\")?f.addClass(\"warning\"):f.removeClass(\"warning\"):b>a&&15<b-a&&E.hasClass(\"active\")?f.addClass(\"warning\"):f.removeClass(\"warning\")}}).on(\"mouseup.revcpicker\",function(a){if(f&&f.data(\"mousestart\")){var b=f.data(\"mousestart\");a=a.pageY;f.removeData(\"mousestart\");f.hasClass(\"rev-cpicker-point-bottom\")?a>b&&10<a-b&&F.hasClass(\"active\")?F.click():f.removeClass(\"warning\"):\r\nb>a&&10<b-a&&E.hasClass(\"active\")?E.click():f.removeClass(\"warning\")}}).on(\"change.revcpicker\",\".rev-cpicker-component\",function(){var a=b(this),c=a.data(\"gradient\")||a.val()||\"transparent\";if(\"transparent\"===c||RevColor.transparentRgba(c))c=\"\";a.data(\"tpcp\").css(\"background\",c)}).on(\"keypress.revcpicker\",function(a){n.hasClass(\"active\")&&(a=a.which,27==a?Da():13==a&&ta&&ta.blur())}).on(\"click.revcpicker\",\".rev-cpicker-color:not(.blank)\",function(){if(q){if(q[0]===this&&q.hasClass(\"selected\"))return;\r\nq.removeClass(\"selected\")}q=b(this);var a=q.parent()[0].id,c=-1!==a.search(\"core\")?\"core\":\"custom\",a=-1!==a.search(\"colors\")?\"colors\":\"gradients\",c=b(\"#rev-cpicker-\"+a+\"-\"+c+\"-btn\");c.hasClass(\"active\")&&c.find(\".rev-cpicker-arrow-up\").click();n.hasClass(\"color-view\")?(c=q.attr(\"data-color\"),Ta=!0,K.val(c).change(),\"transparent\"===t.val()&&t.val(c.toLowerCase()),Ta=!1,a=w.val(),0===parseInt(a,10)&&(c=\"transparent\"),O(!1,c,a)):(ea.removeClass(\"full\"),sa.removeClass(\"full\"),ya(q.data(\"gradient\"),!0),\r\nJ.removeClass(\"checked\"),Pa.find(\".rev-cpicker-color.selected\").removeClass(\"selected\"));q.addClass(\"selected\")}).on(\"mouseover.revcpicker\",\".rev-cpicker-color:not(.blank)\",function(){qa&&(pa.style.background=this.getAttribute(\"data-color\")||\"\")}).on(\"mouseout.revcpicker\",\".rev-cpicker-color:not(.blank)\",function(){qa&&x()}).on(\"click.revcpicker\",\".rev-cpicker-delete\",function(){if(fa){if(window.confirm(document.getElementById(\"rev-cpicker-remove-delete\").innerHTML)){n.addClass(\"onajax onajaxdelete\");\r\nvar a=b(this),c=a.parent(),d=c.attr(\"data-title\")||\"\";if(!d){console.log(\"Preset does not have a name/title\");return}var e=a.closest(\".rev-cpicker-presets-group\")[0].id,g=-1!==e.search(\"colors\")?\"colors\":\"gradients\";I.off(\"revcpicker_onajax_delete.revcpicker\").on(\"revcpicker_onajax_delete.revcpicker\",function(d,g){g&&console.log(g);var h=a.closest(\".rev-cpicker-presets-group\"),f=h.find(\".ps-scrollbar-x-rail\"),k=b(\"#\"+e+\"-btn\");c.remove();Bb.call(h[0])?h.perfectScrollbar(\"update\"):b('<span class=\"rev-cpicker-color blank\"></span>').insertBefore(f);\r\n7>Fa.call(h[0])&&(b('<span class=\"rev-cpicker-color blank\"></span>').insertBefore(f),k.hasClass(\"active\")&&k.children(\".rev-cpicker-arrow-up\").click());n.removeClass(\"onajax onajaxdelete\")});d=b.trim(d.replace(/\\W+/g,\"_\")).replace(/^\\_|\\_$/g,\"\").toLowerCase();fa(\"delete\",d,g,\"revcpicker_onajax_delete\",m)}return!1}console.log(\"Ajax callback not defined\")});b(\".rev-cpicker-save-preset-btn\").on(\"click.revcpicker\",function(){if(fa){var a,c=b(this),d=c.closest(\".rev-cpicker-presets-save-as\").find(\".rev-cpicker-preset-save\").val();\r\nif(d&&isNaN(d)){var e=n.hasClass(\"color-view\")?\"colors\":\"gradients\";d=b.trim(d.replace(/\\W+/g,\"_\")).replace(/^\\_|\\_$/g,\"\").toLowerCase();b(\"#rev-cpicker-\"+e+\"-custom\").find(\".rev-cpicker-color\").not(\".blank\").each(function(){if(b.trim((this.getAttribute(\"data-title\")||\"\").replace(/\\W+/g,\"_\")).replace(/^\\_|\\_$/g,\"\").toLowerCase()===d)return alert(c.attr(\"data-message\")),a=!0,!1});if(!a){n.addClass(\"onajax onajaxsave\");var g={};if(\"colors\"===e){var h=t.val();var f=w.val();h=\"transparent\"===h?\"transparent\":\r\n\"100%\"===f?RevColor.sanitizeHex(h):RevColor.processRgba(h,f)}else{var k=pa.style.background;h=b.extend({},x(!1,!1,!0)[0])}g[d]=h;I.off(\"revcpicker_onajax_save.revcpicker\").on(\"revcpicker_onajax_save.revcpicker\",function(a,d){if(d)n.removeClass(\"onajax onajaxsave\"),alert(c.attr(\"data-message\"));else{var h=b(u(g,!1,\" rev-picker-color-custom\",k)),f=b(\"#rev-cpicker-\"+e+\"-custom\"),r=f.find(\".rev-cpicker-color.blank\"),m=b(\"#\"+f[0].id+\"-btn\");r.length?h.insertBefore(r.eq(0)):h.insertBefore(f.find(\".ps-scrollbar-x-rail\"));\r\nb(\"#rev-cpicker-\"+e+\"-custom-btn\").click();6<Fa.call(f[0])&&(r.length&&r.last().remove(),m.addClass(\"active\").children(\".rev-cpicker-arrow-down\").click(),f.perfectScrollbar(\"update\"));h.click();n.removeClass(\"onajax onajaxsave\")}});fa(\"save\",g,e,\"revcpicker_onajax_save\",m)}}else alert(c.attr(\"data-message\"))}else console.log(\"Ajax callback not defined\")});b(\".rev-cpicker-preset-title\").on(\"click.revcpicker\",function(){var a=b(this),c=a.parent(),d=a.hasClass(\"active\")?\"down\":\"up\";kb.call(a.find(\".rev-cpicker-arrow-\"+\r\nd)[0]);c.find(\".rev-cpicker-preset-title\").removeClass(\"selected\");a.addClass(\"selected\");c.find(\".rev-cpicker-presets-group\").hide();document.getElementById(this.id.replace(\"-btn\",\"\")).style.display=\"block\";S.perfectScrollbar(\"update\")});ka.on(\"click.revcpicker\",function(){w.val(\"0%\");U(0);K.val(RevColor.defaultValue).change();t.val(\"transparent\");O(!1,\"transparent\")});n.find('input[type=\"text\"]').on(\"focusin.revcpicker\",function(){ta=this}).on(\"focusout.revcpicker\",function(){ta=!1});b(\".rev-cpicker-input\").on(\"focusin.revcpicker\",\r\nfunction(){var a=b(this);a.data(\"orig-value\",a.val())});b(\".rev-cpicker-hex\").on(\"focusout.revcpicker\",function(){var a;if(\"rev-cpicker-color-hex\"===this.id){if(a=t.val())if(a=RevColor.sanitizeHex(a),RevColor.isColor.test(a))t.val(a);else if(a=b(this),a=a.data(\"orig-value\"))t.val(a);else{ka.click();return}else a=\"transparent\";K.val(a).change()}else a=ra.val()||RevColor.defaultValue,a=RevColor.sanitizeHex(a),RevColor.isColor.test(a)||(a=b(this),a=(a=a.data(\"orig-value\"))?a:RevColor.defaultValue),ra.val(a),\r\nR.val(a).change()}).on(\"focusin.revcpicker\",da);b(\"#rev-cpciker-clear-gradient\").on(\"click.revcpicker\",function(){R.val(RevColor.defaultValue).change()});z.on(\"keyup.revcpicker focusout.revcpicker\",Ja).on(\"focusin.revcpicker\",function(){Sa=!0;ca.addClass(\"active\")}).on(\"focusin.revcpicker\",da);P.on(\"click.revcpicker\",function(){var a=b(this),c=a.attr(\"data-direction\");P.removeClass(\"selected\");a.addClass(\"selected\");\"radial\"!==c?z.removeAttr(\"disabled\").val(Aa(c)):z.attr(\"disabled\",\"disabled\");Ja(!1,\r\nc)});b(\".rev-cpicker-point-delete\").on(\"click.revcpicker\",function(){if(-1!==this.className.search(\"active\")){var a=f.hasClass(\"rev-cpicker-point-bottom\")?\"bottom\":\"top\",b=n.find(\".rev-cpicker-point-\"+a).length;2<b&&(f.draggable(\"destroy\").remove(),Q=L.children(),n.click(),x());20>=b&&(\"bottom\"===a?sa.removeClass(\"full\"):ea.removeClass(\"full\"))}});b(\".rev-cpicker-preset-save\").on(\"focusin.revcpicker\",da);b(\".rev-cpicker-opacity-input\").on(\"keyup.revcpicker focusout.revcpicker\",function(a){var c=-1===\r\nthis.id.search(\"grad\"),d=c?w:W,e=d.val().replace(\"%\",\"\");a=a.type;isNaN(e)&&(e=\"keyup\"===a?\"0\":b(this).data(\"orig-value\"));e=Math.max(0,Math.min(100,e));\"focusout\"===a&&(d.val(e+\"%\"),c||f.attr(\"data-opacity\",e));c?(c=parseInt(e,10),O(!1,0!==c?!1:\"transparent\",e),U(e)):(c=RevColor.rgbValues(f.attr(\"data-color\"),3),d=C.colors[na],e=(.01*parseInt(e,10)).toFixed(2).replace(/\\.?0*$/,\"\"),d.r=c[0],d.g=c[1],d.b=c[2],d.a=e,c=RevColor.rgbaString(d.r,d.g,d.b,e),f.attr(\"data-color\",c),x(),c=\"rgba(0, 0, 0, \"+\r\ne+\")\",la.style.backgroundColor=c,ma.style.borderTopColor=c)}).on(\"focusin.revcpicker\",da);b(\".rev-cpicker-builder-hit\").on(\"click.revcpicker\",function(a){v||eb();a=parseInt(100*((a.pageX-ea.offset().left)/265).toFixed(2),10);for(var b=-1!==this.id.search(\"bottom\")?\"bottom\":\"top\",d=\"bottom\"===b?ba:aa,e=50>a?1:-1;-1!==d.indexOf(a);)a+=e;\"bottom\"===b?20>n.find(\".rev-cpicker-point-bottom\").length?(bb(b,a),q=!1):sa.addClass(\"full\"):20>n.find(\".rev-cpicker-point-top\").length?(bb(b,a),q=!1):ea.addClass(\"full\")});\r\nJ.on(\"click.revcpicker\",function(){J.hasClass(\"checked\")?J.removeClass(\"checked\"):J.addClass(\"checked\");x(!1,!0)});b(\".rev-cpicker-arrow\").on(\"click.revcpicker\",kb);qb=!0}function rb(a){var c=b.extend({},a);a=c.core||{};var c=c.custom;if(!sb||c){var d=4;c=(sb=c)||{colors:[],gradients:[]}}else d=2;a.colors||(a.colors=ua);a.gradients||(a.gradients=va);for(var e=0;e<d;e++){switch(e){case 0:var g=\"colors-core\";var h=a.colors;break;case 1:g=\"gradients-core\";h=a.gradients;break;case 2:g=\"colors-custom\";\r\nh=c.colors;break;case 3:g=\"gradients-custom\",h=c.gradients}var f=g;var k=h.slice()||[];for(var n=document.createDocumentFragment(),m=-1!==f.search(\"core\"),q=m?\"\":\" rev-picker-color-custom\",l=k.length,p=-1!==f.search(\"colors\")?5:6,l=Math.max(Math.ceil(l/6),p),p=0;p<l;p++)for(;k.length<6*(p+1);)k[k.length]=\"blank\";l=k.length;for(p=0;p<l;p++)n.appendChild(u(k[p],m,q));f=[\"rev-cpicker-\"+f,n];k=b(\"#\"+f[0]);k.find(\".rev-cpicker-color\").remove();k.prepend(f[1])}}var I,z,qb,Y,ja,v,fb,ea,za,tb,fa,n,Na,J,H,\r\nra,Ua,ta,ub,vb,X,D,t,N,R,Ga,f,oa,Pa,Ea,wb,xb,Ka,aa,ba,sa,Ca,la,ma,K,Va,gb,Ha,Qa,Oa,xa,ca,jb,pa,ka,P,na,M,ab,Sa,W,Q,L,nb,F,T,sb,yb,ia,m,S,ob,w,G,Wa,zb,A,Ta,ha,qa,pb,Z,E,q,Ma,La,mb,Ab,Ra,C={},V={axis:\"x\",containment:\"#rev-cpicker-point-wrap\"},wa={color:\"Color\",solid_color:\"Solid Color\",gradient_color:\"Gradient Color\",currently_editing:\"Currently Editing\",core_presets:\"Core Presets\",custom_presets:\"Custom Presets\",enter_a_name:\"Enter a Name\",save_a_new_preset:\"Save a new Preset\",save:\"Save\",color_hex_value:\"Color Hex Value\",\r\nopacity:\"Opacity\",clear:\"Clear\",location:\"Location\",\"delete\":\"Delete\",horizontal:\"Horizontal\",vertical:\"Vertical\",radial:\"Radial\",enter_angle:\"Enter Angle\",reverse_gradient:\"Reverse Gradient\",delete_confirm:\"Remove/Delete this custom preset color?\",naming_error:\"Please enter a unique name for the new color preset\"},ua=\"#FFFFFF #000000 #FF3A2D #007AFF #4CD964 #FFCC00 #C7C7CC #8E8E93 #FFD3E0 #34AADC #E0F8D8 #FF9500\".split(\" \"),va=[{0:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:247,&g&:247,&b&:247,&a&:&1&,&position&:0,&align&:&top&},{&r&:247,&g&:247,&b&:247,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:215,&g&:215,&b&:215,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:215,&g&:215,&b&:215,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{1:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:74,&g&:74,&b&:74,&a&:&1&,&position&:0,&align&:&top&},{&r&:74,&g&:74,&b&:74,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:43,&g&:43,&b&:43,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:43,&g&:43,&b&:43,&a&:&1&,&position&:100,&align&:&top&}]}\"},{2:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:219,&g&:221,&b&:222,&a&:&1&,&position&:0,&align&:&top&},{&r&:219,&g&:221,&b&:222,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:137,&g&:140,&b&:144,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:137,&g&:140,&b&:144,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{3:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:26,&g&:214,&b&:253,&a&:&1&,&position&:0,&align&:&top&},{&r&:26,&g&:214,&b&:253,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:29,&g&:98,&b&:240,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:29,&g&:98,&b&:240,&a&:&1&,&position&:100,&align&:&top&}]}\"},{4:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:198,&g&:68,&b&:252,&a&:&1&,&position&:0,&align&:&top&},{&r&:198,&g&:68,&b&:252,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:88,&g&:86,&b&:214,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:88,&g&:86,&b&:214,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{5:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:255,&g&:94,&b&:58,&a&:&1&,&position&:0,&align&:&top&},{&r&:255,&g&:94,&b&:58,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:255,&g&:42,&b&:104,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:42,&b&:104,&a&:&1&,&position&:100,&align&:&top&}]}\"},{6:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:228,&g&:221,&b&:202,&a&:&1&,&position&:0,&align&:&top&},{&r&:228,&g&:221,&b&:202,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:214,&g&:206,&b&:195,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:214,&g&:206,&b&:195,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{7:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:255,&g&:219,&b&:76,&a&:&1&,&position&:0,&align&:&top&},{&r&:255,&g&:219,&b&:76,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:255,&g&:205,&b&:2,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:205,&b&:2,&a&:&1&,&position&:100,&align&:&top&}]}\"},{8:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:255,&g&:149,&b&:0,&a&:&1&,&position&:0,&align&:&top&},{&r&:255,&g&:149,&b&:0,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:255,&g&:94,&b&:58,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:94,&b&:58,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{9:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:82,&g&:237,&b&:199,&a&:&1&,&position&:0,&align&:&top&},{&r&:82,&g&:237,&b&:199,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:90,&g&:200,&b&:251,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:90,&g&:200,&b&:251,&a&:&1&,&position&:100,&align&:&top&}]}\"},{10:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:228,&g&:183,&b&:240,&a&:&1&,&position&:0,&align&:&top&},{&r&:228,&g&:183,&b&:240,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:200,&g&:110,&b&:223,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:200,&g&:110,&b&:223,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{11:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:135,&g&:252,&b&:112,&a&:&1&,&position&:0,&align&:&top&},{&r&:135,&g&:252,&b&:112,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:11,&g&:211,&b&:24,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:11,&g&:211,&b&:24,&a&:&1&,&position&:100,&align&:&top&}]}\"},{12:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:61,&g&:78,&b&:129,&a&:&1&,&position&:0,&align&:&top&},{&r&:61,&g&:78,&b&:129,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:87,&g&:83,&b&:201,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:110,&g&:127,&b&:243,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:110,&g&:127,&b&:243,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{13:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:35,&g&:21,&b&:87,&a&:&1&,&position&:0,&align&:&top&},{&r&:35,&g&:21,&b&:87,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:68,&g&:16,&b&:122,&a&:&1&,&position&:29,&align&:&bottom&},{&r&:255,&g&:19,&b&:97,&a&:&1&,&position&:67,&align&:&bottom&},{&r&:255,&g&:248,&b&:0,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:248,&b&:0,&a&:&1&,&position&:100,&align&:&top&}]}\"},{14:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:105,&g&:234,&b&:203,&a&:&1&,&position&:0,&align&:&top&},{&r&:105,&g&:234,&b&:203,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:234,&g&:204,&b&:248,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:102,&g&:84,&b&:241,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:102,&g&:84,&b&:241,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{15:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:255,&g&:5,&b&:124,&a&:&1&,&position&:0,&align&:&top&},{&r&:255,&g&:5,&b&:124,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:124,&g&:100,&b&:213,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:76,&g&:195,&b&:255,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:76,&g&:195,&b&:255,&a&:&1&,&position&:100,&align&:&top&}]}\"},{16:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:255,&g&:5,&b&:124,&a&:&1&,&position&:0,&align&:&top&},{&r&:255,&g&:5,&b&:124,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:141,&g&:11,&b&:147,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:50,&g&:21,&b&:117,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:50,&g&:21,&b&:117,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{17:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:164,&g&:69,&b&:178,&a&:&1&,&position&:0,&align&:&top&},{&r&:164,&g&:69,&b&:178,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:212,&g&:24,&b&:114,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:255,&g&:0,&b&:102,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:0,&b&:102,&a&:&1&,&position&:100,&align&:&top&}]}\"},{18:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:158,&g&:251,&b&:211,&a&:&1&,&position&:0,&align&:&top&},{&r&:158,&g&:251,&b&:211,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:87,&g&:233,&b&:242,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:69,&g&:212,&b&:251,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:69,&g&:212,&b&:251,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{19:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:172,&g&:50,&b&:228,&a&:&1&,&position&:0,&align&:&top&},{&r&:172,&g&:50,&b&:228,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:121,&g&:24,&b&:242,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:72,&g&:1,&b&:255,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:72,&g&:1,&b&:255,&a&:&1&,&position&:100,&align&:&top&}]}\"},{20:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:112,&g&:133,&b&:182,&a&:&1&,&position&:0,&align&:&top&},{&r&:112,&g&:133,&b&:182,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:135,&g&:167,&b&:217,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:222,&g&:243,&b&:248,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:222,&g&:243,&b&:248,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{21:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:34,&g&:225,&b&:255,&a&:&1&,&position&:0,&align&:&top&},{&r&:34,&g&:225,&b&:255,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:29,&g&:143,&b&:225,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:98,&g&:94,&b&:177,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:98,&g&:94,&b&:177,&a&:&1&,&position&:100,&align&:&top&}]}\"},{22:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:44,&g&:216,&b&:213,&a&:&1&,&position&:0,&align&:&top&},{&r&:44,&g&:216,&b&:213,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:107,&g&:141,&b&:214,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:142,&g&:55,&b&:215,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:142,&g&:55,&b&:215,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{23:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:44,&g&:216,&b&:213,&a&:&1&,&position&:0,&align&:&top&},{&r&:44,&g&:216,&b&:213,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:197,&g&:193,&b&:255,&a&:&1&,&position&:56,&align&:&bottom&},{&r&:255,&g&:186,&b&:195,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:186,&b&:195,&a&:&1&,&position&:100,&align&:&top&}]}\"},{24:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:191,&g&:217,&b&:254,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:191,&g&:217,&b&:254,&a&:&1&,&position&:0,&align&:&top&},{&r&:223,&g&:137,&b&:181,&a&:&1&,&position&:100,&align&:&top&},{&r&:223,&g&:137,&b&:181,&a&:&1&,&position&:100,&align&:&bottom&}]}\"},\r\n{25:\"{&type&:&linear&,&angle&:&340&,&colors&:[{&r&:97,&g&:97,&b&:97,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:97,&g&:97,&b&:97,&a&:&1&,&position&:0,&align&:&top&},{&r&:155,&g&:197,&b&:195,&a&:&1&,&position&:100,&align&:&top&},{&r&:155,&g&:197,&b&:195,&a&:&1&,&position&:100,&align&:&bottom&}]}\"},{26:\"{&type&:&linear&,&angle&:&90&,&colors&:[{&r&:36,&g&:57,&b&:73,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:36,&g&:57,&b&:73,&a&:&1&,&position&:0,&align&:&top&},{&r&:81,&g&:127,&b&:164,&a&:&1&,&position&:100,&align&:&top&},{&r&:81,&g&:127,&b&:164,&a&:&1&,&position&:100,&align&:&bottom&}]}\"},\r\n{27:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:234,&g&:205,&b&:163,&a&:&1&,&position&:0,&align&:&top&},{&r&:234,&g&:205,&b&:163,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:230,&g&:185,&b&:128,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:230,&g&:185,&b&:128,&a&:&1&,&position&:100,&align&:&top&}]}\"},{28:\"{&type&:&linear&,&angle&:&45&,&colors&:[{&r&:238,&g&:156,&b&:167,&a&:&1&,&position&:0,&align&:&top&},{&r&:238,&g&:156,&b&:167,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:255,&g&:221,&b&:225,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:221,&b&:225,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{29:\"{&type&:&linear&,&angle&:&340&,&colors&:[{&r&:247,&g&:148,&b&:164,&a&:&1&,&position&:0,&align&:&top&},{&r&:247,&g&:148,&b&:164,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:253,&g&:214,&b&:189,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:253,&g&:214,&b&:189,&a&:&1&,&position&:100,&align&:&top&}]}\"},{30:\"{&type&:&linear&,&angle&:&45&,&colors&:[{&r&:135,&g&:77,&b&:162,&a&:&1&,&position&:0,&align&:&top&},{&r&:135,&g&:77,&b&:162,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:196,&g&:58,&b&:48,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:196,&g&:58,&b&:48,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{31:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:243,&g&:231,&b&:233,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:243,&g&:231,&b&:233,&a&:&1&,&position&:0,&align&:&top&},{&r&:218,&g&:212,&b&:236,&a&:&1&,&position&:100,&align&:&top&},{&r&:218,&g&:212,&b&:236,&a&:&1&,&position&:100,&align&:&bottom&}]}\"},{32:\"{&type&:&linear&,&angle&:&320&,&colors&:[{&r&:43,&g&:88,&b&:118,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:43,&g&:88,&b&:118,&a&:&1&,&position&:0,&align&:&top&},{&r&:78,&g&:67,&b&:118,&a&:&1&,&position&:100,&align&:&top&},{&r&:78,&g&:67,&b&:118,&a&:&1&,&position&:100,&align&:&bottom&}]}\"},\r\n{33:\"{&type&:&linear&,&angle&:&60&,&colors&:[{&r&:41,&g&:50,&b&:60,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:41,&g&:50,&b&:60,&a&:&1&,&position&:0,&align&:&top&},{&r&:72,&g&:85,&b&:99,&a&:&1&,&position&:100,&align&:&top&},{&r&:72,&g&:85,&b&:99,&a&:&1&,&position&:100,&align&:&bottom&}]}\"},{34:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:233,&g&:233,&b&:231,&a&:&1&,&position&:0,&align&:&top&},{&r&:233,&g&:233,&b&:231,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:239,&g&:238,&b&:236,&a&:&1&,&position&:25,&align&:&bottom&},{&r&:238,&g&:238,&b&:238,&a&:&1&,&position&:70,&align&:&bottom&},{&r&:213,&g&:212,&b&:208,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:213,&g&:212,&b&:208,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{35:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:251,&g&:200,&b&:212,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:251,&g&:200,&b&:212,&a&:&1&,&position&:0,&align&:&top&},{&r&:151,&g&:149,&b&:240,&a&:&1&,&position&:100,&align&:&top&},{&r&:151,&g&:149,&b&:240,&a&:&1&,&position&:100,&align&:&bottom&}]}\"}];b.tpColorPicker=function(a){Y||(Y=b(\"body\"),n=b('<div class=\"rev-cpicker-wrap color-view\"><div id=\"rev-cpicker-back\" class=\"rev-cpicker-close\"></div><div id=\"rev-cpicker\"><div id=\"rev-cpicker-head\"><div id=\"rev-cpicker-drag\" class=\"rev-cpicker-draggable\"></div><span id=\"rev-cpicker-color-btn\" class=\"rev-cpicker-main-btn\" data-text=\"solid_color\"></span><span id=\"rev-cpicker-gradient-btn\" class=\"rev-cpicker-main-btn\" data-text=\"gradient_color\"></span><div id=\"rev-cpicker-editing\" class=\"rev-cpicker-draggable\"><span id=\"rev-cpicker-edit-title\" data-text=\"currently_editing\"></span><span id=\"rev-cpicker-current-edit\"></span></div><span id=\"rev-cpicker-exit\" class=\"rev-cpicker-close\"></span></div><div id=\"rev-cpicker-section-left\" class=\"rev-cpicker-section\"><div id=\"rev-cpicker-body\"><div id=\"rev-cpicker-colors\" class=\"rev-cpicker-type\"><div class=\"rev-cpicker-column rev-cpicker-column-left\">\\t<div class=\"rev-cpicker-column-inner-left\"><div class=\"rev-cpicker-presets\"><span id=\"rev-cpicker-colors-core-btn\" class=\"rev-cpicker-preset-title rev-cpicker-preset-title-core selected\"><span data-text=\"core_presets\"></span> <span class=\"rev-cpicker-arrow rev-cpicker-arrow-down\"></span><span class=\"rev-cpicker-arrow rev-cpicker-arrow-up\"></span></span><span id=\"rev-cpicker-colors-custom-btn\" class=\"rev-cpicker-preset-title rev-cpicker-preset-title-custom\"><span data-text=\"custom_presets\"></span> <span class=\"rev-cpicker-arrow rev-cpicker-arrow-down\"></span><span class=\"rev-cpicker-arrow rev-cpicker-arrow-up\"></span></span><div id=\"rev-cpicker-colors-core\" class=\"rev-cpicker-presets-group\"></div><div id=\"rev-cpicker-colors-custom\" class=\"rev-cpicker-presets-group rev-cpicker-presets-custom\"></div></div><div class=\"rev-cpicker-iris\"><input id=\"rev-cpicker-iris-color\" class=\"rev-cpicker-iris-input\" value=\"#ffffff\" /><div id=\"rev-cpicker-scroller\" class=\"iris-slider iris-strip\"><div id=\"rev-cpicker-scroll-bg\"></div><div id=\"rev-cpicker-scroll\" class=\"iris-slider-offset\"></div></div></div></div></div><div class=\"rev-cpicker-column rev-cpicker-column-right\"><div class=\"rev-cpicker-column-inner-right\"><div><span data-text=\"save_a_new_preset\"></span><div class=\"rev-cpicker-presets-save-as\"><input type=\"text\" class=\"rev-cpicker-preset-save\" placeholder=\"\" data-placeholder=\"enter_a_name\" /><span class=\"rev-cpicker-btn rev-cpicker-save-preset-btn\" data-alert=\"naming_error\"><span class=\"rev-cpicker-save-icon\"></span><span class=\"rev-cpicker-preset-save-text\" data-text=\"save\"></span></span></div></div><div class=\"rev-cpicker-meta\"><span data-text=\"color_hex_value\"></span><br><input type=\"text\" id=\"rev-cpicker-color-hex\" class=\"rev-cpicker-input rev-cpicker-hex\" value=\"#ffffff\" /><br><span data-text=\"opacity\" class=\"rev-cpicker-hideable\"></span><br><input type=\"text\" id=\"rev-cpicker-color-opacity\" class=\"rev-cpicker-input rev-cpicker-opacity-input rev-cpicker-hideable\" value=\"100%\" /><span id=\"rev-cpciker-clear-hex\" class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpciker-clear rev-cpicker-hideable\" data-text=\"clear\"></span></div></div></div></div><div id=\"rev-cpicker-gradients\" class=\"rev-cpicker-type\"><div class=\"rev-cpicker-column rev-cpicker-column-left\">\\t<div class=\"rev-cpicker-column-inner-left\"><div class=\"rev-cpicker-presets\"><span id=\"rev-cpicker-gradients-core-btn\" class=\"rev-cpicker-preset-title rev-cpicker-preset-title-core selected\"><span data-text=\"core_presets\"></span> <span class=\"rev-cpicker-arrow rev-cpicker-arrow-down\"></span><span class=\"rev-cpicker-arrow rev-cpicker-arrow-up\"></span></span><span id=\"rev-cpicker-gradients-custom-btn\" class=\"rev-cpicker-preset-title rev-cpicker-preset-title-custom\"><span data-text=\"custom_presets\"></span> <span class=\"rev-cpicker-arrow rev-cpicker-arrow-down\"></span><span class=\"rev-cpicker-arrow rev-cpicker-arrow-up\"></span></span><div id=\"rev-cpicker-gradients-core\" class=\"rev-cpicker-presets-group\"></div><div id=\"rev-cpicker-gradients-custom\" class=\"rev-cpicker-presets-group rev-cpicker-presets-custom\"></div></div><div class=\"rev-cpicker-gradient-block\"><div id=\"rev-cpicker-gradient-input\" class=\"rev-cpicker-gradient-builder\"><span id=\"rev-cpicker-hit-top\" class=\"rev-cpicker-builder-hit\"></span><div id=\"rev-cpicker-point-wrap\"><div id=\"rev-cpciker-point-container\"></div></div><span id=\"rev-cpicker-hit-bottom\" class=\"rev-cpicker-builder-hit\"></span></div><div class=\"rev-cpicker-meta-row-wrap\"><div class=\"rev-cpicker-meta-row\"><div><label data-text=\"opacity\"></label><input type=\"text\" id=\"rev-cpicker-grad-opacity\" class=\"rev-cpicker-point-input rev-cpicker-opacity-input\" value=\"100%\" disabled /></div><div><label data-text=\"location\"></label><input type=\"text\" id=\"rev-cpicker-opacity-location\" class=\"rev-cpicker-point-input rev-cpicker-point-location\" value=\"100%\" disabled /></div><div><label>&nbsp;</label><span class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpicker-point-delete\" id=\"rev-cpicker-opacity-delete\" data-text=\"delete\">{{delete}}</span></div></div><div class=\"rev-cpicker-meta-row\"><div><label data-text=\"color\"></label><span class=\"rev-cpicker-point-input\" id=\"rev-cpicker-color-box\"></span></div><div><label data-text=\"location\"></label><input type=\"text\" id=\"rev-cpicker-color-location\" class=\"rev-cpicker-point-input rev-cpicker-point-location\" value=\"100%\" disabled /></div><div><label>&nbsp;</label><span class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpicker-point-input rev-cpicker-point-delete\" id=\"rev-cpicker-color-delete\" data-text=\"delete\">{{delete}}</span></div></div></div></div></div></div><div class=\"rev-cpicker-column rev-cpicker-column-right\"><div class=\"rev-cpicker-column-inner-right\"><div><span data-text=\"save_a_new_preset\"></span><div class=\"rev-cpicker-presets-save-as\"><input type=\"text\" class=\"rev-cpicker-preset-save\" placeholder=\"\" data-placeholder=\"enter_a_name\" /><span class=\"rev-cpicker-btn rev-cpicker-save-preset-btn\" data-alert=\"naming_error\"><span class=\"rev-cpicker-save-icon\"></span><span class=\"rev-cpicker-preset-save-text\" data-text=\"save\"></span></span></div></div><div class=\"rev-cpicker-gradient-block\"><div id=\"rev-cpicker-gradient-output\" class=\"rev-cpicker-gradient-builder\"></div></div><div class=\"rev-cpicker-meta-row-wrap\"><div class=\"rev-cpicker-meta-row\"><div><label>Orientation</label><span id=\"rev-cpicker-orientation-horizontal\" class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpicker-orientation\" data-direction=\"90\" data-text=\"horizontal\"></span><span id=\"rev-cpicker-orientation-vertical\" class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpicker-orientation\" data-direction=\"180\" data-text=\"vertical\"></span><span id=\"rev-cpicker-orientation-radial\" class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpicker-orientation\" data-direction=\"radial\" data-text=\"radial\"></span></div></div><div class=\"rev-cpicker-meta-row rev-cpicker-meta-row-push\"><div><label data-text=\"enter_angle\"></label><div id=\"rev-cpicker-angle-container\"><input type=\"text\" class=\"rev-cpicker-input\" id=\"rev-cpicker-meta-angle\" value=\"\" /><div id=\"rev-cpicker-wheel\"><div id=\"rev-cpicker-wheel-inner\"><span id=\"rev-cpicker-wheel-point\"></span></div></div></div></div><div><label data-text=\"reverse_gradient\"></label><span id=\"rev-cpicker-meta-reverse\"></span></div></div></div></div></div></div></div></div><span id=\"rev-cpicker-check\"></span><div id=\"rev-cpicker-section-right\" class=\"rev-cpicker-section\"><div class=\"rev-cpicker-iris\"><input id=\"rev-cpicker-iris-gradient\" class=\"rev-cpicker-iris-input\" value=\"#ffffff\" /></div><div class=\"rev-cpicker-fields\"><input type=\"text\" id=\"rev-cpicker-gradient-hex\" class=\"rev-cpicker-input rev-cpicker-hex\" value=\"#ffffff\" /><span id=\"rev-cpciker-clear-gradient\" class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpciker-clear\" data-text=\"clear\"></span><span id=\"rev-cpicker-check-gradient\" class=\"rev-cpicker-btn\"></span></div></div><span id=\"rev-cpicker-remove-delete\" data-text=\"delete_confirm\"></span></div></div>').appendTo(Y));\r\na||(a={});a.core&&(a.core.colors&&(ua=a.core.colors),a.core.gradients&&(va=a.core.gradients));rb(a);Na?(S.perfectScrollbar(\"update\"),a.mode&&(Ua=a.mode),a.language&&B(a.language)):(B(a.language||wa),Ua=a.mode||\"full\");a.init&&(tb=a.init);a.onAjax&&(vb=a.onAjax);a.onEdit&&(ub=a.onEdit);a.change&&(xb=a.change);a.cancel&&(wb=a.cancel);a.widgetId&&(yb=a.widgetId);a.defaultValue&&(RevColor.defaultValue=a.defaultValue);a.wrapClasses&&(Ab=a.wrapClasses);a.appendedHtml&&(zb=a.appendedHtml);Na=!0};var Ib=\r\n{refresh:function(){var a=b(this);if(a.hasClass(\"rev-cpicker-component\")){var c=a.data(\"revcp\")||{},c=a.val()||c.defaultValue||RevColor.defaultValue,d=RevColor.process(c),c=d[0],d=\"rgba\"===d[1]&&RevColor.transparentRgba(c,!0)?\"\":c;\"transparent\"!==c?a.data(\"tpcp\")[0].style.background=d:a.data(\"tpcp\").css(\"background\",\"\");a.attr(\"data-color\",c).data(\"hex\",c)}},destroy:function(){b(this).removeData().closest(\".rev-cpicker-master-wrap\").removeData().remove()}};b.fn.tpColorPicker=function(a){return a&&\r\n\"string\"===typeof a?this.each(Ib[a]):this.each(function(){var c=b(this);if(c.hasClass(\"rev-cpicker-component\"))c.tpColorPicker(\"refresh\");else{var d=b('<span class=\"rev-colorpicker\"></span>').data(\"revcolorinput\",c),e=b('<span class=\"rev-colorbox\" />'),g=b('<span class=\"rev-colorbtn\" />'),h=c.attr(\"data-wrap-classes\"),f=c.attr(\"data-wrapper\"),k=c.attr(\"data-wrap-id\"),n=c.attr(\"data-title\"),m=c.attr(\"data-skin\"),l=c.val();d.insertBefore(c).append([e,g,c]);if(a&&b.isPlainObject(a)){f||(f=a.wrapper);\r\nh||(h=a.wrapClasses);m||(m=a.skin);k||(k=a.wrapId);n||(n=a.title);var p=a.defaultValue;var q=c.data(\"revcp\");q&&(a=b.extend({},q,a));c.data(\"revcp\",a)}h||(h=Ab);h&&d.addClass(h);k&&d.attr(\"id\",k);l||(l=p||RevColor.defaultValue,c.val(l));h=RevColor.process(l);l=h[0];h=\"rgba\"===h[1]&&RevColor.transparentRgba(l,!0)?\"\":l;\"transparent\"!==h&&(e[0].style.background=h);g[0].innerHTML=n||Va||wa.color;c.attr({type:\"hidden\",\"data-color\":l}).data(\"tpcp\",e).addClass(\"rev-cpicker-component\");m&&d.addClass(m);f?\r\n(f=b(f).addClass(\"rev-cpicker-master-wrap\"),d.wrap(f)):d.addClass(\"rev-cpicker-master-wrap\");(e=a?a.init||tb:!1)&&e(d,c,l,a)}})};b(function(){b(\"body\").on(\"click.revcpicker\",\".rev-colorpicker\",function(){qb||Hb();m=b(this).data(\"revcolorinput\");var a=m.attr(\"data-widget-id\"),c=m.attr(\"data-appended-html\"),d=m.attr(\"data-editing\"),e=m.attr(\"data-colors\"),g=m.attr(\"data-mode\"),f=m.data(\"revcp\"),k=m.attr(\"data-lang\"),l;if(e){e=JSON.parse(e.replace(/\\&/g,'\"'));if(e.colors)var p=e.colors;if(e.gradients)var q=\r\ne.gradients}if(f){if(l=f.colors){if(l.core){var t=l.core.colors;var u=l.core.gradients}if(l.custom){var v=l.custom.colors;var w=l.custom.gradients}}var x=f.onEdit;var z=f.onAjax;l=f.change;var C=f.cancel;k||(k=f.lang);g||(g=f.mode);c||(c=f.appendedHtml);d||(d=f.editing);a||(a=f.widgetId)}if(u||t||w||v||q||p){f={};if(u||t||q||p)f.core={colors:p||t||ua,gradients:q||u||va};if(w||v)f.custom={colors:v||ua,gradients:w||va};rb(f)}a||(a=yb);a&&(n[0].id=a);c||(c=zb);c&&(oa=b(c).appendTo(Z));k&&B(k);g||(g=\r\nUa);d?Oa.style.visibility=\"visible\":(d=\"\",Oa.style.visibility=\"hidden\");mb.innerHTML=d;\"single\"===g||\"basic\"===g?(ja=!1,H.hide(),D.show(),\"basic\"===g&&n.addClass(\"is-basic\")):(ja=!0,H.show(),D.show());a=m.val()||m.attr(\"data-color\")||RevColor.defaultValue;1<a.split(\"||\").length&&(a=RevColor.joinToRgba(a),m.val(a));a=ya(a);G=a[0];za=x||ub;fa=z||vb;Ea=C||wb;Ra=l||xb;\"gradient\"!==a[1]?D.data(\"state\",G):H.data(\"state\",G);Y.addClass(\"rev-colorpicker-open\");A=m.data(\"tpcp\");n.data(\"revcpickerinput\",m).addClass(\"active\").show();\r\nS.each(Fa).perfectScrollbar(\"update\");Wa=m.attr(\"data-color\");ia=m.data(\"hex\");b(\".rev-cpicker-color\").not(\".blank\").each(y)})})})(\"undefined\"!==jQuery?jQuery:!1);","Nwdthemes_Revslider/public/assets/js/vimeo.player.min.js":"/*! @vimeo/player v2.5.0 | (c) 2018 Vimeo | MIT License | https://github.com/vimeo/player.js */\r\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e.Vimeo=e.Vimeo||{},e.Vimeo.Player=t())}(this,function(){\"use strict\";function e(e,t){return 0===e.indexOf(t.toLowerCase())?e:\"\"+t.toLowerCase()+e.substr(0,1).toUpperCase()+e.substr(1)}function t(e){return e instanceof window.HTMLElement}function n(e){return!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e}function r(e){return/^(https?:)?\\/\\/((player|www).)?vimeo.com(?=$|\\/)/.test(e)}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=e.url,o=t||i;if(!o)throw new Error(\"An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.\");if(n(o))return\"https://vimeo.com/\"+o;if(r(o))return o.replace(\"http:\",\"https:\");if(t)throw new TypeError(\"\u201c\"+t+\"\u201d is not a valid video id.\");throw new TypeError(\"\u201c\"+o+\"\u201d is not a vimeo.com url.\")}function o(e,t){return t={exports:{}},e(t,t.exports),t.exports}function a(e,t,n){var r=T.get(e.element)||{};t in r||(r[t]=[]),r[t].push(n),T.set(e.element,r)}function u(e,t){return(T.get(e.element)||{})[t]||[]}function s(e,t,n){var r=T.get(e.element)||{};if(!r[t])return!0;if(!n)return r[t]=[],T.set(e.element,r),!0;var i=r[t].indexOf(n);return-1!==i&&r[t].splice(i,1),T.set(e.element,r),r[t]&&0===r[t].length}function c(e,t){var n=u(e,t);if(n.length<1)return!1;var r=n.shift();return s(e,t,r),r}function l(e,t){var n=T.get(e);T.set(t,n),T.delete(e)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _.reduce(function(t,n){var r=e.getAttribute(\"data-vimeo-\"+n);return(r||\"\"===r)&&(t[n]=\"\"===r?1:r),t},t)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,i){if(!r(e))throw new TypeError(\"\u201c\"+e+\"\u201d is not a vimeo.com url.\");var o=\"https://vimeo.com/api/oembed.json?url=\"+encodeURIComponent(e);for(var a in t)t.hasOwnProperty(a)&&(o+=\"&\"+a+\"=\"+encodeURIComponent(t[a]));var u=\"XDomainRequest\"in window?new XDomainRequest:new XMLHttpRequest;u.open(\"GET\",o,!0),u.onload=function(){if(404===u.status)return void i(new Error(\"\u201c\"+e+\"\u201d was not found.\"));if(403===u.status)return void i(new Error(\"\u201c\"+e+\"\u201d is not embeddable.\"));try{var t=JSON.parse(u.responseText);n(t)}catch(e){i(e)}},u.onerror=function(){var e=u.status?\" (\"+u.status+\")\":\"\";i(new Error(\"There was an error fetching the embed code from Vimeo\"+e+\".\"))},u.send()})}function d(e,t){var n=e.html;if(!t)throw new TypeError(\"An element must be provided\");if(null!==t.getAttribute(\"data-vimeo-initialized\"))return t.querySelector(\"iframe\");var r=document.createElement(\"div\");return r.innerHTML=n,t.appendChild(r.firstChild),t.setAttribute(\"data-vimeo-initialized\",\"true\"),t.querySelector(\"iframe\")}function v(e){return\"string\"==typeof e&&(e=JSON.parse(e)),e}function p(e,t,n){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var r={method:t};void 0!==n&&(r.value=n);var i=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\\d+).*$/,\"$1\"));i>=8&&i<10&&(r=JSON.stringify(r)),e.element.contentWindow.postMessage(r,e.origin)}}function y(e,t){t=v(t);var n=[],r=void 0;if(t.event){if(\"error\"===t.event){u(e,t.data.method).forEach(function(n){var r=new Error(t.data.message);r.name=t.data.name,n.reject(r),s(e,t.data.method,n)})}n=u(e,\"event:\"+t.event),r=t.data}else if(t.method){var i=c(e,t.method);i&&(n.push(i),r=t.value)}n.forEach(function(t){try{if(\"function\"==typeof t)return void t.call(e,r);t.resolve(r)}catch(e){}})}function m(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var g=\"undefined\"!=typeof global&&\"[object global]\"==={}.toString.call(global),w=void 0!==Array.prototype.indexOf,b=\"undefined\"!=typeof window&&void 0!==window.postMessage;if(!(g||w&&b))throw new Error(\"Sorry, the Vimeo Player API is not available in this browser.\");var k=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{},E=(o(function(e,t){!function(e){function t(e,t){function r(e){if(!this||this.constructor!==r)return new r(e);this._keys=[],this._values=[],this._itp=[],this.objectOnly=t,e&&n.call(this,e)}return t||w(e,\"size\",{get:y}),e.constructor=r,r.prototype=e,r}function n(e){this.add?e.forEach(this.add,this):e.forEach(function(e){this.set(e[0],e[1])},this)}function r(e){return this.has(e)&&(this._keys.splice(g,1),this._values.splice(g,1),this._itp.forEach(function(e){g<e[0]&&e[0]--})),-1<g}function i(e){return this.has(e)?this._values[g]:void 0}function o(e,t){if(this.objectOnly&&t!==Object(t))throw new TypeError(\"Invalid value used as weak collection key\");if(t!=t||0===t)for(g=e.length;g--&&!b(e[g],t););else g=e.indexOf(t);return-1<g}function a(e){return o.call(this,this._values,e)}function u(e){return o.call(this,this._keys,e)}function s(e,t){return this.has(e)?this._values[g]=t:this._values[this._keys.push(e)-1]=t,this}function c(e){return this.has(e)||this._values.push(e),this}function l(){(this._keys||0).length=this._values.length=0}function f(){return p(this._itp,this._keys)}function h(){return p(this._itp,this._values)}function d(){return p(this._itp,this._keys,this._values)}function v(){return p(this._itp,this._values,this._values)}function p(e,t,n){var r=[0],i=!1;return e.push(r),{next:function(){var o,a=r[0];return!i&&a<t.length?(o=n?[t[a],n[a]]:t[a],r[0]++):(i=!0,e.splice(e.indexOf(r),1)),{done:i,value:o}}}}function y(){return this._values.length}function m(e,t){for(var n=this.entries();;){var r=n.next();if(r.done)break;e.call(t,r.value[1],r.value[0],this)}}var g,w=Object.defineProperty,b=function(e,t){return e===t||e!==e&&t!==t};\"undefined\"==typeof WeakMap&&(e.WeakMap=t({delete:r,clear:l,get:i,has:u,set:s},!0)),\"undefined\"!=typeof Map&&\"function\"==typeof(new Map).values&&(new Map).values().next||(e.Map=t({delete:r,has:u,get:i,set:s,keys:f,values:h,entries:d,forEach:m,clear:l})),\"undefined\"!=typeof Set&&\"function\"==typeof(new Set).values&&(new Set).values().next||(e.Set=t({has:a,add:c,delete:r,clear:l,keys:h,values:h,entries:v,forEach:m})),\"undefined\"==typeof WeakSet&&(e.WeakSet=t({delete:r,add:c,clear:l,has:a},!0))}(void 0!==k?k:window)}),o(function(e){var t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};!function(t,n,r){n[t]=n[t]||r(),e.exports&&(e.exports=n[t])}(\"Promise\",k,function(){function e(e,t){d.add(e,t),h||(h=p(d.drain))}function n(e){var n,r=void 0===e?\"undefined\":t(e);return null==e||\"object\"!=r&&\"function\"!=r||(n=e.then),\"function\"==typeof n&&n}function r(){for(var e=0;e<this.chain.length;e++)i(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function i(e,t,r){var i,o;try{!1===t?r.reject(e.msg):(i=!0===t?e.msg:t.call(void 0,e.msg),i===r.promise?r.reject(TypeError(\"Promise-chain cycle\")):(o=n(i))?o.call(i,r.resolve,r.reject):r.resolve(i))}catch(e){r.reject(e)}}function o(t){var i,u=this;if(!u.triggered){u.triggered=!0,u.def&&(u=u.def);try{(i=n(t))?e(function(){var e=new s(u);try{i.call(t,function(){o.apply(e,arguments)},function(){a.apply(e,arguments)})}catch(t){a.call(e,t)}}):(u.msg=t,u.state=1,u.chain.length>0&&e(r,u))}catch(e){a.call(new s(u),e)}}}function a(t){var n=this;n.triggered||(n.triggered=!0,n.def&&(n=n.def),n.msg=t,n.state=2,n.chain.length>0&&e(r,n))}function u(e,t,n,r){for(var i=0;i<t.length;i++)!function(i){e.resolve(t[i]).then(function(e){n(i,e)},r)}(i)}function s(e){this.def=e,this.triggered=!1}function c(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function l(t){if(\"function\"!=typeof t)throw TypeError(\"Not a function\");if(0!==this.__NPO__)throw TypeError(\"Not a promise\");this.__NPO__=1;var n=new c(this);this.then=function(t,i){var o={success:\"function\"!=typeof t||t,failure:\"function\"==typeof i&&i};return o.promise=new this.constructor(function(e,t){if(\"function\"!=typeof e||\"function\"!=typeof t)throw TypeError(\"Not a function\");o.resolve=e,o.reject=t}),n.chain.push(o),0!==n.state&&e(r,n),o.promise},this.catch=function(e){return this.then(void 0,e)};try{t.call(void 0,function(e){o.call(n,e)},function(e){a.call(n,e)})}catch(e){a.call(n,e)}}var f,h,d,v=Object.prototype.toString,p=\"undefined\"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},\"x\",{}),f=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(e){f=function(e,t,n){return e[t]=n,e}}d=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,n,r;return{add:function(i,o){r=new e(i,o),n?n.next=r:t=r,n=r,r=void 0},drain:function(){var e=t;for(t=n=h=void 0;e;)e.fn.call(e.self),e=e.next}}}();var y=f({},\"constructor\",l,!1);return l.prototype=y,f(y,\"__NPO__\",0,!1),f(l,\"resolve\",function(e){var n=this;return e&&\"object\"==(void 0===e?\"undefined\":t(e))&&1===e.__NPO__?e:new n(function(t,n){if(\"function\"!=typeof t||\"function\"!=typeof n)throw TypeError(\"Not a function\");t(e)})}),f(l,\"reject\",function(e){return new this(function(t,n){if(\"function\"!=typeof t||\"function\"!=typeof n)throw TypeError(\"Not a function\");n(e)})}),f(l,\"all\",function(e){var t=this;return\"[object Array]\"!=v.call(e)?t.reject(TypeError(\"Not an array\")):0===e.length?t.resolve([]):new t(function(n,r){if(\"function\"!=typeof n||\"function\"!=typeof r)throw TypeError(\"Not a function\");var i=e.length,o=Array(i),a=0;u(t,e,function(e,t){o[e]=t,++a===i&&n(o)},r)})}),f(l,\"race\",function(e){var t=this;return\"[object Array]\"!=v.call(e)?t.reject(TypeError(\"Not an array\")):new t(function(n,r){if(\"function\"!=typeof n||\"function\"!=typeof r)throw TypeError(\"Not a function\");u(t,e,function(e,t){n(t)},r)})}),l})})),T=new WeakMap,_=[\"autopause\",\"autoplay\",\"background\",\"byline\",\"color\",\"height\",\"id\",\"loop\",\"maxheight\",\"maxwidth\",\"muted\",\"playsinline\",\"portrait\",\"responsive\",\"speed\",\"title\",\"transparent\",\"url\",\"width\"],j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),M=new WeakMap,x=new WeakMap,Player=function(){function Player(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(m(this,Player),window.jQuery&&e instanceof jQuery&&(e.length>1&&window.console&&console.warn&&console.warn(\"A jQuery object with multiple elements was passed, using the first element.\"),e=e[0]),\"undefined\"!=typeof document&&\"string\"==typeof e&&(e=document.getElementById(e)),!t(e))throw new TypeError(\"You must pass either a valid element or a valid id.\");if(\"IFRAME\"!==e.nodeName){var a=e.querySelector(\"iframe\");a&&(e=a)}if(\"IFRAME\"===e.nodeName&&!r(e.getAttribute(\"src\")||\"\"))throw new Error(\"The player element passed isn\u2019t a Vimeo embed.\");if(M.has(e))return M.get(e);this.element=e,this.origin=\"*\";var u=new E(function(t,a){var u=function(e){if(r(e.origin)&&n.element.contentWindow===e.source){\"*\"===n.origin&&(n.origin=e.origin);var i=v(e.data),o=\"event\"in i&&\"ready\"===i.event,a=\"method\"in i&&\"ping\"===i.method;if(o||a)return n.element.setAttribute(\"data-ready\",\"true\"),void t();y(n,i)}};if(window.addEventListener?window.addEventListener(\"message\",u,!1):window.attachEvent&&window.attachEvent(\"onmessage\",u),\"IFRAME\"!==n.element.nodeName){var s=f(e,o);h(i(s),s).then(function(t){var r=d(t,e);return n.element=r,n._originalElement=e,l(e,r),M.set(n.element,n),t}).catch(function(e){return a(e)})}});return x.set(this,u),M.set(this.element,this),\"IFRAME\"===this.element.nodeName&&p(this,\"ping\"),this}return j(Player,[{key:\"callMethod\",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new E(function(r,i){return t.ready().then(function(){a(t,e,{resolve:r,reject:i}),p(t,e,n)}).catch(function(e){i(e)})})}},{key:\"get\",value:function(t){var n=this;return new E(function(r,i){return t=e(t,\"get\"),n.ready().then(function(){a(n,t,{resolve:r,reject:i}),p(n,t)})})}},{key:\"set\",value:function(t,n){var r=this;return E.resolve(n).then(function(n){if(t=e(t,\"set\"),void 0===n||null===n)throw new TypeError(\"There must be a value to set.\");return r.ready().then(function(){return new E(function(e,i){a(r,t,{resolve:e,reject:i}),p(r,t,n)})})})}},{key:\"on\",value:function(e,t){if(!e)throw new TypeError(\"You must pass an event name.\");if(!t)throw new TypeError(\"You must pass a callback function.\");if(\"function\"!=typeof t)throw new TypeError(\"The callback must be a function.\");0===u(this,\"event:\"+e).length&&this.callMethod(\"addEventListener\",e).catch(function(){}),a(this,\"event:\"+e,t)}},{key:\"off\",value:function(e,t){if(!e)throw new TypeError(\"You must pass an event name.\");if(t&&\"function\"!=typeof t)throw new TypeError(\"The callback must be a function.\");s(this,\"event:\"+e,t)&&this.callMethod(\"removeEventListener\",e).catch(function(e){})}},{key:\"loadVideo\",value:function(e){return this.callMethod(\"loadVideo\",e)}},{key:\"ready\",value:function(){var e=x.get(this)||new E(function(e,t){t(\"Unknown player. Probably unloaded.\")});return E.resolve(e)}},{key:\"addCuePoint\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod(\"addCuePoint\",{time:e,data:t})}},{key:\"removeCuePoint\",value:function(e){return this.callMethod(\"removeCuePoint\",e)}},{key:\"enableTextTrack\",value:function(e,t){if(!e)throw new TypeError(\"You must pass a language.\");return this.callMethod(\"enableTextTrack\",{language:e,kind:t})}},{key:\"disableTextTrack\",value:function(){return this.callMethod(\"disableTextTrack\")}},{key:\"pause\",value:function(){return this.callMethod(\"pause\")}},{key:\"play\",value:function(){return this.callMethod(\"play\")}},{key:\"unload\",value:function(){return this.callMethod(\"unload\")}},{key:\"destroy\",value:function(){var e=this;return new E(function(t){x.delete(e),M.delete(e.element),e._originalElement&&(M.delete(e._originalElement),e._originalElement.removeAttribute(\"data-vimeo-initialized\")),e.element&&\"IFRAME\"===e.element.nodeName&&e.element.remove(),t()})}},{key:\"getAutopause\",value:function(){return this.get(\"autopause\")}},{key:\"setAutopause\",value:function(e){return this.set(\"autopause\",e)}},{key:\"getColor\",value:function(){return this.get(\"color\")}},{key:\"setColor\",value:function(e){return this.set(\"color\",e)}},{key:\"getCuePoints\",value:function(){return this.get(\"cuePoints\")}},{key:\"getCurrentTime\",value:function(){return this.get(\"currentTime\")}},{key:\"setCurrentTime\",value:function(e){return this.set(\"currentTime\",e)}},{key:\"getDuration\",value:function(){return this.get(\"duration\")}},{key:\"getEnded\",value:function(){return this.get(\"ended\")}},{key:\"getLoop\",value:function(){return this.get(\"loop\")}},{key:\"setLoop\",value:function(e){return this.set(\"loop\",e)}},{key:\"getPaused\",value:function(){return this.get(\"paused\")}},{key:\"getPlaybackRate\",value:function(){return this.get(\"playbackRate\")}},{key:\"setPlaybackRate\",value:function(e){return this.set(\"playbackRate\",e)}},{key:\"getTextTracks\",value:function(){return this.get(\"textTracks\")}},{key:\"getVideoEmbedCode\",value:function(){return this.get(\"videoEmbedCode\")}},{key:\"getVideoId\",value:function(){return this.get(\"videoId\")}},{key:\"getVideoTitle\",value:function(){return this.get(\"videoTitle\")}},{key:\"getVideoWidth\",value:function(){return this.get(\"videoWidth\")}},{key:\"getVideoHeight\",value:function(){return this.get(\"videoHeight\")}},{key:\"getVideoUrl\",value:function(){return this.get(\"videoUrl\")}},{key:\"getVolume\",value:function(){return this.get(\"volume\")}},{key:\"setVolume\",value:function(e){return this.set(\"volume\",e)}}]),Player}();return g||(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=[].slice.call(e.querySelectorAll(\"[data-vimeo-id], [data-vimeo-url]\")),n=function(e){\"console\"in window&&console.error&&console.error(\"There was an error creating an embed: \"+e)};t.forEach(function(e){try{if(null!==e.getAttribute(\"data-vimeo-defer\"))return;var t=f(e);h(i(t),t).then(function(t){return d(t,e)}).catch(n)}catch(e){n(e)}})}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=function(t){if(r(t.origin)&&t.data&&\"spacechange\"===t.data.event)for(var n=e.querySelectorAll(\"iframe\"),i=0;i<n.length;i++)if(n[i].contentWindow===t.source){var o=n[i].parentElement;o&&-1!==o.className.indexOf(\"vimeo-space\")&&(o.style.paddingBottom=t.data.data[0].bottom+\"px\");break}};window.addEventListener?window.addEventListener(\"message\",t,!1):window.attachEvent&&window.attachEvent(\"onmessage\",t)}()),Player});\r\n","Nwdthemes_Revslider/public/assets/js/source/jquery.themepunch.revolution.js":"/**************************************************************************\r\n * jquery.themepunch.revolution.js - jQuery Plugin for Revolution Slider\r\n * @version: 5.4.8 (10.06.2018)\r\n * @requires jQuery v1.7 or later (tested on 1.9)\r\n * @author ThemePunch\r\n **************************************************************************/\r\ndefine('themepunchRevolution', ['jquery', 'themepunchTools'], function(jQuery, punchgs) {\r\n\r\n    \"use strict\";\r\n\r\n    var version = {\r\n        core : \"5.4.8\",\r\n        \"revolution.extensions.actions.min.js\": \"2.1.0\",\r\n        \"revolution.extensions.carousel.min.js\": \"1.2.1\",\r\n        \"revolution.extensions.kenburn.min.js\": \"1.3.1\",\r\n        \"revolution.extensions.layeranimation.min.js\":\"3.6.5\",\r\n        \"revolution.extensions.navigation.min.js\":\"1.3.5\",\r\n        \"revolution.extensions.parallax.min.js\":\"2.2.3\",\r\n        \"revolution.extensions.slideanims.min.js\":\"1.8\",\r\n        \"revolution.extensions.video.min.js\":\"2.2.2\"\r\n    };\r\n\r\n    jQuery.fn.extend({\r\n\r\n        revolution: function(options) {\r\n\r\n            // SET DEFAULT VALUES OF ITEM //\r\n            var defaults = {\r\n                delay:9000,\r\n                responsiveLevels:4064,\t\t\t\t\t// Single or Array for Responsive Levels i.e.: 4064 or i.e. [2048, 1024, 768, 480]\r\n                visibilityLevels:[2048,1024,778,480],\t// Single or Array for Responsive Visibility Levels i.e.: 4064 or i.e. [2048, 1024, 768, 480]\r\n                gridwidth:960,\t\t\t\t\t\t\t// Single or Array i.e. 960 or [960, 840,760,460]\r\n                gridheight:500,\t\t\t\t\t\t\t// Single or Array i.e. 500 or [500, 450,400,350]\r\n                minHeight:0,\r\n                autoHeight:\"off\",\r\n                sliderType : \"standard\",\t\t\t\t// standard, carousel, hero\r\n                sliderLayout : \"auto\",\t\t\t\t\t// auto, fullwidth, fullscreen\r\n\r\n                fullScreenAutoWidth:\"off\",\t\t\t\t// Turns the FullScreen Slider to be a FullHeight but auto Width Slider\r\n                fullScreenAlignForce:\"off\",\r\n                fullScreenOffsetContainer:\"\",\t\t\t// Size for FullScreen Slider minimising Calculated on the Container sizes\r\n                fullScreenOffset:\"0\",\t\t\t\t\t// Size for FullScreen Slider minimising\r\n\r\n                hideCaptionAtLimit:0,\t\t\t\t\t// It Defines if a caption should be shown under a Screen Resolution ( Basod on The Width of Browser)\r\n                hideAllCaptionAtLimit:0,\t\t\t\t// Hide all The Captions if Width of Browser is less then this value\r\n                hideSliderAtLimit:0,\t\t\t\t\t// Hide the whole slider, and stop also functions if Width of Browser is less than this value\r\n                disableProgressBar:\"off\",\t\t\t\t// Hides Progress Bar if is set to \"on\"\r\n                stopAtSlide:-1,\t\t\t\t\t\t\t// Stop Timer if Slide \"x\" has been Reached. If stopAfterLoops set to 0, then it stops already in the first Loop at slide X which defined. -1 means do not stop at any slide. stopAfterLoops has no sinn in this case.\r\n                stopAfterLoops:-1,\t\t\t\t\t\t// Stop Timer if All slides has been played \"x\" times. IT will stop at THe slide which is defined via stopAtSlide:x, if set to -1 slide never stop automatic\r\n                shadow:0,\t\t\t\t\t\t\t\t//0 = no Shadow, 1,2,3 = 3 Different Art of Shadows  (No Shadow in Fullwidth Version !)\r\n                dottedOverlay:\"none\",\t\t\t\t\t//twoxtwo, threexthree, twoxtwowhite, threexthreewhite\r\n                startDelay:0,\t\t\t\t\t\t\t// Delay before the first Animation starts.\r\n                lazyType : \"smart\",\t\t\t\t\t\t//full, smart, single\r\n                spinner:\"spinner0\",\r\n                shuffle:\"off\",\t\t\t\t\t\t\t// Random Order of Slides,\r\n\r\n\r\n                viewPort:{\r\n                    enable:false,\t\t\t\t\t\t// if enabled, slider wait with start or wait at first slide.\r\n                    outof:\"wait\",\t\t\t\t\t\t// wait,pause\r\n                    visible_area:\"60%\",\t\t\t\t\t// Start Animation when 60% of Slider is visible\r\n                    presize:false \t\t\t\t\t\t// Presize the Height of the Slider Container for Internal Link Positions\r\n                },\r\n\r\n                fallbacks:{\r\n                    isJoomla:false,\r\n                    panZoomDisableOnMobile:\"off\",\r\n                    simplifyAll:\"on\",\r\n                    nextSlideOnWindowFocus:\"off\",\r\n                    disableFocusListener:true,\r\n                    ignoreHeightChanges:\"off\",  // off, mobile, always\r\n                    ignoreHeightChangesSize:0,\r\n                    allowHTML5AutoPlayOnAndroid:true\r\n\r\n                },\r\n\r\n                parallax : {\r\n                    type : \"off\",\t\t\t\t\t\t// off, mouse, scroll, mouse+scroll\r\n                    levels: [10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85],\r\n                    origo:\"enterpoint\",\t\t\t\t// slidercenter or enterpoint\r\n                    speed:400,\r\n                    bgparallax : \"off\",\r\n                    opacity:\"on\",\r\n                    disable_onmobile:\"off\",\r\n                    ddd_shadow:\"on\",\r\n                    ddd_bgfreeze:\"off\",\r\n                    ddd_overflow:\"visible\",\r\n                    ddd_layer_overflow:\"visible\",\r\n                    ddd_z_correction:65,\r\n                    ddd_path:\"mouse\"\r\n                },\r\n\r\n                scrolleffect: {\r\n                    fade:\"off\",\r\n                    blur:\"off\",\r\n                    scale:\"off\",\r\n                    grayscale:\"off\",\r\n                    maxblur:10,\r\n                    on_layers:\"off\",\r\n                    on_slidebg:\"off\",\r\n                    on_static_layers:\"off\",\r\n                    on_parallax_layers:\"off\",\r\n                    on_parallax_static_layers:\"off\",\r\n                    direction:\"both\",\r\n                    multiplicator:1.35,\r\n                    multiplicator_layers:0.5,\r\n                    tilt:30,\r\n                    disable_on_mobile:\"on\"\r\n                },\r\n\r\n                carousel : {\r\n                    easing:punchgs.Power3.easeInOut,\r\n                    speed:800,\r\n                    showLayersAllTime : \"off\",\r\n                    horizontal_align : \"center\",\r\n                    vertical_align : \"center\",\r\n                    infinity : \"on\",\r\n                    space : 0,\r\n                    maxVisibleItems : 3,\r\n                    stretch:\"off\",\r\n                    fadeout:\"on\",\r\n                    maxRotation:0,\r\n                    minScale:0,\r\n                    vary_fade:\"off\",\r\n                    vary_rotation:\"on\",\r\n                    vary_scale:\"off\",\r\n                    border_radius:\"0px\",\r\n                    padding_top:0,\r\n                    padding_bottom:0\r\n                },\r\n\r\n                navigation : {\r\n                    keyboardNavigation:\"off\",\r\n                    keyboard_direction:\"horizontal\",\t\t//\thorizontal - left/right arrows,  vertical - top/bottom arrows\r\n                    mouseScrollNavigation:\"off\",\t\t\t// on, off, carousel\r\n                    onHoverStop:\"on\",\t\t\t\t\t\t// Stop Banner Timet at Hover on Slide on/off\r\n\r\n                    touch:{\r\n                        touchenabled:\"off\",\t\t\t\t\t\t// Enable Swipe Function : on/off\r\n                        touchOnDesktop:\"off\",\t\t\t\t\t// Enable Tuoch on Desktop Systems also\r\n                        swipe_treshold : 75,\t\t\t\t\t// The number of pixels that the user must move their finger by before it is considered a swipe.\r\n                        swipe_min_touches : 1,\t\t\t\t\t// Min Finger (touch) used for swipe\r\n                        drag_block_vertical:false,\t\t\t\t// Prevent Vertical Scroll during Swipe\r\n                        swipe_direction:\"horizontal\"\r\n                    },\r\n                    arrows: {\r\n                        style:\"\",\r\n                        enable:false,\r\n                        hide_onmobile:false,\r\n                        hide_onleave:true,\r\n                        hide_delay:200,\r\n                        hide_delay_mobile:1200,\r\n                        hide_under:0,\r\n                        hide_over:9999,\r\n                        tmp:'',\r\n                        rtl:false,\r\n                        left : {\r\n                            h_align:\"left\",\r\n                            v_align:\"center\",\r\n                            h_offset:20,\r\n                            v_offset:0,\r\n                            container:\"slider\",\r\n                        },\r\n                        right : {\r\n                            h_align:\"right\",\r\n                            v_align:\"center\",\r\n                            h_offset:20,\r\n                            v_offset:0,\r\n                            container:\"slider\",\r\n                        }\r\n                    },\r\n                    bullets: {\r\n                        container:\"slider\",\r\n                        rtl:false,\r\n                        style:\"\",\r\n                        enable:false,\r\n                        hide_onmobile:false,\r\n                        hide_onleave:true,\r\n                        hide_delay:200,\r\n                        hide_delay_mobile:1200,\r\n                        hide_under:0,\r\n                        hide_over:9999,\r\n                        direction:\"horizontal\",\r\n                        h_align:\"left\",\r\n                        v_align:\"center\",\r\n                        space:0,\r\n                        h_offset:20,\r\n                        v_offset:0,\r\n                        tmp:'<span class=\"tp-bullet-image\"></span><span class=\"tp-bullet-title\"></span>'\r\n                    },\r\n                    thumbnails: {\r\n                        container:\"slider\",\r\n                        rtl:false,\r\n                        style:\"\",\r\n                        enable:false,\r\n                        width:100,\r\n                        height:50,\r\n                        min_width:100,\r\n                        wrapper_padding:2,\r\n                        wrapper_color:\"#f5f5f5\",\r\n                        wrapper_opacity:1,\r\n                        tmp:'<span class=\"tp-thumb-image\"></span><span class=\"tp-thumb-title\"></span>',\r\n                        visibleAmount:5,\r\n                        hide_onmobile:false,\r\n                        hide_onleave:true,\r\n                        hide_delay:200,\r\n                        hide_delay_mobile:1200,\r\n                        hide_under:0,\r\n                        hide_over:9999,\r\n                        direction:\"horizontal\",\r\n                        span:false,\r\n                        position:\"inner\",\r\n                        space:2,\r\n                        h_align:\"left\",\r\n                        v_align:\"center\",\r\n                        h_offset:20,\r\n                        v_offset:0\r\n                    },\r\n                    tabs: {\r\n                        container:\"slider\",\r\n                        rtl:false,\r\n                        style:\"\",\r\n                        enable:false,\r\n                        width:100,\r\n                        min_width:100,\r\n                        height:50,\r\n                        wrapper_padding:10,\r\n                        wrapper_color:\"#f5f5f5\",\r\n                        wrapper_opacity:1,\r\n                        tmp:'<span class=\"tp-tab-image\"></span>',\r\n                        visibleAmount:5,\r\n                        hide_onmobile:false,\r\n                        hide_onleave:true,\r\n                        hide_delay:200,\r\n                        hide_delay_mobile:1200,\r\n                        hide_under:0,\r\n                        hide_over:9999,\r\n                        direction:\"horizontal\",\r\n                        span:false,\r\n                        space:0,\r\n                        position:\"inner\",\r\n                        h_align:\"left\",\r\n                        v_align:\"center\",\r\n                        h_offset:20,\r\n                        v_offset:0\r\n                    }\r\n                },\r\n                extensions:\"extensions/\",\t\t\t//example extensions/ or extensions/source/\r\n                extensions_suffix:\".min.js\",\r\n                //addons:[{fileprefix:\"revolution.addon.whiteboard\",init:\"initWhiteBoard\",params:\"opt\",handel:\"whiteboard\"}],\r\n                debugMode:false\r\n            };\r\n\r\n            // Merge of Defaults\r\n            options = jQuery.extend(true,{},defaults, options);\r\n\r\n            return this.each(function() {\r\n\r\n\r\n                var c = jQuery(this);\r\n\r\n                // Prepare maxHeight\r\n                options.minHeight = options.minHeight!=undefined ? parseInt(options.minHeight,0) : options.minHeight;\r\n                options.scrolleffect.on = options.scrolleffect.fade===\"on\" || options.scrolleffect.scale===\"on\" || options.scrolleffect.blur===\"on\" || options.scrolleffect.grayscale===\"on\";\r\n\r\n\r\n\r\n                //REMOVE SLIDES IF SLIDER IS HERO\r\n                if (options.sliderType==\"hero\") {\r\n                    c.find('>ul>li').each(function(i) {\r\n                        if (i>0) jQuery(this).remove();\r\n                    })\r\n                }\r\n                options.jsFileLocation = options.jsFileLocation || getScriptLocation(\"themepunch.revolution.min.js\");\r\n                options.jsFileLocation = options.jsFileLocation + options.extensions;\r\n                options.scriptsneeded = getNeededScripts(options,c);\r\n                options.curWinRange = 0;\r\n\r\n                options.rtl = true; //jQuery('body').hasClass(\"rtl\");\r\n\r\n                if (options.navigation!=undefined && options.navigation.touch!=undefined)\r\n                    options.navigation.touch.swipe_min_touches = options.navigation.touch.swipe_min_touches >5 ? 1 : options.navigation.touch.swipe_min_touches;\r\n\r\n\r\n\r\n                jQuery(this).on(\"scriptsloaded\",function() {\r\n                    if (options.modulesfailing ) {\r\n                        c.html('<div style=\"margin:auto;line-height:40px;font-size:14px;color:#fff;padding:15px;background:#e74c3c;margin:20px 0px;\">!! Error at loading Slider Revolution 5.0 Extrensions.'+options.errorm+'</div>').show();\r\n                        return false;\r\n                    }\r\n\r\n                    // CHECK FOR MIGRATION\r\n                    if (_R.migration!=undefined) options = _R.migration(c,options);\r\n\r\n                    punchgs.force3D = true;\r\n                    if (options.simplifyAll!==\"on\") punchgs.TweenLite.lagSmoothing(1000,16);\r\n                    prepareOptions(c,options);\r\n                    initSlider(c,options);\r\n                });\r\n\r\n                c[0].opt = options;\r\n                waitForScripts(c,options);\r\n            })\r\n        },\r\n\r\n        //Get All Loaded Version\r\n        getRSVersion : function(silent) {\r\n            if (silent===true) {\r\n                return jQuery('body').data('tp_rs_version');\r\n            } else {\r\n                var v = jQuery('body').data('tp_rs_version'),\r\n                    t = \"\";\r\n                t += (\"---------------------------------------------------------\")+\"\\n\";\r\n                t += (\"    Currently Loaded Slider Revolution & SR Modules :\")+\"\\n\";\r\n                t += (\"---------------------------------------------------------\")+\"\\n\";\r\n                for (var key in v) {\r\n                    t += (v[key].alias+\": \"+v[key].ver)+\"\\n\";\r\n                }\r\n                t +=(\"---------------------------------------------------------\")+\"\\n\";\r\n                return t;\r\n            };\r\n        },\r\n\r\n\r\n        // Remove a Slide from the Slider\r\n        revremoveslide : function(sindex) {\r\n\r\n            return this.each(function() {\r\n\r\n                var container=jQuery(this),\r\n                    opt = container[0].opt;\r\n\r\n                if (sindex<0 || sindex>opt.slideamount) return;\r\n\r\n                if (container!=undefined && container.length>0 && jQuery('body').find('#'+container.attr('id')).length>0) {\r\n\r\n                    if (opt && opt.li.length>0) {\r\n                        if (sindex>0 || sindex<=opt.li.length) {\r\n\r\n                            var li = jQuery(opt.li[sindex]),\r\n                                ref = li.data(\"index\"),\r\n                                nextslideafter = false;\r\n\r\n                            opt.slideamount = opt.slideamount-1;\r\n                            opt.realslideamount = opt.realslideamount-1;\r\n                            removeNavWithLiref('.tp-bullet',ref,opt);\r\n                            removeNavWithLiref('.tp-tab',ref,opt);\r\n                            removeNavWithLiref('.tp-thumb',ref,opt);\r\n                            if (li.hasClass('active-revslide'))\r\n                                nextslideafter = true;\r\n                            li.remove();\r\n                            opt.li = removeArray(opt.li,sindex);\r\n                            if (opt.carousel && opt.carousel.slides)\r\n                                opt.carousel.slides = removeArray(opt.carousel.slides,sindex)\r\n                            opt.thumbs = removeArray(opt.thumbs,sindex);\r\n                            if (_R.updateNavIndexes) _R.updateNavIndexes(opt);\r\n                            if (nextslideafter) container.revnext();\r\n                            punchgs.TweenLite.set(opt.li,{minWidth:\"99%\"});\r\n                            punchgs.TweenLite.set(opt.li,{minWidth:\"100%\"});\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n        },\r\n\r\n        // Add a New Call Back to some Module\r\n        revaddcallback: function(callback) {\r\n            return this.each(function() {\r\n                if (this.opt) {\r\n                    if (this.opt.callBackArray === undefined)\r\n                        this.opt.callBackArray = new Array();\r\n                    this.opt.callBackArray.push(callback);\r\n                }\r\n            })\r\n        },\r\n\r\n        // Get Current Parallax Proc\r\n        revgetparallaxproc : function() {\r\n            return jQuery(this)[0].opt.scrollproc;\r\n        },\r\n\r\n        // ENABLE DEBUG MODE\r\n        revdebugmode: function() {\r\n            return this.each(function() {\r\n                var c=jQuery(this);\r\n                c[0].opt.debugMode = true;\r\n                containerResized(c,c[0].opt);\r\n\r\n            })\r\n        },\r\n\r\n        // METHODE SCROLL\r\n        revscroll: function(oy) {\r\n            return this.each(function() {\r\n                var c=jQuery(this);\r\n                jQuery('body,html').animate({scrollTop:(c.offset().top+(c.height())-oy)+\"px\"},{duration:400});\r\n            });\r\n        },\r\n\r\n        // METHODE PAUSE\r\n        revredraw: function(oy) {\r\n            return this.each(function() {\r\n                var c=jQuery(this);\r\n                containerResized(c,c[0].opt);\r\n            })\r\n        },\r\n        // METHODE PAUSE\r\n        revkill: function(oy) {\r\n\r\n            var self = this,\r\n                container=jQuery(this);\r\n\r\n            punchgs.TweenLite.killDelayedCallsTo(_R.showHideNavElements);\r\n\r\n\r\n            if (container!=undefined && container.length>0 && jQuery('body').find('#'+container.attr('id')).length>0) {\r\n\r\n                container.data('conthover',1);\r\n                container.data('conthover-changed',1);\r\n                container.trigger('revolution.slide.onpause');\r\n\r\n                var bt = container.parent().find('.tp-bannertimer'),\r\n                    opt = container[0].opt;\r\n                opt.tonpause = true;\r\n                container.trigger('stoptimer');\r\n\r\n                var resizid = \"resize.revslider-\"+container.attr('id');\r\n                jQuery(window).unbind(resizid);\r\n\r\n                punchgs.TweenLite.killTweensOf(container.find('*'),false);\r\n                punchgs.TweenLite.killTweensOf(container,false);\r\n                container.unbind('hover, mouseover, mouseenter,mouseleave, resize');\r\n                var resizid = \"resize.revslider-\"+container.attr('id');\r\n                jQuery(window).off(resizid);\r\n                container.find('*').each(function() {\r\n                    var el = jQuery(this);\r\n\r\n                    el.unbind('on, hover, mouseenter,mouseleave,mouseover, resize,restarttimer, stoptimer');\r\n                    el.off('on, hover, mouseenter,mouseleave,mouseover, resize');\r\n                    el.data('mySplitText',null);\r\n                    el.data('ctl',null);\r\n                    if (el.data('tween')!=undefined)\r\n                        el.data('tween').kill();\r\n                    if (el.data('kenburn')!=undefined)\r\n                        el.data('kenburn').kill();\r\n                    if (el.data('timeline_out')!=undefined)\r\n                        el.data('timeline_out').kill();\r\n                    if (el.data('timeline')!=undefined)\r\n                        el.data('timeline').kill();\r\n\r\n                    el.remove();\r\n                    el.empty();\r\n                    el=null;\r\n                })\r\n\r\n\r\n                punchgs.TweenLite.killTweensOf(container.find('*'),false);\r\n                punchgs.TweenLite.killTweensOf(container,false);\r\n                bt.remove();\r\n                try{container.closest('.forcefullwidth_wrapper_tp_banner').remove();} catch(e) {}\r\n                try{container.closest('.rev_slider_wrapper').remove()} catch(e) {}\r\n                try{container.remove();} catch(e) {}\r\n                container.empty();\r\n                container.html();\r\n                container = null;\r\n\r\n                opt = null;\r\n                delete(self.c);\r\n                delete(self.opt);\r\n                delete(self.container);\r\n\r\n\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        // METHODE PAUSE\r\n        revpause: function() {\r\n            return this.each(function() {\r\n                var c=jQuery(this);\r\n                if (c!=undefined && c.length>0 && jQuery('body').find('#'+c.attr('id')).length>0) {\r\n                    c.data('conthover',1);\r\n                    c.data('conthover-changed',1);\r\n                    c.trigger('revolution.slide.onpause');\r\n                    c[0].opt.tonpause = true;\r\n                    c.trigger('stoptimer');\r\n                }\r\n            })\r\n        },\r\n\r\n        // METHODE RESUME\r\n        revresume: function() {\r\n            return this.each(function() {\r\n                var c=jQuery(this);\r\n                if (c!=undefined && c.length>0 && jQuery('body').find('#'+c.attr('id')).length>0) {\r\n                    c.data('conthover',0);\r\n                    c.data('conthover-changed',1);\r\n                    c.trigger('revolution.slide.onresume');\r\n                    c[0].opt.tonpause = false;\r\n                    c.trigger('starttimer');\r\n                }\r\n            })\r\n        },\r\n\r\n        revstart: function() {\r\n            //return this.each(function() {\r\n            var c=jQuery(this);\r\n            if (c!=undefined && c.length>0 && jQuery('body').find('#'+c.attr('id')).length>0 && c[0].opt!==undefined) {\r\n                if (!c[0].opt.sliderisrunning) {\r\n\r\n\t\t\t\t\t\t// fixes revapi.revstart();\r\n\t\t\t\t\t\tc[0].opt.c=c;\r\n\t\t\t\t\t\tc[0].opt.ul = c.find('>ul');\r\n\r\n                    runSlider(c,c[0].opt);\r\n                    return true;\r\n                }\r\n                else {\r\n                    console.log(\"Slider Is Running Already\");\r\n                    return false;\r\n                }\r\n\r\n            }\r\n            //})\r\n\r\n        },\r\n\r\n        // METHODE NEXT\r\n        revnext: function() {\r\n            return this.each(function() {\r\n                // CATCH THE CONTAINER\r\n                var c=jQuery(this);\r\n                if (c!=undefined && c.length>0 && jQuery('body').find('#'+c.attr('id')).length>0) {\r\n                    _R.callingNewSlide(c,1);\r\n                }\r\n            })\r\n        },\r\n\r\n        // METHODE RESUME\r\n        revprev: function() {\r\n            return this.each(function() {\r\n                // CATCH THE CONTAINER\r\n                var c=jQuery(this);\r\n                if (c!=undefined && c.length>0 && jQuery('body').find('#'+c.attr('id')).length>0) {\r\n                    _R.callingNewSlide(c,-1);\r\n                }\r\n            })\r\n        },\r\n\r\n        // METHODE LENGTH\r\n        revmaxslide: function() {\r\n            // CATCH THE CONTAINER\r\n            return jQuery(this).find('.tp-revslider-mainul >li').length;\r\n        },\r\n\r\n\r\n        // METHODE CURRENT\r\n        revcurrentslide: function() {\r\n            // CATCH THE CONTAINER\r\n            var c=jQuery(this);\r\n            if (c!=undefined && c.length>0 && jQuery('body').find('#'+c.attr('id')).length>0) {\r\n                return parseInt(c[0].opt.act,0)+1;\r\n            }\r\n        },\r\n\r\n        // METHODE CURRENT\r\n        revlastslide: function() {\r\n            // CATCH THE CONTAINER\r\n            return jQuery(this).find('.tp-revslider-mainul >li').length;\r\n        },\r\n\r\n\r\n        // METHODE JUMP TO SLIDE\r\n        revshowslide: function(slide) {\r\n            return this.each(function() {\r\n                // CATCH THE CONTAINER\r\n                var c=jQuery(this);\r\n                if (c!=undefined && c.length>0 && jQuery('body').find('#'+c.attr('id')).length>0) {\r\n                    _R.callingNewSlide(c,\"to\"+(slide-1));\r\n                }\r\n            })\r\n        },\r\n        revcallslidewithid: function(slide) {\r\n            return this.each(function() {\r\n                // CATCH THE CONTAINER\r\n                var c=jQuery(this);\r\n                if (c!=undefined && c.length>0 && jQuery('body').find('#'+c.attr('id')).length>0) {\r\n                    _R.callingNewSlide(c,slide);\r\n                }\r\n            })\r\n        }\r\n    });\r\n\r\n\r\n\r\n//////////////////////////////////////////////////////////////\r\n// -\tREVOLUTION FUNCTION EXTENSIONS FOR GLOBAL USAGE  -  //\r\n//////////////////////////////////////////////////////////////\r\n    var _R = jQuery.fn.revolution;\r\n\r\n    jQuery.extend(true, _R, {\r\n\r\n        getversion : function() {\r\n            return version;\r\n        },\r\n\r\n        compare_version : function(extension) {\r\n            var v = jQuery('body').data('tp_rs_version');\r\n            v = v === undefined ? new Object() : v;\r\n            if (v.Core===undefined) {\r\n                v.Core = new Object();\r\n                v.Core.alias = \"Slider Revolution Core\";\r\n                v.Core.name = \"jquery.themepunch.revolution.min.js\";\r\n                v.Core.ver = _R.getversion().core;\r\n            }\r\n\r\n            if (extension.check!=\"stop\") {\r\n                // CHECK FOR CORRECT CORE AND EXTENSION VERSION\r\n                if (_R.getversion().core<extension.min_core) {\r\n                    if (extension.check===undefined) {\r\n                        console.log(\"%c\"+\"Slider Revolution Warning (Core:\"+_R.getversion().core+\")\",'color:#c0392b;font-weight:bold;');\r\n                        console.log(\"%c\"+\"     Core is older than expected (\"+extension.min_core+\") from \"+extension.alias,'color:#333');\r\n                        console.log(\"%c\"+\"     Please update Slider Revolution to the latest version.\",'color:#333');\r\n                        console.log(\"%c\"+\"     It might be required to purge and clear Server/Client side Caches.\",'color:#333');\r\n\r\n                    }\r\n                    extension.check=\"stop\";\r\n                } else\r\n\r\n                if (_R.getversion()[extension.name]!=undefined && extension.version <_R.getversion()[extension.name]) {\r\n                    if (extension.check===undefined) {\r\n                        console.log(\"%c\"+\"Slider Revolution Warning (Core:\"+_R.getversion().core+\")\",'color:#c0392b;font-weight:bold;');\r\n                        console.log(\"%c\"+\"     \"+extension.alias+\" (\"+extension.version+\") is older than requiered (\"+_R.getversion()[extension.name]+\")\",'color:#333');\r\n                        console.log(\"%c\"+\"     Please update Slider Revolution to the latest version.\",'color:#333');\r\n                        console.log(\"%c\"+\"     It might be required to purge and clear Server/Client side Caches.\",'color:#333');\r\n                    }\r\n                    extension.check=\"stop\";\r\n                }\r\n            }\r\n\r\n            if (v[extension.alias]===undefined) {\r\n                v[extension.alias] = new Object();\r\n                v[extension.alias].alias = extension.alias;\r\n                v[extension.alias].ver = extension.version;\r\n                v[extension.alias].name = extension.name;\r\n            }\r\n\r\n            jQuery('body').data('tp_rs_version',v);\r\n\r\n            return extension;\r\n        },\r\n\r\n        currentSlideIndex : function(opt) {\r\n\r\n            var\tai =  opt.c.find('.active-revslide').index();\r\n\r\n            ai = ai == -1 ? 0 : ai;\r\n\r\n            return ai;\r\n\r\n        },\r\n\r\n        simp : function(a,b,basic) {\r\n            var c = Math.abs(a) - (Math.floor(Math.abs(a / b))*b);\r\n            if (basic)\r\n                return c;\r\n            else\r\n                return a<0 ? -1*c : c;\r\n        },\r\n\r\n        //\t-\tIS IOS VERSION OLDER THAN 5 ??\r\n        iOSVersion : function() {\r\n            var oldios = false;\r\n            if((navigator.userAgent.match(/iPhone/i)) || (navigator.userAgent.match(/iPod/i)) || (navigator.userAgent.match(/iPad/i))) {\r\n                if (navigator.userAgent.match(/OS 4_\\d like Mac OS X/i)) {\r\n                    oldios = true;\r\n                }\r\n            } else {\r\n                oldios = false;\r\n            }\r\n            return oldios;\r\n        },\r\n\r\n\r\n        //\t-\tCHECK IF BROWSER IS IE\t\t-\r\n        isIE : function( version, comparison ){\r\n            var $div = jQuery('<div style=\"display:none;\"/>').appendTo(jQuery('body'));\r\n            $div.html('<!--[if '+(comparison||'')+' IE '+(version||'')+']><a>&nbsp;</a><![endif]-->');\r\n            var ieTest = $div.find('a').length;\r\n            $div.remove();\r\n            return ieTest;\r\n        },\r\n\r\n        // \t-\tIS MOBILE ??\r\n        is_mobile : function() {\r\n            var agents = ['android', 'webos', 'iphone', 'ipad', 'blackberry','Android', 'webos', ,'iPod', 'iPhone', 'iPad', 'Blackberry', 'BlackBerry'];\r\n            var ismobile=false;\r\n            for(var i in agents) {\r\n\r\n                if (navigator.userAgent.split(agents[i]).length>1) {\r\n                    ismobile = true;\r\n\r\n                }\r\n            }\r\n            return ismobile;\r\n        },\r\n\r\n        is_android : function() {\r\n            var agents = ['android', 'Android'];\r\n            var isandroid=false;\r\n            for(var i in agents) {\r\n                if (navigator.userAgent.split(agents[i]).length>1) {\r\n                    isandroid = true;\r\n                }\r\n            }\r\n            return isandroid;\r\n        },\r\n\r\n        // -  CALL BACK HANDLINGS - //\r\n        callBackHandling : function(opt,type,position) {\r\n            try{\r\n                if (opt.callBackArray)\r\n                    jQuery.each(opt.callBackArray,function(i,c) {\r\n                        if (c) {\r\n                            if (c.inmodule && c.inmodule === type)\r\n                                if (c.atposition && c.atposition === position)\r\n                                    if (c.callback)\r\n                                        c.callback.call();\r\n                        }\r\n                    });\r\n            } catch(e) {\r\n                console.log(\"Call Back Failed\");\r\n            }\r\n        },\r\n\r\n        get_browser : function(){\r\n            var N=navigator.appName, ua=navigator.userAgent, tem;\r\n            var M=ua.match(/(opera|chrome|safari|firefox|msie)\\/?\\s*(\\.?\\d+(\\.\\d+)*)/i);\r\n            if(M && (tem= ua.match(/version\\/([\\.\\d]+)/i))!= null) M[2]= tem[1];\r\n            M=M? [M[1], M[2]]: [N, navigator.appVersion, '-?'];\r\n            return M[0];\r\n        },\r\n\r\n        get_browser_version  : function(){\r\n            var N=navigator.appName, ua=navigator.userAgent, tem;\r\n            var M=ua.match(/(opera|chrome|safari|firefox|msie)\\/?\\s*(\\.?\\d+(\\.\\d+)*)/i);\r\n            if(M && (tem= ua.match(/version\\/([\\.\\d]+)/i))!= null) M[2]= tem[1];\r\n            M=M? [M[1], M[2]]: [N, navigator.appVersion, '-?'];\r\n            return M[1];\r\n        },\r\n\r\n\t\t/*\r\n\t\t Jason / Safari 11 Video autoplay fix\r\n\t\t */\r\n        isSafari11: function() {\r\n\r\n\t\tvar browser = jQuery.trim(_R.get_browser().toLowerCase());\r\n\t\tif(jQuery.trim(navigator.userAgent.toLowerCase()).search('edge') !== -1 || browser === 'msie') return false;\r\n\t\treturn browser.match(/safari|chrome/);\r\n\r\n        },\r\n\r\n        // GET THE HORIZONTAL OFFSET OF SLIDER BASED ON THE THU`MBNAIL AND TABS LEFT AND RIGHT SIDE\r\n        getHorizontalOffset : function(container,side) {\r\n            var thumbloff = gWiderOut(container,'.outer-left'),\r\n                thumbroff = gWiderOut(container,'.outer-right');\r\n\r\n            switch (side) {\r\n                case \"left\":\r\n                    return thumbloff;\r\n                    break;\r\n                case \"right\":\r\n                    return thumbroff;\r\n                    break;\r\n                case \"both\":\r\n                    return thumbloff+thumbroff;\r\n                    break;\r\n            }\r\n        },\r\n\r\n\r\n        // \t-\tCALLING THE NEW SLIDE \t-\t//\r\n        callingNewSlide : function(container,direction) {\r\n\r\n            var aindex = container.find('.next-revslide').length>0 ? container.find('.next-revslide').index() : container.find('.processing-revslide').length>0 ? container.find('.processing-revslide').index() : container.find('.active-revslide').index(),\r\n                nindex = 0,\r\n                opt = container[0].opt;\r\n\r\n            container.find('.next-revslide').removeClass(\"next-revslide\");\r\n\r\n            // IF WE ARE ON AN INVISIBLE SLIDE CURRENTLY\r\n            if (container.find('.active-revslide').hasClass(\"tp-invisible-slide\"))\r\n                aindex = opt.last_shown_slide;\r\n\r\n            // SET NEXT DIRECTION\r\n            if (direction && jQuery.isNumeric(direction) || direction.match(/to/g)) {\r\n                if (direction===1 || direction === -1) {\r\n\r\n                    nindex = aindex + direction;\r\n                    nindex = nindex<0 ? opt.slideamount-1 : nindex>=opt.slideamount ? 0 : nindex;\r\n                } else {\r\n\r\n                    direction=jQuery.isNumeric(direction) ? direction : parseInt(direction.split(\"to\")[1],0);\r\n                    nindex = direction<0 ? 0 : direction>opt.slideamount-1 ? opt.slideamount-1 : direction;\r\n                }\r\n                container.find('.tp-revslider-slidesli:eq('+nindex+')').addClass(\"next-revslide\");\r\n            } else\r\n            if (direction) {\r\n\r\n                container.find('.tp-revslider-slidesli').each(function() {\r\n                    var li=jQuery(this);\r\n                    if (li.data('index')===direction) li.addClass(\"next-revslide\");\r\n                })\r\n            }\r\n\r\n\r\n            nindex = container.find('.next-revslide').index();\r\n            container.trigger(\"revolution.nextslide.waiting\");\r\n\r\n\r\n            if ((aindex===nindex && aindex === opt.last_shown_slide) || (nindex !== aindex && nindex!=-1))\r\n                swapSlide(container);\r\n            else\r\n                container.find('.next-revslide').removeClass(\"next-revslide\");\r\n        },\r\n\r\n        slotSize : function(img,opt) {\r\n            opt.slotw=Math.ceil(opt.width/opt.slots);\r\n\r\n            if (opt.sliderLayout==\"fullscreen\")\r\n                opt.sloth=Math.ceil(jQuery(window).height()/opt.slots);\r\n            else\r\n                opt.sloth=Math.ceil(opt.height/opt.slots);\r\n\r\n            if (opt.autoHeight==\"on\" && img!==undefined && img!==\"\")\r\n                opt.sloth=Math.ceil(img.height()/opt.slots);\r\n\r\n\r\n        },\r\n\r\n        setSize : function(opt) {\r\n\r\n            var ofh = (opt.top_outer || 0) + (opt.bottom_outer || 0),\r\n                cpt = parseInt((opt.carousel.padding_top||0),0),\r\n                cpb = parseInt((opt.carousel.padding_bottom||0),0),\r\n                maxhei = opt.gridheight[opt.curWinRange],\r\n                __mh = 0,\r\n                _actli = opt.nextSlide === -1 || opt.nextSlide===undefined ? 0 : opt.nextSlide;\r\n            opt.paddings = opt.paddings === undefined ? {top:(parseInt(opt.c.parent().css(\"paddingTop\"),0) || 0), bottom:(parseInt(opt.c.parent().css(\"paddingBottom\"),0) || 0)} : opt.paddings;\r\n\r\n            if (opt.rowzones && opt.rowzones.length>0)\r\n                for (var a=0;a<opt.rowzones[_actli].length;a++) {\r\n                    __mh = __mh + opt.rowzones[_actli][a][0].offsetHeight;\r\n                }\r\n\r\n\r\n            maxhei = maxhei<opt.minHeight ? opt.minHeight : maxhei;\r\n            maxhei = maxhei<__mh ? __mh : maxhei;\r\n\r\n\r\n            if (opt.sliderLayout==\"fullwidth\" && opt.autoHeight==\"off\")\tpunchgs.TweenLite.set(opt.c,{maxHeight:maxhei+\"px\"});\r\n            opt.c.css({marginTop:cpt,marginBottom:cpb});\r\n            opt.width=opt.ul.width();\r\n            opt.height=opt.ul.height();\r\n            setScale(opt);\r\n\r\n            opt.height = Math.round(opt.gridheight[opt.curWinRange] * (opt.width/opt.gridwidth[opt.curWinRange]));\r\n\r\n            if (opt.height>opt.gridheight[opt.curWinRange] && opt.autoHeight!=\"on\") opt.height=opt.gridheight[opt.curWinRange];\r\n\r\n            if (opt.sliderLayout==\"fullscreen\" || opt.infullscreenmode) {\r\n                opt.height = opt.bw * opt.gridheight[opt.curWinRange];\r\n                var cow = opt.c.parent().width();\r\n                var coh = jQuery(window).height();\r\n\r\n                if (opt.fullScreenOffsetContainer!=undefined) {\r\n                    try{\r\n                        var offcontainers = opt.fullScreenOffsetContainer.split(\",\");\r\n                        if (offcontainers)\r\n                            jQuery.each(offcontainers,function(index,searchedcont) {\r\n                                coh = jQuery(searchedcont).length>0 ? coh - jQuery(searchedcont).outerHeight(true) : coh;\r\n                            });\r\n                    } catch(e) {}\r\n                    try{\r\n                        if (opt.fullScreenOffset.split(\"%\").length>1 && opt.fullScreenOffset!=undefined && opt.fullScreenOffset.length>0)\r\n                            coh = coh - (jQuery(window).height()* parseInt(opt.fullScreenOffset,0)/100);\r\n                        else\r\n                        if (opt.fullScreenOffset!=undefined && opt.fullScreenOffset.length>0)\r\n                            coh = coh - parseInt(opt.fullScreenOffset,0);\r\n                    } catch(e) {}\r\n                }\r\n\r\n                coh = coh<opt.minHeight ? opt.minHeight : coh;\r\n                coh = coh - ofh;\r\n                opt.c.parent().height(coh);\r\n\r\n                opt.c.closest('.rev_slider_wrapper').height(coh);\r\n                opt.c.css({'height':'100%'});\r\n\r\n                opt.height=coh;\r\n                if (opt.minHeight!=undefined && opt.height<opt.minHeight)\r\n                    opt.height = opt.minHeight;\r\n                opt.height = parseInt(__mh,0)>parseInt(opt.height,0) ? __mh : opt.height;\r\n\r\n            } else {\r\n                if (opt.minHeight!=undefined && opt.height<opt.minHeight)\r\n                    opt.height = opt.minHeight;\r\n                opt.height = parseInt(__mh,0)>parseInt(opt.height,0) ? __mh : opt.height;\r\n                opt.c.height(opt.height);\r\n            }\r\n            var si = {\theight:(cpt+cpb+ofh+opt.height+opt.paddings.top+opt.paddings.bottom)};\r\n\r\n            opt.c.closest('.forcefullwidth_wrapper_tp_banner').find('.tp-fullwidth-forcer').css(si);\r\n            opt.c.closest('.rev_slider_wrapper').css(si);\r\n            setScale(opt);\r\n        },\r\n\r\n        enterInViewPort : function(opt) {\r\n            // START COUNTER IF VP ENTERED, AND COUNTDOWN WAS NOT ON YET\r\n            if (opt.waitForCountDown) {\r\n\r\n                countDown(opt.c,opt);\r\n                opt.waitForCountDown=false;\r\n            }\r\n            // START FIRST SLIDE IF NOT YET STARTED AND VP ENTERED\r\n            if (opt.waitForFirstSlide) {\r\n                swapSlide(opt.c);\r\n                opt.waitForFirstSlide=false;\r\n                setTimeout(function() {\r\n                    opt.c.removeClass(\"tp-waitforfirststart\");\r\n                },500);\r\n            }\r\n\r\n            if (opt.sliderlaststatus == \"playing\" || opt.sliderlaststatus==undefined) {\r\n                opt.c.trigger(\"starttimer\");\r\n            }\r\n\r\n\r\n            if (opt.lastplayedvideos != undefined && opt.lastplayedvideos.length>0) {\r\n\r\n                jQuery.each(opt.lastplayedvideos,function(i,_nc) {\r\n\r\n                    _R.playVideo(_nc,opt);\r\n                });\r\n            }\r\n        },\r\n\r\n        leaveViewPort : function(opt) {\r\n            opt.sliderlaststatus = opt.sliderstatus;\r\n            opt.c.trigger(\"stoptimer\");\r\n            if (opt.playingvideos != undefined && opt.playingvideos.length>0) {\r\n                opt.lastplayedvideos = jQuery.extend(true,[],opt.playingvideos);\r\n                if (opt.playingvideos)\r\n                    jQuery.each(opt.playingvideos,function(i,_nc) {\r\n                        opt.leaveViewPortBasedStop = true;\r\n                        if (_R.stopVideo) _R.stopVideo(_nc,opt);\r\n                    });\r\n            }\r\n        },\r\n\r\n        unToggleState : function(a) {\r\n            if (a!=undefined && a.length>0)\r\n                jQuery.each(a,function(i,layer) {\r\n                    layer.removeClass(\"rs-toggle-content-active\");\r\n                });\r\n        },\r\n\r\n        toggleState : function(a) {\r\n            if (a!=undefined && a.length>0)\r\n                jQuery.each(a,function(i,layer) {\r\n                    layer.addClass(\"rs-toggle-content-active\");\r\n                });\r\n        },\r\n        swaptoggleState : function(a) {\r\n            if (a!=undefined && a.length>0)\r\n                jQuery.each(a,function(i,layer) {\r\n                    if (jQuery(layer).hasClass(\"rs-toggle-content-active\"))\r\n                        jQuery(layer).removeClass(\"rs-toggle-content-active\");\r\n                    else\r\n                        jQuery(layer).addClass(\"rs-toggle-content-active\");\r\n                });\r\n        },\r\n        lastToggleState : function(a) {\r\n            var state = 0;\r\n            if (a!=undefined && a.length>0)\r\n                jQuery.each(a,function(i,layer) {\r\n                    state = layer.hasClass(\"rs-toggle-content-active\");\r\n                });\r\n            return state;\r\n        }\r\n\r\n    });\r\n\r\n\r\n    var\t_ISM = _R.is_mobile(),\r\n        _ANDROID = _R.is_android();\r\n\r\n\r\n\r\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n    var checkIDS = function(opt,item) {\r\n        opt.anyid = opt.anyid === undefined ? [] : opt.anyid;\r\n        var ind = jQuery.inArray(item.attr('id'),opt.anyid);\r\n        if (ind!=-1) {\r\n            var newid = item.attr('id')+\"_\"+Math.round(Math.random()*9999);\r\n            item.attr('id',newid);\r\n        }\r\n\r\n        opt.anyid.push(item.attr('id'));\r\n    }\r\n    var removeArray = function(arr,i) {\r\n        var newarr = [];\r\n        jQuery.each(arr,function(a,b) {\r\n            if (a!=i) newarr.push(b);\r\n        })\r\n        return newarr;\r\n    }\r\n\r\n    var removeNavWithLiref = function(a,ref,opt) {\r\n        opt.c.find(a).each(function() {\r\n            var a = jQuery(this);\r\n            if (a.data('liref')===ref)\r\n                a.remove();\r\n        })\r\n    }\r\n\r\n\r\n    var lAjax = function(s,o) {\r\n\r\n        if (jQuery('body').data(s)) return false;\r\n        if (o.filesystem) {\r\n            if (o.errorm===undefined)\r\n                o.errorm = \"<br>Local Filesystem Detected !<br>Put this to your header:\";\r\n            console.warn('Local Filesystem detected !');\r\n            o.errorm = o.errorm+'<br>&lt;script type=\"text/javascript\" src=\"'+o.jsFileLocation+s+o.extensions_suffix+'\"&gt;&lt;/script&gt;';\r\n            console.warn(o.jsFileLocation+s+o.extensions_suffix+' could not be loaded !');\r\n            console.warn('Please use a local Server or work online or make sure that you load all needed Libraries manually in your Document.');\r\n            console.log(\" \");\r\n            o.modulesfailing = true;\r\n            return false;\r\n        }\r\n\r\n        jQuery.ajaxSetup({\r\n            type: 'get'\r\n        });\r\n        jQuery.ajax({\r\n            url:o.jsFileLocation+s+o.extensions_suffix+'?version='+version.core,\r\n            'dataType':'script',\r\n            'cache':true,\r\n            \"error\":function(e) {\r\n                console.warn(\"Slider Revolution 5.0 Error !\")\r\n                console.error(\"Failure at Loading:\"+s+o.extensions_suffix+\" on Path:\"+o.jsFileLocation)\r\n                console.info(e);\r\n            }\r\n        });\r\n        jQuery('body').data(s,true);\r\n    }\r\n\r\n\r\n\r\n    var getNeededScripts = function(o,c) {\r\n        var n = new Object(),\r\n            _n = o.navigation;\r\n\r\n        n.kenburns = false;\r\n        n.parallax = false;\r\n        n.carousel = false;\r\n        n.navigation = false;\r\n        n.videos = false;\r\n        n.actions = false;\r\n        n.layeranim = false;\r\n        n.migration = false;\r\n\r\n\r\n\r\n\r\n        // MIGRATION EXTENSION\r\n        if (!c.data('version') || !c.data('version').toString().match(/5./gi)) {\r\n            n.kenburns = true;\r\n            n.parallax = true;\r\n            n.carousel = false;\r\n            n.navigation = true;\r\n            n.videos = true;\r\n            n.actions = true;\r\n            n.layeranim = true;\r\n            n.migration = true;\r\n        }\r\n        else {\r\n            // KEN BURN MODUL\r\n            c.find('img').each(function(){\r\n                if (jQuery(this).data('kenburns')==\"on\") n.kenburns = true;\r\n            });\r\n\r\n            // NAVIGATION EXTENSTION\r\n            if (o.sliderType ==\"carousel\" || _n.keyboardNavigation==\"on\" || _n.mouseScrollNavigation==\"on\" || _n.touch.touchenabled==\"on\" || _n.arrows.enable || _n.bullets.enable || _n.thumbnails.enable || _n.tabs.enable )\r\n                n.navigation = true;\r\n\r\n            // LAYERANIM, VIDEOS, ACTIONS EXTENSIONS\r\n            c.find('.tp-caption, .tp-static-layer, .rs-background-video-layer').each(function(){\r\n                var _nc = jQuery(this);\r\n                if ((_nc.data('ytid')!=undefined  || _nc.find('iframe').length>0 && _nc.find('iframe').attr('src').toLowerCase().indexOf('youtube')>0))\r\n                    n.videos = true;\r\n                if ((_nc.data('vimeoid')!=undefined || _nc.find('iframe').length>0 && _nc.find('iframe').attr('src').toLowerCase().indexOf('vimeo')>0))\r\n                    n.videos = true;\r\n                if (_nc.data('actions')!==undefined)\r\n                    n.actions = true;\r\n                n.layeranim = true;\r\n            });\r\n\r\n\r\n            c.find('li').each(function() {\r\n                if (jQuery(this).data('link') && jQuery(this).data('link')!=undefined) {\r\n                    n.layeranim = true;\r\n                    n.actions = true;\r\n                }\r\n            })\r\n\r\n            // VIDEO EXTENSION\r\n            if (!n.videos && (c.find('.rs-background-video-layer').length>0 || c.find(\".tp-videolayer\").length>0 || c.find(\".tp-audiolayer\").length>0 || c.find('iframe').length>0 || c.find('video').length>0))\r\n                n.videos = true;\r\n\r\n\r\n            // VIDEO EXTENSION\r\n            if (o.sliderType ==\"carousel\")\r\n                n.carousel = true;\r\n\r\n\r\n\r\n            if (o.parallax.type!==\"off\" || o.viewPort.enable || o.viewPort.enable==\"true\" || o.scrolleffect.on===\"true\" || o.scrolleffect.on)\r\n                n.parallax = true;\r\n        }\r\n\r\n        if (o.sliderType==\"hero\") {\r\n            n.carousel = false;\r\n            n.navigation = false;\r\n        }\r\n\r\n        if (window.location.href.match(/file:/gi)) {\r\n            n.filesystem = true;\r\n            o.filesystem = true;\r\n        }\r\n\r\n\r\n        // LOAD THE NEEDED LIBRARIES\r\n        if (n.videos && typeof _R.isVideoPlaying=='undefined') lAjax('revolution.extension.video',o);\r\n        if (n.carousel && typeof _R.prepareCarousel=='undefined') lAjax('revolution.extension.carousel',o);\r\n        if (!n.carousel && typeof _R.animateSlide=='undefined') lAjax('revolution.extension.slideanims',o);\r\n        if (n.actions && typeof _R.checkActions=='undefined') lAjax('revolution.extension.actions',o);\r\n        if (n.layeranim && typeof _R.handleStaticLayers=='undefined') lAjax('revolution.extension.layeranimation',o);\r\n        if (n.kenburns && typeof _R.stopKenBurn=='undefined') lAjax('revolution.extension.kenburn',o);\r\n        if (n.navigation && typeof _R.createNavigation=='undefined') lAjax('revolution.extension.navigation',o);\r\n        if (n.migration && typeof _R.migration=='undefined') lAjax('revolution.extension.migration',o);\r\n        if (n.parallax && typeof _R.checkForParallax=='undefined') lAjax('revolution.extension.parallax',o);\r\n\r\n        if (o.addons!=undefined && o.addons.length>0) {\r\n            jQuery.each(o.addons, function(i,obj) {\r\n                if (typeof obj === \"object\" && obj.fileprefix!=undefined)\r\n                    lAjax(obj.fileprefix,o);\r\n            })\r\n        }\r\n\r\n\r\n        return n;\r\n    }\r\n\r\n///////////////////////////////////\r\n//   -  WAIT FOR SCRIPT LOADS  - //\r\n///////////////////////////////////\r\n    var waitForScripts = function(c,o) {\r\n        // CHECK KEN BURN DEPENDENCIES\r\n        var addonsloaded = true,\r\n            n = o.scriptsneeded;\r\n\r\n        // CHECK FOR ADDONS\r\n        if (o.addons!=undefined && o.addons.length>0) {\r\n            jQuery.each(o.addons, function(i,obj) {\r\n                if (typeof obj === \"object\" && obj.init!=undefined) {\r\n                    if (_R[obj.init]===undefined) addonsloaded = false;\r\n                }\r\n            })\r\n        }\r\n\r\n        if (n.filesystem ||\r\n            (typeof punchgs !== 'undefined' &&\r\n                (addonsloaded) &&\r\n                (!n.kenburns || (n.kenburns && typeof _R.stopKenBurn !== 'undefined')) &&\r\n                (!n.navigation || (n.navigation && typeof _R.createNavigation !== 'undefined')) &&\r\n                (!n.carousel || (n.carousel && typeof _R.prepareCarousel !== 'undefined')) &&\r\n                (!n.videos || (n.videos && typeof _R.resetVideo !== 'undefined')) &&\r\n                (!n.actions || (n.actions && typeof _R.checkActions !== 'undefined')) &&\r\n                (!n.layeranim || (n.layeranim && typeof _R.handleStaticLayers !== 'undefined')) &&\r\n                (!n.migration || (n.migration && typeof _R.migration !== 'undefined')) &&\r\n                (!n.parallax || (n.parallax && typeof _R.checkForParallax !== 'undefined')) &&\r\n                (n.carousel || (!n.carousel && typeof _R.animateSlide !== 'undefined'))\r\n            ))\r\n            c.trigger(\"scriptsloaded\");\r\n        else\r\n            setTimeout(function() {\r\n                waitForScripts(c,o);\r\n            },50);\r\n\r\n    }\r\n\r\n//////////////////////////////////\r\n//\t-\tGET SCRIPT LOCATION\t-\t//\r\n//////////////////////////////////\r\n    var getScriptLocation = function(a) {\r\n\r\n        var srcexp = new RegExp(\"themepunch.revolution.min.js\",\"gi\"),\r\n            ret = \"\";\r\n        jQuery(\"script\").each(function() {\r\n            var src = jQuery(this).attr(\"src\");\r\n            if (src && src.match(srcexp))\r\n                ret = src;\r\n        });\r\n\r\n        ret = ret.replace('jquery.themepunch.revolution.min.js', '');\r\n        ret = ret.replace('jquery.themepunch.revolution.js', '');\r\n        ret = ret.split(\"?\")[0];\r\n        return ret;\r\n    }\r\n\r\n//////////////////////////////////////////\r\n//\t-\tADVANCED RESPONSIVE LEVELS\t-\t//\r\n//////////////////////////////////////////\r\n    var setCurWinRange = function(opt,vis) {\r\n        var curlevel = 0,\r\n            curwidth = 9999,\r\n            lastmaxlevel = 0,\r\n            lastmaxid = 0,\r\n            curid = 0,\r\n            winw = jQuery(window).width(),\r\n            l = vis && opt.responsiveLevels==9999 ? opt.visibilityLevels : opt.responsiveLevels;\r\n\r\n        if (l && l.length)\r\n            jQuery.each(l,function(index,level) {\r\n                if (winw<level) {\r\n                    if (lastmaxlevel==0 || lastmaxlevel>level) {\r\n                        curwidth = level;\r\n                        curid = index;\r\n                        lastmaxlevel = level;\r\n                    }\r\n                }\r\n\r\n                if (winw>level && lastmaxlevel<level) {\r\n                    lastmaxlevel = level;\r\n                    lastmaxid = index;\r\n                }\r\n            });\r\n\r\n        if (lastmaxlevel<curwidth)\r\n            curid = lastmaxid;\r\n\r\n\r\n        if (!vis)\r\n            opt.curWinRange = curid;\r\n        else\r\n            opt.forcedWinRange = curid;\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n//////////////////////////////////////////\r\n//\t-\tINITIALISATION OF OPTIONS \t-\t//\r\n//////////////////////////////////////////\r\n    var prepareOptions = function(container,opt) {\r\n        opt.carousel.maxVisibleItems = opt.carousel.maxVisibleItems < 1 ? 999 : opt.carousel.maxVisibleItems; // === 1 ? 2 : opt.carousel.maxVisibleItems;\r\n        opt.carousel.vertical_align = opt.carousel.vertical_align === \"top\" ? \"0%\" : opt.carousel.vertical_align===\"bottom\" ? \"100%\" : \"50%\";\r\n    }\r\n\r\n    var gWiderOut = function(c,cl) {\r\n        var r = 0;\r\n        c.find(cl).each(function() {\r\n            var a = jQuery(this);\r\n            if (!a.hasClass(\"tp-forcenotvisible\") && r<a.outerWidth())\r\n                r = a.outerWidth();\r\n        });\r\n        return r;\r\n    }\r\n\r\n\r\n\r\n\r\n//////////////////////////////////////////\r\n//\t-\tINITIALISATION OF SLIDER\t-\t//\r\n//////////////////////////////////////////\r\n    var initSlider = function (container,opt) {\r\n        if (container==undefined) return false;\r\n\r\n        // CHECK FOR ALTERNATIVE IMAGE, AND IFRAM EXIST, AND WE ARE IN IE8, MOBILE, DRAW IT SIMPLE\r\n        if (container.data('aimg')!=undefined)\r\n            if ((container.data('aie8')==\"enabled\" && _R.isIE(8)) || (container.data('amobile')==\"enabled\" && _ISM))\r\n                container.html('<img class=\"tp-slider-alternative-image\" src=\"'+container.data(\"aimg\")+'\">');\r\n\r\n        // PREPRARE SOME CLASSES AND VARIABLES\r\n        container.find('>ul').addClass(\"tp-revslider-mainul\");\r\n\r\n\r\n        // CREATE SOME DEFAULT OPTIONS FOR LATER\r\n        opt.c=container;\r\n        opt.ul = container.find('.tp-revslider-mainul');\r\n\r\n        // Remove Not Needed Slides for Mobile Devices\r\n        opt.ul.find('>li').each(function(i) {\r\n            var li = jQuery(this);\r\n            if (li.data('hideslideonmobile')==\"on\" && _ISM) li.remove();\r\n            if (li.data('invisible') || li.data('invisible')===true) {\r\n                li.addClass(\"tp-invisible-slide\");\r\n                li.appendTo(opt.ul);\r\n            }\r\n        });\r\n\r\n\r\n        if (opt.addons!=undefined && opt.addons.length>0) {\r\n            jQuery.each(opt.addons, function(i,obj) {\r\n                if (typeof obj === \"object\" && obj.init!=undefined) {\r\n                    _R[obj.init](eval(obj.params));\r\n                }\r\n            })\r\n        }\r\n\r\n\r\n\r\n        opt.cid = container.attr('id');\r\n        opt.ul.css({visibility:\"visible\"});\r\n        opt.slideamount = opt.ul.find('>li').not('.tp-invisible-slide').length;\r\n        opt.realslideamount = opt.ul.find('>li').length;\r\n        opt.slayers = container.find('.tp-static-layers');\r\n        opt.slayers.data('index','staticlayers');\r\n\r\n        if (opt.waitForInit == true)\r\n            return;\r\n        else {\r\n            container[0].opt = opt;\r\n            runSlider(container,opt);\r\n        }\r\n\r\n    }\r\n\r\n    var onFullScreenChange = function() {\r\n        jQuery(\"body\").data('rs-fullScreenMode',!jQuery(\"body\").data('rs-fullScreenMode'));\r\n        if (jQuery(\"body\").data('rs-fullScreenMode')) {\r\n            setTimeout(function() {\r\n                jQuery(window).trigger(\"resize\");\r\n            },200);\r\n        }\r\n    }\r\n\r\n    var runSlider = function(container,opt) {\r\n\r\n\r\n        opt.sliderisrunning = true;\r\n        // Save Original Index of Slides\r\n        opt.ul.find('>li').each(function(i) {\r\n            jQuery(this).data('originalindex',i);\r\n        });\r\n\r\n        opt.allli = opt.ul.find('>li');\r\n\r\n        // RECORD THUMBS AND SET INDEXES\r\n        jQuery.each(opt.allli,function(index,li) {\r\n            var li = jQuery(li);\r\n            li.data('origindex',li.index());\r\n        });\r\n\r\n        opt.li = opt.ul.find('>li').not('.tp-invisible-slide');\r\n\r\n        // RANDOMIZE THE SLIDER SHUFFLE MODE\r\n        if (opt.shuffle==\"on\") {\r\n            var fsa = new Object,\r\n                fli = opt.ul.find('>li:first-child');\r\n            fsa.fstransition = fli.data('fstransition');\r\n            fsa.fsmasterspeed = fli.data('fsmasterspeed');\r\n            fsa.fsslotamount = fli.data('fsslotamount');\r\n\r\n            for (var u=0;u<opt.slideamount;u++) {\r\n                var it = Math.round(Math.random()*opt.slideamount);\r\n                opt.ul.find('>li:eq('+it+')').prependTo(opt.ul);\r\n            }\r\n\r\n            var newfli = opt.ul.find('>li:first-child');\r\n            newfli.data('fstransition',fsa.fstransition);\r\n            newfli.data('fsmasterspeed',fsa.fsmasterspeed);\r\n            newfli.data('fsslotamount',fsa.fsslotamount);\r\n\r\n            // RECOLLECT ALL LI INTO AN ARRAY\r\n            opt.allli = opt.ul.find('>li');\r\n            opt.li = opt.ul.find('>li').not('.tp-invisible-slide');\r\n        }\r\n\r\n\r\n        opt.inli = opt.ul.find('>li.tp-invisible-slide');\r\n\r\n\r\n        opt.thumbs = new Array();\r\n\r\n        opt.slots=4;\r\n        opt.act=-1;\r\n        opt.firststart=1;\r\n        opt.loadqueue = new Array();\r\n        opt.syncload = 0;\r\n        opt.conw = container.width();\r\n        opt.conh = container.height();\r\n\r\n        if (opt.responsiveLevels.length>1)\r\n            opt.responsiveLevels[0] = 9999;\r\n        else\r\n            opt.responsiveLevels = 9999;\r\n\r\n\r\n\r\n        jQuery.each(opt.allli,function(index,li) {\r\n            var li = jQuery(li),\r\n                img = li.find('.rev-slidebg') || li.find('img').first(),\r\n                i = 0;\r\n\r\n\r\n            li.addClass(\"tp-revslider-slidesli\");\r\n            if (li.data('index')===undefined) li.data('index','rs-'+Math.round(Math.random()*999999));\r\n\r\n            var obj = new Object;\r\n            obj.params = new Array();\r\n\r\n            obj.id = li.data('index');\r\n            obj.src = li.data('thumb')!==undefined ? li.data('thumb') : img.data('lazyload') !== undefined ? img.data('lazyload') : img.attr('src');\r\n            if (li.data('title') !== undefined) obj.params.push({from:RegExp(\"\\\\{\\\\{title\\\\}\\\\}\",\"g\"), to:li.data(\"title\")})\r\n            if (li.data('description') !== undefined) obj.params.push({from:RegExp(\"\\\\{\\\\{description\\\\}\\\\}\",\"g\"), to:li.data(\"description\")})\r\n            for (var i=1;i<=10;i++) {\r\n                if (li.data(\"param\"+i)!==undefined)\r\n                    obj.params.push({from:RegExp(\"\\\\{\\\\{param\"+i+\"\\\\}\\\\}\",\"g\"), to:li.data(\"param\"+i)})\r\n            }\r\n            opt.thumbs.push(obj);\r\n\r\n            // IF LINK ON SLIDE EXISTS, NEED TO CREATE A PROPER LAYER FOR IT.\r\n            if (li.data('link')!=undefined) {\r\n                var link = li.data('link'),\r\n                    target= li.data('target') || \"_self\",\r\n                    zindex= li.data('slideindex')===\"back\" ? 0 : 60,\r\n                    linktoslide=li.data('linktoslide'),\r\n                    checksl = linktoslide;\r\n\r\n                if (linktoslide != undefined)\r\n                    if (linktoslide!=\"next\" && linktoslide!=\"prev\")\r\n                        opt.allli.each(function() {\r\n                            var t = jQuery(this);\r\n                            if (t.data('origindex')+1==checksl) linktoslide = t.data('index');\r\n                        });\r\n\r\n\r\n                if (link!=\"slide\") linktoslide=\"no\";\r\n\r\n                var apptxt = '<div class=\"tp-caption slidelink\" style=\"cursor:pointer;width:100%;height:100%;z-index:'+zindex+';\" data-x=\"center\" data-y=\"center\" data-basealign=\"slide\" ',\r\n                    jts = linktoslide===\"scroll_under\" ? '[{\"event\":\"click\",\"action\":\"scrollbelow\",\"offset\":\"100px\",\"delay\":\"0\"}]' :\r\n                        linktoslide===\"prev\" ? '[{\"event\":\"click\",\"action\":\"jumptoslide\",\"slide\":\"prev\",\"delay\":\"0.2\"}]' :\r\n                            linktoslide===\"next\" ? '[{\"event\":\"click\",\"action\":\"jumptoslide\",\"slide\":\"next\",\"delay\":\"0.2\"}]' : '[{\"event\":\"click\",\"action\":\"jumptoslide\",\"slide\":\"'+linktoslide+'\",\"delay\":\"0.2\"}]',\r\n                    frame = ' data-frames=' +\"'\" + '[{\"delay\":0,\"speed\":100,\"frame\":\"0\",\"from\":\"opacity:0;\",\"to\":\"o:1;\",\"ease\":\"Power3.easeInOut\"},{\"delay\":\"wait\",\"speed\":300,\"frame\":\"999\",\"to\":\"opacity:0;\",\"ease\":\"Power3.easeInOut\"}]'+\"'\";\r\n                apptxt = linktoslide==\"no\" ? apptxt + frame +' >' : apptxt + 'data-actions='+\"'\"+jts + \"'\"+frame+' >';\r\n                apptxt = apptxt + '<a style=\"width:100%;height:100%;display:block\"';\r\n                apptxt = link!=\"slide\" ? apptxt + ' target=\"'+target+'\" href=\"'+link+'\"' : apptxt;\r\n                apptxt = apptxt + '><span style=\"width:100%;height:100%;display:block\"></span></a></div>';\r\n                li.append(apptxt);\r\n            }\r\n        });\r\n\r\n\r\n        // CREATE GRID WIDTH AND HEIGHT ARRAYS\r\n        opt.rle = opt.responsiveLevels.length || 1;\r\n        opt.gridwidth = cArray(opt.gridwidth,opt.rle);\r\n        opt.gridheight = cArray(opt.gridheight,opt.rle);\r\n        // END OF VERSION 5.0 INIT MODIFICATION\r\n\r\n\r\n\r\n        // SIMPLIFY ANIMATIONS ON OLD IOS AND IE8 IF NEEDED\r\n        if (opt.simplifyAll==\"on\" && (_R.isIE(8) || _R.iOSVersion())) {\r\n            container.find('.tp-caption').each(function() {\r\n                var tc = jQuery(this);\r\n                tc.removeClass(\"customin customout\").addClass(\"fadein fadeout\");\r\n                tc.data('splitin',\"\");\r\n                tc.data('speed',400);\r\n            })\r\n            opt.allli.each(function() {\r\n                var li= jQuery(this);\r\n                li.data('transition',\"fade\");\r\n                li.data('masterspeed',500);\r\n                li.data('slotamount',1);\r\n                var img = li.find('.rev-slidebg') || li.find('>img').first();\r\n                img.data('kenburns',\"off\");\r\n            });\r\n        }\r\n\r\n        opt.desktop = !navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i);\r\n\r\n        // SOME OPTIONS WHICH SHOULD CLOSE OUT SOME OTHER SETTINGS\r\n        opt.autoHeight = opt.sliderLayout==\"fullscreen\" ? \"on\" : opt.autoHeight;\r\n\r\n        if (opt.sliderLayout==\"fullwidth\" && opt.autoHeight==\"off\") container.css({maxHeight:opt.gridheight[opt.curWinRange]+\"px\"});\r\n\r\n        // BUILD A FORCE FULLWIDTH CONTAINER, TO SPAN THE FULL SLIDER TO THE FULL WIDTH OF BROWSER\r\n        if (opt.sliderLayout!=\"auto\" && container.closest('.forcefullwidth_wrapper_tp_banner').length==0) {\r\n            if (opt.sliderLayout!==\"fullscreen\" || opt.fullScreenAutoWidth!=\"on\") {\r\n                var cp = container.parent(),\r\n                    mb = cp.css('marginBottom'),\r\n                    mt = cp.css('marginTop'),\r\n                    cid = container.attr('id')+\"_forcefullwidth\";\r\n                mb = mb===undefined ? 0 : mb;\r\n                mt = mt===undefined ? 0 : mt;\r\n\r\n                cp.wrap('<div class=\"forcefullwidth_wrapper_tp_banner\" id=\"'+cid+'\" style=\"position:relative;width:100%;height:auto;margin-top:'+mt+';margin-bottom:'+mb+'\"></div>');\r\n                container.closest('.forcefullwidth_wrapper_tp_banner').append('<div class=\"tp-fullwidth-forcer\" style=\"width:100%;height:'+container.height()+'px\"></div>');\r\n                container.parent().css({marginTop:\"0px\",marginBottom:\"0px\"});\r\n                //container.css({'backgroundColor':container.parent().css('backgroundColor'),'backgroundImage':container.parent().css('backgroundImage')});\r\n                container.parent().css({position:'absolute'});\r\n            }\r\n        }\r\n\r\n\r\n\r\n        // SHADOW ADD ONS\r\n        if (opt.shadow!==undefined && opt.shadow>0) {\r\n            container.parent().addClass('tp-shadow'+opt.shadow);\r\n            container.parent().append('<div class=\"tp-shadowcover\"></div>');\r\n            container.parent().find('.tp-shadowcover').css({'backgroundColor':container.parent().css('backgroundColor'),'backgroundImage':container.parent().css('backgroundImage')});\r\n        }\r\n\r\n        // ESTIMATE THE CURRENT WINDOWS RANGE INDEX\r\n        setCurWinRange(opt);\r\n        setCurWinRange(opt,true);\r\n\r\n        // IF THE CONTAINER IS NOT YET INITIALISED, LETS GO FOR IT\r\n        if (!container.hasClass(\"revslider-initialised\")) {\r\n            // MARK THAT THE CONTAINER IS INITIALISED WITH SLIDER REVOLUTION ALREADY\r\n            container.addClass(\"revslider-initialised\");\r\n\r\n            // FOR BETTER SELECTION, ADD SOME BASIC CLASS\r\n            container.addClass(\"tp-simpleresponsive\");\r\n            // WE DONT HAVE ANY ID YET ? WE NEED ONE ! LETS GIVE ONE RANDOMLY FOR RUNTIME\r\n            if (container.attr('id')==undefined) {\r\n                container.attr('id',\"revslider-\"+Math.round(Math.random()*1000+5));\r\n            }\r\n            checkIDS(opt,container);\r\n\r\n            // CHECK IF FIREFOX 13 IS ON WAY.. IT HAS A STRANGE BUG, CSS ANIMATE SHOULD NOT BE USED\r\n            opt.firefox13 = false;\r\n            opt.ie = !jQuery.support.opacity;\r\n            opt.ie9 = (document.documentMode == 9);\r\n\r\n            opt.origcd=opt.delay;\r\n\r\n\r\n\r\n            // CHECK THE jQUERY VERSION\r\n            var version = jQuery.fn.jquery.split('.'),\r\n                versionTop = parseFloat(version[0]),\r\n                versionMinor = parseFloat(version[1]),\r\n                versionIncrement = parseFloat(version[2] || '0');\r\n            if (versionTop==1 && versionMinor < 7)\r\n                container.html('<div style=\"text-align:center; padding:40px 0px; font-size:20px; color:#992222;\"> The Current Version of jQuery:'+version+' <br>Please update your jQuery Version to min. 1.7 in Case you wish to use the Revolution Slider Plugin</div>');\r\n            if (versionTop>1) opt.ie=false;\r\n\r\n\r\n\r\n            // PREPARE VIDEO PLAYERS\r\n            var addedApis = new Object();\r\n            addedApis.addedyt=0;\r\n            addedApis.addedvim=0;\r\n            addedApis.addedvid=0;\r\n\r\n            //PREPARING FADE IN/OUT PARALLAX\r\n            if (opt.scrolleffect.on)\r\n                opt.scrolleffect.layers = new Array();\r\n\r\n            container.find('.tp-caption, .rs-background-video-layer').each(function(i) {\r\n                var _nc = jQuery(this),\r\n                    _ = _nc.data(),\r\n                    an = _.autoplayonlyfirsttime,\r\n                    ap = _.autoplay,\r\n                    htmlvideo = _.videomp4!==undefined || _.videowebm!==undefined || _.videoogv!==undefined,\r\n                    al = _nc.hasClass(\"tp-audiolayer\"),\r\n                    loop = _.videoloop,\r\n                    addtofadeout = true,\r\n                    addToStaticFadeout = false;\r\n\r\n\r\n                _.startclasses = _nc.attr('class');\r\n\r\n\r\n                _.isparallaxlayer = _.startclasses.indexOf(\"rs-parallax\")>=0;\r\n\r\n\r\n\r\n                if (_nc.hasClass(\"tp-static-layer\") && _R.handleStaticLayers) {\r\n                    _R.handleStaticLayers(_nc,opt);\r\n                    if (opt.scrolleffect.on)\r\n                        if ((opt.scrolleffect.on_parallax_static_layers===\"on\" && _.isparallaxlayer) || (opt.scrolleffect.on_static_layers===\"on\" && !_.isparallaxlayer)) addToStaticFadeout = true;\r\n                    addtofadeout=false;\r\n                }\r\n\r\n                var pom = _nc.data('noposteronmobile') || _nc.data('noPosterOnMobile') ||  _nc.data('posteronmobile') || _nc.data('posterOnMobile') || _nc.data('posterOnMObile');\r\n                _nc.data('noposteronmobile',pom);\r\n\r\n                // FIX VISIBLE IFRAME BUG IN SAFARI\r\n                var iff = 0;\r\n                _nc.find('iframe').each(function() {\r\n                    punchgs.TweenLite.set(jQuery(this),{autoAlpha:0});\r\n                    iff++;\r\n                })\r\n                if (iff>0)\r\n                    _nc.data('iframes',true)\r\n\r\n                if (_nc.hasClass(\"tp-caption\")) {\r\n                    // PREPARE LAYERS AND WRAP THEM WITH PARALLAX, LOOP, MASK HELP CONTAINERS\r\n                    var ec = _nc.hasClass(\"slidelink\") ? \"width:100% !important;height:100% !important;\" : \"\",\r\n                        _ndata = _nc.data(),\r\n                        specec = \"\",\r\n                        nctype = _ndata.type,\r\n                        _pos = nctype===\"row\" || nctype===\"column\" ? \"relative\" : \"absolute\",\r\n                        preclas = \"\";\r\n\r\n                    if (nctype===\"row\") {\r\n                        _nc.addClass(\"rev_row\").removeClass(\"tp-resizeme\");\r\n                        preclas=\"rev_row_wrap\";\r\n                    } else\r\n                    if (nctype===\"column\") {\r\n                        specec = _ndata.verticalalign === undefined ?  \" vertical-align:bottom;\"  : \" vertical-align:\"+_ndata.verticalalign+\";\";\r\n                        preclas = \"rev_column\";\r\n                        _nc.addClass(\"rev_column_inner\").removeClass(\"tp-resizeme\");;\r\n                        _nc.data('width','auto');\r\n                        punchgs.TweenLite.set(_nc,{width:'auto'});\r\n                    } else\r\n                    if (nctype===\"group\") {\r\n                        _nc.removeClass(\"tp-resizeme\")\r\n                    }\r\n                    var dmode = \"\",\r\n                        preid = \"\";\r\n\r\n\r\n                    if (nctype!==\"row\" && nctype!==\"group\" && nctype!==\"column\"){\r\n                        dmode = \"display:\"+_nc.css('display')+\";\";\r\n                        if (_nc.closest('.rev_column').length>0) {\r\n                            _nc.addClass(\"rev_layer_in_column\");\r\n                            addtofadeout=false;\r\n                        } else\r\n                        if (_nc.closest('.rev_group').length>0) {\r\n                            _nc.addClass(\"rev_layer_in_group\");\r\n                            addtofadeout=false;\r\n                        }\r\n\r\n\r\n                    } else\r\n                    if (nctype===\"column\") addtofadeout = false;\r\n\r\n\r\n                    if (_ndata.wrapper_class!==undefined) preclas = preclas+\" \"+_ndata.wrapper_class;\r\n                    if (_ndata.wrapper_id!==undefined) preid ='id=\"'+_ndata.wrapper_id+'\"';\r\n\r\n\t\t\t\t// POINTER EVENTS ADDITION\r\n\t\t\t\tvar pevents = '';\r\n\t\t\t\tif(_nc.hasClass('tp-no-events')) pevents = ';pointer-events:none';\r\n\t\t\t\t_nc.wrap('<div '+preid+' class=\"tp-parallax-wrap '+preclas+'\" style=\"'+specec+' '+ec+'position:'+_pos+';'+dmode+';visibility:hidden'+pevents+'\"><div class=\"tp-loop-wrap\" style=\"'+ec+'position:'+_pos+';'+dmode+';\"><div class=\"tp-mask-wrap\" style=\"'+ec+'position:'+_pos+';'+dmode+';\" ></div></div></div>');\r\n\r\n                    // ONLY ADD LAYERS TO FADEOUT DYNAMIC LIST WHC\r\n                    if (addtofadeout && opt.scrolleffect.on)\r\n                        if ((opt.scrolleffect.on_parallax_layers===\"on\" && _.isparallaxlayer) || (opt.scrolleffect.on_layers===\"on\" && !_.isparallaxlayer))\r\n                            opt.scrolleffect.layers.push(_nc.parent());\r\n                    if (addToStaticFadeout) opt.scrolleffect.layers.push(_nc.parent());\r\n\r\n\r\n                    // Add BG for Columns\r\n                    if (nctype===\"column\") {\r\n                        _nc.append('<div class=\"rev_column_bg rev_column_bg_man_sized\" style=\"visibility:hidden\"></div>');\r\n                        _nc.closest('.tp-parallax-wrap').append('<div class=\"rev_column_bg rev_column_bg_auto_sized\"></div>');\r\n                    }\r\n\r\n                    var lar = ['pendulum', 'rotate','slideloop','pulse','wave'],\r\n                        _lc = _nc.closest('.tp-loop-wrap');\r\n\r\n                    jQuery.each(lar,function(i,k) {\r\n                        var lw = _nc.find('.rs-'+k),\r\n                            f = lw.data() || \"\";\r\n                        if (f!=\"\") {\r\n                            _lc.data(f);\r\n                            _lc.addClass(\"rs-\"+k);\r\n                            lw.children(0).unwrap();\r\n                            _nc.data('loopanimation',\"on\");\r\n                        }\r\n                    });\r\n                    if (_nc.attr('id')===undefined)\r\n                        _nc.attr('id','layer-'+Math.round(Math.random()*999999999));\r\n                    checkIDS(opt,_nc);\r\n                    punchgs.TweenLite.set(_nc,{visibility:\"hidden\"});\r\n                }\r\n\r\n                var as = _nc.data('actions');\r\n                if (as!==undefined) _R.checkActions(_nc,opt,as);\r\n\r\n                checkHoverDependencies(_nc,opt);\r\n\r\n                if (_R.checkVideoApis)\r\n                    addedApis = _R.checkVideoApis(_nc,opt,addedApis);\r\n\r\n                // PREPARE TIMER BEHAVIOUR BASED ON AUTO PLAYED VIDEOS IN SLIDES\r\n                if (!al && (an == true || an==\"true\" || ap == \"1sttime\") && loop !=\"loopandnoslidestop\")\r\n                    _nc.closest('li.tp-revslider-slidesli').addClass(\"rs-pause-timer-once\");\r\n\r\n\r\n                if (!al && (ap==true || ap==\"true\" || ap == \"on\" || ap == \"no1sttime\") && loop !=\"loopandnoslidestop\")\r\n                    _nc.closest('li.tp-revslider-slidesli').addClass(\"rs-pause-timer-always\");\r\n\r\n\r\n            });\r\n\r\n            container[0].addEventListener('mouseenter',function() {\r\n                container.trigger('tp-mouseenter');\r\n                opt.overcontainer=true;\r\n            },{passive:true});\r\n\r\n            container[0].addEventListener('mouseover',function() {\r\n                container.trigger('tp-mouseover');\r\n                opt.overcontainer=true;\r\n            },{passive:true});\r\n\r\n            container[0].addEventListener('mouseleave',function() {\r\n                container.trigger('tp-mouseleft');\r\n                opt.overcontainer=false;\r\n            },{passive:true});\r\n\r\n            // REMOVE ANY VIDEO JS SETTINGS OF THE VIDEO  IF NEEDED  (OLD FALL BACK, AND HELP FOR 3THD PARTY PLUGIN CONFLICTS)\r\n            container.find('.tp-caption video').each(function(i) {\r\n                var v = jQuery(this);\r\n                v.removeClass(\"video-js vjs-default-skin\");\r\n                v.attr(\"preload\",\"\");\r\n                v.css({display:\"none\"});\r\n            });\r\n\r\n            //PREPARE LOADINGS ALL IN SEQUENCE\r\n            if (opt.sliderType!==\"standard\") opt.lazyType = \"all\";\r\n\r\n\r\n            // PRELOAD STATIC LAYERS\r\n            loadImages(container.find('.tp-static-layers'),opt,0,true);\r\n\r\n            waitForCurrentImages(container.find('.tp-static-layers'),opt,function() {\r\n                container.find('.tp-static-layers img').each(function() {\r\n                    var e = jQuery(this),\r\n                        src = e.data('lazyload') != undefined ? e.data('lazyload') : e.attr('src'),\r\n                        loadobj = getLoadObj(opt,src);\r\n                    e.attr('src',loadobj.src)\r\n                })\r\n            });\r\n\r\n            opt.rowzones = [];\r\n\r\n            // SET ALL LI AN INDEX AND INIT LAZY LOADING\r\n            opt.allli.each(function(i) {\r\n                var li = jQuery(this);\r\n                opt.rowzones[i] = [];\r\n                li.find('.rev_row_zone').each(function() {\r\n                    opt.rowzones[i].push(jQuery(this));\r\n                })\r\n\r\n                if (opt.lazyType==\"all\" || (opt.lazyType==\"smart\" && (i==0 || i == 1 || i == opt.slideamount || i == opt.slideamount-1))) {\r\n                    loadImages(li,opt,i);\r\n                    waitForCurrentImages(li,opt,function() {\r\n                        //if (opt.sliderType==\"carousel\")\r\n                        //punchgs.TweenLite.to(li,1,{autoAlpha:1,ease:punchgs.Power3.easeInOut});\r\n                    });\r\n                }\r\n\r\n            });\r\n\r\n\r\n\r\n            // IF DEEPLINK HAS BEEN SET\r\n            var deeplink = getUrlVars(\"#\")[0];\r\n            if (deeplink.length<9) {\r\n                if (deeplink.split('slide').length>1) {\r\n                    var dslide=parseInt(deeplink.split('slide')[1],0);\r\n                    if (dslide<1) dslide=1;\r\n                    if (dslide>opt.slideamount) dslide=opt.slideamount;\r\n                    opt.startWithSlide=dslide-1;\r\n                }\r\n            }\r\n\r\n            // PREPARE THE SPINNER\r\n            container.append(\t'<div class=\"tp-loader '+opt.spinner+'\">'+\r\n                '<div class=\"dot1\"></div>'+\r\n                '<div class=\"dot2\"></div>'+\r\n                '<div class=\"bounce1\"></div>'+\r\n                '<div class=\"bounce2\"></div>'+\r\n                '<div class=\"bounce3\"></div>'+\r\n                '</div>');\r\n            opt.loader = container.find('.tp-loader');\r\n\r\n            // RESET THE TIMER\r\n            if (container.find('.tp-bannertimer').length===0) container.append('<div class=\"tp-bannertimer\" style=\"visibility:hidden\"></div>');\r\n            container.find('.tp-bannertimer').css({'width':'0%'});\r\n\r\n\r\n\r\n            // PREPARE THE SLIDES\r\n            opt.ul.css({'display':'block'});\r\n            prepareSlides(container,opt);\r\n            if ((opt.parallax.type!==\"off\" || opt.scrolleffect.on) && _R.checkForParallax) _R.checkForParallax(container,opt);\r\n\r\n\r\n            // PREPARE SLIDER SIZE\r\n            _R.setSize(opt);\r\n\r\n\r\n            // Call the Navigation Builder\r\n            if (opt.sliderType!==\"hero\" && _R.createNavigation) _R.createNavigation(container,opt);\r\n            if (_R.resizeThumbsTabs && _R.resizeThumbsTabs) _R.resizeThumbsTabs(opt);\r\n            contWidthManager(opt);\r\n            var _v = opt.viewPort;\r\n            opt.inviewport = false;\r\n\r\n            if (_v !=undefined && _v.enable) {\r\n                if (!jQuery.isNumeric(_v.visible_area))\r\n                    if (_v.visible_area.indexOf('%')!==-1)\r\n                        _v.visible_area = parseInt(_v.visible_area)/100;\r\n\r\n                if (_R.scrollTicker) _R.scrollTicker(opt,container);\r\n            }\r\n            // MAKE SURE CAROUSEL IS NOT YET VISIBE BEFORE IT COMES INTO GAME\r\n            if (opt.sliderType===\"carousel\" && _R.prepareCarousel) {\r\n                punchgs.TweenLite.set(opt.ul,{opacity:0});\r\n                _R.prepareCarousel(opt,new punchgs.TimelineLite,undefined,0);\r\n                opt.onlyPreparedSlide = true;\r\n            }\r\n\r\n\r\n\r\n            // START THE SLIDER\r\n            setTimeout(function() {\r\n\r\n                if (!_v.enable || (_v.enable && opt.inviewport) || (_v.enable &&  !opt.inviewport && !_v.outof==\"wait\"))\r\n                    swapSlide(container);\r\n                else {\r\n                    opt.c.addClass(\"tp-waitforfirststart\");\r\n                    opt.waitForFirstSlide = true;\r\n                    if (_v.presize) {\r\n                        var nextli = jQuery(opt.li[0]);\r\n                        // PRELOAD STATIC LAYERS\r\n                        loadImages(nextli,opt,0,true);\r\n                        waitForCurrentImages(nextli.find('.tp-layers'),opt,function() {\r\n                            _R.animateTheCaptions({slide:nextli,opt:opt, preset:true});\r\n                        })\r\n                    }\r\n\r\n\r\n                }\r\n\r\n                if (_R.manageNavigation) _R.manageNavigation(opt);\r\n\r\n\r\n                // START COUNTDOWN\r\n                if (opt.slideamount>1) {\r\n                    if (!_v.enable || (_v.enable && opt.inviewport))\r\n                        countDown(container,opt);\r\n                    else\r\n                        opt.waitForCountDown = true;\r\n                }\r\n                setTimeout(function() {\r\n                    container.trigger('revolution.slide.onloaded');\r\n                },100);\r\n            },opt.startDelay);\r\n            opt.startDelay=0;\r\n\r\n\r\n\r\n            /******************************\r\n             -\tFULLSCREEN CHANGE\t-\r\n             ********************************/\r\n            // FULLSCREEN MODE TESTING\r\n            jQuery(\"body\").data('rs-fullScreenMode',false);\r\n\r\n\r\n            window.addEventListener('fullscreenchange',onFullScreenChange,{passive:true});\r\n            window.addEventListener('mozfullscreenchange',onFullScreenChange,{passive:true});\r\n            window.addEventListener('webkitfullscreenchange',onFullScreenChange,{passive:true});\r\n\r\n\r\n\r\n            var resizid = \"resize.revslider-\"+container.attr('id');\r\n\r\n            // IF RESIZED, NEED TO STOP ACTUAL TRANSITION AND RESIZE ACTUAL IMAGES\r\n            jQuery(window).on(resizid,function() {\r\n\r\n                if (container==undefined) return false;\r\n\r\n                if (jQuery('body').find(container)!=0)\r\n                    contWidthManager(opt);\r\n\r\n                var hchange = false;\r\n\r\n                if (opt.sliderLayout==\"fullscreen\") {\r\n                    var jwh = jQuery(window).height();\r\n                    if ((opt.fallbacks.ignoreHeightChanges==\"mobile\" && _ISM) || opt.fallbacks.ignoreHeightChanges==\"always\") {\r\n                        opt.fallbacks.ignoreHeightChangesSize = opt.fallbacks.ignoreHeightChangesSize == undefined ? 0 : opt.fallbacks.ignoreHeightChangesSize;\r\n                        hchange = (jwh!=opt.lastwindowheight) && (Math.abs(jwh-opt.lastwindowheight) > opt.fallbacks.ignoreHeightChangesSize)\r\n                    } else {\r\n                        hchange = (jwh!=opt.lastwindowheight)\r\n                    }\r\n                }\r\n\r\n\r\n                if (container.outerWidth(true)!=opt.width || container.is(\":hidden\") || (hchange)) {\r\n                    opt.lastwindowheight = jQuery(window).height();\r\n                    containerResized(container,opt);\r\n                }\r\n\r\n\r\n            });\r\n\r\n            hideSliderUnder(container,opt);\r\n            contWidthManager(opt);\r\n            if (!opt.fallbacks.disableFocusListener && opt.fallbacks.disableFocusListener != \"true\" && opt.fallbacks.disableFocusListener !== true) {\r\n                container.addClass(\"rev_redraw_on_blurfocus\");\r\n                tabBlurringCheck();\r\n            }\r\n        }\r\n    }\r\n\r\n    /*************************************\r\n     -\t CREATE SIMPLE ARRAYS\t-\r\n     **************************************/\r\n    var cArray = function(b,l) {\r\n        if (!jQuery.isArray(b)) {\r\n            var t = b;\r\n            b = new Array();\r\n            b.push(t);\r\n        }\r\n        if (b.length<l) {\r\n            var t = b[b.length-1];\r\n            for (var i=0;i<(l-b.length)+2;i++)\r\n                b.push(t)\r\n        }\r\n        return b;\r\n    }\r\n\r\n\r\n\r\n    var checkHoverDependencies = function(_nc,opt) {\r\n        var _ = _nc.data(),\r\n            senter = _.start===\"sliderenter\" || (_.frames!==undefined && _.frames[0]!=undefined && _.frames[0].delay===\"sliderenter\") ? true : false;\r\n\r\n        if (senter) {\r\n            if (opt.layersonhover===undefined) {\r\n                opt.c.on('tp-mouseenter',function() {\r\n                    if (opt.layersonhover)\r\n                        jQuery.each(opt.layersonhover,function(i,tnc) {\r\n\r\n                            var cli = tnc.data('closestli') || tnc.closest('.tp-revslider-slidesli'),\r\n                                stl = tnc.data('staticli') || tnc.closest('.tp-static-layers');\r\n\r\n                            if (tnc.data('closestli')===undefined) {\r\n                                tnc.data('closestli',cli);\r\n                                tnc.data('staticli',stl);\r\n                            }\r\n\r\n                            if ((cli.length>0 && (cli.hasClass(\"active-revslide\")) || cli.hasClass(\"processing-revslide\")) || (stl.length>0)) {\r\n                                tnc.data('animdirection',\"in\");\r\n\r\n                                if (_R.playAnimationFrame)\r\n                                    _R.playAnimationFrame({caption:tnc,opt:opt,frame:\"frame_0\", triggerdirection:\"in\", triggerframein:\"frame_0\", triggerframeout:\"frame_999\"});\r\n                                tnc.data('triggerstate',\"on\");\r\n                            }\r\n                        });\r\n                });\r\n                opt.c.on('tp-mouseleft',function() {\r\n                    if (opt.layersonhover)\r\n                        jQuery.each(opt.layersonhover,function(i,tnc) {\r\n                            tnc.data('animdirection',\"out\");\r\n                            tnc.data('triggered',true);\r\n                            tnc.data('triggerstate',\"off\");\r\n                            if (_R.stopVideo) _R.stopVideo(tnc,opt);\r\n                            if (_R.playAnimationFrame) _R.playAnimationFrame({caption:tnc,opt:opt,frame:\"frame_999\", triggerdirection:\"out\", triggerframein:\"frame_0\", triggerframeout:\"frame_999\"});\r\n                        });\r\n                });\r\n                opt.layersonhover = new Array;\r\n            }\r\n            opt.layersonhover.push(_nc);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    var contWidthManager = function(opt) {\r\n        var rl = _R.getHorizontalOffset(opt.c,\"left\");\r\n\r\n        if (opt.sliderLayout!=\"auto\" && (opt.sliderLayout!==\"fullscreen\" || opt.fullScreenAutoWidth!=\"on\")) {\r\n            var loff = Math.ceil(opt.c.closest('.forcefullwidth_wrapper_tp_banner').offset().left - rl);\r\n            punchgs.TweenLite.set(opt.c.parent(),{'left':(0-loff)+\"px\",'width':jQuery(window).width()-_R.getHorizontalOffset(opt.c,\"both\")});\r\n        } else {\r\n            if (opt.sliderLayout==\"fullscreen\" && opt.fullScreenAutoWidth==\"on\")\r\n                punchgs.TweenLite.set(opt.ul,{left:0,width:opt.c.width()});\r\n            else\r\n                punchgs.TweenLite.set(opt.ul,{left:rl,width:opt.c.width()-_R.getHorizontalOffset(opt.c,\"both\")});\r\n        }\r\n\r\n\r\n        // put Static Layer Wrapper in Position\r\n        if (opt.slayers && (opt.sliderLayout!=\"fullwidth\" && opt.sliderLayout!=\"fullscreen\"))\r\n            punchgs.TweenLite.set(opt.slayers,{left:rl});\r\n    }\r\n\r\n\r\n    var cv = function(a,d) {\r\n        return a===undefined ? d : a;\r\n    }\r\n\r\n\r\n    var hideSliderUnder = function(container,opt,resized) {\r\n        // FIRST TIME STOP/START HIDE / SHOW SLIDER\r\n        //REMOVE AND SHOW SLIDER ON DEMAND\r\n        var contpar= container.parent();\r\n        if (jQuery(window).width()<opt.hideSliderAtLimit) {\r\n            container.trigger('stoptimer');\r\n            if (contpar.css('display')!=\"none\")\r\n                contpar.data('olddisplay',contpar.css('display'));\r\n            contpar.css({display:\"none\"});\r\n        } else {\r\n            if (container.is(\":hidden\") && resized) {\r\n                if (contpar.data('olddisplay')!=undefined && contpar.data('olddisplay')!=\"undefined\" && contpar.data('olddisplay') != \"none\")\r\n                    contpar.css({display:contpar.data('olddisplay')});\r\n                else\r\n                    contpar.css({display:\"block\"});\r\n                container.trigger('restarttimer');\r\n                setTimeout(function() {\r\n                    containerResized(container,opt);\r\n                },150)\r\n            }\r\n        }\r\n        if (_R.hideUnHideNav) _R.hideUnHideNav(opt);\r\n    }\r\n\r\n\r\n//////////////////////////\r\n//\tCONTAINER RESIZED\t//\r\n/////////////////////////\r\n    var containerResized = function (c,opt) {\r\n\r\n        c.trigger('revolution.slide.beforeredraw');\r\n        if (opt.infullscreenmode == true)\r\n            opt.minHeight = jQuery(window).height();\r\n\r\n        setCurWinRange(opt);\r\n        setCurWinRange(opt,true);\r\n        if (!_R.resizeThumbsTabs || _R.resizeThumbsTabs(opt)===true) {\r\n\r\n            hideSliderUnder(c,opt,true);\r\n            contWidthManager(opt);\r\n\r\n            if ( opt.sliderType ==\"carousel\") _R.prepareCarousel(opt,true);\r\n\r\n            if (c===undefined) return false;\r\n\r\n            _R.setSize(opt);\r\n\r\n            opt.conw = opt.c.width();\r\n            opt.conh = opt.infullscreenmode ? opt.minHeight : opt.c.height();\r\n\r\n            var actsh = c.find('.active-revslide .slotholder'),\r\n                nextsh = c.find('.processing-revslide .slotholder');\r\n\r\n            removeSlots(c,opt,c,2);\r\n\r\n            if (opt.sliderType===\"standard\") {\r\n                punchgs.TweenLite.set(nextsh.find('.defaultimg'),{opacity:0});\r\n                actsh.find('.defaultimg').css({'opacity':1});\r\n            }\r\n\r\n\r\n            if ( opt.sliderType===\"carousel\" && opt.lastconw != opt.conw)  {\r\n                clearTimeout(opt.pcartimer);\r\n                opt.pcartimer = setTimeout(function() {\r\n                    _R.prepareCarousel(opt,true);\r\n                    // SHOW ALL LAYERS IN ALL SLIDES FOR CAROUSEL\r\n                    if (opt.sliderType==\"carousel\" && opt.carousel.showLayersAllTime===\"on\")\r\n                        jQuery.each(opt.li,function(i) {\r\n                            _R.animateTheCaptions({slide:jQuery(opt.li[i]), opt:opt,recall:true});\r\n                        })\r\n\r\n                },100);\r\n                opt.lastconw = opt.conw;\r\n            }\r\n\r\n\r\n            if (_R.manageNavigation) _R.manageNavigation(opt);\r\n\r\n\r\n            if (_R.animateTheCaptions && c.find('.active-revslide').length>0)\r\n                _R.animateTheCaptions({slide:c.find('.active-revslide'), opt:opt,recall:true});\r\n\r\n            if (nextsh.data('kenburns')==\"on\")\r\n                _R.startKenBurn(nextsh,opt,(nextsh.data('kbtl')!==undefined ? nextsh.data('kbtl').progress() : 0));\r\n\r\n            if (actsh.data('kenburns')==\"on\")\r\n                _R.startKenBurn(actsh,opt,(actsh.data('kbtl')!==undefined ? actsh.data('kbtl').progress() : 0));\r\n\r\n            // DOUBLE CALL FOR SOME FUNCTION TO AVOID PORTRAIT/LANDSCAPE ISSUES, AND TO AVOID FULLSCREEN/NORMAL SWAP ISSUES\r\n            if (_R.animateTheCaptions && c.find('.processing-revslide').length>0)  _R.animateTheCaptions({slide:c.find('.processing-revslide'), opt:opt,recall:true});\r\n            if (_R.manageNavigation) _R.manageNavigation(opt);\r\n\r\n        }\r\n\r\n        c.trigger('revolution.slide.afterdraw');\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////////////////       PREPARING / REMOVING\t\t////////////////////////////////////////////////////////\r\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    var setScale = function(opt) {\r\n        opt.bw = (opt.width / opt.gridwidth[opt.curWinRange]);\r\n        opt.bh = (opt.height / opt.gridheight[opt.curWinRange]);\r\n\r\n        if (opt.bh>opt.bw)\r\n            opt.bh=opt.bw\r\n        else\r\n            opt.bw = opt.bh;\r\n\r\n        if (opt.bh>1 || opt.bw>1) { opt.bw=1; opt.bh=1; }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n/////////////////////////////////////////\r\n//\t-\tPREPARE THE SLIDES / SLOTS -  //\r\n///////////////////////////////////////\r\n    var prepareSlides = function(container,opt) {\r\n\r\n        container.find('.tp-caption').each(function() {\r\n            var c = jQuery(this);\r\n            if (c.data('transition')!==undefined) c.addClass(c.data('transition'));\r\n        });\r\n\r\n        // PREPARE THE UL CONTAINER TO HAVEING MAX HEIGHT AND HEIGHT FOR ANY SITUATION\r\n        opt.ul.css({overflow:'hidden',width:'100%',height:'100%',maxHeight:container.parent().css('maxHeight')})\r\n        if (opt.autoHeight==\"on\") {\r\n            opt.ul.css({overflow:'hidden',width:'100%',height:'100%',maxHeight:\"none\"});\r\n            container.css({'maxHeight':'none'});\r\n            container.parent().css({'maxHeight':'none'});\r\n        }\r\n        //_R.setSize(\"\",opt);\r\n        opt.allli.each(function(j) {\r\n            var li=jQuery(this),\r\n                originalIndex = li.data('originalindex');\r\n\r\n            //START WITH CORRECT SLIDE\r\n            if ((opt.startWithSlide !=undefined && originalIndex==opt.startWithSlide) || opt.startWithSlide ===undefined && j==0)\r\n                li.addClass(\"next-revslide\");\r\n\r\n\r\n            // MAKE LI OVERFLOW HIDDEN FOR FURTHER ISSUES\r\n            li.css({'width':'100%','height':'100%','overflow':'hidden'});\r\n\r\n        });\r\n\r\n        if (opt.sliderType === \"carousel\") {\r\n            //SET CAROUSEL\r\n            opt.ul.css({overflow:\"visible\"}).wrap('<div class=\"tp-carousel-wrapper\" style=\"width:100%;height:100%;position:absolute;top:0px;left:0px;overflow:hidden;\"></div>');\r\n            var apt = '<div style=\"clear:both;display:block;width:100%;height:1px;position:relative;margin-bottom:-1px\"></div>';\r\n            opt.c.parent().prepend(apt);\r\n            opt.c.parent().append(apt);\r\n            _R.prepareCarousel(opt);\r\n        }\r\n\r\n        // RESOLVE OVERFLOW HIDDEN OF MAIN CONTAINER\r\n        container.parent().css({'overflow':'visible'});\r\n\r\n        opt.allli.find('>img').each(function(j) {\r\n\r\n            var img=jQuery(this),\r\n                cli = img.closest('li'),\r\n                bgvid = cli.find('.rs-background-video-layer');\r\n\r\n            bgvid.addClass(\"defaultvid\").css({zIndex:30});\r\n\r\n\r\n\r\n            img.addClass('defaultimg');\r\n\r\n            // TURN OF KEN BURNS IF WE ARE ON MOBILE AND IT IS WISHED SO\r\n            if (opt.fallbacks.panZoomDisableOnMobile == \"on\"  && _ISM) {\r\n                img.data('kenburns',\"off\");\r\n                img.data('bgfit',\"cover\");\r\n            }\r\n\r\n            var mediafilter = cli.data('mediafilter');\r\n            mediafilter = mediafilter===\"none\" || mediafilter===undefined ? \"\" : mediafilter;\r\n            img.wrap('<div class=\"slotholder\" style=\"position:absolute; top:0px; left:0px; z-index:0;width:100%;height:100%;\"></div>');\r\n            bgvid.appendTo(cli.find('.slotholder'));\r\n            var dts = img.data();\r\n            img.closest('.slotholder').data(dts);\r\n\r\n            if (bgvid.length>0 && dts.bgparallax!=undefined) {\r\n                bgvid.data('bgparallax',dts.bgparallax);\r\n                bgvid.data('showcoveronpause',\"on\");\r\n            }\r\n\r\n            if (opt.dottedOverlay!=\"none\" && opt.dottedOverlay!=undefined)\r\n                img.closest('.slotholder').append('<div class=\"tp-dottedoverlay '+opt.dottedOverlay+'\"></div>');\r\n\r\n            var src=img.attr('src');\r\n            dts.src = src;\r\n            dts.bgfit = dts.bgfit || \"cover\";\r\n            dts.bgrepeat = dts.bgrepeat || \"no-repeat\",\r\n                dts.bgposition = dts.bgposition || \"center center\";\r\n\r\n            var pari = img.closest('.slotholder'),\r\n                bgcolor = img.data('bgcolor'),\r\n                bgstyle=\"\";\r\n\r\n            if (bgcolor!==undefined && bgcolor.indexOf('gradient')>=0)\r\n                bgstyle='\"background:'+bgcolor+';width:100%;height:100%;\"';\r\n            else\r\n                bgstyle='\"background-color:'+bgcolor+';background-repeat:'+dts.bgrepeat+';background-image:url('+src+');background-size:'+dts.bgfit+';background-position:'+dts.bgposition+';width:100%;height:100%;\"';\r\n            img.data('mediafilter',mediafilter)\r\n            mediafilter = img.data(\"kenburns\")===\"on\" ? \"\" : mediafilter;\r\n            var newimg = jQuery('<div class=\"tp-bgimg defaultimg '+mediafilter+'\" data-bgcolor=\"'+bgcolor+'\" style='+bgstyle+'></div>')\r\n            img.parent().append(newimg);\r\n\r\n            var comment = document.createComment(\"Runtime Modification - Img tag is Still Available for SEO Goals in Source - \" + img.get(0).outerHTML);\r\n            img.replaceWith(comment);\r\n\r\n\r\n            newimg.data(dts);\r\n            newimg.attr(\"src\",src);\r\n\r\n            if (opt.sliderType === \"standard\" || opt.sliderType===\"undefined\")\r\n                newimg.css({'opacity':0});\r\n\r\n        })\r\n\r\n        if (opt.scrolleffect.on &&  opt.scrolleffect.on_slidebg===\"on\") {\r\n            opt.allslotholder = new Array();\r\n            opt.allli.find('.slotholder').each(function() {\r\n                jQuery(this).wrap('<div style=\"display:block;position:absolute;top:0px;left:0px;width:100%;height:100%\" class=\"slotholder_fadeoutwrap\"></div>')\r\n            });\r\n            opt.allslotholder = opt.c.find('.slotholder_fadeoutwrap');\r\n        }\r\n    }\r\n\r\n\r\n//\tREMOVE SLOTS\t//\r\n    var removeSlots = function(container,opt,where,addon) {\r\n        opt.removePrepare = opt.removePrepare + addon;\r\n        where.find('.slot, .slot-circle-wrapper').each(function() {\r\n            jQuery(this).remove();\r\n        });\r\n        opt.transition = 0;\r\n        opt.removePrepare = 0;\r\n    }\r\n\r\n\r\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////////////////       SLIDE SWAPS\t\t\t////////////////////////////////////////////////////////////\r\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n// THE IMAGE IS LOADED, WIDTH, HEIGHT CAN BE SAVED\r\n    var cutParams = function(a) {\r\n        var b = a;\r\n        if (a!=undefined && a.length>0)\r\n            b = a.split(\"?\")[0];\r\n        return b;\r\n    }\r\n\r\n    var relativeRedir = function(redir){\r\n        return location.pathname.replace(/(.*)\\/[^/]*/, \"$1/\"+redir);\r\n    }\r\n\r\n    var abstorel = function (base, relative) {\r\n        var stack = base.split(\"/\"),\r\n            parts = relative.split(\"/\");\r\n        stack.pop(); // remove current file name (or empty string)\r\n                     // (omit if \"base\" is the current folder without trailing slash)\r\n        for (var i=0; i<parts.length; i++) {\r\n            if (parts[i] == \".\")\r\n                continue;\r\n            if (parts[i] == \"..\")\r\n                stack.pop();\r\n            else\r\n                stack.push(parts[i]);\r\n        }\r\n        return stack.join(\"/\");\r\n    }\r\n\r\n    var imgLoaded = function(img,opt,progress) {\r\n        opt.syncload--;\r\n        if (opt.loadqueue)\r\n            jQuery.each(opt.loadqueue, function(index,queue) {\r\n\r\n                var mqsrc = queue.src.replace(/\\.\\.\\/\\.\\.\\//gi,\"\"),\r\n                    fullsrc = self.location.href,\r\n                    origin = document.location.origin,\r\n                    fullsrc_b = fullsrc.substring(0,fullsrc.length-1)+\"/\"+mqsrc,\r\n                    origin_b = origin+\"/\"+mqsrc,\r\n                    absolute = abstorel(self.location.href,queue.src);\r\n\r\n                fullsrc = fullsrc.substring(0,fullsrc.length-1)+mqsrc;\r\n                origin = origin+mqsrc;\r\n\r\n                if (cutParams(origin) === cutParams(decodeURIComponent(img.src)) ||\r\n                    cutParams(fullsrc)=== cutParams(decodeURIComponent(img.src)) ||\r\n                    cutParams(absolute)=== cutParams(decodeURIComponent(img.src)) ||\r\n                    cutParams(origin_b) === cutParams(decodeURIComponent(img.src)) ||\r\n                    cutParams(fullsrc_b)=== cutParams(decodeURIComponent(img.src)) ||\r\n                    cutParams(queue.src) === cutParams(decodeURIComponent(img.src)) ||\r\n                    cutParams(queue.src).replace(/^.*\\/\\/[^\\/]+/, '') === cutParams(decodeURIComponent(img.src)).replace(/^.*\\/\\/[^\\/]+/, '') ||\r\n                    (window.location.origin===\"file://\" && cutParams(img.src).match(new RegExp(mqsrc)))) {\r\n                    queue.progress = progress;\r\n                    queue.width = img.width;\r\n                    queue.height = img.height;\r\n                }\r\n            });\r\n        progressImageLoad(opt);\r\n    }\r\n\r\n// PRELOAD IMAGES 3 PIECES ON ONE GO, CHECK LOAD PRIORITY\r\n    var progressImageLoad = function(opt) {\r\n        if (opt.syncload == 3) return;\r\n        if (opt.loadqueue)\r\n            jQuery.each(opt.loadqueue, function(index,queue) {\r\n                if (queue.progress.match(/prepared/g)) {\r\n                    if (opt.syncload<=3) {\r\n                        opt.syncload++;\r\n                        if (queue.type==\"img\") {\r\n                            var img = new Image();\r\n\r\n                            img.onload = function() {\r\n                                imgLoaded(this,opt,\"loaded\");\r\n                                queue.error = false;\r\n                            };\r\n                            img.onerror = function() {\r\n                                imgLoaded(this,opt,\"failed\");\r\n                                queue.error = true;\r\n                            };\r\n\r\n                            img.src=queue.src;\r\n                        } else {\r\n                            jQuery.get(queue.src, function(data) {\r\n                                queue.innerHTML = new XMLSerializer().serializeToString(data.documentElement);\r\n                                queue.progress=\"loaded\";\r\n                                opt.syncload--;\r\n                                progressImageLoad(opt);\r\n                            }).fail(function() {\r\n                                queue.progress=\"failed\";\r\n                                opt.syncload--;\r\n                                progressImageLoad(opt);\r\n                            });\r\n                        }\r\n                        queue.progress=\"inload\";\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n\r\n\r\n// ADD TO QUEUE THE NOT LOADED IMAGES YES\r\n    var addToLoadQueue = function(src,opt,prio,type,staticlayer) {\r\n        var alreadyexist = false;\r\n        if (opt.loadqueue)\r\n            jQuery.each(opt.loadqueue, function(index,queue) {\r\n                if (queue.src === src) alreadyexist = true;\r\n            });\r\n\r\n        if (!alreadyexist) {\r\n            var loadobj = new Object();\r\n            loadobj.src = src;\r\n            loadobj.starttoload = jQuery.now();\r\n            loadobj.type = type || \"img\";\r\n            loadobj.prio = prio;\r\n            loadobj.progress = \"prepared\";\r\n            loadobj.static = staticlayer;\r\n            opt.loadqueue.push(loadobj);\r\n        }\r\n\r\n    }\r\n\r\n// LOAD THE IMAGES OF THE PREDEFINED CONTAINER\r\n    var loadImages = function(container,opt,prio,staticlayer) {\r\n\r\n        container.find('img,.defaultimg, .tp-svg-layer').each(function() {\r\n            var element = jQuery(this),\r\n                src = element.data('lazyload') !== undefined && element.data('lazyload')!==\"undefined\" ? element.data('lazyload') : element.data('svg_src') !=undefined ? element.data('svg_src')  : element.attr('src'),\r\n                type = element.data('svg_src') !=undefined ? \"svg\" : \"img\";\r\n\r\n            element.data('start-to-load',jQuery.now());\r\n            addToLoadQueue(src,opt,prio,type,staticlayer);\r\n        });\r\n        progressImageLoad(opt);\r\n    }\r\n\r\n\r\n// FIND SEARCHED IMAGE/SRC IN THE LOAD QUEUE\r\n    var getLoadObj = function(opt,src) {\r\n        var obj = new Object();\r\n        if (opt.loadqueue)\r\n            jQuery.each(opt.loadqueue, function(index,queue) {\r\n                if (queue.src == src) obj = queue;\r\n            });\r\n        return obj;\r\n    }\r\n\r\n// WAIT PROGRESS TILL THE PREDEFINED CONTAINER HAS ALL IMAGES LOADED INSIDE\r\n    var waitForCurrentImages = function(nextli,opt,callback) {\r\n\r\n        var waitforload = false;\r\n\r\n\r\n        // PRELOAD ALL IMAGES\r\n        nextli.find('img,.defaultimg, .tp-svg-layer').each(function() {\r\n            var element = jQuery(this),\r\n                src = element.data('lazyload') != undefined ? element.data('lazyload') : element.data('svg_src') !=undefined ? element.data('svg_src')  : element.attr('src'),\r\n                loadobj = getLoadObj(opt,src);\r\n\r\n\r\n\r\n            // IF ELEMENTS IS NOT LOADED YET, AND IT IS NOW LOADED\r\n            if (element.data('loaded')===undefined && loadobj !==undefined && loadobj.progress && loadobj.progress.match(/loaded/g)) {\r\n\r\n                element.attr('src',loadobj.src);\r\n\r\n\r\n                // IF IT IS A DEFAULT IMG, WE NEED TO ASSIGN SOME SPECIAL VALUES TO IT\r\n                if (loadobj.type==\"img\") {\r\n                    if (element.hasClass(\"defaultimg\")) {\r\n\r\n                        if (!_R.isIE(8)) {\r\n                            if ((loadobj.src.indexOf('images/transparent.png')==-1 && loadobj.src.indexOf('assets/transparent.png')==-1) || element.data('bgcolor')===undefined) {\r\n                                element.css({backgroundImage:'url(\"'+loadobj.src+'\")'});\r\n                            } else {\r\n\r\n                                if (element.data('bgcolor')!==undefined)\r\n                                    element.css({background:element.data('bgcolor')});\r\n                            }\r\n                        } else {\r\n                            defimg.attr('src',loadobj.src);\r\n                        }\r\n                        nextli.data('owidth',loadobj.width);\r\n                        nextli.data('oheight',loadobj.height);\r\n                        nextli.find('.slotholder').data('owidth',loadobj.width);\r\n                        nextli.find('.slotholder').data('oheight',loadobj.height);\r\n                    } else {\r\n                        var w = element.data('ww'),\r\n                            h = element.data('hh');\r\n\r\n                        element.data('owidth',loadobj.width);\r\n                        element.data('oheight',loadobj.height);\r\n\r\n                        w = w==undefined || w ==\"auto\" || w==\"\" ? loadobj.width : w;\r\n                        h = h==undefined || h ==\"auto\" || h==\"\" ? loadobj.height : h;\r\n\r\n                        if (!jQuery.isNumeric(w) && w.indexOf(\"%\")>0)\r\n                            h = w;\r\n\r\n                        element.data('ww',w);\r\n                        element.data('hh',h);\r\n\r\n                    }\r\n                } else\r\n\r\n                if (loadobj.type==\"svg\" && loadobj.progress==\"loaded\") {\r\n\r\n                    element.append('<div class=\"tp-svg-innercontainer\"></div>');\r\n                    element.find('.tp-svg-innercontainer').append(loadobj.innerHTML);\r\n                }\r\n                // ELEMENT IS NOW FULLY LOADED\r\n                element.data('loaded',true);\r\n            }\r\n\r\n\r\n            if (loadobj && loadobj.progress && loadobj.progress.match(/inprogress|inload|prepared/g))\r\n                if (!loadobj.error && jQuery.now()-element.data('start-to-load')<5000)\r\n                    waitforload = true;\r\n                else {\r\n                    loadobj.progress=\"failed\";\r\n                    if (!loadobj.reported_img) {\r\n                        loadobj.reported_img = true;\r\n                        console.warn(src+\"  Could not be loaded !\");\r\n                    }\r\n                }\r\n\r\n            // WAIT FOR VIDEO API'S\r\n            if (opt.youtubeapineeded == true && (!window['YT'] || YT.Player==undefined)) {\r\n                waitforload = true;\r\n                if (jQuery.now()-opt.youtubestarttime>5000 && opt.youtubewarning!=true) {\r\n                    opt.youtubewarning = true;\r\n                    var txt = \"YouTube Api Could not be loaded !\";\r\n                    if (location.protocol === 'https:') txt = txt + \" Please Check and Renew SSL Certificate !\";\r\n                    console.error(txt);\r\n                    opt.c.append('<div style=\"position:absolute;top:50%;width:100%;color:#e74c3c;  font-size:16px; text-align:center; padding:15px;background:#000; display:block;\"><strong>'+txt+'</strong></div>')\r\n                }\r\n            }\r\n\r\n            if (opt.vimeoapineeded == true && !window['Vimeo']) {\r\n                waitforload = true;\r\n                if (jQuery.now()-opt.vimeostarttime>5000 && opt.vimeowarning!=true) {\r\n                    opt.vimeowarning= true;\r\n                    var txt = \"Vimeo Api Could not be loaded !\";\r\n                    if (location.protocol === 'https:') txt = txt + \" Please Check and Renew SSL Certificate !\";\r\n                    console.error(txt);\r\n                    opt.c.append('<div style=\"position:absolute;top:50%;width:100%;color:#e74c3c;  font-size:16px; text-align:center; padding:15px;background:#000; display:block;\"><strong>'+txt+'</strong></div>')\r\n                }\r\n            }\r\n\r\n        });\r\n\r\n        if (!_ISM && opt.audioqueue && opt.audioqueue.length>0) {\r\n            jQuery.each(opt.audioqueue,function(i,obj) {\r\n                if (obj.status && obj.status===\"prepared\")\r\n                    if (jQuery.now() - obj.start<obj.waittime)\r\n                        waitforload = true;\r\n            });\r\n        }\r\n\r\n        jQuery.each(opt.loadqueue,function(i,o) {\r\n            if (o.static===true && (o.progress!=\"loaded\" || o.progress===\"failed\")) {\r\n                if (o.progress==\"failed\") {\r\n                    if (!o.reported) {\r\n                        o.reported = true;\r\n                        console.warn(\"Static Image \"+o.src+\"  Could not be loaded in time. Error Exists:\"+o.error);\r\n                    }\r\n                }\r\n                else\r\n                if (!o.error && jQuery.now()-o.starttoload<5000) {\r\n                    waitforload = true;\r\n                }\r\n                else {\r\n                    if (!o.reported) {\r\n                        o.reported = true;\r\n                        console.warn(\"Static Image \"+o.src+\"  Could not be loaded within 5s! Error Exists:\"+o.error);\r\n                    }\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n\r\n        if (waitforload)\r\n            punchgs.TweenLite.delayedCall(0.18,waitForCurrentImages,[nextli,opt,callback]);\r\n        else\r\n            punchgs.TweenLite.delayedCall(0.18,callback);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n//////////////////////////////////////\r\n//\t-\tCALL TO SWAP THE SLIDES -  //\r\n/////////////////////////////////////\r\n    var swapSlide = function(container) {\r\n\r\n\r\n        var opt = container[0].opt;\r\n\r\n        clearTimeout(opt.waitWithSwapSlide);\r\n\r\n        if (container.find('.processing-revslide').length>0) {\r\n            opt.waitWithSwapSlide = setTimeout(function() {\r\n                swapSlide(container);\r\n\r\n            },150);\r\n            return false;\r\n        }\r\n\r\n\r\n        var actli = container.find('.active-revslide'),\r\n            nextli = container.find('.next-revslide'),\r\n            defimg= nextli.find('.defaultimg');\r\n\r\n\r\n        if (opt.sliderType===\"carousel\" && !opt.carousel.fadein) {\r\n            punchgs.TweenLite.to(opt.ul,1,{opacity:1});\r\n            opt.carousel.fadein=true;\r\n        }\r\n\r\n        if (nextli.index() === actli.index() && opt.onlyPreparedSlide!==true) {\r\n            nextli.removeClass(\"next-revslide\");\r\n            return false;\r\n        }\r\n\r\n        if (opt.onlyPreparedSlide===true) {\r\n            opt.onlyPreparedSlide=false;\r\n            jQuery(opt.li[0]).addClass(\"processing-revslide\");\r\n        }\r\n\r\n        nextli.removeClass(\"next-revslide\").addClass(\"processing-revslide\");\r\n\r\n        if (nextli.index()===-1 && opt.sliderType===\"carousel\") nextli = jQuery(opt.li[0]);\r\n        nextli.data('slide_on_focus_amount',(nextli.data('slide_on_focus_amount')+1) || 1);\r\n        // CHECK IF WE ARE ALREADY AT LAST ITEM TO PLAY IN REAL LOOP SESSION\r\n        if (opt.stopLoop==\"on\" && nextli.index()==opt.lastslidetoshow-1) {\r\n            container.find('.tp-bannertimer').css({'visibility':'hidden'});\r\n            container.trigger('revolution.slide.onstop');\r\n            opt.noloopanymore = 1;\r\n        }\r\n\r\n        // INCREASE LOOP AMOUNTS\r\n        if (nextli.index()===opt.slideamount-1) {\r\n            opt.looptogo=opt.looptogo-1;\r\n            if (opt.looptogo<=0)\r\n                opt.stopLoop=\"on\";\r\n        }\r\n\r\n        opt.tonpause = true;\r\n        container.trigger('stoptimer');\r\n        opt.cd=0;\r\n        if (opt.spinner===\"off\")\r\n            if (opt.loader!==undefined) opt.loader.css({display:\"none\"});\r\n            else\r\n                opt.loadertimer = setTimeout(function() {if (opt.loader!==undefined) opt.loader.css({display:\"block\"});},50);\r\n\r\n\r\n        loadImages(nextli,opt,1);\r\n        if (_R.preLoadAudio) _R.preLoadAudio(nextli,opt,1);\r\n\r\n\r\n        // WAIT FOR SWAP SLIDE PROGRESS\r\n\r\n\r\n        waitForCurrentImages(nextli,opt,function() {\r\n\r\n\r\n            // MANAGE BG VIDEOS\r\n            nextli.find('.rs-background-video-layer').each(function() {\r\n                var _nc = jQuery(this);\r\n                if (!_nc.hasClass(\"HasListener\")) {\r\n                    _nc.data('bgvideo',1);\r\n                    if (_R.manageVideoLayer) _R.manageVideoLayer(_nc,opt);\r\n                }\r\n                if (_nc.find('.rs-fullvideo-cover').length==0)\r\n                    _nc.append('<div class=\"rs-fullvideo-cover\"></div>')\r\n            });\r\n            swapSlideProgress(defimg,container)\r\n        });\r\n\r\n    }\r\n\r\n//////////////////////////////////////\r\n//\t-\tPROGRESS SWAP THE SLIDES -  //\r\n/////////////////////////////////////\r\n    var swapSlideProgress = function(defimg,container) {\r\n\r\n        var actli = container.find('.active-revslide'),\r\n            nextli = container.find('.processing-revslide'),\r\n            actsh = actli.find('.slotholder'),\r\n            nextsh = nextli.find('.slotholder'),\r\n            opt = container[0].opt;\r\n\r\n        opt.tonpause=false;\r\n\r\n        opt.cd=0;\r\n\r\n\r\n        clearTimeout(opt.loadertimer);\r\n        if (opt.loader!==undefined) opt.loader.css({display:\"none\"});\r\n        // if ( opt.sliderType ==\"carousel\") _R.prepareCarousel(opt);\r\n        _R.setSize(opt);\r\n        _R.slotSize(defimg,opt);\r\n\r\n        if (_R.manageNavigation) _R.manageNavigation(opt);\r\n        var data={};\r\n        data.nextslide=nextli;\r\n        data.currentslide=actli;\r\n        container.trigger('revolution.slide.onbeforeswap',data);\r\n\r\n        opt.transition = 1;\r\n        opt.videoplaying = false;\r\n\r\n        // IF DELAY HAS BEEN SET VIA THE SLIDE, WE TAKE THE NEW VALUE, OTHER WAY THE OLD ONE...\r\n        if (nextli.data('delay')!=undefined) {\r\n            opt.cd=0;\r\n            opt.delay=nextli.data('delay');\r\n        } else\r\n            opt.delay=opt.origcd;\r\n\r\n\r\n        if (nextli.data('ssop')==\"true\" || nextli.data('ssop')===true)\r\n            opt.ssop = true\r\n        else\r\n            opt.ssop = false;\r\n\r\n\r\n\r\n        container.trigger('nulltimer');\r\n\r\n        var ai = actli.index(),\r\n            ni = nextli.index();\r\n        opt.sdir = ni<ai ? 1 : 0;\r\n\r\n        if (opt.sc_indicator==\"arrow\") {\r\n            if (ai==0 && ni==opt.slideamount-1) opt.sdir = 1;\r\n            if (ai==opt.slideamount-1 && ni==0) opt.sdir = 0;\r\n        }\r\n\r\n        opt.lsdir = opt.lsdir === undefined ? opt.sdir : opt.lsdir;\r\n        opt.dirc = opt.lsdir != opt.sdir;\r\n        opt.lsdir = opt.sdir;\r\n\r\n        ///////////////////////////\r\n        //\tREMOVE THE CAPTIONS //\r\n        ///////////////////////////\r\n\r\n\r\n\r\n        if (actli.index() != nextli.index() && opt.firststart!=1)\r\n            if (_R.removeTheCaptions) _R.removeTheCaptions(actli,opt);\r\n\r\n\r\n\r\n        if (!nextli.hasClass('rs-pause-timer-once') && !nextli.hasClass(\"rs-pause-timer-always\"))\r\n            container.trigger('restarttimer');\r\n        else\r\n            opt.videoplaying = true;\r\n\r\n        nextli.removeClass(\"rs-pause-timer-once\");\r\n\r\n        var nexttrans,\r\n            direction=-1,\r\n            mtl;\r\n\r\n        opt.currentSlide = actli.index();\r\n        opt.nextSlide = nextli.index();\r\n\r\n\r\n        // SELECT SLIDER TYPE\r\n        if ( opt.sliderType ==\"carousel\") {\r\n            mtl = new punchgs.TimelineLite();\r\n            _R.prepareCarousel(opt,mtl);\r\n            letItFree(container,nextsh,actsh,nextli,actli,mtl);\r\n            opt.transition = 0;\r\n            opt.firststart = 0;\r\n        } else {\r\n\r\n            mtl = new punchgs.TimelineLite({onComplete:function() {\r\n                letItFree(container,nextsh,actsh,nextli,actli,mtl);\r\n            }});\r\n            mtl.add(punchgs.TweenLite.set(nextsh.find('.defaultimg'),{opacity:0}));\r\n            mtl.pause();\r\n\r\n            if (_R.animateTheCaptions)\r\n                _R.animateTheCaptions({slide:nextli,opt:opt,preset:true});\r\n\r\n            if (opt.firststart==1) {\r\n                punchgs.TweenLite.set(actli,{autoAlpha:0});\r\n                opt.firststart=0;\r\n            }\r\n\r\n\r\n            punchgs.TweenLite.set(actli,{zIndex:18});\r\n            punchgs.TweenLite.set(nextli,{autoAlpha:0,zIndex:20});\r\n\r\n\r\n            // IF THERE IS AN OTHER FIRST SLIDE START HAS BEED SELECTED\r\n            if (nextli.data('differentissplayed') =='prepared') {\r\n                nextli.data('differentissplayed','done');\r\n                nextli.data('transition',nextli.data('savedtransition'));\r\n                nextli.data('slotamount',nextli.data('savedslotamount'));\r\n                nextli.data('masterspeed',nextli.data('savedmasterspeed'));\r\n            }\r\n\r\n\r\n            if (nextli.data('fstransition') != undefined && nextli.data('differentissplayed') !=\"done\") {\r\n\r\n                nextli.data('savedtransition',nextli.data('transition'));\r\n                nextli.data('savedslotamount',nextli.data('slotamount'));\r\n                nextli.data('savedmasterspeed',nextli.data('masterspeed'));\r\n                nextli.data('transition',nextli.data('fstransition'));\r\n                nextli.data('slotamount',nextli.data('fsslotamount'));\r\n                nextli.data('masterspeed',nextli.data('fsmasterspeed'));\r\n                nextli.data('differentissplayed','prepared');\r\n            }\r\n\r\n            if (nextli.data('transition')==undefined) nextli.data('transition',\"random\");\r\n\r\n            nexttrans = 0;\r\n            var transtext = nextli.data('transition') !== undefined ? nextli.data('transition').split(\",\") : \"fade\",\r\n                curtransid = nextli.data('nexttransid') == undefined ? -1 : nextli.data('nexttransid');\r\n            if (nextli.data('randomtransition')==\"on\")\r\n                curtransid = Math.round(Math.random()*transtext.length);\r\n            else\r\n                curtransid=curtransid+1;\r\n\r\n            if (curtransid==transtext.length) curtransid=0;\r\n            nextli.data('nexttransid',curtransid);\r\n\r\n            var comingtransition = transtext[curtransid];\r\n\r\n            if (opt.ie) {\r\n                if (comingtransition==\"boxfade\") comingtransition = \"boxslide\";\r\n                if (comingtransition==\"slotfade-vertical\") comingtransition = \"slotzoom-vertical\";\r\n                if (comingtransition==\"slotfade-horizontal\") comingtransition = \"slotzoom-horizontal\";\r\n            }\r\n\r\n            if (_R.isIE(8))\r\n                comingtransition = 11;\r\n\r\n\r\n\r\n            mtl = _R.animateSlide(nexttrans, comingtransition, container,  nextli, actli, nextsh, actsh,  mtl);\r\n            if (nextsh.data('kenburns')==\"on\") {\r\n                _R.startKenBurn(nextsh,opt);\r\n                mtl.add(punchgs.TweenLite.set(nextsh,{autoAlpha:0}))\r\n            }\r\n\r\n            // SHOW FIRST LI && ANIMATE THE CAPTIONS\r\n            mtl.pause();\r\n        }\r\n\r\n\r\n\r\n        if (_R.scrollHandling) {\r\n            _R.scrollHandling(opt, true,0);\r\n            mtl.eventCallback(\"onUpdate\",function() {\r\n                _R.scrollHandling(opt, true,0);\r\n            });\r\n        }\r\n\r\n\r\n\r\n        // START PARALLAX IF NEEDED\r\n        if (opt.parallax.type!=\"off\" && opt.parallax.firstgo==undefined && _R.scrollHandling) {\r\n            opt.parallax.firstgo = true;\r\n            opt.lastscrolltop = -999;\r\n            _R.scrollHandling(opt,true,0);\r\n            setTimeout(function() {\r\n                opt.lastscrolltop = -999;\r\n                _R.scrollHandling(opt,true,0);\r\n            },210);\r\n            setTimeout(function() {\r\n                opt.lastscrolltop = -999;\r\n                _R.scrollHandling(opt,true,0);\r\n            },420);\r\n        }\r\n\r\n\r\n\r\n        if (_R.animateTheCaptions) {\r\n            if (opt.sliderType===\"carousel\" && opt.carousel.showLayersAllTime===\"on\") {\r\n                // SHOW ALL LAYERS IN ALL SLIDES FOR CAROUSEL\r\n                jQuery.each(opt.li,function(i) {\r\n                    if (!opt.carousel.allLayersStarted) {\r\n                        if (opt.li[i] === nextli)\r\n                            _R.animateTheCaptions({slide:jQuery(opt.li[i]),maintimeline:mtl,opt:opt,startslideanimat:0});\r\n                        else\r\n                            _R.animateTheCaptions({slide:jQuery(opt.li[i]),opt:opt,startslideanimat:0});\r\n                    }\r\n                    else\r\n                        _R.animateTheCaptions({slide:jQuery(opt.li[i]),opt:opt,recall:true});\r\n                });\r\n                opt.carousel.allLayersStarted = true;\r\n            } else {\r\n                _R.animateTheCaptions({slide:nextli, opt:opt,maintimeline:mtl,startslideanimat:0});\r\n            }\r\n        } else {\r\n            if (mtl != undefined) setTimeout(function() {\r\n                mtl.resume();\r\n            },30);\r\n        }\r\n        punchgs.TweenLite.to(nextli,0.001,{autoAlpha:1});\r\n\r\n\r\n\r\n        //if (_R.callStaticDDDParallax) _R.callStaticDDDParallax(container,opt,nextli);\r\n\r\n    }\r\n\r\n\r\n//////////////////////////////////////////\r\n//\tGIVE FREE THE TRANSITIOSN\t\t\t//\r\n//////////////////////////////////////////\r\n    var letItFree = function(container,nextsh,actsh,nextli,actli,mtl) {\r\n\r\n\r\n        var opt = container[0].opt;\r\n        if (opt.sliderType===\"carousel\") {\r\n            // CAROUSEL SLIDER\r\n        }  else {\r\n            opt.removePrepare = 0;\r\n            punchgs.TweenLite.to(nextsh.find('.defaultimg'),0.001,{zIndex:20,autoAlpha:1,onComplete:function() {\r\n                removeSlots(container,opt,nextli,1);\r\n\r\n            }});\r\n            if (nextli.index()!=actli.index()) {\r\n                punchgs.TweenLite.to(actli,0.2,{zIndex:18,autoAlpha:0,onComplete:function() {\r\n                    removeSlots(container,opt,actli,1);\r\n                }});\r\n            }\r\n        }\r\n\r\n\r\n        container.find('.active-revslide').removeClass(\"active-revslide\");\r\n\r\n        container.find('.processing-revslide').removeClass(\"processing-revslide\").addClass(\"active-revslide\");\r\n        opt.act=nextli.index();\r\n\r\n        opt.c.attr('data-slideactive',container.find('.active-revslide').data('index'));\r\n\r\n        if (opt.parallax.type==\"scroll\" || opt.parallax.type==\"scroll+mouse\" || opt.parallax.type==\"mouse+scroll\") {\r\n            opt.lastscrolltop = -999;\r\n            _R.scrollHandling(opt);\r\n        }\r\n\r\n        mtl.clear();\r\n\r\n\r\n        if (actsh.data('kbtl')!=undefined) {\r\n            actsh.data('kbtl').reverse();\r\n            actsh.data('kbtl').timeScale(25);\r\n        }\r\n        if (nextsh.data('kenburns')==\"on\") {\r\n            if (nextsh.data('kbtl')!=undefined) {\r\n                nextsh.data('kbtl').timeScale(1);\r\n                nextsh.data('kbtl').play();\r\n            }\r\n            else\r\n                _R.startKenBurn(nextsh,opt);\r\n        }\r\n\r\n        nextli.find('.rs-background-video-layer').each(function(i) {\r\n            if (_ISM && (!opt.fallbacks.allowHTML5AutoPlayOnAndroid)) return false;\r\n            var _nc = jQuery(this);\r\n            _R.resetVideo(_nc,opt,false,true);\r\n            punchgs.TweenLite.fromTo(_nc,1,{autoAlpha:0},{autoAlpha:1,ease:punchgs.Power3.easeInOut,delay:0.2,onComplete:function() {\r\n                if (_R.animcompleted) _R.animcompleted(_nc,opt);\r\n            }});\r\n        });\r\n\r\n\r\n        actli.find('.rs-background-video-layer').each(function(i) {\r\n            if (_ISM) return false;\r\n            var _nc = jQuery(this);\r\n            if (_R.stopVideo) {\r\n                _R.resetVideo(_nc,opt);\r\n                _R.stopVideo(_nc,opt);\r\n            }\r\n            punchgs.TweenLite.to(_nc,1,{autoAlpha:0,ease:punchgs.Power3.easeInOut,delay:0.2});\r\n        });\r\n        // TIRGGER THE ON CHANGE EVENTS\r\n        var data={};\r\n        data.slideIndex=nextli.index()+1;\r\n        data.slideLIIndex=nextli.index();\r\n        data.slide = nextli;\r\n        data.currentslide=nextli;\r\n        data.prevslide = actli;\r\n        opt.last_shown_slide = actli.index();\r\n\r\n        container.trigger('revolution.slide.onchange',data);\r\n        container.trigger('revolution.slide.onafterswap',data);\r\n\r\n        if (opt.startWithSlide!==undefined && opt.startWithSlide!==\"done\" && opt.sliderType===\"carousel\") {\r\n            var callslideindex = opt.startWithSlide;\r\n            for (var lis=0;lis<=opt.li.length-1;lis++) {\r\n                var oindex = jQuery(opt.li[lis]).data('originalindex');\r\n                if (oindex === opt.startWithSlide)\r\n                    callslideindex = lis;\r\n            }\r\n            if (callslideindex!==0)\r\n                _R.callingNewSlide(opt.c,callslideindex);\r\n            opt.startWithSlide = \"done\";\r\n        }\r\n\r\n\r\n        opt.duringslidechange = false;\r\n\r\n\r\n        var lastSlideLoop = actli.data('slide_on_focus_amount'),\r\n            lastSlideMaxLoop = actli.data('hideafterloop');\r\n        if (lastSlideMaxLoop!=0 && lastSlideMaxLoop<=lastSlideLoop) opt.c.revremoveslide(actli.index());\r\n\r\n\r\n\r\n        var _actli = opt.nextSlide === -1 || opt.nextSlide===undefined ? 0 : opt.nextSlide;\r\n        if (opt.rowzones!=undefined) _actli = _actli>opt.rowzones.length ? opt.rowzones.length : _actli;\r\n\r\n        if (opt.rowzones!=undefined && opt.rowzones.length>0 && opt.rowzones[_actli]!=undefined && _actli>=0 && _actli<=opt.rowzones.length && opt.rowzones[_actli].length>0) _R.setSize(opt);\r\n        //if (_R.callStaticDDDParallax) _R.callStaticDDDParallax(container,opt,nextli);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n///////////////////////////\r\n//\tREMOVE THE LISTENERS //\r\n///////////////////////////\r\n    var removeAllListeners = function(container,opt) {\r\n        container.children().each(function() {\r\n            try{ jQuery(this).die('click'); } catch(e) {}\r\n            try{ jQuery(this).die('mouseenter');} catch(e) {}\r\n            try{ jQuery(this).die('mouseleave');} catch(e) {}\r\n            try{ jQuery(this).unbind('hover');} catch(e) {}\r\n        })\r\n        try{ container.die('click','mouseenter','mouseleave');} catch(e) {}\r\n        clearInterval(opt.cdint);\r\n        container=null;\r\n    }\r\n\r\n///////////////////////////\r\n//\t-\tcountDown\t-\t//\r\n/////////////////////////\r\n    var countDown = function(container,opt) {\r\n        opt.cd=0;\r\n        opt.loop=0;\r\n        if (opt.stopAfterLoops!=undefined && opt.stopAfterLoops>-1)\r\n            opt.looptogo=opt.stopAfterLoops;\r\n        else\r\n            opt.looptogo=9999999;\r\n\r\n        if (opt.stopAtSlide!=undefined && opt.stopAtSlide>-1)\r\n            opt.lastslidetoshow=opt.stopAtSlide;\r\n        else\r\n            opt.lastslidetoshow=999;\r\n\r\n        opt.stopLoop=\"off\";\r\n\r\n        if (opt.looptogo==0) opt.stopLoop=\"on\";\r\n\r\n\r\n        var bt=container.find('.tp-bannertimer');\r\n\r\n        // LISTENERS  //container.trigger('stoptimer');\r\n        container.on('stoptimer',function() {\r\n\r\n            var bt = jQuery(this).find('.tp-bannertimer');\r\n            bt[0].tween.pause();\r\n            if (opt.disableProgressBar==\"on\") bt.css({visibility:\"hidden\"});\r\n            opt.sliderstatus = \"paused\";\r\n            _R.unToggleState(opt.slidertoggledby);\r\n        });\r\n\r\n\r\n        container.on('starttimer',function() {\r\n            if (opt.forcepause_viatoggle) return;\r\n            if (opt.conthover!=1 && opt.videoplaying!=true && opt.width>opt.hideSliderAtLimit && opt.tonpause != true && opt.overnav !=true && opt.ssop!=true)\r\n                if (opt.noloopanymore !== 1 && (!opt.viewPort.enable || opt.inviewport)) {\r\n\r\n                    bt.css({visibility:\"visible\"});\r\n                    bt[0].tween.resume();\r\n                    opt.sliderstatus = \"playing\";\r\n                }\r\n\r\n            if (opt.disableProgressBar==\"on\") bt.css({visibility:\"hidden\"});\r\n            _R.toggleState(opt.slidertoggledby);\r\n        });\r\n\r\n\r\n        container.on('restarttimer',function() {\r\n            if (opt.forcepause_viatoggle) return;\r\n            var bt = jQuery(this).find('.tp-bannertimer');\r\n            if (opt.mouseoncontainer && opt.navigation.onHoverStop==\"on\" && (!_ISM)) return false;\r\n            if (opt.noloopanymore !== 1 && (!opt.viewPort.enable || opt.inviewport) && opt.ssop!=true) {\r\n                bt.css({visibility:\"visible\"});\r\n                bt[0].tween.kill();\r\n\r\n                bt[0].tween=punchgs.TweenLite.fromTo(bt,opt.delay/1000,{width:\"0%\"},{force3D:\"auto\",width:\"100%\",ease:punchgs.Linear.easeNone,onComplete:countDownNext,delay:1});\r\n                opt.sliderstatus = \"playing\";\r\n            }\r\n            if (opt.disableProgressBar==\"on\") bt.css({visibility:\"hidden\"});\r\n            _R.toggleState(opt.slidertoggledby);\r\n        });\r\n\r\n        container.on('nulltimer',function() {\r\n            bt[0].tween.kill();\r\n            bt[0].tween=punchgs.TweenLite.fromTo(bt,opt.delay/1000,{width:\"0%\"},{force3D:\"auto\",width:\"100%\",ease:punchgs.Linear.easeNone,onComplete:countDownNext,delay:1});\r\n            bt[0].tween.pause(0);\r\n            if (opt.disableProgressBar==\"on\") bt.css({visibility:\"hidden\"});\r\n            opt.sliderstatus = \"paused\";\r\n        });\r\n\r\n        var countDownNext = function() {\r\n            if (jQuery('body').find(container).length==0) {\r\n                removeAllListeners(container,opt);\r\n                clearInterval(opt.cdint);\r\n            }\r\n\r\n            container.trigger(\"revolution.slide.slideatend\");\r\n\r\n            //STATE OF API CHANGED -> MOVE TO AIP BETTER\r\n            if (container.data('conthover-changed') == 1) {\r\n                opt.conthover=\tcontainer.data('conthover');\r\n                container.data('conthover-changed',0);\r\n            }\r\n\r\n            _R.callingNewSlide(container,1);\r\n        }\r\n\r\n        bt[0].tween=punchgs.TweenLite.fromTo(bt,opt.delay/1000,{width:\"0%\"},{force3D:\"auto\",width:\"100%\",ease:punchgs.Linear.easeNone,onComplete:countDownNext,delay:1});\r\n\r\n\r\n        if (opt.slideamount >1 && !(opt.stopAfterLoops==0 && opt.stopAtSlide==1)) {\r\n            container.trigger(\"starttimer\");\r\n        }\r\n        else {\r\n            opt.noloopanymore = 1;\r\n\r\n            container.trigger(\"nulltimer\");\r\n        }\r\n\r\n        container.on('tp-mouseenter',function() {\r\n            opt.mouseoncontainer = true;\r\n            if (opt.navigation.onHoverStop==\"on\" && (!_ISM)) {\r\n                container.trigger('stoptimer');\r\n                container.trigger('revolution.slide.onpause');\r\n            }\r\n        });\r\n        container.on('tp-mouseleft',function() {\r\n            opt.mouseoncontainer = false;\r\n            if (container.data('conthover')!=1 && opt.navigation.onHoverStop==\"on\" && ((opt.viewPort.enable==true && opt.inviewport) || opt.viewPort.enable==false)) {\r\n                container.trigger('revolution.slide.onresume');\r\n                container.trigger('starttimer');\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n//////////////////////////////////////////////////////\r\n// * Revolution Slider - NEEDFULL FUNCTIONS\r\n// * @version: 1.0 (30.10.2014)\r\n// * @author ThemePunch\r\n//////////////////////////////////////////////////////\r\n\r\n\r\n\r\n// \t-\tBLUR / FOXUS FUNCTIONS ON BROWSER\r\n\r\n    var vis = (function(){\r\n        var stateKey,\r\n            eventKey,\r\n            keys = {\r\n                hidden: \"visibilitychange\",\r\n                webkitHidden: \"webkitvisibilitychange\",\r\n                mozHidden: \"mozvisibilitychange\",\r\n                msHidden: \"msvisibilitychange\"\r\n            };\r\n        for (stateKey in keys) {\r\n            if (stateKey in document) {\r\n                eventKey = keys[stateKey];\r\n                break;\r\n            }\r\n        }\r\n        return function(c) {\r\n            if (c) document.addEventListener(eventKey, c,{pasive:true});\r\n            return !document[stateKey];\r\n        }\r\n    })();\r\n\r\n    var restartOnFocus = function() {\r\n        jQuery('.rev_redraw_on_blurfocus').each(function() {\r\n            var opt = jQuery(this)[0].opt;\r\n            if (opt==undefined || opt.c==undefined || opt.c.length===0) return false;\r\n            if (opt.windowfocused!=true) {\r\n                opt.windowfocused = true;\r\n                punchgs.TweenLite.delayedCall(0.3,function(){\r\n                    // TAB IS ACTIVE, WE CAN START ANY PART OF THE SLIDER\r\n                    if (opt.fallbacks.nextSlideOnWindowFocus==\"on\") opt.c.revnext();\r\n                    opt.c.revredraw();\r\n                    if (opt.lastsliderstatus==\"playing\")\r\n                        opt.c.revresume();\r\n                });\r\n            }\r\n        })\r\n    }\r\n\r\n    var lastStatBlur = function() {\r\n        jQuery('.rev_redraw_on_blurfocus').each(function() {\r\n            var opt = jQuery(this)[0].opt;\r\n            opt.windowfocused = false;\r\n            opt.lastsliderstatus = opt.sliderstatus;\r\n            opt.c.revpause();\r\n            var actsh = opt.c.find('.active-revslide .slotholder'),\r\n                nextsh = opt.c.find('.processing-revslide .slotholder');\r\n\r\n            if (nextsh.data('kenburns')==\"on\")\r\n                _R.stopKenBurn(nextsh,opt);\r\n\r\n            if (actsh.data('kenburns')==\"on\")\r\n                _R.stopKenBurn(actsh,opt);\r\n        });\r\n\r\n\r\n    }\r\n\r\n    var tabBlurringCheck = function() {\r\n        var notIE = (document.documentMode === undefined),\r\n            isChromium = window.chrome;\r\n        if (jQuery('body').data('revslider_focus_blur_listener')===1) return;\r\n        jQuery('body').data('revslider_focus_blur_listener',1);\r\n        if (notIE && !isChromium) {\r\n            // checks for Firefox and other  NON IE Chrome versions\r\n            jQuery(window).on(\"focusin\", function () {\r\n                restartOnFocus();\r\n            }).on(\"focusout\", function () {\r\n                lastStatBlur();\r\n            });\r\n        } else {\r\n            // checks for IE and Chromium versions\r\n            if (window.addEventListener) {\r\n                // bind focus event\r\n                window.addEventListener(\"focus\", function (event) {\r\n                    restartOnFocus();\r\n                }, {capture:false,passive:true});\r\n                // bind blur event\r\n                window.addEventListener(\"blur\", function (event) {\r\n                    lastStatBlur();\r\n                }, {capture:false,passive:true});\r\n\r\n            } else {\r\n                // bind focus event\r\n                window.attachEvent(\"focus\", function (event) {\r\n                    restartOnFocus();\r\n                });\r\n                // bind focus event\r\n                window.attachEvent(\"blur\", function (event) {\r\n                    lastStatBlur();\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n// \t-\tGET THE URL PARAMETER //\r\n\r\n    var getUrlVars = function (hashdivider){\r\n        var vars = [], hash;\r\n        var hashes = window.location.href.slice(window.location.href.indexOf(hashdivider) + 1).split('_');\r\n        for(var i = 0; i < hashes.length; i++)\r\n        {\r\n            hashes[i] = hashes[i].replace('%3D',\"=\");\r\n            hash = hashes[i].split('=');\r\n            vars.push(hash[0]);\r\n            vars[hash[0]] = hash[1];\r\n        }\r\n        return vars;\r\n    }\r\n\r\n    return jQuery;\r\n\r\n});","Nwdthemes_Revslider/public/assets/js/source/tp-color-picker.js":"/**************************************************************************\r\n * tp-color-picker.js - Color Picker Plugin for Revolution Slider\r\n * @version: 1.0.4 (7.9.2017)\r\n * @author ThemePunch\r\n**************************************************************************/\r\n\r\n;window.RevColor = {\r\n\t\r\n\tdefaultValue: '#ffffff',\r\n\tisColor: /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,\r\n\t\r\n\tget: function(val) {\r\n\t\t\r\n\t\tif(!val) return 'transparent';\r\n\t\treturn RevColor.process(val, true)[0];\r\n\t\t\r\n\t},\r\n\t\r\n\tparse: function(val, prop, returnColorType) {\r\n\t\t\r\n\t\tval = RevColor.process(val, true);\r\n\t\tvar ar = [];\r\n\t\t\t\r\n\t\tif(!prop) ar[0] = val[0];\t\r\n\t\telse ar[0] = prop + ': ' + val[0] + ';';\r\n\t\t\t\r\n\t\tif(returnColorType) ar[1] = val[1];\r\n\t\treturn ar;\r\n\t\t\r\n\t},\r\n\t\r\n\tconvert: function(color, opacity) {\r\n\t\t\r\n\t\t// falsey or non-string\r\n\t\tif(!color || typeof color !== 'string') return RevColor.defaultValue;\r\n\t\t\r\n\t\t// transparent\r\n\t\tif(color === 'transparent') return color;\r\n\t\t\r\n\t\t// gradients\r\n\t\tif(color.search(/\\[\\{/) !== -1 || color.search('gradient') !== -1) return RevColor.process(color, true)[0];\r\n\t\t\r\n\t\t// if no opacity value exists\r\n\t\tif(typeof opacity === 'undefined' || isNaN(opacity)) return RevColor.process(color, true)[0];\r\n\t\t\r\n\t\t// convert opacity from float to int\r\n\t\topacity = parseFloat(opacity);\r\n\t\tif(opacity <= 1) opacity *= 100;\r\n\t\t\r\n\t\t// min/max opacity\r\n\t\topacity = Math.max(Math.min(parseInt(opacity, 10), 100), 0);\r\n\t\t\r\n\t\t// transparent for 0 opacity\r\n\t\tif(opacity === 0) return 'transparent';\r\n\t\t\r\n\t\ttry {\r\n\t\t\r\n\t\t\tif(color.search('#') !== -1 || color.length < 8) {\r\n\t\t\t\t\r\n\t\t\t\tif(!RevColor.isColor.test(color)) color = color.replace(/[^A-Za-z0-9#]/g, '');\r\n\t\t\t\treturn RevColor.processRgba(RevColor.sanitizeHex(color), opacity);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tcolor = RevColor.rgbValues(color, 3);\r\n\t\t\t\treturn RevColor.rgbaString(color[0], color[1], color[2], opacity * 0.01);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch(e) {\r\n\t\t\t\r\n\t\t\treturn RevColor.defaultValue;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t},\r\n\t\r\n\tprocess: function(clr, processColor) {\r\n\t\t\r\n\t\tif(typeof clr !== 'string') {\r\n\t\t\t\r\n\t\t\tif(processColor) clr = RevColor.sanitizeGradient(clr);\r\n\t\t\treturn [RevColor.processGradient(clr), 'gradient', clr];\r\n\t\t\t\r\n\t\t}\r\n\t\telse if(clr.trim() === 'transparent') {\r\n\t\t\t\r\n\t\t\treturn ['transparent', 'transparent'];\r\n\t\t\t\r\n\t\t}\r\n\t\telse if(clr.search(/\\[\\{/) !== -1) {\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\t\r\n\t\t\t\tclr = JSON.parse(clr.replace(/\\&/g, '\"'));\r\n\t\t\t\tif(processColor) clr = RevColor.sanitizeGradient(clr); \r\n\t\t\t\treturn [RevColor.processGradient(clr), 'gradient', clr];\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch(e) {\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('RevColor.process() failed to parse JSON string');\r\n\t\t\t\treturn [\r\n\t\t\t\t\r\n\t\t\t\t\t'linear-gradient(0deg, rgba(255, 255, 255, 1) 0%, rgba(0, 0, 0, 1) 100%)', \r\n\t\t\t\t\t'gradient', {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t'type': 'linear', \r\n\t\t\t\t\t\t'angle': '0', \r\n\t\t\t\t\t\t'colors': [\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t{'r': '255', 'g': '255', 'b': '255', 'a': '1', 'position': '0', 'align': 'bottom'}, \r\n\t\t\t\t\t\t\t{'r': '0', 'g': '0', 'b': '0', 'a': '1', 'position': '100', 'align': 'bottom'}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\telse if(clr.search('#') !== -1) {\r\n\t\t\t\r\n\t\t\treturn [RevColor.sanitizeHex(clr), 'hex'];\r\n\t\t\t\r\n\t\t}\r\n\t\telse if(clr.search('rgba') !== -1) {\r\n\t\t\t\r\n\t\t\treturn [clr.replace(/\\s/g, '').replace(/false/g, '1'), 'rgba'];\r\n\t\t\t\r\n\t\t}\r\n\t\telse if(clr.search('rgb') !== -1) {\r\n\t\t\t\r\n\t\t\treturn [clr.replace(/\\s/g, ''), 'rgb'];\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\treturn RevColor.isColor.test(clr) ? [clr, 'hex'] : ['transparent', 'transparent', true];\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t},\r\n\t\r\n\ttransparentRgba: function(val, processed) {\r\n\t\t\r\n\t\tif(!processed) {\r\n\t\t\r\n\t\t\tvar tpe = RevColor.process(val)[1];\r\n\t\t\tif(tpe !== 'rgba') return false;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn RevColor.rgbValues(val, 4)[3] === '0';\r\n\t\t\r\n\t},\r\n\t\r\n\trgbValues: function(values, num) {\r\n\t\t\r\n\t\tvalues = values.substring(values.indexOf('(') + 1, values.lastIndexOf(')')).split(',');\r\n\t\tif(values.length === 3 && num === 4) values[3] = '1';\r\n\t\t\r\n\t\tfor(var i = 0; i < num; i++) values[i] = values[i].trim();\r\n\t\treturn values;\r\n\t\t\r\n\t},\r\n\t\r\n\trgbaString: function(r, g, b, a) {\r\n\t\t\r\n\t\treturn 'rgba(' + r + ', ' + g + ', ' + b + ', ' + a + ')';\r\n\t\t\r\n\t},\r\n\t\r\n\trgbToHex: function(clr) {\r\n\t\t\r\n\t\tvar values = RevColor.rgbValues(clr, 3);\r\n\t\treturn RevColor.getRgbToHex(values[0], values[1], values[2]);\r\n\t\t\r\n\t},\r\n\t\r\n\trgbaToHex: function(clr) {\r\n\t\t\r\n\t\tvar values = RevColor.rgbValues(clr, 4);\r\n\t\treturn [RevColor.getRgbToHex(values[0], values[1], values[2]), values[3]];\r\n\t\t\r\n\t},\r\n\t\r\n\tgetOpacity: function(val) {\r\n\t\t\r\n\t\treturn parseInt(RevColor.rgbValues(val, 4)[3] * 100, 10) + '%';\r\n\t\t\r\n\t},\r\n\t\r\n\tgetRgbToHex: function(r, g, b) {\r\n\t\t\r\n\t\treturn '#' + (\"0\" + parseInt(r).toString(16)).slice(-2) + \r\n\t\t\t\t\t (\"0\" + parseInt(g).toString(16)).slice(-2) + \r\n\t\t\t\t\t (\"0\" + parseInt(b).toString(16)).slice(-2);\r\n\t\t\r\n\t},\r\n\t\r\n\tjoinToRgba:function(val) {\r\n\t\t\r\n\t\tval = val.split('||');\r\n\t\treturn RevColor.convert(val[0], val[1]);\r\n\t\t\r\n\t},\r\n\t\r\n\tprocessRgba: function(hex, opacity) {\r\n\t\t\r\n\t\thex = hex.replace('#', '');\r\n\t\t\r\n\t\tvar hasOpacity = typeof opacity !== 'undefined',\r\n\t\trgb = hasOpacity ? 'rgba' : 'rgb',\r\n\t\tcolor = rgb + '(' + \r\n\t\t\t\t\tparseInt(hex.substring(0, 2), 16) + ', ' + \r\n\t\t\t\t\tparseInt(hex.substring(2, 4), 16) + ', ' + \r\n\t\t\t\t\tparseInt(hex.substring(4, 6), 16);\r\n\t\t\r\n\t\tif(hasOpacity) color +=  ', ' + (parseInt(opacity, 10) * 0.01).toFixed(2).replace(/\\.?0*$/, '') + ')';\r\n\t\telse color +=  ')';\r\n\t\t\r\n\t\treturn color;\r\n\t\t\r\n\t},\r\n\t\r\n\tprocessGradient: function(obj) {\r\n\r\n\t\tvar tpe = obj.type,\r\n\t\t\tbegin = tpe + '-gradient(',\r\n\t\t\tmiddle = tpe === 'linear' ? obj.angle + 'deg, ' : 'ellipse at center, ',\r\n\t\t\tcolors = obj.colors,\r\n\t\t\tlen = colors.length,\r\n\t\t\tend = '',\r\n\t\t\tclr;\r\n\t\t\r\n\t\tfor(var i = 0; i < len; i++) {\r\n\t\t\t\r\n\t\t\tif(i > 0) end += ', ';\r\n\t\t\tclr = colors[i];\r\n\t\t\tend += 'rgba(' + clr.r + ', ' + clr.g + ', ' + clr.b + ', ' + clr.a + ') ' + clr.position + '%';\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn begin + middle + end + ')';\r\n\t\t\r\n\t},\r\n\t\r\n\tsanitizeHex: function(hex) {\r\n\t\r\n\t\thex = hex.replace('#', '').trim();\r\n\t\tif(hex.length === 3) {\r\n\t\t\t\r\n\t\t\tvar a = hex.charAt(0),\r\n\t\t\t\tb = hex.charAt(1),\r\n\t\t\t\tc = hex.charAt(2);\r\n\t\t\t\t\r\n\t\t\thex = a + a + b + b + c + c;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn '#' + hex;\r\n\t\t\r\n\t},\r\n\t\r\n\tsanitizeGradient: function(obj) {\r\n\r\n\t\tvar colors = obj.colors,\r\n\t\t\tlen = colors.length,\r\n\t\t\tar = [],\r\n\t\t\tprev;\r\n\t\t\t\r\n\r\n\t\tfor(var i = 0; i < len; i++) {\r\n\t\t\t\r\n\t\t\tvar cur = colors[i];\r\n\t\t\tdelete cur.align;\r\n\t\t\t\r\n\t\t\tif(prev) {\r\n\t\t\t\t\r\n\t\t\t\tif(JSON.stringify(cur) !== JSON.stringify(prev)) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tar[ar.length] = cur;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tar[ar.length] = cur;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tprev = cur;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tobj.colors = ar;\r\n\t\treturn obj;\r\n\t\t\r\n\t}\r\n\t\r\n};\r\n\r\n(function($) {\r\n\t\r\n\tvar doc,\r\n\t\tangle,\r\n\t\tinited,\r\n\t\tbodies,\r\n\t\tisFull,\r\n\t\tpoints,\r\n\t\tradial,\r\n\t\thitTop,\r\n\t\tonEdit,\r\n\t\tonInit,\r\n\t\tonAjax,\r\n\t\tcPicker,\r\n\t\tprepped,\r\n\t\treverse,\r\n\t\tgradBtn,\r\n\t\tgradHex,\r\n\t\tdefMode,\r\n\t\tinFocus,\r\n\t\tdefEdit,\r\n\t\tdefAjax,\r\n\t\tcolorBox,\r\n\t\tcolorBtn,\r\n\t\tcolorHex,\r\n\t\tcolorLoc,\r\n\t\tgradIris,\r\n\t\tblankRow,\r\n\t\tcurPoint,\r\n\t\tappended,\r\n\t\tgradCore,\r\n\t\tonCancel,\r\n\t\tdefCancel,\r\n\t\tdefChange,\r\n\t\tdragPoint,\r\n\t\ttopPoints,\r\n\t\tbotPoints,\r\n\t\thitBottom,\r\n\t\ttextareas,\r\n\t\tcurSquare,\r\n\t\tcurCorner,\r\n\t\tcolorIris,\r\n\t\tlangColor,\r\n\t\tgradInput,\r\n\t\tonReverse,\r\n\t\twheelDown,\r\n\t\teditTitle,\r\n\t\tcolorView,\r\n\t\tangleWheel,\r\n\t\twheelPoint,\r\n\t\tgradOutput,\r\n\t\tcolorClear,\r\n\t\tdirections,\r\n\t\tpointIndex,\r\n\t\topacityLoc,\r\n\t\tgradViewed,\r\n\t\twheelActive,\r\n\t\tgradOpacity,\r\n\t\tgroupPoints,\r\n\t\tpointerWrap,\r\n\t\tgradSection,\r\n\t\tcolorDelete,\r\n\t\tcurLanguage,\r\n\t\tcustomAdded,\r\n\t\tdefWidgetId,\r\n\t\tselectedHex,\r\n\t\tcurrentInput,\r\n\t\tpresetGroups,\r\n\t\tcolorSection,\r\n\t\tcolorOpacity,\r\n\t\topeningValue,\r\n\t\topeningColor,\r\n\t\tappendedHTML,\r\n\t\tcurrentColor,\r\n\t\tsupressColor,\r\n\t\tsupressWheel,\r\n\t\tsupressCheck,\r\n\t\tgradientsOpen,\r\n\t\tisTransparent,\r\n\t\tmainContainer,\r\n\t\topacityDelete,\r\n\t\tselectedColor,\r\n\t\topacitySlider,\r\n\t\tsupressOpacity,\r\n\t\tcurrentEditing,\r\n\t\tdefaultClasses,\r\n\t\tchangeCallback,\r\n\t\tgradientPreview = {};\r\n\t\t\r\n\tvar hitWidth = 265,\r\n\t\tmaxPoints = 20,\r\n\t\tcenterWheel = 30,\r\n\t\tminGradRows = 6,\r\n\t\tminColorRows = 5,\r\n\t\tpresetColumns = 6,\r\n\t\tdeleteBuffer = 10,\r\n\t\twarningBuffer = 15,\r\n\t\tsliderHeight = 180,\r\n\t\tdragObj = {axis: \"x\", containment: \"#rev-cpicker-point-wrap\"};\r\n\t\t\r\n\tvar lang = {\r\n\t\t\r\n\t\t'color': 'Color',\r\n\t\t'solid_color': 'Solid Color',\r\n\t\t'gradient_color': 'Gradient Color',\r\n\t\t'currently_editing': 'Currently Editing',\r\n\t\t'core_presets': 'Core Presets',\r\n\t\t'custom_presets': 'Custom Presets',\r\n\t\t'enter_a_name': 'Enter a Name',\r\n\t\t'save_a_new_preset': 'Save a new Preset',\r\n\t\t'save': 'Save',\r\n\t\t'color_hex_value': 'Color Hex Value',\r\n\t\t'opacity': 'Opacity',\r\n\t\t'clear': 'Clear',\r\n\t\t'location': 'Location',\r\n\t\t'delete': 'Delete',\r\n\t\t'horizontal': 'Horizontal',\r\n\t\t'vertical': 'Vertical',\r\n\t\t'radial': 'Radial',\r\n\t\t'enter_angle': 'Enter Angle',\r\n\t\t'reverse_gradient': 'Reverse Gradient',\r\n\t\t'delete_confirm': 'Remove/Delete this custom preset color?',\r\n\t\t'naming_error': 'Please enter a unique name for the new color preset'\r\n\t\t\r\n\t};\r\n\t\r\n\tvar defColors = [\r\n\t\r\n\t\t'#FFFFFF', \r\n\t\t'#000000', \r\n\t\t'#FF3A2D', \r\n\t\t'#007AFF', \r\n\t\t'#4CD964', \r\n\t\t'#FFCC00', \r\n\t\t'#C7C7CC', \r\n\t\t'#8E8E93', \r\n\t\t'#FFD3E0', \r\n\t\t'#34AADC', \r\n\t\t'#E0F8D8', \r\n\t\t'#FF9500'\r\n\t\t\r\n\t];\r\n\t\r\n\tvar defGradients = [\r\n\t\t\t\t\r\n\t\t{'0': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:247,&g&:247,&b&:247,&a&:&1&,&position&:0,&align&:&top&},{&r&:247,&g&:247,&b&:247,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:215,&g&:215,&b&:215,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:215,&g&:215,&b&:215,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'1': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:74,&g&:74,&b&:74,&a&:&1&,&position&:0,&align&:&top&},{&r&:74,&g&:74,&b&:74,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:43,&g&:43,&b&:43,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:43,&g&:43,&b&:43,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'2': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:219,&g&:221,&b&:222,&a&:&1&,&position&:0,&align&:&top&},{&r&:219,&g&:221,&b&:222,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:137,&g&:140,&b&:144,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:137,&g&:140,&b&:144,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'3': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:26,&g&:214,&b&:253,&a&:&1&,&position&:0,&align&:&top&},{&r&:26,&g&:214,&b&:253,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:29,&g&:98,&b&:240,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:29,&g&:98,&b&:240,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'4': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:198,&g&:68,&b&:252,&a&:&1&,&position&:0,&align&:&top&},{&r&:198,&g&:68,&b&:252,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:88,&g&:86,&b&:214,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:88,&g&:86,&b&:214,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'5': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:255,&g&:94,&b&:58,&a&:&1&,&position&:0,&align&:&top&},{&r&:255,&g&:94,&b&:58,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:255,&g&:42,&b&:104,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:42,&b&:104,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'6': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:228,&g&:221,&b&:202,&a&:&1&,&position&:0,&align&:&top&},{&r&:228,&g&:221,&b&:202,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:214,&g&:206,&b&:195,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:214,&g&:206,&b&:195,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'7': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:255,&g&:219,&b&:76,&a&:&1&,&position&:0,&align&:&top&},{&r&:255,&g&:219,&b&:76,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:255,&g&:205,&b&:2,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:205,&b&:2,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'8': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:255,&g&:149,&b&:0,&a&:&1&,&position&:0,&align&:&top&},{&r&:255,&g&:149,&b&:0,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:255,&g&:94,&b&:58,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:94,&b&:58,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'9': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:82,&g&:237,&b&:199,&a&:&1&,&position&:0,&align&:&top&},{&r&:82,&g&:237,&b&:199,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:90,&g&:200,&b&:251,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:90,&g&:200,&b&:251,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'10': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:228,&g&:183,&b&:240,&a&:&1&,&position&:0,&align&:&top&},{&r&:228,&g&:183,&b&:240,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:200,&g&:110,&b&:223,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:200,&g&:110,&b&:223,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'11': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:135,&g&:252,&b&:112,&a&:&1&,&position&:0,&align&:&top&},{&r&:135,&g&:252,&b&:112,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:11,&g&:211,&b&:24,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:11,&g&:211,&b&:24,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'12': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:61,&g&:78,&b&:129,&a&:&1&,&position&:0,&align&:&top&},{&r&:61,&g&:78,&b&:129,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:87,&g&:83,&b&:201,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:110,&g&:127,&b&:243,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:110,&g&:127,&b&:243,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'13': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:35,&g&:21,&b&:87,&a&:&1&,&position&:0,&align&:&top&},{&r&:35,&g&:21,&b&:87,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:68,&g&:16,&b&:122,&a&:&1&,&position&:29,&align&:&bottom&},{&r&:255,&g&:19,&b&:97,&a&:&1&,&position&:67,&align&:&bottom&},{&r&:255,&g&:248,&b&:0,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:248,&b&:0,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'14': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:105,&g&:234,&b&:203,&a&:&1&,&position&:0,&align&:&top&},{&r&:105,&g&:234,&b&:203,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:234,&g&:204,&b&:248,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:102,&g&:84,&b&:241,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:102,&g&:84,&b&:241,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'15': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:255,&g&:5,&b&:124,&a&:&1&,&position&:0,&align&:&top&},{&r&:255,&g&:5,&b&:124,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:124,&g&:100,&b&:213,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:76,&g&:195,&b&:255,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:76,&g&:195,&b&:255,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'16': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:255,&g&:5,&b&:124,&a&:&1&,&position&:0,&align&:&top&},{&r&:255,&g&:5,&b&:124,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:141,&g&:11,&b&:147,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:50,&g&:21,&b&:117,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:50,&g&:21,&b&:117,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'17': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:164,&g&:69,&b&:178,&a&:&1&,&position&:0,&align&:&top&},{&r&:164,&g&:69,&b&:178,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:212,&g&:24,&b&:114,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:255,&g&:0,&b&:102,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:0,&b&:102,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'18': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:158,&g&:251,&b&:211,&a&:&1&,&position&:0,&align&:&top&},{&r&:158,&g&:251,&b&:211,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:87,&g&:233,&b&:242,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:69,&g&:212,&b&:251,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:69,&g&:212,&b&:251,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'19': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:172,&g&:50,&b&:228,&a&:&1&,&position&:0,&align&:&top&},{&r&:172,&g&:50,&b&:228,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:121,&g&:24,&b&:242,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:72,&g&:1,&b&:255,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:72,&g&:1,&b&:255,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'20': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:112,&g&:133,&b&:182,&a&:&1&,&position&:0,&align&:&top&},{&r&:112,&g&:133,&b&:182,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:135,&g&:167,&b&:217,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:222,&g&:243,&b&:248,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:222,&g&:243,&b&:248,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'21': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:34,&g&:225,&b&:255,&a&:&1&,&position&:0,&align&:&top&},{&r&:34,&g&:225,&b&:255,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:29,&g&:143,&b&:225,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:98,&g&:94,&b&:177,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:98,&g&:94,&b&:177,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'22': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:44,&g&:216,&b&:213,&a&:&1&,&position&:0,&align&:&top&},{&r&:44,&g&:216,&b&:213,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:107,&g&:141,&b&:214,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:142,&g&:55,&b&:215,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:142,&g&:55,&b&:215,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'23': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:44,&g&:216,&b&:213,&a&:&1&,&position&:0,&align&:&top&},{&r&:44,&g&:216,&b&:213,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:197,&g&:193,&b&:255,&a&:&1&,&position&:56,&align&:&bottom&},{&r&:255,&g&:186,&b&:195,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:186,&b&:195,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'24': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:191,&g&:217,&b&:254,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:191,&g&:217,&b&:254,&a&:&1&,&position&:0,&align&:&top&},{&r&:223,&g&:137,&b&:181,&a&:&1&,&position&:100,&align&:&top&},{&r&:223,&g&:137,&b&:181,&a&:&1&,&position&:100,&align&:&bottom&}]}'},\r\n\t\t{'25': '{&type&:&linear&,&angle&:&340&,&colors&:[{&r&:97,&g&:97,&b&:97,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:97,&g&:97,&b&:97,&a&:&1&,&position&:0,&align&:&top&},{&r&:155,&g&:197,&b&:195,&a&:&1&,&position&:100,&align&:&top&},{&r&:155,&g&:197,&b&:195,&a&:&1&,&position&:100,&align&:&bottom&}]}'},\r\n\t\t{'26': '{&type&:&linear&,&angle&:&90&,&colors&:[{&r&:36,&g&:57,&b&:73,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:36,&g&:57,&b&:73,&a&:&1&,&position&:0,&align&:&top&},{&r&:81,&g&:127,&b&:164,&a&:&1&,&position&:100,&align&:&top&},{&r&:81,&g&:127,&b&:164,&a&:&1&,&position&:100,&align&:&bottom&}]}'},\r\n\t\t{'27': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:234,&g&:205,&b&:163,&a&:&1&,&position&:0,&align&:&top&},{&r&:234,&g&:205,&b&:163,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:230,&g&:185,&b&:128,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:230,&g&:185,&b&:128,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'28': '{&type&:&linear&,&angle&:&45&,&colors&:[{&r&:238,&g&:156,&b&:167,&a&:&1&,&position&:0,&align&:&top&},{&r&:238,&g&:156,&b&:167,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:255,&g&:221,&b&:225,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:221,&b&:225,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'29': '{&type&:&linear&,&angle&:&340&,&colors&:[{&r&:247,&g&:148,&b&:164,&a&:&1&,&position&:0,&align&:&top&},{&r&:247,&g&:148,&b&:164,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:253,&g&:214,&b&:189,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:253,&g&:214,&b&:189,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'30': '{&type&:&linear&,&angle&:&45&,&colors&:[{&r&:135,&g&:77,&b&:162,&a&:&1&,&position&:0,&align&:&top&},{&r&:135,&g&:77,&b&:162,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:196,&g&:58,&b&:48,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:196,&g&:58,&b&:48,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'31': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:243,&g&:231,&b&:233,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:243,&g&:231,&b&:233,&a&:&1&,&position&:0,&align&:&top&},{&r&:218,&g&:212,&b&:236,&a&:&1&,&position&:100,&align&:&top&},{&r&:218,&g&:212,&b&:236,&a&:&1&,&position&:100,&align&:&bottom&}]}'},\r\n\t\t{'32': '{&type&:&linear&,&angle&:&320&,&colors&:[{&r&:43,&g&:88,&b&:118,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:43,&g&:88,&b&:118,&a&:&1&,&position&:0,&align&:&top&},{&r&:78,&g&:67,&b&:118,&a&:&1&,&position&:100,&align&:&top&},{&r&:78,&g&:67,&b&:118,&a&:&1&,&position&:100,&align&:&bottom&}]}'},\r\n\t\t{'33': '{&type&:&linear&,&angle&:&60&,&colors&:[{&r&:41,&g&:50,&b&:60,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:41,&g&:50,&b&:60,&a&:&1&,&position&:0,&align&:&top&},{&r&:72,&g&:85,&b&:99,&a&:&1&,&position&:100,&align&:&top&},{&r&:72,&g&:85,&b&:99,&a&:&1&,&position&:100,&align&:&bottom&}]}'},\r\n\t\t{'34': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:233,&g&:233,&b&:231,&a&:&1&,&position&:0,&align&:&top&},{&r&:233,&g&:233,&b&:231,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:239,&g&:238,&b&:236,&a&:&1&,&position&:25,&align&:&bottom&},{&r&:238,&g&:238,&b&:238,&a&:&1&,&position&:70,&align&:&bottom&},{&r&:213,&g&:212,&b&:208,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:213,&g&:212,&b&:208,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'35': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:251,&g&:200,&b&:212,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:251,&g&:200,&b&:212,&a&:&1&,&position&:0,&align&:&top&},{&r&:151,&g&:149,&b&:240,&a&:&1&,&position&:100,&align&:&top&},{&r&:151,&g&:149,&b&:240,&a&:&1&,&position&:100,&align&:&bottom&}]}'}\r\n\t\r\n\t];\r\n\t\r\n\tvar markup = \r\n\t\r\n\t'<div id=\"rev-cpicker-back\" class=\"rev-cpicker-close\"></div>' + \r\n\t\r\n\t'<div id=\"rev-cpicker\">' + \r\n\t\t\r\n\t\t'<div id=\"rev-cpicker-head\">' + \r\n\t\t\t\r\n\t\t\t'<div id=\"rev-cpicker-drag\" class=\"rev-cpicker-draggable\"></div>' + \r\n\t\t\t'<span id=\"rev-cpicker-color-btn\" class=\"rev-cpicker-main-btn\" data-text=\"solid_color\"></span>' + \r\n\t\t\t'<span id=\"rev-cpicker-gradient-btn\" class=\"rev-cpicker-main-btn\" data-text=\"gradient_color\"></span>' + \r\n\t\t\t\r\n\t\t\t'<div id=\"rev-cpicker-editing\" class=\"rev-cpicker-draggable\">' + \r\n\t\t\t\t'<span id=\"rev-cpicker-edit-title\" data-text=\"currently_editing\"></span>' + \r\n\t\t\t\t'<span id=\"rev-cpicker-current-edit\"></span>' + \r\n\t\t\t'</div>' + \r\n\t\t\t\r\n\t\t\t'<span id=\"rev-cpicker-exit\" class=\"rev-cpicker-close\"></span>' + \r\n\t\t\r\n\t\t'</div>' + \r\n\t\t\r\n\t\t'<div id=\"rev-cpicker-section-left\" class=\"rev-cpicker-section\">' + \r\n\t\t\t\r\n\t\t\t'<div id=\"rev-cpicker-body\">' + \r\n\t\t\t\r\n\t\t\t\t'<div id=\"rev-cpicker-colors\" class=\"rev-cpicker-type\">' + \r\n\t\t\t\t\t\r\n\t\t\t\t\t'<div class=\"rev-cpicker-column rev-cpicker-column-left\">\t' + \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t'<div class=\"rev-cpicker-column-inner-left\">' + \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'<div class=\"rev-cpicker-presets\">' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<span id=\"rev-cpicker-colors-core-btn\" class=\"rev-cpicker-preset-title rev-cpicker-preset-title-core selected\">' + \r\n\t\t\t\t\t\t\t\t\t'<span data-text=\"core_presets\"></span> ' + \r\n\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-arrow rev-cpicker-arrow-down\"></span>' + \r\n\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-arrow rev-cpicker-arrow-up\"></span>' + \r\n\t\t\t\t\t\t\t\t'</span>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<span id=\"rev-cpicker-colors-custom-btn\" class=\"rev-cpicker-preset-title rev-cpicker-preset-title-custom\">' + \r\n\t\t\t\t\t\t\t\t\t'<span data-text=\"custom_presets\"></span> ' + \r\n\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-arrow rev-cpicker-arrow-down\"></span>' + \r\n\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-arrow rev-cpicker-arrow-up\"></span>' + \r\n\t\t\t\t\t\t\t\t'</span>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-colors-core\" class=\"rev-cpicker-presets-group\"></div>' + \r\n\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-colors-custom\" class=\"rev-cpicker-presets-group rev-cpicker-presets-custom\"></div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'<div class=\"rev-cpicker-iris\">' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<input id=\"rev-cpicker-iris-color\" class=\"rev-cpicker-iris-input\" value=\"#ffffff\" />' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-scroller\" class=\"iris-slider iris-strip\">' +\r\n\t\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-scroll-bg\"></div>' + \r\n\t\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-scroll\" class=\"iris-slider-offset\"></div>' +\r\n\t\t\t\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\r\n\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\r\n\t\t\t\t\t'<div class=\"rev-cpicker-column rev-cpicker-column-right\">' + \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t'<div class=\"rev-cpicker-column-inner-right\">' + \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'<div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<span data-text=\"save_a_new_preset\"></span>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<div class=\"rev-cpicker-presets-save-as\">' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'<input type=\"text\" class=\"rev-cpicker-preset-save\" placeholder=\"\" data-placeholder=\"enter_a_name\" />' + \r\n\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-btn rev-cpicker-save-preset-btn\" data-alert=\"naming_error\">' + \r\n\t\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-save-icon\"></span>' + \r\n\t\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-preset-save-text\" data-text=\"save\"></span>' + \r\n\t\t\t\t\t\t\t\t\t'</span>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'<div class=\"rev-cpicker-meta\">' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<span data-text=\"color_hex_value\"></span>' + \r\n\t\t\t\t\t\t\t\t'<br>' + \r\n\t\t\t\t\t\t\t\t'<input type=\"text\" id=\"rev-cpicker-color-hex\" class=\"rev-cpicker-input rev-cpicker-hex\" value=\"#ffffff\" />' + \r\n\t\t\t\t\t\t\t\t'<br>' + \r\n\t\t\t\t\t\t\t\t'<span data-text=\"opacity\" class=\"rev-cpicker-hideable\"></span>' +\r\n\t\t\t\t\t\t\t\t'<br>' + \r\n\t\t\t\t\t\t\t\t'<input type=\"text\" id=\"rev-cpicker-color-opacity\" class=\"rev-cpicker-input rev-cpicker-opacity-input rev-cpicker-hideable\" value=\"100%\" />' + \r\n\t\t\t\t\t\t\t\t'<span id=\"rev-cpciker-clear-hex\" class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpciker-clear rev-cpicker-hideable\" data-text=\"clear\"></span>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\r\n\t\t\t\t\t'</div>' + \r\n\r\n\t\t\t\t'</div>' + \r\n\t\t\t\t\r\n\t\t\t\t'<div id=\"rev-cpicker-gradients\" class=\"rev-cpicker-type\">' + \r\n\t\t\t\t\r\n\t\t\t\t\t'<div class=\"rev-cpicker-column rev-cpicker-column-left\">\t' + \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t'<div class=\"rev-cpicker-column-inner-left\">' + \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'<div class=\"rev-cpicker-presets\">' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<span id=\"rev-cpicker-gradients-core-btn\" class=\"rev-cpicker-preset-title rev-cpicker-preset-title-core selected\">' + \r\n\t\t\t\t\t\t\t\t\t'<span data-text=\"core_presets\"></span> ' + \r\n\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-arrow rev-cpicker-arrow-down\"></span>' + \r\n\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-arrow rev-cpicker-arrow-up\"></span>' + \r\n\t\t\t\t\t\t\t\t'</span>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<span id=\"rev-cpicker-gradients-custom-btn\" class=\"rev-cpicker-preset-title rev-cpicker-preset-title-custom\">' + \r\n\t\t\t\t\t\t\t\t\t'<span data-text=\"custom_presets\"></span> ' + \r\n\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-arrow rev-cpicker-arrow-down\"></span>' + \r\n\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-arrow rev-cpicker-arrow-up\"></span>' + \r\n\t\t\t\t\t\t\t\t'</span>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-gradients-core\" class=\"rev-cpicker-presets-group\"></div>' + \r\n\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-gradients-custom\" class=\"rev-cpicker-presets-group rev-cpicker-presets-custom\"></div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'<div class=\"rev-cpicker-gradient-block\">' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-gradient-input\" class=\"rev-cpicker-gradient-builder\">' + \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'<span id=\"rev-cpicker-hit-top\" class=\"rev-cpicker-builder-hit\"></span>' +  \r\n\t\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-point-wrap\">' + \r\n\t\t\t\t\t\t\t\t\t\t'<div id=\"rev-cpciker-point-container\"></div>' + \r\n\t\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\t'<span id=\"rev-cpicker-hit-bottom\" class=\"rev-cpicker-builder-hit\"></span>' +  \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<div class=\"rev-cpicker-meta-row-wrap\">' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'<div class=\"rev-cpicker-meta-row\">' + \r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t'<div><label data-text=\"opacity\"></label><input type=\"text\" id=\"rev-cpicker-grad-opacity\" class=\"rev-cpicker-point-input rev-cpicker-opacity-input\" value=\"100%\" disabled /></div>' + \r\n\t\t\t\t\t\t\t\t\t\t'<div><label data-text=\"location\"></label><input type=\"text\" id=\"rev-cpicker-opacity-location\" class=\"rev-cpicker-point-input rev-cpicker-point-location\" value=\"100%\" disabled /></div>' + \r\n\t\t\t\t\t\t\t\t\t\t'<div><label>&nbsp;</label><span class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpicker-point-delete\" id=\"rev-cpicker-opacity-delete\" data-text=\"delete\">{{delete}}</span></div>' + \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'<div class=\"rev-cpicker-meta-row\">' + \r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t'<div><label data-text=\"color\"></label><span class=\"rev-cpicker-point-input\" id=\"rev-cpicker-color-box\"></span></div>' + \r\n\t\t\t\t\t\t\t\t\t\t'<div><label data-text=\"location\"></label><input type=\"text\" id=\"rev-cpicker-color-location\" class=\"rev-cpicker-point-input rev-cpicker-point-location\" value=\"100%\" disabled /></div>' + \r\n\t\t\t\t\t\t\t\t\t\t'<div><label>&nbsp;</label><span class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpicker-point-input rev-cpicker-point-delete\" id=\"rev-cpicker-color-delete\" data-text=\"delete\">{{delete}}</span></div>' + \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\r\n\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\r\n\t\t\t\t\t'<div class=\"rev-cpicker-column rev-cpicker-column-right\">' + \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t'<div class=\"rev-cpicker-column-inner-right\">' + \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'<div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<span data-text=\"save_a_new_preset\"></span>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<div class=\"rev-cpicker-presets-save-as\">' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'<input type=\"text\" class=\"rev-cpicker-preset-save\" placeholder=\"\" data-placeholder=\"enter_a_name\" />' + \r\n\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-btn rev-cpicker-save-preset-btn\" data-alert=\"naming_error\">' + \r\n\t\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-save-icon\"></span>' + \r\n\t\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-preset-save-text\" data-text=\"save\"></span>' + \r\n\t\t\t\t\t\t\t\t\t'</span>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'<div class=\"rev-cpicker-gradient-block\">' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-gradient-output\" class=\"rev-cpicker-gradient-builder\"></div>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'<div class=\"rev-cpicker-meta-row-wrap\">' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'<div class=\"rev-cpicker-meta-row\">' + \r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t'<div><label>Orientation</label>' + \r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t'<span id=\"rev-cpicker-orientation-horizontal\" class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpicker-orientation\" data-direction=\"90\" data-text=\"horizontal\"></span>' + \r\n\t\t\t\t\t\t\t\t\t\t\t'<span id=\"rev-cpicker-orientation-vertical\" class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpicker-orientation\" data-direction=\"180\" data-text=\"vertical\"></span>' + \r\n\t\t\t\t\t\t\t\t\t\t\t'<span id=\"rev-cpicker-orientation-radial\" class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpicker-orientation\" data-direction=\"radial\" data-text=\"radial\"></span>' + \r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'<div class=\"rev-cpicker-meta-row rev-cpicker-meta-row-push\">' + \r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t'<div>' + \r\n\t\t\t\t\t\t\t\t\t\t\t'<label data-text=\"enter_angle\"></label>' + \r\n\t\t\t\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-angle-container\">' + \r\n\t\t\t\t\t\t\t\t\t\t\t\t'<input type=\"text\" class=\"rev-cpicker-input\" id=\"rev-cpicker-meta-angle\" value=\"\" />' + \r\n\t\t\t\t\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-wheel\">' + \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-wheel-inner\"><span id=\"rev-cpicker-wheel-point\"></span></div>' + \r\n\t\t\t\t\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\t\t'<div><label data-text=\"reverse_gradient\"></label><span id=\"rev-cpicker-meta-reverse\"></span></div>' + \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\r\n\t\t\t\t\t'</div>' + \r\n\t\t\t\t\r\n\t\t\t\t'</div>' + \r\n\t\t\t\r\n\t\t\t'</div>' + \r\n\t\t\r\n\t\t'</div>' + \r\n\t\t\r\n\t\t'<span id=\"rev-cpicker-check\"></span>' + \r\n\t\t\r\n\t\t'<div id=\"rev-cpicker-section-right\" class=\"rev-cpicker-section\">' + \r\n\t\t\r\n\t\t\t'<div class=\"rev-cpicker-iris\">' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t'<input id=\"rev-cpicker-iris-gradient\" class=\"rev-cpicker-iris-input\" value=\"#ffffff\" />' + \r\n\t\t\t\r\n\t\t\t'</div>' + \r\n\t\t\t\r\n\t\t\t'<div class=\"rev-cpicker-fields\">' + \r\n\t\t\t\r\n\t\t\t\t'<input type=\"text\" id=\"rev-cpicker-gradient-hex\" class=\"rev-cpicker-input rev-cpicker-hex\" value=\"#ffffff\" />' + \r\n\t\t\t\t'<span id=\"rev-cpciker-clear-gradient\" class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpciker-clear\" data-text=\"clear\"></span>' + \r\n\t\t\t\t'<span id=\"rev-cpicker-check-gradient\" class=\"rev-cpicker-btn\"></span>' + \r\n\t\t\t\t\r\n\t\t\t'</div>' + \r\n\t\t\r\n\t\t'</div>' + \r\n\t\t\r\n\t\t'<span id=\"rev-cpicker-remove-delete\" data-text=\"delete_confirm\"></span>' + \r\n\r\n\t'</div>';\r\n\t\r\n\tfunction changeDegree(grad, deg) {\r\n\t\t\r\n\t\tgrad = grad.split('(');\r\n\t\t\r\n\t\tvar begin = grad[0];\r\n\t\tgrad.shift();\r\n\t\t\r\n\t\tvar end = grad.join('(').split(',');\t\r\n\t\tend.shift();\r\n\t\t\r\n\t\tdeg = typeof deg !== 'undefined' ? deg + 'deg,' : 'ellipse at center,';\r\n\t\treturn begin + '(' + deg + end.join(',');\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction gradientView(val) {\r\n\r\n\t\treturn changeDegree(val.replace('radial-', 'linear-'), '90');\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction replaceText() {\r\n\t\t\r\n\t\tthis.innerHTML = curLanguage[getAttribute(this, 'data-text')];\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction replaceHolder() {\r\n\t\t\r\n\t\tthis.setAttribute('placeholder', curLanguage[getAttribute(this, 'data-placeholder')]);\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction replaceAlert() {\r\n\t\t\r\n\t\tthis.setAttribute('data-message', curLanguage[getAttribute(this, 'data-alert')]);\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction getAttribute(el, attr) {\r\n\t\t\r\n\t\treturn el.getAttribute(attr) || '';\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction writeLanguage(language) {\r\n\t\t\r\n\t\tif(!language) language = {};\r\n\t\tif(typeof language === 'string') language = JSON.parse(language.replace(/\\&/g, '\"'));\r\n\t\t\r\n\t\tcurLanguage = $.extend({}, lang, language);\r\n\t\tlangColor = curLanguage.color;\r\n\t\t\r\n\t\tcPicker.find('*[data-placeholder]').each(replaceHolder);\r\n\t\tcPicker.find('*[data-alert]').each(replaceAlert);\r\n\t\tcPicker.find('*[data-text]').each(replaceText);\r\n\t\t\t\r\n\t}\r\n\t\r\n\tfunction newPreset(val, core, cls, grad) {\r\n\t\t\r\n\t\tvar titl,\r\n\t\t\tobj,\r\n\t\t\tel;\r\n\t\t\r\n\t\tif(!$.isPlainObject(val)) {\r\n\t\t\t\r\n\t\t\ttitl = val;\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tvar angl,\r\n\t\t\t\ttpe;\r\n\t\t\t\r\n\t\t\tfor(var prop in val) {\r\n\t\t\t\t\r\n\t\t\t\tif(!val.hasOwnProperty(prop)) continue;\r\n\t\t\t\t\r\n\t\t\t\tval = val[prop];\r\n\t\t\t\tif(typeof val === 'string') {\r\n\t\t\t\t\t\r\n\t\t\t\t\tval = RevColor.process(val);\r\n\t\t\t\t\tif(val[1] === 'gradient') {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tobj = val[2];\r\n\t\t\t\t\t\tangl = obj.angle;\r\n\t\t\t\t\t\ttpe = obj.type;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tval = val[0];\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t\r\n\t\t\t\t\tangl = val.angle;\r\n\t\t\t\t\ttpe = val.type;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(!isNaN(prop)) {\r\n\t\t\t\t\t\r\n\t\t\t\t\ttitl = tpe !== 'radial' ? angl + '&deg;' : 'radial';\r\n\t\t\t\t\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t\telse {\r\n\t\t\t\t\t\r\n\t\t\t\t\ttitl = prop.replace(/_/g, ' ').replace(/\\b\\w/g, function(chr) {return chr.toUpperCase();});\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(val !== 'blank') {\r\n\t\t\t\r\n\t\t\tvar datas;\r\n\t\t\tif($.isPlainObject(val)) {\r\n\t\t\t\t\r\n\t\t\t\tobj = val;\r\n\t\t\t\tdatas = '';\r\n\t\t\t\tval = grad || RevColor.processGradient(val); \r\n\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar shell = '<span class=\"rev-cpicker-color tptip' + cls + '\" data-title=\"' + titl + '\" data-color=\"' + val + '\">' + \r\n\t\t\t\t\t    '<span class=\"rev-cpicker-preset-tile\"></span>' + \r\n\t\t\t\t\t    '<span class=\"rev-cpicker-preset-bg\" style=\"background: ' + val + '\"></span>';\r\n\t\t\t\r\n\t\t\tif(!core) shell += '<span class=\"rev-cpicker-delete\"><span class=\"rev-cpicker-delete-icon\"></span></span>';\r\n\t\t\tshell += '</span>';\r\n\t\t\t\r\n\t\t\tel = $(shell);\r\n\t\t\tif(obj) el.data('gradient', obj);\r\n\t\t\treturn el[0];\r\n\t\t\t\t   \r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tel = document.createElement('span');\r\n\t\t\tel.className = 'rev-cpicker-color blank';\r\n\t\t\treturn el;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction checkPreset() {\r\n\t\t\r\n\t\tvar presetColor = getAttribute(this, 'data-color').toLowerCase(),\r\n\t\ttoCheck = !supressCheck ? presetColor === openingColor.toLowerCase() : false;\r\n\t\t\r\n\t\tif(presetColor === selectedHex || toCheck) {\r\n\t\t\t\r\n\t\t\tvar $this = $(this);\r\n\t\t\t\r\n\t\t\t$this.closest('.rev-cpicker-presets-group').find('.rev-cpicker-color.selected').removeClass('selected');\r\n\t\t\tselectedColor = $this;\r\n\t\t\t\r\n\t\t\tif(supressCheck && !colorView) setValue(selectedColor.data('gradient'), true);\r\n\t\t\tselectedColor.addClass('selected');\r\n\r\n\t\t\treturn false;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction writePresets(container, colors) {\r\n\t\t\r\n\t\tvar frag = document.createDocumentFragment(),\r\n\t\t\tcore = container.search('core') !== -1,\r\n\t\t\tcls = core ? '' : ' rev-picker-color-custom',\r\n\t\t\tlen = colors.length,\r\n\t\t\tminRows = container.search('colors') !== -1 ? minColorRows : minGradRows,\r\n\t\t\trows = Math.max(Math.ceil(len / presetColumns), minRows);\r\n\t\t\r\n\t\tfor(var i = 0; i < rows; i++) {\r\n\t\t\r\n\t\t\twhile(colors.length < ((i + 1) * presetColumns)) colors[colors.length] = 'blank';\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\tlen = colors.length;\r\n\t\tfor(i = 0; i < len; i++) {\r\n\r\n\t\t\tfrag.appendChild(newPreset(colors[i], core, cls));\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn ['rev-cpicker-' + container, frag];\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction onChange(gradient, color, trans) {\r\n\t\t\r\n\t\tif(!currentColor) return;\r\n\t\tif(!gradient) {\r\n\t\t\t\t\r\n\t\t\tvar hex = color || colorHex.val(),\r\n\t\t\t\topacity = typeof trans !== 'undefined' ? trans : colorOpacity.val();\r\n\t\t\t\r\n\t\t\tif(hex === 'transparent') color = 'transparent';\r\n\t\t\telse if(opacity === '100%') color = RevColor.sanitizeHex(hex);\r\n\t\t\telse color = RevColor.processRgba(hex, opacity);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tvar isTrans = color === 'transparent',\r\n\t\t\tval = !isTrans ? color : '';\r\n\t\t\r\n\t\tif(!gradient) colorBtn.data('state', color);\r\n\t\telse gradBtn.data('state', color);\r\n\t\t\r\n\t\tif(!isTrans) currentColor[0].style.background = val;\r\n\t\telse currentColor.css('background', val);\r\n\t\t\r\n\t\tif(onEdit) onEdit(currentInput, color);\r\n\t\tdoc.trigger('revcolorpickerupdate', [currentInput, color]);\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction setValue(val, fromPreset) {\r\n\t\t\r\n\t\tvar obj = RevColor.process(val),\r\n\t\t\ttype = obj[1],\r\n\t\t\tclr = obj[0];\r\n\t\t\r\n\t\tif(isFull) reverse.removeClass('checked');\r\n\t\tif(type !== 'gradient') {\r\n\t\t\t\r\n\t\t\tswitch(type) {\r\n\t\t\t\t\r\n\t\t\t\tcase 'hex':\r\n\t\t\t\t\t\r\n\t\t\t\t\tval = RevColor.sanitizeHex(clr);\r\n\t\t\t\t\tcolorOpacity.val('100%');\r\n\t\t\t\t\tupdateSlider(100);\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase 'rgba': \r\n\t\t\t\t\t\r\n\t\t\t\t\tvar values = RevColor.rgbaToHex(clr),\r\n\t\t\t\t\topacity = parseInt(values[1] * 100, 10);\r\n\t\t\t\t\tval = values[0];\r\n\t\r\n\t\t\t\t\tcolorOpacity.val(opacity + '%');\r\n\t\t\t\t\tupdateSlider(opacity);\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase 'rgb':\r\n\t\t\t\t\t\r\n\t\t\t\t\tval = RevColor.rgbToHex(clr);\r\n\t\t\t\t\tcolorOpacity.val('100%');\r\n\t\t\t\t\tupdateSlider(100);\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tdefault:\r\n\t\t\t\t\r\n\t\t\t\t\tcolorClear.click();\r\n\t\t\t\t\tcolorBtn.click();\r\n\t\t\t\t\r\n\t\t\t\t// end default\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcolorIris.val(val).change();\r\n\t\t\tif(!fromPreset) colorBtn.click();\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tif(isFull) {\r\n\t\t\t\t\r\n\t\t\t\tbuildGradientInput(obj[2]);\r\n\t\t\t\tbuildGradientOutput();\r\n\t\t\t\t\r\n\t\t\t\tif(!fromPreset) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tgradViewed = true;\r\n\t\t\t\t\tgradBtn.click();\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tcolorIris.val(RevColor.defaultValue).change();\r\n\t\t\t\tcolorBtn.click();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn [clr, type];\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction getSibling(align, x) {\r\n\t\t\r\n\t\tvar locations = points.slice(),\r\n\t\t\tlen = locations.length,\r\n\t\t\tpnt;\r\n\t\t\t\r\n\t\tlocations.sort(sortPoints);\r\n\t\twhile(len--) {\r\n\t\t\t\r\n\t\t\tpnt = locations[len];\r\n\t\t\tif(pnt.align === align && pnt.x < x) return pnt;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tlen = locations.length;\r\n\t\tfor(var i = 0; i < len; i++) {\r\n\t\t\t\r\n\t\t\tpnt = locations[i];\r\n\t\t\tif(pnt.align === align && pnt.x > x) return pnt;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction clonePoint(align, pos) {\r\n\t\t\r\n\t\tvar sibling = getSibling(align, pos),\r\n\t\t\tclr = sibling.color,\r\n\t\t\tbg = getBgVal(clr, align, true),\r\n\t\t\trgb = getRgbVal(clr, true);\r\n\t\t\r\n\t\tvar pnt = newPoint(align, pos, rgb, bg);\r\n\t\tif(curPoint) curPoint.removeClass('active');\r\n\t\t\r\n\t\tcurPoint = $(pnt).addClass('active').appendTo(pointerWrap).draggable(dragObj);\r\n\t\tcurSquare = curPoint.children('.rev-cpicker-point-square')[0];\r\n\t\tcurCorner = curPoint.children('.rev-cpicker-point-triangle')[0];\r\n\t\tgroupPoints = pointerWrap.children();\r\n\t\t\r\n\t\tvar grad = activatePoint(pos);\r\n\t\tbuildGradientOutput(pnt);\r\n\t\t\r\n\t\tif(align === 'bottom') gradIris.val(grad[1]).change();\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction activatePoint(pointX) {\r\n\t\t\r\n\t\tif(typeof pointX === 'undefined') pointX = points[pointIndex].x;\r\n\t\t\r\n\t\tvar color = curPoint.attr('data-color'),\r\n\t\t\tbottom = curPoint.hasClass('rev-cpicker-point-bottom');\r\n\t\t\r\n\t\tif(bottom) {\r\n\t\t\t\t\r\n\t\t\tif(opacityDelete.hasClass('active')) {\r\n\t\t\t\t\r\n\t\t\t\tgradOpacity.attr('disabled', 'disabled');\r\n\t\t\t\topacityLoc.attr('disabled', 'disabled');\r\n\t\t\t\topacityDelete.removeClass('active');\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcolor = RevColor.rgbaToHex(color)[0];\r\n\t\t\tcolorBox.css('background', color);\r\n\t\t\tcolorLoc.removeAttr('disabled').val(pointX + '%');\r\n\t\t\t\r\n\t\t\tif(cPicker.find('.rev-cpicker-point-bottom').length > 2) {\t\r\n\t\t\t\tcolorDelete.addClass('active');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcPicker.addClass('open');\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tif(colorDelete.hasClass('active')) {\r\n\t\t\t\r\n\t\t\t\tcolorBox.css('background', '');\r\n\t\t\t\tcolorLoc.attr('disabled', 'disabled');\r\n\t\t\t\tcolorDelete.removeClass('active');\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar opacity = RevColor.getOpacity(color);\r\n\t\t\tgradOpacity.attr('data-opacity', opacity).val(opacity).removeAttr('disabled');\r\n\t\t\topacityLoc.val(pointX + '%').removeAttr('disabled');\r\n\t\t\t\r\n\t\t\tif(cPicker.find('.rev-cpicker-point-top').length > 2) {\t\r\n\t\t\t\topacityDelete.addClass('active');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcPicker.removeClass('open');\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn [bottom, color];\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction getBgVal(clr, align, cloned) {\r\n\t\t\r\n\t\tif(align === 'bottom') return 'rgb(' + clr.r + ',' + clr.g + ',' + clr.b + ')';\r\n\t\tvar opacity = !cloned ? clr.a : '1';\r\n\t\treturn 'rgba(0, 0, 0, ' + opacity + ')';\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction getRgbVal(clr, cloned) {\r\n\t\t\r\n\t\tvar opacity = !cloned ? clr.a : '1';\r\n\t\treturn 'rgba(' + clr.r + ',' + clr.g + ',' + clr.b + ',' + opacity + ')';\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction setPoints(colors) {\r\n\t\t\r\n\t\tvar frag = document.createDocumentFragment(),\r\n\t\t\tlen = colors.length,\r\n\t\t\talign,\r\n\t\t\tclr;\t\r\n\t\t\t\r\n\t\tfor(var i = 0; i < len; i++) {\r\n\t\t\t\r\n\t\t\tclr = colors[i];\r\n\t\t\talign = clr.align;\r\n\t\t\tfrag.appendChild(\r\n\t\t\t\r\n\t\t\t\tnewPoint(\r\n\t\t\t\t\r\n\t\t\t\t\talign, \r\n\t\t\t\t\tclr.position, \r\n\t\t\t\t\tgetRgbVal(clr), \r\n\t\t\t\t\tgetBgVal(clr, align)\r\n\t\t\t\t\t\r\n\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(groupPoints) groupPoints.draggable('destroy');\r\n\t\tpointerWrap.empty().append(frag);\r\n\t\tgroupPoints = pointerWrap.children().draggable(dragObj);\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction newPoint(align, pos, val, bg) {\r\n\t\t\r\n\t\tvar el = document.createElement('span');\r\n\t\tel.className = 'rev-cpicker-point rev-cpicker-point-' + align;\r\n\t\t\r\n\t\tif(typeof val === 'string') el.setAttribute('data-color', val);\r\n\t\telse $(el).data('gradient', val);\r\n\t\t\r\n\t\tel.setAttribute('data-location', pos);\r\n\t\tel.style.left = pos + '%';\r\n\t\t\r\n\t\tif(align === 'bottom') {\r\n\t\t\t\r\n\t\t\tel.innerHTML = \r\n\t\t\t'<span class=\"rev-cpicker-point-triangle\" style=\"border-bottom-color: ' + bg + '\"></span>' + \r\n\t\t\t'<span class=\"rev-cpicker-point-square\" style=\"background: ' + bg  +'\"></span>';\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\r\n\t\t\tel.innerHTML = \r\n\t\t\t'<span class=\"rev-cpicker-point-square\" style=\"background: ' + bg + '\"></span>' + \r\n\t\t\t'<span class=\"rev-cpicker-point-triangle\" style=\"border-top-color: ' + bg + '\"></span>';\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn el;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction getDegree(val) {\r\n\t\t\r\n\t\tif(!val || val === 'radial') val = '0';\r\n\t\ttextareas.innerHTML = val + '&deg;';\r\n\t\treturn textareas.value;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction deactivate() {\r\n\t\t\r\n\t\tif(curPoint) {\r\n\t\t\t\t\t\t\r\n\t\t\tcurPoint.removeClass('active');\r\n\t\t\tcurPoint = false;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tcolorLoc.attr('disabled', 'disabled');\r\n\t\tgradOpacity.attr('disabled', 'disabled');\r\n\t\topacityLoc.attr('disabled', 'disabled');\r\n\t\t\r\n\t\topacityDelete.removeClass('active');\r\n\t\tcolorDelete.removeClass('active');\r\n\t\t\r\n\t\tcolorBox.css('background', '');\r\n\t\tcPicker.removeClass('open');\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction onClose(e, changed) {\r\n\t\t\r\n\t\tcPicker.removeClass('active is-basic').hide();\r\n\t\tbodies.removeClass('rev-colorpicker-open');\r\n\t\tmainContainer.css({left: '', top: ''});\r\n\t\t\r\n\t\tif(appended) {\r\n\t\t\t\r\n\t\t\tappended.remove();\r\n\t\t\tappended = false;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(selectedColor) {\r\n\t\t\t\r\n\t\t\tif(selectedColor.hasClass('selected')) {\r\n\t\t\t\t\r\n\t\t\t\tif(changed) currentInput.data('hex', selectedColor.attr('data-color').toLowerCase());\t\r\n\t\t\t\tselectedColor.removeClass('selected');\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tcurrentInput.removeData('hex');\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tselectedColor = false;\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tcurrentInput.removeData('hex');\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(!changed) {\r\n\t\t\t\r\n\t\t\tif(onCancel) onCancel();\r\n\t\t\tif(openingValue && openingValue !== 'transparent') {\t\r\n\t\t\t\r\n\t\t\t\tcurrentColor[0].style.background = openingValue;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tcurrentColor.css('background', '');\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdoc.trigger('revcolorpickerupdate', [currentInput, openingValue]);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tcurrentColor = false;\r\n\t\tcurrentInput = false;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction checkGroup() {\r\n\t\t\r\n\t\tvar $this = $(this),\r\n\t\t\tlen = $this.children('.rev-cpicker-color').not('.blank').length;\r\n\t\t\t\r\n\t\tif(len > presetColumns) $('#' + this.id + '-btn').addClass('multiplerows');\r\n\t\telse $('#' + this.id + '-btn').removeClass('multiplerows');\r\n\t\t\r\n\t\treturn len;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction checkRows() {\r\n\t\t\r\n\t\tvar $this = $(this),\r\n\t\t\tminRows = this.id.search('colors') !== -1 ? minColorRows : minGradRows,\r\n\t\t\tcolors = $this.children('.rev-cpicker-color'),\r\n\t\t\tlen = colors.length,\r\n\t\t\trows = Math.ceil(len / presetColumns),\r\n\t\t\tminItems = minRows * presetColumns,\r\n\t\t\trowRemoved;\t\r\n\t\t\r\n\t\tlen += 1;\t\r\n\t\tfor(var i = 0; i < rows; i++) {\r\n\t\t\t\r\n\t\t\tvar start = i * presetColumns,\r\n\t\t\t\trange = colors.slice(start, parseInt(start + presetColumns, 10) - 1);\r\n\t\t\t\r\n\t\t\tblankRow = true;\r\n\t\t\trange.each(checkRow);\r\n\t\t\tif(blankRow) {\r\n\t\t\t\t\r\n\t\t\t\tlen -= presetColumns;\r\n\t\t\t\tif(len >= minItems) {\r\n\t\t\t\t\t\r\n\t\t\t\t\trange.remove();\r\n\t\t\t\t\trowRemoved = true;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn rowRemoved;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction checkRow() {\r\n\t\t\t\t\r\n\t\tif(this.className.search('blank') === -1) {\r\n\t\t\t\r\n\t\t\tblankRow = false;\r\n\t\t\treturn false;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tfunction buildGradientInput(obj) {\r\n\t\t\r\n\t\tvar degree = obj.angle;\r\n\t\tif(obj.type === 'radial') degree = 'radial';\r\n\t\t\r\n\t\tdirections.removeClass('selected');\r\n\t\t$('.rev-cpicker-orientation[data-direction=\"' + degree + '\"]').addClass('selected');\r\n\t\t\r\n\t\tangle.val(getDegree(degree));\r\n\t\tupdateWheel(degree);\r\n\t\tsetPoints(obj.colors);\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction buildGradientOutput(el, revrse, save) {\r\n\t\t\r\n\t\tonReverse = revrse;\r\n\t\tcalculatePoints();\r\n\t\tonReverse = false;\r\n\t\t\r\n\t\tvar elm,\r\n\t\t\tcolor,\r\n\t\t\tpoint,\r\n\t\t\tar = [],\r\n\t\t\tlen = points.length;\r\n\t\t\r\n\t\tfor(var i = 0; i < len; i++) {\r\n\t\t\t\r\n\t\t\tpoint = points[i];\r\n\t\t\tcolor = point.color;\r\n\t\t\tar[i] = color;\r\n\t\t\t\r\n\t\t\telm = point.el;\r\n\t\t\telm.setAttribute('data-color', RevColor.rgbaString(color.r, color.g, color.b, color.a));\r\n\t\t\telm.setAttribute('data-opacity', color.a * 100);\r\n\t\t\t\r\n\t\t\tif(el && el === elm) pointIndex = i;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(!radial.hasClass('selected')) {\r\n\t\t\t\r\n\t\t\tgradientPreview.type = 'linear';\r\n\t\t\tgradientPreview.angle = parseInt(angle.val(), 10).toString();\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tgradientPreview.type = 'radial';\r\n\t\t\tgradientPreview.angle = '0';\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tgradientPreview.colors = ar;\r\n\t\tif(selectedColor) selectedColor.removeClass('selected');\r\n\t\t\r\n\t\tvar gradient = RevColor.processGradient(gradientPreview);\r\n\t\tonChange(true, gradient);\r\n\t\t\r\n\t\tif(!save) {\r\n\t\t\t\r\n\t\t\tgradInput.style.background = gradientView(gradient);\r\n\t\t\tgradOutput.style.background = gradient;\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\r\n\t\t\treturn [gradientPreview, gradient];\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction back(i, align) {\r\n\t\t\r\n\t\tif(i === 0) return false;\r\n\t\t\r\n\t\tvar pnt;\r\n\t\twhile(i--) {\r\n\t\t\t\t\r\n\t\t\tpnt = points[i];\r\n\t\t\tif(pnt.align !== align) return pnt;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction front(i, align, len) {\r\n\t\t\r\n\t\tif(i === len) return false;\r\n\t\t\r\n\t\tvar pnt;\r\n\t\twhile(i++ < len) {\r\n\t\t\t\t\r\n\t\t\tpnt = points[i];\r\n\t\t\tif(pnt.align !== align) return pnt;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction dist(px, bx, ex, bv, ev) {\r\n\t\t\r\n\t\treturn Math.max(Math.min(Math.round(Math.abs((((px - bx) / (ex - bx)) * (ev - bv)) + bv)), 255), 0);\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction distAlpha(px, bx, ex, bv, ev) {\r\n\t\t\r\n\t\treturn Math.max(Math.min(Math.abs(parseFloat((((px - bx) / (ex - bx)) * (ev - bv)).toFixed(2)) + parseFloat(bv)), 1), 0);\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction adjustAlpha(point, begin, end) {\r\n\t\t\r\n\t\tvar val,\r\n\t\t\tbeginAlpha = begin.alpha,\r\n\t\t\tendAlpha = end.alpha;\r\n\t\t\t\r\n\t\tif(beginAlpha !== endAlpha) {\r\n\t\t\t\r\n\t\t\tval = distAlpha(point.x, begin.x, end.x, beginAlpha, endAlpha).toFixed(2);\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tval = beginAlpha;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpoint.alpha = val;\r\n\t\tpoint.color.a = val;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction adjustColor(point, begin, end) {\r\n\t\t\r\n\t\tvar p = point.color,\r\n\t\t\tbv = begin.color, \r\n\t\t\tev = end.color;\r\n\t\t\r\n\t\tif(begin !== end) {\r\n\t\t\t\t\t\r\n\t\t\tvar px = point.x,\r\n\t\t\t\tbx = begin.x, \r\n\t\t\t\tex = end.x;\r\n\t\t\t\r\n\t\t\tp.r = dist(px, bx, ex, bv.r, ev.r);\r\n\t\t\tp.g = dist(px, bx, ex, bv.g, ev.g);\r\n\t\t\tp.b = dist(px, bx, ex, bv.b, ev.b);\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tp.r = bv.r;\r\n\t\t\tp.g = bv.g;\r\n\t\t\tp.b = bv.b;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction calculatePoints() {\r\n\t\t\r\n\t\tpoints = [];\r\n\t\ttopPoints = [];\r\n\t\tbotPoints = [];\r\n\t\t\r\n\t\tgroupPoints.each(getPoints);\r\n\t\tpoints.sort(sortPoints);\r\n\t\t\r\n\t\tvar len = points.length,\r\n\t\t\tiLen = len - 1,\r\n\t\t\tpoint,\r\n\t\t\tbegin,\r\n\t\t\ttpe,\r\n\t\t\tend;\r\n\t\t\r\n\t\tfor(var i = 0; i < len; i++) {\r\n\t\t\t\r\n\t\t\tpoint = points[i];\r\n\t\t\ttpe = point.align;\r\n\t\t\t\r\n\t\t\tbegin = back(i, tpe);\r\n\t\t\tif(begin === false) begin = front(i, tpe, iLen);\r\n\t\t\t\r\n\t\t\tend = front(i, tpe, iLen);\r\n\t\t\tif(end === false) end = back(i, tpe);\r\n\t\t\t\r\n\t\t\tif(tpe === 'bottom') adjustAlpha(point, begin, end);\r\n\t\t\telse adjustColor(point, begin, end);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpoints.sort(sortPoints);\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction sortPoints(a, b) {\r\n\t\t\r\n\t\treturn a.x < b.x ? -1 : a.x > b.x ? 1 : 0;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction getPoints(i) {\r\n\t\t\r\n\t\tvar rgba = RevColor.rgbValues(getAttribute(this, 'data-color'), 4),\r\n\t\t\talign = this.className.search('bottom') !== -1 ? 'bottom' : 'top',\r\n\t\t\talpha = rgba[3].replace(/\\.?0*$/, '') || 0,\r\n\t\t\tpos = parseInt(this.style.left, 10);\r\n\t\t\r\n\t\tif(onReverse) {\r\n\t\r\n\t\t\tif(pos < 50) pos += (50 - pos) * 2;\r\n\t\t\telse pos -= (pos - 50) * 2;\t\t\r\n\t\t\t\r\n\t\t\tthis.style.left = pos + '%';\r\n\t\t\tthis.setAttribute('data-location', pos);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpoints[i] = {\r\n\t\t\t\r\n\t\t\tel: this, \r\n\t\t\tx: pos,\r\n\t\t\talpha: alpha,\r\n\t\t\talign: align,\r\n\t\t\tcolor: {\r\n\t\t\t\t\r\n\t\t\t\tr: parseInt(rgba[0], 10),\r\n\t\t\t\tg: parseInt(rgba[1], 10),\r\n\t\t\t\tb: parseInt(rgba[2], 10),\r\n\t\t\t\ta: alpha,\r\n\t\t\t\tposition: pos,\r\n\t\t\t\talign: align\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t};\r\n\t\t\r\n\t\tif(curPoint && curPoint[0] !== this) {\r\n\t\t\t\r\n\t\t\tif(align === 'bottom') botPoints[botPoints.length] = pos;\r\n\t\t\telse topPoints[topPoints.length] = pos;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction updateWheel(val) {\r\n\t\t\r\n\t\tval = typeof val !== 'undefined' ? val : parseInt(angle.val(), 10);\r\n\t\twheelPoint[0].style.transform = 'rotate(' + val + 'deg)';\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction onAngleChange(e, dir, wheel) {\r\n\t\t\t\r\n\t\tvar isWheel = typeof wheel !== 'undefined',\r\n\t\t\tval = isWheel ? wheel : parseInt(angle.val(), 10),\r\n\t\t\tchanged,\r\n\t\t\tvalue;\r\n\t\t\r\n\t\tif(e && e.type === 'keyup') {\r\n\t\t\t\r\n\t\t\tchanged = !isNaN(val) && val >= -360 && val <= 360;\r\n\t\t\tvalue = val;\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tvar oValue = parseInt(angle.data('orig-value'), 10);\r\n\t\t\t\r\n\t\t\tif(!val) val = '0';\r\n\t\t\tif(isNaN(val) || val < -360 || val > 360) val = oValue;\r\n\t\t\tif(val !== oValue) {\r\n\t\t\t\t\r\n\t\t\t\tvalue = val;\r\n\t\t\t\tchanged = true;\r\n\t\t\t\tangle.val(getDegree(val));\r\n\t\t\t\r\n\t\t\t\tif(!isWheel) {\r\n\t\t\t\t\r\n\t\t\t\t\tval = dir || val;\r\n\t\t\t\t\tdirections.removeClass('selected');\r\n\t\t\t\t\t$('.rev-cpicker-orientation[data-direction=\"' + val + '\"]').addClass('selected');\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(changed || dir) {\r\n\t\t\t\t\r\n\t\t\tif(value) updateWheel(value);\r\n\t\t\tbuildGradientOutput();\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t}\r\n\t\r\n\tfunction onArrowClick() {\r\n\t\t\t\r\n\t\tvar $this = $(this);\r\n\t\t\r\n\t\tif(this.className.search('down') !== -1) {\r\n\t\t\t\r\n\t\t\t$this.parent().addClass('active');\r\n\t\t\t$this.closest('.rev-cpicker-presets').addClass('active');\r\n\t\t\t$(this.id.replace('-btn', '')).addClass('active');\r\n\t\t\tgradientsOpen = cPicker.hasClass('gradient-view');\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\t$this.parent().removeClass('active');\r\n\t\t\t$this.closest('.rev-cpicker-presets').removeClass('active');\r\n\t\t\t$(this.id.replace('-btn', '')).removeClass('active');\r\n\t\t\tgradientsOpen = false;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction onDrag(e, ui) {\r\n\t\t\r\n\t\tvar pos = parseInt((Math.round(ui.position.left) / (hitWidth - 2)).toFixed(2) * 100, 10);\r\n\t\tif(dragPoint === 'bottom') colorLoc.val(pos + '%').trigger('keyup');\r\n\t\telse opacityLoc.val(pos + '%').trigger('keyup');\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction onDragStart() {\r\n\t\t\r\n\t\tvar $this = $(this);\r\n\t\tdragPoint = $this.hasClass('rev-cpicker-point-bottom') ? 'bottom' : 'top';\t\r\n\t\t$this.click();\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction onDragStop() {\r\n\t\t\r\n\t\tif(dragPoint === 'bottom') colorLoc.trigger('focusout');\r\n\t\telse opacityLoc.trigger('focusout');\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction updateSlider(opacity) {\r\n\t\t\r\n\t\tsupressOpacity = true;\r\n\t\topacitySlider.slider('value', Math.round((opacity * 0.01) * sliderHeight));\r\n\t\tsupressOpacity = false;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction wheelMove(e) {\r\n\t\t\r\n\t\tvar offset = angleWheel.offset(),\r\n\t\t\tposX = e.pageX - offset.left,\r\n\t\t\tposY = e.pageY - offset.top;\r\n\t\t\r\n\t\tif(isNaN(posX) || isNaN(posY)) return;\r\n\t\t\r\n\t\tvar val = Math.atan2(posY - centerWheel, posX - centerWheel) * (180 / Math.PI) + 90;\r\n\t\tif(val < 0) val += 360;\r\n\t\t\r\n\t\tval = Math.max(0, Math.min(360, Math.round(val)));\r\n\t\tval = 5 * (Math.round(val / 5));\r\n\t\t\r\n\t\tsupressWheel = true;\r\n\t\tonAngleChange(false, false, val);\r\n\t\tsupressWheel = false;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction focusPatch(e) {\r\n\t\t\t\r\n\t\te.stopImmediatePropagation();\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction init() {\r\n\t\t\r\n\t\tif(!prepped) $.tpColorPicker();\r\n\t\t\r\n\t\tcurrentEditing = document.getElementById('rev-cpicker-current-edit');\r\n\t\tgradOutput = document.getElementById('rev-cpicker-gradient-output');\r\n\t\tgradInput = document.getElementById('rev-cpicker-gradient-input');\r\n\t\teditTitle = document.getElementById('rev-cpicker-edit-title');\r\n\t\ttextareas = document.createElement('textarea');\r\n\t\topacityDelete = $('#rev-cpicker-opacity-delete');\r\n\t\tpointerWrap = $('#rev-cpciker-point-container');\r\n\t\topacityLoc = $('#rev-cpicker-opacity-location');\r\n\t\tpresetGroups = $('.rev-cpicker-presets-group');\r\n\t\tcolorOpacity = $('#rev-cpicker-color-opacity');\r\n\t\tradial = $('#rev-cpicker-orientation-radial');\r\n\t\tcolorDelete = $('#rev-cpicker-color-delete');\r\n\t\tgradOpacity = $('#rev-cpicker-grad-opacity');\r\n\t\tcolorLoc = $('#rev-cpicker-color-location');\r\n\t\tgradCore = $('#rev-cpicker-gradients-core');\r\n\t\tdirections = $('.rev-cpicker-orientation');\r\n\t\tgradIris = $('#rev-cpicker-iris-gradient');\r\n\t\twheelPoint = $('#rev-cpicker-wheel-point');\r\n\t\tgradSection = $('#rev-cpicker-gradients');\r\n\t\tcolorIris = $('#rev-cpicker-iris-color');\r\n\t\tgradBtn = $('#rev-cpicker-gradient-btn');\r\n\t\tgradHex = $('#rev-cpicker-gradient-hex');\r\n\t\tcolorClear = $('#rev-cpciker-clear-hex');\r\n\t\treverse = $('#rev-cpicker-meta-reverse');\r\n\t\thitBottom = $('#rev-cpicker-hit-bottom');\r\n\t\topacitySlider = $('#rev-cpicker-scroll');\r\n\t\tcolorSection = $('#rev-cpicker-colors');\r\n\t\tcolorHex = $('#rev-cpicker-color-hex');\r\n\t\tcolorBtn = $('#rev-cpicker-color-btn');\r\n\t\tcolorBox = $('#rev-cpicker-color-box');\r\n\t\tangle = $('#rev-cpicker-meta-angle');\r\n\t\tangleWheel = $('#rev-cpicker-wheel');\r\n\t\thitTop = $('#rev-cpicker-hit-top');\r\n\t\tmainContainer = $('#rev-cpicker');\r\n\t\tdoc = $(document);\r\n\t\t\r\n\t\tdragObj.drag = onDrag;\r\n\t\tdragObj.stop = onDragStop;\r\n\t\tdragObj.start = onDragStart;\r\n\t\t\r\n\t\tcolorBtn.data('state', colorSection.find('.rev-cpicker-color').eq(0).attr('data-color') || '#ffffff');\r\n\t\tgradBtn.data('state', gradSection.find('.rev-cpicker-color').eq(0).attr('data-color') || 'linear-gradient(0deg, rgba(255, 255, 255, 1) 0%, rgba(0, 0, 0, 1) 100%)');\r\n\t\t\r\n\t\tmainContainer.draggable({containment: 'window', handle: '.rev-cpicker-draggable', stop: function() {\r\n\t\t\r\n\t\t\tmainContainer.css('height', 'auto');\r\n\t\t\t\r\n\t\t}});\r\n\t\t\r\n\t\tpresetGroups.perfectScrollbar({wheelPropagation: false, suppressScrollX: true});\r\n\t\t\r\n\t\tangleWheel.on('mousedown.revcpicker', function(e) {\r\n\t\t\t\r\n\t\t\tdirections.removeClass('selected');\r\n\t\t\twheelDown = true;\r\n\t\t\twheelMove(e);\r\n\t\t\t\r\n\t\t}).on('mousemove.revcpicker', function(e) {\r\n\t\t\t\r\n\t\t\tif(!wheelDown) return;\r\n\t\t\twheelMove(e);\r\n\t\t\t\r\n\t\t}).on('mouseleave.revcpicker mouseup.revcpicker', function() {\r\n\t\t\t\r\n\t\t\twheelDown = false;\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('.rev-cpicker-main-btn').on('click.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tvar $this,\r\n\t\t\t\tstate;\r\n\t\t\t\r\n\t\t\tcolorView = this.id.search('gradient') === -1;\r\n\t\t\tif(currentColor) {\r\n\t\t\t\t\r\n\t\t\t\t$this = $(this);\r\n\t\t\t\tstate = $this.data('state');\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(colorView) {\r\n\t\t\t\t\r\n\t\t\t\tif(currentColor) selectedHex = colorHex.val();\r\n\t\t\t\tcPicker.removeClass('gradient-view').addClass('color-view');\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tif(currentColor) selectedHex = state;\r\n\t\t\t\t\r\n\t\t\t\tcPicker.removeClass('color-view').addClass('gradient-view');\r\n\t\t\t\tif(!gradViewed) gradCore.children('.rev-cpicker-color').not('.blank').eq(0).click();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpresetGroups.perfectScrollbar('update');\r\n\t\t\tif(state) {\r\n\t\t\t\t\t\r\n\t\t\t\tvar isTrans = state === 'transparent',\r\n\t\t\t\t\tval = !isTrans ? state : '';\r\n\t\t\t\t\r\n\t\t\t\tif(!isTrans) currentColor[0].style.background = val;\r\n\t\t\t\telse currentColor.css('background', val);\r\n\t\t\t\t\r\n\t\t\t\tsupressCheck = true;\r\n\t\t\t\t$('.rev-cpicker-color').not('.blank').each(checkPreset);\r\n\t\t\t\tsupressCheck = false;\r\n\t\t\t\t\r\n\t\t\t\tdoc.trigger('revcolorpickerupdate', [currentInput, state]);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('#rev-cpicker-check').on('click.revcipicker', function() {\r\n\t\t\t\r\n\t\t\tvar ar,\r\n\t\t\t\tcolor,\r\n\t\t\t\tchanged;\r\n\t\t\t\r\n\t\t\tif(cPicker.hasClass('color-view')) {\r\n\t\t\t\t\r\n\t\t\t\tvar hex = colorHex.val(),\r\n\t\t\t\t\topacity = colorOpacity.val();\r\n\t\t\t\t\r\n\t\t\t\tcurrentInput.removeData('gradient');\r\n\t\t\t\tif(hex === 'transparent') color = 'transparent';\r\n\t\t\t\telse if(opacity === '100%') color = RevColor.sanitizeHex(hex);\r\n\t\t\t\telse color = RevColor.processRgba(hex, opacity);\r\n\t\t\t\tar = [currentInput, color, false];\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tdeactivate();\r\n\r\n\t\t\t\tvar grad = buildGradientOutput(false, false, true),\r\n\t\t\t\tobj = $.extend({}, grad[0]),\r\n\t\t\t\tclr = grad[1];\r\n\t\t\t\t\r\n\t\t\t\tcurrentInput.data('gradient', clr);\r\n\t\t\t\tcolor = JSON.stringify(obj).replace(/\\\"/g, '&');\r\n\t\t\t\tar = [currentInput, clr, obj];\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tchanged = ar[1] !== openingValue;\r\n\t\t\tif(changed) {\r\n\t\t\t\t\r\n\t\t\t\tcurrentInput.attr('data-color', ar[1]).val(color).change();\r\n\t\t\t\tdoc.trigger('revcolorpicker', ar);\r\n\t\t\t\tif(changeCallback) changeCallback(ar[0], ar[1], ar[2]);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tonClose(false, changed);\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\tcPicker.on('click.revcpicker', function(e) {\r\n\t\t\t\r\n\t\t\tif(cPicker.hasClass('open')) {\r\n\t\t\t\t\r\n\t\t\t\tvar targt = e.target,\r\n\t\t\t\t\t$this = $(targt),\r\n\t\t\t\t\tids = targt.id,\r\n\t\t\t\t\tisTarget = targt.className.search('rev-cpicker-point') !== -1 || \r\n\t\t\t\t\t\t       ids === 'rev-cpicker-section-right' || ids.search('hit') !== -1 || \r\n\t\t\t\t\t\t       $this.closest('#rev-cpicker-section-right, #rev-cpicker-point-wrap').length;\r\n\t\t\t\t\r\n\t\t\t\tif(isTarget) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif($this.attr('type') === 'text') {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tisTarget = !$this.attr('disabled');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(ids === 'rev-cpicker-check-gradient') {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tisTarget = false;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(!isTarget) deactivate();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if(wheelActive && /wheel|angle|reverse/.test(e.target.id) === false) {\r\n\t\t\t\t\r\n\t\t\t\tif(e.target.id.search('radial') === -1) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t$('.rev-cpicker-orientation[data-direction=\"' + parseInt(angle.val()) + '\"]').addClass('selected');\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tangleWheel.removeClass('active');\r\n\t\t\t\twheelActive = false;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('.rev-cpicker-close').on('click.revcpicker', onClose);\r\n\t\t\r\n\t\tcolorIris.wpColorPicker({palettes: false, width: 267, border: false, hide: false, change: function(e, ui) {\r\n\t\t\t\r\n\t\t\tvar val = ui.color.toString();\r\n\t\t\tthis.value = val;\r\n\t\t\t\r\n\t\t\tcolorHex.val(val);\r\n\t\t\tif(!supressColor) {\r\n\t\t\t\t\r\n\t\t\t\tvar opacity = colorOpacity.val();\r\n\t\t\t\tif(parseInt(opacity, 10) === 0) val = 'transparent';\r\n\t\t\t\tonChange(false, val, opacity);\r\n\t\t\t\t\r\n\t\t\t\tif(selectedColor) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tselectedColor.removeClass('selected');\r\n\t\t\t\t\tselectedColor = false;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}});\r\n\t\t\r\n\t\tgradIris.wpColorPicker({palettes: false, height: 250, border: false, hide: false, change: function(e, ui) {\r\n\t\t\t\r\n\t\t\tvar val = ui.color.toString();\r\n\t\t\tthis.value = val;\r\n\t\t\t\t\r\n\t\t\tgradHex.val(val);\r\n\t\t\tcolorBox.css('background', val);\r\n\t\t\tcurSquare.style.backgroundColor = val;\r\n\t\t\tcurCorner.style.borderBottomColor = val;\r\n\t\t\t\r\n\t\t\tvar rgba = RevColor.processRgba(val, 100),\r\n\t\t\t\tparsed = RevColor.rgbValues(rgba, 4),\r\n\t\t\t\tcolor = gradientPreview.colors[pointIndex];\r\n\t\t\t\r\n\t\t\tcolor.r = parsed[0];\r\n\t\t\tcolor.g = parsed[1];\r\n\t\t\tcolor.b = parsed[2];\r\n\t\t\tcolor.a = parsed[3];\r\n\t\t\t\r\n\t\t\tcurPoint.attr('data-color', rgba);\r\n\t\t\tbuildGradientOutput();\r\n\t\t\t\r\n\t\t}});\r\n\t\t\r\n\t\topacitySlider.slider({orientation: 'vertical', max: sliderHeight, value: sliderHeight, \r\n\t\t\r\n\t\t\tstart: function() {\r\n\t\t\t\r\n\t\t\t\tisTransparent = colorHex.val() === 'transparent';\r\n\t\t\t\r\n\t\t\t}, \r\n\t\t\t\r\n\t\t\tslide: function(e, ui) {\r\n\t\t\t\r\n\t\t\t\tif(!supressOpacity) {\r\n\t\t\t\t\r\n\t\t\t\t\tvar opacity = parseInt((ui.value / sliderHeight).toFixed(2) * 100, 10),\r\n\t\t\t\t\t\tval;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(isTransparent) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tval = opacity ? '#ffffff' : 'transparent';\r\n\t\t\t\t\t\tcolorHex.val(val);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(opacity === 0) val = 'transparent';\r\n\t\t\t\t\tonChange(false, val, opacity || 'transparent');\r\n\t\t\t\t\tcolorOpacity.val(opacity + '%');\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('.rev-cpicker-point-location').on('keyup.revcpicker focusout.revcpicker', function(e) {\r\n\t\t\t\r\n\t\t\tif(!curPoint) return;\r\n\t\t\t\r\n\t\t\tvar align = curPoint.hasClass('rev-cpicker-point-bottom') ? 'bottom' : 'top',\r\n\t\t\t\tlocations = align === 'bottom' ? botPoints : topPoints,\r\n\t\t\t\tinput = align === 'bottom' ? colorLoc : opacityLoc,\r\n\t\t\t\tpoint = input.val().replace('%', '') || '0',\r\n\t\t\t\tevt = e.type,\r\n\t\t\t\tdir;\r\n\t\t\t\r\n\t\t\tif(isNaN(point)) point = evt === 'keyup' ? '0' : curPoint.attr('data-location');\r\n\t\t\tpoint = Math.max(0, Math.min(100, parseInt(point, 10)));\r\n\t\t\t\r\n\t\t\tdir = point < 50 ? 1 : -1;\r\n\t\t\t\r\n\t\t\twhile(locations.indexOf(point) !== -1) point += dir;\r\n\t\t\t\r\n\t\t\tif(evt === 'focusout') {\r\n\t\t\t\t\r\n\t\t\t\tinput.val(point + '%');\r\n\t\t\t\tcurPoint.attr('data-location', point);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcurPoint.css('left', point + '%');\r\n\t\t\tbuildGradientOutput();\r\n\t\t\t\r\n\t\t}).on('focusin.revcpicker', focusPatch);\r\n\t\t\r\n\t\t$('body').on('click.revcpicker', '.rev-cpicker-point', function() {\r\n\t\t\t\r\n\t\t\tpointerWrap.find('.rev-cpicker-point.active').removeClass('active');\r\n\t\t\tcurPoint = $(this).addClass('active');\r\n\t\t\t\r\n\t\t\tcurSquare = curPoint.children('.rev-cpicker-point-square')[0];\r\n\t\t\tcurCorner = curPoint.children('.rev-cpicker-point-triangle')[0];\r\n\t\t\t\r\n\t\t\tbuildGradientOutput(this);\r\n\t\t\tselectedColor = false;\r\n\t\t\t\r\n\t\t\tvar grad = activatePoint();\r\n\t\t\tif(grad[0]) gradIris.val(grad[1]).change();\r\n\t\t\t\r\n\t\t}).on('mousedown.revcpicker', '.rev-cpicker-point', function(e) {\r\n\t\t\t\r\n\t\t\tcurPoint = $(this).data('mousestart', e.pageY);\r\n\t\t\t\r\n\t\t}).on('mousemove.revcpicker', function(e) {\r\n\t\t\t\r\n\t\t\tif(!curPoint || !curPoint.data('mousestart')) return;\r\n\t\t\t\r\n\t\t\tvar start = curPoint.data('mousestart'),\r\n\t\t\t\tposY = e.pageY;\r\n\t\t\t\t\r\n\t\t\tif(curPoint.hasClass('rev-cpicker-point-bottom')) {\r\n\t\t\t\t\r\n\t\t\t\tif(posY > start && posY - start > warningBuffer && colorDelete.hasClass('active')) {\r\n\t\t\t\t\tcurPoint.addClass('warning');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tcurPoint.removeClass('warning');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tif(start > posY && start - posY > warningBuffer && opacityDelete.hasClass('active')) {\r\n\t\t\t\t\tcurPoint.addClass('warning');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tcurPoint.removeClass('warning');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}).on('mouseup.revcpicker', function(e) {\r\n\t\t\t\r\n\t\t\tif(!curPoint || !curPoint.data('mousestart')) return;\r\n\t\t\t\r\n\t\t\tvar start = curPoint.data('mousestart'),\r\n\t\t\t\tend = e.pageY;\r\n\t\t\t\t\r\n\t\t\tcurPoint.removeData('mousestart');\r\n\t\t\tif(curPoint.hasClass('rev-cpicker-point-bottom')) {\r\n\t\t\t\t\r\n\t\t\t\tif(end > start && end - start > deleteBuffer && colorDelete.hasClass('active')) {\r\n\t\t\t\t\tcolorDelete.click();\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tcurPoint.removeClass('warning');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tif(start > end && start - end > deleteBuffer && opacityDelete.hasClass('active')) {\r\n\t\t\t\t\topacityDelete.click();\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tcurPoint.removeClass('warning');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}).on('change.revcpicker', '.rev-cpicker-component', function() {\r\n\t\t\t\r\n\t\t\tvar $this = $(this),\r\n\t\t\t\tval = $this.data('gradient') || $this.val() || 'transparent';\r\n\t\t\t\r\n\t\t\tif(val === 'transparent' || RevColor.transparentRgba(val)) val = '';\r\n\t\t\t$this.data('tpcp').css('background', val);\r\n\t\t\t\r\n\t\t}).on('keypress.revcpicker', function(e) {\r\n\t\t\t\r\n\t\t\tif(cPicker.hasClass('active')) {\r\n\t\t\t\r\n\t\t\t\tvar key = e.which;\r\n\t\t\t\tif(key == 27) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse if(key == 13 && inFocus) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tinFocus.blur();\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}).on('click.revcpicker', '.rev-cpicker-color:not(.blank)', function() {\r\n\t\t\t\r\n\t\t\tif(selectedColor) {\r\n\t\t\t\t\r\n\t\t\t\tif(selectedColor[0] === this && selectedColor.hasClass('selected')) return;\r\n\t\t\t\tselectedColor.removeClass('selected');\r\n\t\t\t\t\r\n\t\t\t} \r\n\t\t\t\r\n\t\t\tselectedColor = $(this);\r\n\t\t\t\r\n\t\t\tvar ids = selectedColor.parent()[0].id,\r\n\t\t\t\ttpe = ids.search('core') !== -1 ? 'core' : 'custom',\r\n\t\t\t\tview = ids.search('colors') !== -1 ? 'colors' : 'gradients',\t\r\n\t\t\t\tbtn = $('#rev-cpicker-' + view + '-' + tpe + '-btn');\r\n\t\t\t\r\n\t\t\tif(btn.hasClass('active')) btn.find('.rev-cpicker-arrow-up').click();\r\n\t\t\tif(cPicker.hasClass('color-view')) {\r\n\t\t\t\t\r\n\t\t\t\tvar val = selectedColor.attr('data-color');\r\n\t\t\t\t\r\n\t\t\t\tsupressColor = true;\r\n\t\t\t\tcolorIris.val(val).change();\r\n\t\t\t\tif(colorHex.val() === 'transparent') colorHex.val(val.toLowerCase());\r\n\t\t\t\tsupressColor = false;\r\n\t\t\t\t\r\n\t\t\t\tvar opacity = colorOpacity.val();\r\n\t\t\t\tif(parseInt(opacity, 10) === 0) val = 'transparent';\r\n\t\t\t\tonChange(false, val, opacity);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\thitTop.removeClass('full');\r\n\t\t\t\thitBottom.removeClass('full');\r\n\t\t\t\t\r\n\t\t\t\tsetValue(selectedColor.data('gradient'), true);\r\n\t\t\t\treverse.removeClass('checked');\r\n\t\t\t\tgradCore.find('.rev-cpicker-color.selected').removeClass('selected');\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tselectedColor.addClass('selected');\r\n\t\t\t\r\n\t\t}).on('mouseover.revcpicker', '.rev-cpicker-color:not(.blank)', function() {\r\n\t\t\t\r\n\t\t\tif(gradientsOpen) gradOutput.style.background = getAttribute(this, 'data-color');\r\n\t\t\t\r\n\t\t}).on('mouseout.revcpicker', '.rev-cpicker-color:not(.blank)', function() {\r\n\t\t\t\r\n\t\t\tif(gradientsOpen) buildGradientOutput();\r\n\t\t\t\r\n\t\t}).on('click.revcpicker', '.rev-cpicker-delete', function() {\r\n\t\t\t\r\n\t\t\tif(!onAjax) {\r\n\t\t\t\r\n\t\t\t\tconsole.log('Ajax callback not defined');\r\n\t\t\t\treturn;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(window.confirm(document.getElementById('rev-cpicker-remove-delete').innerHTML)) {\r\n\t\t\t\t\r\n\t\t\t\tcPicker.addClass('onajax onajaxdelete');\r\n\t\t\t\t\r\n\t\t\t\tvar $this = $(this),\r\n\t\t\t\t\tcolr = $this.parent(),\r\n\t\t\t\t\ttitl = colr.attr('data-title') || '';\r\n\t\t\t\t\t\r\n\t\t\t\tif(!titl) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log('Preset does not have a name/title');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar group = $this.closest('.rev-cpicker-presets-group'),\r\n\t\t\t\t\tids = group[0].id,\r\n\t\t\t\t\ttpe = ids.search('colors') !== -1 ? 'colors' : 'gradients';\r\n\t\t\t\t\t\r\n\t\t\t\tdoc.off('revcpicker_onajax_delete.revcpicker').on('revcpicker_onajax_delete.revcpicker', function(evt, err) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(err) console.log(err);\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar group = $this.closest('.rev-cpicker-presets-group'),\r\n\t\t\t\t\t\tscroller = group.find('.ps-scrollbar-x-rail'),\r\n\t\t\t\t\t\tbtn = $('#' + ids + '-btn');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tcolr.remove();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(!checkRows.call(group[0])) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$('<span class=\"rev-cpicker-color blank\"></span>').insertBefore(scroller);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tgroup.perfectScrollbar('update');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(checkGroup.call(group[0]) < presetColumns + 1) {\r\n\r\n\t\t\t\t\t\t$('<span class=\"rev-cpicker-color blank\"></span>').insertBefore(scroller);\r\n\t\t\t\t\t\tif(btn.hasClass('active')) btn.children('.rev-cpicker-arrow-up').click();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tcPicker.removeClass('onajax onajaxdelete');\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\ttitl = $.trim(titl.replace(/\\W+/g, '_')).replace(/^\\_|\\_$/g, '').toLowerCase();\r\n\t\t\t\tonAjax('delete', titl, tpe, 'revcpicker_onajax_delete', currentInput);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn false;\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('.rev-cpicker-save-preset-btn').on('click.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tif(!onAjax) {\r\n\t\t\t\r\n\t\t\t\tconsole.log('Ajax callback not defined');\r\n\t\t\t\treturn;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar presetGroup,\r\n\t\t\t\tduplicateTitle,\r\n\t\t\t\t$this = $(this),\r\n\t\t\t\tinput = $this.closest('.rev-cpicker-presets-save-as').find('.rev-cpicker-preset-save'),\r\n\t\t\t\ttitl = input.val();\r\n\t\t\t\r\n\t\t\tif(!titl || !isNaN(titl)) {\r\n\t\t\t\t\r\n\t\t\t\talert($this.attr('data-message'));\r\n\t\t\t\treturn;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpresetGroup = cPicker.hasClass('color-view') ? 'colors' : 'gradients';\r\n\t\t\ttitl = $.trim(titl.replace(/\\W+/g, '_')).replace(/^\\_|\\_$/g, '').toLowerCase();\r\n\t\t\t\r\n\t\t\t$('#rev-cpicker-' + presetGroup + '-custom').find('.rev-cpicker-color').not('.blank').each(function() {\r\n\t\t\t\t\r\n\t\t\t\tvar atr = $.trim(getAttribute(this, 'data-title').replace(/\\W+/g, '_')).replace(/^\\_|\\_$/g, '').toLowerCase();\r\n\t\t\t\tif(atr === titl) {\r\n\t\t\t\t\t\r\n\t\t\t\t\talert($this.attr('data-message'));\r\n\t\t\t\t\tduplicateTitle = true;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tif(duplicateTitle) return;\r\n\t\t\tcPicker.addClass('onajax onajaxsave');\r\n\t\t\t\r\n\t\t\tvar newColorValue = {},\r\n\t\t\t\tcolor,\r\n\t\t\t\tgrad;\r\n\t\t\t\t\r\n\t\t\tif(presetGroup === 'colors') {\r\n\t\t\t\t\r\n\t\t\t\tvar hex = colorHex.val(),\r\n\t\t\t\t\topacity = colorOpacity.val();\r\n\t\t\t\t\t\r\n\t\t\t\tif(hex === 'transparent') color = 'transparent';\r\n\t\t\t\telse if(opacity === '100%') color = RevColor.sanitizeHex(hex);\r\n\t\t\t\telse color = RevColor.processRgba(hex, opacity);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\r\n\t\t\t\tgrad = gradOutput.style.background;\r\n\t\t\t\tcolor = $.extend({}, buildGradientOutput(false, false, true)[0]);\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tnewColorValue[titl] = color;\r\n\t\t\tdoc.off('revcpicker_onajax_save.revcpicker').on('revcpicker_onajax_save.revcpicker', function(evt, err) {\r\n\t\t\t\t\r\n\t\t\t\tif(err) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tcPicker.removeClass('onajax onajaxsave');\r\n\t\t\t\t\talert($this.attr('data-message'));\r\n\t\t\t\t\treturn;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\tvar pre = $(newPreset(newColorValue, false, ' rev-picker-color-custom', grad)),\r\n\t\t\t\t\tgroup = $('#rev-cpicker-' + presetGroup + '-custom'),\r\n\t\t\t\t\tbox = group.find('.rev-cpicker-color.blank'),\r\n\t\t\t\t\tbtn = $('#' + group[0].id + '-btn');\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\tif(box.length) pre.insertBefore(box.eq(0));\r\n\t\t\t\telse pre.insertBefore(group.find('.ps-scrollbar-x-rail'));\r\n\t\t\t\t\r\n\t\t\t\t$('#rev-cpicker-' + presetGroup + '-custom-btn').click();\r\n\t\t\t\tvar len = checkGroup.call(group[0]);\r\n\t\t\t\t\r\n\t\t\t\tif(len > 6) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(box.length) box.last().remove();\r\n\t\t\t\t\tbtn.addClass('active').children('.rev-cpicker-arrow-down').click();\r\n\t\t\t\t\tgroup.perfectScrollbar('update');\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\tpre.click();\r\n\t\t\t\tcPicker.removeClass('onajax onajaxsave');\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tonAjax('save', newColorValue, presetGroup, 'revcpicker_onajax_save', currentInput);\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('.rev-cpicker-preset-title').on('click.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tvar $this = $(this),\r\n\t\t\t\tpar = $this.parent(),\r\n\t\t\t\tarrow = $this.hasClass('active') ? 'down' : 'up';\r\n\t\t\t\r\n\t\t\tonArrowClick.call($this.find('.rev-cpicker-arrow-' + arrow)[0]);\r\n\t\t\t\r\n\t\t\tpar.find('.rev-cpicker-preset-title').removeClass('selected');\r\n\t\t\t$this.addClass('selected');\r\n\t\t\t\r\n\t\t\tpar.find('.rev-cpicker-presets-group').hide();\r\n\t\t\tdocument.getElementById(this.id.replace('-btn', '')).style.display = 'block';\r\n\t\t\t\r\n\t\t\tpresetGroups.perfectScrollbar('update');\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\tcolorClear.on('click.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tcolorOpacity.val('0%');\r\n\t\t\tupdateSlider(0);\r\n\t\t\tcolorIris.val(RevColor.defaultValue).change();\r\n\t\t\tcolorHex.val('transparent');\r\n\t\t\tonChange(false, 'transparent');\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\tcPicker.find('input[type=\"text\"]').on('focusin.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tinFocus = this;\r\n\t\t\t\r\n\t\t}).on('focusout.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tinFocus = false;\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('.rev-cpicker-input').on('focusin.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tvar $this = $(this);\r\n\t\t\t$this.data('orig-value', $this.val());\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('.rev-cpicker-hex').on('focusout.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tvar $this, \r\n\t\t\t\toVal,\r\n\t\t\t\tval;\r\n\t\t\t\r\n\t\t\tif(this.id === 'rev-cpicker-color-hex') {\r\n\t\t\t\t\r\n\t\t\t\tval = colorHex.val();\r\n\t\t\t\tif(val) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tval = RevColor.sanitizeHex(val);\r\n\t\t\t\t\tif(RevColor.isColor.test(val)) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcolorHex.val(val);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$this = $(this);\r\n\t\t\t\t\t\toVal = $this.data('orig-value');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(oVal) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tval = oVal;\r\n\t\t\t\t\t\t\tcolorHex.val(val);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tcolorClear.click();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse {\t\r\n\t\t\t\t\r\n\t\t\t\t\tval = 'transparent';\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcolorIris.val(val).change();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tval = gradHex.val() || RevColor.defaultValue;\r\n\t\t\t\tval = RevColor.sanitizeHex(val);\r\n\t\t\t\t\r\n\t\t\t\tif(!RevColor.isColor.test(val)) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t$this = $(this);\r\n\t\t\t\t\toVal = $this.data('orig-value');\r\n\t\t\t\t\tval = oVal ? oVal : RevColor.defaultValue;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tgradHex.val(val);\r\n\t\t\t\tgradIris.val(val).change();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}).on('focusin.revcpicker', focusPatch);\r\n\t\t\r\n\t\t$('#rev-cpciker-clear-gradient').on('click.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tgradIris.val(RevColor.defaultValue).change();\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\tangle.on('keyup.revcpicker focusout.revcpicker', onAngleChange).on('focusin.revcpicker', function() {\r\n\t\t\t\r\n\t\t\twheelActive = true;\r\n\t\t\tangleWheel.addClass('active');\r\n\t\t\t\r\n\t\t}).on('focusin.revcpicker', focusPatch);\r\n\t\t\t\r\n\t\tdirections.on('click.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tvar $this = $(this),\r\n\t\t\t\tdir = $this.attr('data-direction');\r\n\t\t\t\r\n\t\t\tdirections.removeClass('selected');\r\n\t\t\t$this.addClass('selected');\r\n\t\t\t\r\n\t\t\tif(dir !== 'radial') angle.removeAttr('disabled').val(getDegree(dir));\r\n\t\t\telse angle.attr('disabled', 'disabled');\r\n\t\t\t\r\n\t\t\tonAngleChange(false, dir);\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('.rev-cpicker-point-delete').on('click.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tif(this.className.search('active') === -1) return;\r\n\t\t\t\r\n\t\t\tvar align = curPoint.hasClass('rev-cpicker-point-bottom') ? 'bottom' : 'top',\r\n\t\t\t\tlen = cPicker.find('.rev-cpicker-point-' + align).length;\r\n\t\t\t\t\r\n\t\t\tif(len > 2) {\r\n\t\t\t\t\r\n\t\t\t\tcurPoint.draggable('destroy').remove();\r\n\t\t\t\tgroupPoints = pointerWrap.children();\r\n\t\t\t\t\r\n\t\t\t\tcPicker.click();\r\n\t\t\t\tbuildGradientOutput();\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(len <= maxPoints) {\r\n\t\t\t\t\r\n\t\t\t\tif(align === 'bottom') hitBottom.removeClass('full');\r\n\t\t\t\telse hitTop.removeClass('full');\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('.rev-cpicker-preset-save').on('focusin.revcpicker', focusPatch);\r\n\t\t$('.rev-cpicker-opacity-input').on('keyup.revcpicker focusout.revcpicker', function(e) {\r\n\t\t\t\r\n\t\t\tvar isColor = this.id.search('grad') === -1,\r\n\t\t\t\t$this = isColor ? colorOpacity : gradOpacity,\r\n\t\t\t\topacity = $this.val().replace('%', ''),\r\n\t\t\t\tevt = e.type,\r\n\t\t\t\tclr;\r\n\t\t\t\r\n\t\t\tif(isNaN(opacity)) opacity = evt === 'keyup' ? '0' : $(this).data('orig-value');\r\n\t\t\topacity = Math.max(0, Math.min(100, opacity));\r\n\t\t\t\r\n\t\t\tif(evt === 'focusout') {\r\n\t\t\t\t\r\n\t\t\t\t$this.val(opacity + '%');\r\n\t\t\t\tif(!isColor) curPoint.attr('data-opacity', opacity);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(isColor) {\r\n\t\t\t\t\r\n\t\t\t\tvar opaque = parseInt(opacity, 10),\r\n\t\t\t\t\tval = opaque !== 0 ? false : 'transparent';\r\n\r\n\t\t\t\tonChange(false, val, opacity);\r\n\t\t\t\tupdateSlider(opacity);\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tvar parsed = RevColor.rgbValues(curPoint.attr('data-color'), 3),\r\n\t\t\t\t\tcolor = gradientPreview.colors[pointIndex];\r\n\t\t\t\t\r\n\t\t\t\topacity = (parseInt(opacity, 10) * 0.01).toFixed(2).replace(/\\.?0*$/, '');\r\n\t\t\t\t\r\n\t\t\t\tcolor.r = parsed[0];\r\n\t\t\t\tcolor.g = parsed[1];\r\n\t\t\t\tcolor.b = parsed[2];\r\n\t\t\t\tcolor.a = opacity;\r\n\t\t\t\t\r\n\t\t\t\tclr = RevColor.rgbaString(color.r, color.g, color.b, opacity);\r\n\t\t\t\tcurPoint.attr('data-color', clr);\r\n\t\t\t\tbuildGradientOutput();\r\n\t\t\t\t\r\n\t\t\t\tclr = 'rgba(0, 0, 0, ' + opacity + ')';\t\t\r\n\t\t\t\tcurSquare.style.backgroundColor = clr;\r\n\t\t\t\tcurCorner.style.borderTopColor = clr;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}).on('focusin.revcpicker', focusPatch);\r\n\t\t\r\n\t\t$('.rev-cpicker-builder-hit').on('click.revcpicker', function(e) {\r\n\t\t\t\r\n\t\t\tif(!points) calculatePoints();\r\n\t\t\t\r\n\t\t\tvar hit = parseInt(((e.pageX - hitTop.offset().left) / hitWidth).toFixed(2) * 100, 10),\r\n\t\t\t\talign = this.id.search('bottom') !== -1 ? 'bottom' : 'top',\r\n\t\t\t\tlocations = align === 'bottom' ? botPoints : topPoints,\r\n\t\t\t\tdir = hit < 50 ? 1 : -1;\r\n\t\t\t\r\n\t\t\twhile(locations.indexOf(hit) !== -1) hit += dir;\r\n\t\t\tif(align === 'bottom') {\r\n\t\t\t\t\r\n\t\t\t\tif(cPicker.find('.rev-cpicker-point-bottom').length < maxPoints) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tclonePoint(align, hit);\r\n\t\t\t\t\tselectedColor = false;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t\r\n\t\t\t\t\thitBottom.addClass('full');\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tif(cPicker.find('.rev-cpicker-point-top').length < maxPoints) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tclonePoint(align, hit);\r\n\t\t\t\t\tselectedColor = false;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t\r\n\t\t\t\t\thitTop.addClass('full');\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t});\r\n\t\t\r\n\t\treverse.on('click.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tvar rev = !reverse.hasClass('checked');\r\n\t\t\t\r\n\t\t\tif(rev) reverse.addClass('checked');\r\n\t\t\telse reverse.removeClass('checked');\r\n\t\t\t\r\n\t\t\tbuildGradientOutput(false, true);\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('.rev-cpicker-arrow').on('click.revcpicker', onArrowClick);\r\n\t\tinited = true;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction addPresets(sets) {\r\n\t\t\r\n\t\tvar settings = $.extend({}, sets),\r\n\t\t\tcore = settings.core || {},\r\n\t\t\tcustom = settings.custom,\r\n\t\t\tcontainer,\r\n\t\t\tpreset,\r\n\t\t\tcolors,\r\n\t\t\tlen,\r\n\t\t\tel;\r\n\t\t\r\n\t\tif(!customAdded || custom) {\r\n\t\t\t\r\n\t\t\tlen = 4;\r\n\t\t\tcustomAdded = custom;\r\n\t\t\tcustom = customAdded || {'colors': [], 'gradients': []};\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tlen = 2;\r\n\t\t\t\r\n\t\t}\r\n\t\t\t\r\n\t\tif(!core.colors) core.colors = defColors;\r\n\t\tif(!core.gradients) core.gradients = defGradients;\r\n\t\t\r\n\t\tfor(var i = 0; i < len; i++) {\r\n\t\t\t\r\n\t\t\tswitch(i) {\r\n\t\t\t\t\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\r\n\t\t\t\t\tcontainer = 'colors-core';\r\n\t\t\t\t\tcolors = core.colors;\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\t\r\n\t\t\t\t\tcontainer = 'gradients-core';\r\n\t\t\t\t\tcolors = core.gradients;\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\r\n\t\t\t\t\tcontainer = 'colors-custom';\r\n\t\t\t\t\tcolors = custom.colors;\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\r\n\t\t\t\t\tcontainer = 'gradients-custom';\r\n\t\t\t\t\tcolors = custom.gradients;\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tpreset = writePresets(container, colors.slice() || []);\r\n\t\t\tel = $('#' + preset[0]);\r\n\t\t\tel.find('.rev-cpicker-color').remove();\r\n\t\t\tel.prepend(preset[1]);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t$.tpColorPicker = function(settings) {\r\n\t\t\r\n\t\tif(!bodies) {\r\n\t\t\r\n\t\t\tbodies = $('body');\r\n\t\t\tcPicker = $('<div class=\"' + 'rev-cpicker-wrap color-view\">' + markup + '</div>').appendTo(bodies);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(!settings) settings = {};\t\r\n\t\tif(settings.core) {\r\n\t\t\t\r\n\t\t\tif(settings.core.colors) defColors = settings.core.colors;\r\n\t\t\tif(settings.core.gradients) defGradients = settings.core.gradients;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\taddPresets(settings);\r\n\t\t\r\n\t\tif(!prepped) {\r\n\t\t\t\r\n\t\t\twriteLanguage(settings.language || lang);\r\n\t\t\tdefMode = settings.mode || 'full';\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tpresetGroups.perfectScrollbar('update');\r\n\t\t\tif(settings.mode) defMode = settings.mode;\r\n\t\t\tif(settings.language) writeLanguage(settings.language);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(settings.init) onInit = settings.init;\r\n\t\tif(settings.onAjax) defAjax = settings.onAjax;\r\n\t\tif(settings.onEdit) defEdit = settings.onEdit;\r\n\t\tif(settings.change) defChange = settings.change;\r\n\t\tif(settings.cancel) defCancel = settings.cancel;\r\n\t\tif(settings.widgetId) defWidgetId = settings.widgetId;\r\n\t\tif(settings.defaultValue) RevColor.defaultValue = settings.defaultValue;\r\n\t\tif(settings.wrapClasses) defaultClasses = settings.wrapClasses;\r\n\t\tif(settings.appendedHtml) appendedHTML = settings.appendedHtml;\r\n\t\t\r\n\t\tprepped = true;\r\n\t\t\r\n\t};\r\n\t\r\n\tvar ColorPicker = {\r\n\t\t\r\n\t\trefresh: function() {\r\n\t\t\t\r\n\t\t\tvar $this = $(this);\r\n\t\t\tif($this.hasClass('rev-cpicker-component')) {\r\n\t\t\t\r\n\t\t\t\tvar settings = $this.data('revcp') || {},\r\n\t\t\t\t\tval = $this.val() || settings.defaultValue || RevColor.defaultValue,\r\n\t\t\t\t\tcolorValue = RevColor.process(val);\r\n\t\t\t\t\r\n\t\t\t\tval = colorValue[0];\r\n\t\t\t\tcolorValue = colorValue[1] !== 'rgba' || !RevColor.transparentRgba(val, true) ? val : '';\r\n\t\t\t\t\r\n\t\t\t\tif(val !== 'transparent') $this.data('tpcp')[0].style.background = colorValue;\r\n\t\t\t\telse $this.data('tpcp').css('background', '');\r\n\t\t\t\t\r\n\t\t\t\t$this.attr('data-color', val).data('hex', val);\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t},\r\n\t\t\r\n\t\tdestroy: function() {\r\n\t\t\t\r\n\t\t\tvar $this = $(this).removeData();\r\n\t\t\t$this.closest('.rev-cpicker-master-wrap').removeData().remove();\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t};\r\n\t\r\n\tfunction isFalsey(val) {\r\n\t\t\r\n\t\tif(/(?=.*false)(?=.*rgba)/.test(val)) return val.replace('false', '1');\r\n\t\treturn false;\r\n\t\t\r\n\t}\r\n\t\r\n\t$.fn.tpColorPicker = function(settings) {\r\n\r\n\t\tif(settings && typeof settings === 'string') return this.each(ColorPicker[settings]);\r\n\t\t\r\n\t\treturn this.each(function() {\r\n\t\t\t\r\n\t\t\tvar $this = $(this);\r\n\t\t\tif($this.hasClass('rev-cpicker-component')) {\r\n\t\t\t\t\r\n\t\t\t\t$this.tpColorPicker('refresh');\r\n\t\t\t\treturn;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar wrap = $('<span class=\"rev-colorpicker\"></span>').data('revcolorinput', $this),\r\n\t\t\t\tbox = $('<span class=\"rev-colorbox\" />'),\r\n\t\t\t\tbtn = $('<span class=\"rev-colorbtn\" />'),\r\n\t\t\t\tcls = $this.attr('data-wrap-classes'),\r\n\t\t\t\twrapper = $this.attr('data-wrapper'),\r\n\t\t\t\tids = $this.attr('data-wrap-id'),\r\n\t\t\t\ttxt = $this.attr('data-title'),\r\n\t\t\t\tskin = $this.attr('data-skin'),\r\n\t\t\t\tval = $this.val() || '',\r\n\t\t\t\tfalsey = isFalsey(val),\r\n\t\t\t\tcolorValue,\r\n\t\t\t\tdefValue;\r\n\t\t\t\r\n\t\t\tif(falsey) {\r\n\r\n\t\t\t\tval = falsey;\r\n\t\t\t\t$this.val(falsey);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\twrap.insertBefore($this).append([box, btn, $this]);\r\n\t\t\t\r\n\t\t\tif(settings && $.isPlainObject(settings)) {\r\n\t\t\t\t\r\n\t\t\t\tif(!wrapper) wrapper = settings.wrapper;\r\n\t\t\t\tif(!cls) cls = settings.wrapClasses;\r\n\t\t\t\tif(!skin) skin = settings.skin;\r\n\t\t\t\tif(!ids) ids = settings.wrapId;\r\n\t\t\t\tif(!txt) txt = settings.title;\r\n\t\t\t\t\r\n\t\t\t\tdefValue = settings.defaultValue;\r\n\t\t\t\tvar sets = $this.data('revcp');\r\n\t\t\t\t\r\n\t\t\t\tif(sets) settings = $.extend({}, sets, settings);\r\n\t\t\t\t$this.data('revcp', settings);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(!cls) cls = defaultClasses;\r\n\t\t\tif(cls) wrap.addClass(cls);\r\n\t\t\tif(ids) wrap.attr('id', ids);\r\n\t\t\tif(!val) {\r\n\t\t\t\t\r\n\t\t\t\tval = defValue || RevColor.defaultValue;\r\n\t\t\t\t$this.val(val);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcolorValue = RevColor.process(val);\r\n\t\t\tval = colorValue[0];\r\n\t\t\t\r\n\t\t\tif(colorValue.length === 3) $this.val(val);\r\n\t\t\tcolorValue = colorValue[1] !== 'rgba' || !RevColor.transparentRgba(val, true) ? val : '';\r\n\t\t\tif(colorValue !== 'transparent') box[0].style.background = colorValue;\r\n\t\t\t\r\n\t\t\tbtn[0].innerHTML = txt || langColor || lang.color;\r\n\t\t\t$this.attr({type: 'hidden', 'data-color': val}).data('tpcp', box).addClass('rev-cpicker-component');\r\n\t\t\t\r\n\t\t\tif(skin) wrap.addClass(skin);\r\n\t\t\tif(!wrapper) {\r\n\t\t\t\t\r\n\t\t\t\twrap.addClass('rev-cpicker-master-wrap');\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\twrapper = $(wrapper).addClass('rev-cpicker-master-wrap');\r\n\t\t\t\twrap.wrap(wrapper);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar initCallback = settings ? settings.init || onInit : false;\r\n\t\t\tif(initCallback) initCallback(wrap, $this, val, settings);\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t};\r\n\t\r\n\t$(function() {\r\n\t\r\n\t\t$('body').on('click.revcpicker', '.rev-colorpicker', function() {\r\n\t\t\t\t\r\n\t\t\tif(!inited) init();\r\n\t\t\tcurrentInput = $(this).data('revcolorinput');\r\n\t\t\t\r\n\t\t\tvar widgetId = currentInput.attr('data-widget-id'),\r\n\t\t\t\thtml = currentInput.attr('data-appended-html'),\r\n\t\t\t\tediting = currentInput.attr('data-editing'),\r\n\t\t\t\tdata = currentInput.attr('data-colors'),\r\n\t\t\t\tmode = currentInput.attr('data-mode'),\r\n\t\t\t\tsettings = currentInput.data('revcp'),\r\n\t\t\t\tlang = currentInput.attr('data-lang'),\r\n\t\t\t\tsettingsGradients,\r\n\t\t\t\tcustomGradients,\r\n\t\t\t\tsettingsColors,\r\n\t\t\t\tdataGradients,\r\n\t\t\t\tcustomColors,\r\n\t\t\t\tdataColors,\r\n\t\t\t\tpresets,\r\n\t\t\t\tchange,\r\n\t\t\t\tcancel,\r\n\t\t\t\tvalue,\r\n\t\t\t\tedit,\r\n\t\t\t\tajax,\r\n\t\t\t\tval;\r\n\r\n\t\t\tif(data) {\r\n\t\t\t\t\r\n\t\t\t\tdata = JSON.parse(data.replace(/\\&/g, '\"'));\r\n\t\t\t\tif(data.colors) dataColors = data.colors;\r\n\t\t\t\tif(data.gradients) dataGradients = data.gradients;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(settings) {\r\n\t\t\t\t\r\n\t\t\t\tvar colorSets = settings.colors;\r\n\t\t\t\tif(colorSets) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(colorSets.core) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tsettingsColors = colorSets.core.colors;\r\n\t\t\t\t\t\tsettingsGradients = colorSets.core.gradients;\r\n\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(colorSets.custom) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcustomColors = colorSets.custom.colors;\r\n\t\t\t\t\t\tcustomGradients = colorSets.custom.gradients;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tedit = settings.onEdit;\r\n\t\t\t\tajax = settings.onAjax;\r\n\t\t\t\tchange = settings.change;\r\n\t\t\t\tcancel = settings.cancel;\r\n\t\t\t\t\r\n\t\t\t\tif(!lang) lang = settings.lang;\r\n\t\t\t\tif(!mode) mode = settings.mode;\r\n\t\t\t\tif(!html) html = settings.appendedHtml;\r\n\t\t\t\tif(!editing) editing = settings.editing;\r\n\t\t\t\tif(!widgetId) widgetId = settings.widgetId;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(settingsGradients || settingsColors || customGradients || customColors || dataGradients || dataColors) {\r\n\t\t\t\t\r\n\t\t\t\tpresets = {};\r\n\t\t\t\tif(settingsGradients || settingsColors || dataGradients || dataColors) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tpresets.core = {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcolors: dataColors || settingsColors || defColors,\r\n\t\t\t\t\t\tgradients: dataGradients || settingsGradients || defGradients\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(customGradients || customColors) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tpresets.custom = {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcolors: customColors || defColors,\r\n\t\t\t\t\t\tgradients: customGradients || defGradients\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\taddPresets(presets);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(!widgetId) widgetId = defWidgetId;\r\n\t\t\tif(widgetId) cPicker[0].id = widgetId;\r\n\t\t\t\r\n\t\t\tif(!html) html = appendedHTML;\r\n\t\t\tif(html) appended = $(html).appendTo(mainContainer);\r\n\t\t\t\r\n\t\t\tif(lang) writeLanguage(lang);\r\n\t\t\tif(!mode) mode = defMode;\r\n\t\t\t\r\n\t\t\tif(!editing) {\r\n\t\t\t\t\r\n\t\t\t\tediting = '';\r\n\t\t\t\teditTitle.style.visibility = 'hidden';\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\teditTitle.style.visibility = 'visible';\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcurrentEditing.innerHTML = editing;\r\n\t\t\t\r\n\t\t\tif(mode === 'single' || mode === 'basic') {\r\n\t\t\t\t\r\n\t\t\t\tisFull = false;\r\n\t\t\t\tgradBtn.hide();\r\n\t\t\t\tcolorBtn.show();\r\n\t\t\t\tif(mode === 'basic') cPicker.addClass('is-basic');\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tisFull = true;\r\n\t\t\t\tgradBtn.show();\r\n\t\t\t\tcolorBtn.show();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tval = currentInput.val() || currentInput.attr('data-color') || RevColor.defaultValue;\r\n\t\t\tif(val.split('||').length > 1) {\r\n\t\t\t\t\r\n\t\t\t\tval = RevColor.joinToRgba(val);\r\n\t\t\t\tcurrentInput.val(val);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvalue = setValue(val);\r\n\t\t\topeningValue = value[0];\r\n\t\t\t\r\n\t\t\tonEdit = edit || defEdit;\r\n\t\t\tonAjax = ajax || defAjax;\r\n\t\t\tonCancel = cancel || defCancel;\r\n\t\t\tchangeCallback = change || defChange;\r\n\t\t\t\r\n\t\t\tif(value[1] !== 'gradient') colorBtn.data('state', openingValue);\r\n\t\t\telse gradBtn.data('state', openingValue);\r\n\t\t\t\r\n\t\t\tbodies.addClass('rev-colorpicker-open');\r\n\t\t\tcurrentColor = currentInput.data('tpcp');\r\n\t\t\tcPicker.data('revcpickerinput', currentInput).addClass('active').show();\r\n\t\t\t\r\n\t\t\tpresetGroups.each(checkGroup).perfectScrollbar('update');\r\n\t\t\topeningColor = currentInput.attr('data-color');\r\n\t\t\t\r\n\t\t\tselectedHex = currentInput.data('hex');\r\n\t\t\t$('.rev-cpicker-color').not('.blank').each(checkPreset);\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t});\r\n\t\r\n})(jQuery !== 'undefined' ? jQuery : false);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","Nwdthemes_Revslider/public/assets/js/source/jquery.themepunch.tools.js":"define('themepunchTools', [], function() {\r\n\r\n    var punchgs = window.GreenSockGlobals;\r\n\r\n    // Sandboxing Greensock\r\n    try{\r\n        window.GreenSockGlobals = null;\r\n        window._gsQueue = null;\r\n        window._gsDefine = null;\r\n    \r\n        delete(window.GreenSockGlobals);\r\n        delete(window._gsQueue);\r\n        delete(window._gsDefine);\r\n    } catch(e) {}\r\n    \r\n    try{\r\n        window.GreenSockGlobals = punchgsSandbox.oldgs;\r\n        window._gsQueue = punchgsSandbox.oldgs_queue;\r\n    } catch(e) {}\r\n        \r\n    // for compatibilty with add-on scripts\r\n    window['punchgs'] = punchgs;\r\n\r\n    return punchgs;\r\n});","Nwdthemes_Revslider/public/assets/js/tools/SplitText.js":"/*!\r\n * VERSION: 0.4.0\r\n * DATE: 2016-07-09\r\n * UPDATES AND DOCS AT: http://greensock.com\r\n *\r\n * @license Copyright (c) 2008-2016, GreenSock. All rights reserved.\r\n * SplitText is a Club GreenSock membership benefit; You must have a valid membership to use\r\n * this code without violating the terms of use. Visit http://greensock.com/club/ to sign up or get more details.\r\n * This work is subject to the software agreement that was issued with your membership.\r\n *\r\n * @author: Jack Doyle, jack@greensock.com\r\n */\r\nvar _gsScope = (typeof(module) !== \"undefined\" && module.exports && typeof(global) !== \"undefined\") ? global : this || window; //helps ensure compatibility with AMD/RequireJS and CommonJS/Node\r\n(function(window) {\r\n\r\n\t\"use strict\";\r\n\tvar _globals = window.GreenSockGlobals || window,\r\n\t\t_namespace = function(ns) {\r\n\t\t\tvar a = ns.split(\".\"),\r\n\t\t\t\tp = _globals, i;\r\n\t\t\tfor (i = 0; i < a.length; i++) {\r\n\t\t\t\tp[a[i]] = p = p[a[i]] || {};\r\n\t\t\t}\r\n\t\t\treturn p;\r\n\t\t},\r\n\t\tpkg = _namespace(\"com.greensock.utils\"),\r\n\t\t_getText = function(e) {\r\n\t\t\tvar type = e.nodeType,\r\n\t\t\t\tresult = \"\";\r\n\t\t\tif (type === 1 || type === 9 || type === 11) {\r\n\t\t\t\tif (typeof(e.textContent) === \"string\") {\r\n\t\t\t\t\treturn e.textContent;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor ( e = e.firstChild; e; e = e.nextSibling ) {\r\n\t\t\t\t\t\tresult += _getText(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (type === 3 || type === 4) {\r\n\t\t\t\treturn e.nodeValue;\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t_doc = document,\r\n\t\t_getComputedStyle = _doc.defaultView ? _doc.defaultView.getComputedStyle : function() {},\r\n\t\t_capsExp = /([A-Z])/g,\r\n\t\t_getStyle = function(t, p, cs, str) {\r\n\t\t\tvar result;\r\n\t\t\tif ((cs = cs || _getComputedStyle(t, null))) {\r\n\t\t\t\tt = cs.getPropertyValue(p.replace(_capsExp, \"-$1\").toLowerCase());\r\n\t\t\t\tresult = (t || cs.length) ? t : cs[p]; //Opera behaves VERY strangely - length is usually 0 and cs[p] is the only way to get accurate results EXCEPT when checking for -o-transform which only works with cs.getPropertyValue()!\r\n\t\t\t} else if (t.currentStyle) {\r\n\t\t\t\tcs = t.currentStyle;\r\n\t\t\t\tresult = cs[p];\r\n\t\t\t}\r\n\t\t\treturn str ? result : parseInt(result, 10) || 0;\r\n\t\t},\r\n\t\t_isArrayLike = function(e) {\r\n\t\t\treturn (e.length && e[0] && ((e[0].nodeType && e[0].style && !e.nodeType) || (e[0].length && e[0][0]))) ? true : false; //could be an array of jQuery objects too, so accommodate that.\r\n\t\t},\r\n\t\t_flattenArray = function(a) {\r\n\t\t\tvar result = [],\r\n\t\t\t\tl = a.length,\r\n\t\t\t\ti, e, j;\r\n\t\t\tfor (i = 0; i < l; i++) {\r\n\t\t\t\te = a[i];\r\n\t\t\t\tif (_isArrayLike(e)) {\r\n\t\t\t\t\tj = e.length;\r\n\t\t\t\t\tfor (j = 0; j < e.length; j++) {\r\n\t\t\t\t\t\tresult.push(e[j]);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t_stripExp = /(?:\\r|\\n|\\s\\s|\\t\\t)/g, //find carriage returns, new line feeds, double-spaces, and double-tabs.\r\n\t\t_brSwap = \")eefec303079ad17405c\",\r\n\t\t_brExp = /(?:<br>|<br\\/>|<br \\/>)/gi,\r\n\t\t_isOldIE = (_doc.all && !_doc.addEventListener),\r\n\t\t_divStart = \" style='position:relative;display:inline-block;\" + (_isOldIE ? \"*display:inline;*zoom:1;'\" : \"'\"), //note: we must use both display:inline-block and *display:inline for IE8 and earlier, otherwise it won't flow correctly (and if we only use display:inline, IE won't render most of the property tweens - very odd).\r\n\t\t_cssClassFunc = function(cssClass, tag) {\r\n\t\t\tcssClass = cssClass || \"\";\r\n\t\t\tvar iterate = (cssClass.indexOf(\"++\") !== -1),\r\n\t\t\t\tnum = 1;\r\n\t\t\tif (iterate) {\r\n\t\t\t\tcssClass = cssClass.split(\"++\").join(\"\");\r\n\t\t\t}\r\n\t\t\treturn function() {\r\n\t\t\t\treturn \"<\" + tag + _divStart + (cssClass ? \" class='\" + cssClass + (iterate ? num++ : \"\") + \"'>\" : \">\");\r\n\t\t\t};\r\n\t\t},\r\n\t\tSplitText = pkg.SplitText = _globals.SplitText = function(element, vars) {\r\n\t\t\tif (typeof(element) === \"string\") {\r\n\t\t\t\telement = SplitText.selector(element);\r\n\t\t\t}\r\n\t\t\tif (!element) {\r\n\t\t\t\tthrow(\"cannot split a null element.\");\r\n\t\t\t}\r\n\t\t\tthis.elements = _isArrayLike(element) ? _flattenArray(element) : [element];\r\n\t\t\tthis.chars = [];\r\n\t\t\tthis.words = [];\r\n\t\t\tthis.lines = [];\r\n\t\t\tthis._originals = [];\r\n\t\t\tthis.vars = vars || {};\r\n\t\t\tthis.split(vars);\r\n\t\t},\r\n\t\t_swapText = function(element, oldText, newText) {\r\n\t\t\tvar type = element.nodeType;\r\n\t\t\tif (type === 1 || type === 9 || type === 11) {\r\n\t\t\t\tfor ( element = element.firstChild; element; element = element.nextSibling ) {\r\n\t\t\t\t\t_swapText(element, oldText, newText);\r\n\t\t\t\t}\r\n\t\t\t} else if (type === 3 || type === 4) {\r\n\t\t\t\telement.nodeValue = element.nodeValue.split(oldText).join(newText);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_pushReversed = function(a, merge) {\r\n\t\t\tvar i = merge.length;\r\n\t\t\twhile (--i > -1) {\r\n\t\t\t\ta.push(merge[i]);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_split = function(element, vars, allChars, allWords, allLines) {\r\n\t\t\tif (_brExp.test(element.innerHTML)) {\r\n\t\t\t\telement.innerHTML = element.innerHTML.replace(_brExp, _brSwap); //swap in a unique string for <br/> tags so that we can identify it when we loop through later, and replace it appropriately\r\n\t\t\t}\r\n\t\t\tvar text = _getText(element),\r\n\t\t\t\ttag = vars.span ? \"span\" : \"div\",\r\n\t\t\t\ttypes = vars.type || vars.split || \"chars,words,lines\",\r\n\t\t\t\tlines = (types.indexOf(\"lines\") !== -1) ? [] : null,\r\n\t\t\t\twords = (types.indexOf(\"words\") !== -1),\r\n\t\t\t\tchars = (types.indexOf(\"chars\") !== -1),\r\n\t\t\t\tabsolute = (vars.position === \"absolute\" || vars.absolute === true),\r\n\t\t\t\twordDelimiter = vars.wordDelimiter || \" \",\r\n\t\t\t\tspace = wordDelimiter !== \" \" ? \"\" : (absolute ? \"&#173; \" : \" \"),\r\n\t\t\t\tlineOffsetY = -999,\r\n\t\t\t\tcs = _getComputedStyle(element),\r\n\t\t\t\tpaddingLeft = _getStyle(element, \"paddingLeft\", cs),\r\n\t\t\t\tborderTopAndBottom = _getStyle(element, \"borderBottomWidth\", cs) + _getStyle(element, \"borderTopWidth\", cs),\r\n\t\t\t\tborderLeftAndRight = _getStyle(element, \"borderLeftWidth\", cs) + _getStyle(element, \"borderRightWidth\", cs),\r\n\t\t\t\tpadTopAndBottom = _getStyle(element, \"paddingTop\", cs) + _getStyle(element, \"paddingBottom\", cs),\r\n\t\t\t\tpadLeftAndRight = _getStyle(element, \"paddingLeft\", cs) + _getStyle(element, \"paddingRight\", cs),\r\n\t\t\t\ttextAlign = _getStyle(element, \"textAlign\", cs, true),\r\n\t\t\t\tlineThreshold = _getStyle(element, \"fontSize\") * 0.2,\r\n\t\t\t\torigHeight = element.clientHeight,\r\n\t\t\t\torigWidth = element.clientWidth,\r\n\t\t\t\twordEnd = vars.span ? \"</span>\" : \"</div>\",\r\n\t\t\t\twordStart = _cssClassFunc(vars.wordsClass, tag),\r\n\t\t\t\tcharStart = _cssClassFunc(vars.charsClass, tag),\r\n\t\t\t\titerateLine = ((vars.linesClass || \"\").indexOf(\"++\") !== -1),\r\n\t\t\t\tlinesClass = vars.linesClass,\r\n\t\t\t\thasTagStart = text.indexOf(\"<\") !== -1,\r\n\t\t\t\twordIsOpen = true,\r\n\t\t\t\tcharArray = [],\r\n\t\t\t\twordArray = [],\r\n\t\t\t\tlineArray = [],\r\n\t\t\t\tl, curLine, isChild, splitText, i, j, character, nodes, node, offset, lineNode, style, lineWidth, addWordSpaces;\r\n\r\n\t\t\tif (!vars.reduceWhiteSpace !== false) {\r\n\t\t\t\ttext = text.replace(_stripExp, \"\");\r\n\t\t\t}\r\n\t\t\tif (iterateLine) {\r\n\t\t\t\tlinesClass = linesClass.split(\"++\").join(\"\");\r\n\t\t\t}\r\n\t\t\tif (hasTagStart) {\r\n\t\t\t\ttext = text.split(\"<\").join(\"{{LT}}\"); //we can't leave \"<\" in the string, or when we set the innerHTML, it can be interpreted as\r\n\t\t\t}\r\n\t\t\tl = text.length;\r\n\r\n\t\t\tsplitText = wordStart();\r\n\t\t\tfor (i = 0; i < l; i++) {\r\n\t\t\t\tcharacter = text.charAt(i);\r\n\t\t\t\tif (character === \")\" && text.substr(i, 20) === _brSwap) {\r\n\t\t\t\t\tsplitText += (wordIsOpen ? wordEnd : \"\") + \"<BR/>\";\r\n\t\t\t\t\twordIsOpen = false;\r\n\t\t\t\t\tif (i !== l - 20 && text.substr(i+20, 20) !== _brSwap) {\r\n\t\t\t\t\t\tsplitText += \" \" + wordStart();\r\n\t\t\t\t\t\twordIsOpen = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti += 19;\r\n\r\n\t\t\t\t} else if (character === wordDelimiter && text.charAt(i-1) !== wordDelimiter && i !== l-1 && text.substr(i-20, 20) !== _brSwap) {\r\n\t\t\t\t\tsplitText += wordIsOpen ? wordEnd : \"\";\r\n\t\t\t\t\twordIsOpen = false;\r\n\t\t\t\t\twhile (text.charAt(i + 1) === wordDelimiter) { //skip over empty spaces (to avoid making them words)\r\n\t\t\t\t\t\tsplitText += space;\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (text.charAt(i + 1) !== \")\" || text.substr(i + 1, 20) !== _brSwap) {\r\n\t\t\t\t\t\tsplitText += space + wordStart();\r\n\t\t\t\t\t\twordIsOpen = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if (character === \"{\" && text.substr(i, 6) === \"{{LT}}\") {\r\n\t\t\t\t\tsplitText +=  chars ? charStart() + \"{{LT}}\" + \"</\" + tag + \">\" : \"{{LT}}\";\r\n\t\t\t\t\ti += 5;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsplitText += (chars && character !== \" \") ? charStart() + character + \"</\" + tag + \">\" : character;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telement.innerHTML = splitText + (wordIsOpen ? wordEnd : \"\");\r\n\r\n\t\t\tif (hasTagStart) {\r\n\t\t\t\t_swapText(element, \"{{LT}}\", \"<\");\r\n\t\t\t}\r\n\t\t\t//copy all the descendant nodes into an array (we can't use a regular nodeList because it's live and we may need to renest things)\r\n\t\t\tj = element.getElementsByTagName(\"*\");\r\n\t\t\tl = j.length;\r\n\t\t\tnodes = [];\r\n\t\t\tfor (i = 0; i < l; i++) {\r\n\t\t\t\tnodes[i] = j[i];\r\n\t\t\t}\r\n\r\n\t\t\t//for absolute positioning, we need to record the x/y offsets and width/height for every <div>. And even if we're not positioning things absolutely, in order to accommodate lines, we must figure out where the y offset changes so that we can sense where the lines break, and we populate the lines array.\r\n\t\t\tif (lines || absolute) {\r\n\t\t\t\tfor (i = 0; i < l; i++) {\r\n\t\t\t\t\tnode = nodes[i];\r\n\t\t\t\t\tisChild = (node.parentNode === element);\r\n\t\t\t\t\tif (isChild || absolute || (chars && !words)) {\r\n\t\t\t\t\t\toffset = node.offsetTop;\r\n\t\t\t\t\t\tif (lines && isChild && Math.abs(offset - lineOffsetY) > lineThreshold && node.nodeName !== \"BR\") { //we found some rare occasions where a certain character like &#8209; could cause the offsetTop to be off by 1 pixel, so we build in a threshold.\r\n\t\t\t\t\t\t\tcurLine = [];\r\n\t\t\t\t\t\t\tlines.push(curLine);\r\n\t\t\t\t\t\t\tlineOffsetY = offset;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (absolute) { //record offset x and y, as well as width and height so that we can access them later for positioning. Grabbing them at once ensures we don't trigger a browser paint & we maximize performance.\r\n\t\t\t\t\t\t\tnode._x = node.offsetLeft;\r\n\t\t\t\t\t\t\tnode._y = offset;\r\n\t\t\t\t\t\t\tnode._w = node.offsetWidth;\r\n\t\t\t\t\t\t\tnode._h = node.offsetHeight;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (lines) {\r\n\t\t\t\t\t\t\tif (words === isChild || !chars) {\r\n\t\t\t\t\t\t\t\tcurLine.push(node);\r\n\t\t\t\t\t\t\t\tnode._x -= paddingLeft;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (isChild && i) {\r\n\t\t\t\t\t\t\t\tnodes[i-1]._wordEnd = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (node.nodeName === \"BR\" && node.nextSibling && node.nextSibling.nodeName === \"BR\") { //two consecutive <br> tags signify a new [empty] line.\r\n\t\t\t\t\t\t\t\tlines.push([]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (i = 0; i < l; i++) {\r\n\t\t\t\tnode = nodes[i];\r\n\t\t\t\tisChild = (node.parentNode === element);\r\n\t\t\t\tif (node.nodeName === \"BR\") {\r\n\t\t\t\t\tif (lines || absolute) {\r\n\t\t\t\t\t\telement.removeChild(node);\r\n\t\t\t\t\t\tnodes.splice(i--, 1);\r\n\t\t\t\t\t\tl--;\r\n\t\t\t\t\t} else if (!words) {\r\n\t\t\t\t\t\telement.appendChild(node);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (absolute) {\r\n\t\t\t\t\tstyle = node.style;\r\n\t\t\t\t\tif (!words && !isChild) {\r\n\t\t\t\t\t\tnode._x += node.parentNode._x;\r\n\t\t\t\t\t\tnode._y += node.parentNode._y;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstyle.left = node._x + \"px\";\r\n\t\t\t\t\tstyle.top = node._y + \"px\";\r\n\t\t\t\t\tstyle.position = \"absolute\";\r\n\t\t\t\t\tstyle.display = \"block\";\r\n\t\t\t\t\t//if we don't set the width/height, things collapse in older versions of IE and the origin for transforms is thrown off in all browsers.\r\n\t\t\t\t\tstyle.width = (node._w + 1) + \"px\"; //IE is 1px short sometimes. Avoid wrapping\r\n\t\t\t\t\tstyle.height = node._h + \"px\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!words) {\r\n\t\t\t\t\t//we always start out wrapping words in their own <div> so that line breaks happen correctly, but here we'll remove those <div> tags if necessary and renest the characters directly into the element rather than inside the word <div>\r\n\t\t\t\t\tif (isChild) {\r\n\t\t\t\t\t\telement.removeChild(node);\r\n\t\t\t\t\t\tnodes.splice(i--, 1);\r\n\t\t\t\t\t\tl--;\r\n\t\t\t\t\t} else if (!isChild && chars) {\r\n\t\t\t\t\t\toffset = (!lines && !absolute && node.nextSibling); //if this is the last letter in the word (and we're not breaking by lines and not positioning things absolutely), we need to add a space afterwards so that the characters don't just mash together\r\n\t\t\t\t\t\telement.appendChild(node);\r\n\t\t\t\t\t\tif (!offset) {\r\n\t\t\t\t\t\t\telement.appendChild(_doc.createTextNode(\" \"));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcharArray.push(node);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (isChild && node.innerHTML !== \"\") {\r\n\t\t\t\t\twordArray.push(node);\r\n\t\t\t\t} else if (chars) {\r\n\t\t\t\t\tcharArray.push(node);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (lines) {\r\n\t\t\t\t//the next 7 lines just give us the line width in the most reliable way and figure out the left offset (if position isn't relative or absolute). We must set the width along with text-align to ensure everything works properly for various alignments.\r\n\t\t\t\tif (absolute) {\r\n\t\t\t\t\tlineNode = _doc.createElement(tag);\r\n\t\t\t\t\telement.appendChild(lineNode);\r\n\t\t\t\t\tlineWidth = lineNode.offsetWidth + \"px\";\r\n\t\t\t\t\toffset = (lineNode.offsetParent === element) ? 0 : element.offsetLeft;\r\n\t\t\t\t\telement.removeChild(lineNode);\r\n\t\t\t\t}\r\n\t\t\t\tstyle = element.style.cssText;\r\n\t\t\t\telement.style.cssText = \"display:none;\"; //to improve performance, set display:none on the element so that the browser doesn't have to worry about reflowing or rendering while we're renesting things. We'll revert the cssText later.\r\n\t\t\t\t//we can't use element.innerHTML = \"\" because that causes IE to literally delete all the nodes and their content even though we've stored them in an array! So we must loop through the children and remove them.\r\n\t\t\t\twhile (element.firstChild) {\r\n\t\t\t\t\telement.removeChild(element.firstChild);\r\n\t\t\t\t}\r\n\t\t\t\taddWordSpaces = (wordDelimiter === \" \" && (!absolute || (!words && !chars)));\r\n\t\t\t\tfor (i = 0; i < lines.length; i++) {\r\n\t\t\t\t\tcurLine = lines[i];\r\n\t\t\t\t\tlineNode = _doc.createElement(tag);\r\n\t\t\t\t\tlineNode.style.cssText = \"display:block;text-align:\" + textAlign + \";position:\" + (absolute ? \"absolute;\" : \"relative;\");\r\n\t\t\t\t\tif (linesClass) {\r\n\t\t\t\t\t\tlineNode.className = linesClass + (iterateLine ? i+1 : \"\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlineArray.push(lineNode);\r\n\t\t\t\t\tl = curLine.length;\r\n\t\t\t\t\tfor (j = 0; j < l; j++) {\r\n\t\t\t\t\t\tif (curLine[j].nodeName !== \"BR\") {\r\n\t\t\t\t\t\t\tnode = curLine[j];\r\n\t\t\t\t\t\t\tlineNode.appendChild(node);\r\n\t\t\t\t\t\t\tif (addWordSpaces && (node._wordEnd || words)) {\r\n\t\t\t\t\t\t\t\tlineNode.appendChild(_doc.createTextNode(\" \"));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (absolute) {\r\n\t\t\t\t\t\t\t\tif (j === 0) {\r\n\t\t\t\t\t\t\t\t\tlineNode.style.top = node._y + \"px\";\r\n\t\t\t\t\t\t\t\t\tlineNode.style.left = (paddingLeft + offset) + \"px\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tnode.style.top = \"0px\";\r\n\t\t\t\t\t\t\t\tif (offset) {\r\n\t\t\t\t\t\t\t\t\tnode.style.left = (node._x - offset) + \"px\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (l === 0) { //if there are no nodes in the line (typically meaning there were two consecutive <br> tags, just add a non-breaking space so that things display properly.\r\n\t\t\t\t\t\tlineNode.innerHTML = \"&nbsp;\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!words && !chars) {\r\n\t\t\t\t\t\tlineNode.innerHTML = _getText(lineNode).split(String.fromCharCode(160)).join(\" \");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (absolute) {\r\n\t\t\t\t\t\tlineNode.style.width = lineWidth;\r\n\t\t\t\t\t\tlineNode.style.height = node._h + \"px\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telement.appendChild(lineNode);\r\n\t\t\t\t}\r\n\t\t\t\telement.style.cssText = style;\r\n\t\t\t}\r\n\r\n\t\t\t//if everything shifts to being position:absolute, the container can collapse in terms of height or width, so fix that here.\r\n\t\t\tif (absolute) {\r\n\t\t\t\tif (origHeight > element.clientHeight) {\r\n\t\t\t\t\telement.style.height = (origHeight - padTopAndBottom) + \"px\";\r\n\t\t\t\t\tif (element.clientHeight < origHeight) { //IE8 and earlier use a different box model - we must include padding and borders\r\n\t\t\t\t\t\telement.style.height = (origHeight + borderTopAndBottom)+ \"px\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (origWidth > element.clientWidth) {\r\n\t\t\t\t\telement.style.width = (origWidth - padLeftAndRight) + \"px\";\r\n\t\t\t\t\tif (element.clientWidth < origWidth) { //IE8 and earlier use a different box model - we must include padding and borders\r\n\t\t\t\t\t\telement.style.width = (origWidth + borderLeftAndRight)+ \"px\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t_pushReversed(allChars, charArray);\r\n\t\t\t_pushReversed(allWords, wordArray);\r\n\t\t\t_pushReversed(allLines, lineArray);\r\n\t\t},\r\n\t\tp = SplitText.prototype;\r\n\r\n\tp.split = function(vars) {\r\n\t\tif (this.isSplit) {\r\n\t\t\tthis.revert();\r\n\t\t}\r\n\t\tthis.vars = vars || this.vars;\r\n\t\tthis._originals.length = this.chars.length = this.words.length = this.lines.length = 0;\r\n\t\tvar i = this.elements.length;\r\n\t\t//we split in reversed order so that if/when we position:absolute elements, they don't affect the position of the ones after them in the document flow (shifting them up as they're taken out of the document flow).\r\n\t\twhile (--i > -1) {\r\n\t\t\tthis._originals[i] = this.elements[i].innerHTML;\r\n\t\t\t_split(this.elements[i], this.vars, this.chars, this.words, this.lines);\r\n\t\t}\r\n\t\tthis.chars.reverse();\r\n\t\tthis.words.reverse();\r\n\t\tthis.lines.reverse();\r\n\t\tthis.isSplit = true;\r\n\t\treturn this;\r\n\t};\r\n\r\n\tp.revert = function() {\r\n\t\tif (!this._originals) {\r\n\t\t\tthrow(\"revert() call wasn't scoped properly.\");\r\n\t\t}\r\n\t\tvar i = this._originals.length;\r\n\t\twhile (--i > -1) {\r\n\t\t\tthis.elements[i].innerHTML = this._originals[i];\r\n\t\t}\r\n\t\tthis.chars = [];\r\n\t\tthis.words = [];\r\n\t\tthis.lines = [];\r\n\t\tthis.isSplit = false;\r\n\t\treturn this;\r\n\t};\r\n\r\n\tSplitText.selector = window.$ || window.jQuery || function(e) {\r\n\t\t\tvar selector = window.$ || window.jQuery;\r\n\t\t\tif (selector) {\r\n\t\t\t\tSplitText.selector = selector;\r\n\t\t\t\treturn selector(e);\r\n\t\t\t}\r\n\t\t\treturn (typeof(document) === \"undefined\") ? e : (document.querySelectorAll ? document.querySelectorAll(e) : document.getElementById((e.charAt(0) === \"#\") ? e.substr(1) : e));\r\n\t\t};\r\n\tSplitText.version = \"0.4.0\";\r\n\r\n})(_gsScope);\r\n\r\n//export to AMD/RequireJS and CommonJS/Node (precursor to full modular build system coming at a later date)\r\n(function(name) {\r\n\t\"use strict\";\r\n\tvar getGlobal = function() {\r\n\t\treturn (_gsScope.GreenSockGlobals || _gsScope)[name];\r\n\t};\r\n\tif (typeof(define) === \"function\" && define.amd) { //AMD\r\n\t\tdefine([], getGlobal);\r\n\t} else if (typeof(module) !== \"undefined\" && module.exports) { //node\r\n\t\tmodule.exports = getGlobal();\r\n\t}\r\n}(\"SplitText\"));"}
}});
