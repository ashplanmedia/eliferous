require.config({"config": {
        "jsbuild":{"Magento_Tinymce3/tiny_mce/classes/firebug/firebug-lite.js":"var firebug = {\n  version:[1.23,20090309],\n  el:{}, \n  env:{ \n    \"cache\":{},\n    \"extConsole\":null,\n    \"css\":\"http://getfirebug.com/releases/lite/1.2/firebug-lite.css\", \n    \"debug\":true,\n    \"detectFirebug\":true,\n    \"dIndex\":\"console\", \n    \"height\":295,\n    \"hideDOMFunctions\":false,\n    \"init\":false, \n    \"isPopup\":false,\n    \"liteFilename\":\"firebug-lite.js\",\n    \"minimized\":false,\n    \"openInPopup\": false,\n    \"override\":true,\n    \"ml\":false,\n    \"popupWin\":null,\n    \"showIconWhenHidden\":true,\n    \"targetWindow\":undefined,\n    \"popupTop\":1,\n    \"popupLeft\":1,\n    \"popupWidth\":undefined,\n    \"popupHeight\":undefined\n  },\n  initConsole:function(){\n    /* \n     * initialize the console - user defined values are not available within this method because FBLite is not yet initialized\n     */\n    var command;\n    try{\n      if((!window.console || (window.console && !window.console.firebug)) || (firebug.env.override && !(/Firefox\\/3/i.test(navigator.userAgent)))){\n        window.console = { \"provider\":\"Firebug Lite\" };\n\n        for(command in firebug.d.console.cmd){\n          window.console[command] = firebug.lib.util.Curry(firebug.d.console.run,window,command);\n        };\n      }\n      /*window.onerror = function(_message,_file,_line){\n        firebug.d.console.run('error',firebug.lib.util.String.format('{0} ({1},{2})',_message,firebug.getFileName(_file),_line));\n      };*/\n      } catch(e){}\n  },\n  overrideConsole:function(){\n    with (firebug){\n      env.override=true;\n      try{\n        env.extConsole=window.console;\n      } catch(e){}\n      initConsole();\n    }\n  },\n  restoreConsole:function(){\n    with(firebug){\n      if(env.extConsole){\n        env.override=false;\n        try{\n          window.console=env.extConsole;\n        } catch(e){}\n        env.extConsole=null;\n      }\n    }\n  },\n  init:function(_css){\n    var iconTitle = \"Click here or press F12, (CTRL|CMD)+SHIFT+L or SHIFT+ENTER to show Firebug Lite. CTRL|CMD click this icon to hide it.\";\n  \n    with(firebug){\n      if(document.getElementsByTagName('html')[0].attributes.getNamedItem('debug')){\n        env.debug = document.getElementsByTagName('html')[0].attributes.getNamedItem('debug').nodeValue !== \"false\";\n      }\n            \n      if(env.isPopup) {\n        env.openInPopup = false;\n        env.targetWindow = window.opener;\n        env.popupWidth = window.opener.firebug.env.popupWidth || window.opener.firebug.lib.util.GetViewport().width;\n        env.popupHeight = window.opener.firebug.env.popupHeight || window.opener.firebug.lib.util.GetViewport().height;\n      } else {\n        env.targetWindow = window;\n        env.popupWidth = env.popupWidth || lib.util.GetViewport().width;\n        env.popupHeight = env.popupHeight || lib.util.GetViewport().height;\n      }\n\n      settings.readCookie();\n      \n      if(env.init || (env.detectFirebug && window.console && window.console.firebug)) {\n        return;\n      }\n\n      document.getElementsByTagName(\"head\")[0].appendChild(\n        new lib.element(\"link\").attribute.set(\"rel\",\"stylesheet\").attribute.set(\"type\",\"text/css\").attribute.set(\"href\",env.css).element\n      );\n\n      if(env.override){\n        overrideConsole();\n      }\n      \n      /* \n       * Firebug Icon\n       */\n      el.firebugIcon = new lib.element(\"div\").attribute.set(\"id\",\"firebugIconDiv\").attribute.set(\"title\",iconTitle).attribute.set(\"alt\",iconTitle).event.addListener(\"mousedown\",win.iconClicked).insert(document.body);\n      \n      /* \n       * main interface\n       */\n      el.content = {};\n      el.mainiframe = new lib.element(\"IFRAME\").attribute.set(\"id\",\"FirebugIFrame\").environment.addStyle({ \"display\":\"none\", \"width\":lib.util.GetViewport().width+\"px\" }).insert(document.body);\n      el.main = new lib.element(\"DIV\").attribute.set(\"id\",\"Firebug\").environment.addStyle({ \"display\":\"none\", \"width\":lib.util.GetViewport().width+\"px\" }).insert(document.body);\n      if(!env.isPopup){\n        el.resizer = new lib.element(\"DIV\").attribute.addClass(\"Resizer\").event.addListener(\"mousedown\",win.resizer.start).insert(el.main);\n      }\n      el.header = new lib.element(\"DIV\").attribute.addClass(\"Header\").insert(el.main);\n      el.left = {};\n      el.left.container = new lib.element(\"DIV\").attribute.addClass(\"Left\").insert(el.main);\n      el.right = {};\n      el.right.container = new lib.element(\"DIV\").attribute.addClass(\"Right\").insert(el.main);\n      el.main.child.add(new lib.element(\"DIV\").attribute.addClass('Clear'));\n\n      /*\n       * buttons\n       */\n      el.button = {};\n      el.button.container = new lib.element(\"DIV\").attribute.addClass(\"ButtonContainer\").insert(el.header);\n      el.button.logo = new lib.element(\"A\").attribute.set(\"title\",\"Firebug Lite\").attribute.set(\"target\",\"_blank\").attribute.set(\"href\",\"http://getfirebug.com/lite.html\").update(\"&nbsp;\").attribute.addClass(\"Button Logo\").insert(el.button.container);\n      el.button.inspect = new lib.element(\"A\").attribute.addClass(\"Button\").event.addListener(\"click\",env.targetWindow.firebug.d.inspector.toggle).update(\"Inspect\").insert(el.button.container);\n      el.button.dock = new lib.element(\"A\").attribute.addClass(\"Button Dock\").event.addListener(\"click\", win.dock).insert(el.button.container);\n      el.button.newWindow = new lib.element(\"A\").attribute.addClass(\"Button NewWindow\").event.addListener(\"click\", win.newWindow).insert(el.button.container);\n\n      if(!env.isPopup){\n        el.button.maximize = new lib.element(\"A\").attribute.addClass(\"Button Maximize\").event.addListener(\"click\",win.maximize).insert(el.button.container);\n        el.button.minimize = new lib.element(\"A\").attribute.addClass(\"Button Minimize\").event.addListener(\"click\",win.minimize).insert(el.button.container);\n        el.button.close = new lib.element(\"A\").attribute.addClass(\"Button Close\").event.addListener(\"click\",win.hide).insert(el.button.container);\n      }\n\n      if(lib.env.ie||lib.env.webkit){\n        el.button.container.environment.addStyle({ \"paddingTop\":\"12px\" });\n      }\n\n      /*\n       * navigation\n       */\n      el.nav = {};\n      el.nav.container = new lib.element(\"DIV\").attribute.addClass(\"Nav\").insert(el.left.container);\n      el.nav.console = new lib.element(\"A\").attribute.addClass(\"Tab Selected\").event.addListener(\"click\",lib.util.Curry(d.navigate,window,\"console\")).update(\"Console\").insert(el.nav.container);\n      el.nav.html = new lib.element(\"A\").attribute.addClass(\"Tab\").update(\"HTML\").event.addListener(\"click\",lib.util.Curry(d.navigate,window,\"html\")).insert(el.nav.container);\n      el.nav.css = new lib.element(\"A\").attribute.addClass(\"Tab\").update(\"CSS\").event.addListener(\"click\",lib.util.Curry(d.navigate,window,\"css\")).insert(el.nav.container);\n      if(!env.isPopup){\n        el.nav.scripts = new lib.element(\"A\").attribute.addClass(\"Tab\").update(\"Script\").event.addListener(\"click\",lib.util.Curry(d.navigate,window,\"scripts\")).insert(el.nav.container);\n      }\n      el.nav.dom = new lib.element(\"A\").attribute.addClass(\"Tab\").update(\"DOM\").event.addListener(\"click\",lib.util.Curry(d.navigate,env.targetWindow,\"dom\")).insert(el.nav.container);\n      el.nav.xhr = new lib.element(\"A\").attribute.addClass(\"Tab\").update(\"XHR\").event.addListener(\"click\",lib.util.Curry(d.navigate,window,\"xhr\")).insert(el.nav.container);\n      el.nav.optionsdiv = new lib.element(\"DIV\").attribute.addClass(\"Settings\").insert(el.nav.container);\n      el.nav.options = new lib.element(\"A\").attribute.addClass(\"Tab\").update(\"Options&nbsp;&or;\").event.addListener(\"click\", settings.toggle).insert(el.nav.optionsdiv);\n      \n      /*\n       * inspector\n       */\n      el.borderInspector = new lib.element(\"DIV\").attribute.set(\"id\",\"FirebugBorderInspector\").event.addListener(\"click\",listen.inspector).insert(document.body);\n      el.bgInspector = new lib.element(\"DIV\").attribute.set(\"id\",\"FirebugBGInspector\").insert(document.body);\n\n      /*\n       * console\n       */\n      el.left.console = {};\n      el.left.console.container = new lib.element(\"DIV\").attribute.addClass(\"Console\").insert(el.left.container);\n      el.left.console.mlButton = new lib.element(\"A\").attribute.addClass(\"MLButton\").event.addListener(\"click\",d.console.toggleML).insert(el.left.console.container);\n      el.left.console.monitor = new lib.element(\"DIV\").insert(\n          new lib.element(\"DIV\").attribute.addClass(\"Monitor\").insert(el.left.console.container)\n      );\n      el.left.console.container.child.add(\n          new lib.element(\"DIV\").attribute.addClass(\"InputArrow\").update(\">>>\")\n      );\n      el.left.console.input = new lib.element(\"INPUT\").attribute.set(\"type\",\"text\").attribute.addClass(\"Input\").event.addListener(\"keydown\",listen.consoleTextbox).insert(\n          new lib.element(\"DIV\").attribute.addClass(\"InputContainer\").insert(el.left.console.container)\n      );\n\n      el.right.console = {};\n      el.right.console.container = new lib.element(\"DIV\").attribute.addClass(\"Console Container\").insert(el.right.container);\n      el.right.console.mlButton = new lib.element(\"A\").attribute.addClass(\"MLButton CloseML\").event.addListener(\"click\",d.console.toggleML).insert(el.right.console.container);\n      el.right.console.input = new lib.element(\"TEXTAREA\").attribute.addClass(\"Input\").insert(el.right.console.container);\n      el.right.console.input.event.addListener(\"keydown\",lib.util.Curry(tab,window,el.right.console.input.element));\n      el.right.console.run = new lib.element(\"A\").attribute.addClass(\"Button\").event.addListener(\"click\",listen.runMultiline).update(\"Run\").insert(el.right.console.container);\n      el.right.console.clear = new lib.element(\"A\").attribute.addClass(\"Button\").event.addListener(\"click\",lib.util.Curry(d.clean,window,el.right.console.input)).update(\"Clear\").insert(el.right.console.container);\n\n      el.button.console = {};\n      el.button.console.container = new lib.element(\"DIV\").attribute.addClass(\"ButtonSet\").insert(el.button.container);\n      el.button.console.clear = new lib.element(\"A\").attribute.addClass(\"Button\").event.addListener(\"click\",d.console.clear).update(\"Clear\").insert(el.button.console.container);\n\n      /*\n       * html\n       */\n\n      el.left.html = {};\n      el.left.html.container = new lib.element(\"DIV\").attribute.addClass(\"HTML\").insert(el.left.container);\n\n      el.right.html = {};\n      el.right.html.container = new lib.element(\"DIV\").attribute.addClass(\"HTML Container\").insert(el.right.container);\n\n      el.right.html.nav = {};\n      el.right.html.nav.container = new lib.element(\"DIV\").attribute.addClass(\"Nav\").insert(el.right.html.container);\n      el.right.html.nav.computedStyle = new lib.element(\"A\").attribute.addClass(\"Tab Selected\").event.addListener(\"click\",lib.util.Curry(d.html.navigate,firebug,\"computedStyle\")).update(\"Computed Style\").insert(el.right.html.nav.container);\n      el.right.html.nav.dom = new lib.element(\"A\").attribute.addClass(\"Tab\").event.addListener(\"click\",lib.util.Curry(d.html.navigate,firebug,\"dom\")).update(\"DOM\").insert(el.right.html.nav.container);\n\n      el.right.html.content = new lib.element(\"DIV\").attribute.addClass(\"Content\").insert(el.right.html.container);\n\n      el.button.html = {};\n      el.button.html.container = new lib.element(\"DIV\").attribute.addClass(\"ButtonSet HTML\").insert(el.button.container);\n\n      /*\n       * css\n       */\n\n      el.left.css = {};\n      el.left.css.container = new lib.element(\"DIV\").attribute.addClass(\"CSS\").insert(el.left.container);\n\n      el.right.css = {};\n      el.right.css.container = new lib.element(\"DIV\").attribute.addClass(\"CSS Container\").insert(el.right.container);\n\n      el.right.css.nav = {};\n      el.right.css.nav.container = new lib.element(\"DIV\").attribute.addClass(\"Nav\").insert(el.right.css.container);\n      el.right.css.nav.runCSS = new lib.element(\"A\").attribute.addClass(\"Tab Selected\").update(\"Run CSS\").insert(el.right.css.nav.container);\n\n      el.right.css.mlButton = new lib.element(\"A\").attribute.addClass(\"MLButton CloseML\").event.addListener(\"click\",d.console.toggleML).insert(el.right.css.container);\n      el.right.css.input = new lib.element(\"TEXTAREA\").attribute.addClass(\"Input\").insert(el.right.css.container);\n      el.right.css.input.event.addListener(\"keydown\",lib.util.Curry(firebug.tab,window,el.right.css.input.element));\n      el.right.css.run = new lib.element(\"A\").attribute.addClass(\"Button\").event.addListener(\"click\",listen.runCSS).update(\"Run\").insert(el.right.css.container);\n      el.right.css.clear = new lib.element(\"A\").attribute.addClass(\"Button\").event.addListener(\"click\",lib.util.Curry(d.clean,window,el.right.css.input)).update(\"Clear\").insert(el.right.css.container);\n\n      el.button.css = {};\n      el.button.css.container = new lib.element(\"DIV\").attribute.addClass(\"ButtonSet CSS\").insert(el.button.container);\n      el.button.css.selectbox = new lib.element(\"SELECT\").event.addListener(\"change\",listen.cssSelectbox).insert(el.button.css.container);\n\n      /*\n       * scripts\n       */\n\n      el.left.scripts = {};\n      el.left.scripts.container = new lib.element(\"DIV\").attribute.addClass(\"Scripts\").insert(el.left.container);\n\n      el.right.scripts = {};\n      el.right.scripts.container = new lib.element(\"DIV\").attribute.addClass(\"Scripts Container\").insert(el.right.container);\n\n      el.button.scripts = {};\n      el.button.scripts.container = new lib.element(\"DIV\").attribute.addClass(\"ButtonSet Scripts\").insert(el.button.container);\n      el.button.scripts.selectbox = new lib.element(\"SELECT\").event.addListener(\"change\",listen.scriptsSelectbox).insert(el.button.scripts.container);\n      el.button.scripts.lineNumbers = new lib.element(\"A\").attribute.addClass(\"Button\").event.addListener(\"click\",d.scripts.toggleLineNumbers).update(\"Show Line Numbers\").insert(el.button.scripts.container);\n\n      /*\n       * dom\n       */\n\n      el.left.dom = {};\n      el.left.dom.container = new lib.element(\"DIV\").attribute.addClass(\"DOM\").insert(el.left.container);\n\n      el.right.dom = {};\n      el.right.dom.container = new lib.element(\"DIV\").attribute.addClass(\"DOM Container\").insert(el.right.container);\n\n      el.button.dom = {};\n      el.button.dom.container = new lib.element(\"DIV\").attribute.addClass(\"ButtonSet DOM\").insert(el.button.container);\n      el.button.dom.label = new lib.element(\"LABEL\").update(\"Object Path:\").insert(el.button.dom.container);\n      el.button.dom.textbox = new lib.element(\"INPUT\").event.addListener(\"keydown\",listen.domTextbox).update(env.isPopup?\"window.opener\":\"window\").insert(el.button.dom.container);\n\n      /*\n       * str\n       */\n      el.left.str = {};\n      el.left.str.container = new lib.element(\"DIV\").attribute.addClass(\"STR\").insert(el.left.container);\n\n      el.right.str = {};\n      el.right.str.container = new lib.element(\"DIV\").attribute.addClass(\"STR\").insert(el.left.container);\n\n      el.button.str = {};\n      el.button.str.container = new lib.element(\"DIV\").attribute.addClass(\"ButtonSet XHR\").insert(el.button.container);\n      el.button.str.watch = new lib.element(\"A\").attribute.addClass(\"Button\").event.addListener(\"click\",lib.util.Curry(d.navigate,window,\"xhr\")).update(\"Back\").insert(el.button.str.container);\n\n      /*\n       * xhr\n       */\n      el.left.xhr = {};\n      el.left.xhr.container = new lib.element(\"DIV\").attribute.addClass(\"XHR\").insert(el.left.container);\n\n      el.right.xhr = {};\n      el.right.xhr.container = new lib.element(\"DIV\").attribute.addClass(\"XHR\").insert(el.left.container);\n\n\n      el.button.xhr = {};\n      el.button.xhr.container = new lib.element(\"DIV\").attribute.addClass(\"ButtonSet XHR\").insert(el.button.container);\n      el.button.xhr.label = new lib.element(\"LABEL\").update(\"XHR Path:\").insert(el.button.xhr.container);\n      el.button.xhr.textbox = new lib.element(\"INPUT\").event.addListener(\"keydown\",listen.xhrTextbox).insert(el.button.xhr.container);\n      el.button.xhr.watch = new lib.element(\"A\").attribute.addClass(\"Button\").event.addListener(\"click\",listen.addXhrObject).update(\"Watch\").insert(el.button.xhr.container);\n\n      /*\n       * settings\n       */\n      el.settings = {};\n      el.settings.container = new lib.element(\"DIV\").child.add(\n        new lib.element(\"DIV\").attribute.addClass(\"Header\").child.add(\n          new lib.element().attribute.addClass(\"Title\").update('Firebug Lite Settings')\n        )\n      ).attribute.addClass(\"SettingsDiv\").insert(el.main);\n      el.settings.content = new lib.element(\"DIV\").attribute.addClass(\"Content\").insert(el.settings.container);\n      el.settings.progressDiv = new lib.element(\"DIV\").attribute.addClass(\"ProgressDiv\").insert(el.settings.content);\n      el.settings.progress = new lib.element(\"DIV\").attribute.addClass(\"Progress\").insert(el.settings.progressDiv);\n      el.settings.cbxDebug = new lib.element(\"INPUT\").attribute.set(\"type\",\"checkbox\").attribute.addClass(\"SettingsCBX\").insert(el.settings.content);\n      el.settings.content.child.add(document.createTextNode(\"Start visible\"));\n      new lib.element(\"BR\").insert(el.settings.content);\n      el.settings.cbxDetectFirebug = new lib.element(\"INPUT\").attribute.set(\"type\",\"checkbox\").attribute.addClass(\"SettingsCBX\").insert(el.settings.content);\n      el.settings.content.child.add(document.createTextNode(\"Hide when Firebug active\"));\n      new lib.element(\"BR\").insert(el.settings.content);\n      el.settings.cbxHideDOMFunctions = new lib.element(\"INPUT\").attribute.set(\"type\",\"checkbox\").attribute.addClass(\"SettingsCBX\").insert(el.settings.content);\n      el.settings.content.child.add(document.createTextNode(\"Hide DOM functions\"));\n      new lib.element(\"BR\").insert(el.settings.content);\n      el.settings.cbxOverride = new lib.element(\"INPUT\").attribute.set(\"type\",\"checkbox\").attribute.addClass(\"SettingsCBX\").insert(el.settings.content);\n      el.settings.content.child.add(document.createTextNode(\"Override window.console\"));\n      new lib.element(\"BR\").insert(el.settings.content);\n      el.settings.cbxShowIcon = new lib.element(\"INPUT\").attribute.set(\"type\",\"checkbox\").attribute.addClass(\"SettingsCBX\").insert(el.settings.content);\n      el.settings.content.child.add(document.createTextNode(\"Show icon when hidden\"));\n      new lib.element(\"BR\").insert(el.settings.content);\n      el.settings.cbxOpenInPopup = new lib.element(\"INPUT\").attribute.set(\"type\",\"checkbox\").attribute.addClass(\"SettingsCBX\").insert(el.settings.content);\n      el.settings.content.child.add(document.createTextNode(\"Open in popup\"));\n      el.settings.buttonDiv = new lib.element(\"DIV\").insert(el.settings.content);\n      el.settings.buttonLeftDiv = new lib.element(\"DIV\").attribute.addClass(\"ButtonsLeft\").insert(el.settings.buttonDiv);\n      el.settings.resetButton = new lib.element(\"INPUT\").attribute.set(\"type\",\"button\").update(\"Reset\").event.addListener(\"click\",settings.reset).insert(el.settings.buttonLeftDiv);\n      el.settings.buttonRightDiv = new lib.element(\"DIV\").attribute.addClass(\"ButtonsRight\").insert(el.settings.buttonDiv);\n      el.settings.cancelButton = new lib.element(\"INPUT\").attribute.set(\"type\",\"button\").update(\"Cancel\").event.addListener(\"click\",settings.hide).insert(el.settings.buttonRightDiv);\n      el.settings.buttonRightDiv.child.add(document.createTextNode(\" \"));\n      el.settings.saveButton = new lib.element(\"INPUT\").attribute.set(\"type\",\"button\").update(\"Save\").event.addListener(\"click\",settings.saveClicked).insert(el.settings.buttonRightDiv);\n\n      lib.util.AddEvent(document,\"mousemove\",listen.mouse)(\"mousemove\",win.resizer.resize)(\"mouseup\",win.resizer.stop)(\"keydown\",listen.keyboard);\n\n      env.init = true;\n\n      for(var i=0, len=d.console.cache.length; i<len; i++){\n        var item = d.console.cache[i];\n        d.console.cmd[item.command].apply(window,item.arg);\n      };\n\n      if(lib.env.ie6){\n        window.onscroll = lib.util.Curry(win.setVerticalPosition,window,null);\n        var buttons = [\n          el.button.inspect,\n          el.button.close,\n          el.button.inspect,\n          el.button.console.clear,\n          el.right.console.run,\n          el.right.console.clear,\n          el.right.css.run,\n          el.right.css.clear\n          ];\n        for(var i=0, len=buttons.length; i<len; i++)\n          buttons[i].attribute.set(\"href\",\"#\");\n        win.refreshSize();\n      }\n     \n      if(env.showIconWhenHidden) {\n        if(!env.popupWin) {\n          el.firebugIcon.environment.addStyle({ \"display\": env.debug&&'none'||'block' });\n        }\n      }\n\n      lib.util.AddEvent(window, \"unload\", win.unload);\n\n      if (env.isPopup) {\n        env.height=lib.util.GetViewport().height;\n        lib.util.AddEvent(window, \"resize\", win.fitToPopup);\n        win.fitToPopup();\n      } else {\n        lib.util.AddEvent(window, \"resize\", win.refreshSize);\n      }\n\n      win.setHeight(env.height);\n\n      if(env.openInPopup&&!env.isPopup) {\n        win.newWindow();\n      } else {\n        el.main.environment.addStyle({ \"display\":env.debug&&'block'||'none' });\n        el.mainiframe.environment.addStyle({ \"display\":env.debug&&'block'||'none' });\n      }\n    }  \n  },\n  inspect:function(){\n    return firebug.d.html.inspect.apply(window,arguments);\n  },\n  watchXHR:function(){\n    with(firebug){\n      d.xhr.addObject.apply(window,arguments);\n      if(env.dIndex!=\"xhr\"){\n        d.navigate(\"xhr\");\n      }\n    }\n  },\n  settings:{\n    isVisible:false,\n    show: function() {\n      with(firebug){\n        var posXY=lib.util.Element.getPosition(firebug.el.nav.options.element);\n        settings.refreshForm();\n\n        el.settings.container.environment.addStyle({\n          \"display\": \"block\",\n          \"left\": (posXY.offsetLeft-125)+\"px\"\n        });\n        el.settings.progressDiv.environment.addStyle({\n          \"display\": \"none\"\n        });\n        firebug.settings.isVisible = true;\n      }\n    },\n    hide: function() {\n      with(firebug){\n        firebug.el.settings.container.environment.addStyle({\n          \"display\": \"none\"\n        });\n        firebug.settings.isVisible = false;\n      }\n    },\n    toggle: function(){\n      with(firebug){\n        settings[!settings.isVisible && 'show' || 'hide']();\n      }\n    },\n    saveClicked: function() {\n      firebug.el.settings.progressDiv.environment.addStyle({\n        \"display\": \"block\"\n      });\n      setTimeout(firebug.settings.formToSettings,0);\n    },\n    formToSettings: function() {\n      var fe=firebug.env,\n        ofe,\n        elSet=firebug.el.settings,\n        exdate;\n\n      fe.debug=elSet.cbxDebug.element.checked;\n      fe.detectFirebug=elSet.cbxDetectFirebug.element.checked;\n      fe.hideDOMFunctions=elSet.cbxHideDOMFunctions.element.checked;\n      fe.override=elSet.cbxOverride.element.checked;\n      fe.showIconWhenHidden=elSet.cbxShowIcon.element.checked;\n      fe.openInPopup=elSet.cbxOpenInPopup.element.checked;\n\n      if(fe.isPopup) {\n        ofe=window.opener.firebug.env;\n        ofe.debug=fe.debug;\n        ofe.detectFirebug=fe.detectFirebug;\n        ofe.hideDOMFunctions=fe.hideDOMFunctions;\n        ofe.override=fe.override;\n        ofe.showIconWhenHidden=fe.showIconWhenHidden;\n        ofe.openInPopup=fe.openInPopup;\n        ofe.popupTop=fe.popupTop;\n        ofe.popupLeft=fe.popupLeft;\n        ofe.popupWidth=fe.popupWidth;\n        ofe.popupHeight=fe.popupHeight;\n      }\n\n      with(firebug) {\n        settings.writeCookie();\n        settings.hide();\n        win.refreshDOM();\n      }\n    },\n    reset: function() {\n      var exdate=new Date();\n\n      exdate.setTime(exdate.getTime()-1);\n      document.cookie='FBLiteSettings=;expires='+exdate.toUTCString();\n      location.reload(true);\n    },\n    readCookie: function() {\n      var i,cookieArr,valueArr,item,value;\n\n      with(firebug.env){\n        if(targetWindow.document.cookie.length>0) {\n          cookieArr=targetWindow.document.cookie.split('; ');\n          \n          for(i=0;i<cookieArr.length;i++) {\n            if(cookieArr[i].split('=')[0]=='FBLiteSettings') {\n              valueArr=cookieArr[i].split('=')[1].split(',');\n            }\n          }\n\n          if(valueArr) {\n            for(i=0;i<valueArr.length;i++) {\n              item=valueArr[i].split(':')[0];\n              value=valueArr[i].split(':')[1];\n              \n              switch(item) {\n                case 'debug':\n                  debug=value==\"true\";\n                  break;\n                case 'detectFirebug':\n                  detectFirebug=value==\"true\";\n                  break;\n                case 'hideDOMFunctions':\n                  hideDOMFunctions=value==\"true\";\n                  break;\n                case 'override':\n                  override=value==\"true\";\n                  break;\n                case 'showIconWhenHidden':\n                  showIconWhenHidden=value==\"true\";\n                  break;\n                case 'openInPopup':\n                  openInPopup=value==\"true\";\n                  break;\n                case 'popupTop':\n                  popupTop=parseInt(value,10);\n                  break;\n                case 'popupLeft':\n                  popupLeft=parseInt(value,10);\n                  break;\n                case 'popupWidth':\n                  popupWidth=parseInt(value,10);\n                  break;\n                case 'popupHeight':\n                  popupHeight=parseInt(value,10);\n                  break;\n                case 'height':\n                  height=parseInt(value,10);\n                  break;\n              }\n            }\n          }\n        }\n      }\n    },\n    writeCookie: function() {\n      var values;\n      \n      with(firebug.env){\n        values='debug:'+debug+',';\n        values+='detectFirebug:'+detectFirebug+',';\n        values+='hideDOMFunctions:'+hideDOMFunctions+',';\n        values+='override:'+override+',';\n        values+='showIconWhenHidden:'+showIconWhenHidden+',';\n        values+='openInPopup:'+openInPopup+',';\n\n        if(isPopup) {\n          if(window.outerWidth===undefined) {\n            values+='popupTop:'+(window.screenTop-56)+',';\n            values+='popupLeft:'+(window.screenLeft-8)+',';\n            values+='popupWidth:'+document.body.clientWidth+',';\n            values+='popupHeight:'+document.body.clientHeight+',';\n          } else {\n            values+='popupTop:'+window.screenY+',';\n            values+='popupLeft:'+window.screenX+',';\n            values+='popupWidth:'+window.outerWidth+',';\n            values+='popupHeight:'+window.outerHeight+',';\n          }\n        } else {\n          values+='popupTop:'+popupTop+',';\n          values+='popupLeft:'+popupLeft+',';\n          values+='popupWidth:'+popupWidth+',';\n          values+='popupHeight:'+popupHeight+',';\n        }\n        \n        values+='height:'+(parseInt(targetWindow.firebug.el.main.element.style.height.replace(/px/,''),10)-38);\n\n        exdate=new Date();\n        exdate.setDate(exdate.getDate()+365);\n        targetWindow.document.cookie='FBLiteSettings='+values+';expires='+exdate.toUTCString();\n      }\n    },\n    refreshForm: function() {\n      var fe=firebug.env,\n          elSet=firebug.el.settings;\n\n      elSet.cbxDebug.element.checked=fe.debug;\n      elSet.cbxDetectFirebug.element.checked=fe.detectFirebug;\n      elSet.cbxHideDOMFunctions.element.checked=fe.hideDOMFunctions;\n      elSet.cbxOverride.element.checked=fe.override;\n      elSet.cbxShowIcon.element.checked=fe.showIconWhenHidden;\n      elSet.cbxOpenInPopup.element.checked=fe.openInPopup;\n    }\n  },\n  win:{\n    hide:function(){\n      with(firebug){\n        el.main.environment.addStyle({\n          \"display\": \"none\"\n        });\n        el.mainiframe.environment.addStyle({\n          \"display\": \"none\"\n        });\n        if(env.showIconWhenHidden) {\n          el.firebugIcon.environment.addStyle({\n            \"display\": \"block\"\n          });\n        }\n      }\n    },\n    show:function(){\n      with(firebug){\n        el.main.environment.addStyle({\n          \"display\": \"block\"\n        });\n        el.mainiframe.environment.addStyle({\n          \"display\": \"block\"\n        });\n        if(env.showIconWhenHidden) {\n          el.firebugIcon.environment.addStyle({\n            \"display\": \"none\"\n          });\n        }\n      }\n    },\n    iconClicked:function(_event) {\n        with(firebug) {\n            if(_event.ctrlKey==true||_event.metaKey==true) {\n                el.firebugIcon.environment.addStyle({ \"display\": \"none\" });\n                env.showIconWhenHidden=false;\n            } else {\n                win.show();\n            }\n        }\n    },\n    minimize:function(){\n      with(firebug){\n        env.minimized=true;\n        el.main.environment.addStyle({ \"height\":\"35px\" });\n        el.mainiframe.environment.addStyle({ \"height\":\"35px\" });\n        el.button.maximize.environment.addStyle({ \"display\":\"block\" });\n        el.button.minimize.environment.addStyle({ \"display\":\"none\" });\n        win.refreshSize();\n      }\n    },\n    maximize:function(){\n      with(firebug){\n        env.minimized=false;\n        el.button.minimize.environment.addStyle({ \"display\":\"block\" });\n        el.button.maximize.environment.addStyle({ \"display\":\"none\" });\n        win.setHeight(env.height);\n      }\n    },\n    newWindow: function() {\n      var interval,scripts,script,scriptPath,\n          fe=firebug.env;\n\n      if (!fe.popupWin) {\n        scripts = document.getElementsByTagName('script');\n        \n        fe.popupWin = window.open(\"\", \"_firebug\", \n          \"status=0,menubar=0,resizable=1,top=\"+fe.popupTop+\",left=\"+fe.popupLeft+\",width=\" + fe.popupWidth + \n          \",height=\" + fe.popupHeight + \",scrollbars=0,addressbar=0,outerWidth=\"+fe.popupWidth+\",outerHeight=\"+fe.popupHeight+\n          \"toolbar=0,location=0,directories=0,dialog=0\");\n        \n        if(!fe.popupWin) {\n          alert(\"Firebug Lite could not open a pop-up window, most likely because of a popup blocker.\\nPlease enable popups for this domain\");\n        } else {\n          firebug.settings.hide();\n        \n          for (i=0,len=scripts.length; i<len; i++) {\n            if (scripts[i].src.indexOf(fe.liteFilename) > -1) {\n              scriptPath = scripts[i].src;\n              break;\n            }\n          }\n\n          if (scriptPath) {\n            script = fe.popupWin.document.createElement('script'), done = false;\n            script.type = 'text/javascript';\n            script.src = scriptPath;\n\n            script[firebug.lib.env.ie?\"onreadystatechange\":\"onload\"] = function(){\n              if(!done && (!firebug.lib.env.ie || this.readyState == \"complete\" || this.readyState==\"loaded\")){\n                done = true;\n                if(fe.popupWin.firebug) {\n                  with(fe.popupWin.firebug) {\n                    env.isPopup = true;\n                    env.css = fe.css;\n                    init();\n                    el.button.dock.environment.addStyle({ \"display\": \"block\"});\n                    el.button.newWindow.environment.addStyle({ \"display\": \"none\"});\n                  }\n                }\n              }\n            };\n\n            if (!done && firebug.lib.env.webkit) {\n              fe.popupWin.document.write('<html><head></head><body></body></html>');\n              interval = setInterval(function() {\n                if (fe.popupWin.firebug) {\n                  clearInterval(interval);\n                  done = true;\n                  with(fe.popupWin.firebug) {\n                    env.isPopup = true;\n                    env.css = fe.css;\n                    init();\n                    el.button.dock.environment.addStyle({ \"display\": \"block\"});\n                    el.button.newWindow.environment.addStyle({ \"display\": \"none\"});\n                  }\n                }\n              }, 10);\n            };\n\n            if (!done) {\n              fe.popupWin.document.getElementsByTagName('head')[0].appendChild(script);\n              firebug.el.main.environment.addStyle({\"display\": \"none\"});\n              firebug.el.mainiframe.environment.addStyle({\"display\": \"none\"});\n            }\n          } else {\n            alert(\"Unable to detect the following script \\\"\" + fe.liteFilename +\n                  \"\\\" ... if the script has been renamed then please set the value of firebug.env.liteFilename to reflect this change\");\n            fe.popupWin.close();\n            fe.popupWin=null;\n          }\n        }\n      }\n    },\n    dock: function() {\n      with(opener.firebug) {\n        env.popupWin = null;\n        el.main.environment.addStyle({\n          \"display\": \"block\"\n        });\n        el.mainiframe.environment.addStyle({\n          \"display\": \"block\"\n        });\n        settings.readCookie();\n        window.close();\n      };\n    },\n    unload: function() {\n      with(firebug){\n        if(env.isPopup) {\n          win.dock();\n        } else if(env.popupWin) {\n          env.popupWin.close();\n        }\n      }\n    },\n    fitToPopup: function() {\n      with(firebug) {\n        var viewport = lib.util.GetViewport(window);\n        win.setHeight((window.innerHeight||viewport.height) - 38);\n        el.main.environment.addStyle({\n          \"width\": (viewport.width) + \"px\"\n        });\n        el.mainiframe.environment.addStyle({\n          \"width\": (viewport.width) + \"px\"\n        });\n      }\n    },\n    resizer:{\n      y:[], enabled:false,\n      start:function(_event){\n        with(firebug){\n          if(env.minimized)return;\n          win.resizer.y=[el.main.element.offsetHeight,_event.clientY];\n          if(lib.env.ie6){\n            win.resizer.y[3]=parseInt(el.main.environment.getPosition().top);\n          }\n          win.resizer.enabled=true;\n        }\n      },\n      resize:function(_event){\n        with(firebug){\n          if(!win.resizer.enabled)return;\n          win.resizer.y[2]=(win.resizer.y[0]+(win.resizer.y[1]-_event.clientY));\n          el.main.environment.addStyle({ \"height\":win.resizer.y[2]+\"px\" });\n          el.mainiframe.environment.addStyle({ \"height\":win.resizer.y[2]+\"px\" });\n          if(lib.env.ie6){\n            el.main.environment.addStyle({ \"top\":win.resizer.y[3]-(win.resizer.y[1]-_event.clientY)+\"px\" });\n            el.mainiframe.environment.addStyle({ \"top\":win.resizer.y[3]-(win.resizer.y[1]-_event.clientY)+\"px\" });\n          }\n        }\n      },\n      stop:function(_event){\n        with(firebug){\n          if(win.resizer.enabled){\n            win.resizer.enabled=false;\n            win.setHeight(win.resizer.y[2]-35);\n          }\n        }\n      }\n    },\n    setHeight:function(_height){\n      with(firebug){\n        env.height=_height;\n\n        el.left.container.environment.addStyle({ \"height\":_height+\"px\" });\n        el.right.container.environment.addStyle({ \"height\":_height+\"px\" });\n        el.main.environment.addStyle({ \"height\":_height+38+\"px\" });\n        el.mainiframe.environment.addStyle({ \"height\":_height+38+\"px\" });\n\n        win.refreshSize();\n\n        // console\n        el.left.console.monitor.element.parentNode.style.height=_height-47+\"px\";\n        el.left.console.mlButton.environment.addStyle({ \"top\":_height+19+\"px\" });\n        el.right.console.mlButton.environment.addStyle({ \"top\":_height+19+\"px\" });\n        el.right.console.input.environment.addStyle({ \"height\":_height-29+\"px\" });\n\n        // html\n        el.left.html.container.environment.addStyle({\"height\":_height-23+\"px\"});\n        el.right.html.content.environment.addStyle({\"height\":_height-23+\"px\"});\n\n        // css\n        el.left.css.container.environment.addStyle({\"height\":_height-33+\"px\"});\n        el.right.css.input.environment.addStyle({ \"height\":_height-55+\"px\" });\n\n        // script\n        el.left.scripts.container.environment.addStyle({\"height\":_height-23+\"px\"});\n\n        // dom\n        el.left.dom.container.environment.addStyle({\"height\":_height-31+\"px\"});\n\n        // xhr\n        el.left.xhr.container.environment.addStyle({\"height\":_height-32+\"px\"});\n\n        // string\n        el.left.str.container.environment.addStyle({\"height\":_height-32+\"px\"});\n      }\n    },\n    refreshDOM:function(){\n      with(firebug){\n        d.dom.open(eval(el.button.dom.textbox.environment.getElement().value),el.left.dom.container);\n        if(d.html.nIndex==\"dom\"){\n          firebug.d.html.navigate(\"dom\")\n        }\n      }\n    },\n    refreshSize:function(){\n      with(firebug){\n        if(!env.init)\n          return;\n\n        var dim = lib.util.GetViewport();\n        el.main.environment.addStyle({ \"width\":dim.width+\"px\"});\n        el.mainiframe.environment.addStyle({ \"width\":dim.width+\"px\"});\n        if(lib.env.ie6)\n          win.setVerticalPosition(dim);\n      }\n    },\n    setVerticalPosition:function(_dim,_event){\n      with(firebug){\n        var dim = _dim||lib.util.GetViewport();\n        el.main.environment.addStyle({ \"top\":dim.height-el.main.environment.getSize().offsetHeight+Math.max(document.documentElement.scrollTop,document.body.scrollTop)+\"px\" });\n        el.mainiframe.environment.addStyle({ \"top\":dim.height-el.main.environment.getSize().offsetHeight+Math.max(document.documentElement.scrollTop,document.body.scrollTop)+\"px\" });\n      }\n    }\n  },\n  d: {\n    clean:function(_element){\n      with(firebug){\n        _element.update(\"\");\n      }\n    },\n    console:{\n      addLine:function(){\n        with (firebug) {\n          return new lib.element(\"DIV\").attribute.addClass(\"Row\").insert(el.left.console.monitor);\n        }\n      },\n      cache:[],\n      clear:function(){\n        with(firebug){\n          d.clean(el.left.console.monitor);\n          d.console.cache = [];\n        }\n      },\n      formatArgs:function(){\n        with(firebug){\n          var content = [];\n          for(var i=0, len=arguments.length; i<len; i++){\n            content.push( d.highlight(arguments[i],false,false,true) );\n          }\n          return content.join(\" \");\n        }\n      },\n      history:[], historyIndex:0,\n      openObject:function(_index){\n        with (firebug) {\n          d.dom.open(d.console.cache[_index], el.left.dom.container, lib.env.ie);\n          d.navigate(\"dom\");\n        }\n      },\n      print: function(_cmd,_text){\n        with (firebug){\n          d.console.addLine().attribute.addClass(\"Arrow\").update(\">>> \"+_cmd);\n          d.console.addLine().update(d.highlight(_text,false,false,true));\n          d.console.scroll();\n        }\n      },\n      printException: function(_exception){\n        with(firebug){\n          var message = _exception.description||_exception.message||_exception;\n          if(_exception.fileName){\n            message+=' ('+(_exception.name&&(_exception.name+', ')||'')+getFileName(_exception.fileName)+', '+_exception.lineNumber+')';\n          }\n          d.console.addLine().attribute.addClass(\"Error\").update(\"<strong>Error: </strong>\"+message,true);\n        }\n      },\n      eval:function(_cmd){\n        var result;\n        with(firebug){\n          if(_cmd.length==0)\n            return;\n\n          el.left.console.input.environment.getElement().value = \"\";\n          d.console.historyIndex = d.console.history.push(_cmd);\n\n          try {\n            if(_cmd==='console.firebug') {\n              d.console.addLine().attribute.addClass(\"Arrow\").update(firebug.version);\n            } else {  \n              result = eval.call(window,_cmd);\n              d.console.print(_cmd,result);\n            }\n          } catch(e){\n            d.console.addLine().attribute.addClass(\"Arrow\").update(\">>> \"+_cmd);\n            d.console.printException(e);\n          }\n          d.console.scroll();\n        }\n      },\n      scroll:function(){\n        with(firebug){\n          el.left.console.monitor.environment.getElement().parentNode.scrollTop = Math.abs(el.left.console.monitor.environment.getSize().offsetHeight-(el.left.console.monitor.element.parentNode.offsetHeight-11));\n        }\n      },\n      run:function(_command){\n        with(firebug){\n          if(!env.init){\n            d.console.cache.push({ \"command\":_command, \"arg\":Array.prototype.slice.call(arguments,1) });\n          } else {\n            d.console.cmd[_command].apply(window,Array.prototype.slice.call(arguments,1));\n          }\n        }\n      },\n      toggleML:function(){\n        with(firebug){\n          var open = !env.ml;\n          env.ml = !env.ml;\n          d.navigateRightColumn(\"console\",open);\n          el[open?\"left\":\"right\"].console.mlButton.environment.addStyle({ display:\"none\" });\n          el[!open?\"left\":\"right\"].console.mlButton.environment.addStyle({ display:\"block\" });\n          el.left.console.mlButton.attribute[(open?\"add\":\"remove\")+\"Class\"](\"CloseML\");\n        }\n      },\n      countMap:{}, timeMap: {},\n      cmd:{\n        log: function(_value){\n          with(firebug){\n            var args = d.console.formatArgs.apply(window,arguments);\n            d.console.addLine().attribute.addClass(\"Log\").update(args);\n            d.console.scroll();\n          }\n        },\n        warn: function(_value){\n          with(firebug){\n            var args = d.console.formatArgs.apply(window,arguments);\n            d.console.addLine().attribute.addClass(\"Warn\").update(args);\n            d.console.scroll();\n          }\n        },\n        info: function(_value){\n          with(firebug){\n            var args = d.console.formatArgs.apply(window,arguments);\n            d.console.addLine().attribute.addClass(\"Info\").update(args);\n            d.console.scroll();\n          }\n        },\n        debug: function(_value){\n          with(firebug){\n            var args = d.console.formatArgs.apply(window,arguments);\n            d.console.addLine().attribute.addClass(\"Debug\").update(args);\n            d.console.scroll();\n          }\n        },\n        error: function(_value){\n          with(firebug){\n            var args = d.console.formatArgs.apply(window,arguments);\n            d.console.addLine().attribute.addClass(\"Error\").update(args);\n            d.console.scroll();\n          }\n        },\n        trace: function(_value){\n          with(firebug){\n            var stackAmt = 3, f = arguments.caller, isArray = lib.util.IsArray(f); //function that called trace\n\n            if((!isArray&&f)||(isArray&&f.length>0)){\n              d.console.addLine().attribute.addClass(\"Arrow\").update(\">>> console.trace(stack)\");\n              for(var i=0;i<stackAmt;i++){\n                var func = f.toString(), args = f.arguments;\n                d.dom.open({\"function\":func, \"arguments\":args},d.console.addLine());\n                f = f.caller;\n              }\n            }\n          }\n        },\n        dir:function(_value){\n          with(firebug){\n            d.console.addLine().attribute.addClass(\"Arrow\").update(\">>> console.dir(\"+_value+\")\");\n            d.dom.open(_value,d.console.addLine());\n          }\n        },\n        dirxml: function(){\n          with(firebug){\n            d.console.cmd.log.apply(this, arguments);\n          }\n        },\n        time: function(_name){\n          with(firebug){\n            d.console.timeMap[_name] = new Date().getTime();\n          }\n        },\n        timeEnd: function(_name){\n          with(firebug){\n            if(_name in d.console.timeMap){\n              var delta = new Date().getTime() - d.console.timeMap[_name],\n              args = d.console.formatArgs.apply(window,[_name+\":\", delta+\"ms\"]);\n              d.console.addLine().attribute.addClass(\"log\").update(args);\n              delete d.console.timeMap[_name];\n            }\n          }\n        },\n        count: function(_name){\n          with(firebug){\n            if(!d.console.countMap[_name])\n              d.console.countMap[_name] = 0;\n            d.console.countMap[_name]++;\n            d.console.cmd.log.apply(window, [_name, d.console.countMap[_name]]);\n          }\n        },\n        group:function(){\n          with(firebug){\n            d.console.cmd.log.apply(this, [\"console.group is not supported\"]);\n          }\n        },\n        groupEnd:function(){\n          with(firebug){\n            d.console.cmd.log.apply(this, [\"console.groupEnd is not supported\"]);\n          }\n        },\n        profile:function(){\n          with(firebug){\n            d.console.cmd.log.apply(this, [\"console.profile is not supported\"]);\n          }\n        },\n        profileEnd:function(){\n          with(firebug){\n            d.console.cmd.log.apply(this, [\"console.profileEnd is not supported\"]);\n          }\n        }\n      }\n    },\n    css:{\n      index:-1,\n      open:function(_index){\n        with (firebug) {\n          var item = env.targetWindow.document.styleSheets[_index],\n          uri = item.href;\n          try {\n            var rules = item[lib.env.ie ? \"rules\" : \"cssRules\"], str = \"\";\n            for (var i=0; i<rules.length; i++) {\n              var item = rules[i];\n              var selector = item.selectorText;\n              var cssText = lib.env.ie?item.style.cssText:item.cssText.match(/\\{(.*)\\}/)[1];\n              str+=d.css.printRule(selector, cssText.split(\";\"), el.left.css.container);\n            }\n          } catch(e) {\n            str=\"<em>Access to restricted URI denied</em>\";\n          }\n          el.left.css.container.update(str);\n        }\n      },\n      printRule:function(_selector,_css,_layer){\n        with(firebug){\n          var str = \"<div class='Selector'>\"+_selector+\" {</div>\";\n          for(var i=0,len=_css.length; i<len; i++){\n            var item = _css[i];\n            str += \"<div class='CSSText'>\"+item.replace(/(.+\\:)(.+)/,\"<span class='CSSProperty'>$1</span><span class='CSSValue'>$2;</span>\")+\"</div>\";\n          }\n          str+=\"<div class='Selector'>}</div>\";\n          return str;\n        }\n      },\n      refresh:function(){\n        with(firebug){\n          el.button.css.selectbox.update(\"\");\n          var collection = env.targetWindow.document.styleSheets;\n          for(var i=0,len=collection.length; i<len; i++){\n            var uri = getFileName(collection[i].href);\n            d.css.index=d.css.index<0?i:d.css.index;\n            el.button.css.selectbox.child.add(\n                new lib.element(\"OPTION\").attribute.set(\"value\",i).update(uri)\n            )\n          };\n          d.css.open(d.css.index);\n        }\n      }\n    },\n    dom: {\n      open: function(_object,_layer){\n        with (firebug) {\n          _layer.clean();\n          var container = new lib.element(\"DIV\").attribute.addClass(\"DOMContent\").insert(_layer);\n          d.dom.print(_object, container);\n        }\n      },\n      print:function(_object,_parent, _inTree){\n        with (firebug) {\n          var obj = _object || window, parentElement = _parent;\n          parentElement.update(\"\");\n\n          if(parentElement.opened&&parentElement!=el.left.dom.container){\n            parentElement.environment.getParent().lib.child.get()[0].lib.child.get()[0].lib.attribute.removeClass(\"Opened\");\n            parentElement.opened = false;\n            parentElement.environment.addStyle({ \"display\":\"none\" });\n            return;\n          }\n          if(_inTree)\n            parentElement.environment.getParent().lib.child.get()[0].lib.child.get()[0].lib.attribute.addClass(\"Opened\");\n          parentElement.opened = true;\n\n          for (var key in obj) {\n            try {\n              if (env.hideDOMFunctions && typeof(obj[key]) == \"function\") continue;\n              var value = obj[key], property = key, container = new lib.element(\"DIV\").attribute.addClass(\"DOMRow\").insert(parentElement),\n              left = new lib.element(\"DIV\").attribute.addClass(\"DOMRowLeft\").insert(container), right = new lib.element(\"DIV\").attribute.addClass(\"DOMRowRight\").insert(container);\n\n              container.child.add(\n                  new lib.element(\"DIV\").attribute.addClass('Clear')\n              );\n\n              var link = new lib.element(\"A\").attribute.addClass(\n                  typeof value==\"object\"&&Boolean(value)?\"Property Object\":\"Property\"\n              ).update(property).insert(left);\n\n              right.update(d.highlight(value,false,true));\n\n              var subContainer = new lib.element(\"DIV\").attribute.addClass(\"DOMRowSubContainer\").insert(container);\n\n              if(typeof value!=\"object\"||Boolean(value)==false)\n                continue;\n\n              link.event.addListener(\"click\",lib.util.Curry(d.dom.print,window,value, subContainer, true));\n            }catch(e){\n            }\n          }\n          parentElement.environment.addStyle({ \"display\":\"block\" });\n        }\n      }\n    },\n    highlight:function(_value,_inObject,_inArray,_link){\n      with(firebug){\n        var isArray = false, isHash, isElement = false, vtype=typeof _value, result=[];\n        \n        if(vtype==\"object\"){\n          if(Object.prototype.toString.call(_value) === \"[object Date]\"){\n            vtype = \"date\";\n          } else if(Object.prototype.toString.call(_value) === \"[object String]\"){\n            vtype = \"string\";\n          } else if(Object.prototype.toString.call(_value) === \"[object Boolean]\"){\n            vtype = \"boolean\";\n          } else if(Object.prototype.toString.call(_value) === \"[object RegExp]\"){\n            vtype = \"regexp\";\n          }\n        }\n        \n        try {\n          isArray = lib.util.IsArray(_value);\n          isHash = lib.util.IsHash(_value);\n          isElement = _value!=undefined&&Boolean(_value.nodeName)&&Boolean(_value.nodeType);\n\n          // number, string, boolean, null, function\n          if(_value==null||vtype==\"number\"||vtype==\"string\"||vtype==\"boolean\"||vtype==\"function\"||vtype==\"regexp\"||vtype==\"date\"){\n            if(_value==null){\n              result.push(\"<span class='Null'>null</span>\");\n            }else if (vtype==\"regexp\") {\n              result.push(\"<span class='Maroon'>\" + _value + \"</span>\");\n            }else if (vtype==\"date\") {\n              result.push(\"<span class='DarkBlue'>'\" + _value + \"'</span>\");\n            } else if (vtype==\"boolean\"||vtype==\"number\") {\n              result.push(\"<span class='DarkBlue'>\" + _value + \"</span>\");\n            } else if(vtype==\"function\"){\n              result.push(\"<span class='\"+(_inObject?\"Italic Gray\":\"Green\")+\"'>function()</span>\");\n            } else {\n              result.push(\"<span class='Red'>\\\"\"+( !_inObject&&!_inArray?_value : _value.substring(0,35)+(_value.length>35?\" ...\":\"\") ).replace(/\\n/g,\"\\\\n\").replace(/\\s/g,\"&nbsp;\").replace(/>/g,\"&#62;\").replace(/</g,\"&#60;\")+\"\\\"</span>\");\n            }\n          }\n          // element\n          else if(isElement){\n\n            if(_value.nodeType==3)\n              result.push(d.highlight(_value.nodeValue));\n            else if(_inObject){\n              result.push(\"<span class='Gray Italic'>\"+_value.nodeName.toLowerCase()+\"</span>\");\n            } else {\n              result.push(\"<span class='Blue\"+ ( !_link?\"'\":\" ObjectLink' onmouseover='this.className=this.className.replace(\\\"ObjectLink\\\",\\\"ObjectLinkHover\\\")' onmouseout='this.className=this.className.replace(\\\"ObjectLinkHover\\\",\\\"ObjectLink\\\")' onclick='firebug.d.html.inspect(firebug.d.console.cache[\" +( d.console.cache.push( _value ) -1 )+\"])'\" ) + \"'>\");\n\n              if(_inArray){\n                result.push(_value.nodeName.toLowerCase());\n                if(_value.getAttribute){\n                  if(_value.getAttribute&&_value.getAttribute(\"id\"))\n                    result.push(\"<span class='DarkBlue'>#\"+_value.getAttribute(\"id\")+\"</span>\");\n                  var elClass = _value.getAttribute(lib.env.ie&&!lib.env.ie8?\"className\":\"class\")||\"\";\n                  result.push(!elClass?\"\":\"<span class='Red'>.\"+elClass.split(\" \")[0]+\"</span>\");\n                }\n                result.push(\"</span>\");\n              } else {\n                result.push(\"<span class='DarkBlue'>&#60;<span class='Blue TagName'>\"+ _value.nodeName.toLowerCase());\n\n                if(_value.attributes){\n                  for(var i=0,len=_value.attributes.length; i<len; i++){\n                    var item = _value.attributes[i];\n\n                    if(!lib.env.ie||item.nodeValue)\n                      result.push(\" <span class='DarkBlue'>\"+item.nodeName+\"=\\\"<span class='Red'>\"+item.nodeValue+\"</span>\\\"</span>\");\n                  }\n                }\n\n                result.push(\"</span>&#62;</span>\");\n              }\n            }\n          } \n          // array, hash\n          else if(isArray||isHash){\n            if(isArray){\n              if(_inObject){\n                result.push(\"<span class='Gray Italic'>[\"+_value.length+\"]</span>\");\n              } else {\n                result.push(\"<span class='Strong'>[ \");\n\n                for(var i=0,len=_value.length; i<len; i++){\n                  if((_inObject||_inArray)&&i>3){\n                    result.push(\", <span class='Strong Gray'>\"+(len-4)+\" More...</span>\");\n                    break;\n                  }\n                  result.push( (i > 0 ? \", \" : \"\") + d.highlight(_value[i], false, true, true) );\n                }\n\n                result.push(\" ]</span>\");\n              }\n            } else if(_inObject){\n              result.push(\"<span class='Gray Italic'>Object</span>\");\n            } else {  \n              result.push(\"<span class='Strong Green\"+ ( !_link?\"'\":\" ObjectLink' onmouseover='this.className=this.className.replace(\\\"ObjectLink\\\",\\\"ObjectLinkHover\\\")' onmouseout='this.className=this.className.replace(\\\"ObjectLinkHover\\\",\\\"ObjectLink\\\")' onclick='firebug.d.console.openObject(\" +( d.console.cache.push( _value ) -1 )+\")'\" ) + \">Object\");\n              var i=0;\n              for(var key in _value){\n                var value = _value[key];\n                if((_inObject||_inArray)&&i>3){\n                  result.push(\" <span class='Strong Gray'>More...</span>\");\n                  break;\n                }\n                result.push(\" \"+key+\"=\"+d.highlight(value,true));\n                i++;\n              }\n              result.push(\"</span>\");\n            } \n          } else {\n            result.push([\"<span class'Gray Italic'>\"+_value+\"</span>\"]);\n          }\n        } catch(e){\n          result.push(\"..\"); \n        }\n        return result.join(\"\");\n      }\n    },\n    html:{\n      nIndex:\"computedStyle\",\n      current:null,\n      highlight:function(_element,_clear,_event){\n        with(firebug){\n          if(_element.firebugElement){\n            return;\n          }\n          if(_clear){\n            env.targetWindow.firebug.el.bgInspector.environment.addStyle({ \"display\":\"none\" });\n            return;\n          }\n          d.inspector.inspect(_element,true);\n        }\n      },\n      inspect:function(_element){\n        var map = [],\n        parentLayer,\n        t,\n        tagName,\n        parent = _element;\n        while (parent) {\n          map.push(parent);\n          if (parent == firebug.env.targetWindow.document.body) break;\n          parent = parent.parentNode;\n        }\n        map = map.reverse();\n        with(firebug) {\n          if (env.dIndex != \"html\") {\n            env.targetWindow.firebug.d.navigate(\"html\");\n          }\n\n          env.targetWindow.firebug.d.inspector.toggle(false);\n\n          for (t = 0; t < el.left.html.container.child.get().length; t++) {\n            if (el.left.html.container.child.get()[t].childNodes[0].childNodes[1].childNodes[0].childNodes[0]) {\n              if (el.left.html.container.child.get()[t].childNodes[0].childNodes[1].childNodes[0].childNodes[0].innerText) {\n                tagName = el.left.html.container.child.get()[t].childNodes[0].childNodes[1].childNodes[0].childNodes[0].innerText;\n              } else {\n                tagName = el.left.html.container.child.get()[t].childNodes[0].childNodes[1].childNodes[0].childNodes[0].textContent;\n              }\n\n              if (/<body/i.test(tagName)) {\n                parentLayer = el.left.html.container.child.get()[t].childNodes[1].lib;\n                break;\n              }\n            }\n          }\n\n          if (!parentLayer) {\n            parentLayer = el.left.html.container.child.get()[3].childNodes[1].lib;\n          }\n\n          for (t = 0, len = map.length; map[t]; t++) {\n            if (t == len - 1) {\n              var link = parentLayer.environment.getElement().previousSibling.lib;\n              link.attribute.addClass(\"Selected\");\n\n              if (d.html.current) {\n                d.html.current[1].attribute.removeClass(\"Selected\");\n              }\n              d.html.current = [_element, link];\n              return;\n            }\n            parentLayer = d.html.openHtmlTree(map[t], parentLayer, map[t + 1]);\n          }\n        }\n      },\n      navigate:function(_index,_element){\n        with(firebug){\n          el.right.html.nav[d.html.nIndex].attribute.removeClass(\"Selected\");\n          el.right.html.nav[_index].attribute.addClass(\"Selected\");\n          d.html.nIndex = _index;\n          d.html.openProperties();\n        }\n      },\n      openHtmlTree:function(_element,_parent,_returnParentElementByElement,_event){\n        with(firebug){\n          var element = _element || env.targetWindow.document.documentElement, \n              parent = _parent || el.left.html.container, \n              returnParentEl = _returnParentElementByElement || null, \n              returnParentVal = null,\n              len = element.childNodes.length,\n              nodeLink;\n\n          if(parent!=el.left.html.container){\n            nodeLink = parent.environment.getParent().lib.child.get()[0].lib;\n            if (d.html.current) {\n              d.html.current[1].attribute.removeClass(\"Selected\");\n            }\n            nodeLink.attribute.addClass(\"Selected\");\n\n            d.html.current = [_element,nodeLink];\n            d.html.openProperties();\n          };\n\n          if(element.childNodes&&(len==0||(len==1&&element.childNodes[0].nodeType==3)))return;\n          parent.clean();\n\n          if(parent.opened&&Boolean(_returnParentElementByElement)==false){\n            parent.opened = false;\n            parent.element.previousSibling.lib.attribute.removeClass(\"Open\");\n            parent.element.lib.attribute.removeClass(\"OpenSubContainer\");\n            return;\n          };\n\n          if (parent != el.left.html.container) {\n            parent.element.previousSibling.lib.attribute.addClass(\"Open\");\n            parent.element.lib.attribute.addClass(\"OpenSubContainer\");\n            parent.opened = true;\n          };\n\n          if(element==document.documentElement){\n            new lib.element(\"A\").attribute.addClass(\"Block\").update(\"<span class='DarkBlue'>&#60;<span class='Blue'>html</span>&#62;\").insert(parent);\n          };\n\n          for(var i=0; i<=len; i++){\n            if(i==len){\n              new lib.element(\"A\").attribute.addClass(\"Block\").update(\"<span class='DarkBlue'>&#60;/<span class='Blue'>\"+element.nodeName.toLowerCase()+\"</span>&#62;\").insert(container);\n              break;\n            } \n            var item = element.childNodes[i];\n\n            if (item.nodeType != 3){\n              var container = new lib.element().attribute.addClass(\"Block\").insert(parent), \n              link = new lib.element(\"A\").attribute.addClass(\"Link\").insert(container), \n              spacer = new lib.element(\"SPAN\").attribute.addClass(\"Spacer\").update(\"&nbsp;\").insert(link),\n              html = new lib.element(\"SPAN\").attribute.addClass(\"Content\").update(d.highlight(item)).insert(link),\n              subContainer = new lib.element(\"DIV\").attribute.addClass(\"SubContainer\").insert(container),\n              view = lib.util.Element.getView(item);\n\n              link.event.addListener(\"click\", lib.util.Curry(d.html.openHtmlTree, window, item, subContainer, false));\n              link.event.addListener(\"mouseover\", lib.util.Curry(d.html.highlight, window, item, false));\n              link.event.addListener(\"mouseout\", lib.util.Curry(d.html.highlight, window, item, true));\n\n              returnParentVal = returnParentEl == item ? subContainer : returnParentVal;\n\n              if(d.html.current==null&&item==document.body){\n                link.attribute.addClass(\"Selected\");\n                d.html.current = [item,link];\n                d.html.openHtmlTree(item,subContainer);\n              }\n\n              if(element.nodeName!=\"HEAD\"&&element!=document.documentElement&&(view.visibility==\"hidden\"||view.display==\"none\")){\n                container.attribute.addClass(\"Unvisible\");\n              };\n\n              if (item.childNodes){\n                var childLen = item.childNodes.length;\n                if (childLen == 1 && item.childNodes[0].nodeType == 3) {\n                  html.child.add(document.createTextNode(item.childNodes[0].nodeValue.substring(0, 50)));\n                  html.child.add(document.createTextNode(\"</\"));\n                  html.child.add(new lib.element(\"span\").attribute.addClass(\"Blue\").update(item.nodeName.toLowerCase()).environment.getElement());\n                  html.child.add(document.createTextNode(\">\"));\n                  continue;\n                }\n                else \n                  if (childLen > 0) {\n                    link.attribute.addClass(\"Parent\");\n                  }\n              }\n            }\n          };\n          return returnParentVal;\n        }\n      },\n      openProperties:function(){\n        with(firebug){\n          var index = d.html.nIndex;\n          var node = d.html.current[0];\n          d.clean(el.right.html.content);\n          var str = \"\";\n          switch(index){\n            case \"computedStyle\":\n              var property = [\"opacity\",\"filter\",\"azimuth\",\"background\",\"backgroundAttachment\",\"backgroundColor\",\"backgroundImage\",\"backgroundPosition\",\"backgroundRepeat\",\"border\",\"borderCollapse\",\"borderColor\",\"borderSpacing\",\"borderStyle\",\"borderTop\",\"borderRight\",\"borderBottom\",\"borderLeft\",\"borderTopColor\",\"borderRightColor\",\"borderBottomColor\",\"borderLeftColor\",\"borderTopStyle\",\"borderRightStyle\",\"borderBottomStyle\",\"borderLeftStyle\",\"borderTopWidth\",\"borderRightWidth\",\"borderBottomWidth\",\"borderLeftWidth\",\"borderWidth\",\"bottom\",\"captionSide\",\"clear\",\"clip\",\"color\",\"content\",\"counterIncrement\",\"counterReset\",\"cue\",\"cueAfter\",\"cueBefore\",\"cursor\",\"direction\",\"display\",\"elevation\",\"emptyCells\",\"cssFloat\",\"font\",\"fontFamily\",\"fontSize\",\"fontSizeAdjust\",\"fontStretch\",\"fontStyle\",\"fontVariant\",\"fontWeight\",\"height\",\"left\",\"letterSpacing\",\"lineHeight\",\"listStyle\",\"listStyleImage\",\"listStylePosition\",\"listStyleType\",\"margin\",\"marginTop\",\"marginRight\",\"marginBottom\",\"marginLeft\",\"markerOffset\",\"marks\",\"maxHeight\",\"maxWidth\",\"minHeight\",\"minWidth\",\"orphans\",\"outline\",\"outlineColor\",\"outlineStyle\",\"outlineWidth\",\"overflow\",\"padding\",\"paddingTop\",\"paddingRight\",\"paddingBottom\",\"paddingLeft\",\"page\",\"pageBreakAfter\",\"pageBreakBefore\",\"pageBreakInside\",\"pause\",\"pauseAfter\",\"pauseBefore\",\"pitch\",\"pitchRange\",\"playDuring\",\"position\",\"quotes\",\"richness\",\"right\",\"size\",\"speak\",\"speakHeader\",\"speakNumeral\",\"speakPunctuation\",\"speechRate\",\"stress\",\"tableLayout\",\"textAlign\",\"textDecoration\",\"textIndent\",\"textShadow\",\"textTransform\",\"top\",\"unicodeBidi\",\"verticalAlign\",\"visibility\",\"voiceFamily\",\"volume\",\"whiteSpace\",\"widows\",\"width\",\"wordSpacing\",\"zIndex\"].sort();\n              var view = document.defaultView?document.defaultView.getComputedStyle(node,null):node.currentStyle;\n              for(var i=0,len=property.length; i<len; i++){\n                var item = property[i];\n                if(!view[item])continue;\n                str+=\"<div class='CSSItem'><div class='CSSProperty'>\"+item+\"</div><div class='CSSValue'>\"+d.highlight(view[item])+\"</div></div>\";\n              }\n              el.right.html.content.update(str);\n              break;\n            case \"dom\":\n              d.dom.open(node,el.right.html.content,lib.env.ie);\n              break;\n          }\n        }\n      }\n    },\n    inspector:{\n      enabled:false,\n      el:null,\n      inspect:function(_element,_bgInspector){\n        with(firebug){\n          var pos = env.targetWindow.firebug.lib.util.Element.getPosition(_element);\n\n          env.targetWindow.firebug.el[_bgInspector&&\"bgInspector\"||\"borderInspector\"].environment.addStyle({ \n            \"width\":_element.offsetWidth+\"px\", \"height\":_element.offsetHeight+\"px\",\n            \"top\":pos.offsetTop-(_bgInspector?0:2)+\"px\", \"left\":pos.offsetLeft-(_bgInspector?0:2)+\"px\",\n            \"display\":\"block\"\n          });\n9\n          if(!_bgInspector){\n            d.inspector.el = _element;\n          }\n        };\n      },\n      toggle:function(_absoluteValue,_event){\n        with (firebug) {\n          if(_absoluteValue==d.inspector.enabled)\n            return;\n          d.inspector.enabled = _absoluteValue!=undefined&&!_absoluteValue.clientX?_absoluteValue:!d.inspector.enabled;\n          el.button.inspect.attribute[(d.inspector.enabled ? \"add\" : \"remove\") + \"Class\"](\"Enabled\");\n          if(d.inspector.enabled==false){\n            el.borderInspector.environment.addStyle({ \"display\":\"none\" });\n            d.inspector.el = null;\n          } else if(lib.env.dIndex!=\"html\") {\n            if (env.popupWin) {\n              env.popupWin.firebug.d.navigate(\"html\");\n            } else {\n              d.navigate(\"html\");\n            }\n          }\n        }\n      }\n    },\n    scripts:{\n      index:-1,\n      lineNumbers:false,\n      open:function(_index){\n        with(firebug){\n          d.scripts.index = _index;\n          el.left.scripts.container.update(\"\");\n          var script = document.getElementsByTagName(\"script\")[_index],uri = script.src||document.location.href,source;\n          try {\n            if(uri!=document.location.href){\n              source = env.cache[uri]||lib.xhr.get(uri).responseText;\n              env.cache[uri] = source;\n            } else {\n              source = script.innerHTML;\n            }\n            source = source.replace(/<|>/g,function(_ch){\n              return ({\"<\":\"&#60;\",\">\":\"&#62;\"})[_ch];\n            });\n          \n            if(!d.scripts.lineNumbers) \n              el.left.scripts.container.child.add(\n                  new lib.element(\"DIV\").attribute.addClass(\"CodeContainer\").update(source)\n              );\n            else {\n              source = source.split(\"<br />\");\n              for (var i = 0; i < source.length; i++) {\n                el.left.scripts.container.child.add(new lib.element(\"DIV\").child.add(new lib.element(\"DIV\").attribute.addClass(\"LineNumber\").update(i + 1), new lib.element(\"DIV\").attribute.addClass(\"Code\").update(\"&nbsp;\" + source[i]), new lib.element(\"DIV\").attribute.addClass('Clear')));\n              };\n            };\n          } catch(e){\n            el.left.scripts.container.child.add(\n              new lib.element(\"DIV\").attribute.addClass(\"CodeContainer\").update(\"<em>Access to restricted URI denied</em>\")\n            );\n          }\n        }\n      },\n      toggleLineNumbers:function(){\n        with(firebug){\n          d.scripts.lineNumbers = !d.scripts.lineNumbers;\n          el.button.scripts.lineNumbers.attribute[(d.scripts.lineNumbers ? \"add\" : \"remove\") + \"Class\"](\"Enabled\");\n          d.scripts.open( d.scripts.index );\n        }\n      },\n      refresh:function(){\n        with(firebug){\n          el.button.scripts.selectbox.clean();\n          var collection = env.targetWindow.document.getElementsByTagName(\"script\");\n          for(var i=0,len=collection.length; i<len; i++){\n            var item = collection[i],\n            fileName = getFileName(item.src||item.baseURI||\"..\");\n            d.scripts.index=d.scripts.index<0?i:d.scripts.index;\n            el.button.scripts.selectbox.child.add(\n                new lib.element(\"OPTION\").attribute.set(\"value\",i).update(fileName)\n            );\n          }\n          d.scripts.open( d.scripts.index );\n        }\n      }\n    },\n    str: {\n      open:function(_str){\n        with(firebug){\n          d.navigate(\"str\");\n          el.left.str.container.update(_str.replace(/\\n/g,\"<br />\"))\n        }\n      }\n    },\n    xhr:{\n      objects:[],\n      addObject:function(){\n        with(firebug){\n          for(var i=0,len=arguments.length; i<len; i++){\n            try {\n              var item = arguments[i],\n                  val = env.targetWindow.eval(item);\n              d.xhr.objects.push([item, val]);\n            } catch(e){\n              continue;\n            }\n          }\n        }\n      },\n      open:function(){\n        with(firebug){\n          el.left.xhr.container.update(\"\");\n          el.left.xhr.name = new lib.element(\"DIV\").attribute.addClass(\"BlockContent\").insert(new lib.element(\"DIV\").attribute.addClass(\"Block\").environment.addStyle({ \"width\":\"20%\" }).insert(el.left.xhr.container));\n          el.left.xhr.nameTitle = new lib.element(\"STRONG\").update(\"Object Name:\").insert(el.left.xhr.name);\n          el.left.xhr.nameContent = new lib.element(\"DIV\").insert(el.left.xhr.name);\n          el.left.xhr.status = new lib.element(\"DIV\").attribute.addClass(\"BlockContent\").insert(new lib.element(\"DIV\").attribute.addClass(\"Block\").environment.addStyle({ \"width\":\"10%\" }).insert(el.left.xhr.container));\n          el.left.xhr.statusTitle = new lib.element(\"STRONG\").update(\"Status:\").insert(el.left.xhr.status);\n          el.left.xhr.statusContent = new lib.element(\"DIV\").insert(el.left.xhr.status);\n          el.left.xhr.readystate = new lib.element(\"DIV\").attribute.addClass(\"BlockContent\").insert(new lib.element(\"DIV\").environment.addStyle({ \"width\":\"15%\" }).attribute.addClass(\"Block\").insert(el.left.xhr.container));\n          el.left.xhr.readystateTitle =el.left.xhr.nameTitle = new lib.element(\"STRONG\").update(\"Ready State:\").insert(el.left.xhr.readystate);\n          el.left.xhr.readystateContent = new lib.element(\"DIV\").insert(el.left.xhr.readystate);\n          el.left.xhr.response = new lib.element(\"DIV\").attribute.addClass(\"BlockContent\").insert(new lib.element(\"DIV\").environment.addStyle({ \"width\":(lib.env.ie?\"50\":\"55\")+\"%\" }).attribute.addClass(\"Block\").insert(el.left.xhr.container));\n          el.left.xhr.responseTitle = new lib.element(\"STRONG\").update(\"Response:\").insert(el.left.xhr.response);\n          el.left.xhr.responseContent = new lib.element(\"DIV\").insert(el.left.xhr.response);\n          setTimeout(d.xhr.refresh,500);\n        }\n      },\n      refresh:function(){\n        with(firebug){\n          el.left.xhr.nameContent.update(\"\");\n          el.left.xhr.statusContent.update(\"\");\n          el.left.xhr.readystateContent.update(\"\");\n          el.left.xhr.responseContent.update(\"\");\n          for(var i=0,len=d.xhr.objects.length; i<len; i++){\n            var item = d.xhr.objects[i],\n                response = item[1].responseText;\n            if(Boolean(item[1])==false)continue;\n            el.left.xhr.nameContent.child.add(new lib.element(\"span\").update(item[0]));\n            try {\n              el.left.xhr.statusContent.child.add(new lib.element(\"span\").update(item[1].status));\n            } catch(e){ el.left.xhr.statusContent.child.add(new lib.element(\"span\").update(\"&nbsp;\")); }\n            el.left.xhr.readystateContent.child.add(new lib.element(\"span\").update(item[1].readyState));\n\n            el.left.xhr.responseContent.child.add(new lib.element(\"span\").child.add(\n                new lib.element(\"A\").event.addListener(\"click\",lib.util.Curry(d.str.open,window,response)).update(\"&nbsp;\"+response.substring(0,50))\n            ));\n          };\n          if(env.dIndex==\"xhr\")\n            setTimeout(d.xhr.refresh,500);\n        }\n      }\n    },\n    navigateRightColumn:function(_index,_open){\n      with(firebug){\n        el.left.container.environment.addStyle({ \"width\":_open?\"70%\":\"100%\" });\n        el.right.container.environment.addStyle({ \"display\":_open?\"block\":\"none\" });\n      }\n    },\n    navigate:function(_index){\n      with(firebug){\n        var open = _index, close = env.dIndex;\n        env.dIndex = open;\n\n        settings.hide();\n\n        el.button[close].container.environment.addStyle({ \"display\":\"none\" });\n        el.left[close].container.environment.addStyle({ \"display\":\"none\" });\n        el.right[close].container.environment.addStyle({ \"display\":\"none\" });\n\n        el.button[open].container.environment.addStyle({ \"display\":\"inline\" });\n        el.left[open].container.environment.addStyle({ \"display\":\"block\" });\n        el.right[open].container.environment.addStyle({ \"display\":\"block\" });\n\n        if(el.nav[close])\n          el.nav[close].attribute.removeClass(\"Selected\");\n        if(el.nav[open])\n          el.nav[open].attribute.addClass(\"Selected\");\n\n        switch(open){\n          case \"console\":\n            d.navigateRightColumn(_index);\n            break;\n          case \"html\":\n            d.navigateRightColumn(_index,true);\n            if(!d.html.current){\n              var t=Number(new Date);\n              d.html.openHtmlTree();\n            }\n            break;\n          case \"css\":\n            d.navigateRightColumn(_index,true);\n            d.css.refresh();\n            break;\n          case \"scripts\":\n            d.navigateRightColumn(_index);\n            d.scripts.refresh();\n            break;\n          case \"dom\":\n            d.navigateRightColumn(_index);\n            if(el.left.dom.container.environment.getElement().innerHTML==\"\"){\n              var t=Number(new Date);\n              d.dom.open(eval(el.button.dom.textbox.environment.getElement().value),el.left.dom.container);\n            }\n            break;\n          case \"xhr\":\n            d.navigateRightColumn(_index);\n            d.xhr.open();\n            break;\n        }\n      }\n    }\n  },\n  getFileName:function(_path){\n    var match = _path&&_path.match(/[\\w\\-\\.\\?\\=\\&]+$/);\n    return match&&match[0]||_path;\n  },\n  cancelEvent:function(_event){\n    if(_event.stopPropagation)\n      _event.stopPropagation();\n    if(_event.preventDefault)\n      _event.preventDefault();\n  },\n  getSelection:function(_el){\n    with(firebug){\n      if(lib.env.ie){\n        var range = document.selection.createRange(),stored = range.duplicate();\n        stored.moveToElementText(_el);\n        stored.setEndPoint('EndToEnd', range);\n        _el.selectionStart = stored.text.length - range.text.length;\n        _el.selectionEnd = _el.selectionStart + range.text.length;\n      }\n      return {\n        start:_el.selectionStart,\n        length:_el.selectionEnd-_el.selectionStart\n      }\n    }\n  },\n  tab:function(_el,_event){\n    with(firebug){\n      if(_event.keyCode==9){\n        if(_el.setSelectionRange){\n          var position = firebug.getSelection(_el);\n          _el.value = _el.value.substring(0,position.start) + String.fromCharCode(9) + _el.value.substring(position.start+position.length,_el.value.length);\n          _el.setSelectionRange(position.start+1,position.start+1);\n        } else if(document.selection) {  \n          var range = document.selection.createRange(), isCollapsed = range.text == '';\n          range.text = String.fromCharCode(9);\n          range.moveStart('character', -1);\n        }\n        firebug.cancelEvent(_event);\n        if(lib.env.ie)\n          setTimeout(_el.focus,100);\n      };\n    }\n  },\n  listen: {\n    addXhrObject:function(){\n      with(firebug){\n        d.xhr.addObject.apply(env.targetWindow, el.button.xhr.textbox.environment.getElement().value.split(\",\"));\n      }\n    },\n    consoleTextbox:function(_event){\n      with(firebug){\n        if(_event.keyCode==13&&(env.multilinemode==false||_event.shiftKey==false)){\n          d.console.historyIndex = d.console.history.length;\n          d.console.eval(el.left.console.input.environment.getElement().value);\n          return false;\n        }\n\n        switch(_event.keyCode){\n          case 40:\n            if(d.console.history[d.console.historyIndex+1]){\n              d.console.historyIndex+=1;\n              el.left.console.input.update( d.console.history[d.console.historyIndex] );\n            }\n            break;\n          case 38:\n            if(d.console.history[d.console.historyIndex-1]){\n              d.console.historyIndex-=1;\n              el.left.console.input.update( d.console.history[d.console.historyIndex] );\n            }\n            break;\n        }\n      }\n    },\n    cssSelectbox:function(){\n      with(firebug){\n        d.css.open(el.button.css.selectbox.environment.getElement().selectedIndex);\n      }\n    },\n    domTextbox:function(_event){\n      with(firebug){\n        if(_event.keyCode==13){\n          d.dom.open(eval(el.button.dom.textbox.environment.getElement().value),el.left.dom.container);\n        }\n      }\n    },\n    inspector:function(){\n      with(firebug){\n        if (env.popupWin) {\n          env.popupWin.firebug.d.html.inspect(firebug.d.inspector.el);\n        } else {\n          firebug.d.html.inspect(firebug.d.inspector.el);\n        }\n      }\n    },\n    keyboard:function(_event){\n      with(firebug){\n        if(_event.keyCode==27 && d.inspector.enabled){\n          d.inspector.toggle();\n        } else if(_event.keyCode === 123 && _event.ctrlKey || _event.metaKey) {\n          if(env.isPopup){\n            win.dock();\n          }else {\n            win.newWindow();\n          }\n        } else if(\n            (_event.keyCode === 123 && !_event.ctrlKey && !_event.metaKey) || \n            (_event.keyCode === 76 && (_event.ctrlKey || _event.metaKey) && _event.shiftKey) ||\n            (_event.keyCode === 13 && _event.shiftKey)) {\n\n          if(env.isPopup){\n            win.dock();\n          } else if (el.main.environment.getStyle(\"display\") === 'none') {\n            win.show();\n          } else {\n            win.hide();\n          }\n        }\n      }\n    },\n    mouse:function(_event){\n      with(firebug){\n        var target;\n        \n        if(document.elementFromPoint) {\n          target = document.elementFromPoint(_event.clientX, _event.clientY);\n        } else {\n          if(lib.env.ie) {\n            target = _event.srcElement;\n          } else {\n            target = _event.explicitOriginalTarget || _event.target;\n          }\n        }\n        \n        if( d.inspector.enabled&&\n          target!=document.body&&\n          target!=document.firstChild&&\n          target!=document.childNodes[1]&&\n          target!=el.borderInspector.environment.getElement()&&\n          target!=el.main.environment.getElement()&&\n          target.offsetParent!=el.main.environment.getElement() ) {\n            d.inspector.inspect(target);\n        }\n      }\n    },\n    runMultiline:function(){\n      with(firebug){\n        d.console.eval.call(window,el.right.console.input.environment.getElement().value);\n      }\n    },\n    runCSS:function(){\n      with(firebug){\n        var source = el.right.css.input.environment.getElement().value.replace(/\\n|\\t/g,\"\").split(\"}\");\n        for(var i=0, len=source.length; i<len; i++){\n          var item = source[i]+\"}\", rule = !lib.env.ie?item:item.split(/{|}/),\n              styleSheet = document.styleSheets[0];\n          console.log(rule);\n          if(item.match(/.+\\{.+\\}/)){\n            if(lib.env.ie)\n              styleSheet.addRule(rule[0],rule[1]);\n            else\n              styleSheet.insertRule( rule, styleSheet.cssRules.length );\n          }\n        }\n      }\n    },\n    scriptsSelectbox:function(){\n      with(firebug){\n        d.scripts.open(parseInt(el.button.scripts.selectbox.environment.getElement().value));\n      }\n    },\n    xhrTextbox:function(_event){\n      with(firebug){\n        if(_event.keyCode==13){\n          d.xhr.addObject.apply(env.targetWindow, el.button.xhr.textbox.environment.getElement().value.split(\",\"));\n        }\n      }\n    }\n  }\n};\n\n(function(_scope){\n  _scope.lib = {};\n  var pi  = _scope.lib; pi.version = [1.1,2008091000];\n\n  pi.env = {\n    ie: /MSIE/i.test(navigator.userAgent),\n    ie6: /MSIE 6/i.test(navigator.userAgent),\n    ie7: /MSIE 7/i.test(navigator.userAgent),\n    ie8: /MSIE 8/i.test(navigator.userAgent),\n    firefox: /Firefox/i.test(navigator.userAgent),\n    opera: /Opera/i.test(navigator.userAgent),\n    webkit: /Webkit/i.test(navigator.userAgent),\n    camino: /Camino/i.test(navigator.userAgent)\n  };\n\n  pi.get = function(){\n    return document.getElementById(arguments[0]);\n  };\n  pi.get.byTag = function(){\n    return document.getElementsByTagName(arguments[0]);\n  };\n  pi.get.byClass = function(){ return document.getElementsByClassName.apply(document,arguments); };\n\n  pi.util = {\n    Array:{\n      clone:function(_array,_undeep){\n        var tmp = [];\n        Array.prototype.push.apply(tmp,_array);\n        pi.util.Array.forEach(tmp,function(_item,_index,_source){\n          if(_item instanceof Array&&!_undeep)\n            _source[_index] = pi.util.Array.clone(_source[_index]);\n        });\n        return tmp;\n      },\n      count:function(_array,_value){\n        var count = 0;\n        pi.util.Array.forEach(_array,function(){\n          count+=Number(arguments[0]==_value);\n        });\n        return count;\n      },\n      forEach:function(_array,_function){\n        if(_array.forEach)\n          return _array.forEach(_function);\n        for(var i=0,len=_array.length; i<len; i++)\n          _function.apply(_array,[_array[i],i,_array]);   \n      },\n      getLatest:function(_array){\n        return _array[_array.length-1];\n      },\n      indexOf:function(_array,_value){\n        if(!pi.env.ie){\n          return _array.indexOf(_value);\n        };\n\n        var index = -1;\n        for(var i=0, len=_array.length; i<len; i++){\n          if(_array[i]==_value){\n            index = i;\n            break;\n          }\n        }\n        return index;\n      },\n      remove:function(_array,_index){\n        var result = _array.slice(0,_index);\n        _array = Array.prototype.push.apply(result,_array.slice(_index+1));\n        return result;\n      }\n    },\n    Curry:function(_fn,_scope){\n      var fn = _fn, scope = _scope||window, args = Array.prototype.slice.call(arguments,2);\n      return function(){ \n        return fn.apply(scope,args.concat( Array.prototype.slice.call(arguments,0) )); \n      };\n    },\n    Extend:function(_superClass,_prototype,_skipClonning){\n      var object = new pi.base;\n      if(_prototype[\"$Init\"]){\n        object.init = _prototype[\"$Init\"];\n        delete _prototype[\"$Init\"];\n      };\n\n      object.body = _superClass==pi.base?_prototype:pi.util.Hash.merge(_prototype,_superClass.prototype);\n      object.init=object.init||function(){\n        if(_superClass!=pi.base)\n          _superClass.apply(this,arguments);\n      };\n\n      return object.build(_skipClonning);\n    },\n    IsArray:function(_object){\n      if(_object===null){\n        return false;\n      }\n      if(window.NodeList&&window.NamedNodeMap&&!pi.env.ie8){\n        if(_object instanceof Array||_object instanceof NodeList||_object instanceof NamedNodeMap||(window.HTMLCollection&&_object instanceof HTMLCollection))\n          return true;\n      };\n      if(!_object||_object==window||typeof _object==\"function\"||typeof _object==\"string\"||typeof _object.length!=\"number\"){\n        return false\n      };\n      var len = _object.length;\n      if(len>0&&_object[0]!=undefined&&_object[len-1]!=undefined){\n        return true;\n      } else {\n        for(var key in _object){\n          if(key!=\"item\"&&key!=\"length\"&&key!=\"setNamedItemNS\"&&key!=\"setNamedItem\"&&key!=\"getNamedItem\"&&key!=\"removeNamedItem\"&&key!=\"getNamedItemNS\"&&key!=\"removeNamedItemNS\"&&key!=\"tags\"){\n            return false;\n          }\n        }\n        return true\n      };\n    },\n    IsHash:function(_object){\n      return _object && typeof _object==\"object\"&&(_object==window||_object instanceof Object)&&!_object.nodeName&&!pi.util.IsArray(_object)\n    },\n    Init:[],\n    AddEvent: function(_element,_eventName,_fn,_useCapture){\n      _element[pi.env.ie?\"attachEvent\":\"addEventListener\"]((pi.env.ie?\"on\":\"\")+_eventName,_fn,_useCapture||false);\n      return pi.util.Curry(pi.util.AddEvent,this,_element);\n    },\n    RemoveEvent: function(_element,_eventName,_fn,_useCapture){\n      _element[pi.env.ie?\"detachEvent\":\"removeEventListener\"]((pi.env.ie?\"on\":\"\")+_eventName,_fn,_useCapture||false);\n      return pi.util.Curry(pi.util.RemoveEvent,this,_element);\n    },\n    Element:{\n      addClass:function(_element,_class){\n        if( !pi.util.Element.hasClass(_element,_class) )\n          pi.util.Element.setClass(_element, pi.util.Element.getClass(_element) + \" \" + _class );\n      },\n      getClass:function(_element){\n        return _element.getAttribute(pi.env.ie&&!pi.env.ie8?\"className\":\"class\")||\"\";\n      },\n      hasClass:function(_element,_class){\n        return pi.util.Array.indexOf(pi.util.Element.getClass(_element).split(\" \"),_class)>-1;\n      },\n      removeClass:function(_element,_class){\n        if( pi.util.Element.hasClass(_element,_class) ){\n          var names = pi.util.Element.getClass(_element,_class).split(\" \");\n          pi.util.Element.setClass(\n              _element, \n              pi.util.Array.remove(names,pi.util.Array.indexOf(names,_class)).join(\" \")\n          );\n        }\n      },\n      setClass:function(_element,_value){\n        if(pi.env.ie8){\n          _element.setAttribute(\"className\", _value );\n          _element.setAttribute(\"class\", _value );\n        } else {\n          _element.setAttribute(pi.env.ie?\"className\":\"class\", _value );\n        }\n      },\n      toggleClass:function(){\n        if(pi.util.Element.hasClass.apply(this,arguments))\n          pi.util.Element.removeClass.apply(this,arguments);\n        else\n          pi.util.Element.addClass.apply(this,arguments);\n      },\n      getOpacity:function(_styleObject){\n        var styleObject = _styleObject;\n        if(!pi.env.ie)\n          return styleObject[\"opacity\"];\n\n        var alpha = styleObject[\"filter\"].match(/opacity\\=(\\d+)/i);\n        return alpha?alpha[1]/100:1;\n      },\n      setOpacity:function(_element,_value){\n        if(!pi.env.ie)\n          return pi.util.Element.addStyle(_element,{ \"opacity\":_value });\n        _value*=100;\n        pi.util.Element.addStyle(_element,{ \"filter\":\"alpha(opacity=\"+_value+\")\" });\n        return this._parent_;\n      },\n      getPosition:function(_element){\n        var parent = _element,offsetLeft = document.body.offsetLeft, offsetTop = document.body.offsetTop, view = pi.util.Element.getView(_element);\n        while(parent&&parent!=document.body&&parent!=document.firstChild){\n          offsetLeft +=parseInt(parent.offsetLeft);\n          offsetTop += parseInt(parent.offsetTop);\n          parent = parent.offsetParent;\n        };\n        return {\n          \"bottom\":view[\"bottom\"],\n          \"clientLeft\":_element.clientLeft,\n          \"clientTop\":_element.clientTop,\n          \"left\":view[\"left\"],\n          \"marginTop\":view[\"marginTop\"],\n          \"marginLeft\":view[\"marginLeft\"],\n          \"offsetLeft\":offsetLeft,\n          \"offsetTop\":offsetTop,\n          \"position\":view[\"position\"],\n          \"right\":view[\"right\"],\n          \"top\":view[\"top\"],\n          \"zIndex\":view[\"zIndex\"]\n        };\n      },\n      getSize:function(_element){\n        var view = pi.util.Element.getView(_element);\n        return {\n          \"height\":view[\"height\"],\n          \"clientHeight\":_element.clientHeight,\n          \"clientWidth\":_element.clientWidth,\n          \"offsetHeight\":_element.offsetHeight,\n          \"offsetWidth\":_element.offsetWidth,\n          \"width\":view[\"width\"]\n        }\n      },\n      addStyle:function(_element,_style){\n        for(var key in _style){\n          key = key==\"float\"?pi.env.ie?\"styleFloat\":\"cssFloat\":key;\n          if (key == \"opacity\" && pi.env.ie) {\n            pi.util.Element.setOpacity(_element,_style[key]);\n            continue;\n          }\n          try {\n            _element.style[key] = _style[key];\n          }catch(e){}     \n        }\n      },\n      getStyle:function(_element,_property){\n        _property = _property==\"float\"?pi.env.ie?\"styleFloat\":\"cssFloat\":_property;\n        if(_property==\"opacity\"&&pi.env.ie)\n          return pi.util.Element.getOpacity(_element.style);\n        return typeof _property==\"string\"?_element.style[_property]:_element.style;\n      },\n      getValue:function(_element){\n        switch(_element.nodeName.toLowerCase()){\n          case \"input\":\n          case \"textarea\":\n            return _element.value;\n          case \"select\":\n            return _element.options[_element.selectedIndex].value;\n          default:\n            return _element.innerHTML;\n          break;\n        }\n      },\n      getView:function(_element,_property){\n        var view = document.defaultView?document.defaultView.getComputedStyle(_element,null):_element.currentStyle;\n        _property = _property==\"float\"?pi.env.ie?\"styleFloat\":\"cssFloat\":_property;\n        if(_property==\"opacity\"&&pi.env.ie)\n          return pi.util.Element.getOpacity(_element,view);\n        return typeof _property==\"string\"?view[_property]:view;\n      }\n    },\n    Hash: {\n      clone:function(_hash,_undeep){\n        var tmp = {};\n        for(var key in _hash){\n          if( !_undeep&&pi.util.IsArray( _hash[key] ) ){\n            tmp[key] = pi.util.Array.clone( _hash[key] );\n          } else if( !_undeep&&pi.util.IsHash( _hash[key] ) ){\n            tmp[ key ] = pi.util.Hash.clone(_hash[key]);\n          } else {\n            tmp[key] = _hash[key];\n          }\n        }\n        return tmp;\n      },\n      merge:function(_hash,_source,_undeep){\n        for(var key in _source){\n          var value = _source[key];\n          if (!_undeep&&pi.util.IsArray(_source[key])) {\n            if(pi.util.IsArray( _hash[key] )){\n              Array.prototype.push.apply( _source[key], _hash[key] )\n            }\n            else\n              value = pi.util.Array.clone(_source[key]);\n          }\n          else if (!_undeep&&pi.util.IsHash(_source[key])) {\n            if (pi.util.IsHash(_hash[key])) {\n              value = pi.util.Hash.merge(_hash[key], _source[key]);\n            } else {\n              value = pi.util.Hash.clone( _source[key] );\n            }\n          } else if( _hash[key] )\n            value = _hash[ key ];\n          _hash[key] = value;\n        };\n        return _hash;\n      }\n    },\n    String:{\n      format:function(_str){\n        var values = Array.prototype.slice.call(arguments,1);\n        return _str.replace(/\\{(\\d)\\}/g,function(){\n          return values[arguments[1]];\n        })\n      }\n    },\n    GetViewport:function(){\n      return {\n        height:document.documentElement.clientHeight||document.body.clientHeight,\n        width:document.documentElement.clientWidth||document.body.clientWidth\n      }\n    }\n  };\n\n  pi.base = function(){\n    this.body = {};\n    this.init = null;\n\n    this.build = function(_skipClonning){\n      var base = this, skipClonning = _skipClonning||false, _private = {},\n      fn = function(){\n        var _p = pi.util.Hash.clone(_private);\n        if(!skipClonning){\n          for(var key in this){\n            if(pi.util.IsArray( this[ key ] ) ){\n              this[key] = pi.util.Array.clone( this[key] );\n            } else\n              if( pi.util.IsHash(this[key]) ){\n                this[key] = pi.util.Hash.clone( \n                    this[ key ],\n                    function(_key,_object){\n                      this[ _key ]._parent_ = this;\n                    }\n                );\n                //this[key]._parent_ = this;\n              }\n          }\n        };\n        base.createAccessors( _p, this );\n        if(base.init)\n          return base.init.apply(this,arguments);\n        return this;\n      };\n      this.movePrivateMembers(this.body,_private);\n      if(this.init){\n        fn[\"$Init\"] = this.init;\n      };\n      fn.prototype = this.body;\n      return fn;\n    };\n\n    this.createAccessors = function(_p, _branch){\n      var getter = function(_property){ return this[_property]; },\n      setter = function(_property,_value){ this[_property] = _value; return _branch._parent_||_branch; };\n\n      for (var name in _p) {\n        var isPrivate = name.substring(0, 1) == \"_\", title = name.substring(1, 2).toUpperCase() + name.substring(2);\n\n        if (isPrivate) {\n          _branch[(_branch[\"get\" + title]?\"_\":\"\")+\"get\" + title] = pi.util.Curry(getter,_p,name);\n          _branch[(_branch[\"set\" + title]?\"_\":\"\")+\"set\" + title] = pi.util.Curry(setter,_p,name);\n        }\n        else \n          if (pi.util.IsHash(_p[name])){\n            _branch[name]._parent_ = _branch;\n            if(!_branch[name])\n              _branch[name] = {};\n            this.createAccessors(_p[name], _branch[name]);\n          }   \n      };\n    };\n\n    this.movePrivateMembers = function(_object, _branch){\n      for (var name in _object) {\n        var isPrivate = name.substring(0, 1) == \"_\";\n\n        if (isPrivate) {\n          _branch[name] = _object[name];\n          delete _object[name];\n        }\n        else \n          if (pi.util.IsHash(_object[name])){\n            _branch[name] = {};\n            this.movePrivateMembers(_object[name], _branch[name]);\n          }\n      };\n    };\n  };\n\n  pi.element = new pi.base;\n  pi.element.init = function(_val){\n    this.environment.setElement(\n        typeof _val==\"string\"||!_val?\n            document.createElement(_val||\"DIV\"):\n              _val\n    );\n    return this;\n  };\n\n  pi.element.body = {\n    \"addStyle\":function(){\n      return this.environment.addStyle.apply(this.environment,arguments);\n    },\n    \"clean\":function(){\n      var childs = this.child.get();\n      while(childs.length){\n        childs[0].parentNode.removeChild(childs[0]);\n      }\n    },\n    \"clone\":function(_deep){\n      return this.environment.getElement().cloneNode(_deep);\n    },\n    \"insert\":function(_element){\n      _element = _element.environment?_element.environment.getElement():_element;\n      _element.appendChild(this.environment.getElement());\n      return this;\n    },\n    \"insertAfter\":function(_referenceElement){\n      _referenceElement = _referenceElement.environment?_referenceElement.environment.getElement():_referenceElement;\n      _referenceElement.nextSibling?this.insertBefore(_referenceElement.nextSibling):this.insert(_referenceElement.parentNode);\n      return this;\n    },\n    \"insertBefore\":function(_referenceElement){\n      _referenceElement = _referenceElement.environment?_referenceElement.environment.getElement():_referenceElement;\n      _referenceElement.parentNode.insertBefore(this.environment.getElement(),_referenceElement);\n      return this;\n    },\n    \"query\":function(_expression,_resultType,namespaceResolver,_result){\n      return pi.xpath(_expression,_resultType||\"ORDERED_NODE_SNAPSHOT_TYPE\",this.environment.getElement(),_namespaceResolver,_result);\n    },\n    \"remove\":function(){\n      if (this.environment.getParent()) {\n        this.environment.getParent().removeChild(this.environment.getElement());\n      }\n    },\n    \"update\":function(_value){\n      this.element[this.element.nodeName.toLowerCase()==\"textarea\"||this.element.nodeName.toLowerCase()==\"input\"?\"value\":\"innerHTML\"]=_value;\n      return this;\n    },\n    \"attribute\":{\n      \"getAll\":function(){\n        return this._parent_.environment.getElement().attributes;\n      },\n      \"clear\":function(_name){\n        this.set(_name,\"\");\n        return this._parent_;\n      },\n      \"get\":function(_name){\n        return this._parent_.environment.getElement().getAttribute(_name);\n      },\n      \"has\":function(_name){\n        return pi.env.ie?(this.get(_name)!=null):this._parent_.environment.getElement().hasAttribute(_name);\n      },\n      \"remove\":function(_name){\n        this._parent_.environment.getElement().removeAttribute(_name);\n        return this._parent_;\n      },\n      \"set\":function(_name,_value){\n        this._parent_.environment.getElement().setAttribute(_name,_value);\n        return this._parent_;\n      },\n      \"addClass\":function(_classes){\n        for(var i=0,len=arguments.length; i<len; i++){\n          pi.util.Element.addClass(this._parent_.environment.getElement(),arguments[i]);\n        };\n        return this._parent_;\n      },\n      \"clearClass\":function(){\n        this.setClass(\"\");\n        this._parent_;\n      },\n      \"getClass\":function(){\n        return pi.util.Element.getClass( this._parent_.environment.getElement() );\n      },\n      \"hasClass\":function(_class){\n        return pi.util.Element.hasClass( this._parent_.environment.getElement(), _class );\n      },\n      \"setClass\":function(_value){\n        return pi.util.Element.setClass( this._parent_.environment.getElement(), _value );\n      },\n      \"removeClass\":function(_class){\n        pi.util.Element.removeClass( this._parent_.environment.getElement(), _class );\n        return this._parent_;\n      },\n      \"toggleClass\":function(_class){\n        pi.util.Element.toggleClass( this._parent_.environment.getElement(), _class );\n      }\n    },\n    \"child\":{\n      \"get\":function(){\n        return this._parent_.environment.getElement().childNodes;\n      },\n      \"add\":function(_elements){\n        for (var i = 0; i < arguments.length; i++) {\n          var el = arguments[i];\n          this._parent_.environment.getElement().appendChild(\n              el.environment ? el.environment.getElement() : el\n          );\n        }\n        return this._parent_;\n      },\n      \"addAfter\":function(_element,_referenceElement){\n        this.addBefore(\n            _element.environment?_element.environment.getElement():_element,\n                (_referenceElement.environment?_referenceElement.environment.getElement():_referenceElement).nextSibling\n        );\n        return this._parent_;\n      },\n      \"addBefore\":function(_element,_referenceElement){\n        this._parent_.environment.getElement().insertBefore(\n            _element.environment?_element.environment.getElement():_element,\n                _referenceElement.environment?_referenceElement.environment.getElement():_referenceElement\n        );\n        return this._parent_;\n      },\n      \"remove\":function(_element){\n        this._parent_.environment.getElement().removeChild(_element.environment?_element.environment.getElement():_element);\n      }\n    },\n    \"environment\":{\n      \"_element\":null,\n      \"setElement\":function(_value){\n        this._parent_.element = _value;\n        this._parent_.element.lib = this._parent_;\n        this._parent_.element.firebugElement = true;\n        this._setElement(_value);\n      },\n      \"getParent\":function(){\n        return this.getElement().parentNode;\n      },\n      \"getPosition\":function(){\n        return pi.util.Element.getPosition(this.getElement());\n      },\n      \"getSize\":function(){\n        return pi.util.Element.getSize( this.getElement() );\n      },\n      \"addStyle\":function(_styleObject){\n        pi.util.Element.addStyle(this.getElement(),_styleObject);\n        return this._parent_;\n      },\n      \"getStyle\":function(_property){\n        return pi.util.Element.getStyle(this.getElement(),_property);\n      },\n      \"getName\":function(){\n        return this.getElement().nodeName;\n      },\n      \"getType\":function(){\n        return this.getElement().nodeType;\n      },\n      \"getValue\":function(){\n        return pi.util.Element.getValue(this.getElement());\n      },\n      \"getView\":function(_property){\n        return pi.util.Element.getView(this.getElement(),_property);\n      }\n    },\n    \"event\":{\n      \"addListener\":function(_event,_fn,_useCapture){\n        pi.util.AddEvent(this._parent_.environment.getElement(),_event,_fn,_useCapture);\n        return this._parent_;\n      },\n      \"removeListener\":function(_event,_fn,_useCapture){\n        pi.util.RemoveEvent(this._parent_.environment.getElement(),_event,_fn,_useCapture);\n        return this._parent_;\n      }\n    }\n  };\n  pi.element = pi.element.build();\n\n  pi.xhr = new pi.base;\n  pi.xhr.init = function(_url){\n    if(!window.XMLHttpRequest){\n      var names = [\"Msxml2.XMLHTTP.6.0\",\"Msxml2.XMLHTTP.3.0\",\"Msxml2.XMLHTTP\",\"Microsoft.XMLHTTP\"];\n      for (var i = 0; i < names.length; i++) {\n        try {\n          this.environment.setApi(new ActiveXObject(names[i]));\n          break;\n        } catch (e) { continue; }\n      }\n    }\n    else {\n      this.environment.setApi(new XMLHttpRequest());\n    }\n    this.environment.getApi().onreadystatechange=pi.util.Curry(this.event.readystatechange,this);\n    this.environment.setUrl(_url);\n    this.environment.setCallback([]);\n\n    return this;\n  };\n  pi.xhr.body = {\n    \"addCallback\": function(){\n      return this.environment.addCallback.apply(this.environment,arguments);\n    },\n    \"addData\": function(){\n      return this.environment.addData.apply(this.environment,arguments);\n    },\n    \"abort\":function(){\n      this.environment.getApi().abort();\n      return this;\n    },\n    \"send\":function(){\n      var url = this.environment.getUrl(), data = this.environment.getData(),dataUrl = \"\"; \n\n      if(!this.environment.getCache())\n        data[\"forceCache\"] = Number(new Date);\n\n      for (var key in data)\n        dataUrl += pi.util.String.format(\"{0}={1}&\",key, data[key]);\n\n      if (this.environment.getType()==\"GET\")\n        url += (url.search(\"\\\\?\")==-1?\"?\":\"&\")+pi.util.String.format(\"{0}\",dataUrl);\n\n      this.api.open(this.environment.getType(),url,this.environment.getAsync());\n      if(this.environment.getType()==\"POST\"){\n        this.api.setRequestHeader(\"Content-Type\",\"application/x-www-form-urlencoded\");\n      };\n      this.api.send(this.environment.getType()==\"GET\"?\"\":dataUrl);\n      return this;\n    }\n  };\n  pi.xhr.body.environment = {\n    \"_async\":true, \"_api\":null, \"_cache\":true, \"_callback\":null, \"_data\":{}, \"_type\":\"GET\", \"_url\":\"\",\n    \"setApi\":function(_value){\n      this._parent_.api = _value;\n      this._setApi(_value);\n    },\n    \"addCallback\": function(_readyState,_fn){\n      this.getCallback().push({ \"fn\":_fn, \"readyState\":_readyState  });\n      return this._parent_;\n    },\n    \"addData\": function(_key,_value){\n      this.getData()[_key] = _value;\n      return this._parent_;\n    },\n    \"setType\": function(_value){\n      this._setType(_value);\n      return this._parent_;\n    }\n  };\n  pi.xhr.body.event = {\n    \"readystatechange\":function(){\n      var readyState = this.environment.getApi().readyState, callback=this.environment.getCallback();\n      for (var i = 0, len=callback.length; i < len; i++) {\n        if(pi.util.Array.indexOf(callback[i].readyState,readyState)>-1){\n          callback[i].fn.apply(this);\n        }\n      }\n    }\n  };\n  pi.xhr = pi.xhr.build();\n\n  /*\n   * xml.xhr.get\n   */\n\n  pi.xhr.get = function(_url,_returnPiObject){\n    var request = new pi.xhr();\n    request.environment.setAsync(false);\n    request.environment.setUrl(_url);\n    request.send();\n    return _returnPiObject?request:request.environment.getApi();\n  };\n\n  /*\n   * registering onload event for init functions\n   */\n  pi.util.AddEvent(\n    pi.env.ie?window:document,\n    pi.env.ie?\"load\":\"DOMContentLoaded\",\n    function(){\n      for(var i=0,len=pi.util.Init.length; i<len; i++){\n        pi.util.Init[ i ]();\n      }\n    }\n  );\n})(firebug);\n\nwith(firebug){\n  initConsole();\n  lib.util.Init.push(firebug.init);\n}\n","Magento_Tinymce3/tiny_mce/classes/xml/Parser.js":"/**\n * Parser.js\n *\n * Copyright 2009, Moxiecode Systems AB\n * Released under LGPL License.\n *\n * License: http://tinymce.moxiecode.com/license\n * Contributing: http://tinymce.moxiecode.com/contributing\n */\n\n(function() {\n\t/**\n\t * XML Parser class. This class is only available for the dev version of TinyMCE.\n\t */\n\ttinymce.create('tinymce.xml.Parser', {\n\t\t/**\n\t\t * Constucts a new XML parser instance.\n\t\t *\n\t\t * @param {Object} Optional settings object.\n\t\t */\n\t\tParser : function(s) {\n\t\t\tthis.settings = tinymce.extend({\n\t\t\t\tasync : true\n\t\t\t}, s);\n\t\t},\n\n\t\t/**\n\t\t * Parses the specified document and executed the callback ones it's parsed.\n\t\t *\n\t\t * @param {String} u URL to XML file to parse.\n\t\t * @param {function} cb Optional callback to execute ones the XML file is loaded.\n\t\t * @param {Object} s Optional scope for the callback execution.\n\t\t */\n\t\tload : function(u, cb, s) {\n\t\t\tvar doc, t, w = window, c = 0;\n\n\t\t\ts = s || this;\n\n\t\t\t// Explorer, use XMLDOM since it can be used on local fs\n\t\t\tif (window.ActiveXObject) {\n\t\t\t\tdoc = new ActiveXObject(\"Microsoft.XMLDOM\");\n\t\t\t\tdoc.async = this.settings.async;\n\n\t\t\t\t// Wait for response\n\t\t\t\tif (doc.async) {\n\t\t\t\t\tfunction check() {\n\t\t\t\t\t\tif (doc.readyState == 4 || c++ > 10000)\n\t\t\t\t\t\t\treturn cb.call(s, doc);\n\n\t\t\t\t\t\tw.setTimeout(check, 10);\n\t\t\t\t\t};\n\n\t\t\t\t\tt = w.setTimeout(check, 10);\n\t\t\t\t}\n\n\t\t\t\tdoc.load(u);\n\n\t\t\t\tif (!doc.async)\n\t\t\t\t\tcb.call(s, doc);\n\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// W3C using XMLHttpRequest\n\t\t\tif (window.XMLHttpRequest) {\n\t\t\t\ttry {\n\t\t\t\t\tdoc = new window.XMLHttpRequest();\n\t\t\t\t\tdoc.open('GET', u, this.settings.async);\n\t\t\t\t\tdoc.async = this.settings.async;\n\n\t\t\t\t\tdoc.onload = function() {\n\t\t\t\t\t\tcb.call(s, doc.responseXML);\n\t\t\t\t\t};\n\n\t\t\t\t\tdoc.send('');\n\t\t\t\t} catch (ex) {\n\t\t\t\t\tcb.call(s, null, ex);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Parses the specified XML string.\n\t\t *\n\t\t * @param {String} xml XML String to parse.\n\t\t * @return {Document} XML Document instance.\n\t\t */\n\t\tloadXML : function(xml) {\n\t\t\tvar doc;\n\n\t\t\t// W3C\n\t\t\tif (window.DOMParser)\n\t\t\t\treturn new DOMParser().parseFromString(xml, \"text/xml\");\n\n\t\t\t// Explorer\n\t\t\tif (window.ActiveXObject) {\n\t\t\t\tdoc = new ActiveXObject(\"Microsoft.XMLDOM\");\n\t\t\t\tdoc.async = \"false\";\n\t\t\t\tdoc.loadXML(xml);\n\n\t\t\t\treturn doc;\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * Returns all string contents of a element concated together.\n\t\t *\n\t\t * @param {XMLNode} el XML element to retrieve text from.\n\t\t * @return {string} XML element text contents.\n\t\t */\n\t\tgetText : function(el) {\n\t\t\tvar o = '';\n\n\t\t\tif (!el)\n\t\t\t\treturn '';\n\n\t\t\tif (el.hasChildNodes()) {\n\t\t\t\tel = el.firstChild;\n\n\t\t\t\tdo {\n\t\t\t\t\tif (el.nodeType == 3 || el.nodeType == 4)\n\t\t\t\t\t\to += el.nodeValue;\n\t\t\t\t} while(el = el.nextSibling);\n\t\t\t}\n\n\t\t\treturn o;\n\t\t}\n\t});\n})();\n","Magento_Swatches/js/swatch-renderer.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'underscore',\n    'mage/template',\n    'mage/smart-keyboard-handler',\n    'mage/translate',\n    'priceUtils',\n    'jquery/ui',\n    'jquery/jquery.parsequery',\n    'mage/validation/validation'\n], function ($, _, mageTemplate, keyboardHandler, $t, priceUtils) {\n    'use strict';\n\n    /**\n     * Extend form validation to support swatch accessibility\n     */\n    $.widget('mage.validation', $.mage.validation, {\n        /**\n         * Handle form with swatches validation. Focus on first invalid swatch block.\n         *\n         * @param {jQuery.Event} event\n         * @param {Object} validation\n         */\n        listenFormValidateHandler: function (event, validation) {\n            var swatchWrapper, firstActive, swatches, swatch, successList, errorList, firstSwatch;\n\n            this._superApply(arguments);\n\n            swatchWrapper = '.swatch-attribute-options';\n            swatches = $(event.target).find(swatchWrapper);\n\n            if (!swatches.length) {\n                return;\n            }\n\n            swatch = '.swatch-attribute';\n            firstActive = $(validation.errorList[0].element || []);\n            successList = validation.successList;\n            errorList = validation.errorList;\n            firstSwatch = $(firstActive).parent(swatch).find(swatchWrapper);\n\n            keyboardHandler.focus(swatches);\n\n            $.each(successList, function (index, item) {\n                $(item).parent(swatch).find(swatchWrapper).attr('aria-invalid', false);\n            });\n\n            $.each(errorList, function (index, item) {\n                $(item.element).parent(swatch).find(swatchWrapper).attr('aria-invalid', true);\n            });\n\n            if (firstSwatch.length) {\n                $(firstSwatch).focus();\n            }\n        }\n    });\n\n    /**\n     * Render tooltips by attributes (only to up).\n     * Required element attributes:\n     *  - option-type (integer, 0-3)\n     *  - option-label (string)\n     *  - option-tooltip-thumb\n     *  - option-tooltip-value\n     *  - thumb-width\n     *  - thumb-height\n     */\n    $.widget('mage.SwatchRendererTooltip', {\n        options: {\n            delay: 200,                             //how much ms before tooltip to show\n            tooltipClass: 'swatch-option-tooltip'  //configurable, but remember about css\n        },\n\n        /**\n         * @private\n         */\n        _init: function () {\n            var $widget = this,\n                $this = this.element,\n                $element = $('.' + $widget.options.tooltipClass),\n                timer,\n                type = parseInt($this.attr('option-type'), 10),\n                label = $this.attr('option-label'),\n                thumb = $this.attr('option-tooltip-thumb'),\n                value = $this.attr('option-tooltip-value'),\n                width = $this.attr('thumb-width'),\n                height = $this.attr('thumb-height'),\n                $image,\n                $title,\n                $corner;\n\n            if (!$element.length) {\n                $element = $('<div class=\"' +\n                    $widget.options.tooltipClass +\n                    '\"><div class=\"image\"></div><div class=\"title\"></div><div class=\"corner\"></div></div>'\n                );\n                $('body').append($element);\n            }\n\n            $image = $element.find('.image');\n            $title = $element.find('.title');\n            $corner = $element.find('.corner');\n\n            $this.hover(function () {\n                if (!$this.hasClass('disabled')) {\n                    timer = setTimeout(\n                        function () {\n                            var leftOpt = null,\n                                leftCorner = 0,\n                                left,\n                                $window;\n\n                            if (type === 2) {\n                                // Image\n                                $image.css({\n                                    'background': 'url(\"' + thumb + '\") no-repeat center', //Background case\n                                    'background-size': 'initial',\n                                    'width': width + 'px',\n                                    'height': height + 'px'\n                                });\n                                $image.show();\n                            } else if (type === 1) {\n                                // Color\n                                $image.css({\n                                    background: value\n                                });\n                                $image.show();\n                            } else if (type === 0 || type === 3) {\n                                // Default\n                                $image.hide();\n                            }\n\n                            $title.text(label);\n\n                            leftOpt = $this.offset().left;\n                            left = leftOpt + $this.width() / 2 - $element.width() / 2;\n                            $window = $(window);\n\n                            // the numbers (5 and 5) is magick constants for offset from left or right page\n                            if (left < 0) {\n                                left = 5;\n                            } else if (left + $element.width() > $window.width()) {\n                                left = $window.width() - $element.width() - 5;\n                            }\n\n                            // the numbers (6,  3 and 18) is magick constants for offset tooltip\n                            leftCorner = 0;\n\n                            if ($element.width() < $this.width()) {\n                                leftCorner = $element.width() / 2 - 3;\n                            } else {\n                                leftCorner = (leftOpt > left ? leftOpt - left : left - leftOpt) + $this.width() / 2 - 6;\n                            }\n\n                            $corner.css({\n                                left: leftCorner\n                            });\n                            $element.css({\n                                left: left,\n                                top: $this.offset().top - $element.height() - $corner.height() - 18\n                            }).show();\n                        },\n                        $widget.options.delay\n                    );\n                }\n            }, function () {\n                $element.hide();\n                clearTimeout(timer);\n            });\n\n            $(document).on('tap', function () {\n                $element.hide();\n                clearTimeout(timer);\n            });\n\n            $this.on('tap', function (event) {\n                event.stopPropagation();\n            });\n        }\n    });\n\n    /**\n     * Render swatch controls with options and use tooltips.\n     * Required two json:\n     *  - jsonConfig (magento's option config)\n     *  - jsonSwatchConfig (swatch's option config)\n     *\n     *  Tuning:\n     *  - numberToShow (show \"more\" button if options are more)\n     *  - onlySwatches (hide selectboxes)\n     *  - moreButtonText (text for \"more\" button)\n     *  - selectorProduct (selector for product container)\n     *  - selectorProductPrice (selector for change price)\n     */\n    $.widget('mage.SwatchRenderer', {\n        options: {\n            classes: {\n                attributeClass: 'swatch-attribute',\n                attributeLabelClass: 'swatch-attribute-label',\n                attributeSelectedOptionLabelClass: 'swatch-attribute-selected-option',\n                attributeOptionsWrapper: 'swatch-attribute-options',\n                attributeInput: 'swatch-input',\n                optionClass: 'swatch-option',\n                selectClass: 'swatch-select',\n                moreButton: 'swatch-more',\n                loader: 'swatch-option-loading'\n            },\n            // option's json config\n            jsonConfig: {},\n\n            // swatch's json config\n            jsonSwatchConfig: {},\n\n            // selector of parental block of prices and swatches (need to know where to seek for price block)\n            selectorProduct: '.product-info-main',\n\n            // selector of price wrapper (need to know where set price)\n            selectorProductPrice: '[data-role=priceBox]',\n\n            //selector of product images gallery wrapper\n            mediaGallerySelector: '[data-gallery-role=gallery-placeholder]',\n\n            // selector of category product tile wrapper\n            selectorProductTile: '.product-item',\n\n            // number of controls to show (false or zero = show all)\n            numberToShow: false,\n\n            // show only swatch controls\n            onlySwatches: false,\n\n            // enable label for control\n            enableControlLabel: true,\n\n            // control label id\n            controlLabelId: '',\n\n            // text for more button\n            moreButtonText: $t('More'),\n\n            // Callback url for media\n            mediaCallback: '',\n\n            // Local media cache\n            mediaCache: {},\n\n            // Cache for BaseProduct images. Needed when option unset\n            mediaGalleryInitial: [{}],\n\n            // Use ajax to get image data\n            useAjax: false,\n\n            /**\n             * Defines the mechanism of how images of a gallery should be\n             * updated when user switches between configurations of a product.\n             *\n             * As for now value of this option can be either 'replace' or 'prepend'.\n             *\n             * @type {String}\n             */\n            gallerySwitchStrategy: 'replace',\n\n            // whether swatches are rendered in product list or on product page\n            inProductList: false,\n\n            // sly-old-price block selector\n            slyOldPriceSelector: '.sly-old-price',\n\n            // tier prise selectors start\n            tierPriceTemplateSelector: '#tier-prices-template',\n            tierPriceBlockSelector: '[data-role=\"tier-price-block\"]',\n            tierPriceTemplate: '',\n            // tier prise selectors end\n\n            // A price label selector\n            normalPriceLabelSelector: '.normal-price .price-label'\n        },\n\n        /**\n         * Get chosen product\n         *\n         * @returns int|null\n         */\n        getProduct: function () {\n            var products = this._CalcProducts();\n\n            return _.isArray(products) ? products[0] : null;\n        },\n\n        /**\n         * @private\n         */\n        _init: function () {\n            if (_.isEmpty(this.options.jsonConfig.images)) {\n                this.options.useAjax = true;\n                // creates debounced variant of _LoadProductMedia()\n                // to use it in events handlers instead of _LoadProductMedia()\n                this._debouncedLoadProductMedia = _.debounce(this._LoadProductMedia.bind(this), 500);\n            }\n\n            if (this.options.jsonConfig !== '' && this.options.jsonSwatchConfig !== '') {\n                // store unsorted attributes\n                this.options.jsonConfig.mappedAttributes = _.clone(this.options.jsonConfig.attributes);\n                this._sortAttributes();\n                this._RenderControls();\n                this._setPreSelectedGallery();\n                $(this.element).trigger('swatch.initialized');\n            } else {\n                console.log('SwatchRenderer: No input data received');\n            }\n            this.options.tierPriceTemplate = $(this.options.tierPriceTemplateSelector).html();\n        },\n\n        /**\n         * @private\n         */\n        _sortAttributes: function () {\n            this.options.jsonConfig.attributes = _.sortBy(this.options.jsonConfig.attributes, function (attribute) {\n                return parseInt(attribute.position, 10);\n            });\n        },\n\n        /**\n         * @private\n         */\n        _create: function () {\n            var options = this.options,\n                gallery = $('[data-gallery-role=gallery-placeholder]', '.column.main'),\n                productData = this._determineProductData(),\n                $main = productData.isInProductView ?\n                    this.element.parents('.column.main') :\n                    this.element.parents('.product-item-info');\n\n            if (productData.isInProductView) {\n                gallery.data('gallery') ?\n                    this._onGalleryLoaded(gallery) :\n                    gallery.on('gallery:loaded', this._onGalleryLoaded.bind(this, gallery));\n            } else {\n                options.mediaGalleryInitial = [{\n                    'img': $main.find('.product-image-photo').attr('src')\n                }];\n            }\n\n            this.productForm = this.element.parents(this.options.selectorProductTile).find('form:first');\n            this.inProductList = this.productForm.length > 0;\n        },\n\n        /**\n         * Determine product id and related data\n         *\n         * @returns {{productId: *, isInProductView: bool}}\n         * @private\n         */\n        _determineProductData: function () {\n            // Check if product is in a list of products.\n            var productId,\n                isInProductView = false;\n\n            productId = this.element.parents('.product-item-details')\n                    .find('.price-box.price-final_price').attr('data-product-id');\n\n            if (!productId) {\n                // Check individual product.\n                productId = $('[name=product]').val();\n                isInProductView = productId > 0;\n            }\n\n            return {\n                productId: productId,\n                isInProductView: isInProductView\n            };\n        },\n\n        /**\n         * Render controls\n         *\n         * @private\n         */\n        _RenderControls: function () {\n            var $widget = this,\n                container = this.element,\n                classes = this.options.classes,\n                chooseText = this.options.jsonConfig.chooseText;\n\n            $widget.optionsMap = {};\n\n            $.each(this.options.jsonConfig.attributes, function () {\n                var item = this,\n                    controlLabelId = 'option-label-' + item.code + '-' + item.id,\n                    options = $widget._RenderSwatchOptions(item, controlLabelId),\n                    select = $widget._RenderSwatchSelect(item, chooseText),\n                    input = $widget._RenderFormInput(item),\n                    listLabel = '',\n                    label = '';\n\n                // Show only swatch controls\n                if ($widget.options.onlySwatches && !$widget.options.jsonSwatchConfig.hasOwnProperty(item.id)) {\n                    return;\n                }\n\n                if ($widget.options.enableControlLabel) {\n                    label +=\n                        '<span id=\"' + controlLabelId + '\" class=\"' + classes.attributeLabelClass + '\">' +\n                            item.label +\n                        '</span>' +\n                        '<span class=\"' + classes.attributeSelectedOptionLabelClass + '\"></span>';\n                }\n\n                if ($widget.inProductList) {\n                    $widget.productForm.append(input);\n                    input = '';\n                    listLabel = 'aria-label=\"' + item.label + '\"';\n                } else {\n                    listLabel = 'aria-labelledby=\"' + controlLabelId + '\"';\n                }\n\n                // Create new control\n                container.append(\n                    '<div class=\"' + classes.attributeClass + ' ' + item.code + '\" ' +\n                         'attribute-code=\"' + item.code + '\" ' +\n                         'attribute-id=\"' + item.id + '\">' +\n                        label +\n                        '<div aria-activedescendant=\"\" ' +\n                             'tabindex=\"0\" ' +\n                             'aria-invalid=\"false\" ' +\n                             'aria-required=\"true\" ' +\n                             'role=\"listbox\" ' + listLabel +\n                             'class=\"' + classes.attributeOptionsWrapper + ' clearfix\">' +\n                            options + select +\n                        '</div>' + input +\n                    '</div>'\n                );\n\n                $widget.optionsMap[item.id] = {};\n\n                // Aggregate options array to hash (key => value)\n                $.each(item.options, function () {\n                    if (this.products.length > 0) {\n                        $widget.optionsMap[item.id][this.id] = {\n                            price: parseInt(\n                                $widget.options.jsonConfig.optionPrices[this.products[0]].finalPrice.amount,\n                                10\n                            ),\n                            products: this.products\n                        };\n                    }\n                });\n            });\n\n            // Connect Tooltip\n            container\n                .find('[option-type=\"1\"], [option-type=\"2\"], [option-type=\"0\"], [option-type=\"3\"]')\n                .SwatchRendererTooltip();\n\n            // Hide all elements below more button\n            $('.' + classes.moreButton).nextAll().hide();\n\n            // Handle events like click or change\n            $widget._EventListener();\n\n            // Rewind options\n            $widget._Rewind(container);\n\n            //Emulate click on all swatches from Request\n            $widget._EmulateSelected($.parseQuery());\n            $widget._EmulateSelected($widget._getSelectedAttributes());\n        },\n\n        /**\n         * Render swatch options by part of config\n         *\n         * @param {Object} config\n         * @param {String} controlId\n         * @returns {String}\n         * @private\n         */\n        _RenderSwatchOptions: function (config, controlId) {\n            var optionConfig = this.options.jsonSwatchConfig[config.id],\n                optionClass = this.options.classes.optionClass,\n                sizeConfig = this.options.jsonSwatchImageSizeConfig,\n                moreLimit = parseInt(this.options.numberToShow, 10),\n                moreClass = this.options.classes.moreButton,\n                moreText = this.options.moreButtonText,\n                countAttributes = 0,\n                html = '';\n\n            if (!this.options.jsonSwatchConfig.hasOwnProperty(config.id)) {\n                return '';\n            }\n\n            $.each(config.options, function () {\n                var id,\n                    type,\n                    value,\n                    thumb,\n                    label,\n                    width,\n                    height,\n                    attr;\n\n                if (!optionConfig.hasOwnProperty(this.id)) {\n                    return '';\n                }\n\n                // Add more button\n                if (moreLimit === countAttributes++) {\n                    html += '<a href=\"#\" class=\"' + moreClass + '\">' + moreText + '</a>';\n                }\n\n                id = this.id;\n                type = parseInt(optionConfig[id].type, 10);\n                value = optionConfig[id].hasOwnProperty('value') ? optionConfig[id].value : '';\n                thumb = optionConfig[id].hasOwnProperty('thumb') ? optionConfig[id].thumb : '';\n                width = _.has(sizeConfig, 'swatchThumb') ? sizeConfig.swatchThumb.width : 110;\n                height = _.has(sizeConfig, 'swatchThumb') ? sizeConfig.swatchThumb.height : 90;\n                label = this.label ? this.label : '';\n                attr =\n                    ' id=\"' + controlId + '-item-' + id + '\"' +\n                    ' aria-checked=\"false\"' +\n                    ' aria-describedby=\"' + controlId + '\"' +\n                    ' tabindex=\"0\"' +\n                    ' option-type=\"' + type + '\"' +\n                    ' option-id=\"' + id + '\"' +\n                    ' option-label=\"' + label + '\"' +\n                    ' aria-label=\"' + label + '\"' +\n                    ' option-tooltip-thumb=\"' + thumb + '\"' +\n                    ' option-tooltip-value=\"' + value + '\"' +\n                    ' role=\"option\"' +\n                    ' thumb-width=\"' + width + '\"' +\n                    ' thumb-height=\"' + height + '\"';\n\n                if (!this.hasOwnProperty('products') || this.products.length <= 0) {\n                    attr += ' option-empty=\"true\"';\n                }\n\n                if (type === 0) {\n                    // Text\n                    html += '<div class=\"' + optionClass + ' text\" ' + attr + '>' + (value ? value : label) +\n                        '</div>';\n                } else if (type === 1) {\n                    // Color\n                    html += '<div class=\"' + optionClass + ' color\" ' + attr +\n                        ' style=\"background: ' + value +\n                        ' no-repeat center; background-size: initial;\">' + '' +\n                        '</div>';\n                } else if (type === 2) {\n                    // Image\n                    html += '<div class=\"' + optionClass + ' image\" ' + attr +\n                        ' style=\"background: url(' + value + ') no-repeat center; background-size: initial;width:' +\n                        sizeConfig.swatchImage.width + 'px; height:' + sizeConfig.swatchImage.height + 'px\">' + '' +\n                        '</div>';\n                } else if (type === 3) {\n                    // Clear\n                    html += '<div class=\"' + optionClass + '\" ' + attr + '></div>';\n                } else {\n                    // Default\n                    html += '<div class=\"' + optionClass + '\" ' + attr + '>' + label + '</div>';\n                }\n            });\n\n            return html;\n        },\n\n        /**\n         * Render select by part of config\n         *\n         * @param {Object} config\n         * @param {String} chooseText\n         * @returns {String}\n         * @private\n         */\n        _RenderSwatchSelect: function (config, chooseText) {\n            var html;\n\n            if (this.options.jsonSwatchConfig.hasOwnProperty(config.id)) {\n                return '';\n            }\n\n            html =\n                '<select class=\"' + this.options.classes.selectClass + ' ' + config.code + '\">' +\n                '<option value=\"0\" option-id=\"0\">' + chooseText + '</option>';\n\n            $.each(config.options, function () {\n                var label = this.label,\n                    attr = ' value=\"' + this.id + '\" option-id=\"' + this.id + '\"';\n\n                if (!this.hasOwnProperty('products') || this.products.length <= 0) {\n                    attr += ' option-empty=\"true\"';\n                }\n\n                html += '<option ' + attr + '>' + label + '</option>';\n            });\n\n            html += '</select>';\n\n            return html;\n        },\n\n        /**\n         * Input for submit form.\n         * This control shouldn't have \"type=hidden\", \"display: none\" for validation work :(\n         *\n         * @param {Object} config\n         * @private\n         */\n        _RenderFormInput: function (config) {\n            return '<input class=\"' + this.options.classes.attributeInput + ' super-attribute-select\" ' +\n                'name=\"super_attribute[' + config.id + ']\" ' +\n                'type=\"text\" ' +\n                'value=\"\" ' +\n                'data-selector=\"super_attribute[' + config.id + ']\" ' +\n                'data-validate=\"{required: true}\" ' +\n                'aria-required=\"true\" ' +\n                'aria-invalid=\"false\">';\n        },\n\n        /**\n         * Event listener\n         *\n         * @private\n         */\n        _EventListener: function () {\n            var $widget = this,\n                options = this.options.classes,\n                target;\n\n            $widget.element.on('click', '.' + options.optionClass, function () {\n                return $widget._OnClick($(this), $widget);\n            });\n\n            $widget.element.on('change', '.' + options.selectClass, function () {\n                return $widget._OnChange($(this), $widget);\n            });\n\n            $widget.element.on('click', '.' + options.moreButton, function (e) {\n                e.preventDefault();\n\n                return $widget._OnMoreClick($(this));\n            });\n\n            $widget.element.on('keydown', function (e) {\n                if (e.which === 13) {\n                    target = $(e.target);\n\n                    if (target.is('.' + options.optionClass)) {\n                        return $widget._OnClick(target, $widget);\n                    } else if (target.is('.' + options.selectClass)) {\n                        return $widget._OnChange(target, $widget);\n                    } else if (target.is('.' + options.moreButton)) {\n                        e.preventDefault();\n\n                        return $widget._OnMoreClick(target);\n                    }\n                }\n            });\n        },\n\n        /**\n         * Load media gallery using ajax or json config.\n         *\n         * @private\n         */\n        _loadMedia: function () {\n            var $main = this.inProductList ?\n                    this.element.parents('.product-item-info') :\n                    this.element.parents('.column.main'),\n                images;\n\n            if (this.options.useAjax) {\n                this._debouncedLoadProductMedia();\n            }  else {\n                images = this.options.jsonConfig.images[this.getProduct()];\n\n                if (!images) {\n                    images = this.options.mediaGalleryInitial;\n                }\n\n                this.updateBaseImage(images, $main, !this.inProductList);\n            }\n        },\n\n        /**\n         * Event for swatch options\n         *\n         * @param {Object} $this\n         * @param {Object} $widget\n         * @private\n         */\n        _OnClick: function ($this, $widget) {\n            var $parent = $this.parents('.' + $widget.options.classes.attributeClass),\n                $wrapper = $this.parents('.' + $widget.options.classes.attributeOptionsWrapper),\n                $label = $parent.find('.' + $widget.options.classes.attributeSelectedOptionLabelClass),\n                attributeId = $parent.attr('attribute-id'),\n                $input = $parent.find('.' + $widget.options.classes.attributeInput);\n\n            if ($widget.inProductList) {\n                $input = $widget.productForm.find(\n                    '.' + $widget.options.classes.attributeInput + '[name=\"super_attribute[' + attributeId + ']\"]'\n                );\n            }\n\n            if ($this.hasClass('disabled')) {\n                return;\n            }\n\n            if ($this.hasClass('selected')) {\n                $parent.removeAttr('option-selected').find('.selected').removeClass('selected');\n                $input.val('');\n                $label.text('');\n                $this.attr('aria-checked', false);\n            } else {\n                $parent.attr('option-selected', $this.attr('option-id')).find('.selected').removeClass('selected');\n                $label.text($this.attr('option-label'));\n                $input.val($this.attr('option-id'));\n                $input.attr('data-attr-name', this._getAttributeCodeById(attributeId));\n                $this.addClass('selected');\n                $widget._toggleCheckedAttributes($this, $wrapper);\n            }\n\n            $widget._Rebuild();\n\n            if ($widget.element.parents($widget.options.selectorProduct)\n                    .find(this.options.selectorProductPrice).is(':data(mage-priceBox)')\n            ) {\n                $widget._UpdatePrice();\n            }\n\n            $widget._loadMedia();\n            $input.trigger('change');\n        },\n\n        /**\n         * Get human readable attribute code (eg. size, color) by it ID from configuration\n         *\n         * @param {Number} attributeId\n         * @returns {*}\n         * @private\n         */\n        _getAttributeCodeById: function (attributeId) {\n            var attribute = this.options.jsonConfig.mappedAttributes[attributeId];\n\n            return attribute ? attribute.code : attributeId;\n        },\n\n        /**\n         * Toggle accessibility attributes\n         *\n         * @param {Object} $this\n         * @param {Object} $wrapper\n         * @private\n         */\n        _toggleCheckedAttributes: function ($this, $wrapper) {\n            $wrapper.attr('aria-activedescendant', $this.attr('id'))\n                    .find('.' + this.options.classes.optionClass).attr('aria-checked', false);\n            $this.attr('aria-checked', true);\n        },\n\n        /**\n         * Event for select\n         *\n         * @param {Object} $this\n         * @param {Object} $widget\n         * @private\n         */\n        _OnChange: function ($this, $widget) {\n            var $parent = $this.parents('.' + $widget.options.classes.attributeClass),\n                attributeId = $parent.attr('attribute-id'),\n                $input = $parent.find('.' + $widget.options.classes.attributeInput);\n\n            if ($widget.productForm.length > 0) {\n                $input = $widget.productForm.find(\n                    '.' + $widget.options.classes.attributeInput + '[name=\"super_attribute[' + attributeId + ']\"]'\n                );\n            }\n\n            if ($this.val() > 0) {\n                $parent.attr('option-selected', $this.val());\n                $input.val($this.val());\n            } else {\n                $parent.removeAttr('option-selected');\n                $input.val('');\n            }\n\n            $widget._Rebuild();\n            $widget._UpdatePrice();\n            $widget._loadMedia();\n            $input.trigger('change');\n        },\n\n        /**\n         * Event for more switcher\n         *\n         * @param {Object} $this\n         * @private\n         */\n        _OnMoreClick: function ($this) {\n            $this.nextAll().show();\n            $this.blur().remove();\n        },\n\n        /**\n         * Rewind options for controls\n         *\n         * @private\n         */\n        _Rewind: function (controls) {\n            controls.find('div[option-id], option[option-id]').removeClass('disabled').removeAttr('disabled');\n            controls.find('div[option-empty], option[option-empty]').attr('disabled', true).addClass('disabled');\n        },\n\n        /**\n         * Rebuild container\n         *\n         * @private\n         */\n        _Rebuild: function () {\n            var $widget = this,\n                controls = $widget.element.find('.' + $widget.options.classes.attributeClass + '[attribute-id]'),\n                selected = controls.filter('[option-selected]');\n\n            // Enable all options\n            $widget._Rewind(controls);\n\n            // done if nothing selected\n            if (selected.length <= 0) {\n                return;\n            }\n\n            // Disable not available options\n            controls.each(function () {\n                var $this = $(this),\n                    id = $this.attr('attribute-id'),\n                    products = $widget._CalcProducts(id);\n\n                if (selected.length === 1 && selected.first().attr('attribute-id') === id) {\n                    return;\n                }\n\n                $this.find('[option-id]').each(function () {\n                    var $element = $(this),\n                        option = $element.attr('option-id');\n\n                    if (!$widget.optionsMap.hasOwnProperty(id) || !$widget.optionsMap[id].hasOwnProperty(option) ||\n                        $element.hasClass('selected') ||\n                        $element.is(':selected')) {\n                        return;\n                    }\n\n                    if (_.intersection(products, $widget.optionsMap[id][option].products).length <= 0) {\n                        $element.attr('disabled', true).addClass('disabled');\n                    }\n                });\n            });\n        },\n\n        /**\n         * Get selected product list\n         *\n         * @returns {Array}\n         * @private\n         */\n        _CalcProducts: function ($skipAttributeId) {\n            var $widget = this,\n                products = [];\n\n            // Generate intersection of products\n            $widget.element.find('.' + $widget.options.classes.attributeClass + '[option-selected]').each(function () {\n                var id = $(this).attr('attribute-id'),\n                    option = $(this).attr('option-selected');\n\n                if ($skipAttributeId !== undefined && $skipAttributeId === id) {\n                    return;\n                }\n\n                if (!$widget.optionsMap.hasOwnProperty(id) || !$widget.optionsMap[id].hasOwnProperty(option)) {\n                    return;\n                }\n\n                if (products.length === 0) {\n                    products = $widget.optionsMap[id][option].products;\n                } else {\n                    products = _.intersection(products, $widget.optionsMap[id][option].products);\n                }\n            });\n\n            return products;\n        },\n\n        /**\n         * Update total price\n         *\n         * @private\n         */\n        _UpdatePrice: function () {\n            var $widget = this,\n                $product = $widget.element.parents($widget.options.selectorProduct),\n                $productPrice = $product.find(this.options.selectorProductPrice),\n                options = _.object(_.keys($widget.optionsMap), {}),\n                result,\n                tierPriceHtml;\n\n            $widget.element.find('.' + $widget.options.classes.attributeClass + '[option-selected]').each(function () {\n                var attributeId = $(this).attr('attribute-id');\n\n                options[attributeId] = $(this).attr('option-selected');\n            });\n\n            result = $widget.options.jsonConfig.optionPrices[_.findKey($widget.options.jsonConfig.index, options)];\n\n            $productPrice.trigger(\n                'updatePrice',\n                {\n                    'prices': $widget._getPrices(result, $productPrice.priceBox('option').prices)\n                }\n            );\n\n            if (typeof result != 'undefined' && result.oldPrice.amount !== result.finalPrice.amount) {\n                $(this.options.slyOldPriceSelector).show();\n            } else {\n                $(this.options.slyOldPriceSelector).hide();\n            }\n\n            if (typeof result != 'undefined' && result.tierPrices.length) {\n                if (this.options.tierPriceTemplate) {\n                    tierPriceHtml = mageTemplate(\n                        this.options.tierPriceTemplate,\n                        {\n                            'tierPrices': result.tierPrices,\n                            '$t': $t,\n                            'currencyFormat': this.options.jsonConfig.currencyFormat,\n                            'priceUtils': priceUtils\n                        }\n                    );\n                    $(this.options.tierPriceBlockSelector).html(tierPriceHtml).show();\n                }\n            } else {\n                $(this.options.tierPriceBlockSelector).hide();\n            }\n\n            $(this.options.normalPriceLabelSelector).hide();\n\n            _.each($('.' + this.options.classes.attributeOptionsWrapper), function (attribute) {\n                if ($(attribute).find('.' + this.options.classes.optionClass + '.selected').length === 0) {\n                    if ($(attribute).find('.' + this.options.classes.selectClass).length > 0) {\n                        _.each($(attribute).find('.' + this.options.classes.selectClass), function (dropdown) {\n                            if ($(dropdown).val() === '0') {\n                                $(this.options.normalPriceLabelSelector).show();\n                            }\n                        }.bind(this));\n                    } else {\n                        $(this.options.normalPriceLabelSelector).show();\n                    }\n                }\n            }.bind(this));\n        },\n\n        /**\n         * Get prices\n         *\n         * @param {Object} newPrices\n         * @param {Object} displayPrices\n         * @returns {*}\n         * @private\n         */\n        _getPrices: function (newPrices, displayPrices) {\n            var $widget = this;\n\n            if (_.isEmpty(newPrices)) {\n                newPrices = $widget.options.jsonConfig.prices;\n            }\n\n            _.each(displayPrices, function (price, code) {\n                if (newPrices[code]) {\n                    displayPrices[code].amount = newPrices[code].amount - displayPrices[code].amount;\n                }\n            });\n\n            return displayPrices;\n        },\n\n        /**\n         * Gets all product media and change current to the needed one\n         *\n         * @private\n         */\n        _LoadProductMedia: function () {\n            var $widget = this,\n                $this = $widget.element,\n                productData = this._determineProductData(),\n                mediaCallData,\n                mediaCacheKey,\n\n                /**\n                 * Processes product media data\n                 *\n                 * @param {Object} data\n                 * @returns void\n                 */\n                mediaSuccessCallback = function (data) {\n                    if (!(mediaCacheKey in $widget.options.mediaCache)) {\n                        $widget.options.mediaCache[mediaCacheKey] = data;\n                    }\n                    $widget._ProductMediaCallback($this, data, productData.isInProductView);\n                    setTimeout(function () {\n                        $widget._DisableProductMediaLoader($this);\n                    }, 300);\n                };\n\n            if (!$widget.options.mediaCallback) {\n                return;\n            }\n\n            mediaCallData = {\n                'product_id': this.getProduct()\n            };\n\n            mediaCacheKey = JSON.stringify(mediaCallData);\n\n            if (mediaCacheKey in $widget.options.mediaCache) {\n                $widget._XhrKiller();\n                $widget._EnableProductMediaLoader($this);\n                mediaSuccessCallback($widget.options.mediaCache[mediaCacheKey]);\n            } else {\n                mediaCallData.isAjax = true;\n                $widget._XhrKiller();\n                $widget._EnableProductMediaLoader($this);\n                $widget.xhr = $.get(\n                    $widget.options.mediaCallback,\n                    mediaCallData,\n                    mediaSuccessCallback,\n                    'json'\n                ).done(function () {\n                    $widget._XhrKiller();\n                });\n            }\n        },\n\n        /**\n         * Enable loader\n         *\n         * @param {Object} $this\n         * @private\n         */\n        _EnableProductMediaLoader: function ($this) {\n            var $widget = this;\n\n            if ($('body.catalog-product-view').length > 0) {\n                $this.parents('.column.main').find('.photo.image')\n                    .addClass($widget.options.classes.loader);\n            } else {\n                //Category View\n                $this.parents('.product-item-info').find('.product-image-photo')\n                    .addClass($widget.options.classes.loader);\n            }\n        },\n\n        /**\n         * Disable loader\n         *\n         * @param {Object} $this\n         * @private\n         */\n        _DisableProductMediaLoader: function ($this) {\n            var $widget = this;\n\n            if ($('body.catalog-product-view').length > 0) {\n                $this.parents('.column.main').find('.photo.image')\n                    .removeClass($widget.options.classes.loader);\n            } else {\n                //Category View\n                $this.parents('.product-item-info').find('.product-image-photo')\n                    .removeClass($widget.options.classes.loader);\n            }\n        },\n\n        /**\n         * Callback for product media\n         *\n         * @param {Object} $this\n         * @param {String} response\n         * @param {Boolean} isInProductView\n         * @private\n         */\n        _ProductMediaCallback: function ($this, response, isInProductView) {\n            var $main = isInProductView ? $this.parents('.column.main') : $this.parents('.product-item-info'),\n                $widget = this,\n                images = [],\n\n                /**\n                 * Check whether object supported or not\n                 *\n                 * @param {Object} e\n                 * @returns {*|Boolean}\n                 */\n                support = function (e) {\n                    return e.hasOwnProperty('large') && e.hasOwnProperty('medium') && e.hasOwnProperty('small');\n                };\n\n            if (_.size($widget) < 1 || !support(response)) {\n                this.updateBaseImage(this.options.mediaGalleryInitial, $main, isInProductView);\n\n                return;\n            }\n\n            images.push({\n                full: response.large,\n                img: response.medium,\n                thumb: response.small,\n                isMain: true\n            });\n\n            if (response.hasOwnProperty('gallery')) {\n                $.each(response.gallery, function () {\n                    if (!support(this) || response.large === this.large) {\n                        return;\n                    }\n                    images.push({\n                        full: this.large,\n                        img: this.medium,\n                        thumb: this.small\n                    });\n                });\n            }\n\n            this.updateBaseImage(images, $main, isInProductView);\n        },\n\n        /**\n         * Check if images to update are initial and set their type\n         * @param {Array} images\n         */\n        _setImageType: function (images) {\n            var initial = this.options.mediaGalleryInitial[0].img;\n\n            if (images[0].img === initial) {\n                images = $.extend(true, [], this.options.mediaGalleryInitial);\n            } else {\n                images.map(function (img) {\n                    if (!img.type) {\n                        img.type = 'image';\n                    }\n                });\n            }\n\n            return images;\n        },\n\n        /**\n         * Update [gallery-placeholder] or [product-image-photo]\n         * @param {Array} images\n         * @param {jQuery} context\n         * @param {Boolean} isInProductView\n         */\n        updateBaseImage: function (images, context, isInProductView) {\n            var justAnImage = images[0],\n                initialImages = this.options.mediaGalleryInitial,\n                gallery = context.find(this.options.mediaGallerySelector).data('gallery'),\n                imagesToUpdate,\n                isInitial;\n\n            if (isInProductView) {\n                imagesToUpdate = images.length ? this._setImageType($.extend(true, [], images)) : [];\n                isInitial = _.isEqual(imagesToUpdate, initialImages);\n\n                if (this.options.gallerySwitchStrategy === 'prepend' && !isInitial) {\n                    imagesToUpdate = imagesToUpdate.concat(initialImages);\n                }\n\n                imagesToUpdate = this._setImageIndex(imagesToUpdate);\n                gallery.updateData(imagesToUpdate);\n\n                if (isInitial) {\n                    $(this.options.mediaGallerySelector).AddFotoramaVideoEvents();\n                } else {\n                    $(this.options.mediaGallerySelector).AddFotoramaVideoEvents({\n                        selectedOption: this.getProduct(),\n                        dataMergeStrategy: this.options.gallerySwitchStrategy\n                    });\n                }\n\n                gallery.first();\n\n            } else if (justAnImage && justAnImage.img) {\n                context.find('.product-image-photo').attr('src', justAnImage.img);\n            }\n        },\n\n        /**\n         * Set correct indexes for image set.\n         *\n         * @param {Array} images\n         * @private\n         */\n        _setImageIndex: function (images) {\n            var length = images.length,\n                i;\n\n            for (i = 0; length > i; i++) {\n                images[i].i = i + 1;\n            }\n\n            return images;\n        },\n\n        /**\n         * Kill doubled AJAX requests\n         *\n         * @private\n         */\n        _XhrKiller: function () {\n            var $widget = this;\n\n            if ($widget.xhr !== undefined && $widget.xhr !== null) {\n                $widget.xhr.abort();\n                $widget.xhr = null;\n            }\n        },\n\n        /**\n         * Emulate mouse click on all swatches that should be selected\n         * @param {Object} [selectedAttributes]\n         * @private\n         */\n        _EmulateSelected: function (selectedAttributes) {\n            $.each(selectedAttributes, $.proxy(function (attributeCode, optionId) {\n                var elem = this.element.find('.' + this.options.classes.attributeClass +\n                    '[attribute-code=\"' + attributeCode + '\"] [option-id=\"' + optionId + '\"]'),\n                    parentInput = elem.parent();\n\n                if (elem.hasClass('selected')) {\n                    return;\n                }\n\n                if (parentInput.hasClass(this.options.classes.selectClass)) {\n                    parentInput.val(optionId);\n                    parentInput.trigger('change');\n                } else {\n                    elem.trigger('click');\n                }\n            }, this));\n        },\n\n        /**\n         * Emulate mouse click or selection change on all swatches that should be selected\n         * @param {Object} [selectedAttributes]\n         * @private\n         */\n        _EmulateSelectedByAttributeId: function (selectedAttributes) {\n            $.each(selectedAttributes, $.proxy(function (attributeId, optionId) {\n                var elem = this.element.find('.' + this.options.classes.attributeClass +\n                    '[attribute-id=\"' + attributeId + '\"] [option-id=\"' + optionId + '\"]'),\n                    parentInput = elem.parent();\n\n                if (elem.hasClass('selected')) {\n                    return;\n                }\n\n                if (parentInput.hasClass(this.options.classes.selectClass)) {\n                    parentInput.val(optionId);\n                    parentInput.trigger('change');\n                } else {\n                    elem.trigger('click');\n                }\n            }, this));\n        },\n\n        /**\n         * Get default options values settings with either URL query parameters\n         * @private\n         */\n        _getSelectedAttributes: function () {\n            var hashIndex = window.location.href.indexOf('#'),\n                selectedAttributes = {},\n                params;\n\n            if (hashIndex !== -1) {\n                params = $.parseQuery(window.location.href.substr(hashIndex + 1));\n\n                selectedAttributes = _.invert(_.mapObject(_.invert(params), function (attributeId) {\n                    var attribute = this.options.jsonConfig.mappedAttributes[attributeId];\n\n                    return attribute ? attribute.code : attributeId;\n                }.bind(this)));\n            }\n\n            return selectedAttributes;\n        },\n\n        /**\n         * Callback which fired after gallery gets initialized.\n         *\n         * @param {HTMLElement} element - DOM element associated with a gallery.\n         */\n        _onGalleryLoaded: function (element) {\n            var galleryObject = element.data('gallery');\n\n            this.options.mediaGalleryInitial = galleryObject.returnCurrentImages();\n        },\n\n        /**\n         * Sets mediaCache for cases when jsonConfig contains preSelectedGallery on layered navigation result pages\n         *\n         * @private\n         */\n        _setPreSelectedGallery: function () {\n            var mediaCallData;\n\n            if (this.options.jsonConfig.preSelectedGallery) {\n                mediaCallData = {\n                    'product_id': this.getProduct()\n                };\n\n                this.options.mediaCache[JSON.stringify(mediaCallData)] = this.options.jsonConfig.preSelectedGallery;\n            }\n        }\n    });\n\n    return $.mage.SwatchRenderer;\n});\n","Magento_Swatches/js/catalog-add-to-cart.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\nrequire([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    /**\n     * Add selected swatch attributes to redirect url\n     *\n     * @see Magento_Catalog/js/catalog-add-to-cart\n     */\n    $('body').on('catalogCategoryAddToCartRedirect', function (event, data) {\n        $(data.form).find('[name*=\"super\"]').each(function (index, item) {\n            var $item = $(item),\n                attr;\n\n            if ($item.attr('data-attr-name')) {\n                attr = $item.attr('data-attr-name');\n            } else {\n                attr = $item.parent().attr('attribute-code');\n            }\n            data.redirectParameters.push(attr + '=' + $item.val());\n\n        });\n    });\n});\n","Magento_Swatches/js/configurable-customer-data.js":"require([\n    'jquery',\n    'Magento_ConfigurableProduct/js/options-updater'\n], function ($, Updater) {\n    'use strict';\n\n    var selectors = {\n            formSelector: '#product_addtocart_form',\n            swatchSelector: '.swatch-opt'\n        },\n        swatchWidgetName = 'mageSwatchRenderer',\n        widgetInitEvent = 'swatch.initialized',\n\n    /**\n    * Sets all configurable swatch attribute's selected values\n    */\n    updateSwatchOptions = function () {\n        var swatchWidget = $(selectors.swatchSelector).data(swatchWidgetName);\n\n        if (!swatchWidget || !swatchWidget._EmulateSelectedByAttributeId) {\n            return;\n        }\n        swatchWidget._EmulateSelectedByAttributeId(this.productOptions);\n    },\n    updater = new Updater(widgetInitEvent, updateSwatchOptions);\n\n    updater.listen();\n});\n","requirejs/domReady.js":"/**\n * @license RequireJS domReady 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/requirejs/domReady for details\n */\n/*jslint */\n/*global require: false, define: false, requirejs: false,\n  window: false, clearInterval: false, document: false,\n  self: false, setInterval: false */\n\n\ndefine(function () {\n    'use strict';\n\n    var isTop, testDiv, scrollIntervalId,\n        isBrowser = typeof window !== \"undefined\" && window.document,\n        isPageLoaded = !isBrowser,\n        doc = isBrowser ? document : null,\n        readyCalls = [];\n\n    function runCallbacks(callbacks) {\n        var i;\n        for (i = 0; i < callbacks.length; i += 1) {\n            callbacks[i](doc);\n        }\n    }\n\n    function callReady() {\n        var callbacks = readyCalls;\n\n        if (isPageLoaded) {\n            //Call the DOM ready callbacks\n            if (callbacks.length) {\n                readyCalls = [];\n                runCallbacks(callbacks);\n            }\n        }\n    }\n\n    /**\n     * Sets the page as loaded.\n     */\n    function pageLoaded() {\n        if (!isPageLoaded) {\n            isPageLoaded = true;\n            if (scrollIntervalId) {\n                clearInterval(scrollIntervalId);\n            }\n\n            callReady();\n        }\n    }\n\n    if (isBrowser) {\n        if (document.addEventListener) {\n            //Standards. Hooray! Assumption here that if standards based,\n            //it knows about DOMContentLoaded.\n            document.addEventListener(\"DOMContentLoaded\", pageLoaded, false);\n            window.addEventListener(\"load\", pageLoaded, false);\n        } else if (window.attachEvent) {\n            window.attachEvent(\"onload\", pageLoaded);\n\n            testDiv = document.createElement('div');\n            try {\n                isTop = window.frameElement === null;\n            } catch (e) {}\n\n            //DOMContentLoaded approximation that uses a doScroll, as found by\n            //Diego Perini: http://javascript.nwbox.com/IEContentLoaded/,\n            //but modified by other contributors, including jdalton\n            if (testDiv.doScroll && isTop && window.external) {\n                scrollIntervalId = setInterval(function () {\n                    try {\n                        testDiv.doScroll();\n                        pageLoaded();\n                    } catch (e) {}\n                }, 30);\n            }\n        }\n\n        //Check if document already complete, and if so, just trigger page load\n        //listeners. Latest webkit browsers also use \"interactive\", and\n        //will fire the onDOMContentLoaded before \"interactive\" but not after\n        //entering \"interactive\" or \"complete\". More details:\n        //http://dev.w3.org/html5/spec/the-end.html#the-end\n        //http://stackoverflow.com/questions/3665561/document-readystate-of-interactive-vs-ondomcontentloaded\n        //Hmm, this is more complicated on further use, see \"firing too early\"\n        //bug: https://github.com/requirejs/domReady/issues/1\n        //so removing the || document.readyState === \"interactive\" test.\n        //There is still a window.onload binding that should get fired if\n        //DOMContentLoaded is missed.\n        if (document.readyState === \"complete\") {\n            pageLoaded();\n        }\n    }\n\n    /** START OF PUBLIC API **/\n\n    /**\n     * Registers a callback for DOM ready. If DOM is already ready, the\n     * callback is called immediately.\n     * @param {Function} callback\n     */\n    function domReady(callback) {\n        if (isPageLoaded) {\n            callback(doc);\n        } else {\n            readyCalls.push(callback);\n        }\n        return domReady;\n    }\n\n    domReady.version = '2.0.1';\n\n    /**\n     * Loader Plugin API method\n     */\n    domReady.load = function (name, req, onLoad, config) {\n        if (config.isBuild) {\n            onLoad(null);\n        } else {\n            domReady(onLoad);\n        }\n    };\n\n    /** END OF PUBLIC API **/\n\n    return domReady;\n});","Magento_Search/js/form-mini.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'underscore',\n    'mage/template',\n    'matchMedia',\n    'jquery/ui',\n    'mage/translate'\n], function ($, _, mageTemplate, mediaCheck) {\n    'use strict';\n\n    /**\n     * Check whether the incoming string is not empty or if doesn't consist of spaces.\n     *\n     * @param {String} value - Value to check.\n     * @returns {Boolean}\n     */\n    function isEmpty(value) {\n        return value.length === 0 || value == null || /^\\s+$/.test(value);\n    }\n\n    $.widget('mage.quickSearch', {\n        options: {\n            autocomplete: 'off',\n            minSearchLength: 2,\n            responseFieldElements: 'ul li',\n            selectClass: 'selected',\n            template:\n                '<li class=\"<%- data.row_class %>\" id=\"qs-option-<%- data.index %>\" role=\"option\">' +\n                    '<span class=\"qs-option-name\">' +\n                       ' <%- data.title %>' +\n                    '</span>' +\n                    '<span aria-hidden=\"true\" class=\"amount\">' +\n                        '<%- data.num_results %>' +\n                    '</span>' +\n                '</li>',\n            submitBtn: 'button[type=\"submit\"]',\n            searchLabel: '[data-role=minisearch-label]',\n            isExpandable: null,\n            suggestionDelay: 300\n        },\n\n        /** @inheritdoc */\n        _create: function () {\n            this.responseList = {\n                indexList: null,\n                selected: null\n            };\n            this.autoComplete = $(this.options.destinationSelector);\n            this.searchForm = $(this.options.formSelector);\n            this.submitBtn = this.searchForm.find(this.options.submitBtn)[0];\n            this.searchLabel = this.searchForm.find(this.options.searchLabel);\n            this.isExpandable = this.options.isExpandable;\n\n            _.bindAll(this, '_onKeyDown', '_onPropertyChange', '_onSubmit');\n\n            this.submitBtn.disabled = true;\n\n            this.element.attr('autocomplete', this.options.autocomplete);\n\n            mediaCheck({\n                media: '(max-width: 768px)',\n                entry: function () {\n                    this.isExpandable = true;\n                }.bind(this),\n                exit: function () {\n                    this.isExpandable = false;\n                    this.element.removeAttr('aria-expanded');\n                }.bind(this)\n            });\n\n            this.searchLabel.on('click', function (e) {\n                // allow input to lose its' focus when clicking on label\n                if (this.isExpandable && this.isActive()) {\n                    e.preventDefault();\n                }\n            }.bind(this));\n\n            this.element.on('blur', $.proxy(function () {\n                if (!this.searchLabel.hasClass('active')) {\n                    return;\n                }\n\n                setTimeout($.proxy(function () {\n                    if (this.autoComplete.is(':hidden')) {\n                        this.setActiveState(false);\n                    } else {\n                        this.element.trigger('focus');\n                    }\n                    this.autoComplete.hide();\n                    this._updateAriaHasPopup(false);\n                }, this), 250);\n            }, this));\n\n            if (this.element.get(0) === document.activeElement) {\n                this.setActiveState(true);\n            }\n\n            this.element.on('focus', this.setActiveState.bind(this, true));\n            this.element.on('keydown', this._onKeyDown);\n            // Prevent spamming the server with requests by waiting till the user has stopped typing for period of time\n            this.element.on('input propertychange', _.debounce(this._onPropertyChange, this.options.suggestionDelay));\n\n            this.searchForm.on('submit', $.proxy(function (e) {\n                this._onSubmit(e);\n                this._updateAriaHasPopup(false);\n            }, this));\n        },\n\n        /**\n         * Checks if search field is active.\n         *\n         * @returns {Boolean}\n         */\n        isActive: function () {\n            return this.searchLabel.hasClass('active');\n        },\n\n        /**\n         * Sets state of the search field to provided value.\n         *\n         * @param {Boolean} isActive\n         */\n        setActiveState: function (isActive) {\n            this.searchForm.toggleClass('active', isActive);\n            this.searchLabel.toggleClass('active', isActive);\n\n            if (this.isExpandable) {\n                this.element.attr('aria-expanded', isActive);\n            }\n        },\n\n        /**\n         * @private\n         * @return {Element} The first element in the suggestion list.\n         */\n        _getFirstVisibleElement: function () {\n            return this.responseList.indexList ? this.responseList.indexList.first() : false;\n        },\n\n        /**\n         * @private\n         * @return {Element} The last element in the suggestion list.\n         */\n        _getLastElement: function () {\n            return this.responseList.indexList ? this.responseList.indexList.last() : false;\n        },\n\n        /**\n         * @private\n         * @param {Boolean} show - Set attribute aria-haspopup to \"true/false\" for element.\n         */\n        _updateAriaHasPopup: function (show) {\n            if (show) {\n                this.element.attr('aria-haspopup', 'true');\n            } else {\n                this.element.attr('aria-haspopup', 'false');\n            }\n        },\n\n        /**\n         * Clears the item selected from the suggestion list and resets the suggestion list.\n         * @private\n         * @param {Boolean} all - Controls whether to clear the suggestion list.\n         */\n        _resetResponseList: function (all) {\n            this.responseList.selected = null;\n\n            if (all === true) {\n                this.responseList.indexList = null;\n            }\n        },\n\n        /**\n         * Executes when the search box is submitted. Sets the search input field to the\n         * value of the selected item.\n         * @private\n         * @param {Event} e - The submit event\n         */\n        _onSubmit: function (e) {\n            var value = this.element.val();\n\n            if (isEmpty(value)) {\n                e.preventDefault();\n            }\n\n            if (this.responseList.selected) {\n                this.element.val(this.responseList.selected.find('.qs-option-name').text());\n            }\n        },\n\n        /**\n         * Executes when keys are pressed in the search input field. Performs specific actions\n         * depending on which keys are pressed.\n         * @private\n         * @param {Event} e - The key down event\n         * @return {Boolean} Default return type for any unhandled keys\n         */\n        _onKeyDown: function (e) {\n            var keyCode = e.keyCode || e.which;\n\n            switch (keyCode) {\n                case $.ui.keyCode.HOME:\n                    if (this._getFirstVisibleElement()) {\n                        this._getFirstVisibleElement().addClass(this.options.selectClass);\n                        this.responseList.selected = this._getFirstVisibleElement();\n                    }\n                    break;\n\n                case $.ui.keyCode.END:\n                    if (this._getLastElement()) {\n                        this._getLastElement().addClass(this.options.selectClass);\n                        this.responseList.selected = this._getLastElement();\n                    }\n                    break;\n\n                case $.ui.keyCode.ESCAPE:\n                    this._resetResponseList(true);\n                    this.autoComplete.hide();\n                    break;\n\n                case $.ui.keyCode.ENTER:\n                    this.searchForm.trigger('submit');\n                    e.preventDefault();\n                    break;\n\n                case $.ui.keyCode.DOWN:\n                    if (this.responseList.indexList) {\n                        if (!this.responseList.selected) {  //eslint-disable-line max-depth\n                            this._getFirstVisibleElement().addClass(this.options.selectClass);\n                            this.responseList.selected = this._getFirstVisibleElement();\n                        } else if (!this._getLastElement().hasClass(this.options.selectClass)) {\n                            this.responseList.selected = this.responseList.selected\n                                .removeClass(this.options.selectClass).next().addClass(this.options.selectClass);\n                        } else {\n                            this.responseList.selected.removeClass(this.options.selectClass);\n                            this._getFirstVisibleElement().addClass(this.options.selectClass);\n                            this.responseList.selected = this._getFirstVisibleElement();\n                        }\n                        this.element.val(this.responseList.selected.find('.qs-option-name').text());\n                        this.element.attr('aria-activedescendant', this.responseList.selected.attr('id'));\n                    }\n                    break;\n\n                case $.ui.keyCode.UP:\n                    if (this.responseList.indexList !== null) {\n                        if (!this._getFirstVisibleElement().hasClass(this.options.selectClass)) {\n                            this.responseList.selected = this.responseList.selected\n                                .removeClass(this.options.selectClass).prev().addClass(this.options.selectClass);\n\n                        } else {\n                            this.responseList.selected.removeClass(this.options.selectClass);\n                            this._getLastElement().addClass(this.options.selectClass);\n                            this.responseList.selected = this._getLastElement();\n                        }\n                        this.element.val(this.responseList.selected.find('.qs-option-name').text());\n                        this.element.attr('aria-activedescendant', this.responseList.selected.attr('id'));\n                    }\n                    break;\n                default:\n                    return true;\n            }\n        },\n\n        /**\n         * Executes when the value of the search input field changes. Executes a GET request\n         * to populate a suggestion list based on entered text. Handles click (select), hover,\n         * and mouseout events on the populated suggestion list dropdown.\n         * @private\n         */\n        _onPropertyChange: function () {\n            var searchField = this.element,\n                clonePosition = {\n                    position: 'absolute',\n                    // Removed to fix display issues\n                    // left: searchField.offset().left,\n                    // top: searchField.offset().top + searchField.outerHeight(),\n                    width: searchField.outerWidth()\n                },\n                source = this.options.template,\n                template = mageTemplate(source),\n                dropdown = $('<ul role=\"listbox\"></ul>'),\n                value = this.element.val();\n\n            this.submitBtn.disabled = isEmpty(value);\n\n            if (value.length >= parseInt(this.options.minSearchLength, 10)) {\n                $.getJSON(this.options.url, {\n                    q: value\n                }, $.proxy(function (data) {\n                    if (data.length) {\n                        $.each(data, function (index, element) {\n                            var html;\n\n                            element.index = index;\n                            html = template({\n                                data: element\n                            });\n                            dropdown.append(html);\n                        });\n\n                        this.responseList.indexList = this.autoComplete.html(dropdown)\n                            .css(clonePosition)\n                            .show()\n                            .find(this.options.responseFieldElements + ':visible');\n\n                        this._resetResponseList(false);\n                        this.element.removeAttr('aria-activedescendant');\n\n                        if (this.responseList.indexList.length) {\n                            this._updateAriaHasPopup(true);\n                        } else {\n                            this._updateAriaHasPopup(false);\n                        }\n\n                        this.responseList.indexList\n                            .on('click', function (e) {\n                                this.responseList.selected = $(e.currentTarget);\n                                this.searchForm.trigger('submit');\n                            }.bind(this))\n                            .on('mouseenter mouseleave', function (e) {\n                                this.responseList.indexList.removeClass(this.options.selectClass);\n                                $(e.target).addClass(this.options.selectClass);\n                                this.responseList.selected = $(e.target);\n                                this.element.attr('aria-activedescendant', $(e.target).attr('id'));\n                            }.bind(this))\n                            .on('mouseout', function (e) {\n                                if (!this._getLastElement() &&\n                                    this._getLastElement().hasClass(this.options.selectClass)) {\n                                    $(e.target).removeClass(this.options.selectClass);\n                                    this._resetResponseList(false);\n                                }\n                            }.bind(this));\n                    }\n                }, this));\n            } else {\n                this._resetResponseList(true);\n                this.autoComplete.hide();\n                this._updateAriaHasPopup(false);\n                this.element.removeAttr('aria-activedescendant');\n            }\n        }\n    });\n\n    return $.mage.quickSearch;\n});\n","fotorama/fotorama.min.js":"fotoramaVersion=\"4.6.4\";(function(window,document,location,$,undefined){\"use strict\";var _fotoramaClass=\"fotorama\",_fullscreenClass=\"fotorama__fullscreen\",wrapClass=_fotoramaClass+\"__wrap\",wrapCss2Class=wrapClass+\"--css2\",wrapCss3Class=wrapClass+\"--css3\",wrapVideoClass=wrapClass+\"--video\",wrapFadeClass=wrapClass+\"--fade\",wrapSlideClass=wrapClass+\"--slide\",wrapNoControlsClass=wrapClass+\"--no-controls\",wrapNoShadowsClass=wrapClass+\"--no-shadows\",wrapPanYClass=wrapClass+\"--pan-y\",wrapRtlClass=wrapClass+\"--rtl\",wrapOnlyActiveClass=wrapClass+\"--only-active\",wrapNoCaptionsClass=wrapClass+\"--no-captions\",wrapToggleArrowsClass=wrapClass+\"--toggle-arrows\",stageClass=_fotoramaClass+\"__stage\",stageFrameClass=stageClass+\"__frame\",stageFrameVideoClass=stageFrameClass+\"--video\",stageShaftClass=stageClass+\"__shaft\",grabClass=_fotoramaClass+\"__grab\",pointerClass=_fotoramaClass+\"__pointer\",arrClass=_fotoramaClass+\"__arr\",arrDisabledClass=arrClass+\"--disabled\",arrPrevClass=arrClass+\"--prev\",arrNextClass=arrClass+\"--next\",navClass=_fotoramaClass+\"__nav\",navWrapClass=navClass+\"-wrap\",navShaftClass=navClass+\"__shaft\",navShaftVerticalClass=navWrapClass+\"--vertical\",navShaftListClass=navWrapClass+\"--list\",navShafthorizontalClass=navWrapClass+\"--horizontal\",navDotsClass=navClass+\"--dots\",navThumbsClass=navClass+\"--thumbs\",navFrameClass=navClass+\"__frame\",fadeClass=_fotoramaClass+\"__fade\",fadeFrontClass=fadeClass+\"-front\",fadeRearClass=fadeClass+\"-rear\",shadowClass=_fotoramaClass+\"__shadow\",shadowsClass=shadowClass+\"s\",shadowsLeftClass=shadowsClass+\"--left\",shadowsRightClass=shadowsClass+\"--right\",shadowsTopClass=shadowsClass+\"--top\",shadowsBottomClass=shadowsClass+\"--bottom\",activeClass=_fotoramaClass+\"__active\",selectClass=_fotoramaClass+\"__select\",hiddenClass=_fotoramaClass+\"--hidden\",fullscreenClass=_fotoramaClass+\"--fullscreen\",fullscreenIconClass=_fotoramaClass+\"__fullscreen-icon\",errorClass=_fotoramaClass+\"__error\",loadingClass=_fotoramaClass+\"__loading\",loadedClass=_fotoramaClass+\"__loaded\",loadedFullClass=loadedClass+\"--full\",loadedImgClass=loadedClass+\"--img\",grabbingClass=_fotoramaClass+\"__grabbing\",imgClass=_fotoramaClass+\"__img\",imgFullClass=imgClass+\"--full\",thumbClass=_fotoramaClass+\"__thumb\",thumbArrLeft=thumbClass+\"__arr--left\",thumbArrRight=thumbClass+\"__arr--right\",thumbBorderClass=thumbClass+\"-border\",htmlClass=_fotoramaClass+\"__html\",videoContainerClass=_fotoramaClass+\"-video-container\",videoClass=_fotoramaClass+\"__video\",videoPlayClass=videoClass+\"-play\",videoCloseClass=videoClass+\"-close\",horizontalImageClass=_fotoramaClass+\"_horizontal_ratio\",verticalImageClass=_fotoramaClass+\"_vertical_ratio\",fotoramaSpinnerClass=_fotoramaClass+\"__spinner\",spinnerShowClass=fotoramaSpinnerClass+\"--show\";var JQUERY_VERSION=$&&$.fn.jquery.split(\".\");if(!JQUERY_VERSION||JQUERY_VERSION[0]<1||JQUERY_VERSION[0]==1&&JQUERY_VERSION[1]<8){throw\"Fotorama requires jQuery 1.8 or later and will not run without it.\"}var _={};var Modernizr=function(window,document,undefined){var version=\"2.8.3\",Modernizr={},docElement=document.documentElement,mod=\"modernizr\",modElem=document.createElement(mod),mStyle=modElem.style,inputElem,toString={}.toString,prefixes=\" -webkit- -moz- -o- -ms- \".split(\" \"),omPrefixes=\"Webkit Moz O ms\",cssomPrefixes=omPrefixes.split(\" \"),domPrefixes=omPrefixes.toLowerCase().split(\" \"),tests={},inputs={},attrs={},classes=[],slice=classes.slice,featureName,injectElementWithStyles=function(rule,callback,nodes,testnames){var style,ret,node,docOverflow,div=document.createElement(\"div\"),body=document.body,fakeBody=body||document.createElement(\"body\");if(parseInt(nodes,10)){while(nodes--){node=document.createElement(\"div\");node.id=testnames?testnames[nodes]:mod+(nodes+1);div.appendChild(node)}}style=[\"&#173;\",'<style id=\"s',mod,'\">',rule,\"</style>\"].join(\"\");div.id=mod;(body?div:fakeBody).innerHTML+=style;fakeBody.appendChild(div);if(!body){fakeBody.style.background=\"\";fakeBody.style.overflow=\"hidden\";docOverflow=docElement.style.overflow;docElement.style.overflow=\"hidden\";docElement.appendChild(fakeBody)}ret=callback(div,rule);if(!body){fakeBody.parentNode.removeChild(fakeBody);docElement.style.overflow=docOverflow}else{div.parentNode.removeChild(div)}return!!ret},_hasOwnProperty={}.hasOwnProperty,hasOwnProp;if(!is(_hasOwnProperty,\"undefined\")&&!is(_hasOwnProperty.call,\"undefined\")){hasOwnProp=function(object,property){return _hasOwnProperty.call(object,property)}}else{hasOwnProp=function(object,property){return property in object&&is(object.constructor.prototype[property],\"undefined\")}}if(!Function.prototype.bind){Function.prototype.bind=function bind(that){var target=this;if(typeof target!=\"function\"){throw new TypeError}var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var F=function(){};F.prototype=target.prototype;var self=new F;var result=target.apply(self,args.concat(slice.call(arguments)));if(Object(result)===result){return result}return self}else{return target.apply(that,args.concat(slice.call(arguments)))}};return bound}}function setCss(str){mStyle.cssText=str}function setCssAll(str1,str2){return setCss(prefixes.join(str1+\";\")+(str2||\"\"))}function is(obj,type){return typeof obj===type}function contains(str,substr){return!!~(\"\"+str).indexOf(substr)}function testProps(props,prefixed){for(var i in props){var prop=props[i];if(!contains(prop,\"-\")&&mStyle[prop]!==undefined){return prefixed==\"pfx\"?prop:true}}return false}function testDOMProps(props,obj,elem){for(var i in props){var item=obj[props[i]];if(item!==undefined){if(elem===false)return props[i];if(is(item,\"function\")){return item.bind(elem||obj)}return item}}return false}function testPropsAll(prop,prefixed,elem){var ucProp=prop.charAt(0).toUpperCase()+prop.slice(1),props=(prop+\" \"+cssomPrefixes.join(ucProp+\" \")+ucProp).split(\" \");if(is(prefixed,\"string\")||is(prefixed,\"undefined\")){return testProps(props,prefixed)}else{props=(prop+\" \"+domPrefixes.join(ucProp+\" \")+ucProp).split(\" \");return testDOMProps(props,prefixed,elem)}}tests[\"touch\"]=function(){var bool;if(\"ontouchstart\"in window||window.DocumentTouch&&document instanceof DocumentTouch){bool=true}else{injectElementWithStyles([\"@media (\",prefixes.join(\"touch-enabled),(\"),mod,\")\",\"{#modernizr{top:9px;position:absolute}}\"].join(\"\"),function(node){bool=node.offsetTop===9})}return bool};tests[\"csstransforms3d\"]=function(){var ret=!!testPropsAll(\"perspective\");if(ret&&\"webkitPerspective\"in docElement.style){injectElementWithStyles(\"@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}\",function(node,rule){ret=node.offsetLeft===9&&node.offsetHeight===3})}return ret};tests[\"csstransitions\"]=function(){return testPropsAll(\"transition\")};for(var feature in tests){if(hasOwnProp(tests,feature)){featureName=feature.toLowerCase();Modernizr[featureName]=tests[feature]();classes.push((Modernizr[featureName]?\"\":\"no-\")+featureName)}}Modernizr.addTest=function(feature,test){if(typeof feature==\"object\"){for(var key in feature){if(hasOwnProp(feature,key)){Modernizr.addTest(key,feature[key])}}}else{feature=feature.toLowerCase();if(Modernizr[feature]!==undefined){return Modernizr}test=typeof test==\"function\"?test():test;if(typeof enableClasses!==\"undefined\"&&enableClasses){docElement.className+=\" \"+(test?\"\":\"no-\")+feature}Modernizr[feature]=test}return Modernizr};setCss(\"\");modElem=inputElem=null;Modernizr._version=version;Modernizr._prefixes=prefixes;Modernizr._domPrefixes=domPrefixes;Modernizr._cssomPrefixes=cssomPrefixes;Modernizr.testProp=function(prop){return testProps([prop])};Modernizr.testAllProps=testPropsAll;Modernizr.testStyles=injectElementWithStyles;Modernizr.prefixed=function(prop,obj,elem){if(!obj){return testPropsAll(prop,\"pfx\")}else{return testPropsAll(prop,obj,elem)}};return Modernizr}(window,document);var fullScreenApi={ok:false,is:function(){return false},request:function(){},cancel:function(){},event:\"\",prefix:\"\"},browserPrefixes=\"webkit moz o ms khtml\".split(\" \");if(typeof document.cancelFullScreen!=\"undefined\"){fullScreenApi.ok=true}else{for(var i=0,il=browserPrefixes.length;i<il;i++){fullScreenApi.prefix=browserPrefixes[i];if(typeof document[fullScreenApi.prefix+\"CancelFullScreen\"]!=\"undefined\"){fullScreenApi.ok=true;break}}}if(fullScreenApi.ok){fullScreenApi.event=fullScreenApi.prefix+\"fullscreenchange\";fullScreenApi.is=function(){switch(this.prefix){case\"\":return document.fullScreen;case\"webkit\":return document.webkitIsFullScreen;default:return document[this.prefix+\"FullScreen\"]}};fullScreenApi.request=function(el){return this.prefix===\"\"?el.requestFullScreen():el[this.prefix+\"RequestFullScreen\"]()};fullScreenApi.cancel=function(el){return this.prefix===\"\"?document.cancelFullScreen():document[this.prefix+\"CancelFullScreen\"]()}}function bez(coOrdArray){var encodedFuncName=\"bez_\"+$.makeArray(arguments).join(\"_\").replace(\".\",\"p\");if(typeof $[\"easing\"][encodedFuncName]!==\"function\"){var polyBez=function(p1,p2){var A=[null,null],B=[null,null],C=[null,null],bezCoOrd=function(t,ax){C[ax]=3*p1[ax];B[ax]=3*(p2[ax]-p1[ax])-C[ax];A[ax]=1-C[ax]-B[ax];return t*(C[ax]+t*(B[ax]+t*A[ax]))},xDeriv=function(t){return C[0]+t*(2*B[0]+3*A[0]*t)},xForT=function(t){var x=t,i=0,z;while(++i<14){z=bezCoOrd(x,0)-t;if(Math.abs(z)<.001)break;x-=z/xDeriv(x)}return x};return function(t){return bezCoOrd(xForT(t),1)}};$[\"easing\"][encodedFuncName]=function(x,t,b,c,d){return c*polyBez([coOrdArray[0],coOrdArray[1]],[coOrdArray[2],coOrdArray[3]])(t/d)+b}}return encodedFuncName}var $WINDOW=$(window),$DOCUMENT=$(document),$HTML,$BODY,QUIRKS_FORCE=location.hash.replace(\"#\",\"\")===\"quirks\",TRANSFORMS3D=Modernizr.csstransforms3d,CSS3=TRANSFORMS3D&&!QUIRKS_FORCE,COMPAT=TRANSFORMS3D||document.compatMode===\"CSS1Compat\",FULLSCREEN=fullScreenApi.ok,MOBILE=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),SLOW=!CSS3||MOBILE,MS_POINTER=navigator.msPointerEnabled,WHEEL=\"onwheel\"in document.createElement(\"div\")?\"wheel\":document.onmousewheel!==undefined?\"mousewheel\":\"DOMMouseScroll\",TOUCH_TIMEOUT=250,TRANSITION_DURATION=300,SCROLL_LOCK_TIMEOUT=1400,AUTOPLAY_INTERVAL=5e3,MARGIN=2,THUMB_SIZE=64,WIDTH=500,HEIGHT=333,STAGE_FRAME_KEY=\"$stageFrame\",NAV_DOT_FRAME_KEY=\"$navDotFrame\",NAV_THUMB_FRAME_KEY=\"$navThumbFrame\",AUTO=\"auto\",BEZIER=bez([.1,0,.25,1]),MAX_WIDTH=1200,thumbsPerSlide=1,OPTIONS={width:null,minwidth:null,maxwidth:\"100%\",height:null,minheight:null,maxheight:null,ratio:null,margin:MARGIN,nav:\"dots\",navposition:\"bottom\",navwidth:null,thumbwidth:THUMB_SIZE,thumbheight:THUMB_SIZE,thumbmargin:MARGIN,thumbborderwidth:MARGIN,allowfullscreen:false,transition:\"slide\",clicktransition:null,transitionduration:TRANSITION_DURATION,captions:true,startindex:0,loop:false,autoplay:false,stopautoplayontouch:true,keyboard:false,arrows:true,click:true,swipe:false,trackpad:false,shuffle:false,direction:\"ltr\",shadows:true,showcaption:true,navdir:\"horizontal\",navarrows:true,navtype:\"thumbs\"},KEYBOARD_OPTIONS={left:true,right:true,down:true,up:true,space:false,home:false,end:false};function noop(){}function minMaxLimit(value,min,max){return Math.max(isNaN(min)?-Infinity:min,Math.min(isNaN(max)?Infinity:max,value))}function readTransform(css,dir){return css.match(/ma/)&&css.match(/-?\\d+(?!d)/g)[css.match(/3d/)?dir===\"vertical\"?13:12:dir===\"vertical\"?5:4]}function readPosition($el,dir){if(CSS3){return+readTransform($el.css(\"transform\"),dir)}else{return+$el.css(dir===\"vertical\"?\"top\":\"left\").replace(\"px\",\"\")}}function getTranslate(pos,direction){var obj={};if(CSS3){switch(direction){case\"vertical\":obj.transform=\"translate3d(0, \"+pos+\"px,0)\";break;case\"list\":break;default:obj.transform=\"translate3d(\"+pos+\"px,0,0)\";break}}else{direction===\"vertical\"?obj.top=pos:obj.left=pos}return obj}function getDuration(time){return{\"transition-duration\":time+\"ms\"}}function unlessNaN(value,alternative){return isNaN(value)?alternative:value}function numberFromMeasure(value,measure){return unlessNaN(+String(value).replace(measure||\"px\",\"\"))}function numberFromPercent(value){return/%$/.test(value)?numberFromMeasure(value,\"%\"):undefined}function numberFromWhatever(value,whole){return unlessNaN(numberFromPercent(value)/100*whole,numberFromMeasure(value))}function measureIsValid(value){return(!isNaN(numberFromMeasure(value))||!isNaN(numberFromMeasure(value,\"%\")))&&value}function getPosByIndex(index,side,margin,baseIndex){return(index-(baseIndex||0))*(side+(margin||0))}function getIndexByPos(pos,side,margin,baseIndex){return-Math.round(pos/(side+(margin||0))-(baseIndex||0))}function bindTransitionEnd($el){var elData=$el.data();if(elData.tEnd)return;var el=$el[0],transitionEndEvent={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",msTransition:\"MSTransitionEnd\",transition:\"transitionend\"};addEvent(el,transitionEndEvent[Modernizr.prefixed(\"transition\")],function(e){elData.tProp&&e.propertyName.match(elData.tProp)&&elData.onEndFn()});elData.tEnd=true}function afterTransition($el,property,fn,time){var ok,elData=$el.data();if(elData){elData.onEndFn=function(){if(ok)return;ok=true;clearTimeout(elData.tT);fn()};elData.tProp=property;clearTimeout(elData.tT);elData.tT=setTimeout(function(){elData.onEndFn()},time*1.5);bindTransitionEnd($el)}}function stop($el,pos){var dir=$el.navdir||\"horizontal\";if($el.length){var elData=$el.data();if(CSS3){$el.css(getDuration(0));elData.onEndFn=noop;clearTimeout(elData.tT)}else{$el.stop()}var lockedPos=getNumber(pos,function(){return readPosition($el,dir)});$el.css(getTranslate(lockedPos,dir));return lockedPos}}function getNumber(){var number;for(var _i=0,_l=arguments.length;_i<_l;_i++){number=_i?arguments[_i]():arguments[_i];if(typeof number===\"number\"){break}}return number}function edgeResistance(pos,edge){return Math.round(pos+(edge-pos)/1.5)}function getProtocol(){getProtocol.p=getProtocol.p||(location.protocol===\"https:\"?\"https://\":\"http://\");return getProtocol.p}function parseHref(href){var a=document.createElement(\"a\");a.href=href;return a}function findVideoId(href,forceVideo){if(typeof href!==\"string\")return href;href=parseHref(href);var id,type;if(href.host.match(/youtube\\.com/)&&href.search){id=href.search.split(\"v=\")[1];if(id){var ampersandPosition=id.indexOf(\"&\");if(ampersandPosition!==-1){id=id.substring(0,ampersandPosition)}type=\"youtube\"}}else if(href.host.match(/youtube\\.com|youtu\\.be/)){id=href.pathname.replace(/^\\/(embed\\/|v\\/)?/,\"\").replace(/\\/.*/,\"\");type=\"youtube\"}else if(href.host.match(/vimeo\\.com/)){type=\"vimeo\";id=href.pathname.replace(/^\\/(video\\/)?/,\"\").replace(/\\/.*/,\"\")}if((!id||!type)&&forceVideo){id=href.href;type=\"custom\"}return id?{id:id,type:type,s:href.search.replace(/^\\?/,\"\"),p:getProtocol()}:false}function getVideoThumbs(dataFrame,data,fotorama){var img,thumb,video=dataFrame.video;if(video.type===\"youtube\"){thumb=getProtocol()+\"img.youtube.com/vi/\"+video.id+\"/default.jpg\";img=thumb.replace(/\\/default.jpg$/,\"/hqdefault.jpg\");dataFrame.thumbsReady=true}else if(video.type===\"vimeo\"){$.ajax({url:getProtocol()+\"vimeo.com/api/v2/video/\"+video.id+\".json\",dataType:\"jsonp\",success:function(json){dataFrame.thumbsReady=true;updateData(data,{img:json[0].thumbnail_large,thumb:json[0].thumbnail_small},dataFrame.i,fotorama)}})}else{dataFrame.thumbsReady=true}return{img:img,thumb:thumb}}function updateData(data,_dataFrame,i,fotorama){for(var _i=0,_l=data.length;_i<_l;_i++){var dataFrame=data[_i];if(dataFrame.i===i&&dataFrame.thumbsReady){var clear={videoReady:true};clear[STAGE_FRAME_KEY]=clear[NAV_THUMB_FRAME_KEY]=clear[NAV_DOT_FRAME_KEY]=false;fotorama.splice(_i,1,$.extend({},dataFrame,clear,_dataFrame));break}}}function getDataFromHtml($el){var data=[];function getDataFromImg($img,imgData,checkVideo){var $child=$img.children(\"img\").eq(0),_imgHref=$img.attr(\"href\"),_imgSrc=$img.attr(\"src\"),_thumbSrc=$child.attr(\"src\"),_video=imgData.video,video=checkVideo?findVideoId(_imgHref,_video===true):false;if(video){_imgHref=false}else{video=_video}getDimensions($img,$child,$.extend(imgData,{video:video,img:imgData.img||_imgHref||_imgSrc||_thumbSrc,thumb:imgData.thumb||_thumbSrc||_imgSrc||_imgHref}))}function getDimensions($img,$child,imgData){var separateThumbFLAG=imgData.thumb&&imgData.img!==imgData.thumb,width=numberFromMeasure(imgData.width||$img.attr(\"width\")),height=numberFromMeasure(imgData.height||$img.attr(\"height\"));$.extend(imgData,{width:width,height:height,thumbratio:getRatio(imgData.thumbratio||numberFromMeasure(imgData.thumbwidth||$child&&$child.attr(\"width\")||separateThumbFLAG||width)/numberFromMeasure(imgData.thumbheight||$child&&$child.attr(\"height\")||separateThumbFLAG||height))})}$el.children().each(function(){var $this=$(this),dataFrame=optionsToLowerCase($.extend($this.data(),{id:$this.attr(\"id\")}));if($this.is(\"a, img\")){getDataFromImg($this,dataFrame,true)}else if(!$this.is(\":empty\")){getDimensions($this,null,$.extend(dataFrame,{html:this,_html:$this.html()}))}else return;data.push(dataFrame)});return data}function isHidden(el){return el.offsetWidth===0&&el.offsetHeight===0}function isDetached(el){return!$.contains(document.documentElement,el)}function waitFor(test,fn,timeout,i){if(!waitFor.i){waitFor.i=1;waitFor.ii=[true]}i=i||waitFor.i;if(typeof waitFor.ii[i]===\"undefined\"){waitFor.ii[i]=true}if(test()){fn()}else{waitFor.ii[i]&&setTimeout(function(){waitFor.ii[i]&&waitFor(test,fn,timeout,i)},timeout||100)}return waitFor.i++}waitFor.stop=function(i){waitFor.ii[i]=false};function fit($el,measuresToFit){var elData=$el.data(),measures=elData.measures;if(measures&&(!elData.l||elData.l.W!==measures.width||elData.l.H!==measures.height||elData.l.r!==measures.ratio||elData.l.w!==measuresToFit.w||elData.l.h!==measuresToFit.h)){var height=minMaxLimit(measuresToFit.h,0,measures.height),width=height*measures.ratio;UTIL.setRatio($el,width,height);elData.l={W:measures.width,H:measures.height,r:measures.ratio,w:measuresToFit.w,h:measuresToFit.h}}return true}function setStyle($el,style){var el=$el[0];if(el.styleSheet){el.styleSheet.cssText=style}else{$el.html(style)}}function findShadowEdge(pos,min,max,dir){return min===max?false:dir===\"vertical\"?pos<=min?\"top\":pos>=max?\"bottom\":\"top bottom\":pos<=min?\"left\":pos>=max?\"right\":\"left right\"}function smartClick($el,fn,_options){_options=_options||{};$el.each(function(){var $this=$(this),thisData=$this.data(),startEvent;if(thisData.clickOn)return;thisData.clickOn=true;$.extend(touch($this,{onStart:function(e){startEvent=e;(_options.onStart||noop).call(this,e)},onMove:_options.onMove||noop,onTouchEnd:_options.onTouchEnd||noop,onEnd:function(result){if(result.moved)return;fn.call(this,startEvent)}}),{noMove:true})})}function div(classes,child){return'<div class=\"'+classes+'\">'+(child||\"\")+\"</div>\"}function cls(className){return\".\"+className}function createVideoFrame(videoItem){var frame='<iframe src=\"'+videoItem.p+videoItem.type+\".com/embed/\"+videoItem.id+'\" frameborder=\"0\" allowfullscreen></iframe>';return frame}function shuffle(array){var l=array.length;while(l){var i=Math.floor(Math.random()*l--);var t=array[l];array[l]=array[i];array[i]=t}return array}function clone(array){return Object.prototype.toString.call(array)==\"[object Array]\"&&$.map(array,function(frame){return $.extend({},frame)})}function lockScroll($el,left,top){$el.scrollLeft(left||0).scrollTop(top||0)}function optionsToLowerCase(options){if(options){var opts={};$.each(options,function(key,value){opts[key.toLowerCase()]=value});return opts}}function getRatio(_ratio){if(!_ratio)return;var ratio=+_ratio;if(!isNaN(ratio)){return ratio}else{ratio=_ratio.split(\"/\");return+ratio[0]/+ratio[1]||undefined}}function addEvent(el,e,fn,bool){if(!e)return;el.addEventListener?el.addEventListener(e,fn,!!bool):el.attachEvent(\"on\"+e,fn)}function validateRestrictions(position,restriction){if(position>restriction.max){position=restriction.max}else{if(position<restriction.min){position=restriction.min}}return position}function validateSlidePos(opt,navShaftTouchTail,guessIndex,offsetNav,$guessNavFrame,$navWrap,dir){var position,size,wrapSize;if(dir===\"horizontal\"){size=opt.thumbwidth;wrapSize=$navWrap.width()}else{size=opt.thumbheight;wrapSize=$navWrap.height()}if((size+opt.margin)*(guessIndex+1)>=wrapSize-offsetNav){if(dir===\"horizontal\"){position=-$guessNavFrame.position().left}else{position=-$guessNavFrame.position().top}}else{if((size+opt.margin)*guessIndex<=Math.abs(offsetNav)){if(dir===\"horizontal\"){position=-$guessNavFrame.position().left+wrapSize-(size+opt.margin)}else{position=-$guessNavFrame.position().top+wrapSize-(size+opt.margin)}}else{position=offsetNav}}position=validateRestrictions(position,navShaftTouchTail);return position||0}function elIsDisabled(el){return!!el.getAttribute(\"disabled\")}function disableAttr(FLAG,disable){if(disable){return{disabled:FLAG}}else{return{tabindex:FLAG*-1+\"\",disabled:FLAG}}}function addEnterUp(el,fn){addEvent(el,\"keyup\",function(e){elIsDisabled(el)||e.keyCode==13&&fn.call(el,e)})}function addFocus(el,fn){addEvent(el,\"focus\",el.onfocusin=function(e){fn.call(el,e)},true)}function stopEvent(e,stopPropagation){e.preventDefault?e.preventDefault():e.returnValue=false;stopPropagation&&e.stopPropagation&&e.stopPropagation()}function stubEvent($el,eventType){var isIOS=/ip(ad|hone|od)/i.test(window.navigator.userAgent);if(isIOS&&eventType===\"touchend\"){$el.on(\"touchend\",function(e){$DOCUMENT.trigger(\"mouseup\",e)})}$el.on(eventType,function(e){stopEvent(e,true);return false})}function getDirectionSign(forward){return forward?\">\":\"<\"}var UTIL=function(){function setRatioClass($el,wh,ht){var rateImg=wh/ht;if(rateImg<=1){$el.parent().removeClass(horizontalImageClass);$el.parent().addClass(verticalImageClass)}else{$el.parent().removeClass(verticalImageClass);$el.parent().addClass(horizontalImageClass)}}function setThumbAttr($frame,value,searchAttr){var attr=searchAttr;if(!$frame.attr(attr)&&$frame.attr(attr)!==undefined){$frame.attr(attr,value)}if($frame.find(\"[\"+attr+\"]\").length){$frame.find(\"[\"+attr+\"]\").each(function(){$(this).attr(attr,value)})}}function isExpectedCaption(frameItem,isExpected,undefined){var expected=false,frameExpected;frameItem.showCaption===undefined||frameItem.showCaption===true?frameExpected=true:frameExpected=false;if(!isExpected){return false}if(frameItem.caption&&frameExpected){expected=true}return expected}return{setRatio:setRatioClass,setThumbAttr:setThumbAttr,isExpectedCaption:isExpectedCaption}}(UTIL||{},jQuery);function slide($el,options){var elData=$el.data(),elPos=Math.round(options.pos),onEndFn=function(){if(elData&&elData.sliding){elData.sliding=false}(options.onEnd||noop)()};if(typeof options.overPos!==\"undefined\"&&options.overPos!==options.pos){elPos=options.overPos}var translate=$.extend(getTranslate(elPos,options.direction),options.width&&{width:options.width},options.height&&{height:options.height});if(elData&&elData.sliding){elData.sliding=true}if(CSS3){$el.css($.extend(getDuration(options.time),translate));if(options.time>10){afterTransition($el,\"transform\",onEndFn,options.time)}else{onEndFn()}}else{$el.stop().animate(translate,options.time,BEZIER,onEndFn)}}function fade($el1,$el2,$frames,options,fadeStack,chain){var chainedFLAG=typeof chain!==\"undefined\";if(!chainedFLAG){fadeStack.push(arguments);Array.prototype.push.call(arguments,fadeStack.length);if(fadeStack.length>1)return}$el1=$el1||$($el1);$el2=$el2||$($el2);var _$el1=$el1[0],_$el2=$el2[0],crossfadeFLAG=options.method===\"crossfade\",onEndFn=function(){if(!onEndFn.done){onEndFn.done=true;var args=(chainedFLAG||fadeStack.shift())&&fadeStack.shift();args&&fade.apply(this,args);(options.onEnd||noop)(!!args)}},time=options.time/(chain||1);$frames.removeClass(fadeRearClass+\" \"+fadeFrontClass);$el1.stop().addClass(fadeRearClass);$el2.stop().addClass(fadeFrontClass);crossfadeFLAG&&_$el2&&$el1.fadeTo(0,0);$el1.fadeTo(crossfadeFLAG?time:0,1,crossfadeFLAG&&onEndFn);$el2.fadeTo(time,0,onEndFn);_$el1&&crossfadeFLAG||_$el2||onEndFn()}var lastEvent,moveEventType,preventEvent,preventEventTimeout,dragDomEl;function extendEvent(e){var touch=(e.touches||[])[0]||e;e._x=touch.pageX||touch.originalEvent.pageX;e._y=touch.clientY||touch.originalEvent.clientY;e._now=$.now()}function touch($el,options){var el=$el[0],tail={},touchEnabledFLAG,startEvent,$target,controlTouch,touchFLAG,targetIsSelectFLAG,targetIsLinkFlag,tolerance,moved;function onStart(e){$target=$(e.target);tail.checked=targetIsSelectFLAG=targetIsLinkFlag=moved=false;if(touchEnabledFLAG||tail.flow||e.touches&&e.touches.length>1||e.which>1||lastEvent&&lastEvent.type!==e.type&&preventEvent||(targetIsSelectFLAG=options.select&&$target.is(options.select,el)))return targetIsSelectFLAG;touchFLAG=e.type===\"touchstart\";targetIsLinkFlag=$target.is(\"a, a *\",el);controlTouch=tail.control;tolerance=tail.noMove||tail.noSwipe||controlTouch?16:!tail.snap?4:0;extendEvent(e);startEvent=lastEvent=e;moveEventType=e.type.replace(/down|start/,\"move\").replace(/Down/,\"Move\");(options.onStart||noop).call(el,e,{control:controlTouch,$target:$target});touchEnabledFLAG=tail.flow=true;if(!touchFLAG||tail.go)stopEvent(e)}function onMove(e){if(e.touches&&e.touches.length>1||MS_POINTER&&!e.isPrimary||moveEventType!==e.type||!touchEnabledFLAG){touchEnabledFLAG&&onEnd();(options.onTouchEnd||noop)();return}extendEvent(e);var xDiff=Math.abs(e._x-startEvent._x),yDiff=Math.abs(e._y-startEvent._y),xyDiff=xDiff-yDiff,xWin=(tail.go||tail.x||xyDiff>=0)&&!tail.noSwipe,yWin=xyDiff<0;if(touchFLAG&&!tail.checked){if(touchEnabledFLAG=xWin){stopEvent(e)}}else{stopEvent(e);if(movedEnough(xDiff,yDiff)){(options.onMove||noop).call(el,e,{touch:touchFLAG})}}if(!moved&&movedEnough(xDiff,yDiff)&&Math.sqrt(Math.pow(xDiff,2)+Math.pow(yDiff,2))>tolerance){moved=true}tail.checked=tail.checked||xWin||yWin}function movedEnough(xDiff,yDiff){return xDiff>yDiff&&xDiff>1.5}function onEnd(e){(options.onTouchEnd||noop)();var _touchEnabledFLAG=touchEnabledFLAG;tail.control=touchEnabledFLAG=false;if(_touchEnabledFLAG){tail.flow=false}if(!_touchEnabledFLAG||targetIsLinkFlag&&!tail.checked)return;e&&stopEvent(e);preventEvent=true;clearTimeout(preventEventTimeout);preventEventTimeout=setTimeout(function(){preventEvent=false},1e3);(options.onEnd||noop).call(el,{moved:moved,$target:$target,control:controlTouch,touch:touchFLAG,startEvent:startEvent,aborted:!e||e.type===\"MSPointerCancel\"})}function onOtherStart(){if(tail.flow)return;tail.flow=true}function onOtherEnd(){if(!tail.flow)return;tail.flow=false}if(MS_POINTER){addEvent(el,\"MSPointerDown\",onStart);addEvent(document,\"MSPointerMove\",onMove);addEvent(document,\"MSPointerCancel\",onEnd);addEvent(document,\"MSPointerUp\",onEnd)}else{addEvent(el,\"touchstart\",onStart);addEvent(el,\"touchmove\",onMove);addEvent(el,\"touchend\",onEnd);addEvent(document,\"touchstart\",onOtherStart);addEvent(document,\"touchend\",onOtherEnd);addEvent(document,\"touchcancel\",onOtherEnd);$WINDOW.on(\"scroll\",onOtherEnd);$el.on(\"mousedown pointerdown\",onStart);$DOCUMENT.on(\"mousemove pointermove\",onMove).on(\"mouseup pointerup\",onEnd)}if(Modernizr.touch){dragDomEl=\"a\"}else{dragDomEl=\"div\"}$el.on(\"click\",dragDomEl,function(e){tail.checked&&stopEvent(e)});return tail}function moveOnTouch($el,options){var el=$el[0],elData=$el.data(),tail={},startCoo,coo,startElPos,moveElPos,edge,moveTrack,startTime,endTime,min,max,snap,dir,slowFLAG,controlFLAG,moved,tracked;function startTracking(e,noStop){tracked=true;startCoo=coo=dir===\"vertical\"?e._y:e._x;startTime=e._now;moveTrack=[[startTime,startCoo]];startElPos=moveElPos=tail.noMove||noStop?0:stop($el,(options.getPos||noop)());(options.onStart||noop).call(el,e)}function onStart(e,result){min=tail.min;max=tail.max;snap=tail.snap,dir=tail.direction||\"horizontal\",$el.navdir=dir;slowFLAG=e.altKey;tracked=moved=false;controlFLAG=result.control;if(!controlFLAG&&!elData.sliding){startTracking(e)}}function onMove(e,result){if(!tail.noSwipe){if(!tracked){startTracking(e)}coo=dir===\"vertical\"?e._y:e._x;moveTrack.push([e._now,coo]);moveElPos=startElPos-(startCoo-coo);edge=findShadowEdge(moveElPos,min,max,dir);if(moveElPos<=min){moveElPos=edgeResistance(moveElPos,min)}else if(moveElPos>=max){moveElPos=edgeResistance(moveElPos,max)}if(!tail.noMove){$el.css(getTranslate(moveElPos,dir));if(!moved){moved=true;result.touch||MS_POINTER||$el.addClass(grabbingClass)}(options.onMove||noop).call(el,e,{pos:moveElPos,edge:edge})}}}function onEnd(result){if(tail.noSwipe&&result.moved)return;if(!tracked){startTracking(result.startEvent,true)}result.touch||MS_POINTER||$el.removeClass(grabbingClass);endTime=$.now();var _backTimeIdeal=endTime-TOUCH_TIMEOUT,_backTime,_timeDiff,_timeDiffLast,backTime=null,backCoo,virtualPos,limitPos,newPos,overPos,time=TRANSITION_DURATION,speed,friction=options.friction;for(var _i=moveTrack.length-1;_i>=0;_i--){_backTime=moveTrack[_i][0];_timeDiff=Math.abs(_backTime-_backTimeIdeal);if(backTime===null||_timeDiff<_timeDiffLast){backTime=_backTime;backCoo=moveTrack[_i][1]}else if(backTime===_backTimeIdeal||_timeDiff>_timeDiffLast){break}_timeDiffLast=_timeDiff}newPos=minMaxLimit(moveElPos,min,max);var cooDiff=backCoo-coo,forwardFLAG=cooDiff>=0,timeDiff=endTime-backTime,longTouchFLAG=timeDiff>TOUCH_TIMEOUT,swipeFLAG=!longTouchFLAG&&moveElPos!==startElPos&&newPos===moveElPos;if(snap){newPos=minMaxLimit(Math[swipeFLAG?forwardFLAG?\"floor\":\"ceil\":\"round\"](moveElPos/snap)*snap,min,max);min=max=newPos}if(swipeFLAG&&(snap||newPos===moveElPos)){speed=-(cooDiff/timeDiff);time*=minMaxLimit(Math.abs(speed),options.timeLow,options.timeHigh);virtualPos=Math.round(moveElPos+speed*time/friction);if(!snap){newPos=virtualPos}if(!forwardFLAG&&virtualPos>max||forwardFLAG&&virtualPos<min){limitPos=forwardFLAG?min:max;overPos=virtualPos-limitPos;if(!snap){newPos=limitPos}overPos=minMaxLimit(newPos+overPos*.03,limitPos-50,limitPos+50);time=Math.abs((moveElPos-overPos)/(speed/friction))}}time*=slowFLAG?10:1;(options.onEnd||noop).call(el,$.extend(result,{moved:result.moved||longTouchFLAG&&snap,pos:moveElPos,newPos:newPos,overPos:overPos,time:time,dir:dir}))}tail=$.extend(touch(options.$wrap,$.extend({},options,{onStart:onStart,onMove:onMove,onEnd:onEnd})),tail);return tail}function wheel($el,options){var el=$el[0],lockFLAG,lastDirection,lastNow,tail={prevent:{}};addEvent(el,WHEEL,function(e){var yDelta=e.wheelDeltaY||-1*e.deltaY||0,xDelta=e.wheelDeltaX||-1*e.deltaX||0,xWin=Math.abs(xDelta)&&!Math.abs(yDelta),direction=getDirectionSign(xDelta<0),sameDirection=lastDirection===direction,now=$.now(),tooFast=now-lastNow<TOUCH_TIMEOUT;lastDirection=direction;lastNow=now;if(!xWin||!tail.ok||tail.prevent[direction]&&!lockFLAG){return}else{stopEvent(e,true);if(lockFLAG&&sameDirection&&tooFast){return}}if(options.shift){lockFLAG=true;clearTimeout(tail.t);tail.t=setTimeout(function(){lockFLAG=false},SCROLL_LOCK_TIMEOUT)}(options.onEnd||noop)(e,options.shift?direction:xDelta)});return tail}jQuery.Fotorama=function($fotorama,opts){$HTML=$(\"html\");$BODY=$(\"body\");var that=this,stamp=$.now(),stampClass=_fotoramaClass+stamp,fotorama=$fotorama[0],data,dataFrameCount=1,fotoramaData=$fotorama.data(),size,$style=$(\"<style></style>\"),$anchor=$(div(hiddenClass)),$wrap=$fotorama.find(cls(wrapClass)),$stage=$wrap.find(cls(stageClass)),stage=$stage[0],$stageShaft=$fotorama.find(cls(stageShaftClass)),$stageFrame=$(),$arrPrev=$fotorama.find(cls(arrPrevClass)),$arrNext=$fotorama.find(cls(arrNextClass)),$arrs=$fotorama.find(cls(arrClass)),$navWrap=$fotorama.find(cls(navWrapClass)),$nav=$navWrap.find(cls(navClass)),$navShaft=$nav.find(cls(navShaftClass)),$navFrame,$navDotFrame=$(),$navThumbFrame=$(),stageShaftData=$stageShaft.data(),navShaftData=$navShaft.data(),$thumbBorder=$fotorama.find(cls(thumbBorderClass)),$thumbArrLeft=$fotorama.find(cls(thumbArrLeft)),$thumbArrRight=$fotorama.find(cls(thumbArrRight)),$fullscreenIcon=$fotorama.find(cls(fullscreenIconClass)),fullscreenIcon=$fullscreenIcon[0],$videoPlay=$(div(videoPlayClass)),$videoClose=$fotorama.find(cls(videoCloseClass)),videoClose=$videoClose[0],$spinner=$fotorama.find(cls(fotoramaSpinnerClass)),$videoPlaying,activeIndex=false,activeFrame,activeIndexes,repositionIndex,dirtyIndex,lastActiveIndex,prevIndex,nextIndex,nextAutoplayIndex,startIndex,o_loop,o_nav,o_navThumbs,o_navTop,o_allowFullScreen,o_nativeFullScreen,o_fade,o_thumbSide,o_thumbSide2,o_transitionDuration,o_transition,o_shadows,o_rtl,o_keyboard,lastOptions={},measures={},measuresSetFLAG,stageShaftTouchTail={},stageWheelTail={},navShaftTouchTail={},navWheelTail={},scrollTop,scrollLeft,showedFLAG,pausedAutoplayFLAG,stoppedAutoplayFLAG,toDeactivate={},toDetach={},measuresStash,touchedFLAG,hoverFLAG,navFrameKey,stageLeft=0,fadeStack=[];$wrap[STAGE_FRAME_KEY]=$('<div class=\"'+stageFrameClass+'\"></div>');$wrap[NAV_THUMB_FRAME_KEY]=$($.Fotorama.jst.thumb());$wrap[NAV_DOT_FRAME_KEY]=$($.Fotorama.jst.dots());toDeactivate[STAGE_FRAME_KEY]=[];toDeactivate[NAV_THUMB_FRAME_KEY]=[];toDeactivate[NAV_DOT_FRAME_KEY]=[];toDetach[STAGE_FRAME_KEY]={};$wrap.addClass(CSS3?wrapCss3Class:wrapCss2Class);fotoramaData.fotorama=this;function checkForVideo(){$.each(data,function(i,dataFrame){if(!dataFrame.i){dataFrame.i=dataFrameCount++;var video=findVideoId(dataFrame.video,true);if(video){var thumbs={};dataFrame.video=video;if(!dataFrame.img&&!dataFrame.thumb){thumbs=getVideoThumbs(dataFrame,data,that)}else{dataFrame.thumbsReady=true}updateData(data,{img:thumbs.img,thumb:thumbs.thumb},dataFrame.i,that)}}})}function allowKey(key){return o_keyboard[key]}function setStagePosition(){if($stage!==undefined){if(opts.navdir==\"vertical\"){var padding=opts.thumbwidth+opts.thumbmargin;$stage.css(\"left\",padding);$arrNext.css(\"right\",padding);$fullscreenIcon.css(\"right\",padding);$wrap.css(\"width\",$wrap.css(\"width\")+padding);$stageShaft.css(\"max-width\",$wrap.width()-padding)}else{$stage.css(\"left\",\"\");$arrNext.css(\"right\",\"\");$fullscreenIcon.css(\"right\",\"\");$wrap.css(\"width\",$wrap.css(\"width\")+padding);$stageShaft.css(\"max-width\",\"\")}}}function bindGlobalEvents(FLAG){var keydownCommon=\"keydown.\"+_fotoramaClass,localStamp=_fotoramaClass+stamp,keydownLocal=\"keydown.\"+localStamp,keyupLocal=\"keyup.\"+localStamp,resizeLocal=\"resize.\"+localStamp+\" \"+\"orientationchange.\"+localStamp,showParams;if(FLAG){$DOCUMENT.on(keydownLocal,function(e){var catched,index;if($videoPlaying&&e.keyCode===27){catched=true;unloadVideo($videoPlaying,true,true)}else if(that.fullScreen||opts.keyboard&&!that.index){if(e.keyCode===27){catched=true;that.cancelFullScreen()}else if(e.shiftKey&&e.keyCode===32&&allowKey(\"space\")||e.keyCode===37&&allowKey(\"left\")||e.keyCode===38&&allowKey(\"up\")&&$(\":focus\").attr(\"data-gallery-role\")){that.longPress.progress();index=\"<\"}else if(e.keyCode===32&&allowKey(\"space\")||e.keyCode===39&&allowKey(\"right\")||e.keyCode===40&&allowKey(\"down\")&&$(\":focus\").attr(\"data-gallery-role\")){that.longPress.progress();index=\">\"}else if(e.keyCode===36&&allowKey(\"home\")){that.longPress.progress();index=\"<<\"}else if(e.keyCode===35&&allowKey(\"end\")){that.longPress.progress();index=\">>\"}}(catched||index)&&stopEvent(e);showParams={index:index,slow:e.altKey,user:true};index&&(that.longPress.inProgress?that.showWhileLongPress(showParams):that.show(showParams))});if(FLAG){$DOCUMENT.on(keyupLocal,function(e){if(that.longPress.inProgress){that.showEndLongPress({user:true})}that.longPress.reset()})}if(!that.index){$DOCUMENT.off(keydownCommon).on(keydownCommon,\"textarea, input, select\",function(e){!$BODY.hasClass(_fullscreenClass)&&e.stopPropagation()})}$WINDOW.on(resizeLocal,that.resize)}else{$DOCUMENT.off(keydownLocal);$WINDOW.off(resizeLocal)}}function appendElements(FLAG){if(FLAG===appendElements.f)return;if(FLAG){$fotorama.addClass(_fotoramaClass+\" \"+stampClass).before($anchor).before($style);addInstance(that)}else{$anchor.detach();$style.detach();$fotorama.html(fotoramaData.urtext).removeClass(stampClass);hideInstance(that)}bindGlobalEvents(FLAG);appendElements.f=FLAG}function setData(){data=that.data=data||clone(opts.data)||getDataFromHtml($fotorama);size=that.size=data.length;ready.ok&&opts.shuffle&&shuffle(data);checkForVideo();activeIndex=limitIndex(activeIndex);size&&appendElements(true)}function stageNoMove(){var _noMove=size<2||$videoPlaying;stageShaftTouchTail.noMove=_noMove||o_fade;stageShaftTouchTail.noSwipe=_noMove||!opts.swipe;!o_transition&&$stageShaft.toggleClass(grabClass,!opts.click&&!stageShaftTouchTail.noMove&&!stageShaftTouchTail.noSwipe);MS_POINTER&&$wrap.toggleClass(wrapPanYClass,!stageShaftTouchTail.noSwipe)}function setAutoplayInterval(interval){if(interval===true)interval=\"\";opts.autoplay=Math.max(+interval||AUTOPLAY_INTERVAL,o_transitionDuration*1.5)}function updateThumbArrow(opt){if(opt.navarrows&&opt.nav===\"thumbs\"){$thumbArrLeft.show();$thumbArrRight.show()}else{$thumbArrLeft.hide();$thumbArrRight.hide()}}function getThumbsInSlide($el,opts){return Math.floor($wrap.width()/(opts.thumbwidth+opts.thumbmargin))}function setOptions(){if(!opts.nav||opts.nav===\"dots\"){opts.navdir=\"horizontal\"}that.options=opts=optionsToLowerCase(opts);thumbsPerSlide=getThumbsInSlide($wrap,opts);o_fade=opts.transition===\"crossfade\"||opts.transition===\"dissolve\";o_loop=opts.loop&&(size>2||o_fade&&(!o_transition||o_transition!==\"slide\"));o_transitionDuration=+opts.transitionduration||TRANSITION_DURATION;o_rtl=opts.direction===\"rtl\";o_keyboard=$.extend({},opts.keyboard&&KEYBOARD_OPTIONS,opts.keyboard);updateThumbArrow(opts);var classes={add:[],remove:[]};function addOrRemoveClass(FLAG,value){classes[FLAG?\"add\":\"remove\"].push(value)}if(size>1){o_nav=opts.nav;o_navTop=opts.navposition===\"top\";classes.remove.push(selectClass);$arrs.toggle(opts.arrows)}else{o_nav=false;$arrs.hide()}arrsUpdate();stageWheelUpdate();thumbArrUpdate();if(opts.autoplay)setAutoplayInterval(opts.autoplay);o_thumbSide=numberFromMeasure(opts.thumbwidth)||THUMB_SIZE;o_thumbSide2=numberFromMeasure(opts.thumbheight)||THUMB_SIZE;stageWheelTail.ok=navWheelTail.ok=opts.trackpad&&!SLOW;stageNoMove();extendMeasures(opts,[measures]);o_navThumbs=o_nav===\"thumbs\";if($navWrap.filter(\":hidden\")&&!!o_nav){$navWrap.show()}if(o_navThumbs){frameDraw(size,\"navThumb\");$navFrame=$navThumbFrame;navFrameKey=NAV_THUMB_FRAME_KEY;setStyle($style,$.Fotorama.jst.style({w:o_thumbSide,h:o_thumbSide2,b:opts.thumbborderwidth,m:opts.thumbmargin,s:stamp,q:!COMPAT}));$nav.addClass(navThumbsClass).removeClass(navDotsClass)}else if(o_nav===\"dots\"){frameDraw(size,\"navDot\");$navFrame=$navDotFrame;navFrameKey=NAV_DOT_FRAME_KEY;$nav.addClass(navDotsClass).removeClass(navThumbsClass)}else{$navWrap.hide();o_nav=false;$nav.removeClass(navThumbsClass+\" \"+navDotsClass)}if(o_nav){if(o_navTop){$navWrap.insertBefore($stage)}else{$navWrap.insertAfter($stage)}frameAppend.nav=false;frameAppend($navFrame,$navShaft,\"nav\")}o_allowFullScreen=opts.allowfullscreen;if(o_allowFullScreen){$fullscreenIcon.prependTo($stage);o_nativeFullScreen=FULLSCREEN&&o_allowFullScreen===\"native\";stubEvent($fullscreenIcon,\"touchend\")}else{$fullscreenIcon.detach();o_nativeFullScreen=false}addOrRemoveClass(o_fade,wrapFadeClass);addOrRemoveClass(!o_fade,wrapSlideClass);addOrRemoveClass(!opts.captions,wrapNoCaptionsClass);addOrRemoveClass(o_rtl,wrapRtlClass);addOrRemoveClass(opts.arrows,wrapToggleArrowsClass);o_shadows=opts.shadows&&!SLOW;addOrRemoveClass(!o_shadows,wrapNoShadowsClass);$wrap.addClass(classes.add.join(\" \")).removeClass(classes.remove.join(\" \"));lastOptions=$.extend({},opts);setStagePosition()}function normalizeIndex(index){return index<0?(size+index%size)%size:index>=size?index%size:index}function limitIndex(index){return minMaxLimit(index,0,size-1)}function edgeIndex(index){return o_loop?normalizeIndex(index):limitIndex(index)}function getPrevIndex(index){return index>0||o_loop?index-1:false}function getNextIndex(index){return index<size-1||o_loop?index+1:false}function setStageShaftMinmaxAndSnap(){stageShaftTouchTail.min=o_loop?-Infinity:-getPosByIndex(size-1,measures.w,opts.margin,repositionIndex);stageShaftTouchTail.max=o_loop?Infinity:-getPosByIndex(0,measures.w,opts.margin,repositionIndex);stageShaftTouchTail.snap=measures.w+opts.margin}function setNavShaftMinMax(){var isVerticalDir=opts.navdir===\"vertical\";var param=isVerticalDir?$navShaft.height():$navShaft.width();var mainParam=isVerticalDir?measures.h:measures.nw;navShaftTouchTail.min=Math.min(0,mainParam-param);navShaftTouchTail.max=0;navShaftTouchTail.direction=opts.navdir;$navShaft.toggleClass(grabClass,!(navShaftTouchTail.noMove=navShaftTouchTail.min===navShaftTouchTail.max))}function eachIndex(indexes,type,fn){if(typeof indexes===\"number\"){indexes=new Array(indexes);var rangeFLAG=true}return $.each(indexes,function(i,index){if(rangeFLAG)index=i;if(typeof index===\"number\"){var dataFrame=data[normalizeIndex(index)];if(dataFrame){var key=\"$\"+type+\"Frame\",$frame=dataFrame[key];fn.call(this,i,index,dataFrame,$frame,key,$frame&&$frame.data())}}})}function setMeasures(width,height,ratio,index){if(!measuresSetFLAG||measuresSetFLAG===\"*\"&&index===startIndex){width=measureIsValid(opts.width)||measureIsValid(width)||WIDTH;height=measureIsValid(opts.height)||measureIsValid(height)||HEIGHT;that.resize({width:width,ratio:opts.ratio||ratio||width/height},0,index!==startIndex&&\"*\")}}function loadImg(indexes,type,specialMeasures,again){eachIndex(indexes,type,function(i,index,dataFrame,$frame,key,frameData){if(!$frame)return;var fullFLAG=that.fullScreen&&!frameData.$full&&type===\"stage\";if(frameData.$img&&!again&&!fullFLAG)return;var img=new Image,$img=$(img),imgData=$img.data();frameData[fullFLAG?\"$full\":\"$img\"]=$img;var srcKey=type===\"stage\"?fullFLAG?\"full\":\"img\":\"thumb\",src=dataFrame[srcKey],dummy=fullFLAG?dataFrame[\"img\"]:dataFrame[type===\"stage\"?\"thumb\":\"img\"];if(type===\"navThumb\")$frame=frameData.$wrap;function triggerTriggerEvent(event){var _index=normalizeIndex(index);triggerEvent(event,{index:_index,src:src,frame:data[_index]})}function error(){$img.remove();$.Fotorama.cache[src]=\"error\";if((!dataFrame.html||type!==\"stage\")&&dummy&&dummy!==src){dataFrame[srcKey]=src=dummy;frameData.$full=null;loadImg([index],type,specialMeasures,true)}else{if(src&&!dataFrame.html&&!fullFLAG){$frame.trigger(\"f:error\").removeClass(loadingClass).addClass(errorClass);triggerTriggerEvent(\"error\")}else if(type===\"stage\"){$frame.trigger(\"f:load\").removeClass(loadingClass+\" \"+errorClass).addClass(loadedClass);triggerTriggerEvent(\"load\");setMeasures()}frameData.state=\"error\";if(size>1&&data[index]===dataFrame&&!dataFrame.html&&!dataFrame.deleted&&!dataFrame.video&&!fullFLAG){dataFrame.deleted=true;that.splice(index,1)}}}function loaded(){$.Fotorama.measures[src]=imgData.measures=$.Fotorama.measures[src]||{width:img.width,height:img.height,ratio:img.width/img.height};setMeasures(imgData.measures.width,imgData.measures.height,imgData.measures.ratio,index);$img.off(\"load error\").addClass(\"\"+(fullFLAG?imgFullClass:imgClass)).attr(\"aria-hidden\",\"false\").prependTo($frame);if($frame.hasClass(stageFrameClass)&&!$frame.hasClass(videoContainerClass)){$frame.attr(\"href\",$img.attr(\"src\"))}fit($img,($.isFunction(specialMeasures)?specialMeasures():specialMeasures)||measures);$.Fotorama.cache[src]=frameData.state=\"loaded\";setTimeout(function(){$frame.trigger(\"f:load\").removeClass(loadingClass+\" \"+errorClass).addClass(loadedClass+\" \"+(fullFLAG?loadedFullClass:loadedImgClass));if(type===\"stage\"){triggerTriggerEvent(\"load\")}else if(dataFrame.thumbratio===AUTO||!dataFrame.thumbratio&&opts.thumbratio===AUTO){dataFrame.thumbratio=imgData.measures.ratio;reset()}},0)}if(!src){error();return}function waitAndLoad(){var _i=10;waitFor(function(){return!touchedFLAG||!_i--&&!SLOW},function(){loaded()})}if(!$.Fotorama.cache[src]){$.Fotorama.cache[src]=\"*\";$img.on(\"load\",waitAndLoad).on(\"error\",error)}else{(function justWait(){if($.Fotorama.cache[src]===\"error\"){error()}else if($.Fotorama.cache[src]===\"loaded\"){setTimeout(waitAndLoad,0)}else{setTimeout(justWait,100)}})()}frameData.state=\"\";img.src=src;if(frameData.data.caption){img.alt=frameData.data.caption||\"\"}if(frameData.data.full){$(img).data(\"original\",frameData.data.full)}if(UTIL.isExpectedCaption(dataFrame,opts.showcaption)){$(img).attr(\"aria-labelledby\",dataFrame.labelledby)}})}function updateFotoramaState(){var $frame=activeFrame[STAGE_FRAME_KEY];if($frame&&!$frame.data().state){$spinner.addClass(spinnerShowClass);$frame.on(\"f:load f:error\",function(){$frame.off(\"f:load f:error\");$spinner.removeClass(spinnerShowClass)})}}function addNavFrameEvents(frame){addEnterUp(frame,onNavFrameClick);addFocus(frame,function(){setTimeout(function(){lockScroll($nav)},0);slideNavShaft({time:o_transitionDuration,guessIndex:$(this).data().eq,minMax:navShaftTouchTail})})}function frameDraw(indexes,type){eachIndex(indexes,type,function(i,index,dataFrame,$frame,key,frameData){if($frame)return;$frame=dataFrame[key]=$wrap[key].clone();frameData=$frame.data();frameData.data=dataFrame;var frame=$frame[0],labelledbyValue=\"labelledby\"+$.now();if(type===\"stage\"){if(dataFrame.html){$('<div class=\"'+htmlClass+'\"></div>').append(dataFrame._html?$(dataFrame.html).removeAttr(\"id\").html(dataFrame._html):dataFrame.html).appendTo($frame)}if(dataFrame.id){labelledbyValue=dataFrame.id||labelledbyValue}dataFrame.labelledby=labelledbyValue;if(UTIL.isExpectedCaption(dataFrame,opts.showcaption)){$($.Fotorama.jst.frameCaption({caption:dataFrame.caption,labelledby:labelledbyValue})).appendTo($frame)}dataFrame.video&&$frame.addClass(stageFrameVideoClass).append($videoPlay.clone());addFocus(frame,function(){setTimeout(function(){lockScroll($stage)},0);clickToShow({index:frameData.eq,user:true})});$stageFrame=$stageFrame.add($frame)}else if(type===\"navDot\"){addNavFrameEvents(frame);$navDotFrame=$navDotFrame.add($frame)}else if(type===\"navThumb\"){addNavFrameEvents(frame);frameData.$wrap=$frame.children(\":first\");$navThumbFrame=$navThumbFrame.add($frame);if(dataFrame.video){frameData.$wrap.append($videoPlay.clone())}}})}function callFit($img,measuresToFit){return $img&&$img.length&&fit($img,measuresToFit)}function stageFramePosition(indexes){eachIndex(indexes,\"stage\",function(i,index,dataFrame,$frame,key,frameData){if(!$frame)return;var normalizedIndex=normalizeIndex(index);frameData.eq=normalizedIndex;toDetach[STAGE_FRAME_KEY][normalizedIndex]=$frame.css($.extend({left:o_fade?0:getPosByIndex(index,measures.w,opts.margin,repositionIndex)},o_fade&&getDuration(0)));if(isDetached($frame[0])){$frame.appendTo($stageShaft);unloadVideo(dataFrame.$video)}callFit(frameData.$img,measures);callFit(frameData.$full,measures);if($frame.hasClass(stageFrameClass)&&!($frame.attr(\"aria-hidden\")===\"false\"&&$frame.hasClass(activeClass))){$frame.attr(\"aria-hidden\",\"true\")}})}function thumbsDraw(pos,loadFLAG){var leftLimit,rightLimit,exceedLimit;if(o_nav!==\"thumbs\"||isNaN(pos))return;leftLimit=-pos;rightLimit=-pos+measures.nw;if(opts.navdir===\"vertical\"){pos=pos-opts.thumbheight;rightLimit=-pos+measures.h}$navThumbFrame.each(function(){var $this=$(this),thisData=$this.data(),eq=thisData.eq,getSpecialMeasures=function(){return{h:o_thumbSide2,w:thisData.w}},specialMeasures=getSpecialMeasures(),exceedLimit=opts.navdir===\"vertical\"?thisData.t>rightLimit:thisData.l>rightLimit;specialMeasures.w=thisData.w;if(thisData.l+thisData.w<leftLimit||exceedLimit||callFit(thisData.$img,specialMeasures))return;loadFLAG&&loadImg([eq],\"navThumb\",getSpecialMeasures)})}function frameAppend($frames,$shaft,type){if(!frameAppend[type]){var thumbsFLAG=type===\"nav\"&&o_navThumbs,left=0,top=0;$shaft.append($frames.filter(function(){var actual,$this=$(this),frameData=$this.data();for(var _i=0,_l=data.length;_i<_l;_i++){if(frameData.data===data[_i]){actual=true;frameData.eq=_i;break}}return actual||$this.remove()&&false}).sort(function(a,b){return $(a).data().eq-$(b).data().eq}).each(function(){var $this=$(this),frameData=$this.data();UTIL.setThumbAttr($this,frameData.data.caption,\"aria-label\")}).each(function(){if(!thumbsFLAG)return;var $this=$(this),frameData=$this.data(),thumbwidth=Math.round(o_thumbSide2*frameData.data.thumbratio)||o_thumbSide,thumbheight=Math.round(o_thumbSide/frameData.data.thumbratio)||o_thumbSide2;frameData.t=top;frameData.h=thumbheight;frameData.l=left;frameData.w=thumbwidth;$this.css({width:thumbwidth});top+=thumbheight+opts.thumbmargin;left+=thumbwidth+opts.thumbmargin}));frameAppend[type]=true}}function getDirection(x){return x-stageLeft>measures.w/3}function disableDirrection(i){return!o_loop&&(!(activeIndex+i)||!(activeIndex-size+i))&&!$videoPlaying}function arrsUpdate(){var disablePrev=disableDirrection(0),disableNext=disableDirrection(1);$arrPrev.toggleClass(arrDisabledClass,disablePrev).attr(disableAttr(disablePrev,false));$arrNext.toggleClass(arrDisabledClass,disableNext).attr(disableAttr(disableNext,false))}function thumbArrUpdate(){var isLeftDisable=false,isRightDisable=false;if(opts.navtype===\"thumbs\"&&!opts.loop){activeIndex==0?isLeftDisable=true:isLeftDisable=false;activeIndex==opts.data.length-1?isRightDisable=true:isRightDisable=false}if(opts.navtype===\"slides\"){var pos=readPosition($navShaft,opts.navdir);pos>=navShaftTouchTail.max?isLeftDisable=true:isLeftDisable=false;pos<=navShaftTouchTail.min?isRightDisable=true:isRightDisable=false}$thumbArrLeft.toggleClass(arrDisabledClass,isLeftDisable).attr(disableAttr(isLeftDisable,true));$thumbArrRight.toggleClass(arrDisabledClass,isRightDisable).attr(disableAttr(isRightDisable,true))}function stageWheelUpdate(){if(stageWheelTail.ok){stageWheelTail.prevent={\"<\":disableDirrection(0),\">\":disableDirrection(1)}}}function getNavFrameBounds($navFrame){var navFrameData=$navFrame.data(),left,top,width,height;if(o_navThumbs){left=navFrameData.l;top=navFrameData.t;width=navFrameData.w;height=navFrameData.h}else{left=$navFrame.position().left;width=$navFrame.width()}var horizontalBounds={c:left+width/2,min:-left+opts.thumbmargin*10,max:-left+measures.w-width-opts.thumbmargin*10};var verticalBounds={c:top+height/2,min:-top+opts.thumbmargin*10,max:-top+measures.h-height-opts.thumbmargin*10};return opts.navdir===\"vertical\"?verticalBounds:horizontalBounds}function slideThumbBorder(time){var navFrameData=activeFrame[navFrameKey].data();slide($thumbBorder,{time:time*1.2,pos:opts.navdir===\"vertical\"?navFrameData.t:navFrameData.l,width:navFrameData.w,height:navFrameData.h,direction:opts.navdir})}function slideNavShaft(options){var $guessNavFrame=data[options.guessIndex][navFrameKey],typeOfAnimation=opts.navtype;var overflowFLAG,time,minMax,boundTop,boundLeft,l,pos,x;if($guessNavFrame){if(typeOfAnimation===\"thumbs\"){overflowFLAG=navShaftTouchTail.min!==navShaftTouchTail.max;minMax=options.minMax||overflowFLAG&&getNavFrameBounds(activeFrame[navFrameKey]);boundTop=overflowFLAG&&(options.keep&&slideNavShaft.t?slideNavShaft.l:minMaxLimit((options.coo||measures.nw/2)-getNavFrameBounds($guessNavFrame).c,minMax.min,minMax.max));boundLeft=overflowFLAG&&(options.keep&&slideNavShaft.l?slideNavShaft.l:minMaxLimit((options.coo||measures.nw/2)-getNavFrameBounds($guessNavFrame).c,minMax.min,minMax.max));l=opts.navdir===\"vertical\"?boundTop:boundLeft;pos=overflowFLAG&&minMaxLimit(l,navShaftTouchTail.min,navShaftTouchTail.max)||0;time=options.time*1.1;slide($navShaft,{time:time,pos:pos,direction:opts.navdir,onEnd:function(){thumbsDraw(pos,true);thumbArrUpdate()}});setShadow($nav,findShadowEdge(pos,navShaftTouchTail.min,navShaftTouchTail.max,opts.navdir));slideNavShaft.l=l}else{x=readPosition($navShaft,opts.navdir);time=options.time*1.11;pos=validateSlidePos(opts,navShaftTouchTail,options.guessIndex,x,$guessNavFrame,$navWrap,opts.navdir);slide($navShaft,{time:time,pos:pos,direction:opts.navdir,onEnd:function(){thumbsDraw(pos,true);thumbArrUpdate()}});setShadow($nav,findShadowEdge(pos,navShaftTouchTail.min,navShaftTouchTail.max,opts.navdir))}}}function navUpdate(){deactivateFrames(navFrameKey);toDeactivate[navFrameKey].push(activeFrame[navFrameKey].addClass(activeClass).attr(\"data-active\",true))}function deactivateFrames(key){var _toDeactivate=toDeactivate[key];while(_toDeactivate.length){_toDeactivate.shift().removeClass(activeClass).attr(\"data-active\",false)}}function detachFrames(key){var _toDetach=toDetach[key];$.each(activeIndexes,function(i,index){delete _toDetach[normalizeIndex(index)]});$.each(_toDetach,function(index,$frame){delete _toDetach[index];$frame.detach()})}function stageShaftReposition(skipOnEnd){repositionIndex=dirtyIndex=activeIndex;var $frame=activeFrame[STAGE_FRAME_KEY];if($frame){deactivateFrames(STAGE_FRAME_KEY);toDeactivate[STAGE_FRAME_KEY].push($frame.addClass(activeClass).attr(\"data-active\",true));if($frame.hasClass(stageFrameClass)){$frame.attr(\"aria-hidden\",\"false\")}skipOnEnd||that.showStage.onEnd(true);stop($stageShaft,0,true);detachFrames(STAGE_FRAME_KEY);stageFramePosition(activeIndexes);setStageShaftMinmaxAndSnap();setNavShaftMinMax();addEnterUp($stageShaft[0],function(){if(!$fotorama.hasClass(fullscreenClass)){that.requestFullScreen();$fullscreenIcon.focus()}})}}function extendMeasures(options,measuresArray){if(!options)return;$.each(measuresArray,function(i,measures){if(!measures)return;$.extend(measures,{width:options.width||measures.width,height:options.height,minwidth:options.minwidth,maxwidth:options.maxwidth,minheight:options.minheight,maxheight:options.maxheight,ratio:getRatio(options.ratio)})})}function triggerEvent(event,extra){$fotorama.trigger(_fotoramaClass+\":\"+event,[that,extra])}function onTouchStart(){clearTimeout(onTouchEnd.t);touchedFLAG=1;if(opts.stopautoplayontouch){that.stopAutoplay()}else{pausedAutoplayFLAG=true}}function onTouchEnd(){if(!touchedFLAG)return;if(!opts.stopautoplayontouch){releaseAutoplay();changeAutoplay()}onTouchEnd.t=setTimeout(function(){touchedFLAG=0},TRANSITION_DURATION+TOUCH_TIMEOUT)}function releaseAutoplay(){pausedAutoplayFLAG=!!($videoPlaying||stoppedAutoplayFLAG)}function changeAutoplay(){clearTimeout(changeAutoplay.t);waitFor.stop(changeAutoplay.w);if(!opts.autoplay||pausedAutoplayFLAG){if(that.autoplay){that.autoplay=false;triggerEvent(\"stopautoplay\")}return}if(!that.autoplay){that.autoplay=true;triggerEvent(\"startautoplay\")}var _activeIndex=activeIndex;var frameData=activeFrame[STAGE_FRAME_KEY].data();changeAutoplay.w=waitFor(function(){return frameData.state||_activeIndex!==activeIndex},function(){changeAutoplay.t=setTimeout(function(){if(pausedAutoplayFLAG||_activeIndex!==activeIndex)return;var _nextAutoplayIndex=nextAutoplayIndex,nextFrameData=data[_nextAutoplayIndex][STAGE_FRAME_KEY].data();changeAutoplay.w=waitFor(function(){return nextFrameData.state||_nextAutoplayIndex!==nextAutoplayIndex},function(){if(pausedAutoplayFLAG||_nextAutoplayIndex!==nextAutoplayIndex)return;that.show(o_loop?getDirectionSign(!o_rtl):nextAutoplayIndex)})},opts.autoplay)})}that.startAutoplay=function(interval){if(that.autoplay)return this;pausedAutoplayFLAG=stoppedAutoplayFLAG=false;setAutoplayInterval(interval||opts.autoplay);changeAutoplay();return this};that.stopAutoplay=function(){if(that.autoplay){pausedAutoplayFLAG=stoppedAutoplayFLAG=true;changeAutoplay()}return this};that.showSlide=function(slideDir){var currentPosition=readPosition($navShaft,opts.navdir),pos,time=500*1.1,size=opts.navdir===\"horizontal\"?opts.thumbwidth:opts.thumbheight,onEnd=function(){thumbArrUpdate()};if(slideDir===\"next\"){pos=currentPosition-(size+opts.margin)*thumbsPerSlide}if(slideDir===\"prev\"){pos=currentPosition+(size+opts.margin)*thumbsPerSlide}pos=validateRestrictions(pos,navShaftTouchTail);thumbsDraw(pos,true);slide($navShaft,{time:time,pos:pos,direction:opts.navdir,onEnd:onEnd})};that.showWhileLongPress=function(options){if(that.longPress.singlePressInProgress){return}var index=calcActiveIndex(options);calcGlobalIndexes(index);var time=calcTime(options)/50;var _activeFrame=activeFrame;that.activeFrame=activeFrame=data[activeIndex];var silent=_activeFrame===activeFrame&&!options.user;that.showNav(silent,options,time);return this};that.showEndLongPress=function(options){if(that.longPress.singlePressInProgress){return}var index=calcActiveIndex(options);calcGlobalIndexes(index);var time=calcTime(options)/50;var _activeFrame=activeFrame;that.activeFrame=activeFrame=data[activeIndex];var silent=_activeFrame===activeFrame&&!options.user;that.showStage(silent,options,time);showedFLAG=typeof lastActiveIndex!==\"undefined\"&&lastActiveIndex!==activeIndex;lastActiveIndex=activeIndex;return this};function calcActiveIndex(options){var index;if(typeof options!==\"object\"){index=options;options={}}else{index=options.index}index=index===\">\"?dirtyIndex+1:index===\"<\"?dirtyIndex-1:index===\"<<\"?0:index===\">>\"?size-1:index;index=isNaN(index)?undefined:index;index=typeof index===\"undefined\"?activeIndex||0:index;return index}function calcGlobalIndexes(index){that.activeIndex=activeIndex=edgeIndex(index);prevIndex=getPrevIndex(activeIndex);nextIndex=getNextIndex(activeIndex);nextAutoplayIndex=normalizeIndex(activeIndex+(o_rtl?-1:1));activeIndexes=[activeIndex,prevIndex,nextIndex];dirtyIndex=o_loop?index:activeIndex}function calcTime(options){var diffIndex=Math.abs(lastActiveIndex-dirtyIndex),time=getNumber(options.time,function(){return Math.min(o_transitionDuration*(1+(diffIndex-1)/12),o_transitionDuration*2)});if(options.slow){time*=10}return time}that.showStage=function(silent,options,time){unloadVideo($videoPlaying,activeFrame.i!==data[normalizeIndex(repositionIndex)].i);frameDraw(activeIndexes,\"stage\");stageFramePosition(SLOW?[dirtyIndex]:[dirtyIndex,getPrevIndex(dirtyIndex),getNextIndex(dirtyIndex)]);updateTouchTails(\"go\",true);silent||triggerEvent(\"show\",{user:options.user,time:time});pausedAutoplayFLAG=true;var overPos=options.overPos;var onEnd=that.showStage.onEnd=function(skipReposition){if(onEnd.ok)return;onEnd.ok=true;skipReposition||stageShaftReposition(true);if(!silent){triggerEvent(\"showend\",{user:options.user})}if(!skipReposition&&o_transition&&o_transition!==opts.transition){that.setOptions({transition:o_transition});o_transition=false;return}updateFotoramaState();loadImg(activeIndexes,\"stage\");updateTouchTails(\"go\",false);stageWheelUpdate();stageCursor();releaseAutoplay();changeAutoplay();if(that.fullScreen){activeFrame[STAGE_FRAME_KEY].find(\".\"+imgFullClass).attr(\"aria-hidden\",false);activeFrame[STAGE_FRAME_KEY].find(\".\"+imgClass).attr(\"aria-hidden\",true)}else{activeFrame[STAGE_FRAME_KEY].find(\".\"+imgFullClass).attr(\"aria-hidden\",true);activeFrame[STAGE_FRAME_KEY].find(\".\"+imgClass).attr(\"aria-hidden\",false)}};if(!o_fade){slide($stageShaft,{pos:-getPosByIndex(dirtyIndex,measures.w,opts.margin,repositionIndex),overPos:overPos,time:time,onEnd:onEnd})}else{var $activeFrame=activeFrame[STAGE_FRAME_KEY],$prevActiveFrame=data[lastActiveIndex]&&activeIndex!==lastActiveIndex?data[lastActiveIndex][STAGE_FRAME_KEY]:null;fade($activeFrame,$prevActiveFrame,$stageFrame,{time:time,method:opts.transition,onEnd:onEnd},fadeStack)}arrsUpdate()};that.showNav=function(silent,options,time){thumbArrUpdate();if(o_nav){navUpdate();var guessIndex=limitIndex(activeIndex+minMaxLimit(dirtyIndex-lastActiveIndex,-1,1));slideNavShaft({time:time,coo:guessIndex!==activeIndex&&options.coo,guessIndex:typeof options.coo!==\"undefined\"?guessIndex:activeIndex,keep:silent});if(o_navThumbs)slideThumbBorder(time)}};that.show=function(options){that.longPress.singlePressInProgress=true;var index=calcActiveIndex(options);calcGlobalIndexes(index);var time=calcTime(options);var _activeFrame=activeFrame;that.activeFrame=activeFrame=data[activeIndex];var silent=_activeFrame===activeFrame&&!options.user;that.showStage(silent,options,time);that.showNav(silent,options,time);showedFLAG=typeof lastActiveIndex!==\"undefined\"&&lastActiveIndex!==activeIndex;lastActiveIndex=activeIndex;that.longPress.singlePressInProgress=false;return this};that.requestFullScreen=function(){if(o_allowFullScreen&&!that.fullScreen){var isVideo=$((that.activeFrame||{}).$stageFrame||{}).hasClass(\"fotorama-video-container\");if(isVideo){return}scrollTop=$WINDOW.scrollTop();scrollLeft=$WINDOW.scrollLeft();lockScroll($WINDOW);updateTouchTails(\"x\",true);measuresStash=$.extend({},measures);$fotorama.addClass(fullscreenClass).appendTo($BODY.addClass(_fullscreenClass));$HTML.addClass(_fullscreenClass);unloadVideo($videoPlaying,true,true);that.fullScreen=true;if(o_nativeFullScreen){fullScreenApi.request(fotorama)}that.resize();loadImg(activeIndexes,\"stage\");updateFotoramaState();triggerEvent(\"fullscreenenter\");if(!(\"ontouchstart\"in window)){$fullscreenIcon.focus()}}return this};function cancelFullScreen(){if(that.fullScreen){that.fullScreen=false;if(FULLSCREEN){fullScreenApi.cancel(fotorama)}$BODY.removeClass(_fullscreenClass);$HTML.removeClass(_fullscreenClass);$fotorama.removeClass(fullscreenClass).insertAfter($anchor);measures=$.extend({},measuresStash);unloadVideo($videoPlaying,true,true);updateTouchTails(\"x\",false);that.resize();loadImg(activeIndexes,\"stage\");lockScroll($WINDOW,scrollLeft,scrollTop);triggerEvent(\"fullscreenexit\")}}that.cancelFullScreen=function(){if(o_nativeFullScreen&&fullScreenApi.is()){fullScreenApi.cancel(document)}else{cancelFullScreen()}return this};that.toggleFullScreen=function(){return that[(that.fullScreen?\"cancel\":\"request\")+\"FullScreen\"]()};that.resize=function(options){if(!data)return this;var time=arguments[1]||0,setFLAG=arguments[2];thumbsPerSlide=getThumbsInSlide($wrap,opts);extendMeasures(!that.fullScreen?optionsToLowerCase(options):{width:$(window).width(),maxwidth:null,minwidth:null,height:$(window).height(),maxheight:null,minheight:null},[measures,setFLAG||that.fullScreen||opts]);var width=measures.width,height=measures.height,ratio=measures.ratio,windowHeight=$WINDOW.height()-(o_nav?$nav.height():0);if(measureIsValid(width)){$wrap.css({width:\"\"});$wrap.css({height:\"\"});$stage.css({width:\"\"});$stage.css({height:\"\"});$stageShaft.css({width:\"\"});$stageShaft.css({height:\"\"});$nav.css({width:\"\"});$nav.css({height:\"\"});$wrap.css({minWidth:measures.minwidth||0,maxWidth:measures.maxwidth||MAX_WIDTH});if(o_nav===\"dots\"){$navWrap.hide()}width=measures.W=measures.w=$wrap.width();measures.nw=o_nav&&numberFromWhatever(opts.navwidth,width)||width;$stageShaft.css({width:measures.w,marginLeft:(measures.W-measures.w)/2});height=numberFromWhatever(height,windowHeight);height=height||ratio&&width/ratio;if(height){width=Math.round(width);height=measures.h=Math.round(minMaxLimit(height,numberFromWhatever(measures.minheight,windowHeight),numberFromWhatever(measures.maxheight,windowHeight)));$stage.css({width:width,height:height});if(opts.navdir===\"vertical\"&&!that.fullscreen){$nav.width(opts.thumbwidth+opts.thumbmargin*2)}if(opts.navdir===\"horizontal\"&&!that.fullscreen){$nav.height(opts.thumbheight+opts.thumbmargin*2)}if(o_nav===\"dots\"){$nav.width(width).height(\"auto\");$navWrap.show()}if(opts.navdir===\"vertical\"&&that.fullScreen){$stage.css(\"height\",$WINDOW.height())}if(opts.navdir===\"horizontal\"&&that.fullScreen){$stage.css(\"height\",$WINDOW.height()-$nav.height())}if(o_nav){switch(opts.navdir){case\"vertical\":$navWrap.removeClass(navShafthorizontalClass);$navWrap.removeClass(navShaftListClass);$navWrap.addClass(navShaftVerticalClass);$nav.stop().animate({height:measures.h,width:opts.thumbwidth},time);break;case\"list\":$navWrap.removeClass(navShaftVerticalClass);$navWrap.removeClass(navShafthorizontalClass);$navWrap.addClass(navShaftListClass);break;default:$navWrap.removeClass(navShaftVerticalClass);$navWrap.removeClass(navShaftListClass);$navWrap.addClass(navShafthorizontalClass);$nav.stop().animate({width:measures.nw},time);break}stageShaftReposition();slideNavShaft({guessIndex:activeIndex,time:time,keep:true});if(o_navThumbs&&frameAppend.nav)slideThumbBorder(time)}measuresSetFLAG=setFLAG||true;ready.ok=true;ready()}}stageLeft=$stage.offset().left;setStagePosition();return this};that.setOptions=function(options){$.extend(opts,options);reset();return this};that.shuffle=function(){data&&shuffle(data)&&reset();return this};function setShadow($el,edge){if(o_shadows){$el.removeClass(shadowsLeftClass+\" \"+shadowsRightClass);$el.removeClass(shadowsTopClass+\" \"+shadowsBottomClass);edge&&!$videoPlaying&&$el.addClass(edge.replace(/^|\\s/g,\" \"+shadowsClass+\"--\"))}}that.longPress={threshold:1,count:0,thumbSlideTime:20,progress:function(){if(!this.inProgress){this.count++;this.inProgress=this.count>this.threshold}},end:function(){if(this.inProgress){this.isEnded=true}},reset:function(){this.count=0;this.inProgress=false;this.isEnded=false}};that.destroy=function(){that.cancelFullScreen();that.stopAutoplay();data=that.data=null;appendElements();activeIndexes=[];detachFrames(STAGE_FRAME_KEY);reset.ok=false;return this};that.playVideo=function(){var dataFrame=activeFrame,video=dataFrame.video,_activeIndex=activeIndex;if(typeof video===\"object\"&&dataFrame.videoReady){o_nativeFullScreen&&that.fullScreen&&that.cancelFullScreen();waitFor(function(){return!fullScreenApi.is()||_activeIndex!==activeIndex},function(){if(_activeIndex===activeIndex){dataFrame.$video=dataFrame.$video||$(div(videoClass)).append(createVideoFrame(video));dataFrame.$video.appendTo(dataFrame[STAGE_FRAME_KEY]);$wrap.addClass(wrapVideoClass);$videoPlaying=dataFrame.$video;stageNoMove();$arrs.blur();$fullscreenIcon.blur();triggerEvent(\"loadvideo\")}})}return this};that.stopVideo=function(){unloadVideo($videoPlaying,true,true);return this};that.spliceByIndex=function(index,newImgObj){newImgObj.i=index+1;newImgObj.img&&$.ajax({url:newImgObj.img,type:\"HEAD\",success:function(){data.splice(index,1,newImgObj);reset()}})};function unloadVideo($video,unloadActiveFLAG,releaseAutoplayFLAG){if(unloadActiveFLAG){$wrap.removeClass(wrapVideoClass);$videoPlaying=false;stageNoMove()}if($video&&$video!==$videoPlaying){$video.remove();triggerEvent(\"unloadvideo\")}if(releaseAutoplayFLAG){releaseAutoplay();changeAutoplay()}}function toggleControlsClass(FLAG){$wrap.toggleClass(wrapNoControlsClass,FLAG)}function stageCursor(e){if(stageShaftTouchTail.flow)return;var x=e?e.pageX:stageCursor.x,pointerFLAG=x&&!disableDirrection(getDirection(x))&&opts.click;if(stageCursor.p!==pointerFLAG&&$stage.toggleClass(pointerClass,pointerFLAG)){stageCursor.p=pointerFLAG;stageCursor.x=x}}$stage.on(\"mousemove\",stageCursor);function clickToShow(showOptions){clearTimeout(clickToShow.t);if(opts.clicktransition&&opts.clicktransition!==opts.transition){setTimeout(function(){var _o_transition=opts.transition;that.setOptions({transition:opts.clicktransition});o_transition=_o_transition;clickToShow.t=setTimeout(function(){that.show(showOptions)},10)},0)}else{that.show(showOptions)}}function onStageTap(e,toggleControlsFLAG){var target=e.target,$target=$(target);if($target.hasClass(videoPlayClass)){that.playVideo()}else if(target===fullscreenIcon){that.toggleFullScreen()}else if($videoPlaying){target===videoClose&&unloadVideo($videoPlaying,true,true)}else if(!$fotorama.hasClass(fullscreenClass)){that.requestFullScreen()}}function updateTouchTails(key,value){stageShaftTouchTail[key]=navShaftTouchTail[key]=value}stageShaftTouchTail=moveOnTouch($stageShaft,{onStart:onTouchStart,onMove:function(e,result){setShadow($stage,result.edge)},onTouchEnd:onTouchEnd,onEnd:function(result){var toggleControlsFLAG;setShadow($stage);toggleControlsFLAG=(MS_POINTER&&!hoverFLAG||result.touch)&&opts.arrows;if((result.moved||toggleControlsFLAG&&result.pos!==result.newPos&&!result.control)&&result.$target[0]!==$fullscreenIcon[0]){var index=getIndexByPos(result.newPos,measures.w,opts.margin,repositionIndex);that.show({index:index,time:o_fade?o_transitionDuration:result.time,overPos:result.overPos,user:true})}else if(!result.aborted&&!result.control){onStageTap(result.startEvent,toggleControlsFLAG)}},timeLow:1,timeHigh:1,friction:2,select:\".\"+selectClass+\", .\"+selectClass+\" *\",$wrap:$stage,direction:\"horizontal\"});navShaftTouchTail=moveOnTouch($navShaft,{onStart:onTouchStart,onMove:function(e,result){setShadow($nav,result.edge)},onTouchEnd:onTouchEnd,onEnd:function(result){function onEnd(){slideNavShaft.l=result.newPos;releaseAutoplay();changeAutoplay();thumbsDraw(result.newPos,true);thumbArrUpdate()}if(!result.moved){var target=result.$target.closest(\".\"+navFrameClass,$navShaft)[0];target&&onNavFrameClick.call(target,result.startEvent)}else if(result.pos!==result.newPos){pausedAutoplayFLAG=true;slide($navShaft,{time:result.time,pos:result.newPos,overPos:result.overPos,direction:opts.navdir,onEnd:onEnd});thumbsDraw(result.newPos);o_shadows&&setShadow($nav,findShadowEdge(result.newPos,navShaftTouchTail.min,navShaftTouchTail.max,result.dir))}else{onEnd()}},timeLow:.5,timeHigh:2,friction:5,$wrap:$nav,direction:opts.navdir});stageWheelTail=wheel($stage,{shift:true,onEnd:function(e,direction){onTouchStart();onTouchEnd();that.show({index:direction,slow:e.altKey})}});navWheelTail=wheel($nav,{onEnd:function(e,direction){onTouchStart();onTouchEnd();var newPos=stop($navShaft)+direction*.25;$navShaft.css(getTranslate(minMaxLimit(newPos,navShaftTouchTail.min,navShaftTouchTail.max),opts.navdir));o_shadows&&setShadow($nav,findShadowEdge(newPos,navShaftTouchTail.min,navShaftTouchTail.max,opts.navdir));navWheelTail.prevent={\"<\":newPos>=navShaftTouchTail.max,\">\":newPos<=navShaftTouchTail.min};clearTimeout(navWheelTail.t);navWheelTail.t=setTimeout(function(){slideNavShaft.l=newPos;thumbsDraw(newPos,true)},TOUCH_TIMEOUT);thumbsDraw(newPos)}});$wrap.hover(function(){setTimeout(function(){if(touchedFLAG)return;toggleControlsClass(!(hoverFLAG=true))},0)},function(){if(!hoverFLAG)return;toggleControlsClass(!(hoverFLAG=false))});function onNavFrameClick(e){var index=$(this).data().eq;if(opts.navtype===\"thumbs\"){clickToShow({index:index,slow:e.altKey,user:true,coo:e._x-$nav.offset().left})}else{clickToShow({index:index,slow:e.altKey,user:true})}}function onArrClick(e){clickToShow({index:$arrs.index(this)?\">\":\"<\",slow:e.altKey,user:true})}smartClick($arrs,function(e){stopEvent(e);onArrClick.call(this,e)},{onStart:function(){onTouchStart();stageShaftTouchTail.control=true},onTouchEnd:onTouchEnd});smartClick($thumbArrLeft,function(e){stopEvent(e);if(opts.navtype===\"thumbs\"){that.show(\"<\")}else{that.showSlide(\"prev\")}});smartClick($thumbArrRight,function(e){stopEvent(e);if(opts.navtype===\"thumbs\"){that.show(\">\")}else{that.showSlide(\"next\")}});function addFocusOnControls(el){addFocus(el,function(){setTimeout(function(){lockScroll($stage)},0);toggleControlsClass(false)})}$arrs.each(function(){addEnterUp(this,function(e){onArrClick.call(this,e)});addFocusOnControls(this)});addEnterUp(fullscreenIcon,function(){if($fotorama.hasClass(fullscreenClass)){that.cancelFullScreen();$stageShaft.focus()}else{that.requestFullScreen();$fullscreenIcon.focus()}});addFocusOnControls(fullscreenIcon);function reset(){setData();setOptions();if(!reset.i){reset.i=true;var _startindex=opts.startindex;activeIndex=repositionIndex=dirtyIndex=lastActiveIndex=startIndex=edgeIndex(_startindex)||0}if(size){if(changeToRtl())return;if($videoPlaying){unloadVideo($videoPlaying,true)}activeIndexes=[];detachFrames(STAGE_FRAME_KEY);reset.ok=true;that.show({index:activeIndex,time:0});that.resize()}else{that.destroy()}}function changeToRtl(){if(!changeToRtl.f===o_rtl){changeToRtl.f=o_rtl;activeIndex=size-1-activeIndex;that.reverse();return true}}$.each(\"load push pop shift unshift reverse sort splice\".split(\" \"),function(i,method){that[method]=function(){data=data||[];if(method!==\"load\"){Array.prototype[method].apply(data,arguments)}else if(arguments[0]&&typeof arguments[0]===\"object\"&&arguments[0].length){data=clone(arguments[0])}reset();return that}});function ready(){if(ready.ok){ready.ok=false;triggerEvent(\"ready\")}}reset()};$.fn.fotorama=function(opts){return this.each(function(){var that=this,$fotorama=$(this),fotoramaData=$fotorama.data(),fotorama=fotoramaData.fotorama;if(!fotorama){waitFor(function(){return!isHidden(that)},function(){fotoramaData.urtext=$fotorama.html();new $.Fotorama($fotorama,$.extend({},OPTIONS,window.fotoramaDefaults,opts,fotoramaData))})}else{fotorama.setOptions(opts,true)}})};$.Fotorama.instances=[];function calculateIndexes(){$.each($.Fotorama.instances,function(index,instance){instance.index=index})}function addInstance(instance){$.Fotorama.instances.push(instance);calculateIndexes()}function hideInstance(instance){$.Fotorama.instances.splice(instance.index,1);calculateIndexes()}$.Fotorama.cache={};$.Fotorama.measures={};$=$||{};$.Fotorama=$.Fotorama||{};$.Fotorama.jst=$.Fotorama.jst||{};$.Fotorama.jst.dots=function(v){var __t,__p=\"\",__e=_.escape;__p+='<div class=\"fotorama__nav__frame fotorama__nav__frame--dot\" tabindex=\"0\" role=\"button\" data-gallery-role=\"nav-frame\" data-nav-type=\"thumb\" aria-label>\\r\\n    <div class=\"fotorama__dot\"></div>\\r\\n</div>';return __p};$.Fotorama.jst.frameCaption=function(v){var __t,__p=\"\",__e=_.escape;__p+='<div class=\"fotorama__caption\" aria-hidden=\"true\">\\r\\n    <div class=\"fotorama__caption__wrap\" id=\"'+((__t=v.labelledby)==null?\"\":__t)+'\">'+((__t=v.caption)==null?\"\":__t)+\"</div>\\r\\n</div>\\r\\n\";return __p};$.Fotorama.jst.style=function(v){var __t,__p=\"\",__e=_.escape;__p+=\".fotorama\"+((__t=v.s)==null?\"\":__t)+\" .fotorama__nav--thumbs .fotorama__nav__frame{\\r\\npadding:\"+((__t=v.m)==null?\"\":__t)+\"px;\\r\\nheight:\"+((__t=v.h)==null?\"\":__t)+\"px}\\r\\n.fotorama\"+((__t=v.s)==null?\"\":__t)+\" .fotorama__thumb-border{\\r\\nheight:\"+((__t=v.h)==null?\"\":__t)+\"px;\\r\\nborder-width:\"+((__t=v.b)==null?\"\":__t)+\"px;\\r\\nmargin-top:\"+((__t=v.m)==null?\"\":__t)+\"px}\";return __p};$.Fotorama.jst.thumb=function(v){var __t,__p=\"\",__e=_.escape;__p+='<div class=\"fotorama__nav__frame fotorama__nav__frame--thumb\" tabindex=\"0\" role=\"button\" data-gallery-role=\"nav-frame\" data-nav-type=\"thumb\" aria-label>\\r\\n    <div class=\"fotorama__thumb\">\\r\\n    </div>\\r\\n</div>';return __p}})(window,document,location,typeof jQuery!==\"undefined\"&&jQuery);","Magento_Usps/js/model/shipping-rates-validation-rules.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([], function () {\n    'use strict';\n\n    return {\n        /**\n         * @return {Object}\n         */\n        getRules: function () {\n            return {\n                'country_id': {\n                    'required': true\n                },\n                'postcode': {\n                    'required': false\n                }\n            };\n        }\n    };\n});\n","Magento_Usps/js/model/shipping-rates-validator.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'mageUtils',\n    './shipping-rates-validation-rules',\n    'mage/translate'\n], function ($, utils, validationRules, $t) {\n    'use strict';\n\n    var checkoutConfig = window.checkoutConfig;\n\n    return {\n        validationErrors: [],\n\n        /**\n         * @param {Object} address\n         * @return {Boolean}\n         */\n        validate: function (address) {\n            var rules = validationRules.getRules(),\n                self = this;\n\n            $.each(rules, function (field, rule) {\n                var message;\n\n                if (rule.required && utils.isEmpty(address[field])) {\n                    message = $t('Field ') + field + $t(' is required.');\n                    self.validationErrors.push(message);\n                }\n            });\n\n            if (!this.validationErrors.length) {\n                if (address['country_id'] == checkoutConfig.originCountryCode) { //eslint-disable-line eqeqeq\n                    return !utils.isEmpty(address.postcode);\n                }\n\n                return true;\n            }\n\n            return false;\n        }\n    };\n});\n","Magento_Usps/js/view/shipping-rates-validation.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'uiComponent',\n    'Magento_Checkout/js/model/shipping-rates-validator',\n    'Magento_Checkout/js/model/shipping-rates-validation-rules',\n    '../model/shipping-rates-validator',\n    '../model/shipping-rates-validation-rules'\n], function (\n    Component,\n    defaultShippingRatesValidator,\n    defaultShippingRatesValidationRules,\n    uspsShippingRatesValidator,\n    uspsShippingRatesValidationRules\n) {\n    'use strict';\n\n    defaultShippingRatesValidator.registerValidator('usps', uspsShippingRatesValidator);\n    defaultShippingRatesValidationRules.registerRules('usps', uspsShippingRatesValidationRules);\n\n    return Component;\n});\n","Redgiant_Berserk/js/ev-emitter.js":"/**\n * EvEmitter v1.0.1\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( this, function() {\n\n\"use strict\";\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners array\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || [];\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var i = 0;\n  var listener = listeners[i];\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  while ( listener ) {\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n    // get next listener\n    i += isOnce ? 0 : 1;\n    listener = listeners[i];\n  }\n\n  return this;\n};\n\nreturn EvEmitter;\n\n}));\n","Redgiant_Berserk/js/jquery.bridget.js":"/**\n * Bridget makes jQuery widgets\n * v1.0.1\n */\n\n( function( window ) {\n\n'use strict';\n\n// -------------------------- utils -------------------------- //\n\nvar slice = Array.prototype.slice;\n\nfunction noop() {}\n\n// -------------------------- definition -------------------------- //\n\nfunction defineBridget( $ ) {\n\n// bail if no jQuery\nif ( !$ ) {\n  return;\n}\n\n// -------------------------- addOptionMethod -------------------------- //\n\n/**\n * adds option method -> $().plugin('option', {...})\n * @param {Function} PluginClass - constructor class\n */\nfunction addOptionMethod( PluginClass ) {\n  // don't overwrite original option method\n  if(typeof PluginClass === \"function\"){\n      if ( PluginClass.prototype.option ) {\n        return;\n      }\n\n      // option setter\n      PluginClass.prototype.option = function( opts ) {\n        // bail out if not an object\n        if ( !$.isPlainObject( opts ) ){\n          return;\n        }\n        this.options = $.extend( true, this.options, opts );\n      };\n  } else {\n      return;\n  }\n}\n\n\n// -------------------------- plugin bridge -------------------------- //\n\n// helper function for logging errors\n// $.error breaks jQuery chaining\nvar logError = typeof console === 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n/**\n * jQuery plugin bridge, access methods like $elem.plugin('method')\n * @param {String} namespace - plugin name\n * @param {Function} PluginClass - constructor class\n */\nfunction bridge( namespace, PluginClass ) {\n  // add to jQuery fn namespace\n  $.fn[ namespace ] = function( options ) {\n    if ( typeof options === 'string' ) {\n      // call plugin method when first argument is a string\n      // get arguments for method\n      var args = slice.call( arguments, 1 );\n\n      for ( var i=0, len = this.length; i < len; i++ ) {\n        var elem = this[i];\n        var instance = $.data( elem, namespace );\n        if ( !instance ) {\n          logError( \"cannot call methods on \" + namespace + \" prior to initialization; \" +\n            \"attempted to call '\" + options + \"'\" );\n          continue;\n        }\n        if ( !$.isFunction( instance[options] ) || options.charAt(0) === '_' ) {\n          logError( \"no such method '\" + options + \"' for \" + namespace + \" instance\" );\n          continue;\n        }\n\n        // trigger method with arguments\n        var returnValue = instance[ options ].apply( instance, args );\n\n        // break look and return first value if provided\n        if ( returnValue !== undefined ) {\n          return returnValue;\n        }\n      }\n      // return this if no return value\n      return this;\n    } else {\n      return this.each( function() {\n        var instance = $.data( this, namespace );\n        if ( instance ) {\n          // apply options & init\n          instance.option( options );\n          instance._init();\n        } else {\n          // initialize new instance\n          instance = new PluginClass( this, options );\n          $.data( this, namespace, instance );\n        }\n      });\n    }\n  };\n\n}\n\n// -------------------------- bridget -------------------------- //\n\n/**\n * converts a Prototypical class into a proper jQuery plugin\n *   the class must have a ._init method\n * @param {String} namespace - plugin name, used in $().pluginName\n * @param {Function} PluginClass - constructor class\n */\n$.bridget = function( namespace, PluginClass ) {\n  addOptionMethod( PluginClass );\n  bridge( namespace, PluginClass );\n};\n\nreturn $.bridget;\n\n}\n\n// transport\nif ( typeof define === 'function' && define.amd ) {\n  // AMD\n  define( [ 'jquery' ], defineBridget );\n} else {\n  // get jquery from browser global\n  defineBridget( window.jQuery );\n}\n\n})( window );\n","Redgiant_Berserk/js/packery.pkgd.js":"/*!\n * Packery PACKAGED v1.4.3\n * bin-packing layout library\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * http://packery.metafizzy.co\n * Copyright 2015 Metafizzy\n */\n\n/**\n * Bridget makes jQuery widgets\n * v1.1.0\n * MIT license\n */\n\n( function( window ) {\n\n\n\n// -------------------------- utils -------------------------- //\n\nvar slice = Array.prototype.slice;\n\nfunction noop() {}\n\n// -------------------------- definition -------------------------- //\n\nfunction defineBridget( $ ) {\n\n// bail if no jQuery\nif ( !$ ) {\n  return;\n}\n\n// -------------------------- addOptionMethod -------------------------- //\n\n/**\n * adds option method -> $().plugin('option', {...})\n * @param {Function} PluginClass - constructor class\n */\nfunction addOptionMethod( PluginClass ) {\n  // don't overwrite original option method\n  if ( PluginClass.prototype.option ) {\n    return;\n  }\n\n  // option setter\n  PluginClass.prototype.option = function( opts ) {\n    // bail out if not an object\n    if ( !$.isPlainObject( opts ) ){\n      return;\n    }\n    this.options = $.extend( true, this.options, opts );\n  };\n}\n\n// -------------------------- plugin bridge -------------------------- //\n\n// helper function for logging errors\n// $.error breaks jQuery chaining\nvar logError = typeof console === 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n/**\n * jQuery plugin bridge, access methods like $elem.plugin('method')\n * @param {String} namespace - plugin name\n * @param {Function} PluginClass - constructor class\n */\nfunction bridge( namespace, PluginClass ) {\n  // add to jQuery fn namespace\n  $.fn[ namespace ] = function( options ) {\n    if ( typeof options === 'string' ) {\n      // call plugin method when first argument is a string\n      // get arguments for method\n      var args = slice.call( arguments, 1 );\n\n      for ( var i=0, len = this.length; i < len; i++ ) {\n        var elem = this[i];\n        var instance = $.data( elem, namespace );\n        if ( !instance ) {\n          logError( \"cannot call methods on \" + namespace + \" prior to initialization; \" +\n            \"attempted to call '\" + options + \"'\" );\n          continue;\n        }\n        if ( !$.isFunction( instance[options] ) || options.charAt(0) === '_' ) {\n          logError( \"no such method '\" + options + \"' for \" + namespace + \" instance\" );\n          continue;\n        }\n\n        // trigger method with arguments\n        var returnValue = instance[ options ].apply( instance, args );\n\n        // break look and return first value if provided\n        if ( returnValue !== undefined ) {\n          return returnValue;\n        }\n      }\n      // return this if no return value\n      return this;\n    } else {\n      return this.each( function() {\n        var instance = $.data( this, namespace );\n        if ( instance ) {\n          // apply options & init\n          instance.option( options );\n          instance._init();\n        } else {\n          // initialize new instance\n          instance = new PluginClass( this, options );\n          $.data( this, namespace, instance );\n        }\n      });\n    }\n  };\n\n}\n\n// -------------------------- bridget -------------------------- //\n\n/**\n * converts a Prototypical class into a proper jQuery plugin\n *   the class must have a ._init method\n * @param {String} namespace - plugin name, used in $().pluginName\n * @param {Function} PluginClass - constructor class\n */\n$.bridget = function( namespace, PluginClass ) {\n  addOptionMethod( PluginClass );\n  bridge( namespace, PluginClass );\n};\n\nreturn $.bridget;\n\n}\n\n// transport\nif ( typeof define === 'function' && define.amd ) {\n  // AMD\n  define( 'jquery-bridget/jquery.bridget',[ 'jquery' ], defineBridget );\n} else if ( typeof exports === 'object' ) {\n  defineBridget( require('jquery') );\n} else {\n  // get jquery from browser global\n  defineBridget( window.jQuery );\n}\ndefineBridget( window.jQuery );\n})( window );\n\n/*!\n * classie v1.0.1\n * class helper functions\n * from bonzo https://github.com/ded/bonzo\n * MIT license\n * \n * classie.has( elem, 'my-class' ) -> true/false\n * classie.add( elem, 'my-new-class' )\n * classie.remove( elem, 'my-unwanted-class' )\n * classie.toggle( elem, 'my-class' )\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n/*global define: false, module: false */\n\n( function( window ) {\n\n\n\n// class helper functions from bonzo https://github.com/ded/bonzo\n\nfunction classReg( className ) {\n  return new RegExp(\"(^|\\\\s+)\" + className + \"(\\\\s+|$)\");\n}\n\n// classList support for class management\n// altho to be fair, the api sucks because it won't accept multiple classes at once\nvar hasClass, addClass, removeClass;\n\nif ( 'classList' in document.documentElement ) {\n  hasClass = function( elem, c ) {\n    return elem.classList.contains( c );\n  };\n  addClass = function( elem, c ) {\n    elem.classList.add( c );\n  };\n  removeClass = function( elem, c ) {\n    elem.classList.remove( c );\n  };\n}\nelse {\n  hasClass = function( elem, c ) {\n    return classReg( c ).test( elem.className );\n  };\n  addClass = function( elem, c ) {\n    if ( !hasClass( elem, c ) ) {\n      elem.className = elem.className + ' ' + c;\n    }\n  };\n  removeClass = function( elem, c ) {\n    elem.className = elem.className.replace( classReg( c ), ' ' );\n  };\n}\n\nfunction toggleClass( elem, c ) {\n  var fn = hasClass( elem, c ) ? removeClass : addClass;\n  fn( elem, c );\n}\n\nvar classie = {\n  // full names\n  hasClass: hasClass,\n  addClass: addClass,\n  removeClass: removeClass,\n  toggleClass: toggleClass,\n  // short names\n  has: hasClass,\n  add: addClass,\n  remove: removeClass,\n  toggle: toggleClass\n};\n\n// transport\nif ( typeof define === 'function' && define.amd ) {\n  // AMD\n  define( 'classie/classie',classie );\n} else if ( typeof exports === 'object' ) {\n  // CommonJS\n  module.exports = classie;\n} else {\n  // browser global\n  window.classie = classie;\n}\n\n})( window );\n\n/*!\n * getStyleProperty v1.0.4\n * original by kangax\n * http://perfectionkills.com/feature-testing-css-properties/\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true */\n/*global define: false, exports: false, module: false */\n\n( function( window ) {\n\n\n\nvar prefixes = 'Webkit Moz ms Ms O'.split(' ');\nvar docElemStyle = document.documentElement.style;\n\nfunction getStyleProperty( propName ) {\n  if ( !propName ) {\n    return;\n  }\n\n  // test standard property first\n  if ( typeof docElemStyle[ propName ] === 'string' ) {\n    return propName;\n  }\n\n  // capitalize\n  propName = propName.charAt(0).toUpperCase() + propName.slice(1);\n\n  // test vendor specific properties\n  var prefixed;\n  for ( var i=0, len = prefixes.length; i < len; i++ ) {\n    prefixed = prefixes[i] + propName;\n    if ( typeof docElemStyle[ prefixed ] === 'string' ) {\n      return prefixed;\n    }\n  }\n}\n\n// transport\nif ( typeof define === 'function' && define.amd ) {\n  // AMD\n  define( 'get-style-property/get-style-property',[],function() {\n    return getStyleProperty;\n  });\n} else if ( typeof exports === 'object' ) {\n  // CommonJS for Component\n  module.exports = getStyleProperty;\n} else {\n  // browser global\n  window.getStyleProperty = getStyleProperty;\n}\n\n})( window );\n\n/*!\n * getSize v1.2.2\n * measure size of elements\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n/*global define: false, exports: false, require: false, module: false, console: false */\n\n( function( window, undefined ) {\n\n\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') === -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console === 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0, len = measurements.length; i < len; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n\n\nfunction defineGetSize( getStyleProperty ) {\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar getStyle, boxSizingProp, isBoxSizeOuter;\n\n/**\n * setup vars and functions\n * do it on initial getSize(), rather than on script load\n * For Firefox bug https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  var getComputedStyle = window.getComputedStyle;\n  getStyle = ( function() {\n    var getStyleFn = getComputedStyle ?\n      function( elem ) {\n        return getComputedStyle( elem, null );\n      } :\n      function( elem ) {\n        return elem.currentStyle;\n      };\n\n      return function getStyle( elem ) {\n        var style = getStyleFn( elem );\n        if ( !style ) {\n          logError( 'Style returned ' + style +\n            '. Are you running this code in a hidden iframe on Firefox? ' +\n            'See http://bit.ly/getsizebug1' );\n        }\n        return style;\n      };\n  })();\n\n  // -------------------------- box sizing -------------------------- //\n\n  boxSizingProp = getStyleProperty('boxSizing');\n\n  /**\n   * WebKit measures the outer-width on style.width on border-box elems\n   * IE & Firefox measures the inner-width\n   */\n  if ( boxSizingProp ) {\n    var div = document.createElement('div');\n    div.style.width = '200px';\n    div.style.padding = '1px 2px 3px 4px';\n    div.style.borderStyle = 'solid';\n    div.style.borderWidth = '1px 2px 3px 4px';\n    div.style[ boxSizingProp ] = 'border-box';\n\n    var body = document.body || document.documentElement;\n    body.appendChild( div );\n    var style = getStyle( div );\n\n    isBoxSizeOuter = getStyleSize( style.width ) === 200;\n    body.removeChild( div );\n  }\n\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem === 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem !== 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display === 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = !!( boxSizingProp &&\n    style[ boxSizingProp ] && style[ boxSizingProp ] === 'border-box' );\n\n  // get all measurements\n  for ( var i=0, len = measurements.length; i < len; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    value = mungeNonPixel( elem, value );\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\n// IE8 returns percent values, not pixels\n// taken from jQuery's curCSS\nfunction mungeNonPixel( elem, value ) {\n  // IE8 and has percent value\n  if ( window.getComputedStyle || value.indexOf('%') === -1 ) {\n    return value;\n  }\n  var style = elem.style;\n  // Remember the original values\n  var left = style.left;\n  var rs = elem.runtimeStyle;\n  var rsLeft = rs && rs.left;\n\n  // Put in the new values to get a computed value out\n  if ( rsLeft ) {\n    rs.left = elem.currentStyle.left;\n  }\n  style.left = value;\n  value = style.pixelLeft;\n\n  // Revert the changed values\n  style.left = left;\n  if ( rsLeft ) {\n    rs.left = rsLeft;\n  }\n\n  return value;\n}\n\nreturn getSize;\n\n}\n\n// transport\nif ( typeof define === 'function' && define.amd ) {\n  // AMD for RequireJS\n  define( 'get-size/get-size',[ 'get-style-property/get-style-property' ], defineGetSize );\n} else if ( typeof exports === 'object' ) {\n  // CommonJS for Component\n  module.exports = defineGetSize( require('desandro-get-style-property') );\n} else {\n  // browser global\n  window.getSize = defineGetSize( window.getStyleProperty );\n}\n\n})( window );\n\n/*!\n * eventie v1.0.6\n * event binding helper\n *   eventie.bind( elem, 'click', myFn )\n *   eventie.unbind( elem, 'click', myFn )\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true */\n/*global define: false, module: false */\n\n( function( window ) {\n\n\n\nvar docElem = document.documentElement;\n\nvar bind = function() {};\n\nfunction getIEEvent( obj ) {\n  var event = window.event;\n  // add event.target\n  event.target = event.target || event.srcElement || obj;\n  return event;\n}\n\nif ( docElem.addEventListener ) {\n  bind = function( obj, type, fn ) {\n    obj.addEventListener( type, fn, false );\n  };\n} else if ( docElem.attachEvent ) {\n  bind = function( obj, type, fn ) {\n    obj[ type + fn ] = fn.handleEvent ?\n      function() {\n        var event = getIEEvent( obj );\n        fn.handleEvent.call( fn, event );\n      } :\n      function() {\n        var event = getIEEvent( obj );\n        fn.call( obj, event );\n      };\n    obj.attachEvent( \"on\" + type, obj[ type + fn ] );\n  };\n}\n\nvar unbind = function() {};\n\nif ( docElem.removeEventListener ) {\n  unbind = function( obj, type, fn ) {\n    obj.removeEventListener( type, fn, false );\n  };\n} else if ( docElem.detachEvent ) {\n  unbind = function( obj, type, fn ) {\n    obj.detachEvent( \"on\" + type, obj[ type + fn ] );\n    try {\n      delete obj[ type + fn ];\n    } catch ( err ) {\n      // can't delete window object properties\n      obj[ type + fn ] = undefined;\n    }\n  };\n}\n\nvar eventie = {\n  bind: bind,\n  unbind: unbind\n};\n\n// ----- module definition ----- //\n\nif ( typeof define === 'function' && define.amd ) {\n  // AMD\n  define( 'eventie/eventie',eventie );\n} else if ( typeof exports === 'object' ) {\n  // CommonJS\n  module.exports = eventie;\n} else {\n  // browser global\n  window.eventie = eventie;\n}\nwindow.eventie = eventie;\n})( window );\n\n/*!\n * EventEmitter v4.2.11 - git.io/ee\n * Unlicense - http://unlicense.org/\n * Oliver Caldwell - http://oli.me.uk/\n * @preserve\n */\n\n;(function () {\n    \n\n    /**\n     * Class for managing events.\n     * Can be extended to provide event functionality in other classes.\n     *\n     * @class EventEmitter Manages event registering and emitting.\n     */\n    function EventEmitter() {}\n\n    // Shortcuts to improve speed and size\n    var proto = EventEmitter.prototype;\n    var exports = this;\n    var originalGlobalValue = exports.EventEmitter;\n\n    /**\n     * Finds the index of the listener for the event in its storage array.\n     *\n     * @param {Function[]} listeners Array of listeners to search through.\n     * @param {Function} listener Method to look for.\n     * @return {Number} Index of the specified listener, -1 if not found\n     * @api private\n     */\n    function indexOfListener(listeners, listener) {\n        var i = listeners.length;\n        while (i--) {\n            if (listeners[i].listener === listener) {\n                return i;\n            }\n        }\n\n        return -1;\n    }\n\n    /**\n     * Alias a method while keeping the context correct, to allow for overwriting of target method.\n     *\n     * @param {String} name The name of the target method.\n     * @return {Function} The aliased method\n     * @api private\n     */\n    function alias(name) {\n        return function aliasClosure() {\n            return this[name].apply(this, arguments);\n        };\n    }\n\n    /**\n     * Returns the listener array for the specified event.\n     * Will initialise the event object and listener arrays if required.\n     * Will return an object if you use a regex search. The object contains keys for each matched event. So /ba[rz]/ might return an object containing bar and baz. But only if you have either defined them with defineEvent or added some listeners to them.\n     * Each property in the object response is an array of listener functions.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Function[]|Object} All listener functions for the event.\n     */\n    proto.getListeners = function getListeners(evt) {\n        var events = this._getEvents();\n        var response;\n        var key;\n\n        // Return a concatenated array of all matching events if\n        // the selector is a regular expression.\n        if (evt instanceof RegExp) {\n            response = {};\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    response[key] = events[key];\n                }\n            }\n        }\n        else {\n            response = events[evt] || (events[evt] = []);\n        }\n\n        return response;\n    };\n\n    /**\n     * Takes a list of listener objects and flattens it into a list of listener functions.\n     *\n     * @param {Object[]} listeners Raw listener objects.\n     * @return {Function[]} Just the listener functions.\n     */\n    proto.flattenListeners = function flattenListeners(listeners) {\n        var flatListeners = [];\n        var i;\n\n        for (i = 0; i < listeners.length; i += 1) {\n            flatListeners.push(listeners[i].listener);\n        }\n\n        return flatListeners;\n    };\n\n    /**\n     * Fetches the requested listeners via getListeners but will always return the results inside an object. This is mainly for internal use but others may find it useful.\n     *\n     * @param {String|RegExp} evt Name of the event to return the listeners from.\n     * @return {Object} All listener functions for an event in an object.\n     */\n    proto.getListenersAsObject = function getListenersAsObject(evt) {\n        var listeners = this.getListeners(evt);\n        var response;\n\n        if (listeners instanceof Array) {\n            response = {};\n            response[evt] = listeners;\n        }\n\n        return response || listeners;\n    };\n\n    /**\n     * Adds a listener function to the specified event.\n     * The listener will not be added if it is a duplicate.\n     * If the listener returns true then it will be removed after it is called.\n     * If you pass a regular expression as the event name then the listener will be added to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListener = function addListener(evt, listener) {\n        var listeners = this.getListenersAsObject(evt);\n        var listenerIsWrapped = typeof listener === 'object';\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key) && indexOfListener(listeners[key], listener) === -1) {\n                listeners[key].push(listenerIsWrapped ? listener : {\n                    listener: listener,\n                    once: false\n                });\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of addListener\n     */\n    proto.on = alias('addListener');\n\n    /**\n     * Semi-alias of addListener. It will add a listener that will be\n     * automatically removed after its first execution.\n     *\n     * @param {String|RegExp} evt Name of the event to attach the listener to.\n     * @param {Function} listener Method to be called when the event is emitted. If the function returns true then it will be removed after calling.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addOnceListener = function addOnceListener(evt, listener) {\n        return this.addListener(evt, {\n            listener: listener,\n            once: true\n        });\n    };\n\n    /**\n     * Alias of addOnceListener.\n     */\n    proto.once = alias('addOnceListener');\n\n    /**\n     * Defines an event name. This is required if you want to use a regex to add a listener to multiple events at once. If you don't do this then how do you expect it to know what event to add to? Should it just add to every possible match for a regex? No. That is scary and bad.\n     * You need to tell it what event names should be matched by a regex.\n     *\n     * @param {String} evt Name of the event to create.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvent = function defineEvent(evt) {\n        this.getListeners(evt);\n        return this;\n    };\n\n    /**\n     * Uses defineEvent to define multiple events.\n     *\n     * @param {String[]} evts An array of event names to define.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.defineEvents = function defineEvents(evts) {\n        for (var i = 0; i < evts.length; i += 1) {\n            this.defineEvent(evts[i]);\n        }\n        return this;\n    };\n\n    /**\n     * Removes a listener function from the specified event.\n     * When passed a regular expression as the event name, it will remove the listener from all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to remove the listener from.\n     * @param {Function} listener Method to remove from the event.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListener = function removeListener(evt, listener) {\n        var listeners = this.getListenersAsObject(evt);\n        var index;\n        var key;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key)) {\n                index = indexOfListener(listeners[key], listener);\n\n                if (index !== -1) {\n                    listeners[key].splice(index, 1);\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeListener\n     */\n    proto.off = alias('removeListener');\n\n    /**\n     * Adds listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the second argument you can add to multiple events at once. The object should contain key value pairs of events and listeners or listener arrays. You can also pass it an event name and an array of listeners to be added.\n     * You can also pass it a regular expression to add the array of listeners to all events that match it.\n     * Yeah, this function does quite a bit. That's probably a bad thing.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add to multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.addListeners = function addListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(false, evt, listeners);\n    };\n\n    /**\n     * Removes listeners in bulk using the manipulateListeners method.\n     * If you pass an object as the second argument you can remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be removed.\n     * You can also pass it a regular expression to remove the listeners from all events that match it.\n     *\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeListeners = function removeListeners(evt, listeners) {\n        // Pass through to manipulateListeners\n        return this.manipulateListeners(true, evt, listeners);\n    };\n\n    /**\n     * Edits listeners in bulk. The addListeners and removeListeners methods both use this to do their job. You should really use those instead, this is a little lower level.\n     * The first argument will determine if the listeners are removed (true) or added (false).\n     * If you pass an object as the second argument you can add/remove from multiple events at once. The object should contain key value pairs of events and listeners or listener arrays.\n     * You can also pass it an event name and an array of listeners to be added/removed.\n     * You can also pass it a regular expression to manipulate the listeners of all events that match it.\n     *\n     * @param {Boolean} remove True if you want to remove listeners, false if you want to add.\n     * @param {String|Object|RegExp} evt An event name if you will pass an array of listeners next. An object if you wish to add/remove from multiple events at once.\n     * @param {Function[]} [listeners] An optional array of listener functions to add/remove.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.manipulateListeners = function manipulateListeners(remove, evt, listeners) {\n        var i;\n        var value;\n        var single = remove ? this.removeListener : this.addListener;\n        var multiple = remove ? this.removeListeners : this.addListeners;\n\n        // If evt is an object then pass each of its properties to this method\n        if (typeof evt === 'object' && !(evt instanceof RegExp)) {\n            for (i in evt) {\n                if (evt.hasOwnProperty(i) && (value = evt[i])) {\n                    // Pass the single listener straight through to the singular method\n                    if (typeof value === 'function') {\n                        single.call(this, i, value);\n                    }\n                    else {\n                        // Otherwise pass back to the multiple function\n                        multiple.call(this, i, value);\n                    }\n                }\n            }\n        }\n        else {\n            // So evt must be a string\n            // And listeners must be an array of listeners\n            // Loop over it and pass each one to the multiple method\n            i = listeners.length;\n            while (i--) {\n                single.call(this, evt, listeners[i]);\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Removes all listeners from a specified event.\n     * If you do not specify an event then all listeners will be removed.\n     * That means every event will be emptied.\n     * You can also pass a regex to remove all events that match it.\n     *\n     * @param {String|RegExp} [evt] Optional name of the event to remove all listeners for. Will remove from every event if not passed.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.removeEvent = function removeEvent(evt) {\n        var type = typeof evt;\n        var events = this._getEvents();\n        var key;\n\n        // Remove different things depending on the state of evt\n        if (type === 'string') {\n            // Remove all listeners for the specified event\n            delete events[evt];\n        }\n        else if (evt instanceof RegExp) {\n            // Remove all events matching the regex.\n            for (key in events) {\n                if (events.hasOwnProperty(key) && evt.test(key)) {\n                    delete events[key];\n                }\n            }\n        }\n        else {\n            // Remove all listeners in all events\n            delete this._events;\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of removeEvent.\n     *\n     * Added to mirror the node API.\n     */\n    proto.removeAllListeners = alias('removeEvent');\n\n    /**\n     * Emits an event of your choice.\n     * When emitted, every listener attached to that event will be executed.\n     * If you pass the optional argument array then those arguments will be passed to every listener upon execution.\n     * Because it uses `apply`, your array of arguments will be passed as if you wrote them out separately.\n     * So they will not arrive within the array on the other side, they will be separate.\n     * You can also pass a regular expression to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {Array} [args] Optional array of arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emitEvent = function emitEvent(evt, args) {\n        var listeners = this.getListenersAsObject(evt);\n        var listener;\n        var i;\n        var key;\n        var response;\n\n        for (key in listeners) {\n            if (listeners.hasOwnProperty(key)) {\n                i = listeners[key].length;\n\n                while (i--) {\n                    // If the listener returns true then it shall be removed from the event\n                    // The function is executed either with a basic call or an apply if there is an args array\n                    listener = listeners[key][i];\n\n                    if (listener.once === true) {\n                        this.removeListener(evt, listener.listener);\n                    }\n\n                    response = listener.listener.apply(this, args || []);\n\n                    if (response === this._getOnceReturnValue()) {\n                        this.removeListener(evt, listener.listener);\n                    }\n                }\n            }\n        }\n\n        return this;\n    };\n\n    /**\n     * Alias of emitEvent\n     */\n    proto.trigger = alias('emitEvent');\n\n    /**\n     * Subtly different from emitEvent in that it will pass its arguments on to the listeners, as opposed to taking a single array of arguments to pass on.\n     * As with emitEvent, you can pass a regex in place of the event name to emit to all events that match it.\n     *\n     * @param {String|RegExp} evt Name of the event to emit and execute listeners for.\n     * @param {...*} Optional additional arguments to be passed to each listener.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.emit = function emit(evt) {\n        var args = Array.prototype.slice.call(arguments, 1);\n        return this.emitEvent(evt, args);\n    };\n\n    /**\n     * Sets the current value to check against when executing listeners. If a\n     * listeners return value matches the one set here then it will be removed\n     * after execution. This value defaults to true.\n     *\n     * @param {*} value The new value to check for when executing listeners.\n     * @return {Object} Current instance of EventEmitter for chaining.\n     */\n    proto.setOnceReturnValue = function setOnceReturnValue(value) {\n        this._onceReturnValue = value;\n        return this;\n    };\n\n    /**\n     * Fetches the current value to check against when executing listeners. If\n     * the listeners return value matches this one then it should be removed\n     * automatically. It will return true by default.\n     *\n     * @return {*|Boolean} The current value to check for or the default, true.\n     * @api private\n     */\n    proto._getOnceReturnValue = function _getOnceReturnValue() {\n        if (this.hasOwnProperty('_onceReturnValue')) {\n            return this._onceReturnValue;\n        }\n        else {\n            return true;\n        }\n    };\n\n    /**\n     * Fetches the events object and creates one if required.\n     *\n     * @return {Object} The events storage object.\n     * @api private\n     */\n    proto._getEvents = function _getEvents() {\n        return this._events || (this._events = {});\n    };\n\n    /**\n     * Reverts the global {@link EventEmitter} to its previous value and returns a reference to this version.\n     *\n     * @return {Function} Non conflicting EventEmitter class.\n     */\n    EventEmitter.noConflict = function noConflict() {\n        exports.EventEmitter = originalGlobalValue;\n        return EventEmitter;\n    };\n\n    // Expose the class either via AMD, CommonJS or the global object\n    if (typeof define === 'function' && define.amd) {\n        define('eventEmitter/EventEmitter',[],function () {\n            return EventEmitter;\n        });\n    }\n    else if (typeof module === 'object' && module.exports){\n        module.exports = EventEmitter;\n    }\n    else {\n        exports.EventEmitter = EventEmitter;\n    }\n}.call(this));\n\n/*!\n * docReady v1.0.4\n * Cross browser DOMContentLoaded event emitter\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true*/\n/*global define: false, require: false, module: false */\n\n( function( window ) {\n\n\n\nvar document = window.document;\n// collection of functions to be triggered on ready\nvar queue = [];\n\nfunction docReady( fn ) {\n  // throw out non-functions\n  if ( typeof fn !== 'function' ) {\n    return;\n  }\n\n  if ( docReady.isReady ) {\n    // ready now, hit it\n    fn();\n  } else {\n    // queue function when ready\n    queue.push( fn );\n  }\n}\n\ndocReady.isReady = false;\n\n// triggered on various doc ready events\nfunction onReady( event ) {\n  // bail if already triggered or IE8 document is not ready just yet\n  var isIE8NotReady = event.type === 'readystatechange' && document.readyState !== 'complete';\n  if ( docReady.isReady || isIE8NotReady ) {\n    return;\n  }\n\n  trigger();\n}\n\nfunction trigger() {\n  docReady.isReady = true;\n  // process queue\n  for ( var i=0, len = queue.length; i < len; i++ ) {\n    var fn = queue[i];\n    fn();\n  }\n}\n\nfunction defineDocReady( eventie ) {\n  // trigger ready if page is ready\n  if ( document.readyState === 'complete' ) {\n    trigger();\n  } else {\n    // listen for events\n    window.eventie.bind( document, 'DOMContentLoaded', onReady );\n    window.eventie.bind( document, 'readystatechange', onReady );\n    window.eventie.bind( window, 'load', onReady );\n  }\n\n  return docReady;\n}\n\n// transport\nif ( typeof define === 'function' && define.amd ) {\n  // AMD\n  define( 'doc-ready/doc-ready',[ 'eventie/eventie' ], defineDocReady );\n} else if ( typeof exports === 'object' ) {\n  module.exports = defineDocReady( require('eventie') );\n} else {\n  // browser global\n  window.docReady = defineDocReady( window.eventie );\n}\n\n})( window );\n\n/**\n * matchesSelector v1.0.3\n * matchesSelector( element, '.selector' )\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n/*global define: false, module: false */\n\n( function( ElemProto ) {\n\n  \n\n  var matchesMethod = ( function() {\n    // check for the standard method name first\n    if ( ElemProto.matches ) {\n      return 'matches';\n    }\n    // check un-prefixed\n    if ( ElemProto.matchesSelector ) {\n      return 'matchesSelector';\n    }\n    // check vendor prefixes\n    var prefixes = [ 'webkit', 'moz', 'ms', 'o' ];\n\n    for ( var i=0, len = prefixes.length; i < len; i++ ) {\n      var prefix = prefixes[i];\n      var method = prefix + 'MatchesSelector';\n      if ( ElemProto[ method ] ) {\n        return method;\n      }\n    }\n  })();\n\n  // ----- match ----- //\n\n  function match( elem, selector ) {\n    return elem[ matchesMethod ]( selector );\n  }\n\n  // ----- appendToFragment ----- //\n\n  function checkParent( elem ) {\n    // not needed if already has parent\n    if ( elem.parentNode ) {\n      return;\n    }\n    var fragment = document.createDocumentFragment();\n    fragment.appendChild( elem );\n  }\n\n  // ----- query ----- //\n\n  // fall back to using QSA\n  // thx @jonathantneal https://gist.github.com/3062955\n  function query( elem, selector ) {\n    // append to fragment if no parent\n    checkParent( elem );\n\n    // match elem with all selected elems of parent\n    var elems = elem.parentNode.querySelectorAll( selector );\n    for ( var i=0, len = elems.length; i < len; i++ ) {\n      // return true if match\n      if ( elems[i] === elem ) {\n        return true;\n      }\n    }\n    // otherwise return false\n    return false;\n  }\n\n  // ----- matchChild ----- //\n\n  function matchChild( elem, selector ) {\n    checkParent( elem );\n    return match( elem, selector );\n  }\n\n  // ----- matchesSelector ----- //\n\n  var matchesSelector;\n\n  if ( matchesMethod ) {\n    // IE9 supports matchesSelector, but doesn't work on orphaned elems\n    // check for that\n    var div = document.createElement('div');\n    var supportsOrphans = match( div, 'div' );\n    matchesSelector = supportsOrphans ? match : matchChild;\n  } else {\n    matchesSelector = query;\n  }\n\n  // transport\n  if ( typeof define === 'function' && define.amd ) {\n    // AMD\n    define( 'matches-selector/matches-selector',[],function() {\n      return matchesSelector;\n    });\n  } else if ( typeof exports === 'object' ) {\n    module.exports = matchesSelector;\n  }\n  else {\n    // browser global\n    window.matchesSelector = matchesSelector;\n  }\n\n})( Element.prototype );\n\n/**\n * Fizzy UI utils v1.0.1\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  /*global define: false, module: false, require: false */\n  \n  // universal module definition\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'fizzy-ui-utils/utils',[\n      'doc-ready/doc-ready',\n      'matches-selector/matches-selector'\n    ], function( docReady, matchesSelector ) {\n      return factory( window, docReady, matchesSelector );\n    });\n  } else if ( typeof exports == 'object' ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('doc-ready'),\n      require('desandro-matches-selector')\n    );\n  } else {\n    // browser global\n    window.fizzyUIUtils = factory(\n      window,\n      window.docReady,\n      window.matchesSelector\n    );\n  }\n\n}( window, function factory( window, docReady, matchesSelector ) {\n\n\n\nvar utils = {};\n\n// ----- extend ----- //\n\n// extends objects\nutils.extend = function( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n};\n\n// ----- modulo ----- //\n\nutils.modulo = function( num, div ) {\n  return ( ( num % div ) + div ) % div;\n};\n\n// ----- isArray ----- //\n  \nvar objToString = Object.prototype.toString;\nutils.isArray = function( obj ) {\n  return objToString.call( obj ) == '[object Array]';\n};\n\n// ----- makeArray ----- //\n\n// turn element or nodeList into an array\nutils.makeArray = function( obj ) {\n  var ary = [];\n  if ( utils.isArray( obj ) ) {\n    // use object if already an array\n    ary = obj;\n  } else if ( obj && typeof obj.length == 'number' ) {\n    // convert nodeList to array\n    for ( var i=0, len = obj.length; i < len; i++ ) {\n      ary.push( obj[i] );\n    }\n  } else {\n    // array of single index\n    ary.push( obj );\n  }\n  return ary;\n};\n\n// ----- indexOf ----- //\n\n// index of helper cause IE8\nutils.indexOf = Array.prototype.indexOf ? function( ary, obj ) {\n    return ary.indexOf( obj );\n  } : function( ary, obj ) {\n    for ( var i=0, len = ary.length; i < len; i++ ) {\n      if ( ary[i] === obj ) {\n        return i;\n      }\n    }\n    return -1;\n  };\n\n// ----- removeFrom ----- //\n\nutils.removeFrom = function( ary, obj ) {\n  var index = utils.indexOf( ary, obj );\n  if ( index != -1 ) {\n    ary.splice( index, 1 );\n  }\n};\n\n// ----- isElement ----- //\n\n// http://stackoverflow.com/a/384380/182183\nutils.isElement = ( typeof HTMLElement == 'function' || typeof HTMLElement == 'object' ) ?\n  function isElementDOM2( obj ) {\n    return obj instanceof HTMLElement;\n  } :\n  function isElementQuirky( obj ) {\n    return obj && typeof obj == 'object' &&\n      obj.nodeType == 1 && typeof obj.nodeName == 'string';\n  };\n\n// ----- setText ----- //\n\nutils.setText = ( function() {\n  var setTextProperty;\n  function setText( elem, text ) {\n    // only check setTextProperty once\n    setTextProperty = setTextProperty || ( document.documentElement.textContent !== undefined ? 'textContent' : 'innerText' );\n    elem[ setTextProperty ] = text;\n  }\n  return setText;\n})();\n\n// ----- getParent ----- //\n\nutils.getParent = function( elem, selector ) {\n  while ( elem != document.body ) {\n    elem = elem.parentNode;\n    if ( matchesSelector( elem, selector ) ) {\n      return elem;\n    }\n  }\n};\n\n// ----- getQueryElement ----- //\n\n// use element as selector string\nutils.getQueryElement = function( elem ) {\n  if ( typeof elem == 'string' ) {\n    return document.querySelector( elem );\n  }\n  return elem;\n};\n\n// ----- handleEvent ----- //\n\n// enable .ontype to trigger from .addEventListener( elem, 'type' )\nutils.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// ----- filterFindElements ----- //\n\nutils.filterFindElements = function( elems, selector ) {\n  // make array of elems\n  elems = utils.makeArray( elems );\n  var ffElems = [];\n\n  for ( var i=0, len = elems.length; i < len; i++ ) {\n    var elem = elems[i];\n    // check that elem is an actual element\n    if ( !utils.isElement( elem ) ) {\n      continue;\n    }\n    // filter & find items if we have a selector\n    if ( selector ) {\n      // filter siblings\n      if ( matchesSelector( elem, selector ) ) {\n        ffElems.push( elem );\n      }\n      // find children\n      var childElems = elem.querySelectorAll( selector );\n      // concat childElems to filterFound array\n      for ( var j=0, jLen = childElems.length; j < jLen; j++ ) {\n        ffElems.push( childElems[j] );\n      }\n    } else {\n      ffElems.push( elem );\n    }\n  }\n\n  return ffElems;\n};\n\n// ----- debounceMethod ----- //\n\nutils.debounceMethod = function( _class, methodName, threshold ) {\n  // original method\n  var method = _class.prototype[ methodName ];\n  var timeoutName = methodName + 'Timeout';\n\n  _class.prototype[ methodName ] = function() {\n    var timeout = this[ timeoutName ];\n    if ( timeout ) {\n      clearTimeout( timeout );\n    }\n    var args = arguments;\n\n    var _this = this;\n    this[ timeoutName ] = setTimeout( function() {\n      method.apply( _this, args );\n      delete _this[ timeoutName ];\n    }, threshold || 100 );\n  };\n};\n\n// ----- htmlInit ----- //\n\n// http://jamesroberts.name/blog/2010/02/22/string-functions-for-javascript-trim-to-camel-case-to-dashed-and-to-underscore/\nutils.toDashed = function( str ) {\n  return str.replace( /(.)([A-Z])/g, function( match, $1, $2 ) {\n    return $1 + '-' + $2;\n  }).toLowerCase();\n};\n\nvar console = window.console;\n/**\n * allow user to initialize classes via .js-namespace class\n * htmlInit( Widget, 'widgetName' )\n * options are parsed from data-namespace-option attribute\n */\nutils.htmlInit = function( WidgetClass, namespace ) {\n  docReady( function() {\n    var dashedNamespace = utils.toDashed( namespace );\n    var elems = document.querySelectorAll( '.js-' + dashedNamespace );\n    var dataAttr = 'data-' + dashedNamespace + '-options';\n\n    for ( var i=0, len = elems.length; i < len; i++ ) {\n      var elem = elems[i];\n      var attr = elem.getAttribute( dataAttr );\n      var options;\n      try {\n        options = attr && JSON.parse( attr );\n      } catch ( error ) {\n        // log error, do not initialize\n        if ( console ) {\n          console.error( 'Error parsing ' + dataAttr + ' on ' +\n            elem.nodeName.toLowerCase() + ( elem.id ? '#' + elem.id : '' ) + ': ' +\n            error );\n        }\n        continue;\n      }\n      // initialize\n      var instance = new WidgetClass( elem, options );\n      // make available via $().data('layoutname')\n      var jQuery = window.jQuery;\n      if ( jQuery ) {\n        jQuery.data( elem, namespace, instance );\n      }\n    }\n  });\n};\n\n// -----  ----- //\n\nreturn utils;\n\n}));\n\n/**\n * Outlayer Item\n */\n\n( function( window, factory ) {\n  \n  // universal module definition\n  if ( typeof define === 'function' && define.amd ) {\n    // AMD\n    define( 'outlayer/item',[\n        'eventEmitter/EventEmitter',\n        'get-size/get-size',\n        'get-style-property/get-style-property',\n        'fizzy-ui-utils/utils'\n      ],\n      function( EventEmitter, getSize, getStyleProperty, utils ) {\n        return factory( window, EventEmitter, getSize, getStyleProperty, utils );\n      }\n    );\n  } else if (typeof exports === 'object') {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('wolfy87-eventemitter'),\n      require('get-size'),\n      require('desandro-get-style-property'),\n      require('fizzy-ui-utils')\n    );\n  } else {\n    // browser global\n    window.Outlayer = {};\n    window.Outlayer.Item = factory(\n      window,\n      window.EventEmitter,\n      window.getSize,\n      window.getStyleProperty,\n      window.fizzyUIUtils\n    );\n  }\n\n}( window, function factory( window, EventEmitter, getSize, getStyleProperty, utils ) {\n\n\n// ----- helpers ----- //\n\nvar getComputedStyle = window.getComputedStyle;\nvar getStyle = getComputedStyle ?\n  function( elem ) {\n    return getComputedStyle( elem, null );\n  } :\n  function( elem ) {\n    return elem.currentStyle;\n  };\n\n\nfunction isEmptyObj( obj ) {\n  for ( var prop in obj ) {\n    return false;\n  }\n  prop = null;\n  return true;\n}\n\n// -------------------------- CSS3 support -------------------------- //\n\nvar transitionProperty = getStyleProperty('transition');\nvar transformProperty = getStyleProperty('transform');\nvar supportsCSS3 = transitionProperty && transformProperty;\nvar is3d = !!getStyleProperty('perspective');\n\nvar transitionEndEvent = {\n  WebkitTransition: 'webkitTransitionEnd',\n  MozTransition: 'transitionend',\n  OTransition: 'otransitionend',\n  transition: 'transitionend'\n}[ transitionProperty ];\n\n// properties that could have vendor prefix\nvar prefixableProperties = [\n  'transform',\n  'transition',\n  'transitionDuration',\n  'transitionProperty'\n];\n\n// cache all vendor properties\nvar vendorProperties = ( function() {\n  var cache = {};\n  for ( var i=0, len = prefixableProperties.length; i < len; i++ ) {\n    var prop = prefixableProperties[i];\n    var supportedProp = getStyleProperty( prop );\n    if ( supportedProp && supportedProp !== prop ) {\n      cache[ prop ] = supportedProp;\n    }\n  }\n  return cache;\n})();\n\n// -------------------------- Item -------------------------- //\n\nfunction Item( element, layout ) {\n  if ( !element ) {\n    return;\n  }\n\n  this.element = element;\n  // parent layout class, i.e. Masonry, Isotope, or Packery\n  this.layout = layout;\n  this.position = {\n    x: 0,\n    y: 0\n  };\n\n  this._create();\n}\n\n// inherit EventEmitter\nutils.extend( Item.prototype, EventEmitter.prototype );\n\nItem.prototype._create = function() {\n  // transition objects\n  this._transn = {\n    ingProperties: {},\n    clean: {},\n    onEnd: {}\n  };\n\n  this.css({\n    position: 'absolute'\n  });\n};\n\n// trigger specified handler for event type\nItem.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nItem.prototype.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * apply CSS styles to element\n * @param {Object} style\n */\nItem.prototype.css = function( style ) {\n  var elemStyle = this.element.style;\n\n  for ( var prop in style ) {\n    // use vendor property if available\n    var supportedProp = vendorProperties[ prop ] || prop;\n    elemStyle[ supportedProp ] = style[ prop ];\n  }\n};\n\n // measure position, and sets it\nItem.prototype.getPosition = function() {\n  var style = getStyle( this.element );\n  var layoutOptions = this.layout.options;\n  var isOriginLeft = layoutOptions.isOriginLeft;\n  var isOriginTop = layoutOptions.isOriginTop;\n  var xValue = style[ isOriginLeft ? 'left' : 'right' ];\n  var yValue = style[ isOriginTop ? 'top' : 'bottom' ];\n  // convert percent to pixels\n  var layoutSize = this.layout.size;\n  var x = xValue.indexOf('%') != -1 ?\n    ( parseFloat( xValue ) / 100 ) * layoutSize.width : parseInt( xValue, 10 );\n  var y = yValue.indexOf('%') != -1 ?\n    ( parseFloat( yValue ) / 100 ) * layoutSize.height : parseInt( yValue, 10 );\n\n  // clean up 'auto' or other non-integer values\n  x = isNaN( x ) ? 0 : x;\n  y = isNaN( y ) ? 0 : y;\n  // remove padding from measurement\n  x -= isOriginLeft ? layoutSize.paddingLeft : layoutSize.paddingRight;\n  y -= isOriginTop ? layoutSize.paddingTop : layoutSize.paddingBottom;\n\n  this.position.x = x;\n  this.position.y = y;\n};\n\n// set settled position, apply padding\nItem.prototype.layoutPosition = function() {\n  var layoutSize = this.layout.size;\n  var layoutOptions = this.layout.options;\n  var style = {};\n\n  // x\n  var xPadding = layoutOptions.isOriginLeft ? 'paddingLeft' : 'paddingRight';\n  var xProperty = layoutOptions.isOriginLeft ? 'left' : 'right';\n  var xResetProperty = layoutOptions.isOriginLeft ? 'right' : 'left';\n\n  var x = this.position.x + layoutSize[ xPadding ];\n  // set in percentage or pixels\n  style[ xProperty ] = this.getXValue( x );\n  // reset other property\n  style[ xResetProperty ] = '';\n\n  // y\n  var yPadding = layoutOptions.isOriginTop ? 'paddingTop' : 'paddingBottom';\n  var yProperty = layoutOptions.isOriginTop ? 'top' : 'bottom';\n  var yResetProperty = layoutOptions.isOriginTop ? 'bottom' : 'top';\n\n  var y = this.position.y + layoutSize[ yPadding ];\n  // set in percentage or pixels\n  style[ yProperty ] = this.getYValue( y );\n  // reset other property\n  style[ yResetProperty ] = '';\n\n  this.css( style );\n  this.emitEvent( 'layout', [ this ] );\n};\n\nItem.prototype.getXValue = function( x ) {\n  var layoutOptions = this.layout.options;\n  return layoutOptions.percentPosition && !layoutOptions.isHorizontal ?\n    ( ( x / this.layout.size.width ) * 100 ) + '%' : x + 'px';\n};\n\nItem.prototype.getYValue = function( y ) {\n  var layoutOptions = this.layout.options;\n  return layoutOptions.percentPosition && layoutOptions.isHorizontal ?\n    ( ( y / this.layout.size.height ) * 100 ) + '%' : y + 'px';\n};\n\n\nItem.prototype._transitionTo = function( x, y ) {\n  this.getPosition();\n  // get current x & y from top/left\n  var curX = this.position.x;\n  var curY = this.position.y;\n\n  var compareX = parseInt( x, 10 );\n  var compareY = parseInt( y, 10 );\n  var didNotMove = compareX === this.position.x && compareY === this.position.y;\n\n  // save end position\n  this.setPosition( x, y );\n\n  // if did not move and not transitioning, just go to layout\n  if ( didNotMove && !this.isTransitioning ) {\n    this.layoutPosition();\n    return;\n  }\n\n  var transX = x - curX;\n  var transY = y - curY;\n  var transitionStyle = {};\n  transitionStyle.transform = this.getTranslate( transX, transY );\n\n  this.transition({\n    to: transitionStyle,\n    onTransitionEnd: {\n      transform: this.layoutPosition\n    },\n    isCleaning: true\n  });\n};\n\nItem.prototype.getTranslate = function( x, y ) {\n  // flip cooridinates if origin on right or bottom\n  var layoutOptions = this.layout.options;\n  x = layoutOptions.isOriginLeft ? x : -x;\n  y = layoutOptions.isOriginTop ? y : -y;\n\n  if ( is3d ) {\n    return 'translate3d(' + x + 'px, ' + y + 'px, 0)';\n  }\n\n  return 'translate(' + x + 'px, ' + y + 'px)';\n};\n\n// non transition + transform support\nItem.prototype.goTo = function( x, y ) {\n  this.setPosition( x, y );\n  this.layoutPosition();\n};\n\n// use transition and transforms if supported\nItem.prototype.moveTo = supportsCSS3 ?\n  Item.prototype._transitionTo : Item.prototype.goTo;\n\nItem.prototype.setPosition = function( x, y ) {\n  this.position.x = parseInt( x, 10 );\n  this.position.y = parseInt( y, 10 );\n};\n\n// ----- transition ----- //\n\n/**\n * @param {Object} style - CSS\n * @param {Function} onTransitionEnd\n */\n\n// non transition, just trigger callback\nItem.prototype._nonTransition = function( args ) {\n  this.css( args.to );\n  if ( args.isCleaning ) {\n    this._removeStyles( args.to );\n  }\n  for ( var prop in args.onTransitionEnd ) {\n    args.onTransitionEnd[ prop ].call( this );\n  }\n};\n\n/**\n * proper transition\n * @param {Object} args - arguments\n *   @param {Object} to - style to transition to\n *   @param {Object} from - style to start transition from\n *   @param {Boolean} isCleaning - removes transition styles after transition\n *   @param {Function} onTransitionEnd - callback\n */\nItem.prototype._transition = function( args ) {\n  // redirect to nonTransition if no transition duration\n  if ( !parseFloat( this.layout.options.transitionDuration ) ) {\n    this._nonTransition( args );\n    return;\n  }\n\n  var _transition = this._transn;\n  // keep track of onTransitionEnd callback by css property\n  for ( var prop in args.onTransitionEnd ) {\n    _transition.onEnd[ prop ] = args.onTransitionEnd[ prop ];\n  }\n  // keep track of properties that are transitioning\n  for ( prop in args.to ) {\n    _transition.ingProperties[ prop ] = true;\n    // keep track of properties to clean up when transition is done\n    if ( args.isCleaning ) {\n      _transition.clean[ prop ] = true;\n    }\n  }\n\n  // set from styles\n  if ( args.from ) {\n    this.css( args.from );\n    // force redraw. http://blog.alexmaccaw.com/css-transitions\n    var h = this.element.offsetHeight;\n    // hack for JSHint to hush about unused var\n    h = null;\n  }\n  // enable transition\n  this.enableTransition( args.to );\n  // set styles that are transitioning\n  this.css( args.to );\n\n  this.isTransitioning = true;\n\n};\n\n// dash before all cap letters, including first for\n// WebkitTransform => -webkit-transform\nfunction toDashedAll( str ) {\n  return str.replace( /([A-Z])/g, function( $1 ) {\n    return '-' + $1.toLowerCase();\n  });\n}\n\nvar transitionProps = 'opacity,' +\n  toDashedAll( vendorProperties.transform || 'transform' );\n\nItem.prototype.enableTransition = function(/* style */) {\n  // HACK changing transitionProperty during a transition\n  // will cause transition to jump\n  if ( this.isTransitioning ) {\n    return;\n  }\n\n  // make `transition: foo, bar, baz` from style object\n  // HACK un-comment this when enableTransition can work\n  // while a transition is happening\n  // var transitionValues = [];\n  // for ( var prop in style ) {\n  //   // dash-ify camelCased properties like WebkitTransition\n  //   prop = vendorProperties[ prop ] || prop;\n  //   transitionValues.push( toDashedAll( prop ) );\n  // }\n  // enable transition styles\n  this.css({\n    transitionProperty: transitionProps,\n    transitionDuration: this.layout.options.transitionDuration\n  });\n  // listen for transition end event\n  this.element.addEventListener( transitionEndEvent, this, false );\n};\n\nItem.prototype.transition = Item.prototype[ transitionProperty ? '_transition' : '_nonTransition' ];\n\n// ----- events ----- //\n\nItem.prototype.onwebkitTransitionEnd = function( event ) {\n  this.ontransitionend( event );\n};\n\nItem.prototype.onotransitionend = function( event ) {\n  this.ontransitionend( event );\n};\n\n// properties that I munge to make my life easier\nvar dashedVendorProperties = {\n  '-webkit-transform': 'transform',\n  '-moz-transform': 'transform',\n  '-o-transform': 'transform'\n};\n\nItem.prototype.ontransitionend = function( event ) {\n  // disregard bubbled events from children\n  if ( event.target !== this.element ) {\n    return;\n  }\n  var _transition = this._transn;\n  // get property name of transitioned property, convert to prefix-free\n  var propertyName = dashedVendorProperties[ event.propertyName ] || event.propertyName;\n\n  // remove property that has completed transitioning\n  delete _transition.ingProperties[ propertyName ];\n  // check if any properties are still transitioning\n  if ( isEmptyObj( _transition.ingProperties ) ) {\n    // all properties have completed transitioning\n    this.disableTransition();\n  }\n  // clean style\n  if ( propertyName in _transition.clean ) {\n    // clean up style\n    this.element.style[ event.propertyName ] = '';\n    delete _transition.clean[ propertyName ];\n  }\n  // trigger onTransitionEnd callback\n  if ( propertyName in _transition.onEnd ) {\n    var onTransitionEnd = _transition.onEnd[ propertyName ];\n    onTransitionEnd.call( this );\n    delete _transition.onEnd[ propertyName ];\n  }\n\n  this.emitEvent( 'transitionEnd', [ this ] );\n};\n\nItem.prototype.disableTransition = function() {\n  this.removeTransitionStyles();\n  this.element.removeEventListener( transitionEndEvent, this, false );\n  this.isTransitioning = false;\n};\n\n/**\n * removes style property from element\n * @param {Object} style\n**/\nItem.prototype._removeStyles = function( style ) {\n  // clean up transition styles\n  var cleanStyle = {};\n  for ( var prop in style ) {\n    cleanStyle[ prop ] = '';\n  }\n  this.css( cleanStyle );\n};\n\nvar cleanTransitionStyle = {\n  transitionProperty: '',\n  transitionDuration: ''\n};\n\nItem.prototype.removeTransitionStyles = function() {\n  // remove transition\n  this.css( cleanTransitionStyle );\n};\n\n// ----- show/hide/remove ----- //\n\n// remove element from DOM\nItem.prototype.removeElem = function() {\n  this.element.parentNode.removeChild( this.element );\n  // remove display: none\n  this.css({ display: '' });\n  this.emitEvent( 'remove', [ this ] );\n};\n\nItem.prototype.remove = function() {\n  // just remove element if no transition support or no transition\n  if ( !transitionProperty || !parseFloat( this.layout.options.transitionDuration ) ) {\n    this.removeElem();\n    return;\n  }\n\n  // start transition\n  var _this = this;\n  this.once( 'transitionEnd', function() {\n    _this.removeElem();\n  });\n  this.hide();\n};\n\nItem.prototype.reveal = function() {\n  delete this.isHidden;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('visibleStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onRevealTransitionEnd;\n\n  this.transition({\n    from: options.hiddenStyle,\n    to: options.visibleStyle,\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nItem.prototype.onRevealTransitionEnd = function() {\n  // check if still visible\n  // during transition, item may have been hidden\n  if ( !this.isHidden ) {\n    this.emitEvent('reveal');\n  }\n};\n\n/**\n * get style property use for hide/reveal transition end\n * @param {String} styleProperty - hiddenStyle/visibleStyle\n * @returns {String}\n */\nItem.prototype.getHideRevealTransitionEndProperty = function( styleProperty ) {\n  var optionStyle = this.layout.options[ styleProperty ];\n  // use opacity\n  if ( optionStyle.opacity ) {\n    return 'opacity';\n  }\n  // get first property\n  for ( var prop in optionStyle ) {\n    return prop;\n  }\n};\n\nItem.prototype.hide = function() {\n  // set flag\n  this.isHidden = true;\n  // remove display: none\n  this.css({ display: '' });\n\n  var options = this.layout.options;\n\n  var onTransitionEnd = {};\n  var transitionEndProperty = this.getHideRevealTransitionEndProperty('hiddenStyle');\n  onTransitionEnd[ transitionEndProperty ] = this.onHideTransitionEnd;\n\n  this.transition({\n    from: options.visibleStyle,\n    to: options.hiddenStyle,\n    // keep hidden stuff hidden\n    isCleaning: true,\n    onTransitionEnd: onTransitionEnd\n  });\n};\n\nItem.prototype.onHideTransitionEnd = function() {\n  // check if still hidden\n  // during transition, item may have been un-hidden\n  if ( this.isHidden ) {\n    this.css({ display: 'none' });\n    this.emitEvent('hide');\n  }\n};\n\nItem.prototype.destroy = function() {\n  this.css({\n    position: '',\n    left: '',\n    right: '',\n    top: '',\n    bottom: '',\n    transition: '',\n    transform: ''\n  });\n};\n\nreturn Item;\n\n}));\n\n/*!\n * Outlayer v1.4.2\n * the brains and guts of a layout library\n * MIT license\n */\n\n( function( window, factory ) {\n  \n  // universal module definition\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'outlayer/outlayer',[\n        'eventie/eventie',\n        'eventEmitter/EventEmitter',\n        'get-size/get-size',\n        'fizzy-ui-utils/utils',\n        './item'\n      ],\n      function( eventie, EventEmitter, getSize, utils, Item ) {\n        return factory( window, eventie, EventEmitter, getSize, utils, Item);\n      }\n    );\n  } else if ( typeof exports == 'object' ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('eventie'),\n      require('wolfy87-eventemitter'),\n      require('get-size'),\n      require('fizzy-ui-utils'),\n      require('./item')\n    );\n  } else {\n    // browser global\n    window.Outlayer = factory(\n      window,\n      window.eventie,\n      window.EventEmitter,\n      window.getSize,\n      window.fizzyUIUtils,\n      window.Outlayer.Item\n    );\n  }\n\n}( window, function factory( window, eventie, EventEmitter, getSize, utils, Item ) {\n\n\n// ----- vars ----- //\n\nvar console = window.console;\nvar jQuery = window.jQuery;\nvar noop = function() {};\n\n// -------------------------- Outlayer -------------------------- //\n\n// globally unique identifiers\nvar GUID = 0;\n// internal store of all Outlayer intances\nvar instances = {};\n\n\n/**\n * @param {Element, String} element\n * @param {Object} options\n * @constructor\n */\nfunction Outlayer( element, options ) {\n  var queryElement = utils.getQueryElement( element );\n  if ( !queryElement ) {\n    if ( console ) {\n      console.error( 'Bad element for ' + this.constructor.namespace +\n        ': ' + ( queryElement || element ) );\n    }\n    return;\n  }\n  this.element = queryElement;\n  // add jQuery\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n\n  // options\n  this.options = utils.extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  // add id for Outlayer.getFromElement\n  var id = ++GUID;\n  this.element.outlayerGUID = id; // expando\n  instances[ id ] = this; // associate via id\n\n  // kick it off\n  this._create();\n\n  if ( this.options.isInitLayout ) {\n    this.layout();\n  }\n}\n\n// settings are for internal use only\nOutlayer.namespace = 'outlayer';\nOutlayer.Item = Item;\n\n// default options\nOutlayer.defaults = {\n  containerStyle: {\n    position: 'relative'\n  },\n  isInitLayout: true,\n  isOriginLeft: true,\n  isOriginTop: true,\n  isResizeBound: true,\n  isResizingContainer: true,\n  // item options\n  transitionDuration: '0.4s',\n  hiddenStyle: {\n    opacity: 0,\n    transform: 'scale(0.001)'\n  },\n  visibleStyle: {\n    opacity: 1,\n    transform: 'scale(1)'\n  }\n};\n\n// inherit EventEmitter\nutils.extend( Outlayer.prototype, EventEmitter.prototype );\n\n/**\n * set options\n * @param {Object} opts\n */\nOutlayer.prototype.option = function( opts ) {\n  utils.extend( this.options, opts );\n};\n\nOutlayer.prototype._create = function() {\n  // get items from children\n  this.reloadItems();\n  // elements that affect layout, but are not laid out\n  this.stamps = [];\n  this.stamp( this.options.stamp );\n  // set container style\n  utils.extend( this.element.style, this.options.containerStyle );\n\n  // bind resize method\n  if ( this.options.isResizeBound ) {\n    this.bindResize();\n  }\n};\n\n// goes through all children again and gets bricks in proper order\nOutlayer.prototype.reloadItems = function() {\n  // collection of item elements\n  this.items = this._itemize( this.element.children );\n};\n\n\n/**\n * turn elements into Outlayer.Items to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - collection of new Outlayer Items\n */\nOutlayer.prototype._itemize = function( elems ) {\n\n  var itemElems = this._filterFindItemElements( elems );\n  var Item = this.constructor.Item;\n\n  // create new Outlayer Items for collection\n  var items = [];\n  for ( var i=0, len = itemElems.length; i < len; i++ ) {\n    var elem = itemElems[i];\n    var item = new Item( elem, this );\n    items.push( item );\n  }\n\n  return items;\n};\n\n/**\n * get item elements to be used in layout\n * @param {Array or NodeList or HTMLElement} elems\n * @returns {Array} items - item elements\n */\nOutlayer.prototype._filterFindItemElements = function( elems ) {\n  return utils.filterFindElements( elems, this.options.itemSelector );\n};\n\n/**\n * getter method for getting item elements\n * @returns {Array} elems - collection of item elements\n */\nOutlayer.prototype.getItemElements = function() {\n  var elems = [];\n  for ( var i=0, len = this.items.length; i < len; i++ ) {\n    elems.push( this.items[i].element );\n  }\n  return elems;\n};\n\n// ----- init & layout ----- //\n\n/**\n * lays out all items\n */\nOutlayer.prototype.layout = function() {\n  this._resetLayout();\n  this._manageStamps();\n\n  // don't animate first layout\n  var isInstant = this.options.isLayoutInstant !== undefined ?\n    this.options.isLayoutInstant : !this._isLayoutInited;\n  this.layoutItems( this.items, isInstant );\n\n  // flag for initalized\n  this._isLayoutInited = true;\n};\n\n// _init is alias for layout\nOutlayer.prototype._init = Outlayer.prototype.layout;\n\n/**\n * logic before any new layout\n */\nOutlayer.prototype._resetLayout = function() {\n  this.getSize();\n};\n\n\nOutlayer.prototype.getSize = function() {\n  this.size = getSize( this.element );\n};\n\n/**\n * get measurement from option, for columnWidth, rowHeight, gutter\n * if option is String -> get element from selector string, & get size of element\n * if option is Element -> get size of element\n * else use option as a number\n *\n * @param {String} measurement\n * @param {String} size - width or height\n * @private\n */\nOutlayer.prototype._getMeasurement = function( measurement, size ) {\n  var option = this.options[ measurement ];\n  var elem;\n  if ( !option ) {\n    // default to 0\n    this[ measurement ] = 0;\n  } else {\n    // use option as an element\n    if ( typeof option === 'string' ) {\n      elem = this.element.querySelector( option );\n    } else if ( utils.isElement( option ) ) {\n      elem = option;\n    }\n    // use size of element, if element\n    this[ measurement ] = elem ? getSize( elem )[ size ] : option;\n  }\n};\n\n/**\n * layout a collection of item elements\n * @api public\n */\nOutlayer.prototype.layoutItems = function( items, isInstant ) {\n  items = this._getItemsForLayout( items );\n\n  this._layoutItems( items, isInstant );\n\n  this._postLayout();\n};\n\n/**\n * get the items to be laid out\n * you may want to skip over some items\n * @param {Array} items\n * @returns {Array} items\n */\nOutlayer.prototype._getItemsForLayout = function( items ) {\n  var layoutItems = [];\n  for ( var i=0, len = items.length; i < len; i++ ) {\n    var item = items[i];\n    if ( !item.isIgnored ) {\n      layoutItems.push( item );\n    }\n  }\n  return layoutItems;\n};\n\n/**\n * layout items\n * @param {Array} items\n * @param {Boolean} isInstant\n */\nOutlayer.prototype._layoutItems = function( items, isInstant ) {\n  this._emitCompleteOnItems( 'layout', items );\n\n  if ( !items || !items.length ) {\n    // no items, emit event with empty array\n    return;\n  }\n\n  var queue = [];\n\n  for ( var i=0, len = items.length; i < len; i++ ) {\n    var item = items[i];\n    // get x/y object from method\n    var position = this._getItemLayoutPosition( item );\n    // enqueue\n    position.item = item;\n    position.isInstant = isInstant || item.isLayoutInstant;\n    queue.push( position );\n  }\n\n  this._processLayoutQueue( queue );\n};\n\n/**\n * get item layout position\n * @param {Outlayer.Item} item\n * @returns {Object} x and y position\n */\nOutlayer.prototype._getItemLayoutPosition = function( /* item */ ) {\n  return {\n    x: 0,\n    y: 0\n  };\n};\n\n/**\n * iterate over array and position each item\n * Reason being - separating this logic prevents 'layout invalidation'\n * thx @paul_irish\n * @param {Array} queue\n */\nOutlayer.prototype._processLayoutQueue = function( queue ) {\n  for ( var i=0, len = queue.length; i < len; i++ ) {\n    var obj = queue[i];\n    this._positionItem( obj.item, obj.x, obj.y, obj.isInstant );\n  }\n};\n\n/**\n * Sets position of item in DOM\n * @param {Outlayer.Item} item\n * @param {Number} x - horizontal position\n * @param {Number} y - vertical position\n * @param {Boolean} isInstant - disables transitions\n */\nOutlayer.prototype._positionItem = function( item, x, y, isInstant ) {\n  if ( isInstant ) {\n    // if not transition, just set CSS\n    item.goTo( x, y );\n  } else {\n    item.moveTo( x, y );\n  }\n};\n\n/**\n * Any logic you want to do after each layout,\n * i.e. size the container\n */\nOutlayer.prototype._postLayout = function() {\n  this.resizeContainer();\n};\n\nOutlayer.prototype.resizeContainer = function() {\n  if ( !this.options.isResizingContainer ) {\n    return;\n  }\n  var size = this._getContainerSize();\n  if ( size ) {\n    this._setContainerMeasure( size.width, true );\n    this._setContainerMeasure( size.height, false );\n  }\n};\n\n/**\n * Sets width or height of container if returned\n * @returns {Object} size\n *   @param {Number} width\n *   @param {Number} height\n */\nOutlayer.prototype._getContainerSize = noop;\n\n/**\n * @param {Number} measure - size of width or height\n * @param {Boolean} isWidth\n */\nOutlayer.prototype._setContainerMeasure = function( measure, isWidth ) {\n  if ( measure === undefined ) {\n    return;\n  }\n\n  var elemSize = this.size;\n  // add padding and border width if border box\n  if ( elemSize.isBorderBox ) {\n    measure += isWidth ? elemSize.paddingLeft + elemSize.paddingRight +\n      elemSize.borderLeftWidth + elemSize.borderRightWidth :\n      elemSize.paddingBottom + elemSize.paddingTop +\n      elemSize.borderTopWidth + elemSize.borderBottomWidth;\n  }\n\n  measure = Math.max( measure, 0 );\n  this.element.style[ isWidth ? 'width' : 'height' ] = measure + 'px';\n};\n\n/**\n * emit eventComplete on a collection of items events\n * @param {String} eventName\n * @param {Array} items - Outlayer.Items\n */\nOutlayer.prototype._emitCompleteOnItems = function( eventName, items ) {\n  var _this = this;\n  function onComplete() {\n    _this.dispatchEvent( eventName + 'Complete', null, [ items ] );\n  }\n\n  var count = items.length;\n  if ( !items || !count ) {\n    onComplete();\n    return;\n  }\n\n  var doneCount = 0;\n  function tick() {\n    doneCount++;\n    if ( doneCount === count ) {\n      onComplete();\n    }\n  }\n\n  // bind callback\n  for ( var i=0, len = items.length; i < len; i++ ) {\n    var item = items[i];\n    item.once( eventName, tick );\n  }\n};\n\n/**\n * emits events via eventEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nOutlayer.prototype.dispatchEvent = function( type, event, args ) {\n  // add original event to arguments\n  var emitArgs = event ? [ event ].concat( args ) : args;\n  this.emitEvent( type, emitArgs );\n\n  if ( jQuery ) {\n    // set this.$element\n    this.$element = this.$element || jQuery( this.element );\n    if ( event ) {\n      // create jQuery event\n      var $event = jQuery.Event( event );\n      $event.type = type;\n      this.$element.trigger( $event, args );\n    } else {\n      // just trigger with type if no event available\n      this.$element.trigger( type, args );\n    }\n  }\n};\n\n// -------------------------- ignore & stamps -------------------------- //\n\n\n/**\n * keep item in collection, but do not lay it out\n * ignored items do not get skipped in layout\n * @param {Element} elem\n */\nOutlayer.prototype.ignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    item.isIgnored = true;\n  }\n};\n\n/**\n * return item to layout collection\n * @param {Element} elem\n */\nOutlayer.prototype.unignore = function( elem ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    delete item.isIgnored;\n  }\n};\n\n/**\n * adds elements to stamps\n * @param {NodeList, Array, Element, or String} elems\n */\nOutlayer.prototype.stamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ) {\n    return;\n  }\n\n  this.stamps = this.stamps.concat( elems );\n  // ignore\n  for ( var i=0, len = elems.length; i < len; i++ ) {\n    var elem = elems[i];\n    this.ignore( elem );\n  }\n};\n\n/**\n * removes elements to stamps\n * @param {NodeList, Array, or Element} elems\n */\nOutlayer.prototype.unstamp = function( elems ) {\n  elems = this._find( elems );\n  if ( !elems ){\n    return;\n  }\n\n  for ( var i=0, len = elems.length; i < len; i++ ) {\n    var elem = elems[i];\n    // filter out removed stamp elements\n    utils.removeFrom( this.stamps, elem );\n    this.unignore( elem );\n  }\n\n};\n\n/**\n * finds child elements\n * @param {NodeList, Array, Element, or String} elems\n * @returns {Array} elems\n */\nOutlayer.prototype._find = function( elems ) {\n  if ( !elems ) {\n    return;\n  }\n  // if string, use argument as selector string\n  if ( typeof elems === 'string' ) {\n    elems = this.element.querySelectorAll( elems );\n  }\n  elems = utils.makeArray( elems );\n  return elems;\n};\n\nOutlayer.prototype._manageStamps = function() {\n  if ( !this.stamps || !this.stamps.length ) {\n    return;\n  }\n\n  this._getBoundingRect();\n\n  for ( var i=0, len = this.stamps.length; i < len; i++ ) {\n    var stamp = this.stamps[i];\n    this._manageStamp( stamp );\n  }\n};\n\n// update boundingLeft / Top\nOutlayer.prototype._getBoundingRect = function() {\n  // get bounding rect for container element\n  var boundingRect = this.element.getBoundingClientRect();\n  var size = this.size;\n  this._boundingRect = {\n    left: boundingRect.left + size.paddingLeft + size.borderLeftWidth,\n    top: boundingRect.top + size.paddingTop + size.borderTopWidth,\n    right: boundingRect.right - ( size.paddingRight + size.borderRightWidth ),\n    bottom: boundingRect.bottom - ( size.paddingBottom + size.borderBottomWidth )\n  };\n};\n\n/**\n * @param {Element} stamp\n**/\nOutlayer.prototype._manageStamp = noop;\n\n/**\n * get x/y position of element relative to container element\n * @param {Element} elem\n * @returns {Object} offset - has left, top, right, bottom\n */\nOutlayer.prototype._getElementOffset = function( elem ) {\n  var boundingRect = elem.getBoundingClientRect();\n  var thisRect = this._boundingRect;\n  var size = getSize( elem );\n  var offset = {\n    left: boundingRect.left - thisRect.left - size.marginLeft,\n    top: boundingRect.top - thisRect.top - size.marginTop,\n    right: thisRect.right - boundingRect.right - size.marginRight,\n    bottom: thisRect.bottom - boundingRect.bottom - size.marginBottom\n  };\n  return offset;\n};\n\n// -------------------------- resize -------------------------- //\n\n// enable event handlers for listeners\n// i.e. resize -> onresize\nOutlayer.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n/**\n * Bind layout to window resizing\n */\nOutlayer.prototype.bindResize = function() {\n  // bind just one listener\n  if ( this.isResizeBound ) {\n    return;\n  }\n  window.eventie.bind( window, 'resize', this );\n  this.isResizeBound = true;\n};\n\n/**\n * Unbind layout to window resizing\n */\nOutlayer.prototype.unbindResize = function() {\n  if ( this.isResizeBound ) {\n    window.eventie.unbind( window, 'resize', this );\n  }\n  this.isResizeBound = false;\n};\n\n// original debounce by John Hann\n// http://unscriptable.com/index.php/2009/03/20/debouncing-javascript-methods/\n\n// this fires every resize\nOutlayer.prototype.onresize = function() {\n  if ( this.resizeTimeout ) {\n    clearTimeout( this.resizeTimeout );\n  }\n\n  var _this = this;\n  function delayed() {\n    _this.resize();\n    delete _this.resizeTimeout;\n  }\n\n  this.resizeTimeout = setTimeout( delayed, 100 );\n};\n\n// debounced, layout on resize\nOutlayer.prototype.resize = function() {\n  // don't trigger if size did not change\n  // or if resize was unbound. See #9\n  if ( !this.isResizeBound || !this.needsResizeLayout() ) {\n    return;\n  }\n\n  this.layout();\n};\n\n/**\n * check if layout is needed post layout\n * @returns Boolean\n */\nOutlayer.prototype.needsResizeLayout = function() {\n  var size = getSize( this.element );\n  // check that this.size and size are there\n  // IE8 triggers resize on body size change, so they might not be\n  var hasSizes = this.size && size;\n  return hasSizes && size.innerWidth !== this.size.innerWidth;\n};\n\n// -------------------------- methods -------------------------- //\n\n/**\n * add items to Outlayer instance\n * @param {Array or NodeList or Element} elems\n * @returns {Array} items - Outlayer.Items\n**/\nOutlayer.prototype.addItems = function( elems ) {\n  var items = this._itemize( elems );\n  // add items to collection\n  if ( items.length ) {\n    this.items = this.items.concat( items );\n  }\n  return items;\n};\n\n/**\n * Layout newly-appended item elements\n * @param {Array or NodeList or Element} elems\n */\nOutlayer.prototype.appended = function( elems ) {\n  var items = this.addItems( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // layout and reveal just the new items\n  this.layoutItems( items, true );\n  this.reveal( items );\n};\n\n/**\n * Layout prepended elements\n * @param {Array or NodeList or Element} elems\n */\nOutlayer.prototype.prepended = function( elems ) {\n  var items = this._itemize( elems );\n  if ( !items.length ) {\n    return;\n  }\n  // add items to beginning of collection\n  var previousItems = this.items.slice(0);\n  this.items = items.concat( previousItems );\n  // start new layout\n  this._resetLayout();\n  this._manageStamps();\n  // layout new stuff without transition\n  this.layoutItems( items, true );\n  this.reveal( items );\n  // layout previous items\n  this.layoutItems( previousItems );\n};\n\n/**\n * reveal a collection of items\n * @param {Array of Outlayer.Items} items\n */\nOutlayer.prototype.reveal = function( items ) {\n  this._emitCompleteOnItems( 'reveal', items );\n\n  var len = items && items.length;\n  for ( var i=0; len && i < len; i++ ) {\n    var item = items[i];\n    item.reveal();\n  }\n};\n\n/**\n * hide a collection of items\n * @param {Array of Outlayer.Items} items\n */\nOutlayer.prototype.hide = function( items ) {\n  this._emitCompleteOnItems( 'hide', items );\n\n  var len = items && items.length;\n  for ( var i=0; len && i < len; i++ ) {\n    var item = items[i];\n    item.hide();\n  }\n};\n\n/**\n * reveal item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nOutlayer.prototype.revealItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.reveal( items );\n};\n\n/**\n * hide item elements\n * @param {Array}, {Element}, {NodeList} items\n */\nOutlayer.prototype.hideItemElements = function( elems ) {\n  var items = this.getItems( elems );\n  this.hide( items );\n};\n\n/**\n * get Outlayer.Item, given an Element\n * @param {Element} elem\n * @param {Function} callback\n * @returns {Outlayer.Item} item\n */\nOutlayer.prototype.getItem = function( elem ) {\n  // loop through items to get the one that matches\n  for ( var i=0, len = this.items.length; i < len; i++ ) {\n    var item = this.items[i];\n    if ( item.element === elem ) {\n      // return item\n      return item;\n    }\n  }\n};\n\n/**\n * get collection of Outlayer.Items, given Elements\n * @param {Array} elems\n * @returns {Array} items - Outlayer.Items\n */\nOutlayer.prototype.getItems = function( elems ) {\n  elems = utils.makeArray( elems );\n  var items = [];\n  for ( var i=0, len = elems.length; i < len; i++ ) {\n    var elem = elems[i];\n    var item = this.getItem( elem );\n    if ( item ) {\n      items.push( item );\n    }\n  }\n\n  return items;\n};\n\n/**\n * remove element(s) from instance and DOM\n * @param {Array or NodeList or Element} elems\n */\nOutlayer.prototype.remove = function( elems ) {\n  var removeItems = this.getItems( elems );\n\n  this._emitCompleteOnItems( 'remove', removeItems );\n\n  // bail if no items to remove\n  if ( !removeItems || !removeItems.length ) {\n    return;\n  }\n\n  for ( var i=0, len = removeItems.length; i < len; i++ ) {\n    var item = removeItems[i];\n    item.remove();\n    // remove item from collection\n    utils.removeFrom( this.items, item );\n  }\n};\n\n// ----- destroy ----- //\n\n// remove and disable Outlayer instance\nOutlayer.prototype.destroy = function() {\n  // clean up dynamic styles\n  var style = this.element.style;\n  style.height = '';\n  style.position = '';\n  style.width = '';\n  // destroy items\n  for ( var i=0, len = this.items.length; i < len; i++ ) {\n    var item = this.items[i];\n    item.destroy();\n  }\n\n  this.unbindResize();\n\n  var id = this.element.outlayerGUID;\n  delete instances[ id ]; // remove reference to instance by id\n  delete this.element.outlayerGUID;\n  // remove data for jQuery\n  if ( jQuery ) {\n    jQuery.removeData( this.element, this.constructor.namespace );\n  }\n\n};\n\n// -------------------------- data -------------------------- //\n\n/**\n * get Outlayer instance from element\n * @param {Element} elem\n * @returns {Outlayer}\n */\nOutlayer.data = function( elem ) {\n  elem = utils.getQueryElement( elem );\n  var id = elem && elem.outlayerGUID;\n  return id && instances[ id ];\n};\n\n\n// -------------------------- create Outlayer class -------------------------- //\n\n/**\n * create a layout class\n * @param {String} namespace\n */\nOutlayer.create = function( namespace, options ) {\n  // sub-class Outlayer\n  function Layout() {\n    Outlayer.apply( this, arguments );\n  }\n  // inherit Outlayer prototype, use Object.create if there\n  if ( Object.create ) {\n    Layout.prototype = Object.create( Outlayer.prototype );\n  } else {\n    utils.extend( Layout.prototype, Outlayer.prototype );\n  }\n  // set contructor, used for namespace and Item\n  Layout.prototype.constructor = Layout;\n\n  Layout.defaults = utils.extend( {}, Outlayer.defaults );\n  // apply new options\n  utils.extend( Layout.defaults, options );\n  // keep prototype.settings for backwards compatibility (Packery v1.2.0)\n  Layout.prototype.settings = {};\n\n  Layout.namespace = namespace;\n\n  Layout.data = Outlayer.data;\n\n  // sub-class Item\n  Layout.Item = function LayoutItem() {\n    Item.apply( this, arguments );\n  };\n\n  Layout.Item.prototype = new Item();\n\n  // -------------------------- declarative -------------------------- //\n\n  utils.htmlInit( Layout, namespace );\n\n  // -------------------------- jQuery bridge -------------------------- //\n\n  // make into jQuery plugin\n  if ( jQuery && jQuery.bridget ) {\n    jQuery.bridget( namespace, Layout );\n  }\n\n  return Layout;\n};\n\n// ----- fin ----- //\n\n// back in global\nOutlayer.Item = Item;\n\nreturn Outlayer;\n\n}));\n\n\n/**\n * Rect\n * low-level utility class for basic geometry\n */\n\n( function( window, factory ) {\n  \n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'packery/js/rect',factory );\n  } else if ( typeof exports == 'object' ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.Packery = window.Packery || {};\n    window.Packery.Rect = factory();\n  }\n\n}( window, function factory() {\n\n\n// -------------------------- Packery -------------------------- //\n\n// global namespace\nvar Packery = window.Packery = function() {};\n\n// -------------------------- Rect -------------------------- //\n\nfunction Rect( props ) {\n  // extend properties from defaults\n  for ( var prop in Rect.defaults ) {\n    this[ prop ] = Rect.defaults[ prop ];\n  }\n\n  for ( prop in props ) {\n    this[ prop ] = props[ prop ];\n  }\n\n}\n\n// make available\nPackery.Rect = Rect;\n\nRect.defaults = {\n  x: 0,\n  y: 0,\n  width: 0,\n  height: 0\n};\n\n/**\n * Determines whether or not this rectangle wholly encloses another rectangle or point.\n * @param {Rect} rect\n * @returns {Boolean}\n**/\nRect.prototype.contains = function( rect ) {\n  // points don't have width or height\n  var otherWidth = rect.width || 0;\n  var otherHeight = rect.height || 0;\n  return this.x <= rect.x &&\n    this.y <= rect.y &&\n    this.x + this.width >= rect.x + otherWidth &&\n    this.y + this.height >= rect.y + otherHeight;\n};\n\n/**\n * Determines whether or not the rectangle intersects with another.\n * @param {Rect} rect\n * @returns {Boolean}\n**/\nRect.prototype.overlaps = function( rect ) {\n  var thisRight = this.x + this.width;\n  var thisBottom = this.y + this.height;\n  var rectRight = rect.x + rect.width;\n  var rectBottom = rect.y + rect.height;\n\n  // http://stackoverflow.com/a/306332\n  return this.x < rectRight &&\n    thisRight > rect.x &&\n    this.y < rectBottom &&\n    thisBottom > rect.y;\n};\n\n/**\n * @param {Rect} rect - the overlapping rect\n * @returns {Array} freeRects - rects representing the area around the rect\n**/\nRect.prototype.getMaximalFreeRects = function( rect ) {\n\n  // if no intersection, return false\n  if ( !this.overlaps( rect ) ) {\n    return false;\n  }\n\n  var freeRects = [];\n  var freeRect;\n\n  var thisRight = this.x + this.width;\n  var thisBottom = this.y + this.height;\n  var rectRight = rect.x + rect.width;\n  var rectBottom = rect.y + rect.height;\n\n  // top\n  if ( this.y < rect.y ) {\n    freeRect = new Rect({\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: rect.y - this.y\n    });\n    freeRects.push( freeRect );\n  }\n\n  // right\n  if ( thisRight > rectRight ) {\n    freeRect = new Rect({\n      x: rectRight,\n      y: this.y,\n      width: thisRight - rectRight,\n      height: this.height\n    });\n    freeRects.push( freeRect );\n  }\n\n  // bottom\n  if ( thisBottom > rectBottom ) {\n    freeRect = new Rect({\n      x: this.x,\n      y: rectBottom,\n      width: this.width,\n      height: thisBottom - rectBottom\n    });\n    freeRects.push( freeRect );\n  }\n\n  // left\n  if ( this.x < rect.x ) {\n    freeRect = new Rect({\n      x: this.x,\n      y: this.y,\n      width: rect.x - this.x,\n      height: this.height\n    });\n    freeRects.push( freeRect );\n  }\n\n  return freeRects;\n};\n\nRect.prototype.canFit = function( rect ) {\n  return this.width >= rect.width && this.height >= rect.height;\n};\n\nreturn Rect;\n\n}));\n\n/**\n * Packer\n * bin-packing algorithm\n */\n\n( function( window, factory ) {\n  \n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'packery/js/packer',[ './rect' ], factory );\n  } else if ( typeof exports == 'object' ) {\n    // CommonJS\n    module.exports = factory(\n      require('./rect')\n    );\n  } else {\n    // browser global\n    var Packery = window.Packery = window.Packery || {};\n    Packery.Packer = factory( Packery.Rect );\n  }\n\n}( window, function factory( Rect ) {\n\n\n// -------------------------- Packer -------------------------- //\n\n/**\n * @param {Number} width\n * @param {Number} height\n * @param {String} sortDirection\n *   topLeft for vertical, leftTop for horizontal\n */\nfunction Packer( width, height, sortDirection ) {\n  this.width = width || 0;\n  this.height = height || 0;\n  this.sortDirection = sortDirection || 'downwardLeftToRight';\n\n  this.reset();\n}\n\nPacker.prototype.reset = function() {\n  this.spaces = [];\n  this.newSpaces = [];\n\n  var initialSpace = new Rect({\n    x: 0,\n    y: 0,\n    width: this.width,\n    height: this.height\n  });\n\n  this.spaces.push( initialSpace );\n  // set sorter\n  this.sorter = sorters[ this.sortDirection ] || sorters.downwardLeftToRight;\n};\n\n// change x and y of rect to fit with in Packer's available spaces\nPacker.prototype.pack = function( rect ) {\n  for ( var i=0, len = this.spaces.length; i < len; i++ ) {\n    var space = this.spaces[i];\n    if ( space.canFit( rect ) ) {\n      this.placeInSpace( rect, space );\n      break;\n    }\n  }\n};\n\nPacker.prototype.placeInSpace = function( rect, space ) {\n  // place rect in space\n  rect.x = space.x;\n  rect.y = space.y;\n\n  this.placed( rect );\n};\n\n// update spaces with placed rect\nPacker.prototype.placed = function( rect ) {\n  // update spaces\n  var revisedSpaces = [];\n  for ( var i=0, len = this.spaces.length; i < len; i++ ) {\n    var space = this.spaces[i];\n    var newSpaces = space.getMaximalFreeRects( rect );\n    // add either the original space or the new spaces to the revised spaces\n    if ( newSpaces ) {\n      revisedSpaces.push.apply( revisedSpaces, newSpaces );\n    } else {\n      revisedSpaces.push( space );\n    }\n  }\n\n  this.spaces = revisedSpaces;\n\n  this.mergeSortSpaces();\n};\n\nPacker.prototype.mergeSortSpaces = function() {\n  // remove redundant spaces\n  Packer.mergeRects( this.spaces );\n  this.spaces.sort( this.sorter );\n};\n\n// add a space back\nPacker.prototype.addSpace = function( rect ) {\n  this.spaces.push( rect );\n  this.mergeSortSpaces();\n};\n\n// -------------------------- utility functions -------------------------- //\n\n/**\n * Remove redundant rectangle from array of rectangles\n * @param {Array} rects: an array of Rects\n * @returns {Array} rects: an array of Rects\n**/\nPacker.mergeRects = function( rects ) {\n  for ( var i=0, len = rects.length; i < len; i++ ) {\n    var rect = rects[i];\n    // skip over this rect if it was already removed\n    if ( !rect ) {\n      continue;\n    }\n    // clone rects we're testing, remove this rect\n    var compareRects = rects.slice(0);\n    // do not compare with self\n    compareRects.splice( i, 1 );\n    // compare this rect with others\n    var removedCount = 0;\n    for ( var j=0, jLen = compareRects.length; j < jLen; j++ ) {\n      var compareRect = compareRects[j];\n      // if this rect contains another,\n      // remove that rect from test collection\n      var indexAdjust = i > j ? 0 : 1;\n      if ( rect.contains( compareRect ) ) {\n        // console.log( 'current test rects:' + testRects.length, testRects );\n        // console.log( i, j, indexAdjust, rect, compareRect );\n        rects.splice( j + indexAdjust - removedCount, 1 );\n        removedCount++;\n      }\n    }\n  }\n\n  return rects;\n};\n\n\n// -------------------------- sorters -------------------------- //\n\n// functions for sorting rects in order\nvar sorters = {\n  // top down, then left to right\n  downwardLeftToRight: function( a, b ) {\n    return a.y - b.y || a.x - b.x;\n  },\n  // left to right, then top down\n  rightwardTopToBottom: function( a, b ) {\n    return a.x - b.x || a.y - b.y;\n  }\n};\n\n\n// --------------------------  -------------------------- //\n\nreturn Packer;\n\n}));\n/**\n * Packery Item Element\n**/\n\n( function( window, factory ) {\n  \n  // universal module definition\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( 'packery/js/item',[\n        'get-style-property/get-style-property',\n        'outlayer/outlayer',\n        './rect'\n      ],\n      factory );\n  } else if ( typeof exports == 'object' ) {\n    // CommonJS\n    module.exports = factory(\n      require('desandro-get-style-property'),\n      require('outlayer'),\n      require('./rect')\n    );\n  } else {\n    // browser global\n    window.Packery.Item = factory(\n      window.getStyleProperty,\n      window.Outlayer,\n      window.Packery.Rect\n    );\n  }\n\n}( window, function factory( getStyleProperty, Outlayer, Rect ) {\n\n\n// -------------------------- Item -------------------------- //\n\nvar transformProperty = getStyleProperty('transform');\n\n// sub-class Item\nvar Item = function PackeryItem() {\n  Outlayer.Item.apply( this, arguments );\n};\n\nItem.prototype = new Outlayer.Item();\n\nvar protoCreate = Item.prototype._create;\nItem.prototype._create = function() {\n  // call default _create logic\n  protoCreate.call( this );\n  this.rect = new Rect();\n  // rect used for placing, in drag or Packery.fit()\n  this.placeRect = new Rect();\n};\n\n// -------------------------- drag -------------------------- //\n\nItem.prototype.dragStart = function() {\n  this.getPosition();\n  this.removeTransitionStyles();\n  // remove transform property from transition\n  if ( this.isTransitioning && transformProperty ) {\n    this.element.style[ transformProperty ] = 'none';\n  }\n  this.getSize();\n  // create place rect, used for position when dragged then dropped\n  // or when positioning\n  this.isPlacing = true;\n  this.needsPositioning = false;\n  this.positionPlaceRect( this.position.x, this.position.y );\n  this.isTransitioning = false;\n  this.didDrag = false;\n};\n\n/**\n * handle item when it is dragged\n * @param {Number} x - horizontal position of dragged item\n * @param {Number} y - vertical position of dragged item\n */\nItem.prototype.dragMove = function( x, y ) {\n  this.didDrag = true;\n  var packerySize = this.layout.size;\n  x -= packerySize.paddingLeft;\n  y -= packerySize.paddingTop;\n  this.positionPlaceRect( x, y );\n};\n\nItem.prototype.dragStop = function() {\n  this.getPosition();\n  var isDiffX = this.position.x != this.placeRect.x;\n  var isDiffY = this.position.y != this.placeRect.y;\n  // set post-drag positioning flag\n  this.needsPositioning = isDiffX || isDiffY;\n  // reset flag\n  this.didDrag = false;\n};\n\n// -------------------------- placing -------------------------- //\n\n/**\n * position a rect that will occupy space in the packer\n * @param {Number} x\n * @param {Number} y\n * @param {Boolean} isMaxYContained\n */\nItem.prototype.positionPlaceRect = function( x, y, isMaxYOpen ) {\n  this.placeRect.x = this.getPlaceRectCoord( x, true );\n  this.placeRect.y = this.getPlaceRectCoord( y, false, isMaxYOpen );\n};\n\n/**\n * get x/y coordinate for place rect\n * @param {Number} coord - x or y\n * @param {Boolean} isX\n * @param {Boolean} isMaxOpen - does not limit value to outer bound\n * @returns {Number} coord - processed x or y\n */\nItem.prototype.getPlaceRectCoord = function( coord, isX, isMaxOpen ) {\n  var measure = isX ? 'Width' : 'Height';\n  var size = this.size[ 'outer' + measure ];\n  var segment = this.layout[ isX ? 'columnWidth' : 'rowHeight' ];\n  var parentSize = this.layout.size[ 'inner' + measure ];\n\n  // additional parentSize calculations for Y\n  if ( !isX ) {\n    parentSize = Math.max( parentSize, this.layout.maxY );\n    // prevent gutter from bumping up height when non-vertical grid\n    if ( !this.layout.rowHeight ) {\n      parentSize -= this.layout.gutter;\n    }\n  }\n\n  var max;\n\n  if ( segment ) {\n    segment += this.layout.gutter;\n    // allow for last column to reach the edge\n    parentSize += isX ? this.layout.gutter : 0;\n    // snap to closest segment\n    coord = Math.round( coord / segment );\n    // contain to outer bound\n    // contain non-growing bound, allow growing bound to grow\n    var mathMethod;\n    if ( this.layout.options.isHorizontal ) {\n      mathMethod = !isX ? 'floor' : 'ceil';\n    } else {\n      mathMethod = isX ? 'floor' : 'ceil';\n    }\n    var maxSegments = Math[ mathMethod ]( parentSize / segment );\n    maxSegments -= Math.ceil( size / segment );\n    max = maxSegments;\n  } else {\n    max = parentSize - size;\n  }\n\n  coord = isMaxOpen ? coord : Math.min( coord, max );\n  coord *= segment || 1;\n\n  return Math.max( 0, coord );\n};\n\nItem.prototype.copyPlaceRectPosition = function() {\n  this.rect.x = this.placeRect.x;\n  this.rect.y = this.placeRect.y;\n};\n\n// -----  ----- //\n\n// remove element from DOM\nItem.prototype.removeElem = function() {\n  this.element.parentNode.removeChild( this.element );\n  // add space back to packer\n  this.layout.packer.addSpace( this.rect );\n  this.emitEvent( 'remove', [ this ] );\n};\n\n// -----  ----- //\n\nreturn Item;\n\n}));\n\n/*!\n * Packery v1.4.3\n * bin-packing layout library\n *\n * Licensed GPLv3 for open source use\n * or Flickity Commercial License for commercial use\n *\n * http://packery.metafizzy.co\n * Copyright 2015 Metafizzy\n */\n\n( function( window, factory ) {\n  \n  // universal module definition\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'classie/classie',\n        'get-size/get-size',\n        'outlayer/outlayer',\n        'packery/js/rect',\n        'packery/js/packer',\n        'packery/js/item'\n      ],\n      factory );\n  } else if ( typeof exports == 'object' ) {\n    // CommonJS\n    module.exports = factory(\n      require('desandro-classie'),\n      require('get-size'),\n      require('outlayer'),\n      require('./rect'),\n      require('./packer'),\n      require('./item')\n    );\n  } else {\n    // browser global\n    window.Packery = factory(\n      window.classie,\n      window.getSize,\n      window.Outlayer,\n      window.Packery.Rect,\n      window.Packery.Packer,\n      window.Packery.Item\n    );\n  }\n\n}( window, function factory( classie, getSize, Outlayer, Rect, Packer, Item ) {\n\n\n// ----- Rect ----- //\n\n// allow for pixel rounding errors IE8-IE11 & Firefox; #227\nRect.prototype.canFit = function( rect ) {\n  return this.width >= rect.width - 1 && this.height >= rect.height - 1;\n};\n\n// -------------------------- Packery -------------------------- //\n\n// create an Outlayer layout class\nvar Packery = Outlayer.create('packery');\nPackery.Item = Item;\n\nPackery.prototype._create = function() {\n  // call super\n  Outlayer.prototype._create.call( this );\n\n  // initial properties\n  this.packer = new Packer();\n\n  // Left over from v1.0\n  this.stamp( this.options.stamped );\n\n  // create drag handlers\n  var _this = this;\n  this.handleDraggabilly = {\n    dragStart: function() {\n      _this.itemDragStart( this.element );\n    },\n    dragMove: function() {\n      _this.itemDragMove( this.element, this.position.x, this.position.y );\n    },\n    dragEnd: function() {\n      _this.itemDragEnd( this.element );\n    }\n  };\n\n  this.handleUIDraggable = {\n    start: function handleUIDraggableStart( event, ui ) {\n      // HTML5 may trigger dragstart, dismiss HTML5 dragging\n      if ( !ui ) {\n        return;\n      }\n      _this.itemDragStart( event.currentTarget );\n    },\n    drag: function handleUIDraggableDrag( event, ui ) {\n      if ( !ui ) {\n        return;\n      }\n      _this.itemDragMove( event.currentTarget, ui.position.left, ui.position.top );\n    },\n    stop: function handleUIDraggableStop( event, ui ) {\n      if ( !ui ) {\n        return;\n      }\n      _this.itemDragEnd( event.currentTarget );\n    }\n  };\n\n};\n\n\n// ----- init & layout ----- //\n\n/**\n * logic before any new layout\n */\nPackery.prototype._resetLayout = function() {\n  this.getSize();\n\n  this._getMeasurements();\n\n  // reset packer\n  var packer = this.packer;\n  // packer settings, if horizontal or vertical\n  if ( this.options.isHorizontal ) {\n    packer.width = Number.POSITIVE_INFINITY;\n    packer.height = this.size.innerHeight + this.gutter;\n    packer.sortDirection = 'rightwardTopToBottom';\n  } else {\n    packer.width = this.size.innerWidth + this.gutter;\n    packer.height = Number.POSITIVE_INFINITY;\n    packer.sortDirection = 'downwardLeftToRight';\n  }\n\n  packer.reset();\n\n  // layout\n  this.maxY = 0;\n  this.maxX = 0;\n};\n\n/**\n * update columnWidth, rowHeight, & gutter\n * @private\n */\nPackery.prototype._getMeasurements = function() {\n  this._getMeasurement( 'columnWidth', 'width' );\n  this._getMeasurement( 'rowHeight', 'height' );\n  this._getMeasurement( 'gutter', 'width' );\n};\n\nPackery.prototype._getItemLayoutPosition = function( item ) {\n  this._packItem( item );\n  return item.rect;\n};\n\n\n/**\n * layout item in packer\n * @param {Packery.Item} item\n */\nPackery.prototype._packItem = function( item ) {\n  this._setRectSize( item.element, item.rect );\n  // pack the rect in the packer\n  this.packer.pack( item.rect );\n  this._setMaxXY( item.rect );\n};\n\n/**\n * set max X and Y value, for size of container\n * @param {Packery.Rect} rect\n * @private\n */\nPackery.prototype._setMaxXY = function( rect ) {\n  this.maxX = Math.max( rect.x + rect.width, this.maxX );\n  this.maxY = Math.max( rect.y + rect.height, this.maxY );\n};\n\n/**\n * set the width and height of a rect, applying columnWidth and rowHeight\n * @param {Element} elem\n * @param {Packery.Rect} rect\n */\nPackery.prototype._setRectSize = function( elem, rect ) {\n  var size = getSize( elem );\n  var w = size.outerWidth;\n  var h = size.outerHeight;\n  // size for columnWidth and rowHeight, if available\n  // only check if size is non-zero, #177\n  if ( w || h ) {\n    w = this._applyGridGutter( w, this.columnWidth );\n    h = this._applyGridGutter( h, this.rowHeight );\n  }\n  // rect must fit in packer\n  rect.width = Math.min( w, this.packer.width );\n  rect.height = Math.min( h, this.packer.height );\n};\n\n/**\n * fits item to columnWidth/rowHeight and adds gutter\n * @param {Number} measurement - item width or height\n * @param {Number} gridSize - columnWidth or rowHeight\n * @returns measurement\n */\nPackery.prototype._applyGridGutter = function( measurement, gridSize ) {\n  // just add gutter if no gridSize\n  if ( !gridSize ) {\n    return measurement + this.gutter;\n  }\n  gridSize += this.gutter;\n  // fit item to columnWidth/rowHeight\n  var remainder = measurement % gridSize;\n  var mathMethod = remainder && remainder < 1 ? 'round' : 'ceil';\n  measurement = Math[ mathMethod ]( measurement / gridSize ) * gridSize;\n  return measurement;\n};\n\nPackery.prototype._getContainerSize = function() {\n  if ( this.options.isHorizontal ) {\n    return {\n      width: this.maxX - this.gutter\n    };\n  } else {\n    return {\n      height: this.maxY - this.gutter\n    };\n  }\n};\n\n\n// -------------------------- stamp -------------------------- //\n\n/**\n * makes space for element\n * @param {Element} elem\n */\nPackery.prototype._manageStamp = function( elem ) {\n\n  var item = this.getItem( elem );\n  var rect;\n  if ( item && item.isPlacing ) {\n    rect = item.placeRect;\n  } else {\n    var offset = this._getElementOffset( elem );\n    rect = new Rect({\n      x: this.options.isOriginLeft ? offset.left : offset.right,\n      y: this.options.isOriginTop ? offset.top : offset.bottom\n    });\n  }\n\n  this._setRectSize( elem, rect );\n  // save its space in the packer\n  this.packer.placed( rect );\n  this._setMaxXY( rect );\n};\n\n// -------------------------- methods -------------------------- //\n\nfunction verticalSorter( a, b ) {\n  return a.position.y - b.position.y || a.position.x - b.position.x;\n}\n\nfunction horizontalSorter( a, b ) {\n  return a.position.x - b.position.x || a.position.y - b.position.y;\n}\n\nPackery.prototype.sortItemsByPosition = function() {\n  var sorter = this.options.isHorizontal ? horizontalSorter : verticalSorter;\n  this.items.sort( sorter );\n};\n\n/**\n * Fit item element in its current position\n * Packery will position elements around it\n * useful for expanding elements\n *\n * @param {Element} elem\n * @param {Number} x - horizontal destination position, optional\n * @param {Number} y - vertical destination position, optional\n */\nPackery.prototype.fit = function( elem, x, y ) {\n  var item = this.getItem( elem );\n  if ( !item ) {\n    return;\n  }\n\n  // prepare internal properties\n  this._getMeasurements();\n\n  // stamp item to get it out of layout\n  this.stamp( item.element );\n  // required for positionPlaceRect\n  item.getSize();\n  // set placing flag\n  item.isPlacing = true;\n  // fall back to current position for fitting\n  x = x === undefined ? item.rect.x: x;\n  y = y === undefined ? item.rect.y: y;\n\n  // position it best at its destination\n  item.positionPlaceRect( x, y, true );\n\n  this._bindFitEvents( item );\n  item.moveTo( item.placeRect.x, item.placeRect.y );\n  // layout everything else\n  this.layout();\n\n  // return back to regularly scheduled programming\n  this.unstamp( item.element );\n  this.sortItemsByPosition();\n  // un set placing flag, back to normal\n  item.isPlacing = false;\n  // copy place rect position\n  item.copyPlaceRectPosition();\n};\n\n/**\n * emit event when item is fit and other items are laid out\n * @param {Packery.Item} item\n * @private\n */\nPackery.prototype._bindFitEvents = function( item ) {\n  var _this = this;\n  var ticks = 0;\n  function tick() {\n    ticks++;\n    if ( ticks != 2 ) {\n      return;\n    }\n    _this.dispatchEvent( 'fitComplete', null, [ item ] );\n  }\n  // when item is laid out\n  item.on( 'layout', function() {\n    tick();\n    return true;\n  });\n  // when all items are laid out\n  this.on( 'layoutComplete', function() {\n    tick();\n    return true;\n  });\n};\n\n// -------------------------- resize -------------------------- //\n\n// debounced, layout on resize\nPackery.prototype.resize = function() {\n  // don't trigger if size did not change\n  var size = getSize( this.element );\n  // check that this.size and size are there\n  // IE8 triggers resize on body size change, so they might not be\n  var hasSizes = this.size && size;\n  var innerSize = this.options.isHorizontal ? 'innerHeight' : 'innerWidth';\n  if ( hasSizes && size[ innerSize ] == this.size[ innerSize ] ) {\n    return;\n  }\n\n  this.layout();\n};\n\n// -------------------------- drag -------------------------- //\n\n/**\n * handle an item drag start event\n * @param {Element} elem\n */\nPackery.prototype.itemDragStart = function( elem ) {\n  this.stamp( elem );\n  var item = this.getItem( elem );\n  if ( item ) {\n    item.dragStart();\n  }\n};\n\n/**\n * handle an item drag move event\n * @param {Element} elem\n * @param {Number} x - horizontal change in position\n * @param {Number} y - vertical change in position\n */\nPackery.prototype.itemDragMove = function( elem, x, y ) {\n  var item = this.getItem( elem );\n  if ( item ) {\n    item.dragMove( x, y );\n  }\n\n  // debounce\n  var _this = this;\n  // debounce triggering layout\n  function delayed() {\n    _this.layout();\n    delete _this.dragTimeout;\n  }\n\n  this.clearDragTimeout();\n\n  this.dragTimeout = setTimeout( delayed, 40 );\n};\n\nPackery.prototype.clearDragTimeout = function() {\n  if ( this.dragTimeout ) {\n    clearTimeout( this.dragTimeout );\n  }\n};\n\n/**\n * handle an item drag end event\n * @param {Element} elem\n */\nPackery.prototype.itemDragEnd = function( elem ) {\n  var item = this.getItem( elem );\n  var itemDidDrag;\n  if ( item ) {\n    itemDidDrag = item.didDrag;\n    item.dragStop();\n  }\n  // if elem didn't move, or if it doesn't need positioning\n  // unignore and unstamp and call it a day\n  if ( !item || ( !itemDidDrag && !item.needsPositioning ) ) {\n    this.unstamp( elem );\n    return;\n  }\n  // procced with dragged item\n\n  classie.add( item.element, 'is-positioning-post-drag' );\n\n  // save this var, as it could get reset in dragStart\n  var onLayoutComplete = this._getDragEndLayoutComplete( elem, item );\n\n  if ( item.needsPositioning ) {\n    item.on( 'layout', onLayoutComplete );\n    item.moveTo( item.placeRect.x, item.placeRect.y );\n  } else if ( item ) {\n    // item didn't need placement\n    item.copyPlaceRectPosition();\n  }\n\n  this.clearDragTimeout();\n  this.on( 'layoutComplete', onLayoutComplete );\n  this.layout();\n\n};\n\n/**\n * get drag end callback\n * @param {Element} elem\n * @param {Packery.Item} item\n * @returns {Function} onLayoutComplete\n */\nPackery.prototype._getDragEndLayoutComplete = function( elem, item ) {\n  var itemNeedsPositioning = item && item.needsPositioning;\n  var completeCount = 0;\n  var asyncCount = itemNeedsPositioning ? 2 : 1;\n  var _this = this;\n\n  return function onLayoutComplete() {\n    completeCount++;\n    // don't proceed if not complete\n    if ( completeCount != asyncCount ) {\n      return true;\n    }\n    // reset item\n    if ( item ) {\n      classie.remove( item.element, 'is-positioning-post-drag' );\n      item.isPlacing = false;\n      item.copyPlaceRectPosition();\n    }\n\n    _this.unstamp( elem );\n    // only sort when item moved\n    _this.sortItemsByPosition();\n\n    // emit item drag event now that everything is done\n    if ( itemNeedsPositioning ) {\n      _this.dispatchEvent( 'dragItemPositioned', null, [ item ] );\n    }\n    // listen once\n    return true;\n  };\n};\n\n/**\n * binds Draggabilly events\n * @param {Draggabilly} draggie\n */\nPackery.prototype.bindDraggabillyEvents = function( draggie ) {\n  draggie.on( 'dragStart', this.handleDraggabilly.dragStart );\n  draggie.on( 'dragMove', this.handleDraggabilly.dragMove );\n  draggie.on( 'dragEnd', this.handleDraggabilly.dragEnd );\n};\n\n/**\n * binds jQuery UI Draggable events\n * @param {jQuery} $elems\n */\nPackery.prototype.bindUIDraggableEvents = function( $elems ) {\n  $elems\n    .on( 'dragstart', this.handleUIDraggable.start )\n    .on( 'drag', this.handleUIDraggable.drag )\n    .on( 'dragstop', this.handleUIDraggable.stop );\n};\n\nPackery.Rect = Rect;\nPackery.Packer = Packer;\n\nreturn Packery;\n\n}));\n\n","Redgiant_Berserk/js/imagesloaded.js":"/*!\n * imagesLoaded PACKAGED v4.1.0\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n/**\n * EvEmitter v1.0.1\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( 'ev-emitter/ev-emitter',factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( this, function() {\n\n\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners array\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || [];\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var i = 0;\n  var listener = listeners[i];\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  while ( listener ) {\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n    // get next listener\n    i += isOnce ? 0 : 1;\n    listener = listeners[i];\n  }\n\n  return this;\n};\n\nreturn EvEmitter;\n\n}));\n\n/*!\n * imagesLoaded v4.1.0\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n( function( window, factory ) { 'use strict';\n  // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.imagesLoaded = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n})( window,\n\n// --------------------------  factory -------------------------- //\n\nfunction factory( window, EvEmitter ) {\n\n\n\nvar $ = window.jQuery;\nvar console = window.console;\n\n// -------------------------- helpers -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\n// turn element or nodeList into an array\nfunction makeArray( obj ) {\n  var ary = [];\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    ary = obj;\n  } else if ( typeof obj.length == 'number' ) {\n    // convert nodeList to array\n    for ( var i=0; i < obj.length; i++ ) {\n      ary.push( obj[i] );\n    }\n  } else {\n    // array of single index\n    ary.push( obj );\n  }\n  return ary;\n}\n\n// -------------------------- imagesLoaded -------------------------- //\n\n/**\n * @param {Array, Element, NodeList, String} elem\n * @param {Object or Function} options - if function, use as callback\n * @param {Function} onAlways - callback function\n */\nfunction ImagesLoaded( elem, options, onAlways ) {\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n  if ( !( this instanceof ImagesLoaded ) ) {\n    return new ImagesLoaded( elem, options, onAlways );\n  }\n  // use elem as selector string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelectorAll( elem );\n  }\n\n  this.elements = makeArray( elem );\n  this.options = extend( {}, this.options );\n\n  if ( typeof options == 'function' ) {\n    onAlways = options;\n  } else {\n    extend( this.options, options );\n  }\n\n  if ( onAlways ) {\n    this.on( 'always', onAlways );\n  }\n\n  this.getImages();\n\n  if ( $ ) {\n    // add jQuery Deferred object\n    this.jqDeferred = new $.Deferred();\n  }\n\n  // HACK check async to allow time to bind listeners\n  setTimeout( function() {\n    this.check();\n  }.bind( this ));\n}\n\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\n\nImagesLoaded.prototype.options = {};\n\nImagesLoaded.prototype.getImages = function() {\n  this.images = [];\n\n  // filter & find items if we have an item selector\n  this.elements.forEach( this.addElementImages, this );\n};\n\n/**\n * @param {Node} element\n */\nImagesLoaded.prototype.addElementImages = function( elem ) {\n  // filter siblings\n  if ( elem.nodeName == 'IMG' ) {\n    this.addImage( elem );\n  }\n  // get background image on element\n  if ( this.options.background === true ) {\n    this.addElementBackgroundImages( elem );\n  }\n\n  // find children\n  // no non-element nodes, #143\n  var nodeType = elem.nodeType;\n  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\n    return;\n  }\n  var childImgs = elem.querySelectorAll('img');\n  // concat childElems to filterFound array\n  for ( var i=0; i < childImgs.length; i++ ) {\n    var img = childImgs[i];\n    this.addImage( img );\n  }\n\n  // get child background images\n  if ( typeof this.options.background == 'string' ) {\n    var children = elem.querySelectorAll( this.options.background );\n    for ( i=0; i < children.length; i++ ) {\n      var child = children[i];\n      this.addElementBackgroundImages( child );\n    }\n  }\n};\n\nvar elementNodeTypes = {\n  1: true,\n  9: true,\n  11: true\n};\n\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n    return;\n  }\n  // get url inside url(\"...\")\n  var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n  var matches = reURL.exec( style.backgroundImage );\n  while ( matches !== null ) {\n    var url = matches && matches[2];\n    if ( url ) {\n      this.addBackground( url, elem );\n    }\n    matches = reURL.exec( style.backgroundImage );\n  }\n};\n\n/**\n * @param {Image} img\n */\nImagesLoaded.prototype.addImage = function( img ) {\n  var loadingImage = new LoadingImage( img );\n  this.images.push( loadingImage );\n};\n\nImagesLoaded.prototype.addBackground = function( url, elem ) {\n  var background = new Background( url, elem );\n  this.images.push( background );\n};\n\nImagesLoaded.prototype.check = function() {\n  var _this = this;\n  this.progressedCount = 0;\n  this.hasAnyBroken = false;\n  // complete if no images\n  if ( !this.images.length ) {\n    this.complete();\n    return;\n  }\n\n  function onProgress( image, elem, message ) {\n    // HACK - Chrome triggers event before object properties have changed. #83\n    setTimeout( function() {\n      _this.progress( image, elem, message );\n    });\n  }\n\n  this.images.forEach( function( loadingImage ) {\n    loadingImage.once( 'progress', onProgress );\n    loadingImage.check();\n  });\n};\n\nImagesLoaded.prototype.progress = function( image, elem, message ) {\n  this.progressedCount++;\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n  // progress event\n  this.emitEvent( 'progress', [ this, image, elem ] );\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\n    this.jqDeferred.notify( this, image );\n  }\n  // check if completed\n  if ( this.progressedCount == this.images.length ) {\n    this.complete();\n  }\n\n  if ( this.options.debug && console ) {\n    console.log( 'progress: ' + message, image, elem );\n  }\n};\n\nImagesLoaded.prototype.complete = function() {\n  var eventName = this.hasAnyBroken ? 'fail' : 'done';\n  this.isComplete = true;\n  this.emitEvent( eventName, [ this ] );\n  this.emitEvent( 'always', [ this ] );\n  if ( this.jqDeferred ) {\n    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n    this.jqDeferred[ jqMethod ]( this );\n  }\n};\n\n// --------------------------  -------------------------- //\n\nfunction LoadingImage( img ) {\n  this.img = img;\n}\n\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\n\nLoadingImage.prototype.check = function() {\n  // If complete is true and browser supports natural sizes,\n  // try to check for image status manually.\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    // report based on naturalWidth\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    return;\n  }\n\n  // If none of the checks above matched, simulate loading on detached element.\n  this.proxyImage = new Image();\n  this.proxyImage.addEventListener( 'load', this );\n  this.proxyImage.addEventListener( 'error', this );\n  // bind to image as well for Firefox. #191\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.proxyImage.src = this.img.src;\n};\n\nLoadingImage.prototype.getIsImageComplete = function() {\n  return this.img.complete && this.img.naturalWidth !== undefined;\n};\n\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.img, message ] );\n};\n\n// ----- events ----- //\n\n// trigger specified handler for event type\nLoadingImage.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nLoadingImage.prototype.onload = function() {\n  this.confirm( true, 'onload' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.onerror = function() {\n  this.confirm( false, 'onerror' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.unbindEvents = function() {\n  this.proxyImage.removeEventListener( 'load', this );\n  this.proxyImage.removeEventListener( 'error', this );\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\n// -------------------------- Background -------------------------- //\n\nfunction Background( url, element ) {\n  this.url = url;\n  this.element = element;\n  this.img = new Image();\n}\n\n// inherit LoadingImage prototype\nBackground.prototype = Object.create( LoadingImage.prototype );\n\nBackground.prototype.check = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.img.src = this.url;\n  // check if image is already complete\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    this.unbindEvents();\n  }\n};\n\nBackground.prototype.unbindEvents = function() {\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\nBackground.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.element, message ] );\n};\n\n// -------------------------- jQuery -------------------------- //\n\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\n  jQuery = jQuery || window.jQuery;\n  if ( !jQuery ) {\n    return;\n  }\n  // set local variable\n  $ = jQuery;\n  // $().imagesLoaded()\n  $.fn.imagesLoaded = function( options, callback ) {\n    var instance = new ImagesLoaded( this, options, callback );\n    return instance.jqDeferred.promise( $(this) );\n  };\n};\n// try making plugin\nImagesLoaded.makeJQueryPlugin();\n\n// --------------------------  -------------------------- //\n\nreturn ImagesLoaded;\n\n});\n","Magento_Persistent/js/view/remember-me.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @deprecated since version 2.2.0\n */\ndefine([\n    'ko',\n    'uiComponent'\n], function (ko, Component) {\n    'use strict';\n\n    var persistenceConfig = window.checkoutConfig.persistenceConfig;\n\n    return Component.extend({\n        defaults: {\n            template: 'Magento_Persistent/remember-me'\n        },\n        dataScope: 'global',\n        isRememberMeCheckboxVisible: ko.observable(persistenceConfig.isRememberMeCheckboxVisible),\n        isRememberMeCheckboxChecked: ko.observable(persistenceConfig.isRememberMeCheckboxChecked)\n    });\n});\n","Nwdthemes_Revslider/public/assets/js/jquery.themepunch.tools.min.js":"define(\"themepunchTools\",[],function(){var e=window.GreenSockGlobals;try{window.GreenSockGlobals=null,window._gsQueue=null,window._gsDefine=null,delete window.GreenSockGlobals,delete window._gsQueue,delete window._gsDefine}catch(e){}try{window.GreenSockGlobals=punchgsSandbox.oldgs,window._gsQueue=punchgsSandbox.oldgs_queue}catch(e){}return window.punchgs=e,e});","Nwdthemes_Revslider/public/assets/js/jquery.themepunch.revolution.min.js":"define(\"themepunchRevolution\",[\"jquery\",\"themepunchTools\"],function(jQuery,punchgs){\"use strict\";var version={core:\"5.4.8\",\"revolution.extensions.actions.min.js\":\"2.1.0\",\"revolution.extensions.carousel.min.js\":\"1.2.1\",\"revolution.extensions.kenburn.min.js\":\"1.3.1\",\"revolution.extensions.layeranimation.min.js\":\"3.6.5\",\"revolution.extensions.navigation.min.js\":\"1.3.5\",\"revolution.extensions.parallax.min.js\":\"2.2.3\",\"revolution.extensions.slideanims.min.js\":\"1.8\",\"revolution.extensions.video.min.js\":\"2.2.2\"};jQuery.fn.extend({revolution:function(t){var e={delay:9e3,responsiveLevels:4064,visibilityLevels:[2048,1024,778,480],gridwidth:960,gridheight:500,minHeight:0,autoHeight:\"off\",sliderType:\"standard\",sliderLayout:\"auto\",fullScreenAutoWidth:\"off\",fullScreenAlignForce:\"off\",fullScreenOffsetContainer:\"\",fullScreenOffset:\"0\",hideCaptionAtLimit:0,hideAllCaptionAtLimit:0,hideSliderAtLimit:0,disableProgressBar:\"off\",stopAtSlide:-1,stopAfterLoops:-1,shadow:0,dottedOverlay:\"none\",startDelay:0,lazyType:\"smart\",spinner:\"spinner0\",shuffle:\"off\",viewPort:{enable:!1,outof:\"wait\",visible_area:\"60%\",presize:!1},fallbacks:{isJoomla:!1,panZoomDisableOnMobile:\"off\",simplifyAll:\"on\",nextSlideOnWindowFocus:\"off\",disableFocusListener:!0,ignoreHeightChanges:\"off\",ignoreHeightChangesSize:0,allowHTML5AutoPlayOnAndroid:!0},parallax:{type:\"off\",levels:[10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85],origo:\"enterpoint\",speed:400,bgparallax:\"off\",opacity:\"on\",disable_onmobile:\"off\",ddd_shadow:\"on\",ddd_bgfreeze:\"off\",ddd_overflow:\"visible\",ddd_layer_overflow:\"visible\",ddd_z_correction:65,ddd_path:\"mouse\"},scrolleffect:{fade:\"off\",blur:\"off\",scale:\"off\",grayscale:\"off\",maxblur:10,on_layers:\"off\",on_slidebg:\"off\",on_static_layers:\"off\",on_parallax_layers:\"off\",on_parallax_static_layers:\"off\",direction:\"both\",multiplicator:1.35,multiplicator_layers:.5,tilt:30,disable_on_mobile:\"on\"},carousel:{easing:punchgs.Power3.easeInOut,speed:800,showLayersAllTime:\"off\",horizontal_align:\"center\",vertical_align:\"center\",infinity:\"on\",space:0,maxVisibleItems:3,stretch:\"off\",fadeout:\"on\",maxRotation:0,minScale:0,vary_fade:\"off\",vary_rotation:\"on\",vary_scale:\"off\",border_radius:\"0px\",padding_top:0,padding_bottom:0},navigation:{keyboardNavigation:\"off\",keyboard_direction:\"horizontal\",mouseScrollNavigation:\"off\",onHoverStop:\"on\",touch:{touchenabled:\"off\",touchOnDesktop:\"off\",swipe_treshold:75,swipe_min_touches:1,drag_block_vertical:!1,swipe_direction:\"horizontal\"},arrows:{style:\"\",enable:!1,hide_onmobile:!1,hide_onleave:!0,hide_delay:200,hide_delay_mobile:1200,hide_under:0,hide_over:9999,tmp:\"\",rtl:!1,left:{h_align:\"left\",v_align:\"center\",h_offset:20,v_offset:0,container:\"slider\"},right:{h_align:\"right\",v_align:\"center\",h_offset:20,v_offset:0,container:\"slider\"}},bullets:{container:\"slider\",rtl:!1,style:\"\",enable:!1,hide_onmobile:!1,hide_onleave:!0,hide_delay:200,hide_delay_mobile:1200,hide_under:0,hide_over:9999,direction:\"horizontal\",h_align:\"left\",v_align:\"center\",space:0,h_offset:20,v_offset:0,tmp:'<span class=\"tp-bullet-image\"></span><span class=\"tp-bullet-title\"></span>'},thumbnails:{container:\"slider\",rtl:!1,style:\"\",enable:!1,width:100,height:50,min_width:100,wrapper_padding:2,wrapper_color:\"#f5f5f5\",wrapper_opacity:1,tmp:'<span class=\"tp-thumb-image\"></span><span class=\"tp-thumb-title\"></span>',visibleAmount:5,hide_onmobile:!1,hide_onleave:!0,hide_delay:200,hide_delay_mobile:1200,hide_under:0,hide_over:9999,direction:\"horizontal\",span:!1,position:\"inner\",space:2,h_align:\"left\",v_align:\"center\",h_offset:20,v_offset:0},tabs:{container:\"slider\",rtl:!1,style:\"\",enable:!1,width:100,min_width:100,height:50,wrapper_padding:10,wrapper_color:\"#f5f5f5\",wrapper_opacity:1,tmp:'<span class=\"tp-tab-image\"></span>',visibleAmount:5,hide_onmobile:!1,hide_onleave:!0,hide_delay:200,hide_delay_mobile:1200,hide_under:0,hide_over:9999,direction:\"horizontal\",span:!1,space:0,position:\"inner\",h_align:\"left\",v_align:\"center\",h_offset:20,v_offset:0}},extensions:\"extensions/\",extensions_suffix:\".min.js\",debugMode:!1};return t=jQuery.extend(!0,{},e,t),this.each(function(){var e=jQuery(this);t.minHeight=null!=t.minHeight?parseInt(t.minHeight,0):t.minHeight,t.scrolleffect.on=\"on\"===t.scrolleffect.fade||\"on\"===t.scrolleffect.scale||\"on\"===t.scrolleffect.blur||\"on\"===t.scrolleffect.grayscale,\"hero\"==t.sliderType&&e.find(\">ul>li\").each(function(e){0<e&&jQuery(this).remove()}),t.jsFileLocation=t.jsFileLocation||getScriptLocation(\"themepunch.revolution.min.js\"),t.jsFileLocation=t.jsFileLocation+t.extensions,t.scriptsneeded=getNeededScripts(t,e),t.curWinRange=0,t.rtl=!0,null!=t.navigation&&null!=t.navigation.touch&&(t.navigation.touch.swipe_min_touches=5<t.navigation.touch.swipe_min_touches?1:t.navigation.touch.swipe_min_touches),jQuery(this).on(\"scriptsloaded\",function(){if(t.modulesfailing)return e.html('<div style=\"margin:auto;line-height:40px;font-size:14px;color:#fff;padding:15px;background:#e74c3c;margin:20px 0px;\">!! Error at loading Slider Revolution 5.0 Extrensions.'+t.errorm+\"</div>\").show(),!1;null!=_R.migration&&(t=_R.migration(e,t)),punchgs.force3D=!0,\"on\"!==t.simplifyAll&&punchgs.TweenLite.lagSmoothing(1e3,16),prepareOptions(e,t),initSlider(e,t)}),e[0].opt=t,waitForScripts(e,t)})},getRSVersion:function(e){if(!0===e)return jQuery(\"body\").data(\"tp_rs_version\");var t=jQuery(\"body\").data(\"tp_rs_version\"),i=\"\";for(var a in i+=\"---------------------------------------------------------\\n\",i+=\"    Currently Loaded Slider Revolution & SR Modules :\\n\",i+=\"---------------------------------------------------------\\n\",t)i+=t[a].alias+\": \"+t[a].ver+\"\\n\";return i+=\"---------------------------------------------------------\\n\"},revremoveslide:function(r){return this.each(function(){var e=jQuery(this),t=e[0].opt;if(!(r<0||r>t.slideamount)&&null!=e&&0<e.length&&0<jQuery(\"body\").find(\"#\"+e.attr(\"id\")).length&&t&&0<t.li.length&&(0<r||r<=t.li.length)){var i=jQuery(t.li[r]),a=i.data(\"index\"),n=!1;t.slideamount=t.slideamount-1,t.realslideamount=t.realslideamount-1,removeNavWithLiref(\".tp-bullet\",a,t),removeNavWithLiref(\".tp-tab\",a,t),removeNavWithLiref(\".tp-thumb\",a,t),i.hasClass(\"active-revslide\")&&(n=!0),i.remove(),t.li=removeArray(t.li,r),t.carousel&&t.carousel.slides&&(t.carousel.slides=removeArray(t.carousel.slides,r)),t.thumbs=removeArray(t.thumbs,r),_R.updateNavIndexes&&_R.updateNavIndexes(t),n&&e.revnext(),punchgs.TweenLite.set(t.li,{minWidth:\"99%\"}),punchgs.TweenLite.set(t.li,{minWidth:\"100%\"})}})},revaddcallback:function(e){return this.each(function(){this.opt&&(void 0===this.opt.callBackArray&&(this.opt.callBackArray=new Array),this.opt.callBackArray.push(e))})},revgetparallaxproc:function(){return jQuery(this)[0].opt.scrollproc},revdebugmode:function(){return this.each(function(){var e=jQuery(this);e[0].opt.debugMode=!0,containerResized(e,e[0].opt)})},revscroll:function(t){return this.each(function(){var e=jQuery(this);jQuery(\"body,html\").animate({scrollTop:e.offset().top+e.height()-t+\"px\"},{duration:400})})},revredraw:function(e){return this.each(function(){var e=jQuery(this);containerResized(e,e[0].opt)})},revkill:function(e){var t=this,i=jQuery(this);if(punchgs.TweenLite.killDelayedCallsTo(_R.showHideNavElements),null!=i&&0<i.length&&0<jQuery(\"body\").find(\"#\"+i.attr(\"id\")).length){i.data(\"conthover\",1),i.data(\"conthover-changed\",1),i.trigger(\"revolution.slide.onpause\");var a=i.parent().find(\".tp-bannertimer\"),n=i[0].opt;n.tonpause=!0,i.trigger(\"stoptimer\");var r=\"resize.revslider-\"+i.attr(\"id\");jQuery(window).unbind(r),punchgs.TweenLite.killTweensOf(i.find(\"*\"),!1),punchgs.TweenLite.killTweensOf(i,!1),i.unbind(\"hover, mouseover, mouseenter,mouseleave, resize\");r=\"resize.revslider-\"+i.attr(\"id\");jQuery(window).off(r),i.find(\"*\").each(function(){var e=jQuery(this);e.unbind(\"on, hover, mouseenter,mouseleave,mouseover, resize,restarttimer, stoptimer\"),e.off(\"on, hover, mouseenter,mouseleave,mouseover, resize\"),e.data(\"mySplitText\",null),e.data(\"ctl\",null),null!=e.data(\"tween\")&&e.data(\"tween\").kill(),null!=e.data(\"kenburn\")&&e.data(\"kenburn\").kill(),null!=e.data(\"timeline_out\")&&e.data(\"timeline_out\").kill(),null!=e.data(\"timeline\")&&e.data(\"timeline\").kill(),e.remove(),e.empty(),e=null}),punchgs.TweenLite.killTweensOf(i.find(\"*\"),!1),punchgs.TweenLite.killTweensOf(i,!1),a.remove();try{i.closest(\".forcefullwidth_wrapper_tp_banner\").remove()}catch(e){}try{i.closest(\".rev_slider_wrapper\").remove()}catch(e){}try{i.remove()}catch(e){}return i.empty(),i.html(),n=i=null,delete t.c,delete t.opt,delete t.container,!0}return!1},revpause:function(){return this.each(function(){var e=jQuery(this);null!=e&&0<e.length&&0<jQuery(\"body\").find(\"#\"+e.attr(\"id\")).length&&(e.data(\"conthover\",1),e.data(\"conthover-changed\",1),e.trigger(\"revolution.slide.onpause\"),e[0].opt.tonpause=!0,e.trigger(\"stoptimer\"))})},revresume:function(){return this.each(function(){var e=jQuery(this);null!=e&&0<e.length&&0<jQuery(\"body\").find(\"#\"+e.attr(\"id\")).length&&(e.data(\"conthover\",0),e.data(\"conthover-changed\",1),e.trigger(\"revolution.slide.onresume\"),e[0].opt.tonpause=!1,e.trigger(\"starttimer\"))})},revstart:function(){var e=jQuery(this);if(null!=e&&0<e.length&&0<jQuery(\"body\").find(\"#\"+e.attr(\"id\")).length&&void 0!==e[0].opt)return e[0].opt.sliderisrunning?(console.log(\"Slider Is Running Already\"),!1):((e[0].opt.c=e)[0].opt.ul=e.find(\">ul\"),runSlider(e,e[0].opt),!0)},revnext:function(){return this.each(function(){var e=jQuery(this);null!=e&&0<e.length&&0<jQuery(\"body\").find(\"#\"+e.attr(\"id\")).length&&_R.callingNewSlide(e,1)})},revprev:function(){return this.each(function(){var e=jQuery(this);null!=e&&0<e.length&&0<jQuery(\"body\").find(\"#\"+e.attr(\"id\")).length&&_R.callingNewSlide(e,-1)})},revmaxslide:function(){return jQuery(this).find(\".tp-revslider-mainul >li\").length},revcurrentslide:function(){var e=jQuery(this);if(null!=e&&0<e.length&&0<jQuery(\"body\").find(\"#\"+e.attr(\"id\")).length)return parseInt(e[0].opt.act,0)+1},revlastslide:function(){return jQuery(this).find(\".tp-revslider-mainul >li\").length},revshowslide:function(t){return this.each(function(){var e=jQuery(this);null!=e&&0<e.length&&0<jQuery(\"body\").find(\"#\"+e.attr(\"id\")).length&&_R.callingNewSlide(e,\"to\"+(t-1))})},revcallslidewithid:function(t){return this.each(function(){var e=jQuery(this);null!=e&&0<e.length&&0<jQuery(\"body\").find(\"#\"+e.attr(\"id\")).length&&_R.callingNewSlide(e,t)})}});var _R=jQuery.fn.revolution;jQuery.extend(!0,_R,{getversion:function(){return version},compare_version:function(e){var t=jQuery(\"body\").data(\"tp_rs_version\");return void 0===(t=void 0===t?new Object:t).Core&&(t.Core=new Object,t.Core.alias=\"Slider Revolution Core\",t.Core.name=\"jquery.themepunch.revolution.min.js\",t.Core.ver=_R.getversion().core),\"stop\"!=e.check&&(_R.getversion().core<e.min_core?(void 0===e.check&&(console.log(\"%cSlider Revolution Warning (Core:\"+_R.getversion().core+\")\",\"color:#c0392b;font-weight:bold;\"),console.log(\"%c     Core is older than expected (\"+e.min_core+\") from \"+e.alias,\"color:#333\"),console.log(\"%c     Please update Slider Revolution to the latest version.\",\"color:#333\"),console.log(\"%c     It might be required to purge and clear Server/Client side Caches.\",\"color:#333\")),e.check=\"stop\"):null!=_R.getversion()[e.name]&&e.version<_R.getversion()[e.name]&&(void 0===e.check&&(console.log(\"%cSlider Revolution Warning (Core:\"+_R.getversion().core+\")\",\"color:#c0392b;font-weight:bold;\"),console.log(\"%c     \"+e.alias+\" (\"+e.version+\") is older than requiered (\"+_R.getversion()[e.name]+\")\",\"color:#333\"),console.log(\"%c     Please update Slider Revolution to the latest version.\",\"color:#333\"),console.log(\"%c     It might be required to purge and clear Server/Client side Caches.\",\"color:#333\")),e.check=\"stop\")),void 0===t[e.alias]&&(t[e.alias]=new Object,t[e.alias].alias=e.alias,t[e.alias].ver=e.version,t[e.alias].name=e.name),jQuery(\"body\").data(\"tp_rs_version\",t),e},currentSlideIndex:function(e){var t=e.c.find(\".active-revslide\").index();return t=-1==t?0:t},simp:function(e,t,i){var a=Math.abs(e)-Math.floor(Math.abs(e/t))*t;return i?a:e<0?-1*a:a},iOSVersion:function(){var e=!1;return navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/iPad/i)?navigator.userAgent.match(/OS 4_\\d like Mac OS X/i)&&(e=!0):e=!1,e},isIE:function(e,t){var i=jQuery('<div style=\"display:none;\"/>').appendTo(jQuery(\"body\"));i.html(\"\\x3c!--[if \"+(t||\"\")+\" IE \"+(e||\"\")+\"]><a>&nbsp;</a><![endif]--\\x3e\");var a=i.find(\"a\").length;return i.remove(),a},is_mobile:function(){var e=[\"android\",\"webos\",\"iphone\",\"ipad\",\"blackberry\",\"Android\",\"webos\",,\"iPod\",\"iPhone\",\"iPad\",\"Blackberry\",\"BlackBerry\"],t=!1;for(var i in e)1<navigator.userAgent.split(e[i]).length&&(t=!0);return t},is_android:function(){var e=[\"android\",\"Android\"],t=!1;for(var i in e)1<navigator.userAgent.split(e[i]).length&&(t=!0);return t},callBackHandling:function(e,i,a){try{e.callBackArray&&jQuery.each(e.callBackArray,function(e,t){t&&t.inmodule&&t.inmodule===i&&t.atposition&&t.atposition===a&&t.callback&&t.callback.call()})}catch(e){console.log(\"Call Back Failed\")}},get_browser:function(){var e,t=navigator.appName,i=navigator.userAgent,a=i.match(/(opera|chrome|safari|firefox|msie)\\/?\\s*(\\.?\\d+(\\.\\d+)*)/i);return a&&null!=(e=i.match(/version\\/([\\.\\d]+)/i))&&(a[2]=e[1]),(a=a?[a[1],a[2]]:[t,navigator.appVersion,\"-?\"])[0]},get_browser_version:function(){var e,t=navigator.appName,i=navigator.userAgent,a=i.match(/(opera|chrome|safari|firefox|msie)\\/?\\s*(\\.?\\d+(\\.\\d+)*)/i);return a&&null!=(e=i.match(/version\\/([\\.\\d]+)/i))&&(a[2]=e[1]),(a=a?[a[1],a[2]]:[t,navigator.appVersion,\"-?\"])[1]},isSafari11:function(){var e=jQuery.trim(_R.get_browser().toLowerCase());return-1===jQuery.trim(navigator.userAgent.toLowerCase()).search(\"edge\")&&\"msie\"!==e&&e.match(/safari|chrome/)},getHorizontalOffset:function(e,t){var i=gWiderOut(e,\".outer-left\"),a=gWiderOut(e,\".outer-right\");switch(t){case\"left\":return i;case\"right\":return a;case\"both\":return i+a}},callingNewSlide:function(e,t){var i=0<e.find(\".next-revslide\").length?e.find(\".next-revslide\").index():0<e.find(\".processing-revslide\").length?e.find(\".processing-revslide\").index():e.find(\".active-revslide\").index(),a=0,n=e[0].opt;e.find(\".next-revslide\").removeClass(\"next-revslide\"),e.find(\".active-revslide\").hasClass(\"tp-invisible-slide\")&&(i=n.last_shown_slide),t&&jQuery.isNumeric(t)||t.match(/to/g)?(a=1===t||-1===t?(a=i+t)<0?n.slideamount-1:a>=n.slideamount?0:a:(t=jQuery.isNumeric(t)?t:parseInt(t.split(\"to\")[1],0))<0?0:t>n.slideamount-1?n.slideamount-1:t,e.find(\".tp-revslider-slidesli:eq(\"+a+\")\").addClass(\"next-revslide\")):t&&e.find(\".tp-revslider-slidesli\").each(function(){var e=jQuery(this);e.data(\"index\")===t&&e.addClass(\"next-revslide\")}),a=e.find(\".next-revslide\").index(),e.trigger(\"revolution.nextslide.waiting\"),i===a&&i===n.last_shown_slide||a!==i&&-1!=a?swapSlide(e):e.find(\".next-revslide\").removeClass(\"next-revslide\")},slotSize:function(e,t){t.slotw=Math.ceil(t.width/t.slots),\"fullscreen\"==t.sliderLayout?t.sloth=Math.ceil(jQuery(window).height()/t.slots):t.sloth=Math.ceil(t.height/t.slots),\"on\"==t.autoHeight&&void 0!==e&&\"\"!==e&&(t.sloth=Math.ceil(e.height()/t.slots))},setSize:function(e){var t=(e.top_outer||0)+(e.bottom_outer||0),i=parseInt(e.carousel.padding_top||0,0),a=parseInt(e.carousel.padding_bottom||0,0),n=e.gridheight[e.curWinRange],r=0,o=-1===e.nextSlide||void 0===e.nextSlide?0:e.nextSlide;if(e.paddings=void 0===e.paddings?{top:parseInt(e.c.parent().css(\"paddingTop\"),0)||0,bottom:parseInt(e.c.parent().css(\"paddingBottom\"),0)||0}:e.paddings,e.rowzones&&0<e.rowzones.length)for(var s=0;s<e.rowzones[o].length;s++)r+=e.rowzones[o][s][0].offsetHeight;if(n=(n=n<e.minHeight?e.minHeight:n)<r?r:n,\"fullwidth\"==e.sliderLayout&&\"off\"==e.autoHeight&&punchgs.TweenLite.set(e.c,{maxHeight:n+\"px\"}),e.c.css({marginTop:i,marginBottom:a}),e.width=e.ul.width(),e.height=e.ul.height(),setScale(e),e.height=Math.round(e.gridheight[e.curWinRange]*(e.width/e.gridwidth[e.curWinRange])),e.height>e.gridheight[e.curWinRange]&&\"on\"!=e.autoHeight&&(e.height=e.gridheight[e.curWinRange]),\"fullscreen\"==e.sliderLayout||e.infullscreenmode){e.height=e.bw*e.gridheight[e.curWinRange];e.c.parent().width();var l=jQuery(window).height();if(null!=e.fullScreenOffsetContainer){try{var d=e.fullScreenOffsetContainer.split(\",\");d&&jQuery.each(d,function(e,t){l=0<jQuery(t).length?l-jQuery(t).outerHeight(!0):l})}catch(e){}try{1<e.fullScreenOffset.split(\"%\").length&&null!=e.fullScreenOffset&&0<e.fullScreenOffset.length?l-=jQuery(window).height()*parseInt(e.fullScreenOffset,0)/100:null!=e.fullScreenOffset&&0<e.fullScreenOffset.length&&(l-=parseInt(e.fullScreenOffset,0))}catch(e){}}l=l<e.minHeight?e.minHeight:l,l-=t,e.c.parent().height(l),e.c.closest(\".rev_slider_wrapper\").height(l),e.c.css({height:\"100%\"}),e.height=l,null!=e.minHeight&&e.height<e.minHeight&&(e.height=e.minHeight),e.height=parseInt(r,0)>parseInt(e.height,0)?r:e.height}else null!=e.minHeight&&e.height<e.minHeight&&(e.height=e.minHeight),e.height=parseInt(r,0)>parseInt(e.height,0)?r:e.height,e.c.height(e.height);var c={height:i+a+t+e.height+e.paddings.top+e.paddings.bottom};e.c.closest(\".forcefullwidth_wrapper_tp_banner\").find(\".tp-fullwidth-forcer\").css(c),e.c.closest(\".rev_slider_wrapper\").css(c),setScale(e)},enterInViewPort:function(i){i.waitForCountDown&&(countDown(i.c,i),i.waitForCountDown=!1),i.waitForFirstSlide&&(swapSlide(i.c),i.waitForFirstSlide=!1,setTimeout(function(){i.c.removeClass(\"tp-waitforfirststart\")},500)),\"playing\"!=i.sliderlaststatus&&null!=i.sliderlaststatus||i.c.trigger(\"starttimer\"),null!=i.lastplayedvideos&&0<i.lastplayedvideos.length&&jQuery.each(i.lastplayedvideos,function(e,t){_R.playVideo(t,i)})},leaveViewPort:function(i){i.sliderlaststatus=i.sliderstatus,i.c.trigger(\"stoptimer\"),null!=i.playingvideos&&0<i.playingvideos.length&&(i.lastplayedvideos=jQuery.extend(!0,[],i.playingvideos),i.playingvideos&&jQuery.each(i.playingvideos,function(e,t){i.leaveViewPortBasedStop=!0,_R.stopVideo&&_R.stopVideo(t,i)}))},unToggleState:function(e){null!=e&&0<e.length&&jQuery.each(e,function(e,t){t.removeClass(\"rs-toggle-content-active\")})},toggleState:function(e){null!=e&&0<e.length&&jQuery.each(e,function(e,t){t.addClass(\"rs-toggle-content-active\")})},swaptoggleState:function(e){null!=e&&0<e.length&&jQuery.each(e,function(e,t){jQuery(t).hasClass(\"rs-toggle-content-active\")?jQuery(t).removeClass(\"rs-toggle-content-active\"):jQuery(t).addClass(\"rs-toggle-content-active\")})},lastToggleState:function(e){var i=0;return null!=e&&0<e.length&&jQuery.each(e,function(e,t){i=t.hasClass(\"rs-toggle-content-active\")}),i}});var _ISM=_R.is_mobile(),_ANDROID=_R.is_android(),checkIDS=function(e,t){if(e.anyid=void 0===e.anyid?[]:e.anyid,-1!=jQuery.inArray(t.attr(\"id\"),e.anyid)){var i=t.attr(\"id\")+\"_\"+Math.round(9999*Math.random());t.attr(\"id\",i)}e.anyid.push(t.attr(\"id\"))},removeArray=function(e,i){var a=[];return jQuery.each(e,function(e,t){e!=i&&a.push(t)}),a},removeNavWithLiref=function(e,t,i){i.c.find(e).each(function(){var e=jQuery(this);e.data(\"liref\")===t&&e.remove()})},lAjax=function(t,i){return!jQuery(\"body\").data(t)&&(i.filesystem?(void 0===i.errorm&&(i.errorm=\"<br>Local Filesystem Detected !<br>Put this to your header:\"),console.warn(\"Local Filesystem detected !\"),i.errorm=i.errorm+'<br>&lt;script type=\"text/javascript\" src=\"'+i.jsFileLocation+t+i.extensions_suffix+'\"&gt;&lt;/script&gt;',console.warn(i.jsFileLocation+t+i.extensions_suffix+\" could not be loaded !\"),console.warn(\"Please use a local Server or work online or make sure that you load all needed Libraries manually in your Document.\"),console.log(\" \"),!(i.modulesfailing=!0)):(jQuery.ajaxSetup({type:\"get\"}),jQuery.ajax({url:i.jsFileLocation+t+i.extensions_suffix+\"?version=\"+version.core,dataType:\"script\",cache:!0,error:function(e){console.warn(\"Slider Revolution 5.0 Error !\"),console.error(\"Failure at Loading:\"+t+i.extensions_suffix+\" on Path:\"+i.jsFileLocation),console.info(e)}}),void jQuery(\"body\").data(t,!0)))},getNeededScripts=function(i,e){var t=new Object,a=i.navigation;return t.kenburns=!1,t.parallax=!1,t.carousel=!1,t.navigation=!1,t.videos=!1,t.actions=!1,t.layeranim=!1,t.migration=!1,e.data(\"version\")&&e.data(\"version\").toString().match(/5./gi)?(e.find(\"img\").each(function(){\"on\"==jQuery(this).data(\"kenburns\")&&(t.kenburns=!0)}),(\"carousel\"==i.sliderType||\"on\"==a.keyboardNavigation||\"on\"==a.mouseScrollNavigation||\"on\"==a.touch.touchenabled||a.arrows.enable||a.bullets.enable||a.thumbnails.enable||a.tabs.enable)&&(t.navigation=!0),e.find(\".tp-caption, .tp-static-layer, .rs-background-video-layer\").each(function(){var e=jQuery(this);(null!=e.data(\"ytid\")||0<e.find(\"iframe\").length&&0<e.find(\"iframe\").attr(\"src\").toLowerCase().indexOf(\"youtube\"))&&(t.videos=!0),(null!=e.data(\"vimeoid\")||0<e.find(\"iframe\").length&&0<e.find(\"iframe\").attr(\"src\").toLowerCase().indexOf(\"vimeo\"))&&(t.videos=!0),void 0!==e.data(\"actions\")&&(t.actions=!0),t.layeranim=!0}),e.find(\"li\").each(function(){jQuery(this).data(\"link\")&&null!=jQuery(this).data(\"link\")&&(t.layeranim=!0,t.actions=!0)}),!t.videos&&(0<e.find(\".rs-background-video-layer\").length||0<e.find(\".tp-videolayer\").length||0<e.find(\".tp-audiolayer\").length||0<e.find(\"iframe\").length||0<e.find(\"video\").length)&&(t.videos=!0),\"carousel\"==i.sliderType&&(t.carousel=!0),(\"off\"!==i.parallax.type||i.viewPort.enable||\"true\"==i.viewPort.enable||\"true\"===i.scrolleffect.on||i.scrolleffect.on)&&(t.parallax=!0)):(t.kenburns=!0,t.parallax=!0,t.carousel=!1,t.navigation=!0,t.videos=!0,t.actions=!0,t.layeranim=!0,t.migration=!0),\"hero\"==i.sliderType&&(t.carousel=!1,t.navigation=!1),window.location.href.match(/file:/gi)&&(t.filesystem=!0,i.filesystem=!0),t.videos&&void 0===_R.isVideoPlaying&&lAjax(\"revolution.extension.video\",i),t.carousel&&void 0===_R.prepareCarousel&&lAjax(\"revolution.extension.carousel\",i),t.carousel||void 0!==_R.animateSlide||lAjax(\"revolution.extension.slideanims\",i),t.actions&&void 0===_R.checkActions&&lAjax(\"revolution.extension.actions\",i),t.layeranim&&void 0===_R.handleStaticLayers&&lAjax(\"revolution.extension.layeranimation\",i),t.kenburns&&void 0===_R.stopKenBurn&&lAjax(\"revolution.extension.kenburn\",i),t.navigation&&void 0===_R.createNavigation&&lAjax(\"revolution.extension.navigation\",i),t.migration&&void 0===_R.migration&&lAjax(\"revolution.extension.migration\",i),t.parallax&&void 0===_R.checkForParallax&&lAjax(\"revolution.extension.parallax\",i),null!=i.addons&&0<i.addons.length&&jQuery.each(i.addons,function(e,t){\"object\"==typeof t&&null!=t.fileprefix&&lAjax(t.fileprefix,i)}),t},waitForScripts=function(e,t){var i=!0,a=t.scriptsneeded;null!=t.addons&&0<t.addons.length&&jQuery.each(t.addons,function(e,t){\"object\"==typeof t&&null!=t.init&&void 0===_R[t.init]&&(i=!1)}),a.filesystem||void 0!==punchgs&&i&&(!a.kenburns||a.kenburns&&void 0!==_R.stopKenBurn)&&(!a.navigation||a.navigation&&void 0!==_R.createNavigation)&&(!a.carousel||a.carousel&&void 0!==_R.prepareCarousel)&&(!a.videos||a.videos&&void 0!==_R.resetVideo)&&(!a.actions||a.actions&&void 0!==_R.checkActions)&&(!a.layeranim||a.layeranim&&void 0!==_R.handleStaticLayers)&&(!a.migration||a.migration&&void 0!==_R.migration)&&(!a.parallax||a.parallax&&void 0!==_R.checkForParallax)&&(a.carousel||!a.carousel&&void 0!==_R.animateSlide)?e.trigger(\"scriptsloaded\"):setTimeout(function(){waitForScripts(e,t)},50)},getScriptLocation=function(e){var t=new RegExp(\"themepunch.revolution.min.js\",\"gi\"),i=\"\";return jQuery(\"script\").each(function(){var e=jQuery(this).attr(\"src\");e&&e.match(t)&&(i=e)}),i=(i=(i=i.replace(\"jquery.themepunch.revolution.min.js\",\"\")).replace(\"jquery.themepunch.revolution.js\",\"\")).split(\"?\")[0]},setCurWinRange=function(e,t){var i=9999,a=0,n=0,r=0,o=jQuery(window).width(),s=t&&9999==e.responsiveLevels?e.visibilityLevels:e.responsiveLevels;s&&s.length&&jQuery.each(s,function(e,t){o<t&&(0==a||t<a)&&(r=e,a=i=t),t<o&&a<t&&(a=t,n=e)}),a<i&&(r=n),t?e.forcedWinRange=r:e.curWinRange=r},prepareOptions=function(e,t){t.carousel.maxVisibleItems=t.carousel.maxVisibleItems<1?999:t.carousel.maxVisibleItems,t.carousel.vertical_align=\"top\"===t.carousel.vertical_align?\"0%\":\"bottom\"===t.carousel.vertical_align?\"100%\":\"50%\"},gWiderOut=function(e,t){var i=0;return e.find(t).each(function(){var e=jQuery(this);!e.hasClass(\"tp-forcenotvisible\")&&i<e.outerWidth()&&(i=e.outerWidth())}),i},initSlider=function(container,opt){if(null==container)return!1;null!=container.data(\"aimg\")&&(\"enabled\"==container.data(\"aie8\")&&_R.isIE(8)||\"enabled\"==container.data(\"amobile\")&&_ISM)&&container.html('<img class=\"tp-slider-alternative-image\" src=\"'+container.data(\"aimg\")+'\">'),container.find(\">ul\").addClass(\"tp-revslider-mainul\"),opt.c=container,opt.ul=container.find(\".tp-revslider-mainul\"),opt.ul.find(\">li\").each(function(e){var t=jQuery(this);\"on\"==t.data(\"hideslideonmobile\")&&_ISM&&t.remove(),(t.data(\"invisible\")||!0===t.data(\"invisible\"))&&(t.addClass(\"tp-invisible-slide\"),t.appendTo(opt.ul))}),null!=opt.addons&&0<opt.addons.length&&jQuery.each(opt.addons,function(i,obj){\"object\"==typeof obj&&null!=obj.init&&_R[obj.init](eval(obj.params))}),opt.cid=container.attr(\"id\"),opt.ul.css({visibility:\"visible\"}),opt.slideamount=opt.ul.find(\">li\").not(\".tp-invisible-slide\").length,opt.realslideamount=opt.ul.find(\">li\").length,opt.slayers=container.find(\".tp-static-layers\"),opt.slayers.data(\"index\",\"staticlayers\"),1!=opt.waitForInit&&(container[0].opt=opt,runSlider(container,opt))},onFullScreenChange=function(){jQuery(\"body\").data(\"rs-fullScreenMode\",!jQuery(\"body\").data(\"rs-fullScreenMode\")),jQuery(\"body\").data(\"rs-fullScreenMode\")&&setTimeout(function(){jQuery(window).trigger(\"resize\")},200)},runSlider=function(i,x){if(x.sliderisrunning=!0,x.ul.find(\">li\").each(function(e){jQuery(this).data(\"originalindex\",e)}),x.allli=x.ul.find(\">li\"),jQuery.each(x.allli,function(e,t){(t=jQuery(t)).data(\"origindex\",t.index())}),x.li=x.ul.find(\">li\").not(\".tp-invisible-slide\"),\"on\"==x.shuffle){var e=new Object,t=x.ul.find(\">li:first-child\");e.fstransition=t.data(\"fstransition\"),e.fsmasterspeed=t.data(\"fsmasterspeed\"),e.fsslotamount=t.data(\"fsslotamount\");for(var a=0;a<x.slideamount;a++){var n=Math.round(Math.random()*x.slideamount);x.ul.find(\">li:eq(\"+n+\")\").prependTo(x.ul)}var r=x.ul.find(\">li:first-child\");r.data(\"fstransition\",e.fstransition),r.data(\"fsmasterspeed\",e.fsmasterspeed),r.data(\"fsslotamount\",e.fsslotamount),x.allli=x.ul.find(\">li\"),x.li=x.ul.find(\">li\").not(\".tp-invisible-slide\")}if(x.inli=x.ul.find(\">li.tp-invisible-slide\"),x.thumbs=new Array,x.slots=4,x.act=-1,x.firststart=1,x.loadqueue=new Array,x.syncload=0,x.conw=i.width(),x.conh=i.height(),1<x.responsiveLevels.length?x.responsiveLevels[0]=9999:x.responsiveLevels=9999,jQuery.each(x.allli,function(e,t){var i=(t=jQuery(t)).find(\".rev-slidebg\")||t.find(\"img\").first(),a=0;t.addClass(\"tp-revslider-slidesli\"),void 0===t.data(\"index\")&&t.data(\"index\",\"rs-\"+Math.round(999999*Math.random()));var n=new Object;n.params=new Array,n.id=t.data(\"index\"),n.src=void 0!==t.data(\"thumb\")?t.data(\"thumb\"):void 0!==i.data(\"lazyload\")?i.data(\"lazyload\"):i.attr(\"src\"),void 0!==t.data(\"title\")&&n.params.push({from:RegExp(\"\\\\{\\\\{title\\\\}\\\\}\",\"g\"),to:t.data(\"title\")}),void 0!==t.data(\"description\")&&n.params.push({from:RegExp(\"\\\\{\\\\{description\\\\}\\\\}\",\"g\"),to:t.data(\"description\")});for(a=1;a<=10;a++)void 0!==t.data(\"param\"+a)&&n.params.push({from:RegExp(\"\\\\{\\\\{param\"+a+\"\\\\}\\\\}\",\"g\"),to:t.data(\"param\"+a)});if(x.thumbs.push(n),null!=t.data(\"link\")){var r=t.data(\"link\"),o=t.data(\"target\")||\"_self\",s=\"back\"===t.data(\"slideindex\")?0:60,l=t.data(\"linktoslide\"),d=l;null!=l&&\"next\"!=l&&\"prev\"!=l&&x.allli.each(function(){var e=jQuery(this);e.data(\"origindex\")+1==d&&(l=e.data(\"index\"))}),\"slide\"!=r&&(l=\"no\");var c='<div class=\"tp-caption slidelink\" style=\"cursor:pointer;width:100%;height:100%;z-index:'+s+';\" data-x=\"center\" data-y=\"center\" data-basealign=\"slide\" ',u=' data-frames=\\'[{\"delay\":0,\"speed\":100,\"frame\":\"0\",\"from\":\"opacity:0;\",\"to\":\"o:1;\",\"ease\":\"Power3.easeInOut\"},{\"delay\":\"wait\",\"speed\":300,\"frame\":\"999\",\"to\":\"opacity:0;\",\"ease\":\"Power3.easeInOut\"}]\\'';c=\"no\"==l?c+u+\" >\":c+\"data-actions='\"+(\"scroll_under\"===l?'[{\"event\":\"click\",\"action\":\"scrollbelow\",\"offset\":\"100px\",\"delay\":\"0\"}]':\"prev\"===l?'[{\"event\":\"click\",\"action\":\"jumptoslide\",\"slide\":\"prev\",\"delay\":\"0.2\"}]':\"next\"===l?'[{\"event\":\"click\",\"action\":\"jumptoslide\",\"slide\":\"next\",\"delay\":\"0.2\"}]':'[{\"event\":\"click\",\"action\":\"jumptoslide\",\"slide\":\"'+l+'\",\"delay\":\"0.2\"}]')+\"'\"+u+\" >\",c+='<a style=\"width:100%;height:100%;display:block\"',c=\"slide\"!=r?c+' target=\"'+o+'\" href=\"'+r+'\"':c,c+='><span style=\"width:100%;height:100%;display:block\"></span></a></div>',t.append(c)}}),x.rle=x.responsiveLevels.length||1,x.gridwidth=cArray(x.gridwidth,x.rle),x.gridheight=cArray(x.gridheight,x.rle),\"on\"==x.simplifyAll&&(_R.isIE(8)||_R.iOSVersion())&&(i.find(\".tp-caption\").each(function(){var e=jQuery(this);e.removeClass(\"customin customout\").addClass(\"fadein fadeout\"),e.data(\"splitin\",\"\"),e.data(\"speed\",400)}),x.allli.each(function(){var e=jQuery(this);e.data(\"transition\",\"fade\"),e.data(\"masterspeed\",500),e.data(\"slotamount\",1),(e.find(\".rev-slidebg\")||e.find(\">img\").first()).data(\"kenburns\",\"off\")})),x.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),x.autoHeight=\"fullscreen\"==x.sliderLayout?\"on\":x.autoHeight,\"fullwidth\"==x.sliderLayout&&\"off\"==x.autoHeight&&i.css({maxHeight:x.gridheight[x.curWinRange]+\"px\"}),\"auto\"!=x.sliderLayout&&0==i.closest(\".forcefullwidth_wrapper_tp_banner\").length&&(\"fullscreen\"!==x.sliderLayout||\"on\"!=x.fullScreenAutoWidth)){var o=i.parent(),s=o.css(\"marginBottom\"),l=o.css(\"marginTop\"),d=i.attr(\"id\")+\"_forcefullwidth\";s=void 0===s?0:s,l=void 0===l?0:l,o.wrap('<div class=\"forcefullwidth_wrapper_tp_banner\" id=\"'+d+'\" style=\"position:relative;width:100%;height:auto;margin-top:'+l+\";margin-bottom:\"+s+'\"></div>'),i.closest(\".forcefullwidth_wrapper_tp_banner\").append('<div class=\"tp-fullwidth-forcer\" style=\"width:100%;height:'+i.height()+'px\"></div>'),i.parent().css({marginTop:\"0px\",marginBottom:\"0px\"}),i.parent().css({position:\"absolute\"})}if(void 0!==x.shadow&&0<x.shadow&&(i.parent().addClass(\"tp-shadow\"+x.shadow),i.parent().append('<div class=\"tp-shadowcover\"></div>'),i.parent().find(\".tp-shadowcover\").css({backgroundColor:i.parent().css(\"backgroundColor\"),backgroundImage:i.parent().css(\"backgroundImage\")})),setCurWinRange(x),setCurWinRange(x,!0),!i.hasClass(\"revslider-initialised\")){i.addClass(\"revslider-initialised\"),i.addClass(\"tp-simpleresponsive\"),null==i.attr(\"id\")&&i.attr(\"id\",\"revslider-\"+Math.round(1e3*Math.random()+5)),checkIDS(x,i),x.firefox13=!1,x.ie=!jQuery.support.opacity,x.ie9=9==document.documentMode,x.origcd=x.delay;var c=jQuery.fn.jquery.split(\".\"),u=parseFloat(c[0]),p=parseFloat(c[1]);parseFloat(c[2]||\"0\");1==u&&p<7&&i.html('<div style=\"text-align:center; padding:40px 0px; font-size:20px; color:#992222;\"> The Current Version of jQuery:'+c+\" <br>Please update your jQuery Version to min. 1.7 in Case you wish to use the Revolution Slider Plugin</div>\"),1<u&&(x.ie=!1);var j=new Object;j.addedyt=0,j.addedvim=0,j.addedvid=0,x.scrolleffect.on&&(x.scrolleffect.layers=new Array),i.find(\".tp-caption, .rs-background-video-layer\").each(function(e){var n=jQuery(this),t=n.data(),i=t.autoplayonlyfirsttime,a=t.autoplay,r=(void 0!==t.videomp4||void 0!==t.videowebm||t.videoogv,n.hasClass(\"tp-audiolayer\")),o=t.videoloop,s=!0,l=!1;t.startclasses=n.attr(\"class\"),t.isparallaxlayer=0<=t.startclasses.indexOf(\"rs-parallax\"),n.hasClass(\"tp-static-layer\")&&_R.handleStaticLayers&&(_R.handleStaticLayers(n,x),x.scrolleffect.on&&(\"on\"===x.scrolleffect.on_parallax_static_layers&&t.isparallaxlayer||\"on\"===x.scrolleffect.on_static_layers&&!t.isparallaxlayer)&&(l=!0),s=!1);var d=n.data(\"noposteronmobile\")||n.data(\"noPosterOnMobile\")||n.data(\"posteronmobile\")||n.data(\"posterOnMobile\")||n.data(\"posterOnMObile\");n.data(\"noposteronmobile\",d);var c=0;if(n.find(\"iframe\").each(function(){punchgs.TweenLite.set(jQuery(this),{autoAlpha:0}),c++}),0<c&&n.data(\"iframes\",!0),n.hasClass(\"tp-caption\")){var u=n.hasClass(\"slidelink\")?\"width:100% !important;height:100% !important;\":\"\",p=n.data(),h=\"\",f=p.type,g=\"row\"===f||\"column\"===f?\"relative\":\"absolute\",v=\"\";\"row\"===f?(n.addClass(\"rev_row\").removeClass(\"tp-resizeme\"),v=\"rev_row_wrap\"):\"column\"===f?(h=void 0===p.verticalalign?\" vertical-align:bottom;\":\" vertical-align:\"+p.verticalalign+\";\",v=\"rev_column\",n.addClass(\"rev_column_inner\").removeClass(\"tp-resizeme\"),n.data(\"width\",\"auto\"),punchgs.TweenLite.set(n,{width:\"auto\"})):\"group\"===f&&n.removeClass(\"tp-resizeme\");var m=\"\",y=\"\";\"row\"!==f&&\"group\"!==f&&\"column\"!==f?(m=\"display:\"+n.css(\"display\")+\";\",0<n.closest(\".rev_column\").length?(n.addClass(\"rev_layer_in_column\"),s=!1):0<n.closest(\".rev_group\").length&&(n.addClass(\"rev_layer_in_group\"),s=!1)):\"column\"===f&&(s=!1),void 0!==p.wrapper_class&&(v=v+\" \"+p.wrapper_class),void 0!==p.wrapper_id&&(y='id=\"'+p.wrapper_id+'\"');var w=\"\";n.hasClass(\"tp-no-events\")&&(w=\";pointer-events:none\"),n.wrap(\"<div \"+y+' class=\"tp-parallax-wrap '+v+'\" style=\"'+h+\" \"+u+\"position:\"+g+\";\"+m+\";visibility:hidden\"+w+'\"><div class=\"tp-loop-wrap\" style=\"'+u+\"position:\"+g+\";\"+m+';\"><div class=\"tp-mask-wrap\" style=\"'+u+\"position:\"+g+\";\"+m+';\" ></div></div></div>'),s&&x.scrolleffect.on&&(\"on\"===x.scrolleffect.on_parallax_layers&&t.isparallaxlayer||\"on\"===x.scrolleffect.on_layers&&!t.isparallaxlayer)&&x.scrolleffect.layers.push(n.parent()),l&&x.scrolleffect.layers.push(n.parent()),\"column\"===f&&(n.append('<div class=\"rev_column_bg rev_column_bg_man_sized\" style=\"visibility:hidden\"></div>'),n.closest(\".tp-parallax-wrap\").append('<div class=\"rev_column_bg rev_column_bg_auto_sized\"></div>'));var b=n.closest(\".tp-loop-wrap\");jQuery.each([\"pendulum\",\"rotate\",\"slideloop\",\"pulse\",\"wave\"],function(e,t){var i=n.find(\".rs-\"+t),a=i.data()||\"\";\"\"!=a&&(b.data(a),b.addClass(\"rs-\"+t),i.children(0).unwrap(),n.data(\"loopanimation\",\"on\"))}),void 0===n.attr(\"id\")&&n.attr(\"id\",\"layer-\"+Math.round(999999999*Math.random())),checkIDS(x,n),punchgs.TweenLite.set(n,{visibility:\"hidden\"})}var _=n.data(\"actions\");void 0!==_&&_R.checkActions(n,x,_),checkHoverDependencies(n,x),_R.checkVideoApis&&(j=_R.checkVideoApis(n,x,j)),r||1!=i&&\"true\"!=i&&\"1sttime\"!=a||\"loopandnoslidestop\"==o||n.closest(\"li.tp-revslider-slidesli\").addClass(\"rs-pause-timer-once\"),r||1!=a&&\"true\"!=a&&\"on\"!=a&&\"no1sttime\"!=a||\"loopandnoslidestop\"==o||n.closest(\"li.tp-revslider-slidesli\").addClass(\"rs-pause-timer-always\")}),i[0].addEventListener(\"mouseenter\",function(){i.trigger(\"tp-mouseenter\"),x.overcontainer=!0},{passive:!0}),i[0].addEventListener(\"mouseover\",function(){i.trigger(\"tp-mouseover\"),x.overcontainer=!0},{passive:!0}),i[0].addEventListener(\"mouseleave\",function(){i.trigger(\"tp-mouseleft\"),x.overcontainer=!1},{passive:!0}),i.find(\".tp-caption video\").each(function(e){var t=jQuery(this);t.removeClass(\"video-js vjs-default-skin\"),t.attr(\"preload\",\"\"),t.css({display:\"none\"})}),\"standard\"!==x.sliderType&&(x.lazyType=\"all\"),loadImages(i.find(\".tp-static-layers\"),x,0,!0),waitForCurrentImages(i.find(\".tp-static-layers\"),x,function(){i.find(\".tp-static-layers img\").each(function(){var e=jQuery(this),t=null!=e.data(\"lazyload\")?e.data(\"lazyload\"):e.attr(\"src\"),i=getLoadObj(x,t);e.attr(\"src\",i.src)})}),x.rowzones=[],x.allli.each(function(e){var t=jQuery(this);x.rowzones[e]=[],t.find(\".rev_row_zone\").each(function(){x.rowzones[e].push(jQuery(this))}),\"all\"!=x.lazyType&&(\"smart\"!=x.lazyType||0!=e&&1!=e&&e!=x.slideamount&&e!=x.slideamount-1)||(loadImages(t,x,e),waitForCurrentImages(t,x,function(){}))});var h=getUrlVars(\"#\")[0];if(h.length<9&&1<h.split(\"slide\").length){var f=parseInt(h.split(\"slide\")[1],0);f<1&&(f=1),f>x.slideamount&&(f=x.slideamount),x.startWithSlide=f-1}i.append('<div class=\"tp-loader '+x.spinner+'\"><div class=\"dot1\"></div><div class=\"dot2\"></div><div class=\"bounce1\"></div><div class=\"bounce2\"></div><div class=\"bounce3\"></div></div>'),x.loader=i.find(\".tp-loader\"),0===i.find(\".tp-bannertimer\").length&&i.append('<div class=\"tp-bannertimer\" style=\"visibility:hidden\"></div>'),i.find(\".tp-bannertimer\").css({width:\"0%\"}),x.ul.css({display:\"block\"}),prepareSlides(i,x),(\"off\"!==x.parallax.type||x.scrolleffect.on)&&_R.checkForParallax&&_R.checkForParallax(i,x),_R.setSize(x),\"hero\"!==x.sliderType&&_R.createNavigation&&_R.createNavigation(i,x),_R.resizeThumbsTabs&&_R.resizeThumbsTabs&&_R.resizeThumbsTabs(x),contWidthManager(x);var g=x.viewPort;x.inviewport=!1,null!=g&&g.enable&&(jQuery.isNumeric(g.visible_area)||-1!==g.visible_area.indexOf(\"%\")&&(g.visible_area=parseInt(g.visible_area)/100),_R.scrollTicker&&_R.scrollTicker(x,i)),\"carousel\"===x.sliderType&&_R.prepareCarousel&&(punchgs.TweenLite.set(x.ul,{opacity:0}),_R.prepareCarousel(x,new punchgs.TimelineLite,void 0,0),x.onlyPreparedSlide=!0),setTimeout(function(){if(!g.enable||g.enable&&x.inviewport||g.enable&&!x.inviewport&&\"wait\"==!g.outof)swapSlide(i);else if(x.c.addClass(\"tp-waitforfirststart\"),x.waitForFirstSlide=!0,g.presize){var e=jQuery(x.li[0]);loadImages(e,x,0,!0),waitForCurrentImages(e.find(\".tp-layers\"),x,function(){_R.animateTheCaptions({slide:e,opt:x,preset:!0})})}_R.manageNavigation&&_R.manageNavigation(x),1<x.slideamount&&(!g.enable||g.enable&&x.inviewport?countDown(i,x):x.waitForCountDown=!0),setTimeout(function(){i.trigger(\"revolution.slide.onloaded\")},100)},x.startDelay),x.startDelay=0,jQuery(\"body\").data(\"rs-fullScreenMode\",!1),window.addEventListener(\"fullscreenchange\",onFullScreenChange,{passive:!0}),window.addEventListener(\"mozfullscreenchange\",onFullScreenChange,{passive:!0}),window.addEventListener(\"webkitfullscreenchange\",onFullScreenChange,{passive:!0});var v=\"resize.revslider-\"+i.attr(\"id\");jQuery(window).on(v,function(){if(null==i)return!1;0!=jQuery(\"body\").find(i)&&contWidthManager(x);var e=!1;if(\"fullscreen\"==x.sliderLayout){var t=jQuery(window).height();\"mobile\"==x.fallbacks.ignoreHeightChanges&&_ISM||\"always\"==x.fallbacks.ignoreHeightChanges?(x.fallbacks.ignoreHeightChangesSize=null==x.fallbacks.ignoreHeightChangesSize?0:x.fallbacks.ignoreHeightChangesSize,e=t!=x.lastwindowheight&&Math.abs(t-x.lastwindowheight)>x.fallbacks.ignoreHeightChangesSize):e=t!=x.lastwindowheight}(i.outerWidth(!0)!=x.width||i.is(\":hidden\")||e)&&(x.lastwindowheight=jQuery(window).height(),containerResized(i,x))}),hideSliderUnder(i,x),contWidthManager(x),x.fallbacks.disableFocusListener||\"true\"==x.fallbacks.disableFocusListener||!0===x.fallbacks.disableFocusListener||(i.addClass(\"rev_redraw_on_blurfocus\"),tabBlurringCheck())}},cArray=function(e,t){if(!jQuery.isArray(e)){var i=e;(e=new Array).push(i)}if(e.length<t){i=e[e.length-1];for(var a=0;a<t-e.length+2;a++)e.push(i)}return e},checkHoverDependencies=function(e,n){var t=e.data();(\"sliderenter\"===t.start||void 0!==t.frames&&null!=t.frames[0]&&\"sliderenter\"===t.frames[0].delay)&&(void 0===n.layersonhover&&(n.c.on(\"tp-mouseenter\",function(){n.layersonhover&&jQuery.each(n.layersonhover,function(e,t){var i=t.data(\"closestli\")||t.closest(\".tp-revslider-slidesli\"),a=t.data(\"staticli\")||t.closest(\".tp-static-layers\");void 0===t.data(\"closestli\")&&(t.data(\"closestli\",i),t.data(\"staticli\",a)),(0<i.length&&i.hasClass(\"active-revslide\")||i.hasClass(\"processing-revslide\")||0<a.length)&&(t.data(\"animdirection\",\"in\"),_R.playAnimationFrame&&_R.playAnimationFrame({caption:t,opt:n,frame:\"frame_0\",triggerdirection:\"in\",triggerframein:\"frame_0\",triggerframeout:\"frame_999\"}),t.data(\"triggerstate\",\"on\"))})}),n.c.on(\"tp-mouseleft\",function(){n.layersonhover&&jQuery.each(n.layersonhover,function(e,t){t.data(\"animdirection\",\"out\"),t.data(\"triggered\",!0),t.data(\"triggerstate\",\"off\"),_R.stopVideo&&_R.stopVideo(t,n),_R.playAnimationFrame&&_R.playAnimationFrame({caption:t,opt:n,frame:\"frame_999\",triggerdirection:\"out\",triggerframein:\"frame_0\",triggerframeout:\"frame_999\"})})}),n.layersonhover=new Array),n.layersonhover.push(e))},contWidthManager=function(e){var t=_R.getHorizontalOffset(e.c,\"left\");if(\"auto\"==e.sliderLayout||\"fullscreen\"===e.sliderLayout&&\"on\"==e.fullScreenAutoWidth)\"fullscreen\"==e.sliderLayout&&\"on\"==e.fullScreenAutoWidth?punchgs.TweenLite.set(e.ul,{left:0,width:e.c.width()}):punchgs.TweenLite.set(e.ul,{left:t,width:e.c.width()-_R.getHorizontalOffset(e.c,\"both\")});else{var i=Math.ceil(e.c.closest(\".forcefullwidth_wrapper_tp_banner\").offset().left-t);punchgs.TweenLite.set(e.c.parent(),{left:0-i+\"px\",width:jQuery(window).width()-_R.getHorizontalOffset(e.c,\"both\")})}e.slayers&&\"fullwidth\"!=e.sliderLayout&&\"fullscreen\"!=e.sliderLayout&&punchgs.TweenLite.set(e.slayers,{left:t})},cv=function(e,t){return void 0===e?t:e},hideSliderUnder=function(e,t,i){var a=e.parent();jQuery(window).width()<t.hideSliderAtLimit?(e.trigger(\"stoptimer\"),\"none\"!=a.css(\"display\")&&a.data(\"olddisplay\",a.css(\"display\")),a.css({display:\"none\"})):e.is(\":hidden\")&&i&&(null!=a.data(\"olddisplay\")&&\"undefined\"!=a.data(\"olddisplay\")&&\"none\"!=a.data(\"olddisplay\")?a.css({display:a.data(\"olddisplay\")}):a.css({display:\"block\"}),e.trigger(\"restarttimer\"),setTimeout(function(){containerResized(e,t)},150)),_R.hideUnHideNav&&_R.hideUnHideNav(t)},containerResized=function(e,t){if(e.trigger(\"revolution.slide.beforeredraw\"),1==t.infullscreenmode&&(t.minHeight=jQuery(window).height()),setCurWinRange(t),setCurWinRange(t,!0),!_R.resizeThumbsTabs||!0===_R.resizeThumbsTabs(t)){if(hideSliderUnder(e,t,!0),contWidthManager(t),\"carousel\"==t.sliderType&&_R.prepareCarousel(t,!0),void 0===e)return!1;_R.setSize(t),t.conw=t.c.width(),t.conh=t.infullscreenmode?t.minHeight:t.c.height();var i=e.find(\".active-revslide .slotholder\"),a=e.find(\".processing-revslide .slotholder\");removeSlots(e,t,e,2),\"standard\"===t.sliderType&&(punchgs.TweenLite.set(a.find(\".defaultimg\"),{opacity:0}),i.find(\".defaultimg\").css({opacity:1})),\"carousel\"===t.sliderType&&t.lastconw!=t.conw&&(clearTimeout(t.pcartimer),t.pcartimer=setTimeout(function(){_R.prepareCarousel(t,!0),\"carousel\"==t.sliderType&&\"on\"===t.carousel.showLayersAllTime&&jQuery.each(t.li,function(e){_R.animateTheCaptions({slide:jQuery(t.li[e]),opt:t,recall:!0})})},100),t.lastconw=t.conw),_R.manageNavigation&&_R.manageNavigation(t),_R.animateTheCaptions&&0<e.find(\".active-revslide\").length&&_R.animateTheCaptions({slide:e.find(\".active-revslide\"),opt:t,recall:!0}),\"on\"==a.data(\"kenburns\")&&_R.startKenBurn(a,t,void 0!==a.data(\"kbtl\")?a.data(\"kbtl\").progress():0),\"on\"==i.data(\"kenburns\")&&_R.startKenBurn(i,t,void 0!==i.data(\"kbtl\")?i.data(\"kbtl\").progress():0),_R.animateTheCaptions&&0<e.find(\".processing-revslide\").length&&_R.animateTheCaptions({slide:e.find(\".processing-revslide\"),opt:t,recall:!0}),_R.manageNavigation&&_R.manageNavigation(t)}e.trigger(\"revolution.slide.afterdraw\")},setScale=function(e){e.bw=e.width/e.gridwidth[e.curWinRange],e.bh=e.height/e.gridheight[e.curWinRange],e.bh>e.bw?e.bh=e.bw:e.bw=e.bh,(1<e.bh||1<e.bw)&&(e.bw=1,e.bh=1)},prepareSlides=function(e,u){if(e.find(\".tp-caption\").each(function(){var e=jQuery(this);void 0!==e.data(\"transition\")&&e.addClass(e.data(\"transition\"))}),u.ul.css({overflow:\"hidden\",width:\"100%\",height:\"100%\",maxHeight:e.parent().css(\"maxHeight\")}),\"on\"==u.autoHeight&&(u.ul.css({overflow:\"hidden\",width:\"100%\",height:\"100%\",maxHeight:\"none\"}),e.css({maxHeight:\"none\"}),e.parent().css({maxHeight:\"none\"})),u.allli.each(function(e){var t=jQuery(this),i=t.data(\"originalindex\");(null!=u.startWithSlide&&i==u.startWithSlide||void 0===u.startWithSlide&&0==e)&&t.addClass(\"next-revslide\"),t.css({width:\"100%\",height:\"100%\",overflow:\"hidden\"})}),\"carousel\"===u.sliderType){u.ul.css({overflow:\"visible\"}).wrap('<div class=\"tp-carousel-wrapper\" style=\"width:100%;height:100%;position:absolute;top:0px;left:0px;overflow:hidden;\"></div>');var t='<div style=\"clear:both;display:block;width:100%;height:1px;position:relative;margin-bottom:-1px\"></div>';u.c.parent().prepend(t),u.c.parent().append(t),_R.prepareCarousel(u)}e.parent().css({overflow:\"visible\"}),u.allli.find(\">img\").each(function(e){var t=jQuery(this),i=t.closest(\"li\"),a=i.find(\".rs-background-video-layer\");a.addClass(\"defaultvid\").css({zIndex:30}),t.addClass(\"defaultimg\"),\"on\"==u.fallbacks.panZoomDisableOnMobile&&_ISM&&(t.data(\"kenburns\",\"off\"),t.data(\"bgfit\",\"cover\"));var n=i.data(\"mediafilter\");n=\"none\"===n||void 0===n?\"\":n,t.wrap('<div class=\"slotholder\" style=\"position:absolute; top:0px; left:0px; z-index:0;width:100%;height:100%;\"></div>'),a.appendTo(i.find(\".slotholder\"));var r=t.data();t.closest(\".slotholder\").data(r),0<a.length&&null!=r.bgparallax&&(a.data(\"bgparallax\",r.bgparallax),a.data(\"showcoveronpause\",\"on\")),\"none\"!=u.dottedOverlay&&null!=u.dottedOverlay&&t.closest(\".slotholder\").append('<div class=\"tp-dottedoverlay '+u.dottedOverlay+'\"></div>');var o=t.attr(\"src\");r.src=o,r.bgfit=r.bgfit||\"cover\",r.bgrepeat=r.bgrepeat||\"no-repeat\",r.bgposition=r.bgposition||\"center center\";t.closest(\".slotholder\");var s=t.data(\"bgcolor\"),l=\"\";l=void 0!==s&&0<=s.indexOf(\"gradient\")?'\"background:'+s+';width:100%;height:100%;\"':'\"background-color:'+s+\";background-repeat:\"+r.bgrepeat+\";background-image:url(\"+o+\");background-size:\"+r.bgfit+\";background-position:\"+r.bgposition+';width:100%;height:100%;\"',t.data(\"mediafilter\",n),n=\"on\"===t.data(\"kenburns\")?\"\":n;var d=jQuery('<div class=\"tp-bgimg defaultimg '+n+'\" data-bgcolor=\"'+s+'\" style='+l+\"></div>\");t.parent().append(d);var c=document.createComment(\"Runtime Modification - Img tag is Still Available for SEO Goals in Source - \"+t.get(0).outerHTML);t.replaceWith(c),d.data(r),d.attr(\"src\",o),\"standard\"!==u.sliderType&&\"undefined\"!==u.sliderType||d.css({opacity:0})}),u.scrolleffect.on&&\"on\"===u.scrolleffect.on_slidebg&&(u.allslotholder=new Array,u.allli.find(\".slotholder\").each(function(){jQuery(this).wrap('<div style=\"display:block;position:absolute;top:0px;left:0px;width:100%;height:100%\" class=\"slotholder_fadeoutwrap\"></div>')}),u.allslotholder=u.c.find(\".slotholder_fadeoutwrap\"))},removeSlots=function(e,t,i,a){t.removePrepare=t.removePrepare+a,i.find(\".slot, .slot-circle-wrapper\").each(function(){jQuery(this).remove()}),t.transition=0,t.removePrepare=0},cutParams=function(e){var t=e;return null!=e&&0<e.length&&(t=e.split(\"?\")[0]),t},relativeRedir=function(e){return location.pathname.replace(/(.*)\\/[^/]*/,\"$1/\"+e)},abstorel=function(e,t){var i=e.split(\"/\"),a=t.split(\"/\");i.pop();for(var n=0;n<a.length;n++)\".\"!=a[n]&&(\"..\"==a[n]?i.pop():i.push(a[n]));return i.join(\"/\")},imgLoaded=function(l,e,d){e.syncload--,e.loadqueue&&jQuery.each(e.loadqueue,function(e,t){var i=t.src.replace(/\\.\\.\\/\\.\\.\\//gi,\"\"),a=self.location.href,n=document.location.origin,r=a.substring(0,a.length-1)+\"/\"+i,o=n+\"/\"+i,s=abstorel(self.location.href,t.src);a=a.substring(0,a.length-1)+i,(cutParams(n+=i)===cutParams(decodeURIComponent(l.src))||cutParams(a)===cutParams(decodeURIComponent(l.src))||cutParams(s)===cutParams(decodeURIComponent(l.src))||cutParams(o)===cutParams(decodeURIComponent(l.src))||cutParams(r)===cutParams(decodeURIComponent(l.src))||cutParams(t.src)===cutParams(decodeURIComponent(l.src))||cutParams(t.src).replace(/^.*\\/\\/[^\\/]+/,\"\")===cutParams(decodeURIComponent(l.src)).replace(/^.*\\/\\/[^\\/]+/,\"\")||\"file://\"===window.location.origin&&cutParams(l.src).match(new RegExp(i)))&&(t.progress=d,t.width=l.width,t.height=l.height)}),progressImageLoad(e)},progressImageLoad=function(a){3!=a.syncload&&a.loadqueue&&jQuery.each(a.loadqueue,function(e,t){if(t.progress.match(/prepared/g)&&a.syncload<=3){if(a.syncload++,\"img\"==t.type){var i=new Image;i.onload=function(){imgLoaded(this,a,\"loaded\"),t.error=!1},i.onerror=function(){imgLoaded(this,a,\"failed\"),t.error=!0},i.src=t.src}else jQuery.get(t.src,function(e){t.innerHTML=(new XMLSerializer).serializeToString(e.documentElement),t.progress=\"loaded\",a.syncload--,progressImageLoad(a)}).fail(function(){t.progress=\"failed\",a.syncload--,progressImageLoad(a)});t.progress=\"inload\"}})},addToLoadQueue=function(i,e,t,a,n){var r=!1;if(e.loadqueue&&jQuery.each(e.loadqueue,function(e,t){t.src===i&&(r=!0)}),!r){var o=new Object;o.src=i,o.starttoload=jQuery.now(),o.type=a||\"img\",o.prio=t,o.progress=\"prepared\",o.static=n,e.loadqueue.push(o)}},loadImages=function(e,a,n,r){e.find(\"img,.defaultimg, .tp-svg-layer\").each(function(){var e=jQuery(this),t=void 0!==e.data(\"lazyload\")&&\"undefined\"!==e.data(\"lazyload\")?e.data(\"lazyload\"):null!=e.data(\"svg_src\")?e.data(\"svg_src\"):e.attr(\"src\"),i=null!=e.data(\"svg_src\")?\"svg\":\"img\";e.data(\"start-to-load\",jQuery.now()),addToLoadQueue(t,a,n,i,r)}),progressImageLoad(a)},getLoadObj=function(e,i){var a=new Object;return e.loadqueue&&jQuery.each(e.loadqueue,function(e,t){t.src==i&&(a=t)}),a},waitForCurrentImages=function(o,s,e){var l=!1;o.find(\"img,.defaultimg, .tp-svg-layer\").each(function(){var e=jQuery(this),t=null!=e.data(\"lazyload\")?e.data(\"lazyload\"):null!=e.data(\"svg_src\")?e.data(\"svg_src\"):e.attr(\"src\"),i=getLoadObj(s,t);if(void 0===e.data(\"loaded\")&&void 0!==i&&i.progress&&i.progress.match(/loaded/g)){if(e.attr(\"src\",i.src),\"img\"==i.type)if(e.hasClass(\"defaultimg\"))_R.isIE(8)?defimg.attr(\"src\",i.src):-1==i.src.indexOf(\"images/transparent.png\")&&-1==i.src.indexOf(\"assets/transparent.png\")||void 0===e.data(\"bgcolor\")?e.css({backgroundImage:'url(\"'+i.src+'\")'}):void 0!==e.data(\"bgcolor\")&&e.css({background:e.data(\"bgcolor\")}),o.data(\"owidth\",i.width),o.data(\"oheight\",i.height),o.find(\".slotholder\").data(\"owidth\",i.width),o.find(\".slotholder\").data(\"oheight\",i.height);else{var a=e.data(\"ww\"),n=e.data(\"hh\");e.data(\"owidth\",i.width),e.data(\"oheight\",i.height),a=null==a||\"auto\"==a||\"\"==a?i.width:a,n=null==n||\"auto\"==n||\"\"==n?i.height:n,!jQuery.isNumeric(a)&&0<a.indexOf(\"%\")&&(n=a),e.data(\"ww\",a),e.data(\"hh\",n)}else\"svg\"==i.type&&\"loaded\"==i.progress&&(e.append('<div class=\"tp-svg-innercontainer\"></div>'),e.find(\".tp-svg-innercontainer\").append(i.innerHTML));e.data(\"loaded\",!0)}if(i&&i.progress&&i.progress.match(/inprogress|inload|prepared/g)&&(!i.error&&jQuery.now()-e.data(\"start-to-load\")<5e3?l=!0:(i.progress=\"failed\",i.reported_img||(i.reported_img=!0,console.warn(t+\"  Could not be loaded !\")))),1==s.youtubeapineeded&&(!window.YT||null==YT.Player)&&(l=!0,5e3<jQuery.now()-s.youtubestarttime&&1!=s.youtubewarning)){s.youtubewarning=!0;var r=\"YouTube Api Could not be loaded !\";\"https:\"===location.protocol&&(r+=\" Please Check and Renew SSL Certificate !\"),console.error(r),s.c.append('<div style=\"position:absolute;top:50%;width:100%;color:#e74c3c;  font-size:16px; text-align:center; padding:15px;background:#000; display:block;\"><strong>'+r+\"</strong></div>\")}if(1==s.vimeoapineeded&&!window.Vimeo&&(l=!0,5e3<jQuery.now()-s.vimeostarttime&&1!=s.vimeowarning)){s.vimeowarning=!0;r=\"Vimeo Api Could not be loaded !\";\"https:\"===location.protocol&&(r+=\" Please Check and Renew SSL Certificate !\"),console.error(r),s.c.append('<div style=\"position:absolute;top:50%;width:100%;color:#e74c3c;  font-size:16px; text-align:center; padding:15px;background:#000; display:block;\"><strong>'+r+\"</strong></div>\")}}),!_ISM&&s.audioqueue&&0<s.audioqueue.length&&jQuery.each(s.audioqueue,function(e,t){t.status&&\"prepared\"===t.status&&jQuery.now()-t.start<t.waittime&&(l=!0)}),jQuery.each(s.loadqueue,function(e,t){!0!==t.static||\"loaded\"==t.progress&&\"failed\"!==t.progress||(\"failed\"==t.progress?t.reported||(t.reported=!0,console.warn(\"Static Image \"+t.src+\"  Could not be loaded in time. Error Exists:\"+t.error)):!t.error&&jQuery.now()-t.starttoload<5e3?l=!0:t.reported||(t.reported=!0,console.warn(\"Static Image \"+t.src+\"  Could not be loaded within 5s! Error Exists:\"+t.error)))}),l?punchgs.TweenLite.delayedCall(.18,waitForCurrentImages,[o,s,e]):punchgs.TweenLite.delayedCall(.18,e)},swapSlide=function(e){var t=e[0].opt;if(clearTimeout(t.waitWithSwapSlide),0<e.find(\".processing-revslide\").length)return t.waitWithSwapSlide=setTimeout(function(){swapSlide(e)},150),!1;var i=e.find(\".active-revslide\"),a=e.find(\".next-revslide\"),n=a.find(\".defaultimg\");if(\"carousel\"!==t.sliderType||t.carousel.fadein||(punchgs.TweenLite.to(t.ul,1,{opacity:1}),t.carousel.fadein=!0),a.index()===i.index()&&!0!==t.onlyPreparedSlide)return a.removeClass(\"next-revslide\"),!1;!0===t.onlyPreparedSlide&&(t.onlyPreparedSlide=!1,jQuery(t.li[0]).addClass(\"processing-revslide\")),a.removeClass(\"next-revslide\").addClass(\"processing-revslide\"),-1===a.index()&&\"carousel\"===t.sliderType&&(a=jQuery(t.li[0])),a.data(\"slide_on_focus_amount\",a.data(\"slide_on_focus_amount\")+1||1),\"on\"==t.stopLoop&&a.index()==t.lastslidetoshow-1&&(e.find(\".tp-bannertimer\").css({visibility:\"hidden\"}),e.trigger(\"revolution.slide.onstop\"),t.noloopanymore=1),a.index()===t.slideamount-1&&(t.looptogo=t.looptogo-1,t.looptogo<=0&&(t.stopLoop=\"on\")),t.tonpause=!0,e.trigger(\"stoptimer\"),t.cd=0,\"off\"===t.spinner&&(void 0!==t.loader?t.loader.css({display:\"none\"}):t.loadertimer=setTimeout(function(){void 0!==t.loader&&t.loader.css({display:\"block\"})},50)),loadImages(a,t,1),_R.preLoadAudio&&_R.preLoadAudio(a,t,1),waitForCurrentImages(a,t,function(){a.find(\".rs-background-video-layer\").each(function(){var e=jQuery(this);e.hasClass(\"HasListener\")||(e.data(\"bgvideo\",1),_R.manageVideoLayer&&_R.manageVideoLayer(e,t)),0==e.find(\".rs-fullvideo-cover\").length&&e.append('<div class=\"rs-fullvideo-cover\"></div>')}),swapSlideProgress(n,e)})},swapSlideProgress=function(e,t){var i=t.find(\".active-revslide\"),a=t.find(\".processing-revslide\"),n=i.find(\".slotholder\"),r=a.find(\".slotholder\"),o=t[0].opt;o.tonpause=!1,o.cd=0,clearTimeout(o.loadertimer),void 0!==o.loader&&o.loader.css({display:\"none\"}),_R.setSize(o),_R.slotSize(e,o),_R.manageNavigation&&_R.manageNavigation(o);var s={};s.nextslide=a,s.currentslide=i,t.trigger(\"revolution.slide.onbeforeswap\",s),o.transition=1,o.videoplaying=!1,null!=a.data(\"delay\")?(o.cd=0,o.delay=a.data(\"delay\")):o.delay=o.origcd,\"true\"==a.data(\"ssop\")||!0===a.data(\"ssop\")?o.ssop=!0:o.ssop=!1,t.trigger(\"nulltimer\");var l=i.index(),d=a.index();o.sdir=d<l?1:0,\"arrow\"==o.sc_indicator&&(0==l&&d==o.slideamount-1&&(o.sdir=1),l==o.slideamount-1&&0==d&&(o.sdir=0)),o.lsdir=void 0===o.lsdir?o.sdir:o.lsdir,o.dirc=o.lsdir!=o.sdir,o.lsdir=o.sdir,i.index()!=a.index()&&1!=o.firststart&&_R.removeTheCaptions&&_R.removeTheCaptions(i,o),a.hasClass(\"rs-pause-timer-once\")||a.hasClass(\"rs-pause-timer-always\")?o.videoplaying=!0:t.trigger(\"restarttimer\"),a.removeClass(\"rs-pause-timer-once\");var c;if(o.currentSlide=i.index(),o.nextSlide=a.index(),\"carousel\"==o.sliderType)c=new punchgs.TimelineLite,_R.prepareCarousel(o,c),letItFree(t,r,n,a,i,c),o.transition=0,o.firststart=0;else{(c=new punchgs.TimelineLite({onComplete:function(){letItFree(t,r,n,a,i,c)}})).add(punchgs.TweenLite.set(r.find(\".defaultimg\"),{opacity:0})),c.pause(),_R.animateTheCaptions&&_R.animateTheCaptions({slide:a,opt:o,preset:!0}),1==o.firststart&&(punchgs.TweenLite.set(i,{autoAlpha:0}),o.firststart=0),punchgs.TweenLite.set(i,{zIndex:18}),punchgs.TweenLite.set(a,{autoAlpha:0,zIndex:20}),\"prepared\"==a.data(\"differentissplayed\")&&(a.data(\"differentissplayed\",\"done\"),a.data(\"transition\",a.data(\"savedtransition\")),a.data(\"slotamount\",a.data(\"savedslotamount\")),a.data(\"masterspeed\",a.data(\"savedmasterspeed\"))),null!=a.data(\"fstransition\")&&\"done\"!=a.data(\"differentissplayed\")&&(a.data(\"savedtransition\",a.data(\"transition\")),a.data(\"savedslotamount\",a.data(\"slotamount\")),a.data(\"savedmasterspeed\",a.data(\"masterspeed\")),a.data(\"transition\",a.data(\"fstransition\")),a.data(\"slotamount\",a.data(\"fsslotamount\")),a.data(\"masterspeed\",a.data(\"fsmasterspeed\")),a.data(\"differentissplayed\",\"prepared\")),null==a.data(\"transition\")&&a.data(\"transition\",\"random\");var u=void 0!==a.data(\"transition\")?a.data(\"transition\").split(\",\"):\"fade\",p=null==a.data(\"nexttransid\")?-1:a.data(\"nexttransid\");\"on\"==a.data(\"randomtransition\")?p=Math.round(Math.random()*u.length):p+=1,p==u.length&&(p=0),a.data(\"nexttransid\",p);var h=u[p];o.ie&&(\"boxfade\"==h&&(h=\"boxslide\"),\"slotfade-vertical\"==h&&(h=\"slotzoom-vertical\"),\"slotfade-horizontal\"==h&&(h=\"slotzoom-horizontal\")),_R.isIE(8)&&(h=11),c=_R.animateSlide(0,h,t,a,i,r,n,c),\"on\"==r.data(\"kenburns\")&&(_R.startKenBurn(r,o),c.add(punchgs.TweenLite.set(r,{autoAlpha:0}))),c.pause()}_R.scrollHandling&&(_R.scrollHandling(o,!0,0),c.eventCallback(\"onUpdate\",function(){_R.scrollHandling(o,!0,0)})),\"off\"!=o.parallax.type&&null==o.parallax.firstgo&&_R.scrollHandling&&(o.parallax.firstgo=!0,o.lastscrolltop=-999,_R.scrollHandling(o,!0,0),setTimeout(function(){o.lastscrolltop=-999,_R.scrollHandling(o,!0,0)},210),setTimeout(function(){o.lastscrolltop=-999,_R.scrollHandling(o,!0,0)},420)),_R.animateTheCaptions?\"carousel\"===o.sliderType&&\"on\"===o.carousel.showLayersAllTime?(jQuery.each(o.li,function(e){o.carousel.allLayersStarted?_R.animateTheCaptions({slide:jQuery(o.li[e]),opt:o,recall:!0}):o.li[e]===a?_R.animateTheCaptions({slide:jQuery(o.li[e]),maintimeline:c,opt:o,startslideanimat:0}):_R.animateTheCaptions({slide:jQuery(o.li[e]),opt:o,startslideanimat:0})}),o.carousel.allLayersStarted=!0):_R.animateTheCaptions({slide:a,opt:o,maintimeline:c,startslideanimat:0}):null!=c&&setTimeout(function(){c.resume()},30),punchgs.TweenLite.to(a,.001,{autoAlpha:1})},letItFree=function(e,t,i,a,n,r){var o=e[0].opt;\"carousel\"===o.sliderType||(o.removePrepare=0,punchgs.TweenLite.to(t.find(\".defaultimg\"),.001,{zIndex:20,autoAlpha:1,onComplete:function(){removeSlots(e,o,a,1)}}),a.index()!=n.index()&&punchgs.TweenLite.to(n,.2,{zIndex:18,autoAlpha:0,onComplete:function(){removeSlots(e,o,n,1)}})),e.find(\".active-revslide\").removeClass(\"active-revslide\"),e.find(\".processing-revslide\").removeClass(\"processing-revslide\").addClass(\"active-revslide\"),o.act=a.index(),o.c.attr(\"data-slideactive\",e.find(\".active-revslide\").data(\"index\")),\"scroll\"!=o.parallax.type&&\"scroll+mouse\"!=o.parallax.type&&\"mouse+scroll\"!=o.parallax.type||(o.lastscrolltop=-999,_R.scrollHandling(o)),r.clear(),null!=i.data(\"kbtl\")&&(i.data(\"kbtl\").reverse(),i.data(\"kbtl\").timeScale(25)),\"on\"==t.data(\"kenburns\")&&(null!=t.data(\"kbtl\")?(t.data(\"kbtl\").timeScale(1),t.data(\"kbtl\").play()):_R.startKenBurn(t,o)),a.find(\".rs-background-video-layer\").each(function(e){if(_ISM&&!o.fallbacks.allowHTML5AutoPlayOnAndroid)return!1;var t=jQuery(this);_R.resetVideo(t,o,!1,!0),punchgs.TweenLite.fromTo(t,1,{autoAlpha:0},{autoAlpha:1,ease:punchgs.Power3.easeInOut,delay:.2,onComplete:function(){_R.animcompleted&&_R.animcompleted(t,o)}})}),n.find(\".rs-background-video-layer\").each(function(e){if(_ISM)return!1;var t=jQuery(this);_R.stopVideo&&(_R.resetVideo(t,o),_R.stopVideo(t,o)),punchgs.TweenLite.to(t,1,{autoAlpha:0,ease:punchgs.Power3.easeInOut,delay:.2})});var s={};if(s.slideIndex=a.index()+1,s.slideLIIndex=a.index(),s.slide=a,s.currentslide=a,s.prevslide=n,o.last_shown_slide=n.index(),e.trigger(\"revolution.slide.onchange\",s),e.trigger(\"revolution.slide.onafterswap\",s),void 0!==o.startWithSlide&&\"done\"!==o.startWithSlide&&\"carousel\"===o.sliderType){for(var l=o.startWithSlide,d=0;d<=o.li.length-1;d++){jQuery(o.li[d]).data(\"originalindex\")===o.startWithSlide&&(l=d)}0!==l&&_R.callingNewSlide(o.c,l),o.startWithSlide=\"done\"}o.duringslidechange=!1;var c=n.data(\"slide_on_focus_amount\"),u=n.data(\"hideafterloop\");0!=u&&u<=c&&o.c.revremoveslide(n.index());var p=-1===o.nextSlide||void 0===o.nextSlide?0:o.nextSlide;null!=o.rowzones&&(p=p>o.rowzones.length?o.rowzones.length:p),null!=o.rowzones&&0<o.rowzones.length&&null!=o.rowzones[p]&&0<=p&&p<=o.rowzones.length&&0<o.rowzones[p].length&&_R.setSize(o)},removeAllListeners=function(e,t){e.children().each(function(){try{jQuery(this).die(\"click\")}catch(e){}try{jQuery(this).die(\"mouseenter\")}catch(e){}try{jQuery(this).die(\"mouseleave\")}catch(e){}try{jQuery(this).unbind(\"hover\")}catch(e){}});try{e.die(\"click\",\"mouseenter\",\"mouseleave\")}catch(e){}clearInterval(t.cdint),e=null},countDown=function(e,t){t.cd=0,t.loop=0,null!=t.stopAfterLoops&&-1<t.stopAfterLoops?t.looptogo=t.stopAfterLoops:t.looptogo=9999999,null!=t.stopAtSlide&&-1<t.stopAtSlide?t.lastslidetoshow=t.stopAtSlide:t.lastslidetoshow=999,t.stopLoop=\"off\",0==t.looptogo&&(t.stopLoop=\"on\");var i=e.find(\".tp-bannertimer\");e.on(\"stoptimer\",function(){var e=jQuery(this).find(\".tp-bannertimer\");e[0].tween.pause(),\"on\"==t.disableProgressBar&&e.css({visibility:\"hidden\"}),t.sliderstatus=\"paused\",_R.unToggleState(t.slidertoggledby)}),e.on(\"starttimer\",function(){t.forcepause_viatoggle||(1!=t.conthover&&1!=t.videoplaying&&t.width>t.hideSliderAtLimit&&1!=t.tonpause&&1!=t.overnav&&1!=t.ssop&&(1===t.noloopanymore||t.viewPort.enable&&!t.inviewport||(i.css({visibility:\"visible\"}),i[0].tween.resume(),t.sliderstatus=\"playing\")),\"on\"==t.disableProgressBar&&i.css({visibility:\"hidden\"}),_R.toggleState(t.slidertoggledby))}),e.on(\"restarttimer\",function(){if(!t.forcepause_viatoggle){var e=jQuery(this).find(\".tp-bannertimer\");if(t.mouseoncontainer&&\"on\"==t.navigation.onHoverStop&&!_ISM)return!1;1===t.noloopanymore||t.viewPort.enable&&!t.inviewport||1==t.ssop||(e.css({visibility:\"visible\"}),e[0].tween.kill(),e[0].tween=punchgs.TweenLite.fromTo(e,t.delay/1e3,{width:\"0%\"},{force3D:\"auto\",width:\"100%\",ease:punchgs.Linear.easeNone,onComplete:a,delay:1}),t.sliderstatus=\"playing\"),\"on\"==t.disableProgressBar&&e.css({visibility:\"hidden\"}),_R.toggleState(t.slidertoggledby)}}),e.on(\"nulltimer\",function(){i[0].tween.kill(),i[0].tween=punchgs.TweenLite.fromTo(i,t.delay/1e3,{width:\"0%\"},{force3D:\"auto\",width:\"100%\",ease:punchgs.Linear.easeNone,onComplete:a,delay:1}),i[0].tween.pause(0),\"on\"==t.disableProgressBar&&i.css({visibility:\"hidden\"}),t.sliderstatus=\"paused\"});var a=function(){0==jQuery(\"body\").find(e).length&&(removeAllListeners(e,t),clearInterval(t.cdint)),e.trigger(\"revolution.slide.slideatend\"),1==e.data(\"conthover-changed\")&&(t.conthover=e.data(\"conthover\"),e.data(\"conthover-changed\",0)),_R.callingNewSlide(e,1)};i[0].tween=punchgs.TweenLite.fromTo(i,t.delay/1e3,{width:\"0%\"},{force3D:\"auto\",width:\"100%\",ease:punchgs.Linear.easeNone,onComplete:a,delay:1}),1<t.slideamount&&(0!=t.stopAfterLoops||1!=t.stopAtSlide)?e.trigger(\"starttimer\"):(t.noloopanymore=1,e.trigger(\"nulltimer\")),e.on(\"tp-mouseenter\",function(){t.mouseoncontainer=!0,\"on\"!=t.navigation.onHoverStop||_ISM||(e.trigger(\"stoptimer\"),e.trigger(\"revolution.slide.onpause\"))}),e.on(\"tp-mouseleft\",function(){t.mouseoncontainer=!1,1!=e.data(\"conthover\")&&\"on\"==t.navigation.onHoverStop&&(1==t.viewPort.enable&&t.inviewport||0==t.viewPort.enable)&&(e.trigger(\"revolution.slide.onresume\"),e.trigger(\"starttimer\"))})},vis=function(){var t,i,e={hidden:\"visibilitychange\",webkitHidden:\"webkitvisibilitychange\",mozHidden:\"mozvisibilitychange\",msHidden:\"msvisibilitychange\"};for(t in e)if(t in document){i=e[t];break}return function(e){return e&&document.addEventListener(i,e,{pasive:!0}),!document[t]}}(),restartOnFocus=function(){jQuery(\".rev_redraw_on_blurfocus\").each(function(){var e=jQuery(this)[0].opt;if(null==e||null==e.c||0===e.c.length)return!1;1!=e.windowfocused&&(e.windowfocused=!0,punchgs.TweenLite.delayedCall(.3,function(){\"on\"==e.fallbacks.nextSlideOnWindowFocus&&e.c.revnext(),e.c.revredraw(),\"playing\"==e.lastsliderstatus&&e.c.revresume()}))})},lastStatBlur=function(){jQuery(\".rev_redraw_on_blurfocus\").each(function(){var e=jQuery(this)[0].opt;e.windowfocused=!1,e.lastsliderstatus=e.sliderstatus,e.c.revpause();var t=e.c.find(\".active-revslide .slotholder\"),i=e.c.find(\".processing-revslide .slotholder\");\"on\"==i.data(\"kenburns\")&&_R.stopKenBurn(i,e),\"on\"==t.data(\"kenburns\")&&_R.stopKenBurn(t,e)})},tabBlurringCheck=function(){var e=void 0===document.documentMode,t=window.chrome;1!==jQuery(\"body\").data(\"revslider_focus_blur_listener\")&&(jQuery(\"body\").data(\"revslider_focus_blur_listener\",1),e&&!t?jQuery(window).on(\"focusin\",function(){restartOnFocus()}).on(\"focusout\",function(){lastStatBlur()}):window.addEventListener?(window.addEventListener(\"focus\",function(e){restartOnFocus()},{capture:!1,passive:!0}),window.addEventListener(\"blur\",function(e){lastStatBlur()},{capture:!1,passive:!0})):(window.attachEvent(\"focus\",function(e){restartOnFocus()}),window.attachEvent(\"blur\",function(e){lastStatBlur()})))},getUrlVars=function(e){for(var t,i=[],a=window.location.href.slice(window.location.href.indexOf(e)+1).split(\"_\"),n=0;n<a.length;n++)a[n]=a[n].replace(\"%3D\",\"=\"),t=a[n].split(\"=\"),i.push(t[0]),i[t[0]]=t[1];return i};return jQuery});","Nwdthemes_Revslider/public/assets/js/tp-color-picker.min.js":"/**************************************************************************\r\n * tp-color-picker.js - Color Picker Plugin for Revolution Slider\r\n * @version: 1.0.2 (5.10.2017)\r\n * @author ThemePunch\r\n**************************************************************************/\r\n\r\n;window.RevColor={defaultValue:\"#ffffff\",isColor:/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,get:function(b){return b?RevColor.process(b,!0)[0]:\"transparent\"},parse:function(b,k,l){b=RevColor.process(b,!0);var p=[];p[0]=k?k+\": \"+b[0]+\";\":b[0];l&&(p[1]=b[1]);return p},convert:function(b,k){if(!b||\"string\"!==typeof b)return RevColor.defaultValue;if(\"transparent\"===b)return b;if(-1!==b.search(/\\[\\{/)||-1!==b.search(\"gradient\")||\"undefined\"===typeof k||isNaN(k))return RevColor.process(b,!0)[0];k=parseFloat(k);\r\n1>=k&&(k*=100);k=Math.max(Math.min(parseInt(k,10),100),0);if(0===k)return\"transparent\";try{if(-1!==b.search(\"#\")||8>b.length)return RevColor.isColor.test(b)||(b=b.replace(/[^A-Za-z0-9#]/g,\"\")),RevColor.processRgba(RevColor.sanitizeHex(b),k);b=RevColor.rgbValues(b,3);return RevColor.rgbaString(b[0],b[1],b[2],.01*k)}catch(l){return RevColor.defaultValue}},process:function(b,k){if(\"string\"!==typeof b)return k&&(b=RevColor.sanitizeGradient(b)),[RevColor.processGradient(b),\"gradient\",b];if(\"transparent\"===\r\nb.trim())return[\"transparent\",\"transparent\"];if(-1!==b.search(/\\[\\{/))try{return b=JSON.parse(b.replace(/\\&/g,'\"')),k&&(b=RevColor.sanitizeGradient(b)),[RevColor.processGradient(b),\"gradient\",b]}catch(l){return console.log(\"RevColor.process() failed to parse JSON string\"),[\"linear-gradient(0deg, rgba(255, 255, 255, 1) 0%, rgba(0, 0, 0, 1) 100%)\",\"gradient\",{type:\"linear\",angle:\"0\",colors:[{r:\"255\",g:\"255\",b:\"255\",a:\"1\",position:\"0\",align:\"bottom\"},{r:\"0\",g:\"0\",b:\"0\",a:\"1\",position:\"100\",align:\"bottom\"}]}]}else return-1!==\r\nb.search(\"#\")?[RevColor.sanitizeHex(b),\"hex\"]:-1!==b.search(\"rgba\")?[b.replace(/\\s/g,\"\").replace(/false/g,\"1\"),\"rgba\"]:[b.replace(/\\s/g,\"\"),\"rgb\"]},transparentRgba:function(b,k){return k||\"rgba\"===RevColor.process(b)[1]?\"0\"===RevColor.rgbValues(b,4)[3]:!1},rgbValues:function(b,k){b=b.substring(b.indexOf(\"(\")+1,b.lastIndexOf(\")\")).split(\",\");3===b.length&&4===k&&(b[3]=\"1\");for(var l=0;l<k;l++)b[l]=b[l].trim();return b},rgbaString:function(b,k,l,p){return\"rgba(\"+b+\", \"+k+\", \"+l+\", \"+p+\")\"},rgbToHex:function(b){b=\r\nRevColor.rgbValues(b,3);return RevColor.getRgbToHex(b[0],b[1],b[2])},rgbaToHex:function(b){b=RevColor.rgbValues(b,4);return[RevColor.getRgbToHex(b[0],b[1],b[2]),b[3]]},getOpacity:function(b){return parseInt(100*RevColor.rgbValues(b,4)[3],10)+\"%\"},getRgbToHex:function(b,k,l){return\"#\"+(\"0\"+parseInt(b).toString(16)).slice(-2)+(\"0\"+parseInt(k).toString(16)).slice(-2)+(\"0\"+parseInt(l).toString(16)).slice(-2)},joinToRgba:function(b){b=b.split(\"||\");return RevColor.convert(b[0],b[1])},processRgba:function(b,\r\nk){b=b.replace(\"#\",\"\");var l=\"undefined\"!==typeof k,p=(l?\"rgba\":\"rgb\")+\"(\"+parseInt(b.substring(0,2),16)+\", \"+parseInt(b.substring(2,4),16)+\", \"+parseInt(b.substring(4,6),16);return p=l?p+(\", \"+(.01*parseInt(k,10)).toFixed(2).replace(/\\.?0*$/,\"\")+\")\"):p+\")\"},processGradient:function(b){var k=b.type,l=\"linear\"===k?b.angle+\"deg, \":\"ellipse at center, \";b=b.colors;for(var p=b.length,B=\"\",u,y=0;y<p;y++)0<y&&(B+=\", \"),u=b[y],B+=\"rgba(\"+u.r+\", \"+u.g+\", \"+u.b+\", \"+u.a+\") \"+u.position+\"%\";return k+\"-gradient(\"+\r\nl+B+\")\"},sanitizeHex:function(b){b=b.replace(\"#\",\"\").trim();if(3===b.length){var k=b.charAt(0),l=b.charAt(1);b=b.charAt(2);b=k+k+l+l+b+b}return\"#\"+b},sanitizeGradient:function(b){for(var k=b.colors,l=k.length,p=[],B,u=0;u<l;u++){var y=k[u];delete y.align;B?JSON.stringify(y)!==JSON.stringify(B)&&(p[p.length]=y):p[p.length]=y;B=y}b.colors=p;return b}};\r\n(function(b){function k(){this.innerHTML=T[this.getAttribute(\"data-text\")||\"\"]}function l(){this.setAttribute(\"placeholder\",T[this.getAttribute(\"data-placeholder\")||\"\"])}function p(){this.setAttribute(\"data-message\",T[this.getAttribute(\"data-alert\")||\"\"])}function B(a){a||(a={});\"string\"===typeof a&&(a=JSON.parse(a.replace(/\\&/g,'\"')));T=b.extend({},wa,a);Va=T.color;n.find(\"*[data-placeholder]\").each(l);n.find(\"*[data-alert]\").each(p);n.find(\"*[data-text]\").each(k)}function u(a,c,d,e){if(b.isPlainObject(a)){var g;\r\nfor(g in a)if(a.hasOwnProperty(g)){a=a[g];if(\"string\"===typeof a){a=RevColor.process(a);if(\"gradient\"===a[1]){var h=a[2];var ga=h.angle;var r=h.type}a=a[0]}else ga=a.angle,r=a.type;var f=isNaN(g)?g.replace(/_/g,\" \").replace(/\\b\\w/g,function(a){return a.toUpperCase()}):\"radial\"!==r?ga+\"&deg;\":\"radial\"}}else f=a;if(\"blank\"!==a)return b.isPlainObject(a)&&(h=a,a=e||RevColor.processGradient(a)),a='<span class=\"rev-cpicker-color tptip'+d+'\" data-title=\"'+f+'\" data-color=\"'+a+'\"><span class=\"rev-cpicker-preset-tile\"></span><span class=\"rev-cpicker-preset-bg\" style=\"background: '+\r\na+'\"></span>',c||(a+='<span class=\"rev-cpicker-delete\"><span class=\"rev-cpicker-delete-icon\"></span></span>'),c=b(a+\"</span>\"),h&&c.data(\"gradient\",h),c[0];c=document.createElement(\"span\");c.className=\"rev-cpicker-color blank\";return c}function y(){var a=(this.getAttribute(\"data-color\")||\"\").toLowerCase(),c=ha?!1:a===Wa.toLowerCase();if(a===ia||c)return a=b(this),a.closest(\".rev-cpicker-presets-group\").find(\".rev-cpicker-color.selected\").removeClass(\"selected\"),q=a,ha&&!xa&&ya(q.data(\"gradient\"),\r\n!0),q.addClass(\"selected\"),!1}function O(a,c,b){if(A){a||(c=c||t.val(),b=\"undefined\"!==typeof b?b:w.val(),c=\"transparent\"===c?\"transparent\":\"100%\"===b?RevColor.sanitizeHex(c):RevColor.processRgba(c,b));var d=(b=\"transparent\"===c)?\"\":c;a?H.data(\"state\",c):D.data(\"state\",c);b?A.css(\"background\",d):A[0].style.background=d;za&&za(m,c);I.trigger(\"revcolorpickerupdate\",[m,c])}}function ya(a,c){var d=RevColor.process(a),e=d[1],g=d[0];ja&&J.removeClass(\"checked\");if(\"gradient\"!==e){switch(e){case \"hex\":a=\r\nRevColor.sanitizeHex(g);w.val(\"100%\");U(100);break;case \"rgba\":var d=RevColor.rgbaToHex(g),h=parseInt(100*d[1],10);a=d[0];w.val(h+\"%\");U(h);break;case \"rgb\":a=RevColor.rgbToHex(g);w.val(\"100%\");U(100);break;default:ka.click(),D.click()}K.val(a).change();c||D.click()}else if(ja){d=d[2];h=d.angle;\"radial\"===d.type&&(h=\"radial\");P.removeClass(\"selected\");b('.rev-cpicker-orientation[data-direction=\"'+h+'\"]').addClass(\"selected\");z.val(Aa(h));Xa(h);for(var d=d.colors,h=document.createDocumentFragment(),\r\nga=d.length,r,f,k=0;k<ga;k++)f=d[k],r=f.align,h.appendChild(Ya(r,f.position,Za(f),$a(f,r)));Q&&Q.draggable(\"destroy\");L.empty().append(h);Q=L.children().draggable(V);x();c||(ab=!0,H.click())}else K.val(RevColor.defaultValue).change(),D.click();return[g,e]}function bb(a,c){a:{var d=v.slice();var e=d.length;for(d.sort(Ba);e--;){var g=d[e];if(g.align===a&&g.x<c){d=g;break a}}for(var e=d.length,h=0;h<e;h++)if(g=d[h],g.align===a&&g.x>c){d=g;break a}d=void 0}e=d.color;d=$a(e,a,!0);e=Za(e,!0);d=Ya(a,c,e,\r\nd);f&&f.removeClass(\"active\");f=b(d).addClass(\"active\").appendTo(L).draggable(V);la=f.children(\".rev-cpicker-point-square\")[0];ma=f.children(\".rev-cpicker-point-triangle\")[0];Q=L.children();e=cb(c);x(d);\"bottom\"===a&&R.val(e[1]).change()}function cb(a){\"undefined\"===typeof a&&(a=v[na].x);var b=f.attr(\"data-color\"),d=f.hasClass(\"rev-cpicker-point-bottom\");if(d)E.hasClass(\"active\")&&(W.attr(\"disabled\",\"disabled\"),M.attr(\"disabled\",\"disabled\"),E.removeClass(\"active\")),b=RevColor.rgbaToHex(b)[0],X.css(\"background\",\r\nb),N.removeAttr(\"disabled\").val(a+\"%\"),2<n.find(\".rev-cpicker-point-bottom\").length&&F.addClass(\"active\"),n.addClass(\"open\");else{F.hasClass(\"active\")&&(X.css(\"background\",\"\"),N.attr(\"disabled\",\"disabled\"),F.removeClass(\"active\"));var e=RevColor.getOpacity(b);W.attr(\"data-opacity\",e).val(e).removeAttr(\"disabled\");M.val(a+\"%\").removeAttr(\"disabled\");2<n.find(\".rev-cpicker-point-top\").length&&E.addClass(\"active\");n.removeClass(\"open\")}return[d,b]}function $a(a,b,d){return\"bottom\"===b?\"rgb(\"+a.r+\",\"+\r\na.g+\",\"+a.b+\")\":\"rgba(0, 0, 0, \"+(d?\"1\":a.a)+\")\"}function Za(a,b){return\"rgba(\"+a.r+\",\"+a.g+\",\"+a.b+\",\"+(b?\"1\":a.a)+\")\"}function Ya(a,c,d,e){var g=document.createElement(\"span\");g.className=\"rev-cpicker-point rev-cpicker-point-\"+a;\"string\"===typeof d?g.setAttribute(\"data-color\",d):b(g).data(\"gradient\",d);g.setAttribute(\"data-location\",c);g.style.left=c+\"%\";g.innerHTML=\"bottom\"===a?'<span class=\"rev-cpicker-point-triangle\" style=\"border-bottom-color: '+e+'\"></span><span class=\"rev-cpicker-point-square\" style=\"background: '+\r\ne+'\"></span>':'<span class=\"rev-cpicker-point-square\" style=\"background: '+e+'\"></span><span class=\"rev-cpicker-point-triangle\" style=\"border-top-color: '+e+'\"></span>';return g}function Aa(a){a&&\"radial\"!==a||(a=\"0\");Ca.innerHTML=a+\"&deg;\";return Ca.value}function db(){f&&(f.removeClass(\"active\"),f=!1);N.attr(\"disabled\",\"disabled\");W.attr(\"disabled\",\"disabled\");M.attr(\"disabled\",\"disabled\");E.removeClass(\"active\");F.removeClass(\"active\");X.css(\"background\",\"\");n.removeClass(\"open\")}function Da(a,\r\nb){n.removeClass(\"active is-basic\").hide();Y.removeClass(\"rev-colorpicker-open\");Z.css({left:\"\",top:\"\"});oa&&(oa.remove(),oa=!1);q?(q.hasClass(\"selected\")?(b&&m.data(\"hex\",q.attr(\"data-color\").toLowerCase()),q.removeClass(\"selected\")):m.removeData(\"hex\"),q=!1):m.removeData(\"hex\");b||(Ea&&Ea(),G&&\"transparent\"!==G?A[0].style.background=G:A.css(\"background\",\"\"),I.trigger(\"revcolorpickerupdate\",[m,G]));m=A=!1}function Fa(){var a=b(this).children(\".rev-cpicker-color\").not(\".blank\").length;6<a?b(\"#\"+this.id+\r\n\"-btn\").addClass(\"multiplerows\"):b(\"#\"+this.id+\"-btn\").removeClass(\"multiplerows\");return a}function Bb(){for(var a=b(this),c=-1!==this.id.search(\"colors\")?5:6,a=a.children(\".rev-cpicker-color\"),d=a.length,e=Math.ceil(d/6),c=6*c,g,d=d+1,h=0;h<e;h++){var f=6*h,f=a.slice(f,parseInt(f+6,10)-1);Ga=!0;f.each(Cb);Ga&&(d-=6,d>=c&&(f.remove(),g=!0))}return g}function Cb(){if(-1===this.className.search(\"blank\"))return Ga=!1}function x(a,b,d){Ha=b;eb();Ha=!1;for(var c,g=[],h=v.length,f=0;f<h;f++)c=v[f],b=c.color,\r\ng[f]=b,c=c.el,c.setAttribute(\"data-color\",RevColor.rgbaString(b.r,b.g,b.b,b.a)),c.setAttribute(\"data-opacity\",100*b.a),a&&a===c&&(na=f);fb.hasClass(\"selected\")?(C.type=\"radial\",C.angle=\"0\"):(C.type=\"linear\",C.angle=parseInt(z.val(),10).toString());C.colors=g;q&&q.removeClass(\"selected\");a=RevColor.processGradient(C);O(!0,a);if(d)return[C,a];d=gb.style;g=a.replace(\"radial-\",\"linear-\");g=g.split(\"(\");b=g[0];g.shift();g=g.join(\"(\").split(\",\");g.shift();b=b+\"(90deg,\"+g.join(\",\");d.background=b;pa.style.background=\r\na}function hb(a,b){if(0===a)return!1;for(var c;a--;)if(c=v[a],c.align!==b)return c;return!1}function ib(a,b,d){if(a===d)return!1;for(var c;a++<d;)if(c=v[a],c.align!==b)return c;return!1}function Ia(a,b,d,e,g){return Math.max(Math.min(Math.round(Math.abs((a-b)/(d-b)*(g-e)+e)),255),0)}function eb(){v=[];aa=[];ba=[];Q.each(Db);v.sort(Ba);for(var a=v.length,b=a-1,d,e,g,h,f=0;f<a;f++)if(d=v[f],g=d.align,e=hb(f,g),!1===e&&(e=ib(f,g,b)),h=ib(f,g,b),!1===h&&(h=hb(f,g)),\"bottom\"===g){g=d;var r=e.alpha,k=h.alpha;\r\nr!==k?(e=e.x,h=Math.max(Math.min(Math.abs(parseFloat(((g.x-e)/(h.x-e)*(k-r)).toFixed(2))+parseFloat(r)),1),0).toFixed(2)):h=r;g.alpha=h;g.color.a=h}else g=d.color,k=e.color,r=h.color,e!==h?(d=d.x,e=e.x,h=h.x,g.r=Ia(d,e,h,k.r,r.r),g.g=Ia(d,e,h,k.g,r.g),g.b=Ia(d,e,h,k.b,r.b)):(g.r=k.r,g.g=k.g,g.b=k.b);v.sort(Ba)}function Ba(a,b){return a.x<b.x?-1:a.x>b.x?1:0}function Db(a){var b=RevColor.rgbValues(this.getAttribute(\"data-color\")||\"\",4),d=-1!==this.className.search(\"bottom\")?\"bottom\":\"top\",e=b[3].replace(/\\.?0*$/,\r\n\"\")||0,g=parseInt(this.style.left,10);Ha&&(g=50>g?g+2*(50-g):g-2*(g-50),this.style.left=g+\"%\",this.setAttribute(\"data-location\",g));v[a]={el:this,x:g,alpha:e,align:d,color:{r:parseInt(b[0],10),g:parseInt(b[1],10),b:parseInt(b[2],10),a:e,position:g,align:d}};f&&f[0]!==this&&(\"bottom\"===d?ba[ba.length]=g:aa[aa.length]=g)}function Xa(a){a=\"undefined\"!==typeof a?a:parseInt(z.val(),10);jb[0].style.transform=\"rotate(\"+a+\"deg)\"}function Ja(a,c,d){var e=\"undefined\"!==typeof d;d=e?d:parseInt(z.val(),10);if(a&&\r\n\"keyup\"===a.type){var g=!isNaN(d)&&-360<=d&&360>=d;var h=d}else{a=parseInt(z.data(\"orig-value\"),10);d||(d=\"0\");if(isNaN(d)||-360>d||360<d)d=a;d!==a&&(h=d,g=!0,z.val(Aa(d)),e||(d=c||d,P.removeClass(\"selected\"),b('.rev-cpicker-orientation[data-direction=\"'+d+'\"]').addClass(\"selected\")))}if(g||c)h&&Xa(h),x()}function kb(){var a=b(this);-1!==this.className.search(\"down\")?(a.parent().addClass(\"active\"),a.closest(\".rev-cpicker-presets\").addClass(\"active\"),b(this.id.replace(\"-btn\",\"\")).addClass(\"active\"),\r\nqa=n.hasClass(\"gradient-view\")):(a.parent().removeClass(\"active\"),a.closest(\".rev-cpicker-presets\").removeClass(\"active\"),b(this.id.replace(\"-btn\",\"\")).removeClass(\"active\"),qa=!1)}function Eb(a,b){var c=parseInt(100*(Math.round(b.position.left)/263).toFixed(2),10);\"bottom\"===Ka?N.val(c+\"%\").trigger(\"keyup\"):M.val(c+\"%\").trigger(\"keyup\")}function Fb(){var a=b(this);Ka=a.hasClass(\"rev-cpicker-point-bottom\")?\"bottom\":\"top\";a.click()}function Gb(){\"bottom\"===Ka?N.trigger(\"focusout\"):M.trigger(\"focusout\")}\r\nfunction U(a){La=!0;Ma.slider(\"value\",Math.round(1.8*a));La=!1}function lb(a){var b=ca.offset(),d=a.pageX-b.left;a=a.pageY-b.top;isNaN(d)||isNaN(a)||(d=180/Math.PI*Math.atan2(a-30,d-30)+90,0>d&&(d+=360),d=Math.max(0,Math.min(360,Math.round(d))),d=5*Math.round(d/5),Ja(!1,!1,d))}function da(a){a.stopImmediatePropagation()}function Hb(){Na||b.tpColorPicker();mb=document.getElementById(\"rev-cpicker-current-edit\");pa=document.getElementById(\"rev-cpicker-gradient-output\");gb=document.getElementById(\"rev-cpicker-gradient-input\");\r\nOa=document.getElementById(\"rev-cpicker-edit-title\");Ca=document.createElement(\"textarea\");E=b(\"#rev-cpicker-opacity-delete\");L=b(\"#rev-cpciker-point-container\");M=b(\"#rev-cpicker-opacity-location\");S=b(\".rev-cpicker-presets-group\");w=b(\"#rev-cpicker-color-opacity\");fb=b(\"#rev-cpicker-orientation-radial\");F=b(\"#rev-cpicker-color-delete\");W=b(\"#rev-cpicker-grad-opacity\");N=b(\"#rev-cpicker-color-location\");Pa=b(\"#rev-cpicker-gradients-core\");P=b(\".rev-cpicker-orientation\");R=b(\"#rev-cpicker-iris-gradient\");\r\njb=b(\"#rev-cpicker-wheel-point\");nb=b(\"#rev-cpicker-gradients\");K=b(\"#rev-cpicker-iris-color\");H=b(\"#rev-cpicker-gradient-btn\");ra=b(\"#rev-cpicker-gradient-hex\");ka=b(\"#rev-cpciker-clear-hex\");J=b(\"#rev-cpicker-meta-reverse\");sa=b(\"#rev-cpicker-hit-bottom\");Ma=b(\"#rev-cpicker-scroll\");ob=b(\"#rev-cpicker-colors\");t=b(\"#rev-cpicker-color-hex\");D=b(\"#rev-cpicker-color-btn\");X=b(\"#rev-cpicker-color-box\");z=b(\"#rev-cpicker-meta-angle\");ca=b(\"#rev-cpicker-wheel\");ea=b(\"#rev-cpicker-hit-top\");Z=b(\"#rev-cpicker\");\r\nI=b(document);V.drag=Eb;V.stop=Gb;V.start=Fb;D.data(\"state\",ob.find(\".rev-cpicker-color\").eq(0).attr(\"data-color\")||\"#ffffff\");H.data(\"state\",nb.find(\".rev-cpicker-color\").eq(0).attr(\"data-color\")||\"linear-gradient(0deg, rgba(255, 255, 255, 1) 0%, rgba(0, 0, 0, 1) 100%)\");Z.draggable({containment:\"window\",handle:\".rev-cpicker-draggable\",stop:function(){Z.css(\"height\",\"auto\")}});S.perfectScrollbar({wheelPropagation:!1,suppressScrollX:!0});ca.on(\"mousedown.revcpicker\",function(a){P.removeClass(\"selected\");\r\nQa=!0;lb(a)}).on(\"mousemove.revcpicker\",function(a){Qa&&lb(a)}).on(\"mouseleave.revcpicker mouseup.revcpicker\",function(){Qa=!1});b(\".rev-cpicker-main-btn\").on(\"click.revcpicker\",function(){xa=-1===this.id.search(\"gradient\");if(A){var a=b(this);a=a.data(\"state\")}xa?(A&&(ia=t.val()),n.removeClass(\"gradient-view\").addClass(\"color-view\")):(A&&(ia=a),n.removeClass(\"color-view\").addClass(\"gradient-view\"),ab||Pa.children(\".rev-cpicker-color\").not(\".blank\").eq(0).click());S.perfectScrollbar(\"update\");if(a){var c=\r\n\"transparent\"===a,d=c?\"\":a;c?A.css(\"background\",d):A[0].style.background=d;ha=!0;b(\".rev-cpicker-color\").not(\".blank\").each(y);ha=!1;I.trigger(\"revcolorpickerupdate\",[m,a])}});b(\"#rev-cpicker-check\").on(\"click.revcipicker\",function(){if(n.hasClass(\"color-view\")){var a=t.val();var c=w.val();m.removeData(\"gradient\");a=\"transparent\"===a?\"transparent\":\"100%\"===c?RevColor.sanitizeHex(a):RevColor.processRgba(a,c);c=[m,a,!1]}else{db();a=x(!1,!1,!0);c=b.extend({},a[0]);var d=a[1];m.data(\"gradient\",d);a=JSON.stringify(c).replace(/\\\"/g,\r\n\"&\");c=[m,d,c]}if(d=c[1]!==G)m.attr(\"data-color\",c[1]).val(a).change(),I.trigger(\"revcolorpicker\",c),Ra&&Ra(c[0],c[1],c[2]);Da(!1,d)});n.on(\"click.revcpicker\",function(a){if(n.hasClass(\"open\")){var c=a.target;a=b(c);var d=c.id;(c=-1!==c.className.search(\"rev-cpicker-point\")||\"rev-cpicker-section-right\"===d||-1!==d.search(\"hit\")||a.closest(\"#rev-cpicker-section-right, #rev-cpicker-point-wrap\").length)&&(\"text\"===a.attr(\"type\")?c=!a.attr(\"disabled\"):\"rev-cpicker-check-gradient\"===d&&(c=!1));c||db()}else Sa&&\r\n!1===/wheel|angle|reverse/.test(a.target.id)&&(-1===a.target.id.search(\"radial\")&&b('.rev-cpicker-orientation[data-direction=\"'+parseInt(z.val())+'\"]').addClass(\"selected\"),ca.removeClass(\"active\"),Sa=!1)});b(\".rev-cpicker-close\").on(\"click.revcpicker\",Da);K.wpColorPicker({palettes:!1,width:267,border:!1,hide:!1,change:function(a,b){var c=b.color.toString();this.value=c;t.val(c);if(!Ta){var e=w.val();0===parseInt(e,10)&&(c=\"transparent\");O(!1,c,e);q&&(q.removeClass(\"selected\"),q=!1)}}});R.wpColorPicker({palettes:!1,\r\nheight:250,border:!1,hide:!1,change:function(a,b){var c=b.color.toString();this.value=c;ra.val(c);X.css(\"background\",c);la.style.backgroundColor=c;ma.style.borderBottomColor=c;var c=RevColor.processRgba(c,100),e=RevColor.rgbValues(c,4),g=C.colors[na];g.r=e[0];g.g=e[1];g.b=e[2];g.a=e[3];f.attr(\"data-color\",c);x()}});Ma.slider({orientation:\"vertical\",max:180,value:180,start:function(){pb=\"transparent\"===t.val()},slide:function(a,b){if(!La){var c=parseInt(100*(b.value/180).toFixed(2),10);if(pb){var e=\r\nc?\"#ffffff\":\"transparent\";t.val(e)}0===c&&(e=\"transparent\");O(!1,e,c||\"transparent\");w.val(c+\"%\")}}});b(\".rev-cpicker-point-location\").on(\"keyup.revcpicker focusout.revcpicker\",function(a){if(f){var b=f.hasClass(\"rev-cpicker-point-bottom\")?\"bottom\":\"top\",d=\"bottom\"===b?ba:aa,b=\"bottom\"===b?N:M,e=b.val().replace(\"%\",\"\")||\"0\";a=a.type;var g;isNaN(e)&&(e=\"keyup\"===a?\"0\":f.attr(\"data-location\"));e=Math.max(0,Math.min(100,parseInt(e,10)));for(g=50>e?1:-1;-1!==d.indexOf(e);)e+=g;\"focusout\"===a&&(b.val(e+\r\n\"%\"),f.attr(\"data-location\",e));f.css(\"left\",e+\"%\");x()}}).on(\"focusin.revcpicker\",da);b(\"body\").on(\"click.revcpicker\",\".rev-cpicker-point\",function(){L.find(\".rev-cpicker-point.active\").removeClass(\"active\");f=b(this).addClass(\"active\");la=f.children(\".rev-cpicker-point-square\")[0];ma=f.children(\".rev-cpicker-point-triangle\")[0];x(this);q=!1;var a=cb();a[0]&&R.val(a[1]).change()}).on(\"mousedown.revcpicker\",\".rev-cpicker-point\",function(a){f=b(this).data(\"mousestart\",a.pageY)}).on(\"mousemove.revcpicker\",\r\nfunction(a){if(f&&f.data(\"mousestart\")){var b=f.data(\"mousestart\");a=a.pageY;f.hasClass(\"rev-cpicker-point-bottom\")?a>b&&15<a-b&&F.hasClass(\"active\")?f.addClass(\"warning\"):f.removeClass(\"warning\"):b>a&&15<b-a&&E.hasClass(\"active\")?f.addClass(\"warning\"):f.removeClass(\"warning\")}}).on(\"mouseup.revcpicker\",function(a){if(f&&f.data(\"mousestart\")){var b=f.data(\"mousestart\");a=a.pageY;f.removeData(\"mousestart\");f.hasClass(\"rev-cpicker-point-bottom\")?a>b&&10<a-b&&F.hasClass(\"active\")?F.click():f.removeClass(\"warning\"):\r\nb>a&&10<b-a&&E.hasClass(\"active\")?E.click():f.removeClass(\"warning\")}}).on(\"change.revcpicker\",\".rev-cpicker-component\",function(){var a=b(this),c=a.data(\"gradient\")||a.val()||\"transparent\";if(\"transparent\"===c||RevColor.transparentRgba(c))c=\"\";a.data(\"tpcp\").css(\"background\",c)}).on(\"keypress.revcpicker\",function(a){n.hasClass(\"active\")&&(a=a.which,27==a?Da():13==a&&ta&&ta.blur())}).on(\"click.revcpicker\",\".rev-cpicker-color:not(.blank)\",function(){if(q){if(q[0]===this&&q.hasClass(\"selected\"))return;\r\nq.removeClass(\"selected\")}q=b(this);var a=q.parent()[0].id,c=-1!==a.search(\"core\")?\"core\":\"custom\",a=-1!==a.search(\"colors\")?\"colors\":\"gradients\",c=b(\"#rev-cpicker-\"+a+\"-\"+c+\"-btn\");c.hasClass(\"active\")&&c.find(\".rev-cpicker-arrow-up\").click();n.hasClass(\"color-view\")?(c=q.attr(\"data-color\"),Ta=!0,K.val(c).change(),\"transparent\"===t.val()&&t.val(c.toLowerCase()),Ta=!1,a=w.val(),0===parseInt(a,10)&&(c=\"transparent\"),O(!1,c,a)):(ea.removeClass(\"full\"),sa.removeClass(\"full\"),ya(q.data(\"gradient\"),!0),\r\nJ.removeClass(\"checked\"),Pa.find(\".rev-cpicker-color.selected\").removeClass(\"selected\"));q.addClass(\"selected\")}).on(\"mouseover.revcpicker\",\".rev-cpicker-color:not(.blank)\",function(){qa&&(pa.style.background=this.getAttribute(\"data-color\")||\"\")}).on(\"mouseout.revcpicker\",\".rev-cpicker-color:not(.blank)\",function(){qa&&x()}).on(\"click.revcpicker\",\".rev-cpicker-delete\",function(){if(fa){if(window.confirm(document.getElementById(\"rev-cpicker-remove-delete\").innerHTML)){n.addClass(\"onajax onajaxdelete\");\r\nvar a=b(this),c=a.parent(),d=c.attr(\"data-title\")||\"\";if(!d){console.log(\"Preset does not have a name/title\");return}var e=a.closest(\".rev-cpicker-presets-group\")[0].id,g=-1!==e.search(\"colors\")?\"colors\":\"gradients\";I.off(\"revcpicker_onajax_delete.revcpicker\").on(\"revcpicker_onajax_delete.revcpicker\",function(d,g){g&&console.log(g);var h=a.closest(\".rev-cpicker-presets-group\"),f=h.find(\".ps-scrollbar-x-rail\"),k=b(\"#\"+e+\"-btn\");c.remove();Bb.call(h[0])?h.perfectScrollbar(\"update\"):b('<span class=\"rev-cpicker-color blank\"></span>').insertBefore(f);\r\n7>Fa.call(h[0])&&(b('<span class=\"rev-cpicker-color blank\"></span>').insertBefore(f),k.hasClass(\"active\")&&k.children(\".rev-cpicker-arrow-up\").click());n.removeClass(\"onajax onajaxdelete\")});d=b.trim(d.replace(/\\W+/g,\"_\")).replace(/^\\_|\\_$/g,\"\").toLowerCase();fa(\"delete\",d,g,\"revcpicker_onajax_delete\",m)}return!1}console.log(\"Ajax callback not defined\")});b(\".rev-cpicker-save-preset-btn\").on(\"click.revcpicker\",function(){if(fa){var a,c=b(this),d=c.closest(\".rev-cpicker-presets-save-as\").find(\".rev-cpicker-preset-save\").val();\r\nif(d&&isNaN(d)){var e=n.hasClass(\"color-view\")?\"colors\":\"gradients\";d=b.trim(d.replace(/\\W+/g,\"_\")).replace(/^\\_|\\_$/g,\"\").toLowerCase();b(\"#rev-cpicker-\"+e+\"-custom\").find(\".rev-cpicker-color\").not(\".blank\").each(function(){if(b.trim((this.getAttribute(\"data-title\")||\"\").replace(/\\W+/g,\"_\")).replace(/^\\_|\\_$/g,\"\").toLowerCase()===d)return alert(c.attr(\"data-message\")),a=!0,!1});if(!a){n.addClass(\"onajax onajaxsave\");var g={};if(\"colors\"===e){var h=t.val();var f=w.val();h=\"transparent\"===h?\"transparent\":\r\n\"100%\"===f?RevColor.sanitizeHex(h):RevColor.processRgba(h,f)}else{var k=pa.style.background;h=b.extend({},x(!1,!1,!0)[0])}g[d]=h;I.off(\"revcpicker_onajax_save.revcpicker\").on(\"revcpicker_onajax_save.revcpicker\",function(a,d){if(d)n.removeClass(\"onajax onajaxsave\"),alert(c.attr(\"data-message\"));else{var h=b(u(g,!1,\" rev-picker-color-custom\",k)),f=b(\"#rev-cpicker-\"+e+\"-custom\"),r=f.find(\".rev-cpicker-color.blank\"),m=b(\"#\"+f[0].id+\"-btn\");r.length?h.insertBefore(r.eq(0)):h.insertBefore(f.find(\".ps-scrollbar-x-rail\"));\r\nb(\"#rev-cpicker-\"+e+\"-custom-btn\").click();6<Fa.call(f[0])&&(r.length&&r.last().remove(),m.addClass(\"active\").children(\".rev-cpicker-arrow-down\").click(),f.perfectScrollbar(\"update\"));h.click();n.removeClass(\"onajax onajaxsave\")}});fa(\"save\",g,e,\"revcpicker_onajax_save\",m)}}else alert(c.attr(\"data-message\"))}else console.log(\"Ajax callback not defined\")});b(\".rev-cpicker-preset-title\").on(\"click.revcpicker\",function(){var a=b(this),c=a.parent(),d=a.hasClass(\"active\")?\"down\":\"up\";kb.call(a.find(\".rev-cpicker-arrow-\"+\r\nd)[0]);c.find(\".rev-cpicker-preset-title\").removeClass(\"selected\");a.addClass(\"selected\");c.find(\".rev-cpicker-presets-group\").hide();document.getElementById(this.id.replace(\"-btn\",\"\")).style.display=\"block\";S.perfectScrollbar(\"update\")});ka.on(\"click.revcpicker\",function(){w.val(\"0%\");U(0);K.val(RevColor.defaultValue).change();t.val(\"transparent\");O(!1,\"transparent\")});n.find('input[type=\"text\"]').on(\"focusin.revcpicker\",function(){ta=this}).on(\"focusout.revcpicker\",function(){ta=!1});b(\".rev-cpicker-input\").on(\"focusin.revcpicker\",\r\nfunction(){var a=b(this);a.data(\"orig-value\",a.val())});b(\".rev-cpicker-hex\").on(\"focusout.revcpicker\",function(){var a;if(\"rev-cpicker-color-hex\"===this.id){if(a=t.val())if(a=RevColor.sanitizeHex(a),RevColor.isColor.test(a))t.val(a);else if(a=b(this),a=a.data(\"orig-value\"))t.val(a);else{ka.click();return}else a=\"transparent\";K.val(a).change()}else a=ra.val()||RevColor.defaultValue,a=RevColor.sanitizeHex(a),RevColor.isColor.test(a)||(a=b(this),a=(a=a.data(\"orig-value\"))?a:RevColor.defaultValue),ra.val(a),\r\nR.val(a).change()}).on(\"focusin.revcpicker\",da);b(\"#rev-cpciker-clear-gradient\").on(\"click.revcpicker\",function(){R.val(RevColor.defaultValue).change()});z.on(\"keyup.revcpicker focusout.revcpicker\",Ja).on(\"focusin.revcpicker\",function(){Sa=!0;ca.addClass(\"active\")}).on(\"focusin.revcpicker\",da);P.on(\"click.revcpicker\",function(){var a=b(this),c=a.attr(\"data-direction\");P.removeClass(\"selected\");a.addClass(\"selected\");\"radial\"!==c?z.removeAttr(\"disabled\").val(Aa(c)):z.attr(\"disabled\",\"disabled\");Ja(!1,\r\nc)});b(\".rev-cpicker-point-delete\").on(\"click.revcpicker\",function(){if(-1!==this.className.search(\"active\")){var a=f.hasClass(\"rev-cpicker-point-bottom\")?\"bottom\":\"top\",b=n.find(\".rev-cpicker-point-\"+a).length;2<b&&(f.draggable(\"destroy\").remove(),Q=L.children(),n.click(),x());20>=b&&(\"bottom\"===a?sa.removeClass(\"full\"):ea.removeClass(\"full\"))}});b(\".rev-cpicker-preset-save\").on(\"focusin.revcpicker\",da);b(\".rev-cpicker-opacity-input\").on(\"keyup.revcpicker focusout.revcpicker\",function(a){var c=-1===\r\nthis.id.search(\"grad\"),d=c?w:W,e=d.val().replace(\"%\",\"\");a=a.type;isNaN(e)&&(e=\"keyup\"===a?\"0\":b(this).data(\"orig-value\"));e=Math.max(0,Math.min(100,e));\"focusout\"===a&&(d.val(e+\"%\"),c||f.attr(\"data-opacity\",e));c?(c=parseInt(e,10),O(!1,0!==c?!1:\"transparent\",e),U(e)):(c=RevColor.rgbValues(f.attr(\"data-color\"),3),d=C.colors[na],e=(.01*parseInt(e,10)).toFixed(2).replace(/\\.?0*$/,\"\"),d.r=c[0],d.g=c[1],d.b=c[2],d.a=e,c=RevColor.rgbaString(d.r,d.g,d.b,e),f.attr(\"data-color\",c),x(),c=\"rgba(0, 0, 0, \"+\r\ne+\")\",la.style.backgroundColor=c,ma.style.borderTopColor=c)}).on(\"focusin.revcpicker\",da);b(\".rev-cpicker-builder-hit\").on(\"click.revcpicker\",function(a){v||eb();a=parseInt(100*((a.pageX-ea.offset().left)/265).toFixed(2),10);for(var b=-1!==this.id.search(\"bottom\")?\"bottom\":\"top\",d=\"bottom\"===b?ba:aa,e=50>a?1:-1;-1!==d.indexOf(a);)a+=e;\"bottom\"===b?20>n.find(\".rev-cpicker-point-bottom\").length?(bb(b,a),q=!1):sa.addClass(\"full\"):20>n.find(\".rev-cpicker-point-top\").length?(bb(b,a),q=!1):ea.addClass(\"full\")});\r\nJ.on(\"click.revcpicker\",function(){J.hasClass(\"checked\")?J.removeClass(\"checked\"):J.addClass(\"checked\");x(!1,!0)});b(\".rev-cpicker-arrow\").on(\"click.revcpicker\",kb);qb=!0}function rb(a){var c=b.extend({},a);a=c.core||{};var c=c.custom;if(!sb||c){var d=4;c=(sb=c)||{colors:[],gradients:[]}}else d=2;a.colors||(a.colors=ua);a.gradients||(a.gradients=va);for(var e=0;e<d;e++){switch(e){case 0:var g=\"colors-core\";var h=a.colors;break;case 1:g=\"gradients-core\";h=a.gradients;break;case 2:g=\"colors-custom\";\r\nh=c.colors;break;case 3:g=\"gradients-custom\",h=c.gradients}var f=g;var k=h.slice()||[];for(var n=document.createDocumentFragment(),m=-1!==f.search(\"core\"),q=m?\"\":\" rev-picker-color-custom\",l=k.length,p=-1!==f.search(\"colors\")?5:6,l=Math.max(Math.ceil(l/6),p),p=0;p<l;p++)for(;k.length<6*(p+1);)k[k.length]=\"blank\";l=k.length;for(p=0;p<l;p++)n.appendChild(u(k[p],m,q));f=[\"rev-cpicker-\"+f,n];k=b(\"#\"+f[0]);k.find(\".rev-cpicker-color\").remove();k.prepend(f[1])}}var I,z,qb,Y,ja,v,fb,ea,za,tb,fa,n,Na,J,H,\r\nra,Ua,ta,ub,vb,X,D,t,N,R,Ga,f,oa,Pa,Ea,wb,xb,Ka,aa,ba,sa,Ca,la,ma,K,Va,gb,Ha,Qa,Oa,xa,ca,jb,pa,ka,P,na,M,ab,Sa,W,Q,L,nb,F,T,sb,yb,ia,m,S,ob,w,G,Wa,zb,A,Ta,ha,qa,pb,Z,E,q,Ma,La,mb,Ab,Ra,C={},V={axis:\"x\",containment:\"#rev-cpicker-point-wrap\"},wa={color:\"Color\",solid_color:\"Solid Color\",gradient_color:\"Gradient Color\",currently_editing:\"Currently Editing\",core_presets:\"Core Presets\",custom_presets:\"Custom Presets\",enter_a_name:\"Enter a Name\",save_a_new_preset:\"Save a new Preset\",save:\"Save\",color_hex_value:\"Color Hex Value\",\r\nopacity:\"Opacity\",clear:\"Clear\",location:\"Location\",\"delete\":\"Delete\",horizontal:\"Horizontal\",vertical:\"Vertical\",radial:\"Radial\",enter_angle:\"Enter Angle\",reverse_gradient:\"Reverse Gradient\",delete_confirm:\"Remove/Delete this custom preset color?\",naming_error:\"Please enter a unique name for the new color preset\"},ua=\"#FFFFFF #000000 #FF3A2D #007AFF #4CD964 #FFCC00 #C7C7CC #8E8E93 #FFD3E0 #34AADC #E0F8D8 #FF9500\".split(\" \"),va=[{0:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:247,&g&:247,&b&:247,&a&:&1&,&position&:0,&align&:&top&},{&r&:247,&g&:247,&b&:247,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:215,&g&:215,&b&:215,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:215,&g&:215,&b&:215,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{1:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:74,&g&:74,&b&:74,&a&:&1&,&position&:0,&align&:&top&},{&r&:74,&g&:74,&b&:74,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:43,&g&:43,&b&:43,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:43,&g&:43,&b&:43,&a&:&1&,&position&:100,&align&:&top&}]}\"},{2:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:219,&g&:221,&b&:222,&a&:&1&,&position&:0,&align&:&top&},{&r&:219,&g&:221,&b&:222,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:137,&g&:140,&b&:144,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:137,&g&:140,&b&:144,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{3:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:26,&g&:214,&b&:253,&a&:&1&,&position&:0,&align&:&top&},{&r&:26,&g&:214,&b&:253,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:29,&g&:98,&b&:240,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:29,&g&:98,&b&:240,&a&:&1&,&position&:100,&align&:&top&}]}\"},{4:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:198,&g&:68,&b&:252,&a&:&1&,&position&:0,&align&:&top&},{&r&:198,&g&:68,&b&:252,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:88,&g&:86,&b&:214,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:88,&g&:86,&b&:214,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{5:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:255,&g&:94,&b&:58,&a&:&1&,&position&:0,&align&:&top&},{&r&:255,&g&:94,&b&:58,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:255,&g&:42,&b&:104,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:42,&b&:104,&a&:&1&,&position&:100,&align&:&top&}]}\"},{6:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:228,&g&:221,&b&:202,&a&:&1&,&position&:0,&align&:&top&},{&r&:228,&g&:221,&b&:202,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:214,&g&:206,&b&:195,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:214,&g&:206,&b&:195,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{7:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:255,&g&:219,&b&:76,&a&:&1&,&position&:0,&align&:&top&},{&r&:255,&g&:219,&b&:76,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:255,&g&:205,&b&:2,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:205,&b&:2,&a&:&1&,&position&:100,&align&:&top&}]}\"},{8:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:255,&g&:149,&b&:0,&a&:&1&,&position&:0,&align&:&top&},{&r&:255,&g&:149,&b&:0,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:255,&g&:94,&b&:58,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:94,&b&:58,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{9:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:82,&g&:237,&b&:199,&a&:&1&,&position&:0,&align&:&top&},{&r&:82,&g&:237,&b&:199,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:90,&g&:200,&b&:251,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:90,&g&:200,&b&:251,&a&:&1&,&position&:100,&align&:&top&}]}\"},{10:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:228,&g&:183,&b&:240,&a&:&1&,&position&:0,&align&:&top&},{&r&:228,&g&:183,&b&:240,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:200,&g&:110,&b&:223,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:200,&g&:110,&b&:223,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{11:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:135,&g&:252,&b&:112,&a&:&1&,&position&:0,&align&:&top&},{&r&:135,&g&:252,&b&:112,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:11,&g&:211,&b&:24,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:11,&g&:211,&b&:24,&a&:&1&,&position&:100,&align&:&top&}]}\"},{12:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:61,&g&:78,&b&:129,&a&:&1&,&position&:0,&align&:&top&},{&r&:61,&g&:78,&b&:129,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:87,&g&:83,&b&:201,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:110,&g&:127,&b&:243,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:110,&g&:127,&b&:243,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{13:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:35,&g&:21,&b&:87,&a&:&1&,&position&:0,&align&:&top&},{&r&:35,&g&:21,&b&:87,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:68,&g&:16,&b&:122,&a&:&1&,&position&:29,&align&:&bottom&},{&r&:255,&g&:19,&b&:97,&a&:&1&,&position&:67,&align&:&bottom&},{&r&:255,&g&:248,&b&:0,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:248,&b&:0,&a&:&1&,&position&:100,&align&:&top&}]}\"},{14:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:105,&g&:234,&b&:203,&a&:&1&,&position&:0,&align&:&top&},{&r&:105,&g&:234,&b&:203,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:234,&g&:204,&b&:248,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:102,&g&:84,&b&:241,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:102,&g&:84,&b&:241,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{15:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:255,&g&:5,&b&:124,&a&:&1&,&position&:0,&align&:&top&},{&r&:255,&g&:5,&b&:124,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:124,&g&:100,&b&:213,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:76,&g&:195,&b&:255,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:76,&g&:195,&b&:255,&a&:&1&,&position&:100,&align&:&top&}]}\"},{16:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:255,&g&:5,&b&:124,&a&:&1&,&position&:0,&align&:&top&},{&r&:255,&g&:5,&b&:124,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:141,&g&:11,&b&:147,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:50,&g&:21,&b&:117,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:50,&g&:21,&b&:117,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{17:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:164,&g&:69,&b&:178,&a&:&1&,&position&:0,&align&:&top&},{&r&:164,&g&:69,&b&:178,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:212,&g&:24,&b&:114,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:255,&g&:0,&b&:102,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:0,&b&:102,&a&:&1&,&position&:100,&align&:&top&}]}\"},{18:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:158,&g&:251,&b&:211,&a&:&1&,&position&:0,&align&:&top&},{&r&:158,&g&:251,&b&:211,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:87,&g&:233,&b&:242,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:69,&g&:212,&b&:251,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:69,&g&:212,&b&:251,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{19:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:172,&g&:50,&b&:228,&a&:&1&,&position&:0,&align&:&top&},{&r&:172,&g&:50,&b&:228,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:121,&g&:24,&b&:242,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:72,&g&:1,&b&:255,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:72,&g&:1,&b&:255,&a&:&1&,&position&:100,&align&:&top&}]}\"},{20:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:112,&g&:133,&b&:182,&a&:&1&,&position&:0,&align&:&top&},{&r&:112,&g&:133,&b&:182,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:135,&g&:167,&b&:217,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:222,&g&:243,&b&:248,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:222,&g&:243,&b&:248,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{21:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:34,&g&:225,&b&:255,&a&:&1&,&position&:0,&align&:&top&},{&r&:34,&g&:225,&b&:255,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:29,&g&:143,&b&:225,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:98,&g&:94,&b&:177,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:98,&g&:94,&b&:177,&a&:&1&,&position&:100,&align&:&top&}]}\"},{22:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:44,&g&:216,&b&:213,&a&:&1&,&position&:0,&align&:&top&},{&r&:44,&g&:216,&b&:213,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:107,&g&:141,&b&:214,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:142,&g&:55,&b&:215,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:142,&g&:55,&b&:215,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{23:\"{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:44,&g&:216,&b&:213,&a&:&1&,&position&:0,&align&:&top&},{&r&:44,&g&:216,&b&:213,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:197,&g&:193,&b&:255,&a&:&1&,&position&:56,&align&:&bottom&},{&r&:255,&g&:186,&b&:195,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:186,&b&:195,&a&:&1&,&position&:100,&align&:&top&}]}\"},{24:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:191,&g&:217,&b&:254,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:191,&g&:217,&b&:254,&a&:&1&,&position&:0,&align&:&top&},{&r&:223,&g&:137,&b&:181,&a&:&1&,&position&:100,&align&:&top&},{&r&:223,&g&:137,&b&:181,&a&:&1&,&position&:100,&align&:&bottom&}]}\"},\r\n{25:\"{&type&:&linear&,&angle&:&340&,&colors&:[{&r&:97,&g&:97,&b&:97,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:97,&g&:97,&b&:97,&a&:&1&,&position&:0,&align&:&top&},{&r&:155,&g&:197,&b&:195,&a&:&1&,&position&:100,&align&:&top&},{&r&:155,&g&:197,&b&:195,&a&:&1&,&position&:100,&align&:&bottom&}]}\"},{26:\"{&type&:&linear&,&angle&:&90&,&colors&:[{&r&:36,&g&:57,&b&:73,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:36,&g&:57,&b&:73,&a&:&1&,&position&:0,&align&:&top&},{&r&:81,&g&:127,&b&:164,&a&:&1&,&position&:100,&align&:&top&},{&r&:81,&g&:127,&b&:164,&a&:&1&,&position&:100,&align&:&bottom&}]}\"},\r\n{27:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:234,&g&:205,&b&:163,&a&:&1&,&position&:0,&align&:&top&},{&r&:234,&g&:205,&b&:163,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:230,&g&:185,&b&:128,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:230,&g&:185,&b&:128,&a&:&1&,&position&:100,&align&:&top&}]}\"},{28:\"{&type&:&linear&,&angle&:&45&,&colors&:[{&r&:238,&g&:156,&b&:167,&a&:&1&,&position&:0,&align&:&top&},{&r&:238,&g&:156,&b&:167,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:255,&g&:221,&b&:225,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:221,&b&:225,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{29:\"{&type&:&linear&,&angle&:&340&,&colors&:[{&r&:247,&g&:148,&b&:164,&a&:&1&,&position&:0,&align&:&top&},{&r&:247,&g&:148,&b&:164,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:253,&g&:214,&b&:189,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:253,&g&:214,&b&:189,&a&:&1&,&position&:100,&align&:&top&}]}\"},{30:\"{&type&:&linear&,&angle&:&45&,&colors&:[{&r&:135,&g&:77,&b&:162,&a&:&1&,&position&:0,&align&:&top&},{&r&:135,&g&:77,&b&:162,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:196,&g&:58,&b&:48,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:196,&g&:58,&b&:48,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{31:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:243,&g&:231,&b&:233,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:243,&g&:231,&b&:233,&a&:&1&,&position&:0,&align&:&top&},{&r&:218,&g&:212,&b&:236,&a&:&1&,&position&:100,&align&:&top&},{&r&:218,&g&:212,&b&:236,&a&:&1&,&position&:100,&align&:&bottom&}]}\"},{32:\"{&type&:&linear&,&angle&:&320&,&colors&:[{&r&:43,&g&:88,&b&:118,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:43,&g&:88,&b&:118,&a&:&1&,&position&:0,&align&:&top&},{&r&:78,&g&:67,&b&:118,&a&:&1&,&position&:100,&align&:&top&},{&r&:78,&g&:67,&b&:118,&a&:&1&,&position&:100,&align&:&bottom&}]}\"},\r\n{33:\"{&type&:&linear&,&angle&:&60&,&colors&:[{&r&:41,&g&:50,&b&:60,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:41,&g&:50,&b&:60,&a&:&1&,&position&:0,&align&:&top&},{&r&:72,&g&:85,&b&:99,&a&:&1&,&position&:100,&align&:&top&},{&r&:72,&g&:85,&b&:99,&a&:&1&,&position&:100,&align&:&bottom&}]}\"},{34:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:233,&g&:233,&b&:231,&a&:&1&,&position&:0,&align&:&top&},{&r&:233,&g&:233,&b&:231,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:239,&g&:238,&b&:236,&a&:&1&,&position&:25,&align&:&bottom&},{&r&:238,&g&:238,&b&:238,&a&:&1&,&position&:70,&align&:&bottom&},{&r&:213,&g&:212,&b&:208,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:213,&g&:212,&b&:208,&a&:&1&,&position&:100,&align&:&top&}]}\"},\r\n{35:\"{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:251,&g&:200,&b&:212,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:251,&g&:200,&b&:212,&a&:&1&,&position&:0,&align&:&top&},{&r&:151,&g&:149,&b&:240,&a&:&1&,&position&:100,&align&:&top&},{&r&:151,&g&:149,&b&:240,&a&:&1&,&position&:100,&align&:&bottom&}]}\"}];b.tpColorPicker=function(a){Y||(Y=b(\"body\"),n=b('<div class=\"rev-cpicker-wrap color-view\"><div id=\"rev-cpicker-back\" class=\"rev-cpicker-close\"></div><div id=\"rev-cpicker\"><div id=\"rev-cpicker-head\"><div id=\"rev-cpicker-drag\" class=\"rev-cpicker-draggable\"></div><span id=\"rev-cpicker-color-btn\" class=\"rev-cpicker-main-btn\" data-text=\"solid_color\"></span><span id=\"rev-cpicker-gradient-btn\" class=\"rev-cpicker-main-btn\" data-text=\"gradient_color\"></span><div id=\"rev-cpicker-editing\" class=\"rev-cpicker-draggable\"><span id=\"rev-cpicker-edit-title\" data-text=\"currently_editing\"></span><span id=\"rev-cpicker-current-edit\"></span></div><span id=\"rev-cpicker-exit\" class=\"rev-cpicker-close\"></span></div><div id=\"rev-cpicker-section-left\" class=\"rev-cpicker-section\"><div id=\"rev-cpicker-body\"><div id=\"rev-cpicker-colors\" class=\"rev-cpicker-type\"><div class=\"rev-cpicker-column rev-cpicker-column-left\">\\t<div class=\"rev-cpicker-column-inner-left\"><div class=\"rev-cpicker-presets\"><span id=\"rev-cpicker-colors-core-btn\" class=\"rev-cpicker-preset-title rev-cpicker-preset-title-core selected\"><span data-text=\"core_presets\"></span> <span class=\"rev-cpicker-arrow rev-cpicker-arrow-down\"></span><span class=\"rev-cpicker-arrow rev-cpicker-arrow-up\"></span></span><span id=\"rev-cpicker-colors-custom-btn\" class=\"rev-cpicker-preset-title rev-cpicker-preset-title-custom\"><span data-text=\"custom_presets\"></span> <span class=\"rev-cpicker-arrow rev-cpicker-arrow-down\"></span><span class=\"rev-cpicker-arrow rev-cpicker-arrow-up\"></span></span><div id=\"rev-cpicker-colors-core\" class=\"rev-cpicker-presets-group\"></div><div id=\"rev-cpicker-colors-custom\" class=\"rev-cpicker-presets-group rev-cpicker-presets-custom\"></div></div><div class=\"rev-cpicker-iris\"><input id=\"rev-cpicker-iris-color\" class=\"rev-cpicker-iris-input\" value=\"#ffffff\" /><div id=\"rev-cpicker-scroller\" class=\"iris-slider iris-strip\"><div id=\"rev-cpicker-scroll-bg\"></div><div id=\"rev-cpicker-scroll\" class=\"iris-slider-offset\"></div></div></div></div></div><div class=\"rev-cpicker-column rev-cpicker-column-right\"><div class=\"rev-cpicker-column-inner-right\"><div><span data-text=\"save_a_new_preset\"></span><div class=\"rev-cpicker-presets-save-as\"><input type=\"text\" class=\"rev-cpicker-preset-save\" placeholder=\"\" data-placeholder=\"enter_a_name\" /><span class=\"rev-cpicker-btn rev-cpicker-save-preset-btn\" data-alert=\"naming_error\"><span class=\"rev-cpicker-save-icon\"></span><span class=\"rev-cpicker-preset-save-text\" data-text=\"save\"></span></span></div></div><div class=\"rev-cpicker-meta\"><span data-text=\"color_hex_value\"></span><br><input type=\"text\" id=\"rev-cpicker-color-hex\" class=\"rev-cpicker-input rev-cpicker-hex\" value=\"#ffffff\" /><br><span data-text=\"opacity\" class=\"rev-cpicker-hideable\"></span><br><input type=\"text\" id=\"rev-cpicker-color-opacity\" class=\"rev-cpicker-input rev-cpicker-opacity-input rev-cpicker-hideable\" value=\"100%\" /><span id=\"rev-cpciker-clear-hex\" class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpciker-clear rev-cpicker-hideable\" data-text=\"clear\"></span></div></div></div></div><div id=\"rev-cpicker-gradients\" class=\"rev-cpicker-type\"><div class=\"rev-cpicker-column rev-cpicker-column-left\">\\t<div class=\"rev-cpicker-column-inner-left\"><div class=\"rev-cpicker-presets\"><span id=\"rev-cpicker-gradients-core-btn\" class=\"rev-cpicker-preset-title rev-cpicker-preset-title-core selected\"><span data-text=\"core_presets\"></span> <span class=\"rev-cpicker-arrow rev-cpicker-arrow-down\"></span><span class=\"rev-cpicker-arrow rev-cpicker-arrow-up\"></span></span><span id=\"rev-cpicker-gradients-custom-btn\" class=\"rev-cpicker-preset-title rev-cpicker-preset-title-custom\"><span data-text=\"custom_presets\"></span> <span class=\"rev-cpicker-arrow rev-cpicker-arrow-down\"></span><span class=\"rev-cpicker-arrow rev-cpicker-arrow-up\"></span></span><div id=\"rev-cpicker-gradients-core\" class=\"rev-cpicker-presets-group\"></div><div id=\"rev-cpicker-gradients-custom\" class=\"rev-cpicker-presets-group rev-cpicker-presets-custom\"></div></div><div class=\"rev-cpicker-gradient-block\"><div id=\"rev-cpicker-gradient-input\" class=\"rev-cpicker-gradient-builder\"><span id=\"rev-cpicker-hit-top\" class=\"rev-cpicker-builder-hit\"></span><div id=\"rev-cpicker-point-wrap\"><div id=\"rev-cpciker-point-container\"></div></div><span id=\"rev-cpicker-hit-bottom\" class=\"rev-cpicker-builder-hit\"></span></div><div class=\"rev-cpicker-meta-row-wrap\"><div class=\"rev-cpicker-meta-row\"><div><label data-text=\"opacity\"></label><input type=\"text\" id=\"rev-cpicker-grad-opacity\" class=\"rev-cpicker-point-input rev-cpicker-opacity-input\" value=\"100%\" disabled /></div><div><label data-text=\"location\"></label><input type=\"text\" id=\"rev-cpicker-opacity-location\" class=\"rev-cpicker-point-input rev-cpicker-point-location\" value=\"100%\" disabled /></div><div><label>&nbsp;</label><span class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpicker-point-delete\" id=\"rev-cpicker-opacity-delete\" data-text=\"delete\">{{delete}}</span></div></div><div class=\"rev-cpicker-meta-row\"><div><label data-text=\"color\"></label><span class=\"rev-cpicker-point-input\" id=\"rev-cpicker-color-box\"></span></div><div><label data-text=\"location\"></label><input type=\"text\" id=\"rev-cpicker-color-location\" class=\"rev-cpicker-point-input rev-cpicker-point-location\" value=\"100%\" disabled /></div><div><label>&nbsp;</label><span class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpicker-point-input rev-cpicker-point-delete\" id=\"rev-cpicker-color-delete\" data-text=\"delete\">{{delete}}</span></div></div></div></div></div></div><div class=\"rev-cpicker-column rev-cpicker-column-right\"><div class=\"rev-cpicker-column-inner-right\"><div><span data-text=\"save_a_new_preset\"></span><div class=\"rev-cpicker-presets-save-as\"><input type=\"text\" class=\"rev-cpicker-preset-save\" placeholder=\"\" data-placeholder=\"enter_a_name\" /><span class=\"rev-cpicker-btn rev-cpicker-save-preset-btn\" data-alert=\"naming_error\"><span class=\"rev-cpicker-save-icon\"></span><span class=\"rev-cpicker-preset-save-text\" data-text=\"save\"></span></span></div></div><div class=\"rev-cpicker-gradient-block\"><div id=\"rev-cpicker-gradient-output\" class=\"rev-cpicker-gradient-builder\"></div></div><div class=\"rev-cpicker-meta-row-wrap\"><div class=\"rev-cpicker-meta-row\"><div><label>Orientation</label><span id=\"rev-cpicker-orientation-horizontal\" class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpicker-orientation\" data-direction=\"90\" data-text=\"horizontal\"></span><span id=\"rev-cpicker-orientation-vertical\" class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpicker-orientation\" data-direction=\"180\" data-text=\"vertical\"></span><span id=\"rev-cpicker-orientation-radial\" class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpicker-orientation\" data-direction=\"radial\" data-text=\"radial\"></span></div></div><div class=\"rev-cpicker-meta-row rev-cpicker-meta-row-push\"><div><label data-text=\"enter_angle\"></label><div id=\"rev-cpicker-angle-container\"><input type=\"text\" class=\"rev-cpicker-input\" id=\"rev-cpicker-meta-angle\" value=\"\" /><div id=\"rev-cpicker-wheel\"><div id=\"rev-cpicker-wheel-inner\"><span id=\"rev-cpicker-wheel-point\"></span></div></div></div></div><div><label data-text=\"reverse_gradient\"></label><span id=\"rev-cpicker-meta-reverse\"></span></div></div></div></div></div></div></div></div><span id=\"rev-cpicker-check\"></span><div id=\"rev-cpicker-section-right\" class=\"rev-cpicker-section\"><div class=\"rev-cpicker-iris\"><input id=\"rev-cpicker-iris-gradient\" class=\"rev-cpicker-iris-input\" value=\"#ffffff\" /></div><div class=\"rev-cpicker-fields\"><input type=\"text\" id=\"rev-cpicker-gradient-hex\" class=\"rev-cpicker-input rev-cpicker-hex\" value=\"#ffffff\" /><span id=\"rev-cpciker-clear-gradient\" class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpciker-clear\" data-text=\"clear\"></span><span id=\"rev-cpicker-check-gradient\" class=\"rev-cpicker-btn\"></span></div></div><span id=\"rev-cpicker-remove-delete\" data-text=\"delete_confirm\"></span></div></div>').appendTo(Y));\r\na||(a={});a.core&&(a.core.colors&&(ua=a.core.colors),a.core.gradients&&(va=a.core.gradients));rb(a);Na?(S.perfectScrollbar(\"update\"),a.mode&&(Ua=a.mode),a.language&&B(a.language)):(B(a.language||wa),Ua=a.mode||\"full\");a.init&&(tb=a.init);a.onAjax&&(vb=a.onAjax);a.onEdit&&(ub=a.onEdit);a.change&&(xb=a.change);a.cancel&&(wb=a.cancel);a.widgetId&&(yb=a.widgetId);a.defaultValue&&(RevColor.defaultValue=a.defaultValue);a.wrapClasses&&(Ab=a.wrapClasses);a.appendedHtml&&(zb=a.appendedHtml);Na=!0};var Ib=\r\n{refresh:function(){var a=b(this);if(a.hasClass(\"rev-cpicker-component\")){var c=a.data(\"revcp\")||{},c=a.val()||c.defaultValue||RevColor.defaultValue,d=RevColor.process(c),c=d[0],d=\"rgba\"===d[1]&&RevColor.transparentRgba(c,!0)?\"\":c;\"transparent\"!==c?a.data(\"tpcp\")[0].style.background=d:a.data(\"tpcp\").css(\"background\",\"\");a.attr(\"data-color\",c).data(\"hex\",c)}},destroy:function(){b(this).removeData().closest(\".rev-cpicker-master-wrap\").removeData().remove()}};b.fn.tpColorPicker=function(a){return a&&\r\n\"string\"===typeof a?this.each(Ib[a]):this.each(function(){var c=b(this);if(c.hasClass(\"rev-cpicker-component\"))c.tpColorPicker(\"refresh\");else{var d=b('<span class=\"rev-colorpicker\"></span>').data(\"revcolorinput\",c),e=b('<span class=\"rev-colorbox\" />'),g=b('<span class=\"rev-colorbtn\" />'),h=c.attr(\"data-wrap-classes\"),f=c.attr(\"data-wrapper\"),k=c.attr(\"data-wrap-id\"),n=c.attr(\"data-title\"),m=c.attr(\"data-skin\"),l=c.val();d.insertBefore(c).append([e,g,c]);if(a&&b.isPlainObject(a)){f||(f=a.wrapper);\r\nh||(h=a.wrapClasses);m||(m=a.skin);k||(k=a.wrapId);n||(n=a.title);var p=a.defaultValue;var q=c.data(\"revcp\");q&&(a=b.extend({},q,a));c.data(\"revcp\",a)}h||(h=Ab);h&&d.addClass(h);k&&d.attr(\"id\",k);l||(l=p||RevColor.defaultValue,c.val(l));h=RevColor.process(l);l=h[0];h=\"rgba\"===h[1]&&RevColor.transparentRgba(l,!0)?\"\":l;\"transparent\"!==h&&(e[0].style.background=h);g[0].innerHTML=n||Va||wa.color;c.attr({type:\"hidden\",\"data-color\":l}).data(\"tpcp\",e).addClass(\"rev-cpicker-component\");m&&d.addClass(m);f?\r\n(f=b(f).addClass(\"rev-cpicker-master-wrap\"),d.wrap(f)):d.addClass(\"rev-cpicker-master-wrap\");(e=a?a.init||tb:!1)&&e(d,c,l,a)}})};b(function(){b(\"body\").on(\"click.revcpicker\",\".rev-colorpicker\",function(){qb||Hb();m=b(this).data(\"revcolorinput\");var a=m.attr(\"data-widget-id\"),c=m.attr(\"data-appended-html\"),d=m.attr(\"data-editing\"),e=m.attr(\"data-colors\"),g=m.attr(\"data-mode\"),f=m.data(\"revcp\"),k=m.attr(\"data-lang\"),l;if(e){e=JSON.parse(e.replace(/\\&/g,'\"'));if(e.colors)var p=e.colors;if(e.gradients)var q=\r\ne.gradients}if(f){if(l=f.colors){if(l.core){var t=l.core.colors;var u=l.core.gradients}if(l.custom){var v=l.custom.colors;var w=l.custom.gradients}}var x=f.onEdit;var z=f.onAjax;l=f.change;var C=f.cancel;k||(k=f.lang);g||(g=f.mode);c||(c=f.appendedHtml);d||(d=f.editing);a||(a=f.widgetId)}if(u||t||w||v||q||p){f={};if(u||t||q||p)f.core={colors:p||t||ua,gradients:q||u||va};if(w||v)f.custom={colors:v||ua,gradients:w||va};rb(f)}a||(a=yb);a&&(n[0].id=a);c||(c=zb);c&&(oa=b(c).appendTo(Z));k&&B(k);g||(g=\r\nUa);d?Oa.style.visibility=\"visible\":(d=\"\",Oa.style.visibility=\"hidden\");mb.innerHTML=d;\"single\"===g||\"basic\"===g?(ja=!1,H.hide(),D.show(),\"basic\"===g&&n.addClass(\"is-basic\")):(ja=!0,H.show(),D.show());a=m.val()||m.attr(\"data-color\")||RevColor.defaultValue;1<a.split(\"||\").length&&(a=RevColor.joinToRgba(a),m.val(a));a=ya(a);G=a[0];za=x||ub;fa=z||vb;Ea=C||wb;Ra=l||xb;\"gradient\"!==a[1]?D.data(\"state\",G):H.data(\"state\",G);Y.addClass(\"rev-colorpicker-open\");A=m.data(\"tpcp\");n.data(\"revcpickerinput\",m).addClass(\"active\").show();\r\nS.each(Fa).perfectScrollbar(\"update\");Wa=m.attr(\"data-color\");ia=m.data(\"hex\");b(\".rev-cpicker-color\").not(\".blank\").each(y)})})})(\"undefined\"!==jQuery?jQuery:!1);","Nwdthemes_Revslider/public/assets/js/vimeo.player.min.js":"/*! @vimeo/player v2.5.0 | (c) 2018 Vimeo | MIT License | https://github.com/vimeo/player.js */\r\n!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):(e.Vimeo=e.Vimeo||{},e.Vimeo.Player=t())}(this,function(){\"use strict\";function e(e,t){return 0===e.indexOf(t.toLowerCase())?e:\"\"+t.toLowerCase()+e.substr(0,1).toUpperCase()+e.substr(1)}function t(e){return e instanceof window.HTMLElement}function n(e){return!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e}function r(e){return/^(https?:)?\\/\\/((player|www).)?vimeo.com(?=$|\\/)/.test(e)}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=e.url,o=t||i;if(!o)throw new Error(\"An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.\");if(n(o))return\"https://vimeo.com/\"+o;if(r(o))return o.replace(\"http:\",\"https:\");if(t)throw new TypeError(\"\u201c\"+t+\"\u201d is not a valid video id.\");throw new TypeError(\"\u201c\"+o+\"\u201d is not a vimeo.com url.\")}function o(e,t){return t={exports:{}},e(t,t.exports),t.exports}function a(e,t,n){var r=T.get(e.element)||{};t in r||(r[t]=[]),r[t].push(n),T.set(e.element,r)}function u(e,t){return(T.get(e.element)||{})[t]||[]}function s(e,t,n){var r=T.get(e.element)||{};if(!r[t])return!0;if(!n)return r[t]=[],T.set(e.element,r),!0;var i=r[t].indexOf(n);return-1!==i&&r[t].splice(i,1),T.set(e.element,r),r[t]&&0===r[t].length}function c(e,t){var n=u(e,t);if(n.length<1)return!1;var r=n.shift();return s(e,t,r),r}function l(e,t){var n=T.get(e);T.set(t,n),T.delete(e)}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _.reduce(function(t,n){var r=e.getAttribute(\"data-vimeo-\"+n);return(r||\"\"===r)&&(t[n]=\"\"===r?1:r),t},t)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(function(n,i){if(!r(e))throw new TypeError(\"\u201c\"+e+\"\u201d is not a vimeo.com url.\");var o=\"https://vimeo.com/api/oembed.json?url=\"+encodeURIComponent(e);for(var a in t)t.hasOwnProperty(a)&&(o+=\"&\"+a+\"=\"+encodeURIComponent(t[a]));var u=\"XDomainRequest\"in window?new XDomainRequest:new XMLHttpRequest;u.open(\"GET\",o,!0),u.onload=function(){if(404===u.status)return void i(new Error(\"\u201c\"+e+\"\u201d was not found.\"));if(403===u.status)return void i(new Error(\"\u201c\"+e+\"\u201d is not embeddable.\"));try{var t=JSON.parse(u.responseText);n(t)}catch(e){i(e)}},u.onerror=function(){var e=u.status?\" (\"+u.status+\")\":\"\";i(new Error(\"There was an error fetching the embed code from Vimeo\"+e+\".\"))},u.send()})}function d(e,t){var n=e.html;if(!t)throw new TypeError(\"An element must be provided\");if(null!==t.getAttribute(\"data-vimeo-initialized\"))return t.querySelector(\"iframe\");var r=document.createElement(\"div\");return r.innerHTML=n,t.appendChild(r.firstChild),t.setAttribute(\"data-vimeo-initialized\",\"true\"),t.querySelector(\"iframe\")}function v(e){return\"string\"==typeof e&&(e=JSON.parse(e)),e}function p(e,t,n){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var r={method:t};void 0!==n&&(r.value=n);var i=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\\d+).*$/,\"$1\"));i>=8&&i<10&&(r=JSON.stringify(r)),e.element.contentWindow.postMessage(r,e.origin)}}function y(e,t){t=v(t);var n=[],r=void 0;if(t.event){if(\"error\"===t.event){u(e,t.data.method).forEach(function(n){var r=new Error(t.data.message);r.name=t.data.name,n.reject(r),s(e,t.data.method,n)})}n=u(e,\"event:\"+t.event),r=t.data}else if(t.method){var i=c(e,t.method);i&&(n.push(i),r=t.value)}n.forEach(function(t){try{if(\"function\"==typeof t)return void t.call(e,r);t.resolve(r)}catch(e){}})}function m(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}var g=\"undefined\"!=typeof global&&\"[object global]\"==={}.toString.call(global),w=void 0!==Array.prototype.indexOf,b=\"undefined\"!=typeof window&&void 0!==window.postMessage;if(!(g||w&&b))throw new Error(\"Sorry, the Vimeo Player API is not available in this browser.\");var k=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{},E=(o(function(e,t){!function(e){function t(e,t){function r(e){if(!this||this.constructor!==r)return new r(e);this._keys=[],this._values=[],this._itp=[],this.objectOnly=t,e&&n.call(this,e)}return t||w(e,\"size\",{get:y}),e.constructor=r,r.prototype=e,r}function n(e){this.add?e.forEach(this.add,this):e.forEach(function(e){this.set(e[0],e[1])},this)}function r(e){return this.has(e)&&(this._keys.splice(g,1),this._values.splice(g,1),this._itp.forEach(function(e){g<e[0]&&e[0]--})),-1<g}function i(e){return this.has(e)?this._values[g]:void 0}function o(e,t){if(this.objectOnly&&t!==Object(t))throw new TypeError(\"Invalid value used as weak collection key\");if(t!=t||0===t)for(g=e.length;g--&&!b(e[g],t););else g=e.indexOf(t);return-1<g}function a(e){return o.call(this,this._values,e)}function u(e){return o.call(this,this._keys,e)}function s(e,t){return this.has(e)?this._values[g]=t:this._values[this._keys.push(e)-1]=t,this}function c(e){return this.has(e)||this._values.push(e),this}function l(){(this._keys||0).length=this._values.length=0}function f(){return p(this._itp,this._keys)}function h(){return p(this._itp,this._values)}function d(){return p(this._itp,this._keys,this._values)}function v(){return p(this._itp,this._values,this._values)}function p(e,t,n){var r=[0],i=!1;return e.push(r),{next:function(){var o,a=r[0];return!i&&a<t.length?(o=n?[t[a],n[a]]:t[a],r[0]++):(i=!0,e.splice(e.indexOf(r),1)),{done:i,value:o}}}}function y(){return this._values.length}function m(e,t){for(var n=this.entries();;){var r=n.next();if(r.done)break;e.call(t,r.value[1],r.value[0],this)}}var g,w=Object.defineProperty,b=function(e,t){return e===t||e!==e&&t!==t};\"undefined\"==typeof WeakMap&&(e.WeakMap=t({delete:r,clear:l,get:i,has:u,set:s},!0)),\"undefined\"!=typeof Map&&\"function\"==typeof(new Map).values&&(new Map).values().next||(e.Map=t({delete:r,has:u,get:i,set:s,keys:f,values:h,entries:d,forEach:m,clear:l})),\"undefined\"!=typeof Set&&\"function\"==typeof(new Set).values&&(new Set).values().next||(e.Set=t({has:a,add:c,delete:r,clear:l,keys:h,values:h,entries:v,forEach:m})),\"undefined\"==typeof WeakSet&&(e.WeakSet=t({delete:r,add:c,clear:l,has:a},!0))}(void 0!==k?k:window)}),o(function(e){var t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e};!function(t,n,r){n[t]=n[t]||r(),e.exports&&(e.exports=n[t])}(\"Promise\",k,function(){function e(e,t){d.add(e,t),h||(h=p(d.drain))}function n(e){var n,r=void 0===e?\"undefined\":t(e);return null==e||\"object\"!=r&&\"function\"!=r||(n=e.then),\"function\"==typeof n&&n}function r(){for(var e=0;e<this.chain.length;e++)i(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function i(e,t,r){var i,o;try{!1===t?r.reject(e.msg):(i=!0===t?e.msg:t.call(void 0,e.msg),i===r.promise?r.reject(TypeError(\"Promise-chain cycle\")):(o=n(i))?o.call(i,r.resolve,r.reject):r.resolve(i))}catch(e){r.reject(e)}}function o(t){var i,u=this;if(!u.triggered){u.triggered=!0,u.def&&(u=u.def);try{(i=n(t))?e(function(){var e=new s(u);try{i.call(t,function(){o.apply(e,arguments)},function(){a.apply(e,arguments)})}catch(t){a.call(e,t)}}):(u.msg=t,u.state=1,u.chain.length>0&&e(r,u))}catch(e){a.call(new s(u),e)}}}function a(t){var n=this;n.triggered||(n.triggered=!0,n.def&&(n=n.def),n.msg=t,n.state=2,n.chain.length>0&&e(r,n))}function u(e,t,n,r){for(var i=0;i<t.length;i++)!function(i){e.resolve(t[i]).then(function(e){n(i,e)},r)}(i)}function s(e){this.def=e,this.triggered=!1}function c(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function l(t){if(\"function\"!=typeof t)throw TypeError(\"Not a function\");if(0!==this.__NPO__)throw TypeError(\"Not a promise\");this.__NPO__=1;var n=new c(this);this.then=function(t,i){var o={success:\"function\"!=typeof t||t,failure:\"function\"==typeof i&&i};return o.promise=new this.constructor(function(e,t){if(\"function\"!=typeof e||\"function\"!=typeof t)throw TypeError(\"Not a function\");o.resolve=e,o.reject=t}),n.chain.push(o),0!==n.state&&e(r,n),o.promise},this.catch=function(e){return this.then(void 0,e)};try{t.call(void 0,function(e){o.call(n,e)},function(e){a.call(n,e)})}catch(e){a.call(n,e)}}var f,h,d,v=Object.prototype.toString,p=\"undefined\"!=typeof setImmediate?function(e){return setImmediate(e)}:setTimeout;try{Object.defineProperty({},\"x\",{}),f=function(e,t,n,r){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!1!==r})}}catch(e){f=function(e,t,n){return e[t]=n,e}}d=function(){function e(e,t){this.fn=e,this.self=t,this.next=void 0}var t,n,r;return{add:function(i,o){r=new e(i,o),n?n.next=r:t=r,n=r,r=void 0},drain:function(){var e=t;for(t=n=h=void 0;e;)e.fn.call(e.self),e=e.next}}}();var y=f({},\"constructor\",l,!1);return l.prototype=y,f(y,\"__NPO__\",0,!1),f(l,\"resolve\",function(e){var n=this;return e&&\"object\"==(void 0===e?\"undefined\":t(e))&&1===e.__NPO__?e:new n(function(t,n){if(\"function\"!=typeof t||\"function\"!=typeof n)throw TypeError(\"Not a function\");t(e)})}),f(l,\"reject\",function(e){return new this(function(t,n){if(\"function\"!=typeof t||\"function\"!=typeof n)throw TypeError(\"Not a function\");n(e)})}),f(l,\"all\",function(e){var t=this;return\"[object Array]\"!=v.call(e)?t.reject(TypeError(\"Not an array\")):0===e.length?t.resolve([]):new t(function(n,r){if(\"function\"!=typeof n||\"function\"!=typeof r)throw TypeError(\"Not a function\");var i=e.length,o=Array(i),a=0;u(t,e,function(e,t){o[e]=t,++a===i&&n(o)},r)})}),f(l,\"race\",function(e){var t=this;return\"[object Array]\"!=v.call(e)?t.reject(TypeError(\"Not an array\")):new t(function(n,r){if(\"function\"!=typeof n||\"function\"!=typeof r)throw TypeError(\"Not a function\");u(t,e,function(e,t){n(t)},r)})}),l})})),T=new WeakMap,_=[\"autopause\",\"autoplay\",\"background\",\"byline\",\"color\",\"height\",\"id\",\"loop\",\"maxheight\",\"maxwidth\",\"muted\",\"playsinline\",\"portrait\",\"responsive\",\"speed\",\"title\",\"transparent\",\"url\",\"width\"],j=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),M=new WeakMap,x=new WeakMap,Player=function(){function Player(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(m(this,Player),window.jQuery&&e instanceof jQuery&&(e.length>1&&window.console&&console.warn&&console.warn(\"A jQuery object with multiple elements was passed, using the first element.\"),e=e[0]),\"undefined\"!=typeof document&&\"string\"==typeof e&&(e=document.getElementById(e)),!t(e))throw new TypeError(\"You must pass either a valid element or a valid id.\");if(\"IFRAME\"!==e.nodeName){var a=e.querySelector(\"iframe\");a&&(e=a)}if(\"IFRAME\"===e.nodeName&&!r(e.getAttribute(\"src\")||\"\"))throw new Error(\"The player element passed isn\u2019t a Vimeo embed.\");if(M.has(e))return M.get(e);this.element=e,this.origin=\"*\";var u=new E(function(t,a){var u=function(e){if(r(e.origin)&&n.element.contentWindow===e.source){\"*\"===n.origin&&(n.origin=e.origin);var i=v(e.data),o=\"event\"in i&&\"ready\"===i.event,a=\"method\"in i&&\"ping\"===i.method;if(o||a)return n.element.setAttribute(\"data-ready\",\"true\"),void t();y(n,i)}};if(window.addEventListener?window.addEventListener(\"message\",u,!1):window.attachEvent&&window.attachEvent(\"onmessage\",u),\"IFRAME\"!==n.element.nodeName){var s=f(e,o);h(i(s),s).then(function(t){var r=d(t,e);return n.element=r,n._originalElement=e,l(e,r),M.set(n.element,n),t}).catch(function(e){return a(e)})}});return x.set(this,u),M.set(this.element,this),\"IFRAME\"===this.element.nodeName&&p(this,\"ping\"),this}return j(Player,[{key:\"callMethod\",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new E(function(r,i){return t.ready().then(function(){a(t,e,{resolve:r,reject:i}),p(t,e,n)}).catch(function(e){i(e)})})}},{key:\"get\",value:function(t){var n=this;return new E(function(r,i){return t=e(t,\"get\"),n.ready().then(function(){a(n,t,{resolve:r,reject:i}),p(n,t)})})}},{key:\"set\",value:function(t,n){var r=this;return E.resolve(n).then(function(n){if(t=e(t,\"set\"),void 0===n||null===n)throw new TypeError(\"There must be a value to set.\");return r.ready().then(function(){return new E(function(e,i){a(r,t,{resolve:e,reject:i}),p(r,t,n)})})})}},{key:\"on\",value:function(e,t){if(!e)throw new TypeError(\"You must pass an event name.\");if(!t)throw new TypeError(\"You must pass a callback function.\");if(\"function\"!=typeof t)throw new TypeError(\"The callback must be a function.\");0===u(this,\"event:\"+e).length&&this.callMethod(\"addEventListener\",e).catch(function(){}),a(this,\"event:\"+e,t)}},{key:\"off\",value:function(e,t){if(!e)throw new TypeError(\"You must pass an event name.\");if(t&&\"function\"!=typeof t)throw new TypeError(\"The callback must be a function.\");s(this,\"event:\"+e,t)&&this.callMethod(\"removeEventListener\",e).catch(function(e){})}},{key:\"loadVideo\",value:function(e){return this.callMethod(\"loadVideo\",e)}},{key:\"ready\",value:function(){var e=x.get(this)||new E(function(e,t){t(\"Unknown player. Probably unloaded.\")});return E.resolve(e)}},{key:\"addCuePoint\",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod(\"addCuePoint\",{time:e,data:t})}},{key:\"removeCuePoint\",value:function(e){return this.callMethod(\"removeCuePoint\",e)}},{key:\"enableTextTrack\",value:function(e,t){if(!e)throw new TypeError(\"You must pass a language.\");return this.callMethod(\"enableTextTrack\",{language:e,kind:t})}},{key:\"disableTextTrack\",value:function(){return this.callMethod(\"disableTextTrack\")}},{key:\"pause\",value:function(){return this.callMethod(\"pause\")}},{key:\"play\",value:function(){return this.callMethod(\"play\")}},{key:\"unload\",value:function(){return this.callMethod(\"unload\")}},{key:\"destroy\",value:function(){var e=this;return new E(function(t){x.delete(e),M.delete(e.element),e._originalElement&&(M.delete(e._originalElement),e._originalElement.removeAttribute(\"data-vimeo-initialized\")),e.element&&\"IFRAME\"===e.element.nodeName&&e.element.remove(),t()})}},{key:\"getAutopause\",value:function(){return this.get(\"autopause\")}},{key:\"setAutopause\",value:function(e){return this.set(\"autopause\",e)}},{key:\"getColor\",value:function(){return this.get(\"color\")}},{key:\"setColor\",value:function(e){return this.set(\"color\",e)}},{key:\"getCuePoints\",value:function(){return this.get(\"cuePoints\")}},{key:\"getCurrentTime\",value:function(){return this.get(\"currentTime\")}},{key:\"setCurrentTime\",value:function(e){return this.set(\"currentTime\",e)}},{key:\"getDuration\",value:function(){return this.get(\"duration\")}},{key:\"getEnded\",value:function(){return this.get(\"ended\")}},{key:\"getLoop\",value:function(){return this.get(\"loop\")}},{key:\"setLoop\",value:function(e){return this.set(\"loop\",e)}},{key:\"getPaused\",value:function(){return this.get(\"paused\")}},{key:\"getPlaybackRate\",value:function(){return this.get(\"playbackRate\")}},{key:\"setPlaybackRate\",value:function(e){return this.set(\"playbackRate\",e)}},{key:\"getTextTracks\",value:function(){return this.get(\"textTracks\")}},{key:\"getVideoEmbedCode\",value:function(){return this.get(\"videoEmbedCode\")}},{key:\"getVideoId\",value:function(){return this.get(\"videoId\")}},{key:\"getVideoTitle\",value:function(){return this.get(\"videoTitle\")}},{key:\"getVideoWidth\",value:function(){return this.get(\"videoWidth\")}},{key:\"getVideoHeight\",value:function(){return this.get(\"videoHeight\")}},{key:\"getVideoUrl\",value:function(){return this.get(\"videoUrl\")}},{key:\"getVolume\",value:function(){return this.get(\"volume\")}},{key:\"setVolume\",value:function(e){return this.set(\"volume\",e)}}]),Player}();return g||(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=[].slice.call(e.querySelectorAll(\"[data-vimeo-id], [data-vimeo-url]\")),n=function(e){\"console\"in window&&console.error&&console.error(\"There was an error creating an embed: \"+e)};t.forEach(function(e){try{if(null!==e.getAttribute(\"data-vimeo-defer\"))return;var t=f(e);h(i(t),t).then(function(t){return d(t,e)}).catch(n)}catch(e){n(e)}})}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=function(t){if(r(t.origin)&&t.data&&\"spacechange\"===t.data.event)for(var n=e.querySelectorAll(\"iframe\"),i=0;i<n.length;i++)if(n[i].contentWindow===t.source){var o=n[i].parentElement;o&&-1!==o.className.indexOf(\"vimeo-space\")&&(o.style.paddingBottom=t.data.data[0].bottom+\"px\");break}};window.addEventListener?window.addEventListener(\"message\",t,!1):window.attachEvent&&window.attachEvent(\"onmessage\",t)}()),Player});\r\n","Nwdthemes_Revslider/public/assets/js/source/jquery.themepunch.revolution.js":"/**************************************************************************\r\n * jquery.themepunch.revolution.js - jQuery Plugin for Revolution Slider\r\n * @version: 5.4.8 (10.06.2018)\r\n * @requires jQuery v1.7 or later (tested on 1.9)\r\n * @author ThemePunch\r\n **************************************************************************/\r\ndefine('themepunchRevolution', ['jquery', 'themepunchTools'], function(jQuery, punchgs) {\r\n\r\n    \"use strict\";\r\n\r\n    var version = {\r\n        core : \"5.4.8\",\r\n        \"revolution.extensions.actions.min.js\": \"2.1.0\",\r\n        \"revolution.extensions.carousel.min.js\": \"1.2.1\",\r\n        \"revolution.extensions.kenburn.min.js\": \"1.3.1\",\r\n        \"revolution.extensions.layeranimation.min.js\":\"3.6.5\",\r\n        \"revolution.extensions.navigation.min.js\":\"1.3.5\",\r\n        \"revolution.extensions.parallax.min.js\":\"2.2.3\",\r\n        \"revolution.extensions.slideanims.min.js\":\"1.8\",\r\n        \"revolution.extensions.video.min.js\":\"2.2.2\"\r\n    };\r\n\r\n    jQuery.fn.extend({\r\n\r\n        revolution: function(options) {\r\n\r\n            // SET DEFAULT VALUES OF ITEM //\r\n            var defaults = {\r\n                delay:9000,\r\n                responsiveLevels:4064,\t\t\t\t\t// Single or Array for Responsive Levels i.e.: 4064 or i.e. [2048, 1024, 768, 480]\r\n                visibilityLevels:[2048,1024,778,480],\t// Single or Array for Responsive Visibility Levels i.e.: 4064 or i.e. [2048, 1024, 768, 480]\r\n                gridwidth:960,\t\t\t\t\t\t\t// Single or Array i.e. 960 or [960, 840,760,460]\r\n                gridheight:500,\t\t\t\t\t\t\t// Single or Array i.e. 500 or [500, 450,400,350]\r\n                minHeight:0,\r\n                autoHeight:\"off\",\r\n                sliderType : \"standard\",\t\t\t\t// standard, carousel, hero\r\n                sliderLayout : \"auto\",\t\t\t\t\t// auto, fullwidth, fullscreen\r\n\r\n                fullScreenAutoWidth:\"off\",\t\t\t\t// Turns the FullScreen Slider to be a FullHeight but auto Width Slider\r\n                fullScreenAlignForce:\"off\",\r\n                fullScreenOffsetContainer:\"\",\t\t\t// Size for FullScreen Slider minimising Calculated on the Container sizes\r\n                fullScreenOffset:\"0\",\t\t\t\t\t// Size for FullScreen Slider minimising\r\n\r\n                hideCaptionAtLimit:0,\t\t\t\t\t// It Defines if a caption should be shown under a Screen Resolution ( Basod on The Width of Browser)\r\n                hideAllCaptionAtLimit:0,\t\t\t\t// Hide all The Captions if Width of Browser is less then this value\r\n                hideSliderAtLimit:0,\t\t\t\t\t// Hide the whole slider, and stop also functions if Width of Browser is less than this value\r\n                disableProgressBar:\"off\",\t\t\t\t// Hides Progress Bar if is set to \"on\"\r\n                stopAtSlide:-1,\t\t\t\t\t\t\t// Stop Timer if Slide \"x\" has been Reached. If stopAfterLoops set to 0, then it stops already in the first Loop at slide X which defined. -1 means do not stop at any slide. stopAfterLoops has no sinn in this case.\r\n                stopAfterLoops:-1,\t\t\t\t\t\t// Stop Timer if All slides has been played \"x\" times. IT will stop at THe slide which is defined via stopAtSlide:x, if set to -1 slide never stop automatic\r\n                shadow:0,\t\t\t\t\t\t\t\t//0 = no Shadow, 1,2,3 = 3 Different Art of Shadows  (No Shadow in Fullwidth Version !)\r\n                dottedOverlay:\"none\",\t\t\t\t\t//twoxtwo, threexthree, twoxtwowhite, threexthreewhite\r\n                startDelay:0,\t\t\t\t\t\t\t// Delay before the first Animation starts.\r\n                lazyType : \"smart\",\t\t\t\t\t\t//full, smart, single\r\n                spinner:\"spinner0\",\r\n                shuffle:\"off\",\t\t\t\t\t\t\t// Random Order of Slides,\r\n\r\n\r\n                viewPort:{\r\n                    enable:false,\t\t\t\t\t\t// if enabled, slider wait with start or wait at first slide.\r\n                    outof:\"wait\",\t\t\t\t\t\t// wait,pause\r\n                    visible_area:\"60%\",\t\t\t\t\t// Start Animation when 60% of Slider is visible\r\n                    presize:false \t\t\t\t\t\t// Presize the Height of the Slider Container for Internal Link Positions\r\n                },\r\n\r\n                fallbacks:{\r\n                    isJoomla:false,\r\n                    panZoomDisableOnMobile:\"off\",\r\n                    simplifyAll:\"on\",\r\n                    nextSlideOnWindowFocus:\"off\",\r\n                    disableFocusListener:true,\r\n                    ignoreHeightChanges:\"off\",  // off, mobile, always\r\n                    ignoreHeightChangesSize:0,\r\n                    allowHTML5AutoPlayOnAndroid:true\r\n\r\n                },\r\n\r\n                parallax : {\r\n                    type : \"off\",\t\t\t\t\t\t// off, mouse, scroll, mouse+scroll\r\n                    levels: [10,15,20,25,30,35,40,45,50,55,60,65,70,75,80,85],\r\n                    origo:\"enterpoint\",\t\t\t\t// slidercenter or enterpoint\r\n                    speed:400,\r\n                    bgparallax : \"off\",\r\n                    opacity:\"on\",\r\n                    disable_onmobile:\"off\",\r\n                    ddd_shadow:\"on\",\r\n                    ddd_bgfreeze:\"off\",\r\n                    ddd_overflow:\"visible\",\r\n                    ddd_layer_overflow:\"visible\",\r\n                    ddd_z_correction:65,\r\n                    ddd_path:\"mouse\"\r\n                },\r\n\r\n                scrolleffect: {\r\n                    fade:\"off\",\r\n                    blur:\"off\",\r\n                    scale:\"off\",\r\n                    grayscale:\"off\",\r\n                    maxblur:10,\r\n                    on_layers:\"off\",\r\n                    on_slidebg:\"off\",\r\n                    on_static_layers:\"off\",\r\n                    on_parallax_layers:\"off\",\r\n                    on_parallax_static_layers:\"off\",\r\n                    direction:\"both\",\r\n                    multiplicator:1.35,\r\n                    multiplicator_layers:0.5,\r\n                    tilt:30,\r\n                    disable_on_mobile:\"on\"\r\n                },\r\n\r\n                carousel : {\r\n                    easing:punchgs.Power3.easeInOut,\r\n                    speed:800,\r\n                    showLayersAllTime : \"off\",\r\n                    horizontal_align : \"center\",\r\n                    vertical_align : \"center\",\r\n                    infinity : \"on\",\r\n                    space : 0,\r\n                    maxVisibleItems : 3,\r\n                    stretch:\"off\",\r\n                    fadeout:\"on\",\r\n                    maxRotation:0,\r\n                    minScale:0,\r\n                    vary_fade:\"off\",\r\n                    vary_rotation:\"on\",\r\n                    vary_scale:\"off\",\r\n                    border_radius:\"0px\",\r\n                    padding_top:0,\r\n                    padding_bottom:0\r\n                },\r\n\r\n                navigation : {\r\n                    keyboardNavigation:\"off\",\r\n                    keyboard_direction:\"horizontal\",\t\t//\thorizontal - left/right arrows,  vertical - top/bottom arrows\r\n                    mouseScrollNavigation:\"off\",\t\t\t// on, off, carousel\r\n                    onHoverStop:\"on\",\t\t\t\t\t\t// Stop Banner Timet at Hover on Slide on/off\r\n\r\n                    touch:{\r\n                        touchenabled:\"off\",\t\t\t\t\t\t// Enable Swipe Function : on/off\r\n                        touchOnDesktop:\"off\",\t\t\t\t\t// Enable Tuoch on Desktop Systems also\r\n                        swipe_treshold : 75,\t\t\t\t\t// The number of pixels that the user must move their finger by before it is considered a swipe.\r\n                        swipe_min_touches : 1,\t\t\t\t\t// Min Finger (touch) used for swipe\r\n                        drag_block_vertical:false,\t\t\t\t// Prevent Vertical Scroll during Swipe\r\n                        swipe_direction:\"horizontal\"\r\n                    },\r\n                    arrows: {\r\n                        style:\"\",\r\n                        enable:false,\r\n                        hide_onmobile:false,\r\n                        hide_onleave:true,\r\n                        hide_delay:200,\r\n                        hide_delay_mobile:1200,\r\n                        hide_under:0,\r\n                        hide_over:9999,\r\n                        tmp:'',\r\n                        rtl:false,\r\n                        left : {\r\n                            h_align:\"left\",\r\n                            v_align:\"center\",\r\n                            h_offset:20,\r\n                            v_offset:0,\r\n                            container:\"slider\",\r\n                        },\r\n                        right : {\r\n                            h_align:\"right\",\r\n                            v_align:\"center\",\r\n                            h_offset:20,\r\n                            v_offset:0,\r\n                            container:\"slider\",\r\n                        }\r\n                    },\r\n                    bullets: {\r\n                        container:\"slider\",\r\n                        rtl:false,\r\n                        style:\"\",\r\n                        enable:false,\r\n                        hide_onmobile:false,\r\n                        hide_onleave:true,\r\n                        hide_delay:200,\r\n                        hide_delay_mobile:1200,\r\n                        hide_under:0,\r\n                        hide_over:9999,\r\n                        direction:\"horizontal\",\r\n                        h_align:\"left\",\r\n                        v_align:\"center\",\r\n                        space:0,\r\n                        h_offset:20,\r\n                        v_offset:0,\r\n                        tmp:'<span class=\"tp-bullet-image\"></span><span class=\"tp-bullet-title\"></span>'\r\n                    },\r\n                    thumbnails: {\r\n                        container:\"slider\",\r\n                        rtl:false,\r\n                        style:\"\",\r\n                        enable:false,\r\n                        width:100,\r\n                        height:50,\r\n                        min_width:100,\r\n                        wrapper_padding:2,\r\n                        wrapper_color:\"#f5f5f5\",\r\n                        wrapper_opacity:1,\r\n                        tmp:'<span class=\"tp-thumb-image\"></span><span class=\"tp-thumb-title\"></span>',\r\n                        visibleAmount:5,\r\n                        hide_onmobile:false,\r\n                        hide_onleave:true,\r\n                        hide_delay:200,\r\n                        hide_delay_mobile:1200,\r\n                        hide_under:0,\r\n                        hide_over:9999,\r\n                        direction:\"horizontal\",\r\n                        span:false,\r\n                        position:\"inner\",\r\n                        space:2,\r\n                        h_align:\"left\",\r\n                        v_align:\"center\",\r\n                        h_offset:20,\r\n                        v_offset:0\r\n                    },\r\n                    tabs: {\r\n                        container:\"slider\",\r\n                        rtl:false,\r\n                        style:\"\",\r\n                        enable:false,\r\n                        width:100,\r\n                        min_width:100,\r\n                        height:50,\r\n                        wrapper_padding:10,\r\n                        wrapper_color:\"#f5f5f5\",\r\n                        wrapper_opacity:1,\r\n                        tmp:'<span class=\"tp-tab-image\"></span>',\r\n                        visibleAmount:5,\r\n                        hide_onmobile:false,\r\n                        hide_onleave:true,\r\n                        hide_delay:200,\r\n                        hide_delay_mobile:1200,\r\n                        hide_under:0,\r\n                        hide_over:9999,\r\n                        direction:\"horizontal\",\r\n                        span:false,\r\n                        space:0,\r\n                        position:\"inner\",\r\n                        h_align:\"left\",\r\n                        v_align:\"center\",\r\n                        h_offset:20,\r\n                        v_offset:0\r\n                    }\r\n                },\r\n                extensions:\"extensions/\",\t\t\t//example extensions/ or extensions/source/\r\n                extensions_suffix:\".min.js\",\r\n                //addons:[{fileprefix:\"revolution.addon.whiteboard\",init:\"initWhiteBoard\",params:\"opt\",handel:\"whiteboard\"}],\r\n                debugMode:false\r\n            };\r\n\r\n            // Merge of Defaults\r\n            options = jQuery.extend(true,{},defaults, options);\r\n\r\n            return this.each(function() {\r\n\r\n\r\n                var c = jQuery(this);\r\n\r\n                // Prepare maxHeight\r\n                options.minHeight = options.minHeight!=undefined ? parseInt(options.minHeight,0) : options.minHeight;\r\n                options.scrolleffect.on = options.scrolleffect.fade===\"on\" || options.scrolleffect.scale===\"on\" || options.scrolleffect.blur===\"on\" || options.scrolleffect.grayscale===\"on\";\r\n\r\n\r\n\r\n                //REMOVE SLIDES IF SLIDER IS HERO\r\n                if (options.sliderType==\"hero\") {\r\n                    c.find('>ul>li').each(function(i) {\r\n                        if (i>0) jQuery(this).remove();\r\n                    })\r\n                }\r\n                options.jsFileLocation = options.jsFileLocation || getScriptLocation(\"themepunch.revolution.min.js\");\r\n                options.jsFileLocation = options.jsFileLocation + options.extensions;\r\n                options.scriptsneeded = getNeededScripts(options,c);\r\n                options.curWinRange = 0;\r\n\r\n                options.rtl = true; //jQuery('body').hasClass(\"rtl\");\r\n\r\n                if (options.navigation!=undefined && options.navigation.touch!=undefined)\r\n                    options.navigation.touch.swipe_min_touches = options.navigation.touch.swipe_min_touches >5 ? 1 : options.navigation.touch.swipe_min_touches;\r\n\r\n\r\n\r\n                jQuery(this).on(\"scriptsloaded\",function() {\r\n                    if (options.modulesfailing ) {\r\n                        c.html('<div style=\"margin:auto;line-height:40px;font-size:14px;color:#fff;padding:15px;background:#e74c3c;margin:20px 0px;\">!! Error at loading Slider Revolution 5.0 Extrensions.'+options.errorm+'</div>').show();\r\n                        return false;\r\n                    }\r\n\r\n                    // CHECK FOR MIGRATION\r\n                    if (_R.migration!=undefined) options = _R.migration(c,options);\r\n\r\n                    punchgs.force3D = true;\r\n                    if (options.simplifyAll!==\"on\") punchgs.TweenLite.lagSmoothing(1000,16);\r\n                    prepareOptions(c,options);\r\n                    initSlider(c,options);\r\n                });\r\n\r\n                c[0].opt = options;\r\n                waitForScripts(c,options);\r\n            })\r\n        },\r\n\r\n        //Get All Loaded Version\r\n        getRSVersion : function(silent) {\r\n            if (silent===true) {\r\n                return jQuery('body').data('tp_rs_version');\r\n            } else {\r\n                var v = jQuery('body').data('tp_rs_version'),\r\n                    t = \"\";\r\n                t += (\"---------------------------------------------------------\")+\"\\n\";\r\n                t += (\"    Currently Loaded Slider Revolution & SR Modules :\")+\"\\n\";\r\n                t += (\"---------------------------------------------------------\")+\"\\n\";\r\n                for (var key in v) {\r\n                    t += (v[key].alias+\": \"+v[key].ver)+\"\\n\";\r\n                }\r\n                t +=(\"---------------------------------------------------------\")+\"\\n\";\r\n                return t;\r\n            };\r\n        },\r\n\r\n\r\n        // Remove a Slide from the Slider\r\n        revremoveslide : function(sindex) {\r\n\r\n            return this.each(function() {\r\n\r\n                var container=jQuery(this),\r\n                    opt = container[0].opt;\r\n\r\n                if (sindex<0 || sindex>opt.slideamount) return;\r\n\r\n                if (container!=undefined && container.length>0 && jQuery('body').find('#'+container.attr('id')).length>0) {\r\n\r\n                    if (opt && opt.li.length>0) {\r\n                        if (sindex>0 || sindex<=opt.li.length) {\r\n\r\n                            var li = jQuery(opt.li[sindex]),\r\n                                ref = li.data(\"index\"),\r\n                                nextslideafter = false;\r\n\r\n                            opt.slideamount = opt.slideamount-1;\r\n                            opt.realslideamount = opt.realslideamount-1;\r\n                            removeNavWithLiref('.tp-bullet',ref,opt);\r\n                            removeNavWithLiref('.tp-tab',ref,opt);\r\n                            removeNavWithLiref('.tp-thumb',ref,opt);\r\n                            if (li.hasClass('active-revslide'))\r\n                                nextslideafter = true;\r\n                            li.remove();\r\n                            opt.li = removeArray(opt.li,sindex);\r\n                            if (opt.carousel && opt.carousel.slides)\r\n                                opt.carousel.slides = removeArray(opt.carousel.slides,sindex)\r\n                            opt.thumbs = removeArray(opt.thumbs,sindex);\r\n                            if (_R.updateNavIndexes) _R.updateNavIndexes(opt);\r\n                            if (nextslideafter) container.revnext();\r\n                            punchgs.TweenLite.set(opt.li,{minWidth:\"99%\"});\r\n                            punchgs.TweenLite.set(opt.li,{minWidth:\"100%\"});\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n\r\n        },\r\n\r\n        // Add a New Call Back to some Module\r\n        revaddcallback: function(callback) {\r\n            return this.each(function() {\r\n                if (this.opt) {\r\n                    if (this.opt.callBackArray === undefined)\r\n                        this.opt.callBackArray = new Array();\r\n                    this.opt.callBackArray.push(callback);\r\n                }\r\n            })\r\n        },\r\n\r\n        // Get Current Parallax Proc\r\n        revgetparallaxproc : function() {\r\n            return jQuery(this)[0].opt.scrollproc;\r\n        },\r\n\r\n        // ENABLE DEBUG MODE\r\n        revdebugmode: function() {\r\n            return this.each(function() {\r\n                var c=jQuery(this);\r\n                c[0].opt.debugMode = true;\r\n                containerResized(c,c[0].opt);\r\n\r\n            })\r\n        },\r\n\r\n        // METHODE SCROLL\r\n        revscroll: function(oy) {\r\n            return this.each(function() {\r\n                var c=jQuery(this);\r\n                jQuery('body,html').animate({scrollTop:(c.offset().top+(c.height())-oy)+\"px\"},{duration:400});\r\n            });\r\n        },\r\n\r\n        // METHODE PAUSE\r\n        revredraw: function(oy) {\r\n            return this.each(function() {\r\n                var c=jQuery(this);\r\n                containerResized(c,c[0].opt);\r\n            })\r\n        },\r\n        // METHODE PAUSE\r\n        revkill: function(oy) {\r\n\r\n            var self = this,\r\n                container=jQuery(this);\r\n\r\n            punchgs.TweenLite.killDelayedCallsTo(_R.showHideNavElements);\r\n\r\n\r\n            if (container!=undefined && container.length>0 && jQuery('body').find('#'+container.attr('id')).length>0) {\r\n\r\n                container.data('conthover',1);\r\n                container.data('conthover-changed',1);\r\n                container.trigger('revolution.slide.onpause');\r\n\r\n                var bt = container.parent().find('.tp-bannertimer'),\r\n                    opt = container[0].opt;\r\n                opt.tonpause = true;\r\n                container.trigger('stoptimer');\r\n\r\n                var resizid = \"resize.revslider-\"+container.attr('id');\r\n                jQuery(window).unbind(resizid);\r\n\r\n                punchgs.TweenLite.killTweensOf(container.find('*'),false);\r\n                punchgs.TweenLite.killTweensOf(container,false);\r\n                container.unbind('hover, mouseover, mouseenter,mouseleave, resize');\r\n                var resizid = \"resize.revslider-\"+container.attr('id');\r\n                jQuery(window).off(resizid);\r\n                container.find('*').each(function() {\r\n                    var el = jQuery(this);\r\n\r\n                    el.unbind('on, hover, mouseenter,mouseleave,mouseover, resize,restarttimer, stoptimer');\r\n                    el.off('on, hover, mouseenter,mouseleave,mouseover, resize');\r\n                    el.data('mySplitText',null);\r\n                    el.data('ctl',null);\r\n                    if (el.data('tween')!=undefined)\r\n                        el.data('tween').kill();\r\n                    if (el.data('kenburn')!=undefined)\r\n                        el.data('kenburn').kill();\r\n                    if (el.data('timeline_out')!=undefined)\r\n                        el.data('timeline_out').kill();\r\n                    if (el.data('timeline')!=undefined)\r\n                        el.data('timeline').kill();\r\n\r\n                    el.remove();\r\n                    el.empty();\r\n                    el=null;\r\n                })\r\n\r\n\r\n                punchgs.TweenLite.killTweensOf(container.find('*'),false);\r\n                punchgs.TweenLite.killTweensOf(container,false);\r\n                bt.remove();\r\n                try{container.closest('.forcefullwidth_wrapper_tp_banner').remove();} catch(e) {}\r\n                try{container.closest('.rev_slider_wrapper').remove()} catch(e) {}\r\n                try{container.remove();} catch(e) {}\r\n                container.empty();\r\n                container.html();\r\n                container = null;\r\n\r\n                opt = null;\r\n                delete(self.c);\r\n                delete(self.opt);\r\n                delete(self.container);\r\n\r\n\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        },\r\n\r\n        // METHODE PAUSE\r\n        revpause: function() {\r\n            return this.each(function() {\r\n                var c=jQuery(this);\r\n                if (c!=undefined && c.length>0 && jQuery('body').find('#'+c.attr('id')).length>0) {\r\n                    c.data('conthover',1);\r\n                    c.data('conthover-changed',1);\r\n                    c.trigger('revolution.slide.onpause');\r\n                    c[0].opt.tonpause = true;\r\n                    c.trigger('stoptimer');\r\n                }\r\n            })\r\n        },\r\n\r\n        // METHODE RESUME\r\n        revresume: function() {\r\n            return this.each(function() {\r\n                var c=jQuery(this);\r\n                if (c!=undefined && c.length>0 && jQuery('body').find('#'+c.attr('id')).length>0) {\r\n                    c.data('conthover',0);\r\n                    c.data('conthover-changed',1);\r\n                    c.trigger('revolution.slide.onresume');\r\n                    c[0].opt.tonpause = false;\r\n                    c.trigger('starttimer');\r\n                }\r\n            })\r\n        },\r\n\r\n        revstart: function() {\r\n            //return this.each(function() {\r\n            var c=jQuery(this);\r\n            if (c!=undefined && c.length>0 && jQuery('body').find('#'+c.attr('id')).length>0 && c[0].opt!==undefined) {\r\n                if (!c[0].opt.sliderisrunning) {\r\n\r\n\t\t\t\t\t\t// fixes revapi.revstart();\r\n\t\t\t\t\t\tc[0].opt.c=c;\r\n\t\t\t\t\t\tc[0].opt.ul = c.find('>ul');\r\n\r\n                    runSlider(c,c[0].opt);\r\n                    return true;\r\n                }\r\n                else {\r\n                    console.log(\"Slider Is Running Already\");\r\n                    return false;\r\n                }\r\n\r\n            }\r\n            //})\r\n\r\n        },\r\n\r\n        // METHODE NEXT\r\n        revnext: function() {\r\n            return this.each(function() {\r\n                // CATCH THE CONTAINER\r\n                var c=jQuery(this);\r\n                if (c!=undefined && c.length>0 && jQuery('body').find('#'+c.attr('id')).length>0) {\r\n                    _R.callingNewSlide(c,1);\r\n                }\r\n            })\r\n        },\r\n\r\n        // METHODE RESUME\r\n        revprev: function() {\r\n            return this.each(function() {\r\n                // CATCH THE CONTAINER\r\n                var c=jQuery(this);\r\n                if (c!=undefined && c.length>0 && jQuery('body').find('#'+c.attr('id')).length>0) {\r\n                    _R.callingNewSlide(c,-1);\r\n                }\r\n            })\r\n        },\r\n\r\n        // METHODE LENGTH\r\n        revmaxslide: function() {\r\n            // CATCH THE CONTAINER\r\n            return jQuery(this).find('.tp-revslider-mainul >li').length;\r\n        },\r\n\r\n\r\n        // METHODE CURRENT\r\n        revcurrentslide: function() {\r\n            // CATCH THE CONTAINER\r\n            var c=jQuery(this);\r\n            if (c!=undefined && c.length>0 && jQuery('body').find('#'+c.attr('id')).length>0) {\r\n                return parseInt(c[0].opt.act,0)+1;\r\n            }\r\n        },\r\n\r\n        // METHODE CURRENT\r\n        revlastslide: function() {\r\n            // CATCH THE CONTAINER\r\n            return jQuery(this).find('.tp-revslider-mainul >li').length;\r\n        },\r\n\r\n\r\n        // METHODE JUMP TO SLIDE\r\n        revshowslide: function(slide) {\r\n            return this.each(function() {\r\n                // CATCH THE CONTAINER\r\n                var c=jQuery(this);\r\n                if (c!=undefined && c.length>0 && jQuery('body').find('#'+c.attr('id')).length>0) {\r\n                    _R.callingNewSlide(c,\"to\"+(slide-1));\r\n                }\r\n            })\r\n        },\r\n        revcallslidewithid: function(slide) {\r\n            return this.each(function() {\r\n                // CATCH THE CONTAINER\r\n                var c=jQuery(this);\r\n                if (c!=undefined && c.length>0 && jQuery('body').find('#'+c.attr('id')).length>0) {\r\n                    _R.callingNewSlide(c,slide);\r\n                }\r\n            })\r\n        }\r\n    });\r\n\r\n\r\n\r\n//////////////////////////////////////////////////////////////\r\n// -\tREVOLUTION FUNCTION EXTENSIONS FOR GLOBAL USAGE  -  //\r\n//////////////////////////////////////////////////////////////\r\n    var _R = jQuery.fn.revolution;\r\n\r\n    jQuery.extend(true, _R, {\r\n\r\n        getversion : function() {\r\n            return version;\r\n        },\r\n\r\n        compare_version : function(extension) {\r\n            var v = jQuery('body').data('tp_rs_version');\r\n            v = v === undefined ? new Object() : v;\r\n            if (v.Core===undefined) {\r\n                v.Core = new Object();\r\n                v.Core.alias = \"Slider Revolution Core\";\r\n                v.Core.name = \"jquery.themepunch.revolution.min.js\";\r\n                v.Core.ver = _R.getversion().core;\r\n            }\r\n\r\n            if (extension.check!=\"stop\") {\r\n                // CHECK FOR CORRECT CORE AND EXTENSION VERSION\r\n                if (_R.getversion().core<extension.min_core) {\r\n                    if (extension.check===undefined) {\r\n                        console.log(\"%c\"+\"Slider Revolution Warning (Core:\"+_R.getversion().core+\")\",'color:#c0392b;font-weight:bold;');\r\n                        console.log(\"%c\"+\"     Core is older than expected (\"+extension.min_core+\") from \"+extension.alias,'color:#333');\r\n                        console.log(\"%c\"+\"     Please update Slider Revolution to the latest version.\",'color:#333');\r\n                        console.log(\"%c\"+\"     It might be required to purge and clear Server/Client side Caches.\",'color:#333');\r\n\r\n                    }\r\n                    extension.check=\"stop\";\r\n                } else\r\n\r\n                if (_R.getversion()[extension.name]!=undefined && extension.version <_R.getversion()[extension.name]) {\r\n                    if (extension.check===undefined) {\r\n                        console.log(\"%c\"+\"Slider Revolution Warning (Core:\"+_R.getversion().core+\")\",'color:#c0392b;font-weight:bold;');\r\n                        console.log(\"%c\"+\"     \"+extension.alias+\" (\"+extension.version+\") is older than requiered (\"+_R.getversion()[extension.name]+\")\",'color:#333');\r\n                        console.log(\"%c\"+\"     Please update Slider Revolution to the latest version.\",'color:#333');\r\n                        console.log(\"%c\"+\"     It might be required to purge and clear Server/Client side Caches.\",'color:#333');\r\n                    }\r\n                    extension.check=\"stop\";\r\n                }\r\n            }\r\n\r\n            if (v[extension.alias]===undefined) {\r\n                v[extension.alias] = new Object();\r\n                v[extension.alias].alias = extension.alias;\r\n                v[extension.alias].ver = extension.version;\r\n                v[extension.alias].name = extension.name;\r\n            }\r\n\r\n            jQuery('body').data('tp_rs_version',v);\r\n\r\n            return extension;\r\n        },\r\n\r\n        currentSlideIndex : function(opt) {\r\n\r\n            var\tai =  opt.c.find('.active-revslide').index();\r\n\r\n            ai = ai == -1 ? 0 : ai;\r\n\r\n            return ai;\r\n\r\n        },\r\n\r\n        simp : function(a,b,basic) {\r\n            var c = Math.abs(a) - (Math.floor(Math.abs(a / b))*b);\r\n            if (basic)\r\n                return c;\r\n            else\r\n                return a<0 ? -1*c : c;\r\n        },\r\n\r\n        //\t-\tIS IOS VERSION OLDER THAN 5 ??\r\n        iOSVersion : function() {\r\n            var oldios = false;\r\n            if((navigator.userAgent.match(/iPhone/i)) || (navigator.userAgent.match(/iPod/i)) || (navigator.userAgent.match(/iPad/i))) {\r\n                if (navigator.userAgent.match(/OS 4_\\d like Mac OS X/i)) {\r\n                    oldios = true;\r\n                }\r\n            } else {\r\n                oldios = false;\r\n            }\r\n            return oldios;\r\n        },\r\n\r\n\r\n        //\t-\tCHECK IF BROWSER IS IE\t\t-\r\n        isIE : function( version, comparison ){\r\n            var $div = jQuery('<div style=\"display:none;\"/>').appendTo(jQuery('body'));\r\n            $div.html('<!--[if '+(comparison||'')+' IE '+(version||'')+']><a>&nbsp;</a><![endif]-->');\r\n            var ieTest = $div.find('a').length;\r\n            $div.remove();\r\n            return ieTest;\r\n        },\r\n\r\n        // \t-\tIS MOBILE ??\r\n        is_mobile : function() {\r\n            var agents = ['android', 'webos', 'iphone', 'ipad', 'blackberry','Android', 'webos', ,'iPod', 'iPhone', 'iPad', 'Blackberry', 'BlackBerry'];\r\n            var ismobile=false;\r\n            for(var i in agents) {\r\n\r\n                if (navigator.userAgent.split(agents[i]).length>1) {\r\n                    ismobile = true;\r\n\r\n                }\r\n            }\r\n            return ismobile;\r\n        },\r\n\r\n        is_android : function() {\r\n            var agents = ['android', 'Android'];\r\n            var isandroid=false;\r\n            for(var i in agents) {\r\n                if (navigator.userAgent.split(agents[i]).length>1) {\r\n                    isandroid = true;\r\n                }\r\n            }\r\n            return isandroid;\r\n        },\r\n\r\n        // -  CALL BACK HANDLINGS - //\r\n        callBackHandling : function(opt,type,position) {\r\n            try{\r\n                if (opt.callBackArray)\r\n                    jQuery.each(opt.callBackArray,function(i,c) {\r\n                        if (c) {\r\n                            if (c.inmodule && c.inmodule === type)\r\n                                if (c.atposition && c.atposition === position)\r\n                                    if (c.callback)\r\n                                        c.callback.call();\r\n                        }\r\n                    });\r\n            } catch(e) {\r\n                console.log(\"Call Back Failed\");\r\n            }\r\n        },\r\n\r\n        get_browser : function(){\r\n            var N=navigator.appName, ua=navigator.userAgent, tem;\r\n            var M=ua.match(/(opera|chrome|safari|firefox|msie)\\/?\\s*(\\.?\\d+(\\.\\d+)*)/i);\r\n            if(M && (tem= ua.match(/version\\/([\\.\\d]+)/i))!= null) M[2]= tem[1];\r\n            M=M? [M[1], M[2]]: [N, navigator.appVersion, '-?'];\r\n            return M[0];\r\n        },\r\n\r\n        get_browser_version  : function(){\r\n            var N=navigator.appName, ua=navigator.userAgent, tem;\r\n            var M=ua.match(/(opera|chrome|safari|firefox|msie)\\/?\\s*(\\.?\\d+(\\.\\d+)*)/i);\r\n            if(M && (tem= ua.match(/version\\/([\\.\\d]+)/i))!= null) M[2]= tem[1];\r\n            M=M? [M[1], M[2]]: [N, navigator.appVersion, '-?'];\r\n            return M[1];\r\n        },\r\n\r\n\t\t/*\r\n\t\t Jason / Safari 11 Video autoplay fix\r\n\t\t */\r\n        isSafari11: function() {\r\n\r\n\t\tvar browser = jQuery.trim(_R.get_browser().toLowerCase());\r\n\t\tif(jQuery.trim(navigator.userAgent.toLowerCase()).search('edge') !== -1 || browser === 'msie') return false;\r\n\t\treturn browser.match(/safari|chrome/);\r\n\r\n        },\r\n\r\n        // GET THE HORIZONTAL OFFSET OF SLIDER BASED ON THE THU`MBNAIL AND TABS LEFT AND RIGHT SIDE\r\n        getHorizontalOffset : function(container,side) {\r\n            var thumbloff = gWiderOut(container,'.outer-left'),\r\n                thumbroff = gWiderOut(container,'.outer-right');\r\n\r\n            switch (side) {\r\n                case \"left\":\r\n                    return thumbloff;\r\n                    break;\r\n                case \"right\":\r\n                    return thumbroff;\r\n                    break;\r\n                case \"both\":\r\n                    return thumbloff+thumbroff;\r\n                    break;\r\n            }\r\n        },\r\n\r\n\r\n        // \t-\tCALLING THE NEW SLIDE \t-\t//\r\n        callingNewSlide : function(container,direction) {\r\n\r\n            var aindex = container.find('.next-revslide').length>0 ? container.find('.next-revslide').index() : container.find('.processing-revslide').length>0 ? container.find('.processing-revslide').index() : container.find('.active-revslide').index(),\r\n                nindex = 0,\r\n                opt = container[0].opt;\r\n\r\n            container.find('.next-revslide').removeClass(\"next-revslide\");\r\n\r\n            // IF WE ARE ON AN INVISIBLE SLIDE CURRENTLY\r\n            if (container.find('.active-revslide').hasClass(\"tp-invisible-slide\"))\r\n                aindex = opt.last_shown_slide;\r\n\r\n            // SET NEXT DIRECTION\r\n            if (direction && jQuery.isNumeric(direction) || direction.match(/to/g)) {\r\n                if (direction===1 || direction === -1) {\r\n\r\n                    nindex = aindex + direction;\r\n                    nindex = nindex<0 ? opt.slideamount-1 : nindex>=opt.slideamount ? 0 : nindex;\r\n                } else {\r\n\r\n                    direction=jQuery.isNumeric(direction) ? direction : parseInt(direction.split(\"to\")[1],0);\r\n                    nindex = direction<0 ? 0 : direction>opt.slideamount-1 ? opt.slideamount-1 : direction;\r\n                }\r\n                container.find('.tp-revslider-slidesli:eq('+nindex+')').addClass(\"next-revslide\");\r\n            } else\r\n            if (direction) {\r\n\r\n                container.find('.tp-revslider-slidesli').each(function() {\r\n                    var li=jQuery(this);\r\n                    if (li.data('index')===direction) li.addClass(\"next-revslide\");\r\n                })\r\n            }\r\n\r\n\r\n            nindex = container.find('.next-revslide').index();\r\n            container.trigger(\"revolution.nextslide.waiting\");\r\n\r\n\r\n            if ((aindex===nindex && aindex === opt.last_shown_slide) || (nindex !== aindex && nindex!=-1))\r\n                swapSlide(container);\r\n            else\r\n                container.find('.next-revslide').removeClass(\"next-revslide\");\r\n        },\r\n\r\n        slotSize : function(img,opt) {\r\n            opt.slotw=Math.ceil(opt.width/opt.slots);\r\n\r\n            if (opt.sliderLayout==\"fullscreen\")\r\n                opt.sloth=Math.ceil(jQuery(window).height()/opt.slots);\r\n            else\r\n                opt.sloth=Math.ceil(opt.height/opt.slots);\r\n\r\n            if (opt.autoHeight==\"on\" && img!==undefined && img!==\"\")\r\n                opt.sloth=Math.ceil(img.height()/opt.slots);\r\n\r\n\r\n        },\r\n\r\n        setSize : function(opt) {\r\n\r\n            var ofh = (opt.top_outer || 0) + (opt.bottom_outer || 0),\r\n                cpt = parseInt((opt.carousel.padding_top||0),0),\r\n                cpb = parseInt((opt.carousel.padding_bottom||0),0),\r\n                maxhei = opt.gridheight[opt.curWinRange],\r\n                __mh = 0,\r\n                _actli = opt.nextSlide === -1 || opt.nextSlide===undefined ? 0 : opt.nextSlide;\r\n            opt.paddings = opt.paddings === undefined ? {top:(parseInt(opt.c.parent().css(\"paddingTop\"),0) || 0), bottom:(parseInt(opt.c.parent().css(\"paddingBottom\"),0) || 0)} : opt.paddings;\r\n\r\n            if (opt.rowzones && opt.rowzones.length>0)\r\n                for (var a=0;a<opt.rowzones[_actli].length;a++) {\r\n                    __mh = __mh + opt.rowzones[_actli][a][0].offsetHeight;\r\n                }\r\n\r\n\r\n            maxhei = maxhei<opt.minHeight ? opt.minHeight : maxhei;\r\n            maxhei = maxhei<__mh ? __mh : maxhei;\r\n\r\n\r\n            if (opt.sliderLayout==\"fullwidth\" && opt.autoHeight==\"off\")\tpunchgs.TweenLite.set(opt.c,{maxHeight:maxhei+\"px\"});\r\n            opt.c.css({marginTop:cpt,marginBottom:cpb});\r\n            opt.width=opt.ul.width();\r\n            opt.height=opt.ul.height();\r\n            setScale(opt);\r\n\r\n            opt.height = Math.round(opt.gridheight[opt.curWinRange] * (opt.width/opt.gridwidth[opt.curWinRange]));\r\n\r\n            if (opt.height>opt.gridheight[opt.curWinRange] && opt.autoHeight!=\"on\") opt.height=opt.gridheight[opt.curWinRange];\r\n\r\n            if (opt.sliderLayout==\"fullscreen\" || opt.infullscreenmode) {\r\n                opt.height = opt.bw * opt.gridheight[opt.curWinRange];\r\n                var cow = opt.c.parent().width();\r\n                var coh = jQuery(window).height();\r\n\r\n                if (opt.fullScreenOffsetContainer!=undefined) {\r\n                    try{\r\n                        var offcontainers = opt.fullScreenOffsetContainer.split(\",\");\r\n                        if (offcontainers)\r\n                            jQuery.each(offcontainers,function(index,searchedcont) {\r\n                                coh = jQuery(searchedcont).length>0 ? coh - jQuery(searchedcont).outerHeight(true) : coh;\r\n                            });\r\n                    } catch(e) {}\r\n                    try{\r\n                        if (opt.fullScreenOffset.split(\"%\").length>1 && opt.fullScreenOffset!=undefined && opt.fullScreenOffset.length>0)\r\n                            coh = coh - (jQuery(window).height()* parseInt(opt.fullScreenOffset,0)/100);\r\n                        else\r\n                        if (opt.fullScreenOffset!=undefined && opt.fullScreenOffset.length>0)\r\n                            coh = coh - parseInt(opt.fullScreenOffset,0);\r\n                    } catch(e) {}\r\n                }\r\n\r\n                coh = coh<opt.minHeight ? opt.minHeight : coh;\r\n                coh = coh - ofh;\r\n                opt.c.parent().height(coh);\r\n\r\n                opt.c.closest('.rev_slider_wrapper').height(coh);\r\n                opt.c.css({'height':'100%'});\r\n\r\n                opt.height=coh;\r\n                if (opt.minHeight!=undefined && opt.height<opt.minHeight)\r\n                    opt.height = opt.minHeight;\r\n                opt.height = parseInt(__mh,0)>parseInt(opt.height,0) ? __mh : opt.height;\r\n\r\n            } else {\r\n                if (opt.minHeight!=undefined && opt.height<opt.minHeight)\r\n                    opt.height = opt.minHeight;\r\n                opt.height = parseInt(__mh,0)>parseInt(opt.height,0) ? __mh : opt.height;\r\n                opt.c.height(opt.height);\r\n            }\r\n            var si = {\theight:(cpt+cpb+ofh+opt.height+opt.paddings.top+opt.paddings.bottom)};\r\n\r\n            opt.c.closest('.forcefullwidth_wrapper_tp_banner').find('.tp-fullwidth-forcer').css(si);\r\n            opt.c.closest('.rev_slider_wrapper').css(si);\r\n            setScale(opt);\r\n        },\r\n\r\n        enterInViewPort : function(opt) {\r\n            // START COUNTER IF VP ENTERED, AND COUNTDOWN WAS NOT ON YET\r\n            if (opt.waitForCountDown) {\r\n\r\n                countDown(opt.c,opt);\r\n                opt.waitForCountDown=false;\r\n            }\r\n            // START FIRST SLIDE IF NOT YET STARTED AND VP ENTERED\r\n            if (opt.waitForFirstSlide) {\r\n                swapSlide(opt.c);\r\n                opt.waitForFirstSlide=false;\r\n                setTimeout(function() {\r\n                    opt.c.removeClass(\"tp-waitforfirststart\");\r\n                },500);\r\n            }\r\n\r\n            if (opt.sliderlaststatus == \"playing\" || opt.sliderlaststatus==undefined) {\r\n                opt.c.trigger(\"starttimer\");\r\n            }\r\n\r\n\r\n            if (opt.lastplayedvideos != undefined && opt.lastplayedvideos.length>0) {\r\n\r\n                jQuery.each(opt.lastplayedvideos,function(i,_nc) {\r\n\r\n                    _R.playVideo(_nc,opt);\r\n                });\r\n            }\r\n        },\r\n\r\n        leaveViewPort : function(opt) {\r\n            opt.sliderlaststatus = opt.sliderstatus;\r\n            opt.c.trigger(\"stoptimer\");\r\n            if (opt.playingvideos != undefined && opt.playingvideos.length>0) {\r\n                opt.lastplayedvideos = jQuery.extend(true,[],opt.playingvideos);\r\n                if (opt.playingvideos)\r\n                    jQuery.each(opt.playingvideos,function(i,_nc) {\r\n                        opt.leaveViewPortBasedStop = true;\r\n                        if (_R.stopVideo) _R.stopVideo(_nc,opt);\r\n                    });\r\n            }\r\n        },\r\n\r\n        unToggleState : function(a) {\r\n            if (a!=undefined && a.length>0)\r\n                jQuery.each(a,function(i,layer) {\r\n                    layer.removeClass(\"rs-toggle-content-active\");\r\n                });\r\n        },\r\n\r\n        toggleState : function(a) {\r\n            if (a!=undefined && a.length>0)\r\n                jQuery.each(a,function(i,layer) {\r\n                    layer.addClass(\"rs-toggle-content-active\");\r\n                });\r\n        },\r\n        swaptoggleState : function(a) {\r\n            if (a!=undefined && a.length>0)\r\n                jQuery.each(a,function(i,layer) {\r\n                    if (jQuery(layer).hasClass(\"rs-toggle-content-active\"))\r\n                        jQuery(layer).removeClass(\"rs-toggle-content-active\");\r\n                    else\r\n                        jQuery(layer).addClass(\"rs-toggle-content-active\");\r\n                });\r\n        },\r\n        lastToggleState : function(a) {\r\n            var state = 0;\r\n            if (a!=undefined && a.length>0)\r\n                jQuery.each(a,function(i,layer) {\r\n                    state = layer.hasClass(\"rs-toggle-content-active\");\r\n                });\r\n            return state;\r\n        }\r\n\r\n    });\r\n\r\n\r\n    var\t_ISM = _R.is_mobile(),\r\n        _ANDROID = _R.is_android();\r\n\r\n\r\n\r\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n    var checkIDS = function(opt,item) {\r\n        opt.anyid = opt.anyid === undefined ? [] : opt.anyid;\r\n        var ind = jQuery.inArray(item.attr('id'),opt.anyid);\r\n        if (ind!=-1) {\r\n            var newid = item.attr('id')+\"_\"+Math.round(Math.random()*9999);\r\n            item.attr('id',newid);\r\n        }\r\n\r\n        opt.anyid.push(item.attr('id'));\r\n    }\r\n    var removeArray = function(arr,i) {\r\n        var newarr = [];\r\n        jQuery.each(arr,function(a,b) {\r\n            if (a!=i) newarr.push(b);\r\n        })\r\n        return newarr;\r\n    }\r\n\r\n    var removeNavWithLiref = function(a,ref,opt) {\r\n        opt.c.find(a).each(function() {\r\n            var a = jQuery(this);\r\n            if (a.data('liref')===ref)\r\n                a.remove();\r\n        })\r\n    }\r\n\r\n\r\n    var lAjax = function(s,o) {\r\n\r\n        if (jQuery('body').data(s)) return false;\r\n        if (o.filesystem) {\r\n            if (o.errorm===undefined)\r\n                o.errorm = \"<br>Local Filesystem Detected !<br>Put this to your header:\";\r\n            console.warn('Local Filesystem detected !');\r\n            o.errorm = o.errorm+'<br>&lt;script type=\"text/javascript\" src=\"'+o.jsFileLocation+s+o.extensions_suffix+'\"&gt;&lt;/script&gt;';\r\n            console.warn(o.jsFileLocation+s+o.extensions_suffix+' could not be loaded !');\r\n            console.warn('Please use a local Server or work online or make sure that you load all needed Libraries manually in your Document.');\r\n            console.log(\" \");\r\n            o.modulesfailing = true;\r\n            return false;\r\n        }\r\n\r\n        jQuery.ajaxSetup({\r\n            type: 'get'\r\n        });\r\n        jQuery.ajax({\r\n            url:o.jsFileLocation+s+o.extensions_suffix+'?version='+version.core,\r\n            'dataType':'script',\r\n            'cache':true,\r\n            \"error\":function(e) {\r\n                console.warn(\"Slider Revolution 5.0 Error !\")\r\n                console.error(\"Failure at Loading:\"+s+o.extensions_suffix+\" on Path:\"+o.jsFileLocation)\r\n                console.info(e);\r\n            }\r\n        });\r\n        jQuery('body').data(s,true);\r\n    }\r\n\r\n\r\n\r\n    var getNeededScripts = function(o,c) {\r\n        var n = new Object(),\r\n            _n = o.navigation;\r\n\r\n        n.kenburns = false;\r\n        n.parallax = false;\r\n        n.carousel = false;\r\n        n.navigation = false;\r\n        n.videos = false;\r\n        n.actions = false;\r\n        n.layeranim = false;\r\n        n.migration = false;\r\n\r\n\r\n\r\n\r\n        // MIGRATION EXTENSION\r\n        if (!c.data('version') || !c.data('version').toString().match(/5./gi)) {\r\n            n.kenburns = true;\r\n            n.parallax = true;\r\n            n.carousel = false;\r\n            n.navigation = true;\r\n            n.videos = true;\r\n            n.actions = true;\r\n            n.layeranim = true;\r\n            n.migration = true;\r\n        }\r\n        else {\r\n            // KEN BURN MODUL\r\n            c.find('img').each(function(){\r\n                if (jQuery(this).data('kenburns')==\"on\") n.kenburns = true;\r\n            });\r\n\r\n            // NAVIGATION EXTENSTION\r\n            if (o.sliderType ==\"carousel\" || _n.keyboardNavigation==\"on\" || _n.mouseScrollNavigation==\"on\" || _n.touch.touchenabled==\"on\" || _n.arrows.enable || _n.bullets.enable || _n.thumbnails.enable || _n.tabs.enable )\r\n                n.navigation = true;\r\n\r\n            // LAYERANIM, VIDEOS, ACTIONS EXTENSIONS\r\n            c.find('.tp-caption, .tp-static-layer, .rs-background-video-layer').each(function(){\r\n                var _nc = jQuery(this);\r\n                if ((_nc.data('ytid')!=undefined  || _nc.find('iframe').length>0 && _nc.find('iframe').attr('src').toLowerCase().indexOf('youtube')>0))\r\n                    n.videos = true;\r\n                if ((_nc.data('vimeoid')!=undefined || _nc.find('iframe').length>0 && _nc.find('iframe').attr('src').toLowerCase().indexOf('vimeo')>0))\r\n                    n.videos = true;\r\n                if (_nc.data('actions')!==undefined)\r\n                    n.actions = true;\r\n                n.layeranim = true;\r\n            });\r\n\r\n\r\n            c.find('li').each(function() {\r\n                if (jQuery(this).data('link') && jQuery(this).data('link')!=undefined) {\r\n                    n.layeranim = true;\r\n                    n.actions = true;\r\n                }\r\n            })\r\n\r\n            // VIDEO EXTENSION\r\n            if (!n.videos && (c.find('.rs-background-video-layer').length>0 || c.find(\".tp-videolayer\").length>0 || c.find(\".tp-audiolayer\").length>0 || c.find('iframe').length>0 || c.find('video').length>0))\r\n                n.videos = true;\r\n\r\n\r\n            // VIDEO EXTENSION\r\n            if (o.sliderType ==\"carousel\")\r\n                n.carousel = true;\r\n\r\n\r\n\r\n            if (o.parallax.type!==\"off\" || o.viewPort.enable || o.viewPort.enable==\"true\" || o.scrolleffect.on===\"true\" || o.scrolleffect.on)\r\n                n.parallax = true;\r\n        }\r\n\r\n        if (o.sliderType==\"hero\") {\r\n            n.carousel = false;\r\n            n.navigation = false;\r\n        }\r\n\r\n        if (window.location.href.match(/file:/gi)) {\r\n            n.filesystem = true;\r\n            o.filesystem = true;\r\n        }\r\n\r\n\r\n        // LOAD THE NEEDED LIBRARIES\r\n        if (n.videos && typeof _R.isVideoPlaying=='undefined') lAjax('revolution.extension.video',o);\r\n        if (n.carousel && typeof _R.prepareCarousel=='undefined') lAjax('revolution.extension.carousel',o);\r\n        if (!n.carousel && typeof _R.animateSlide=='undefined') lAjax('revolution.extension.slideanims',o);\r\n        if (n.actions && typeof _R.checkActions=='undefined') lAjax('revolution.extension.actions',o);\r\n        if (n.layeranim && typeof _R.handleStaticLayers=='undefined') lAjax('revolution.extension.layeranimation',o);\r\n        if (n.kenburns && typeof _R.stopKenBurn=='undefined') lAjax('revolution.extension.kenburn',o);\r\n        if (n.navigation && typeof _R.createNavigation=='undefined') lAjax('revolution.extension.navigation',o);\r\n        if (n.migration && typeof _R.migration=='undefined') lAjax('revolution.extension.migration',o);\r\n        if (n.parallax && typeof _R.checkForParallax=='undefined') lAjax('revolution.extension.parallax',o);\r\n\r\n        if (o.addons!=undefined && o.addons.length>0) {\r\n            jQuery.each(o.addons, function(i,obj) {\r\n                if (typeof obj === \"object\" && obj.fileprefix!=undefined)\r\n                    lAjax(obj.fileprefix,o);\r\n            })\r\n        }\r\n\r\n\r\n        return n;\r\n    }\r\n\r\n///////////////////////////////////\r\n//   -  WAIT FOR SCRIPT LOADS  - //\r\n///////////////////////////////////\r\n    var waitForScripts = function(c,o) {\r\n        // CHECK KEN BURN DEPENDENCIES\r\n        var addonsloaded = true,\r\n            n = o.scriptsneeded;\r\n\r\n        // CHECK FOR ADDONS\r\n        if (o.addons!=undefined && o.addons.length>0) {\r\n            jQuery.each(o.addons, function(i,obj) {\r\n                if (typeof obj === \"object\" && obj.init!=undefined) {\r\n                    if (_R[obj.init]===undefined) addonsloaded = false;\r\n                }\r\n            })\r\n        }\r\n\r\n        if (n.filesystem ||\r\n            (typeof punchgs !== 'undefined' &&\r\n                (addonsloaded) &&\r\n                (!n.kenburns || (n.kenburns && typeof _R.stopKenBurn !== 'undefined')) &&\r\n                (!n.navigation || (n.navigation && typeof _R.createNavigation !== 'undefined')) &&\r\n                (!n.carousel || (n.carousel && typeof _R.prepareCarousel !== 'undefined')) &&\r\n                (!n.videos || (n.videos && typeof _R.resetVideo !== 'undefined')) &&\r\n                (!n.actions || (n.actions && typeof _R.checkActions !== 'undefined')) &&\r\n                (!n.layeranim || (n.layeranim && typeof _R.handleStaticLayers !== 'undefined')) &&\r\n                (!n.migration || (n.migration && typeof _R.migration !== 'undefined')) &&\r\n                (!n.parallax || (n.parallax && typeof _R.checkForParallax !== 'undefined')) &&\r\n                (n.carousel || (!n.carousel && typeof _R.animateSlide !== 'undefined'))\r\n            ))\r\n            c.trigger(\"scriptsloaded\");\r\n        else\r\n            setTimeout(function() {\r\n                waitForScripts(c,o);\r\n            },50);\r\n\r\n    }\r\n\r\n//////////////////////////////////\r\n//\t-\tGET SCRIPT LOCATION\t-\t//\r\n//////////////////////////////////\r\n    var getScriptLocation = function(a) {\r\n\r\n        var srcexp = new RegExp(\"themepunch.revolution.min.js\",\"gi\"),\r\n            ret = \"\";\r\n        jQuery(\"script\").each(function() {\r\n            var src = jQuery(this).attr(\"src\");\r\n            if (src && src.match(srcexp))\r\n                ret = src;\r\n        });\r\n\r\n        ret = ret.replace('jquery.themepunch.revolution.min.js', '');\r\n        ret = ret.replace('jquery.themepunch.revolution.js', '');\r\n        ret = ret.split(\"?\")[0];\r\n        return ret;\r\n    }\r\n\r\n//////////////////////////////////////////\r\n//\t-\tADVANCED RESPONSIVE LEVELS\t-\t//\r\n//////////////////////////////////////////\r\n    var setCurWinRange = function(opt,vis) {\r\n        var curlevel = 0,\r\n            curwidth = 9999,\r\n            lastmaxlevel = 0,\r\n            lastmaxid = 0,\r\n            curid = 0,\r\n            winw = jQuery(window).width(),\r\n            l = vis && opt.responsiveLevels==9999 ? opt.visibilityLevels : opt.responsiveLevels;\r\n\r\n        if (l && l.length)\r\n            jQuery.each(l,function(index,level) {\r\n                if (winw<level) {\r\n                    if (lastmaxlevel==0 || lastmaxlevel>level) {\r\n                        curwidth = level;\r\n                        curid = index;\r\n                        lastmaxlevel = level;\r\n                    }\r\n                }\r\n\r\n                if (winw>level && lastmaxlevel<level) {\r\n                    lastmaxlevel = level;\r\n                    lastmaxid = index;\r\n                }\r\n            });\r\n\r\n        if (lastmaxlevel<curwidth)\r\n            curid = lastmaxid;\r\n\r\n\r\n        if (!vis)\r\n            opt.curWinRange = curid;\r\n        else\r\n            opt.forcedWinRange = curid;\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n//////////////////////////////////////////\r\n//\t-\tINITIALISATION OF OPTIONS \t-\t//\r\n//////////////////////////////////////////\r\n    var prepareOptions = function(container,opt) {\r\n        opt.carousel.maxVisibleItems = opt.carousel.maxVisibleItems < 1 ? 999 : opt.carousel.maxVisibleItems; // === 1 ? 2 : opt.carousel.maxVisibleItems;\r\n        opt.carousel.vertical_align = opt.carousel.vertical_align === \"top\" ? \"0%\" : opt.carousel.vertical_align===\"bottom\" ? \"100%\" : \"50%\";\r\n    }\r\n\r\n    var gWiderOut = function(c,cl) {\r\n        var r = 0;\r\n        c.find(cl).each(function() {\r\n            var a = jQuery(this);\r\n            if (!a.hasClass(\"tp-forcenotvisible\") && r<a.outerWidth())\r\n                r = a.outerWidth();\r\n        });\r\n        return r;\r\n    }\r\n\r\n\r\n\r\n\r\n//////////////////////////////////////////\r\n//\t-\tINITIALISATION OF SLIDER\t-\t//\r\n//////////////////////////////////////////\r\n    var initSlider = function (container,opt) {\r\n        if (container==undefined) return false;\r\n\r\n        // CHECK FOR ALTERNATIVE IMAGE, AND IFRAM EXIST, AND WE ARE IN IE8, MOBILE, DRAW IT SIMPLE\r\n        if (container.data('aimg')!=undefined)\r\n            if ((container.data('aie8')==\"enabled\" && _R.isIE(8)) || (container.data('amobile')==\"enabled\" && _ISM))\r\n                container.html('<img class=\"tp-slider-alternative-image\" src=\"'+container.data(\"aimg\")+'\">');\r\n\r\n        // PREPRARE SOME CLASSES AND VARIABLES\r\n        container.find('>ul').addClass(\"tp-revslider-mainul\");\r\n\r\n\r\n        // CREATE SOME DEFAULT OPTIONS FOR LATER\r\n        opt.c=container;\r\n        opt.ul = container.find('.tp-revslider-mainul');\r\n\r\n        // Remove Not Needed Slides for Mobile Devices\r\n        opt.ul.find('>li').each(function(i) {\r\n            var li = jQuery(this);\r\n            if (li.data('hideslideonmobile')==\"on\" && _ISM) li.remove();\r\n            if (li.data('invisible') || li.data('invisible')===true) {\r\n                li.addClass(\"tp-invisible-slide\");\r\n                li.appendTo(opt.ul);\r\n            }\r\n        });\r\n\r\n\r\n        if (opt.addons!=undefined && opt.addons.length>0) {\r\n            jQuery.each(opt.addons, function(i,obj) {\r\n                if (typeof obj === \"object\" && obj.init!=undefined) {\r\n                    _R[obj.init](eval(obj.params));\r\n                }\r\n            })\r\n        }\r\n\r\n\r\n\r\n        opt.cid = container.attr('id');\r\n        opt.ul.css({visibility:\"visible\"});\r\n        opt.slideamount = opt.ul.find('>li').not('.tp-invisible-slide').length;\r\n        opt.realslideamount = opt.ul.find('>li').length;\r\n        opt.slayers = container.find('.tp-static-layers');\r\n        opt.slayers.data('index','staticlayers');\r\n\r\n        if (opt.waitForInit == true)\r\n            return;\r\n        else {\r\n            container[0].opt = opt;\r\n            runSlider(container,opt);\r\n        }\r\n\r\n    }\r\n\r\n    var onFullScreenChange = function() {\r\n        jQuery(\"body\").data('rs-fullScreenMode',!jQuery(\"body\").data('rs-fullScreenMode'));\r\n        if (jQuery(\"body\").data('rs-fullScreenMode')) {\r\n            setTimeout(function() {\r\n                jQuery(window).trigger(\"resize\");\r\n            },200);\r\n        }\r\n    }\r\n\r\n    var runSlider = function(container,opt) {\r\n\r\n\r\n        opt.sliderisrunning = true;\r\n        // Save Original Index of Slides\r\n        opt.ul.find('>li').each(function(i) {\r\n            jQuery(this).data('originalindex',i);\r\n        });\r\n\r\n        opt.allli = opt.ul.find('>li');\r\n\r\n        // RECORD THUMBS AND SET INDEXES\r\n        jQuery.each(opt.allli,function(index,li) {\r\n            var li = jQuery(li);\r\n            li.data('origindex',li.index());\r\n        });\r\n\r\n        opt.li = opt.ul.find('>li').not('.tp-invisible-slide');\r\n\r\n        // RANDOMIZE THE SLIDER SHUFFLE MODE\r\n        if (opt.shuffle==\"on\") {\r\n            var fsa = new Object,\r\n                fli = opt.ul.find('>li:first-child');\r\n            fsa.fstransition = fli.data('fstransition');\r\n            fsa.fsmasterspeed = fli.data('fsmasterspeed');\r\n            fsa.fsslotamount = fli.data('fsslotamount');\r\n\r\n            for (var u=0;u<opt.slideamount;u++) {\r\n                var it = Math.round(Math.random()*opt.slideamount);\r\n                opt.ul.find('>li:eq('+it+')').prependTo(opt.ul);\r\n            }\r\n\r\n            var newfli = opt.ul.find('>li:first-child');\r\n            newfli.data('fstransition',fsa.fstransition);\r\n            newfli.data('fsmasterspeed',fsa.fsmasterspeed);\r\n            newfli.data('fsslotamount',fsa.fsslotamount);\r\n\r\n            // RECOLLECT ALL LI INTO AN ARRAY\r\n            opt.allli = opt.ul.find('>li');\r\n            opt.li = opt.ul.find('>li').not('.tp-invisible-slide');\r\n        }\r\n\r\n\r\n        opt.inli = opt.ul.find('>li.tp-invisible-slide');\r\n\r\n\r\n        opt.thumbs = new Array();\r\n\r\n        opt.slots=4;\r\n        opt.act=-1;\r\n        opt.firststart=1;\r\n        opt.loadqueue = new Array();\r\n        opt.syncload = 0;\r\n        opt.conw = container.width();\r\n        opt.conh = container.height();\r\n\r\n        if (opt.responsiveLevels.length>1)\r\n            opt.responsiveLevels[0] = 9999;\r\n        else\r\n            opt.responsiveLevels = 9999;\r\n\r\n\r\n\r\n        jQuery.each(opt.allli,function(index,li) {\r\n            var li = jQuery(li),\r\n                img = li.find('.rev-slidebg') || li.find('img').first(),\r\n                i = 0;\r\n\r\n\r\n            li.addClass(\"tp-revslider-slidesli\");\r\n            if (li.data('index')===undefined) li.data('index','rs-'+Math.round(Math.random()*999999));\r\n\r\n            var obj = new Object;\r\n            obj.params = new Array();\r\n\r\n            obj.id = li.data('index');\r\n            obj.src = li.data('thumb')!==undefined ? li.data('thumb') : img.data('lazyload') !== undefined ? img.data('lazyload') : img.attr('src');\r\n            if (li.data('title') !== undefined) obj.params.push({from:RegExp(\"\\\\{\\\\{title\\\\}\\\\}\",\"g\"), to:li.data(\"title\")})\r\n            if (li.data('description') !== undefined) obj.params.push({from:RegExp(\"\\\\{\\\\{description\\\\}\\\\}\",\"g\"), to:li.data(\"description\")})\r\n            for (var i=1;i<=10;i++) {\r\n                if (li.data(\"param\"+i)!==undefined)\r\n                    obj.params.push({from:RegExp(\"\\\\{\\\\{param\"+i+\"\\\\}\\\\}\",\"g\"), to:li.data(\"param\"+i)})\r\n            }\r\n            opt.thumbs.push(obj);\r\n\r\n            // IF LINK ON SLIDE EXISTS, NEED TO CREATE A PROPER LAYER FOR IT.\r\n            if (li.data('link')!=undefined) {\r\n                var link = li.data('link'),\r\n                    target= li.data('target') || \"_self\",\r\n                    zindex= li.data('slideindex')===\"back\" ? 0 : 60,\r\n                    linktoslide=li.data('linktoslide'),\r\n                    checksl = linktoslide;\r\n\r\n                if (linktoslide != undefined)\r\n                    if (linktoslide!=\"next\" && linktoslide!=\"prev\")\r\n                        opt.allli.each(function() {\r\n                            var t = jQuery(this);\r\n                            if (t.data('origindex')+1==checksl) linktoslide = t.data('index');\r\n                        });\r\n\r\n\r\n                if (link!=\"slide\") linktoslide=\"no\";\r\n\r\n                var apptxt = '<div class=\"tp-caption slidelink\" style=\"cursor:pointer;width:100%;height:100%;z-index:'+zindex+';\" data-x=\"center\" data-y=\"center\" data-basealign=\"slide\" ',\r\n                    jts = linktoslide===\"scroll_under\" ? '[{\"event\":\"click\",\"action\":\"scrollbelow\",\"offset\":\"100px\",\"delay\":\"0\"}]' :\r\n                        linktoslide===\"prev\" ? '[{\"event\":\"click\",\"action\":\"jumptoslide\",\"slide\":\"prev\",\"delay\":\"0.2\"}]' :\r\n                            linktoslide===\"next\" ? '[{\"event\":\"click\",\"action\":\"jumptoslide\",\"slide\":\"next\",\"delay\":\"0.2\"}]' : '[{\"event\":\"click\",\"action\":\"jumptoslide\",\"slide\":\"'+linktoslide+'\",\"delay\":\"0.2\"}]',\r\n                    frame = ' data-frames=' +\"'\" + '[{\"delay\":0,\"speed\":100,\"frame\":\"0\",\"from\":\"opacity:0;\",\"to\":\"o:1;\",\"ease\":\"Power3.easeInOut\"},{\"delay\":\"wait\",\"speed\":300,\"frame\":\"999\",\"to\":\"opacity:0;\",\"ease\":\"Power3.easeInOut\"}]'+\"'\";\r\n                apptxt = linktoslide==\"no\" ? apptxt + frame +' >' : apptxt + 'data-actions='+\"'\"+jts + \"'\"+frame+' >';\r\n                apptxt = apptxt + '<a style=\"width:100%;height:100%;display:block\"';\r\n                apptxt = link!=\"slide\" ? apptxt + ' target=\"'+target+'\" href=\"'+link+'\"' : apptxt;\r\n                apptxt = apptxt + '><span style=\"width:100%;height:100%;display:block\"></span></a></div>';\r\n                li.append(apptxt);\r\n            }\r\n        });\r\n\r\n\r\n        // CREATE GRID WIDTH AND HEIGHT ARRAYS\r\n        opt.rle = opt.responsiveLevels.length || 1;\r\n        opt.gridwidth = cArray(opt.gridwidth,opt.rle);\r\n        opt.gridheight = cArray(opt.gridheight,opt.rle);\r\n        // END OF VERSION 5.0 INIT MODIFICATION\r\n\r\n\r\n\r\n        // SIMPLIFY ANIMATIONS ON OLD IOS AND IE8 IF NEEDED\r\n        if (opt.simplifyAll==\"on\" && (_R.isIE(8) || _R.iOSVersion())) {\r\n            container.find('.tp-caption').each(function() {\r\n                var tc = jQuery(this);\r\n                tc.removeClass(\"customin customout\").addClass(\"fadein fadeout\");\r\n                tc.data('splitin',\"\");\r\n                tc.data('speed',400);\r\n            })\r\n            opt.allli.each(function() {\r\n                var li= jQuery(this);\r\n                li.data('transition',\"fade\");\r\n                li.data('masterspeed',500);\r\n                li.data('slotamount',1);\r\n                var img = li.find('.rev-slidebg') || li.find('>img').first();\r\n                img.data('kenburns',\"off\");\r\n            });\r\n        }\r\n\r\n        opt.desktop = !navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i);\r\n\r\n        // SOME OPTIONS WHICH SHOULD CLOSE OUT SOME OTHER SETTINGS\r\n        opt.autoHeight = opt.sliderLayout==\"fullscreen\" ? \"on\" : opt.autoHeight;\r\n\r\n        if (opt.sliderLayout==\"fullwidth\" && opt.autoHeight==\"off\") container.css({maxHeight:opt.gridheight[opt.curWinRange]+\"px\"});\r\n\r\n        // BUILD A FORCE FULLWIDTH CONTAINER, TO SPAN THE FULL SLIDER TO THE FULL WIDTH OF BROWSER\r\n        if (opt.sliderLayout!=\"auto\" && container.closest('.forcefullwidth_wrapper_tp_banner').length==0) {\r\n            if (opt.sliderLayout!==\"fullscreen\" || opt.fullScreenAutoWidth!=\"on\") {\r\n                var cp = container.parent(),\r\n                    mb = cp.css('marginBottom'),\r\n                    mt = cp.css('marginTop'),\r\n                    cid = container.attr('id')+\"_forcefullwidth\";\r\n                mb = mb===undefined ? 0 : mb;\r\n                mt = mt===undefined ? 0 : mt;\r\n\r\n                cp.wrap('<div class=\"forcefullwidth_wrapper_tp_banner\" id=\"'+cid+'\" style=\"position:relative;width:100%;height:auto;margin-top:'+mt+';margin-bottom:'+mb+'\"></div>');\r\n                container.closest('.forcefullwidth_wrapper_tp_banner').append('<div class=\"tp-fullwidth-forcer\" style=\"width:100%;height:'+container.height()+'px\"></div>');\r\n                container.parent().css({marginTop:\"0px\",marginBottom:\"0px\"});\r\n                //container.css({'backgroundColor':container.parent().css('backgroundColor'),'backgroundImage':container.parent().css('backgroundImage')});\r\n                container.parent().css({position:'absolute'});\r\n            }\r\n        }\r\n\r\n\r\n\r\n        // SHADOW ADD ONS\r\n        if (opt.shadow!==undefined && opt.shadow>0) {\r\n            container.parent().addClass('tp-shadow'+opt.shadow);\r\n            container.parent().append('<div class=\"tp-shadowcover\"></div>');\r\n            container.parent().find('.tp-shadowcover').css({'backgroundColor':container.parent().css('backgroundColor'),'backgroundImage':container.parent().css('backgroundImage')});\r\n        }\r\n\r\n        // ESTIMATE THE CURRENT WINDOWS RANGE INDEX\r\n        setCurWinRange(opt);\r\n        setCurWinRange(opt,true);\r\n\r\n        // IF THE CONTAINER IS NOT YET INITIALISED, LETS GO FOR IT\r\n        if (!container.hasClass(\"revslider-initialised\")) {\r\n            // MARK THAT THE CONTAINER IS INITIALISED WITH SLIDER REVOLUTION ALREADY\r\n            container.addClass(\"revslider-initialised\");\r\n\r\n            // FOR BETTER SELECTION, ADD SOME BASIC CLASS\r\n            container.addClass(\"tp-simpleresponsive\");\r\n            // WE DONT HAVE ANY ID YET ? WE NEED ONE ! LETS GIVE ONE RANDOMLY FOR RUNTIME\r\n            if (container.attr('id')==undefined) {\r\n                container.attr('id',\"revslider-\"+Math.round(Math.random()*1000+5));\r\n            }\r\n            checkIDS(opt,container);\r\n\r\n            // CHECK IF FIREFOX 13 IS ON WAY.. IT HAS A STRANGE BUG, CSS ANIMATE SHOULD NOT BE USED\r\n            opt.firefox13 = false;\r\n            opt.ie = !jQuery.support.opacity;\r\n            opt.ie9 = (document.documentMode == 9);\r\n\r\n            opt.origcd=opt.delay;\r\n\r\n\r\n\r\n            // CHECK THE jQUERY VERSION\r\n            var version = jQuery.fn.jquery.split('.'),\r\n                versionTop = parseFloat(version[0]),\r\n                versionMinor = parseFloat(version[1]),\r\n                versionIncrement = parseFloat(version[2] || '0');\r\n            if (versionTop==1 && versionMinor < 7)\r\n                container.html('<div style=\"text-align:center; padding:40px 0px; font-size:20px; color:#992222;\"> The Current Version of jQuery:'+version+' <br>Please update your jQuery Version to min. 1.7 in Case you wish to use the Revolution Slider Plugin</div>');\r\n            if (versionTop>1) opt.ie=false;\r\n\r\n\r\n\r\n            // PREPARE VIDEO PLAYERS\r\n            var addedApis = new Object();\r\n            addedApis.addedyt=0;\r\n            addedApis.addedvim=0;\r\n            addedApis.addedvid=0;\r\n\r\n            //PREPARING FADE IN/OUT PARALLAX\r\n            if (opt.scrolleffect.on)\r\n                opt.scrolleffect.layers = new Array();\r\n\r\n            container.find('.tp-caption, .rs-background-video-layer').each(function(i) {\r\n                var _nc = jQuery(this),\r\n                    _ = _nc.data(),\r\n                    an = _.autoplayonlyfirsttime,\r\n                    ap = _.autoplay,\r\n                    htmlvideo = _.videomp4!==undefined || _.videowebm!==undefined || _.videoogv!==undefined,\r\n                    al = _nc.hasClass(\"tp-audiolayer\"),\r\n                    loop = _.videoloop,\r\n                    addtofadeout = true,\r\n                    addToStaticFadeout = false;\r\n\r\n\r\n                _.startclasses = _nc.attr('class');\r\n\r\n\r\n                _.isparallaxlayer = _.startclasses.indexOf(\"rs-parallax\")>=0;\r\n\r\n\r\n\r\n                if (_nc.hasClass(\"tp-static-layer\") && _R.handleStaticLayers) {\r\n                    _R.handleStaticLayers(_nc,opt);\r\n                    if (opt.scrolleffect.on)\r\n                        if ((opt.scrolleffect.on_parallax_static_layers===\"on\" && _.isparallaxlayer) || (opt.scrolleffect.on_static_layers===\"on\" && !_.isparallaxlayer)) addToStaticFadeout = true;\r\n                    addtofadeout=false;\r\n                }\r\n\r\n                var pom = _nc.data('noposteronmobile') || _nc.data('noPosterOnMobile') ||  _nc.data('posteronmobile') || _nc.data('posterOnMobile') || _nc.data('posterOnMObile');\r\n                _nc.data('noposteronmobile',pom);\r\n\r\n                // FIX VISIBLE IFRAME BUG IN SAFARI\r\n                var iff = 0;\r\n                _nc.find('iframe').each(function() {\r\n                    punchgs.TweenLite.set(jQuery(this),{autoAlpha:0});\r\n                    iff++;\r\n                })\r\n                if (iff>0)\r\n                    _nc.data('iframes',true)\r\n\r\n                if (_nc.hasClass(\"tp-caption\")) {\r\n                    // PREPARE LAYERS AND WRAP THEM WITH PARALLAX, LOOP, MASK HELP CONTAINERS\r\n                    var ec = _nc.hasClass(\"slidelink\") ? \"width:100% !important;height:100% !important;\" : \"\",\r\n                        _ndata = _nc.data(),\r\n                        specec = \"\",\r\n                        nctype = _ndata.type,\r\n                        _pos = nctype===\"row\" || nctype===\"column\" ? \"relative\" : \"absolute\",\r\n                        preclas = \"\";\r\n\r\n                    if (nctype===\"row\") {\r\n                        _nc.addClass(\"rev_row\").removeClass(\"tp-resizeme\");\r\n                        preclas=\"rev_row_wrap\";\r\n                    } else\r\n                    if (nctype===\"column\") {\r\n                        specec = _ndata.verticalalign === undefined ?  \" vertical-align:bottom;\"  : \" vertical-align:\"+_ndata.verticalalign+\";\";\r\n                        preclas = \"rev_column\";\r\n                        _nc.addClass(\"rev_column_inner\").removeClass(\"tp-resizeme\");;\r\n                        _nc.data('width','auto');\r\n                        punchgs.TweenLite.set(_nc,{width:'auto'});\r\n                    } else\r\n                    if (nctype===\"group\") {\r\n                        _nc.removeClass(\"tp-resizeme\")\r\n                    }\r\n                    var dmode = \"\",\r\n                        preid = \"\";\r\n\r\n\r\n                    if (nctype!==\"row\" && nctype!==\"group\" && nctype!==\"column\"){\r\n                        dmode = \"display:\"+_nc.css('display')+\";\";\r\n                        if (_nc.closest('.rev_column').length>0) {\r\n                            _nc.addClass(\"rev_layer_in_column\");\r\n                            addtofadeout=false;\r\n                        } else\r\n                        if (_nc.closest('.rev_group').length>0) {\r\n                            _nc.addClass(\"rev_layer_in_group\");\r\n                            addtofadeout=false;\r\n                        }\r\n\r\n\r\n                    } else\r\n                    if (nctype===\"column\") addtofadeout = false;\r\n\r\n\r\n                    if (_ndata.wrapper_class!==undefined) preclas = preclas+\" \"+_ndata.wrapper_class;\r\n                    if (_ndata.wrapper_id!==undefined) preid ='id=\"'+_ndata.wrapper_id+'\"';\r\n\r\n\t\t\t\t// POINTER EVENTS ADDITION\r\n\t\t\t\tvar pevents = '';\r\n\t\t\t\tif(_nc.hasClass('tp-no-events')) pevents = ';pointer-events:none';\r\n\t\t\t\t_nc.wrap('<div '+preid+' class=\"tp-parallax-wrap '+preclas+'\" style=\"'+specec+' '+ec+'position:'+_pos+';'+dmode+';visibility:hidden'+pevents+'\"><div class=\"tp-loop-wrap\" style=\"'+ec+'position:'+_pos+';'+dmode+';\"><div class=\"tp-mask-wrap\" style=\"'+ec+'position:'+_pos+';'+dmode+';\" ></div></div></div>');\r\n\r\n                    // ONLY ADD LAYERS TO FADEOUT DYNAMIC LIST WHC\r\n                    if (addtofadeout && opt.scrolleffect.on)\r\n                        if ((opt.scrolleffect.on_parallax_layers===\"on\" && _.isparallaxlayer) || (opt.scrolleffect.on_layers===\"on\" && !_.isparallaxlayer))\r\n                            opt.scrolleffect.layers.push(_nc.parent());\r\n                    if (addToStaticFadeout) opt.scrolleffect.layers.push(_nc.parent());\r\n\r\n\r\n                    // Add BG for Columns\r\n                    if (nctype===\"column\") {\r\n                        _nc.append('<div class=\"rev_column_bg rev_column_bg_man_sized\" style=\"visibility:hidden\"></div>');\r\n                        _nc.closest('.tp-parallax-wrap').append('<div class=\"rev_column_bg rev_column_bg_auto_sized\"></div>');\r\n                    }\r\n\r\n                    var lar = ['pendulum', 'rotate','slideloop','pulse','wave'],\r\n                        _lc = _nc.closest('.tp-loop-wrap');\r\n\r\n                    jQuery.each(lar,function(i,k) {\r\n                        var lw = _nc.find('.rs-'+k),\r\n                            f = lw.data() || \"\";\r\n                        if (f!=\"\") {\r\n                            _lc.data(f);\r\n                            _lc.addClass(\"rs-\"+k);\r\n                            lw.children(0).unwrap();\r\n                            _nc.data('loopanimation',\"on\");\r\n                        }\r\n                    });\r\n                    if (_nc.attr('id')===undefined)\r\n                        _nc.attr('id','layer-'+Math.round(Math.random()*999999999));\r\n                    checkIDS(opt,_nc);\r\n                    punchgs.TweenLite.set(_nc,{visibility:\"hidden\"});\r\n                }\r\n\r\n                var as = _nc.data('actions');\r\n                if (as!==undefined) _R.checkActions(_nc,opt,as);\r\n\r\n                checkHoverDependencies(_nc,opt);\r\n\r\n                if (_R.checkVideoApis)\r\n                    addedApis = _R.checkVideoApis(_nc,opt,addedApis);\r\n\r\n                // PREPARE TIMER BEHAVIOUR BASED ON AUTO PLAYED VIDEOS IN SLIDES\r\n                if (!al && (an == true || an==\"true\" || ap == \"1sttime\") && loop !=\"loopandnoslidestop\")\r\n                    _nc.closest('li.tp-revslider-slidesli').addClass(\"rs-pause-timer-once\");\r\n\r\n\r\n                if (!al && (ap==true || ap==\"true\" || ap == \"on\" || ap == \"no1sttime\") && loop !=\"loopandnoslidestop\")\r\n                    _nc.closest('li.tp-revslider-slidesli').addClass(\"rs-pause-timer-always\");\r\n\r\n\r\n            });\r\n\r\n            container[0].addEventListener('mouseenter',function() {\r\n                container.trigger('tp-mouseenter');\r\n                opt.overcontainer=true;\r\n            },{passive:true});\r\n\r\n            container[0].addEventListener('mouseover',function() {\r\n                container.trigger('tp-mouseover');\r\n                opt.overcontainer=true;\r\n            },{passive:true});\r\n\r\n            container[0].addEventListener('mouseleave',function() {\r\n                container.trigger('tp-mouseleft');\r\n                opt.overcontainer=false;\r\n            },{passive:true});\r\n\r\n            // REMOVE ANY VIDEO JS SETTINGS OF THE VIDEO  IF NEEDED  (OLD FALL BACK, AND HELP FOR 3THD PARTY PLUGIN CONFLICTS)\r\n            container.find('.tp-caption video').each(function(i) {\r\n                var v = jQuery(this);\r\n                v.removeClass(\"video-js vjs-default-skin\");\r\n                v.attr(\"preload\",\"\");\r\n                v.css({display:\"none\"});\r\n            });\r\n\r\n            //PREPARE LOADINGS ALL IN SEQUENCE\r\n            if (opt.sliderType!==\"standard\") opt.lazyType = \"all\";\r\n\r\n\r\n            // PRELOAD STATIC LAYERS\r\n            loadImages(container.find('.tp-static-layers'),opt,0,true);\r\n\r\n            waitForCurrentImages(container.find('.tp-static-layers'),opt,function() {\r\n                container.find('.tp-static-layers img').each(function() {\r\n                    var e = jQuery(this),\r\n                        src = e.data('lazyload') != undefined ? e.data('lazyload') : e.attr('src'),\r\n                        loadobj = getLoadObj(opt,src);\r\n                    e.attr('src',loadobj.src)\r\n                })\r\n            });\r\n\r\n            opt.rowzones = [];\r\n\r\n            // SET ALL LI AN INDEX AND INIT LAZY LOADING\r\n            opt.allli.each(function(i) {\r\n                var li = jQuery(this);\r\n                opt.rowzones[i] = [];\r\n                li.find('.rev_row_zone').each(function() {\r\n                    opt.rowzones[i].push(jQuery(this));\r\n                })\r\n\r\n                if (opt.lazyType==\"all\" || (opt.lazyType==\"smart\" && (i==0 || i == 1 || i == opt.slideamount || i == opt.slideamount-1))) {\r\n                    loadImages(li,opt,i);\r\n                    waitForCurrentImages(li,opt,function() {\r\n                        //if (opt.sliderType==\"carousel\")\r\n                        //punchgs.TweenLite.to(li,1,{autoAlpha:1,ease:punchgs.Power3.easeInOut});\r\n                    });\r\n                }\r\n\r\n            });\r\n\r\n\r\n\r\n            // IF DEEPLINK HAS BEEN SET\r\n            var deeplink = getUrlVars(\"#\")[0];\r\n            if (deeplink.length<9) {\r\n                if (deeplink.split('slide').length>1) {\r\n                    var dslide=parseInt(deeplink.split('slide')[1],0);\r\n                    if (dslide<1) dslide=1;\r\n                    if (dslide>opt.slideamount) dslide=opt.slideamount;\r\n                    opt.startWithSlide=dslide-1;\r\n                }\r\n            }\r\n\r\n            // PREPARE THE SPINNER\r\n            container.append(\t'<div class=\"tp-loader '+opt.spinner+'\">'+\r\n                '<div class=\"dot1\"></div>'+\r\n                '<div class=\"dot2\"></div>'+\r\n                '<div class=\"bounce1\"></div>'+\r\n                '<div class=\"bounce2\"></div>'+\r\n                '<div class=\"bounce3\"></div>'+\r\n                '</div>');\r\n            opt.loader = container.find('.tp-loader');\r\n\r\n            // RESET THE TIMER\r\n            if (container.find('.tp-bannertimer').length===0) container.append('<div class=\"tp-bannertimer\" style=\"visibility:hidden\"></div>');\r\n            container.find('.tp-bannertimer').css({'width':'0%'});\r\n\r\n\r\n\r\n            // PREPARE THE SLIDES\r\n            opt.ul.css({'display':'block'});\r\n            prepareSlides(container,opt);\r\n            if ((opt.parallax.type!==\"off\" || opt.scrolleffect.on) && _R.checkForParallax) _R.checkForParallax(container,opt);\r\n\r\n\r\n            // PREPARE SLIDER SIZE\r\n            _R.setSize(opt);\r\n\r\n\r\n            // Call the Navigation Builder\r\n            if (opt.sliderType!==\"hero\" && _R.createNavigation) _R.createNavigation(container,opt);\r\n            if (_R.resizeThumbsTabs && _R.resizeThumbsTabs) _R.resizeThumbsTabs(opt);\r\n            contWidthManager(opt);\r\n            var _v = opt.viewPort;\r\n            opt.inviewport = false;\r\n\r\n            if (_v !=undefined && _v.enable) {\r\n                if (!jQuery.isNumeric(_v.visible_area))\r\n                    if (_v.visible_area.indexOf('%')!==-1)\r\n                        _v.visible_area = parseInt(_v.visible_area)/100;\r\n\r\n                if (_R.scrollTicker) _R.scrollTicker(opt,container);\r\n            }\r\n            // MAKE SURE CAROUSEL IS NOT YET VISIBE BEFORE IT COMES INTO GAME\r\n            if (opt.sliderType===\"carousel\" && _R.prepareCarousel) {\r\n                punchgs.TweenLite.set(opt.ul,{opacity:0});\r\n                _R.prepareCarousel(opt,new punchgs.TimelineLite,undefined,0);\r\n                opt.onlyPreparedSlide = true;\r\n            }\r\n\r\n\r\n\r\n            // START THE SLIDER\r\n            setTimeout(function() {\r\n\r\n                if (!_v.enable || (_v.enable && opt.inviewport) || (_v.enable &&  !opt.inviewport && !_v.outof==\"wait\"))\r\n                    swapSlide(container);\r\n                else {\r\n                    opt.c.addClass(\"tp-waitforfirststart\");\r\n                    opt.waitForFirstSlide = true;\r\n                    if (_v.presize) {\r\n                        var nextli = jQuery(opt.li[0]);\r\n                        // PRELOAD STATIC LAYERS\r\n                        loadImages(nextli,opt,0,true);\r\n                        waitForCurrentImages(nextli.find('.tp-layers'),opt,function() {\r\n                            _R.animateTheCaptions({slide:nextli,opt:opt, preset:true});\r\n                        })\r\n                    }\r\n\r\n\r\n                }\r\n\r\n                if (_R.manageNavigation) _R.manageNavigation(opt);\r\n\r\n\r\n                // START COUNTDOWN\r\n                if (opt.slideamount>1) {\r\n                    if (!_v.enable || (_v.enable && opt.inviewport))\r\n                        countDown(container,opt);\r\n                    else\r\n                        opt.waitForCountDown = true;\r\n                }\r\n                setTimeout(function() {\r\n                    container.trigger('revolution.slide.onloaded');\r\n                },100);\r\n            },opt.startDelay);\r\n            opt.startDelay=0;\r\n\r\n\r\n\r\n            /******************************\r\n             -\tFULLSCREEN CHANGE\t-\r\n             ********************************/\r\n            // FULLSCREEN MODE TESTING\r\n            jQuery(\"body\").data('rs-fullScreenMode',false);\r\n\r\n\r\n            window.addEventListener('fullscreenchange',onFullScreenChange,{passive:true});\r\n            window.addEventListener('mozfullscreenchange',onFullScreenChange,{passive:true});\r\n            window.addEventListener('webkitfullscreenchange',onFullScreenChange,{passive:true});\r\n\r\n\r\n\r\n            var resizid = \"resize.revslider-\"+container.attr('id');\r\n\r\n            // IF RESIZED, NEED TO STOP ACTUAL TRANSITION AND RESIZE ACTUAL IMAGES\r\n            jQuery(window).on(resizid,function() {\r\n\r\n                if (container==undefined) return false;\r\n\r\n                if (jQuery('body').find(container)!=0)\r\n                    contWidthManager(opt);\r\n\r\n                var hchange = false;\r\n\r\n                if (opt.sliderLayout==\"fullscreen\") {\r\n                    var jwh = jQuery(window).height();\r\n                    if ((opt.fallbacks.ignoreHeightChanges==\"mobile\" && _ISM) || opt.fallbacks.ignoreHeightChanges==\"always\") {\r\n                        opt.fallbacks.ignoreHeightChangesSize = opt.fallbacks.ignoreHeightChangesSize == undefined ? 0 : opt.fallbacks.ignoreHeightChangesSize;\r\n                        hchange = (jwh!=opt.lastwindowheight) && (Math.abs(jwh-opt.lastwindowheight) > opt.fallbacks.ignoreHeightChangesSize)\r\n                    } else {\r\n                        hchange = (jwh!=opt.lastwindowheight)\r\n                    }\r\n                }\r\n\r\n\r\n                if (container.outerWidth(true)!=opt.width || container.is(\":hidden\") || (hchange)) {\r\n                    opt.lastwindowheight = jQuery(window).height();\r\n                    containerResized(container,opt);\r\n                }\r\n\r\n\r\n            });\r\n\r\n            hideSliderUnder(container,opt);\r\n            contWidthManager(opt);\r\n            if (!opt.fallbacks.disableFocusListener && opt.fallbacks.disableFocusListener != \"true\" && opt.fallbacks.disableFocusListener !== true) {\r\n                container.addClass(\"rev_redraw_on_blurfocus\");\r\n                tabBlurringCheck();\r\n            }\r\n        }\r\n    }\r\n\r\n    /*************************************\r\n     -\t CREATE SIMPLE ARRAYS\t-\r\n     **************************************/\r\n    var cArray = function(b,l) {\r\n        if (!jQuery.isArray(b)) {\r\n            var t = b;\r\n            b = new Array();\r\n            b.push(t);\r\n        }\r\n        if (b.length<l) {\r\n            var t = b[b.length-1];\r\n            for (var i=0;i<(l-b.length)+2;i++)\r\n                b.push(t)\r\n        }\r\n        return b;\r\n    }\r\n\r\n\r\n\r\n    var checkHoverDependencies = function(_nc,opt) {\r\n        var _ = _nc.data(),\r\n            senter = _.start===\"sliderenter\" || (_.frames!==undefined && _.frames[0]!=undefined && _.frames[0].delay===\"sliderenter\") ? true : false;\r\n\r\n        if (senter) {\r\n            if (opt.layersonhover===undefined) {\r\n                opt.c.on('tp-mouseenter',function() {\r\n                    if (opt.layersonhover)\r\n                        jQuery.each(opt.layersonhover,function(i,tnc) {\r\n\r\n                            var cli = tnc.data('closestli') || tnc.closest('.tp-revslider-slidesli'),\r\n                                stl = tnc.data('staticli') || tnc.closest('.tp-static-layers');\r\n\r\n                            if (tnc.data('closestli')===undefined) {\r\n                                tnc.data('closestli',cli);\r\n                                tnc.data('staticli',stl);\r\n                            }\r\n\r\n                            if ((cli.length>0 && (cli.hasClass(\"active-revslide\")) || cli.hasClass(\"processing-revslide\")) || (stl.length>0)) {\r\n                                tnc.data('animdirection',\"in\");\r\n\r\n                                if (_R.playAnimationFrame)\r\n                                    _R.playAnimationFrame({caption:tnc,opt:opt,frame:\"frame_0\", triggerdirection:\"in\", triggerframein:\"frame_0\", triggerframeout:\"frame_999\"});\r\n                                tnc.data('triggerstate',\"on\");\r\n                            }\r\n                        });\r\n                });\r\n                opt.c.on('tp-mouseleft',function() {\r\n                    if (opt.layersonhover)\r\n                        jQuery.each(opt.layersonhover,function(i,tnc) {\r\n                            tnc.data('animdirection',\"out\");\r\n                            tnc.data('triggered',true);\r\n                            tnc.data('triggerstate',\"off\");\r\n                            if (_R.stopVideo) _R.stopVideo(tnc,opt);\r\n                            if (_R.playAnimationFrame) _R.playAnimationFrame({caption:tnc,opt:opt,frame:\"frame_999\", triggerdirection:\"out\", triggerframein:\"frame_0\", triggerframeout:\"frame_999\"});\r\n                        });\r\n                });\r\n                opt.layersonhover = new Array;\r\n            }\r\n            opt.layersonhover.push(_nc);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    var contWidthManager = function(opt) {\r\n        var rl = _R.getHorizontalOffset(opt.c,\"left\");\r\n\r\n        if (opt.sliderLayout!=\"auto\" && (opt.sliderLayout!==\"fullscreen\" || opt.fullScreenAutoWidth!=\"on\")) {\r\n            var loff = Math.ceil(opt.c.closest('.forcefullwidth_wrapper_tp_banner').offset().left - rl);\r\n            punchgs.TweenLite.set(opt.c.parent(),{'left':(0-loff)+\"px\",'width':jQuery(window).width()-_R.getHorizontalOffset(opt.c,\"both\")});\r\n        } else {\r\n            if (opt.sliderLayout==\"fullscreen\" && opt.fullScreenAutoWidth==\"on\")\r\n                punchgs.TweenLite.set(opt.ul,{left:0,width:opt.c.width()});\r\n            else\r\n                punchgs.TweenLite.set(opt.ul,{left:rl,width:opt.c.width()-_R.getHorizontalOffset(opt.c,\"both\")});\r\n        }\r\n\r\n\r\n        // put Static Layer Wrapper in Position\r\n        if (opt.slayers && (opt.sliderLayout!=\"fullwidth\" && opt.sliderLayout!=\"fullscreen\"))\r\n            punchgs.TweenLite.set(opt.slayers,{left:rl});\r\n    }\r\n\r\n\r\n    var cv = function(a,d) {\r\n        return a===undefined ? d : a;\r\n    }\r\n\r\n\r\n    var hideSliderUnder = function(container,opt,resized) {\r\n        // FIRST TIME STOP/START HIDE / SHOW SLIDER\r\n        //REMOVE AND SHOW SLIDER ON DEMAND\r\n        var contpar= container.parent();\r\n        if (jQuery(window).width()<opt.hideSliderAtLimit) {\r\n            container.trigger('stoptimer');\r\n            if (contpar.css('display')!=\"none\")\r\n                contpar.data('olddisplay',contpar.css('display'));\r\n            contpar.css({display:\"none\"});\r\n        } else {\r\n            if (container.is(\":hidden\") && resized) {\r\n                if (contpar.data('olddisplay')!=undefined && contpar.data('olddisplay')!=\"undefined\" && contpar.data('olddisplay') != \"none\")\r\n                    contpar.css({display:contpar.data('olddisplay')});\r\n                else\r\n                    contpar.css({display:\"block\"});\r\n                container.trigger('restarttimer');\r\n                setTimeout(function() {\r\n                    containerResized(container,opt);\r\n                },150)\r\n            }\r\n        }\r\n        if (_R.hideUnHideNav) _R.hideUnHideNav(opt);\r\n    }\r\n\r\n\r\n//////////////////////////\r\n//\tCONTAINER RESIZED\t//\r\n/////////////////////////\r\n    var containerResized = function (c,opt) {\r\n\r\n        c.trigger('revolution.slide.beforeredraw');\r\n        if (opt.infullscreenmode == true)\r\n            opt.minHeight = jQuery(window).height();\r\n\r\n        setCurWinRange(opt);\r\n        setCurWinRange(opt,true);\r\n        if (!_R.resizeThumbsTabs || _R.resizeThumbsTabs(opt)===true) {\r\n\r\n            hideSliderUnder(c,opt,true);\r\n            contWidthManager(opt);\r\n\r\n            if ( opt.sliderType ==\"carousel\") _R.prepareCarousel(opt,true);\r\n\r\n            if (c===undefined) return false;\r\n\r\n            _R.setSize(opt);\r\n\r\n            opt.conw = opt.c.width();\r\n            opt.conh = opt.infullscreenmode ? opt.minHeight : opt.c.height();\r\n\r\n            var actsh = c.find('.active-revslide .slotholder'),\r\n                nextsh = c.find('.processing-revslide .slotholder');\r\n\r\n            removeSlots(c,opt,c,2);\r\n\r\n            if (opt.sliderType===\"standard\") {\r\n                punchgs.TweenLite.set(nextsh.find('.defaultimg'),{opacity:0});\r\n                actsh.find('.defaultimg').css({'opacity':1});\r\n            }\r\n\r\n\r\n            if ( opt.sliderType===\"carousel\" && opt.lastconw != opt.conw)  {\r\n                clearTimeout(opt.pcartimer);\r\n                opt.pcartimer = setTimeout(function() {\r\n                    _R.prepareCarousel(opt,true);\r\n                    // SHOW ALL LAYERS IN ALL SLIDES FOR CAROUSEL\r\n                    if (opt.sliderType==\"carousel\" && opt.carousel.showLayersAllTime===\"on\")\r\n                        jQuery.each(opt.li,function(i) {\r\n                            _R.animateTheCaptions({slide:jQuery(opt.li[i]), opt:opt,recall:true});\r\n                        })\r\n\r\n                },100);\r\n                opt.lastconw = opt.conw;\r\n            }\r\n\r\n\r\n            if (_R.manageNavigation) _R.manageNavigation(opt);\r\n\r\n\r\n            if (_R.animateTheCaptions && c.find('.active-revslide').length>0)\r\n                _R.animateTheCaptions({slide:c.find('.active-revslide'), opt:opt,recall:true});\r\n\r\n            if (nextsh.data('kenburns')==\"on\")\r\n                _R.startKenBurn(nextsh,opt,(nextsh.data('kbtl')!==undefined ? nextsh.data('kbtl').progress() : 0));\r\n\r\n            if (actsh.data('kenburns')==\"on\")\r\n                _R.startKenBurn(actsh,opt,(actsh.data('kbtl')!==undefined ? actsh.data('kbtl').progress() : 0));\r\n\r\n            // DOUBLE CALL FOR SOME FUNCTION TO AVOID PORTRAIT/LANDSCAPE ISSUES, AND TO AVOID FULLSCREEN/NORMAL SWAP ISSUES\r\n            if (_R.animateTheCaptions && c.find('.processing-revslide').length>0)  _R.animateTheCaptions({slide:c.find('.processing-revslide'), opt:opt,recall:true});\r\n            if (_R.manageNavigation) _R.manageNavigation(opt);\r\n\r\n        }\r\n\r\n        c.trigger('revolution.slide.afterdraw');\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////////////////       PREPARING / REMOVING\t\t////////////////////////////////////////////////////////\r\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n    var setScale = function(opt) {\r\n        opt.bw = (opt.width / opt.gridwidth[opt.curWinRange]);\r\n        opt.bh = (opt.height / opt.gridheight[opt.curWinRange]);\r\n\r\n        if (opt.bh>opt.bw)\r\n            opt.bh=opt.bw\r\n        else\r\n            opt.bw = opt.bh;\r\n\r\n        if (opt.bh>1 || opt.bw>1) { opt.bw=1; opt.bh=1; }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n/////////////////////////////////////////\r\n//\t-\tPREPARE THE SLIDES / SLOTS -  //\r\n///////////////////////////////////////\r\n    var prepareSlides = function(container,opt) {\r\n\r\n        container.find('.tp-caption').each(function() {\r\n            var c = jQuery(this);\r\n            if (c.data('transition')!==undefined) c.addClass(c.data('transition'));\r\n        });\r\n\r\n        // PREPARE THE UL CONTAINER TO HAVEING MAX HEIGHT AND HEIGHT FOR ANY SITUATION\r\n        opt.ul.css({overflow:'hidden',width:'100%',height:'100%',maxHeight:container.parent().css('maxHeight')})\r\n        if (opt.autoHeight==\"on\") {\r\n            opt.ul.css({overflow:'hidden',width:'100%',height:'100%',maxHeight:\"none\"});\r\n            container.css({'maxHeight':'none'});\r\n            container.parent().css({'maxHeight':'none'});\r\n        }\r\n        //_R.setSize(\"\",opt);\r\n        opt.allli.each(function(j) {\r\n            var li=jQuery(this),\r\n                originalIndex = li.data('originalindex');\r\n\r\n            //START WITH CORRECT SLIDE\r\n            if ((opt.startWithSlide !=undefined && originalIndex==opt.startWithSlide) || opt.startWithSlide ===undefined && j==0)\r\n                li.addClass(\"next-revslide\");\r\n\r\n\r\n            // MAKE LI OVERFLOW HIDDEN FOR FURTHER ISSUES\r\n            li.css({'width':'100%','height':'100%','overflow':'hidden'});\r\n\r\n        });\r\n\r\n        if (opt.sliderType === \"carousel\") {\r\n            //SET CAROUSEL\r\n            opt.ul.css({overflow:\"visible\"}).wrap('<div class=\"tp-carousel-wrapper\" style=\"width:100%;height:100%;position:absolute;top:0px;left:0px;overflow:hidden;\"></div>');\r\n            var apt = '<div style=\"clear:both;display:block;width:100%;height:1px;position:relative;margin-bottom:-1px\"></div>';\r\n            opt.c.parent().prepend(apt);\r\n            opt.c.parent().append(apt);\r\n            _R.prepareCarousel(opt);\r\n        }\r\n\r\n        // RESOLVE OVERFLOW HIDDEN OF MAIN CONTAINER\r\n        container.parent().css({'overflow':'visible'});\r\n\r\n        opt.allli.find('>img').each(function(j) {\r\n\r\n            var img=jQuery(this),\r\n                cli = img.closest('li'),\r\n                bgvid = cli.find('.rs-background-video-layer');\r\n\r\n            bgvid.addClass(\"defaultvid\").css({zIndex:30});\r\n\r\n\r\n\r\n            img.addClass('defaultimg');\r\n\r\n            // TURN OF KEN BURNS IF WE ARE ON MOBILE AND IT IS WISHED SO\r\n            if (opt.fallbacks.panZoomDisableOnMobile == \"on\"  && _ISM) {\r\n                img.data('kenburns',\"off\");\r\n                img.data('bgfit',\"cover\");\r\n            }\r\n\r\n            var mediafilter = cli.data('mediafilter');\r\n            mediafilter = mediafilter===\"none\" || mediafilter===undefined ? \"\" : mediafilter;\r\n            img.wrap('<div class=\"slotholder\" style=\"position:absolute; top:0px; left:0px; z-index:0;width:100%;height:100%;\"></div>');\r\n            bgvid.appendTo(cli.find('.slotholder'));\r\n            var dts = img.data();\r\n            img.closest('.slotholder').data(dts);\r\n\r\n            if (bgvid.length>0 && dts.bgparallax!=undefined) {\r\n                bgvid.data('bgparallax',dts.bgparallax);\r\n                bgvid.data('showcoveronpause',\"on\");\r\n            }\r\n\r\n            if (opt.dottedOverlay!=\"none\" && opt.dottedOverlay!=undefined)\r\n                img.closest('.slotholder').append('<div class=\"tp-dottedoverlay '+opt.dottedOverlay+'\"></div>');\r\n\r\n            var src=img.attr('src');\r\n            dts.src = src;\r\n            dts.bgfit = dts.bgfit || \"cover\";\r\n            dts.bgrepeat = dts.bgrepeat || \"no-repeat\",\r\n                dts.bgposition = dts.bgposition || \"center center\";\r\n\r\n            var pari = img.closest('.slotholder'),\r\n                bgcolor = img.data('bgcolor'),\r\n                bgstyle=\"\";\r\n\r\n            if (bgcolor!==undefined && bgcolor.indexOf('gradient')>=0)\r\n                bgstyle='\"background:'+bgcolor+';width:100%;height:100%;\"';\r\n            else\r\n                bgstyle='\"background-color:'+bgcolor+';background-repeat:'+dts.bgrepeat+';background-image:url('+src+');background-size:'+dts.bgfit+';background-position:'+dts.bgposition+';width:100%;height:100%;\"';\r\n            img.data('mediafilter',mediafilter)\r\n            mediafilter = img.data(\"kenburns\")===\"on\" ? \"\" : mediafilter;\r\n            var newimg = jQuery('<div class=\"tp-bgimg defaultimg '+mediafilter+'\" data-bgcolor=\"'+bgcolor+'\" style='+bgstyle+'></div>')\r\n            img.parent().append(newimg);\r\n\r\n            var comment = document.createComment(\"Runtime Modification - Img tag is Still Available for SEO Goals in Source - \" + img.get(0).outerHTML);\r\n            img.replaceWith(comment);\r\n\r\n\r\n            newimg.data(dts);\r\n            newimg.attr(\"src\",src);\r\n\r\n            if (opt.sliderType === \"standard\" || opt.sliderType===\"undefined\")\r\n                newimg.css({'opacity':0});\r\n\r\n        })\r\n\r\n        if (opt.scrolleffect.on &&  opt.scrolleffect.on_slidebg===\"on\") {\r\n            opt.allslotholder = new Array();\r\n            opt.allli.find('.slotholder').each(function() {\r\n                jQuery(this).wrap('<div style=\"display:block;position:absolute;top:0px;left:0px;width:100%;height:100%\" class=\"slotholder_fadeoutwrap\"></div>')\r\n            });\r\n            opt.allslotholder = opt.c.find('.slotholder_fadeoutwrap');\r\n        }\r\n    }\r\n\r\n\r\n//\tREMOVE SLOTS\t//\r\n    var removeSlots = function(container,opt,where,addon) {\r\n        opt.removePrepare = opt.removePrepare + addon;\r\n        where.find('.slot, .slot-circle-wrapper').each(function() {\r\n            jQuery(this).remove();\r\n        });\r\n        opt.transition = 0;\r\n        opt.removePrepare = 0;\r\n    }\r\n\r\n\r\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n///////////////////////////////////////////////////////////////////////////////       SLIDE SWAPS\t\t\t////////////////////////////////////////////////////////////\r\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n// THE IMAGE IS LOADED, WIDTH, HEIGHT CAN BE SAVED\r\n    var cutParams = function(a) {\r\n        var b = a;\r\n        if (a!=undefined && a.length>0)\r\n            b = a.split(\"?\")[0];\r\n        return b;\r\n    }\r\n\r\n    var relativeRedir = function(redir){\r\n        return location.pathname.replace(/(.*)\\/[^/]*/, \"$1/\"+redir);\r\n    }\r\n\r\n    var abstorel = function (base, relative) {\r\n        var stack = base.split(\"/\"),\r\n            parts = relative.split(\"/\");\r\n        stack.pop(); // remove current file name (or empty string)\r\n                     // (omit if \"base\" is the current folder without trailing slash)\r\n        for (var i=0; i<parts.length; i++) {\r\n            if (parts[i] == \".\")\r\n                continue;\r\n            if (parts[i] == \"..\")\r\n                stack.pop();\r\n            else\r\n                stack.push(parts[i]);\r\n        }\r\n        return stack.join(\"/\");\r\n    }\r\n\r\n    var imgLoaded = function(img,opt,progress) {\r\n        opt.syncload--;\r\n        if (opt.loadqueue)\r\n            jQuery.each(opt.loadqueue, function(index,queue) {\r\n\r\n                var mqsrc = queue.src.replace(/\\.\\.\\/\\.\\.\\//gi,\"\"),\r\n                    fullsrc = self.location.href,\r\n                    origin = document.location.origin,\r\n                    fullsrc_b = fullsrc.substring(0,fullsrc.length-1)+\"/\"+mqsrc,\r\n                    origin_b = origin+\"/\"+mqsrc,\r\n                    absolute = abstorel(self.location.href,queue.src);\r\n\r\n                fullsrc = fullsrc.substring(0,fullsrc.length-1)+mqsrc;\r\n                origin = origin+mqsrc;\r\n\r\n                if (cutParams(origin) === cutParams(decodeURIComponent(img.src)) ||\r\n                    cutParams(fullsrc)=== cutParams(decodeURIComponent(img.src)) ||\r\n                    cutParams(absolute)=== cutParams(decodeURIComponent(img.src)) ||\r\n                    cutParams(origin_b) === cutParams(decodeURIComponent(img.src)) ||\r\n                    cutParams(fullsrc_b)=== cutParams(decodeURIComponent(img.src)) ||\r\n                    cutParams(queue.src) === cutParams(decodeURIComponent(img.src)) ||\r\n                    cutParams(queue.src).replace(/^.*\\/\\/[^\\/]+/, '') === cutParams(decodeURIComponent(img.src)).replace(/^.*\\/\\/[^\\/]+/, '') ||\r\n                    (window.location.origin===\"file://\" && cutParams(img.src).match(new RegExp(mqsrc)))) {\r\n                    queue.progress = progress;\r\n                    queue.width = img.width;\r\n                    queue.height = img.height;\r\n                }\r\n            });\r\n        progressImageLoad(opt);\r\n    }\r\n\r\n// PRELOAD IMAGES 3 PIECES ON ONE GO, CHECK LOAD PRIORITY\r\n    var progressImageLoad = function(opt) {\r\n        if (opt.syncload == 3) return;\r\n        if (opt.loadqueue)\r\n            jQuery.each(opt.loadqueue, function(index,queue) {\r\n                if (queue.progress.match(/prepared/g)) {\r\n                    if (opt.syncload<=3) {\r\n                        opt.syncload++;\r\n                        if (queue.type==\"img\") {\r\n                            var img = new Image();\r\n\r\n                            img.onload = function() {\r\n                                imgLoaded(this,opt,\"loaded\");\r\n                                queue.error = false;\r\n                            };\r\n                            img.onerror = function() {\r\n                                imgLoaded(this,opt,\"failed\");\r\n                                queue.error = true;\r\n                            };\r\n\r\n                            img.src=queue.src;\r\n                        } else {\r\n                            jQuery.get(queue.src, function(data) {\r\n                                queue.innerHTML = new XMLSerializer().serializeToString(data.documentElement);\r\n                                queue.progress=\"loaded\";\r\n                                opt.syncload--;\r\n                                progressImageLoad(opt);\r\n                            }).fail(function() {\r\n                                queue.progress=\"failed\";\r\n                                opt.syncload--;\r\n                                progressImageLoad(opt);\r\n                            });\r\n                        }\r\n                        queue.progress=\"inload\";\r\n                    }\r\n                }\r\n            });\r\n    }\r\n\r\n\r\n\r\n// ADD TO QUEUE THE NOT LOADED IMAGES YES\r\n    var addToLoadQueue = function(src,opt,prio,type,staticlayer) {\r\n        var alreadyexist = false;\r\n        if (opt.loadqueue)\r\n            jQuery.each(opt.loadqueue, function(index,queue) {\r\n                if (queue.src === src) alreadyexist = true;\r\n            });\r\n\r\n        if (!alreadyexist) {\r\n            var loadobj = new Object();\r\n            loadobj.src = src;\r\n            loadobj.starttoload = jQuery.now();\r\n            loadobj.type = type || \"img\";\r\n            loadobj.prio = prio;\r\n            loadobj.progress = \"prepared\";\r\n            loadobj.static = staticlayer;\r\n            opt.loadqueue.push(loadobj);\r\n        }\r\n\r\n    }\r\n\r\n// LOAD THE IMAGES OF THE PREDEFINED CONTAINER\r\n    var loadImages = function(container,opt,prio,staticlayer) {\r\n\r\n        container.find('img,.defaultimg, .tp-svg-layer').each(function() {\r\n            var element = jQuery(this),\r\n                src = element.data('lazyload') !== undefined && element.data('lazyload')!==\"undefined\" ? element.data('lazyload') : element.data('svg_src') !=undefined ? element.data('svg_src')  : element.attr('src'),\r\n                type = element.data('svg_src') !=undefined ? \"svg\" : \"img\";\r\n\r\n            element.data('start-to-load',jQuery.now());\r\n            addToLoadQueue(src,opt,prio,type,staticlayer);\r\n        });\r\n        progressImageLoad(opt);\r\n    }\r\n\r\n\r\n// FIND SEARCHED IMAGE/SRC IN THE LOAD QUEUE\r\n    var getLoadObj = function(opt,src) {\r\n        var obj = new Object();\r\n        if (opt.loadqueue)\r\n            jQuery.each(opt.loadqueue, function(index,queue) {\r\n                if (queue.src == src) obj = queue;\r\n            });\r\n        return obj;\r\n    }\r\n\r\n// WAIT PROGRESS TILL THE PREDEFINED CONTAINER HAS ALL IMAGES LOADED INSIDE\r\n    var waitForCurrentImages = function(nextli,opt,callback) {\r\n\r\n        var waitforload = false;\r\n\r\n\r\n        // PRELOAD ALL IMAGES\r\n        nextli.find('img,.defaultimg, .tp-svg-layer').each(function() {\r\n            var element = jQuery(this),\r\n                src = element.data('lazyload') != undefined ? element.data('lazyload') : element.data('svg_src') !=undefined ? element.data('svg_src')  : element.attr('src'),\r\n                loadobj = getLoadObj(opt,src);\r\n\r\n\r\n\r\n            // IF ELEMENTS IS NOT LOADED YET, AND IT IS NOW LOADED\r\n            if (element.data('loaded')===undefined && loadobj !==undefined && loadobj.progress && loadobj.progress.match(/loaded/g)) {\r\n\r\n                element.attr('src',loadobj.src);\r\n\r\n\r\n                // IF IT IS A DEFAULT IMG, WE NEED TO ASSIGN SOME SPECIAL VALUES TO IT\r\n                if (loadobj.type==\"img\") {\r\n                    if (element.hasClass(\"defaultimg\")) {\r\n\r\n                        if (!_R.isIE(8)) {\r\n                            if ((loadobj.src.indexOf('images/transparent.png')==-1 && loadobj.src.indexOf('assets/transparent.png')==-1) || element.data('bgcolor')===undefined) {\r\n                                element.css({backgroundImage:'url(\"'+loadobj.src+'\")'});\r\n                            } else {\r\n\r\n                                if (element.data('bgcolor')!==undefined)\r\n                                    element.css({background:element.data('bgcolor')});\r\n                            }\r\n                        } else {\r\n                            defimg.attr('src',loadobj.src);\r\n                        }\r\n                        nextli.data('owidth',loadobj.width);\r\n                        nextli.data('oheight',loadobj.height);\r\n                        nextli.find('.slotholder').data('owidth',loadobj.width);\r\n                        nextli.find('.slotholder').data('oheight',loadobj.height);\r\n                    } else {\r\n                        var w = element.data('ww'),\r\n                            h = element.data('hh');\r\n\r\n                        element.data('owidth',loadobj.width);\r\n                        element.data('oheight',loadobj.height);\r\n\r\n                        w = w==undefined || w ==\"auto\" || w==\"\" ? loadobj.width : w;\r\n                        h = h==undefined || h ==\"auto\" || h==\"\" ? loadobj.height : h;\r\n\r\n                        if (!jQuery.isNumeric(w) && w.indexOf(\"%\")>0)\r\n                            h = w;\r\n\r\n                        element.data('ww',w);\r\n                        element.data('hh',h);\r\n\r\n                    }\r\n                } else\r\n\r\n                if (loadobj.type==\"svg\" && loadobj.progress==\"loaded\") {\r\n\r\n                    element.append('<div class=\"tp-svg-innercontainer\"></div>');\r\n                    element.find('.tp-svg-innercontainer').append(loadobj.innerHTML);\r\n                }\r\n                // ELEMENT IS NOW FULLY LOADED\r\n                element.data('loaded',true);\r\n            }\r\n\r\n\r\n            if (loadobj && loadobj.progress && loadobj.progress.match(/inprogress|inload|prepared/g))\r\n                if (!loadobj.error && jQuery.now()-element.data('start-to-load')<5000)\r\n                    waitforload = true;\r\n                else {\r\n                    loadobj.progress=\"failed\";\r\n                    if (!loadobj.reported_img) {\r\n                        loadobj.reported_img = true;\r\n                        console.warn(src+\"  Could not be loaded !\");\r\n                    }\r\n                }\r\n\r\n            // WAIT FOR VIDEO API'S\r\n            if (opt.youtubeapineeded == true && (!window['YT'] || YT.Player==undefined)) {\r\n                waitforload = true;\r\n                if (jQuery.now()-opt.youtubestarttime>5000 && opt.youtubewarning!=true) {\r\n                    opt.youtubewarning = true;\r\n                    var txt = \"YouTube Api Could not be loaded !\";\r\n                    if (location.protocol === 'https:') txt = txt + \" Please Check and Renew SSL Certificate !\";\r\n                    console.error(txt);\r\n                    opt.c.append('<div style=\"position:absolute;top:50%;width:100%;color:#e74c3c;  font-size:16px; text-align:center; padding:15px;background:#000; display:block;\"><strong>'+txt+'</strong></div>')\r\n                }\r\n            }\r\n\r\n            if (opt.vimeoapineeded == true && !window['Vimeo']) {\r\n                waitforload = true;\r\n                if (jQuery.now()-opt.vimeostarttime>5000 && opt.vimeowarning!=true) {\r\n                    opt.vimeowarning= true;\r\n                    var txt = \"Vimeo Api Could not be loaded !\";\r\n                    if (location.protocol === 'https:') txt = txt + \" Please Check and Renew SSL Certificate !\";\r\n                    console.error(txt);\r\n                    opt.c.append('<div style=\"position:absolute;top:50%;width:100%;color:#e74c3c;  font-size:16px; text-align:center; padding:15px;background:#000; display:block;\"><strong>'+txt+'</strong></div>')\r\n                }\r\n            }\r\n\r\n        });\r\n\r\n        if (!_ISM && opt.audioqueue && opt.audioqueue.length>0) {\r\n            jQuery.each(opt.audioqueue,function(i,obj) {\r\n                if (obj.status && obj.status===\"prepared\")\r\n                    if (jQuery.now() - obj.start<obj.waittime)\r\n                        waitforload = true;\r\n            });\r\n        }\r\n\r\n        jQuery.each(opt.loadqueue,function(i,o) {\r\n            if (o.static===true && (o.progress!=\"loaded\" || o.progress===\"failed\")) {\r\n                if (o.progress==\"failed\") {\r\n                    if (!o.reported) {\r\n                        o.reported = true;\r\n                        console.warn(\"Static Image \"+o.src+\"  Could not be loaded in time. Error Exists:\"+o.error);\r\n                    }\r\n                }\r\n                else\r\n                if (!o.error && jQuery.now()-o.starttoload<5000) {\r\n                    waitforload = true;\r\n                }\r\n                else {\r\n                    if (!o.reported) {\r\n                        o.reported = true;\r\n                        console.warn(\"Static Image \"+o.src+\"  Could not be loaded within 5s! Error Exists:\"+o.error);\r\n                    }\r\n                }\r\n\r\n            }\r\n        });\r\n\r\n\r\n        if (waitforload)\r\n            punchgs.TweenLite.delayedCall(0.18,waitForCurrentImages,[nextli,opt,callback]);\r\n        else\r\n            punchgs.TweenLite.delayedCall(0.18,callback);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n//////////////////////////////////////\r\n//\t-\tCALL TO SWAP THE SLIDES -  //\r\n/////////////////////////////////////\r\n    var swapSlide = function(container) {\r\n\r\n\r\n        var opt = container[0].opt;\r\n\r\n        clearTimeout(opt.waitWithSwapSlide);\r\n\r\n        if (container.find('.processing-revslide').length>0) {\r\n            opt.waitWithSwapSlide = setTimeout(function() {\r\n                swapSlide(container);\r\n\r\n            },150);\r\n            return false;\r\n        }\r\n\r\n\r\n        var actli = container.find('.active-revslide'),\r\n            nextli = container.find('.next-revslide'),\r\n            defimg= nextli.find('.defaultimg');\r\n\r\n\r\n        if (opt.sliderType===\"carousel\" && !opt.carousel.fadein) {\r\n            punchgs.TweenLite.to(opt.ul,1,{opacity:1});\r\n            opt.carousel.fadein=true;\r\n        }\r\n\r\n        if (nextli.index() === actli.index() && opt.onlyPreparedSlide!==true) {\r\n            nextli.removeClass(\"next-revslide\");\r\n            return false;\r\n        }\r\n\r\n        if (opt.onlyPreparedSlide===true) {\r\n            opt.onlyPreparedSlide=false;\r\n            jQuery(opt.li[0]).addClass(\"processing-revslide\");\r\n        }\r\n\r\n        nextli.removeClass(\"next-revslide\").addClass(\"processing-revslide\");\r\n\r\n        if (nextli.index()===-1 && opt.sliderType===\"carousel\") nextli = jQuery(opt.li[0]);\r\n        nextli.data('slide_on_focus_amount',(nextli.data('slide_on_focus_amount')+1) || 1);\r\n        // CHECK IF WE ARE ALREADY AT LAST ITEM TO PLAY IN REAL LOOP SESSION\r\n        if (opt.stopLoop==\"on\" && nextli.index()==opt.lastslidetoshow-1) {\r\n            container.find('.tp-bannertimer').css({'visibility':'hidden'});\r\n            container.trigger('revolution.slide.onstop');\r\n            opt.noloopanymore = 1;\r\n        }\r\n\r\n        // INCREASE LOOP AMOUNTS\r\n        if (nextli.index()===opt.slideamount-1) {\r\n            opt.looptogo=opt.looptogo-1;\r\n            if (opt.looptogo<=0)\r\n                opt.stopLoop=\"on\";\r\n        }\r\n\r\n        opt.tonpause = true;\r\n        container.trigger('stoptimer');\r\n        opt.cd=0;\r\n        if (opt.spinner===\"off\")\r\n            if (opt.loader!==undefined) opt.loader.css({display:\"none\"});\r\n            else\r\n                opt.loadertimer = setTimeout(function() {if (opt.loader!==undefined) opt.loader.css({display:\"block\"});},50);\r\n\r\n\r\n        loadImages(nextli,opt,1);\r\n        if (_R.preLoadAudio) _R.preLoadAudio(nextli,opt,1);\r\n\r\n\r\n        // WAIT FOR SWAP SLIDE PROGRESS\r\n\r\n\r\n        waitForCurrentImages(nextli,opt,function() {\r\n\r\n\r\n            // MANAGE BG VIDEOS\r\n            nextli.find('.rs-background-video-layer').each(function() {\r\n                var _nc = jQuery(this);\r\n                if (!_nc.hasClass(\"HasListener\")) {\r\n                    _nc.data('bgvideo',1);\r\n                    if (_R.manageVideoLayer) _R.manageVideoLayer(_nc,opt);\r\n                }\r\n                if (_nc.find('.rs-fullvideo-cover').length==0)\r\n                    _nc.append('<div class=\"rs-fullvideo-cover\"></div>')\r\n            });\r\n            swapSlideProgress(defimg,container)\r\n        });\r\n\r\n    }\r\n\r\n//////////////////////////////////////\r\n//\t-\tPROGRESS SWAP THE SLIDES -  //\r\n/////////////////////////////////////\r\n    var swapSlideProgress = function(defimg,container) {\r\n\r\n        var actli = container.find('.active-revslide'),\r\n            nextli = container.find('.processing-revslide'),\r\n            actsh = actli.find('.slotholder'),\r\n            nextsh = nextli.find('.slotholder'),\r\n            opt = container[0].opt;\r\n\r\n        opt.tonpause=false;\r\n\r\n        opt.cd=0;\r\n\r\n\r\n        clearTimeout(opt.loadertimer);\r\n        if (opt.loader!==undefined) opt.loader.css({display:\"none\"});\r\n        // if ( opt.sliderType ==\"carousel\") _R.prepareCarousel(opt);\r\n        _R.setSize(opt);\r\n        _R.slotSize(defimg,opt);\r\n\r\n        if (_R.manageNavigation) _R.manageNavigation(opt);\r\n        var data={};\r\n        data.nextslide=nextli;\r\n        data.currentslide=actli;\r\n        container.trigger('revolution.slide.onbeforeswap',data);\r\n\r\n        opt.transition = 1;\r\n        opt.videoplaying = false;\r\n\r\n        // IF DELAY HAS BEEN SET VIA THE SLIDE, WE TAKE THE NEW VALUE, OTHER WAY THE OLD ONE...\r\n        if (nextli.data('delay')!=undefined) {\r\n            opt.cd=0;\r\n            opt.delay=nextli.data('delay');\r\n        } else\r\n            opt.delay=opt.origcd;\r\n\r\n\r\n        if (nextli.data('ssop')==\"true\" || nextli.data('ssop')===true)\r\n            opt.ssop = true\r\n        else\r\n            opt.ssop = false;\r\n\r\n\r\n\r\n        container.trigger('nulltimer');\r\n\r\n        var ai = actli.index(),\r\n            ni = nextli.index();\r\n        opt.sdir = ni<ai ? 1 : 0;\r\n\r\n        if (opt.sc_indicator==\"arrow\") {\r\n            if (ai==0 && ni==opt.slideamount-1) opt.sdir = 1;\r\n            if (ai==opt.slideamount-1 && ni==0) opt.sdir = 0;\r\n        }\r\n\r\n        opt.lsdir = opt.lsdir === undefined ? opt.sdir : opt.lsdir;\r\n        opt.dirc = opt.lsdir != opt.sdir;\r\n        opt.lsdir = opt.sdir;\r\n\r\n        ///////////////////////////\r\n        //\tREMOVE THE CAPTIONS //\r\n        ///////////////////////////\r\n\r\n\r\n\r\n        if (actli.index() != nextli.index() && opt.firststart!=1)\r\n            if (_R.removeTheCaptions) _R.removeTheCaptions(actli,opt);\r\n\r\n\r\n\r\n        if (!nextli.hasClass('rs-pause-timer-once') && !nextli.hasClass(\"rs-pause-timer-always\"))\r\n            container.trigger('restarttimer');\r\n        else\r\n            opt.videoplaying = true;\r\n\r\n        nextli.removeClass(\"rs-pause-timer-once\");\r\n\r\n        var nexttrans,\r\n            direction=-1,\r\n            mtl;\r\n\r\n        opt.currentSlide = actli.index();\r\n        opt.nextSlide = nextli.index();\r\n\r\n\r\n        // SELECT SLIDER TYPE\r\n        if ( opt.sliderType ==\"carousel\") {\r\n            mtl = new punchgs.TimelineLite();\r\n            _R.prepareCarousel(opt,mtl);\r\n            letItFree(container,nextsh,actsh,nextli,actli,mtl);\r\n            opt.transition = 0;\r\n            opt.firststart = 0;\r\n        } else {\r\n\r\n            mtl = new punchgs.TimelineLite({onComplete:function() {\r\n                letItFree(container,nextsh,actsh,nextli,actli,mtl);\r\n            }});\r\n            mtl.add(punchgs.TweenLite.set(nextsh.find('.defaultimg'),{opacity:0}));\r\n            mtl.pause();\r\n\r\n            if (_R.animateTheCaptions)\r\n                _R.animateTheCaptions({slide:nextli,opt:opt,preset:true});\r\n\r\n            if (opt.firststart==1) {\r\n                punchgs.TweenLite.set(actli,{autoAlpha:0});\r\n                opt.firststart=0;\r\n            }\r\n\r\n\r\n            punchgs.TweenLite.set(actli,{zIndex:18});\r\n            punchgs.TweenLite.set(nextli,{autoAlpha:0,zIndex:20});\r\n\r\n\r\n            // IF THERE IS AN OTHER FIRST SLIDE START HAS BEED SELECTED\r\n            if (nextli.data('differentissplayed') =='prepared') {\r\n                nextli.data('differentissplayed','done');\r\n                nextli.data('transition',nextli.data('savedtransition'));\r\n                nextli.data('slotamount',nextli.data('savedslotamount'));\r\n                nextli.data('masterspeed',nextli.data('savedmasterspeed'));\r\n            }\r\n\r\n\r\n            if (nextli.data('fstransition') != undefined && nextli.data('differentissplayed') !=\"done\") {\r\n\r\n                nextli.data('savedtransition',nextli.data('transition'));\r\n                nextli.data('savedslotamount',nextli.data('slotamount'));\r\n                nextli.data('savedmasterspeed',nextli.data('masterspeed'));\r\n                nextli.data('transition',nextli.data('fstransition'));\r\n                nextli.data('slotamount',nextli.data('fsslotamount'));\r\n                nextli.data('masterspeed',nextli.data('fsmasterspeed'));\r\n                nextli.data('differentissplayed','prepared');\r\n            }\r\n\r\n            if (nextli.data('transition')==undefined) nextli.data('transition',\"random\");\r\n\r\n            nexttrans = 0;\r\n            var transtext = nextli.data('transition') !== undefined ? nextli.data('transition').split(\",\") : \"fade\",\r\n                curtransid = nextli.data('nexttransid') == undefined ? -1 : nextli.data('nexttransid');\r\n            if (nextli.data('randomtransition')==\"on\")\r\n                curtransid = Math.round(Math.random()*transtext.length);\r\n            else\r\n                curtransid=curtransid+1;\r\n\r\n            if (curtransid==transtext.length) curtransid=0;\r\n            nextli.data('nexttransid',curtransid);\r\n\r\n            var comingtransition = transtext[curtransid];\r\n\r\n            if (opt.ie) {\r\n                if (comingtransition==\"boxfade\") comingtransition = \"boxslide\";\r\n                if (comingtransition==\"slotfade-vertical\") comingtransition = \"slotzoom-vertical\";\r\n                if (comingtransition==\"slotfade-horizontal\") comingtransition = \"slotzoom-horizontal\";\r\n            }\r\n\r\n            if (_R.isIE(8))\r\n                comingtransition = 11;\r\n\r\n\r\n\r\n            mtl = _R.animateSlide(nexttrans, comingtransition, container,  nextli, actli, nextsh, actsh,  mtl);\r\n            if (nextsh.data('kenburns')==\"on\") {\r\n                _R.startKenBurn(nextsh,opt);\r\n                mtl.add(punchgs.TweenLite.set(nextsh,{autoAlpha:0}))\r\n            }\r\n\r\n            // SHOW FIRST LI && ANIMATE THE CAPTIONS\r\n            mtl.pause();\r\n        }\r\n\r\n\r\n\r\n        if (_R.scrollHandling) {\r\n            _R.scrollHandling(opt, true,0);\r\n            mtl.eventCallback(\"onUpdate\",function() {\r\n                _R.scrollHandling(opt, true,0);\r\n            });\r\n        }\r\n\r\n\r\n\r\n        // START PARALLAX IF NEEDED\r\n        if (opt.parallax.type!=\"off\" && opt.parallax.firstgo==undefined && _R.scrollHandling) {\r\n            opt.parallax.firstgo = true;\r\n            opt.lastscrolltop = -999;\r\n            _R.scrollHandling(opt,true,0);\r\n            setTimeout(function() {\r\n                opt.lastscrolltop = -999;\r\n                _R.scrollHandling(opt,true,0);\r\n            },210);\r\n            setTimeout(function() {\r\n                opt.lastscrolltop = -999;\r\n                _R.scrollHandling(opt,true,0);\r\n            },420);\r\n        }\r\n\r\n\r\n\r\n        if (_R.animateTheCaptions) {\r\n            if (opt.sliderType===\"carousel\" && opt.carousel.showLayersAllTime===\"on\") {\r\n                // SHOW ALL LAYERS IN ALL SLIDES FOR CAROUSEL\r\n                jQuery.each(opt.li,function(i) {\r\n                    if (!opt.carousel.allLayersStarted) {\r\n                        if (opt.li[i] === nextli)\r\n                            _R.animateTheCaptions({slide:jQuery(opt.li[i]),maintimeline:mtl,opt:opt,startslideanimat:0});\r\n                        else\r\n                            _R.animateTheCaptions({slide:jQuery(opt.li[i]),opt:opt,startslideanimat:0});\r\n                    }\r\n                    else\r\n                        _R.animateTheCaptions({slide:jQuery(opt.li[i]),opt:opt,recall:true});\r\n                });\r\n                opt.carousel.allLayersStarted = true;\r\n            } else {\r\n                _R.animateTheCaptions({slide:nextli, opt:opt,maintimeline:mtl,startslideanimat:0});\r\n            }\r\n        } else {\r\n            if (mtl != undefined) setTimeout(function() {\r\n                mtl.resume();\r\n            },30);\r\n        }\r\n        punchgs.TweenLite.to(nextli,0.001,{autoAlpha:1});\r\n\r\n\r\n\r\n        //if (_R.callStaticDDDParallax) _R.callStaticDDDParallax(container,opt,nextli);\r\n\r\n    }\r\n\r\n\r\n//////////////////////////////////////////\r\n//\tGIVE FREE THE TRANSITIOSN\t\t\t//\r\n//////////////////////////////////////////\r\n    var letItFree = function(container,nextsh,actsh,nextli,actli,mtl) {\r\n\r\n\r\n        var opt = container[0].opt;\r\n        if (opt.sliderType===\"carousel\") {\r\n            // CAROUSEL SLIDER\r\n        }  else {\r\n            opt.removePrepare = 0;\r\n            punchgs.TweenLite.to(nextsh.find('.defaultimg'),0.001,{zIndex:20,autoAlpha:1,onComplete:function() {\r\n                removeSlots(container,opt,nextli,1);\r\n\r\n            }});\r\n            if (nextli.index()!=actli.index()) {\r\n                punchgs.TweenLite.to(actli,0.2,{zIndex:18,autoAlpha:0,onComplete:function() {\r\n                    removeSlots(container,opt,actli,1);\r\n                }});\r\n            }\r\n        }\r\n\r\n\r\n        container.find('.active-revslide').removeClass(\"active-revslide\");\r\n\r\n        container.find('.processing-revslide').removeClass(\"processing-revslide\").addClass(\"active-revslide\");\r\n        opt.act=nextli.index();\r\n\r\n        opt.c.attr('data-slideactive',container.find('.active-revslide').data('index'));\r\n\r\n        if (opt.parallax.type==\"scroll\" || opt.parallax.type==\"scroll+mouse\" || opt.parallax.type==\"mouse+scroll\") {\r\n            opt.lastscrolltop = -999;\r\n            _R.scrollHandling(opt);\r\n        }\r\n\r\n        mtl.clear();\r\n\r\n\r\n        if (actsh.data('kbtl')!=undefined) {\r\n            actsh.data('kbtl').reverse();\r\n            actsh.data('kbtl').timeScale(25);\r\n        }\r\n        if (nextsh.data('kenburns')==\"on\") {\r\n            if (nextsh.data('kbtl')!=undefined) {\r\n                nextsh.data('kbtl').timeScale(1);\r\n                nextsh.data('kbtl').play();\r\n            }\r\n            else\r\n                _R.startKenBurn(nextsh,opt);\r\n        }\r\n\r\n        nextli.find('.rs-background-video-layer').each(function(i) {\r\n            if (_ISM && (!opt.fallbacks.allowHTML5AutoPlayOnAndroid)) return false;\r\n            var _nc = jQuery(this);\r\n            _R.resetVideo(_nc,opt,false,true);\r\n            punchgs.TweenLite.fromTo(_nc,1,{autoAlpha:0},{autoAlpha:1,ease:punchgs.Power3.easeInOut,delay:0.2,onComplete:function() {\r\n                if (_R.animcompleted) _R.animcompleted(_nc,opt);\r\n            }});\r\n        });\r\n\r\n\r\n        actli.find('.rs-background-video-layer').each(function(i) {\r\n            if (_ISM) return false;\r\n            var _nc = jQuery(this);\r\n            if (_R.stopVideo) {\r\n                _R.resetVideo(_nc,opt);\r\n                _R.stopVideo(_nc,opt);\r\n            }\r\n            punchgs.TweenLite.to(_nc,1,{autoAlpha:0,ease:punchgs.Power3.easeInOut,delay:0.2});\r\n        });\r\n        // TIRGGER THE ON CHANGE EVENTS\r\n        var data={};\r\n        data.slideIndex=nextli.index()+1;\r\n        data.slideLIIndex=nextli.index();\r\n        data.slide = nextli;\r\n        data.currentslide=nextli;\r\n        data.prevslide = actli;\r\n        opt.last_shown_slide = actli.index();\r\n\r\n        container.trigger('revolution.slide.onchange',data);\r\n        container.trigger('revolution.slide.onafterswap',data);\r\n\r\n        if (opt.startWithSlide!==undefined && opt.startWithSlide!==\"done\" && opt.sliderType===\"carousel\") {\r\n            var callslideindex = opt.startWithSlide;\r\n            for (var lis=0;lis<=opt.li.length-1;lis++) {\r\n                var oindex = jQuery(opt.li[lis]).data('originalindex');\r\n                if (oindex === opt.startWithSlide)\r\n                    callslideindex = lis;\r\n            }\r\n            if (callslideindex!==0)\r\n                _R.callingNewSlide(opt.c,callslideindex);\r\n            opt.startWithSlide = \"done\";\r\n        }\r\n\r\n\r\n        opt.duringslidechange = false;\r\n\r\n\r\n        var lastSlideLoop = actli.data('slide_on_focus_amount'),\r\n            lastSlideMaxLoop = actli.data('hideafterloop');\r\n        if (lastSlideMaxLoop!=0 && lastSlideMaxLoop<=lastSlideLoop) opt.c.revremoveslide(actli.index());\r\n\r\n\r\n\r\n        var _actli = opt.nextSlide === -1 || opt.nextSlide===undefined ? 0 : opt.nextSlide;\r\n        if (opt.rowzones!=undefined) _actli = _actli>opt.rowzones.length ? opt.rowzones.length : _actli;\r\n\r\n        if (opt.rowzones!=undefined && opt.rowzones.length>0 && opt.rowzones[_actli]!=undefined && _actli>=0 && _actli<=opt.rowzones.length && opt.rowzones[_actli].length>0) _R.setSize(opt);\r\n        //if (_R.callStaticDDDParallax) _R.callStaticDDDParallax(container,opt,nextli);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n///////////////////////////\r\n//\tREMOVE THE LISTENERS //\r\n///////////////////////////\r\n    var removeAllListeners = function(container,opt) {\r\n        container.children().each(function() {\r\n            try{ jQuery(this).die('click'); } catch(e) {}\r\n            try{ jQuery(this).die('mouseenter');} catch(e) {}\r\n            try{ jQuery(this).die('mouseleave');} catch(e) {}\r\n            try{ jQuery(this).unbind('hover');} catch(e) {}\r\n        })\r\n        try{ container.die('click','mouseenter','mouseleave');} catch(e) {}\r\n        clearInterval(opt.cdint);\r\n        container=null;\r\n    }\r\n\r\n///////////////////////////\r\n//\t-\tcountDown\t-\t//\r\n/////////////////////////\r\n    var countDown = function(container,opt) {\r\n        opt.cd=0;\r\n        opt.loop=0;\r\n        if (opt.stopAfterLoops!=undefined && opt.stopAfterLoops>-1)\r\n            opt.looptogo=opt.stopAfterLoops;\r\n        else\r\n            opt.looptogo=9999999;\r\n\r\n        if (opt.stopAtSlide!=undefined && opt.stopAtSlide>-1)\r\n            opt.lastslidetoshow=opt.stopAtSlide;\r\n        else\r\n            opt.lastslidetoshow=999;\r\n\r\n        opt.stopLoop=\"off\";\r\n\r\n        if (opt.looptogo==0) opt.stopLoop=\"on\";\r\n\r\n\r\n        var bt=container.find('.tp-bannertimer');\r\n\r\n        // LISTENERS  //container.trigger('stoptimer');\r\n        container.on('stoptimer',function() {\r\n\r\n            var bt = jQuery(this).find('.tp-bannertimer');\r\n            bt[0].tween.pause();\r\n            if (opt.disableProgressBar==\"on\") bt.css({visibility:\"hidden\"});\r\n            opt.sliderstatus = \"paused\";\r\n            _R.unToggleState(opt.slidertoggledby);\r\n        });\r\n\r\n\r\n        container.on('starttimer',function() {\r\n            if (opt.forcepause_viatoggle) return;\r\n            if (opt.conthover!=1 && opt.videoplaying!=true && opt.width>opt.hideSliderAtLimit && opt.tonpause != true && opt.overnav !=true && opt.ssop!=true)\r\n                if (opt.noloopanymore !== 1 && (!opt.viewPort.enable || opt.inviewport)) {\r\n\r\n                    bt.css({visibility:\"visible\"});\r\n                    bt[0].tween.resume();\r\n                    opt.sliderstatus = \"playing\";\r\n                }\r\n\r\n            if (opt.disableProgressBar==\"on\") bt.css({visibility:\"hidden\"});\r\n            _R.toggleState(opt.slidertoggledby);\r\n        });\r\n\r\n\r\n        container.on('restarttimer',function() {\r\n            if (opt.forcepause_viatoggle) return;\r\n            var bt = jQuery(this).find('.tp-bannertimer');\r\n            if (opt.mouseoncontainer && opt.navigation.onHoverStop==\"on\" && (!_ISM)) return false;\r\n            if (opt.noloopanymore !== 1 && (!opt.viewPort.enable || opt.inviewport) && opt.ssop!=true) {\r\n                bt.css({visibility:\"visible\"});\r\n                bt[0].tween.kill();\r\n\r\n                bt[0].tween=punchgs.TweenLite.fromTo(bt,opt.delay/1000,{width:\"0%\"},{force3D:\"auto\",width:\"100%\",ease:punchgs.Linear.easeNone,onComplete:countDownNext,delay:1});\r\n                opt.sliderstatus = \"playing\";\r\n            }\r\n            if (opt.disableProgressBar==\"on\") bt.css({visibility:\"hidden\"});\r\n            _R.toggleState(opt.slidertoggledby);\r\n        });\r\n\r\n        container.on('nulltimer',function() {\r\n            bt[0].tween.kill();\r\n            bt[0].tween=punchgs.TweenLite.fromTo(bt,opt.delay/1000,{width:\"0%\"},{force3D:\"auto\",width:\"100%\",ease:punchgs.Linear.easeNone,onComplete:countDownNext,delay:1});\r\n            bt[0].tween.pause(0);\r\n            if (opt.disableProgressBar==\"on\") bt.css({visibility:\"hidden\"});\r\n            opt.sliderstatus = \"paused\";\r\n        });\r\n\r\n        var countDownNext = function() {\r\n            if (jQuery('body').find(container).length==0) {\r\n                removeAllListeners(container,opt);\r\n                clearInterval(opt.cdint);\r\n            }\r\n\r\n            container.trigger(\"revolution.slide.slideatend\");\r\n\r\n            //STATE OF API CHANGED -> MOVE TO AIP BETTER\r\n            if (container.data('conthover-changed') == 1) {\r\n                opt.conthover=\tcontainer.data('conthover');\r\n                container.data('conthover-changed',0);\r\n            }\r\n\r\n            _R.callingNewSlide(container,1);\r\n        }\r\n\r\n        bt[0].tween=punchgs.TweenLite.fromTo(bt,opt.delay/1000,{width:\"0%\"},{force3D:\"auto\",width:\"100%\",ease:punchgs.Linear.easeNone,onComplete:countDownNext,delay:1});\r\n\r\n\r\n        if (opt.slideamount >1 && !(opt.stopAfterLoops==0 && opt.stopAtSlide==1)) {\r\n            container.trigger(\"starttimer\");\r\n        }\r\n        else {\r\n            opt.noloopanymore = 1;\r\n\r\n            container.trigger(\"nulltimer\");\r\n        }\r\n\r\n        container.on('tp-mouseenter',function() {\r\n            opt.mouseoncontainer = true;\r\n            if (opt.navigation.onHoverStop==\"on\" && (!_ISM)) {\r\n                container.trigger('stoptimer');\r\n                container.trigger('revolution.slide.onpause');\r\n            }\r\n        });\r\n        container.on('tp-mouseleft',function() {\r\n            opt.mouseoncontainer = false;\r\n            if (container.data('conthover')!=1 && opt.navigation.onHoverStop==\"on\" && ((opt.viewPort.enable==true && opt.inviewport) || opt.viewPort.enable==false)) {\r\n                container.trigger('revolution.slide.onresume');\r\n                container.trigger('starttimer');\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n//////////////////////////////////////////////////////\r\n// * Revolution Slider - NEEDFULL FUNCTIONS\r\n// * @version: 1.0 (30.10.2014)\r\n// * @author ThemePunch\r\n//////////////////////////////////////////////////////\r\n\r\n\r\n\r\n// \t-\tBLUR / FOXUS FUNCTIONS ON BROWSER\r\n\r\n    var vis = (function(){\r\n        var stateKey,\r\n            eventKey,\r\n            keys = {\r\n                hidden: \"visibilitychange\",\r\n                webkitHidden: \"webkitvisibilitychange\",\r\n                mozHidden: \"mozvisibilitychange\",\r\n                msHidden: \"msvisibilitychange\"\r\n            };\r\n        for (stateKey in keys) {\r\n            if (stateKey in document) {\r\n                eventKey = keys[stateKey];\r\n                break;\r\n            }\r\n        }\r\n        return function(c) {\r\n            if (c) document.addEventListener(eventKey, c,{pasive:true});\r\n            return !document[stateKey];\r\n        }\r\n    })();\r\n\r\n    var restartOnFocus = function() {\r\n        jQuery('.rev_redraw_on_blurfocus').each(function() {\r\n            var opt = jQuery(this)[0].opt;\r\n            if (opt==undefined || opt.c==undefined || opt.c.length===0) return false;\r\n            if (opt.windowfocused!=true) {\r\n                opt.windowfocused = true;\r\n                punchgs.TweenLite.delayedCall(0.3,function(){\r\n                    // TAB IS ACTIVE, WE CAN START ANY PART OF THE SLIDER\r\n                    if (opt.fallbacks.nextSlideOnWindowFocus==\"on\") opt.c.revnext();\r\n                    opt.c.revredraw();\r\n                    if (opt.lastsliderstatus==\"playing\")\r\n                        opt.c.revresume();\r\n                });\r\n            }\r\n        })\r\n    }\r\n\r\n    var lastStatBlur = function() {\r\n        jQuery('.rev_redraw_on_blurfocus').each(function() {\r\n            var opt = jQuery(this)[0].opt;\r\n            opt.windowfocused = false;\r\n            opt.lastsliderstatus = opt.sliderstatus;\r\n            opt.c.revpause();\r\n            var actsh = opt.c.find('.active-revslide .slotholder'),\r\n                nextsh = opt.c.find('.processing-revslide .slotholder');\r\n\r\n            if (nextsh.data('kenburns')==\"on\")\r\n                _R.stopKenBurn(nextsh,opt);\r\n\r\n            if (actsh.data('kenburns')==\"on\")\r\n                _R.stopKenBurn(actsh,opt);\r\n        });\r\n\r\n\r\n    }\r\n\r\n    var tabBlurringCheck = function() {\r\n        var notIE = (document.documentMode === undefined),\r\n            isChromium = window.chrome;\r\n        if (jQuery('body').data('revslider_focus_blur_listener')===1) return;\r\n        jQuery('body').data('revslider_focus_blur_listener',1);\r\n        if (notIE && !isChromium) {\r\n            // checks for Firefox and other  NON IE Chrome versions\r\n            jQuery(window).on(\"focusin\", function () {\r\n                restartOnFocus();\r\n            }).on(\"focusout\", function () {\r\n                lastStatBlur();\r\n            });\r\n        } else {\r\n            // checks for IE and Chromium versions\r\n            if (window.addEventListener) {\r\n                // bind focus event\r\n                window.addEventListener(\"focus\", function (event) {\r\n                    restartOnFocus();\r\n                }, {capture:false,passive:true});\r\n                // bind blur event\r\n                window.addEventListener(\"blur\", function (event) {\r\n                    lastStatBlur();\r\n                }, {capture:false,passive:true});\r\n\r\n            } else {\r\n                // bind focus event\r\n                window.attachEvent(\"focus\", function (event) {\r\n                    restartOnFocus();\r\n                });\r\n                // bind focus event\r\n                window.attachEvent(\"blur\", function (event) {\r\n                    lastStatBlur();\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n// \t-\tGET THE URL PARAMETER //\r\n\r\n    var getUrlVars = function (hashdivider){\r\n        var vars = [], hash;\r\n        var hashes = window.location.href.slice(window.location.href.indexOf(hashdivider) + 1).split('_');\r\n        for(var i = 0; i < hashes.length; i++)\r\n        {\r\n            hashes[i] = hashes[i].replace('%3D',\"=\");\r\n            hash = hashes[i].split('=');\r\n            vars.push(hash[0]);\r\n            vars[hash[0]] = hash[1];\r\n        }\r\n        return vars;\r\n    }\r\n\r\n    return jQuery;\r\n\r\n});","Nwdthemes_Revslider/public/assets/js/source/tp-color-picker.js":"/**************************************************************************\r\n * tp-color-picker.js - Color Picker Plugin for Revolution Slider\r\n * @version: 1.0.4 (7.9.2017)\r\n * @author ThemePunch\r\n**************************************************************************/\r\n\r\n;window.RevColor = {\r\n\t\r\n\tdefaultValue: '#ffffff',\r\n\tisColor: /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,\r\n\t\r\n\tget: function(val) {\r\n\t\t\r\n\t\tif(!val) return 'transparent';\r\n\t\treturn RevColor.process(val, true)[0];\r\n\t\t\r\n\t},\r\n\t\r\n\tparse: function(val, prop, returnColorType) {\r\n\t\t\r\n\t\tval = RevColor.process(val, true);\r\n\t\tvar ar = [];\r\n\t\t\t\r\n\t\tif(!prop) ar[0] = val[0];\t\r\n\t\telse ar[0] = prop + ': ' + val[0] + ';';\r\n\t\t\t\r\n\t\tif(returnColorType) ar[1] = val[1];\r\n\t\treturn ar;\r\n\t\t\r\n\t},\r\n\t\r\n\tconvert: function(color, opacity) {\r\n\t\t\r\n\t\t// falsey or non-string\r\n\t\tif(!color || typeof color !== 'string') return RevColor.defaultValue;\r\n\t\t\r\n\t\t// transparent\r\n\t\tif(color === 'transparent') return color;\r\n\t\t\r\n\t\t// gradients\r\n\t\tif(color.search(/\\[\\{/) !== -1 || color.search('gradient') !== -1) return RevColor.process(color, true)[0];\r\n\t\t\r\n\t\t// if no opacity value exists\r\n\t\tif(typeof opacity === 'undefined' || isNaN(opacity)) return RevColor.process(color, true)[0];\r\n\t\t\r\n\t\t// convert opacity from float to int\r\n\t\topacity = parseFloat(opacity);\r\n\t\tif(opacity <= 1) opacity *= 100;\r\n\t\t\r\n\t\t// min/max opacity\r\n\t\topacity = Math.max(Math.min(parseInt(opacity, 10), 100), 0);\r\n\t\t\r\n\t\t// transparent for 0 opacity\r\n\t\tif(opacity === 0) return 'transparent';\r\n\t\t\r\n\t\ttry {\r\n\t\t\r\n\t\t\tif(color.search('#') !== -1 || color.length < 8) {\r\n\t\t\t\t\r\n\t\t\t\tif(!RevColor.isColor.test(color)) color = color.replace(/[^A-Za-z0-9#]/g, '');\r\n\t\t\t\treturn RevColor.processRgba(RevColor.sanitizeHex(color), opacity);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tcolor = RevColor.rgbValues(color, 3);\r\n\t\t\t\treturn RevColor.rgbaString(color[0], color[1], color[2], opacity * 0.01);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\tcatch(e) {\r\n\t\t\t\r\n\t\t\treturn RevColor.defaultValue;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t},\r\n\t\r\n\tprocess: function(clr, processColor) {\r\n\t\t\r\n\t\tif(typeof clr !== 'string') {\r\n\t\t\t\r\n\t\t\tif(processColor) clr = RevColor.sanitizeGradient(clr);\r\n\t\t\treturn [RevColor.processGradient(clr), 'gradient', clr];\r\n\t\t\t\r\n\t\t}\r\n\t\telse if(clr.trim() === 'transparent') {\r\n\t\t\t\r\n\t\t\treturn ['transparent', 'transparent'];\r\n\t\t\t\r\n\t\t}\r\n\t\telse if(clr.search(/\\[\\{/) !== -1) {\r\n\t\t\t\r\n\t\t\ttry {\r\n\t\t\t\t\r\n\t\t\t\tclr = JSON.parse(clr.replace(/\\&/g, '\"'));\r\n\t\t\t\tif(processColor) clr = RevColor.sanitizeGradient(clr); \r\n\t\t\t\treturn [RevColor.processGradient(clr), 'gradient', clr];\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch(e) {\r\n\t\t\t\t\r\n\t\t\t\tconsole.log('RevColor.process() failed to parse JSON string');\r\n\t\t\t\treturn [\r\n\t\t\t\t\r\n\t\t\t\t\t'linear-gradient(0deg, rgba(255, 255, 255, 1) 0%, rgba(0, 0, 0, 1) 100%)', \r\n\t\t\t\t\t'gradient', {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t'type': 'linear', \r\n\t\t\t\t\t\t'angle': '0', \r\n\t\t\t\t\t\t'colors': [\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\t{'r': '255', 'g': '255', 'b': '255', 'a': '1', 'position': '0', 'align': 'bottom'}, \r\n\t\t\t\t\t\t\t{'r': '0', 'g': '0', 'b': '0', 'a': '1', 'position': '100', 'align': 'bottom'}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t]\r\n\t\t\t\t\t}\r\n\t\t\t\t];\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\telse if(clr.search('#') !== -1) {\r\n\t\t\t\r\n\t\t\treturn [RevColor.sanitizeHex(clr), 'hex'];\r\n\t\t\t\r\n\t\t}\r\n\t\telse if(clr.search('rgba') !== -1) {\r\n\t\t\t\r\n\t\t\treturn [clr.replace(/\\s/g, '').replace(/false/g, '1'), 'rgba'];\r\n\t\t\t\r\n\t\t}\r\n\t\telse if(clr.search('rgb') !== -1) {\r\n\t\t\t\r\n\t\t\treturn [clr.replace(/\\s/g, ''), 'rgb'];\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\treturn RevColor.isColor.test(clr) ? [clr, 'hex'] : ['transparent', 'transparent', true];\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t},\r\n\t\r\n\ttransparentRgba: function(val, processed) {\r\n\t\t\r\n\t\tif(!processed) {\r\n\t\t\r\n\t\t\tvar tpe = RevColor.process(val)[1];\r\n\t\t\tif(tpe !== 'rgba') return false;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn RevColor.rgbValues(val, 4)[3] === '0';\r\n\t\t\r\n\t},\r\n\t\r\n\trgbValues: function(values, num) {\r\n\t\t\r\n\t\tvalues = values.substring(values.indexOf('(') + 1, values.lastIndexOf(')')).split(',');\r\n\t\tif(values.length === 3 && num === 4) values[3] = '1';\r\n\t\t\r\n\t\tfor(var i = 0; i < num; i++) values[i] = values[i].trim();\r\n\t\treturn values;\r\n\t\t\r\n\t},\r\n\t\r\n\trgbaString: function(r, g, b, a) {\r\n\t\t\r\n\t\treturn 'rgba(' + r + ', ' + g + ', ' + b + ', ' + a + ')';\r\n\t\t\r\n\t},\r\n\t\r\n\trgbToHex: function(clr) {\r\n\t\t\r\n\t\tvar values = RevColor.rgbValues(clr, 3);\r\n\t\treturn RevColor.getRgbToHex(values[0], values[1], values[2]);\r\n\t\t\r\n\t},\r\n\t\r\n\trgbaToHex: function(clr) {\r\n\t\t\r\n\t\tvar values = RevColor.rgbValues(clr, 4);\r\n\t\treturn [RevColor.getRgbToHex(values[0], values[1], values[2]), values[3]];\r\n\t\t\r\n\t},\r\n\t\r\n\tgetOpacity: function(val) {\r\n\t\t\r\n\t\treturn parseInt(RevColor.rgbValues(val, 4)[3] * 100, 10) + '%';\r\n\t\t\r\n\t},\r\n\t\r\n\tgetRgbToHex: function(r, g, b) {\r\n\t\t\r\n\t\treturn '#' + (\"0\" + parseInt(r).toString(16)).slice(-2) + \r\n\t\t\t\t\t (\"0\" + parseInt(g).toString(16)).slice(-2) + \r\n\t\t\t\t\t (\"0\" + parseInt(b).toString(16)).slice(-2);\r\n\t\t\r\n\t},\r\n\t\r\n\tjoinToRgba:function(val) {\r\n\t\t\r\n\t\tval = val.split('||');\r\n\t\treturn RevColor.convert(val[0], val[1]);\r\n\t\t\r\n\t},\r\n\t\r\n\tprocessRgba: function(hex, opacity) {\r\n\t\t\r\n\t\thex = hex.replace('#', '');\r\n\t\t\r\n\t\tvar hasOpacity = typeof opacity !== 'undefined',\r\n\t\trgb = hasOpacity ? 'rgba' : 'rgb',\r\n\t\tcolor = rgb + '(' + \r\n\t\t\t\t\tparseInt(hex.substring(0, 2), 16) + ', ' + \r\n\t\t\t\t\tparseInt(hex.substring(2, 4), 16) + ', ' + \r\n\t\t\t\t\tparseInt(hex.substring(4, 6), 16);\r\n\t\t\r\n\t\tif(hasOpacity) color +=  ', ' + (parseInt(opacity, 10) * 0.01).toFixed(2).replace(/\\.?0*$/, '') + ')';\r\n\t\telse color +=  ')';\r\n\t\t\r\n\t\treturn color;\r\n\t\t\r\n\t},\r\n\t\r\n\tprocessGradient: function(obj) {\r\n\r\n\t\tvar tpe = obj.type,\r\n\t\t\tbegin = tpe + '-gradient(',\r\n\t\t\tmiddle = tpe === 'linear' ? obj.angle + 'deg, ' : 'ellipse at center, ',\r\n\t\t\tcolors = obj.colors,\r\n\t\t\tlen = colors.length,\r\n\t\t\tend = '',\r\n\t\t\tclr;\r\n\t\t\r\n\t\tfor(var i = 0; i < len; i++) {\r\n\t\t\t\r\n\t\t\tif(i > 0) end += ', ';\r\n\t\t\tclr = colors[i];\r\n\t\t\tend += 'rgba(' + clr.r + ', ' + clr.g + ', ' + clr.b + ', ' + clr.a + ') ' + clr.position + '%';\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn begin + middle + end + ')';\r\n\t\t\r\n\t},\r\n\t\r\n\tsanitizeHex: function(hex) {\r\n\t\r\n\t\thex = hex.replace('#', '').trim();\r\n\t\tif(hex.length === 3) {\r\n\t\t\t\r\n\t\t\tvar a = hex.charAt(0),\r\n\t\t\t\tb = hex.charAt(1),\r\n\t\t\t\tc = hex.charAt(2);\r\n\t\t\t\t\r\n\t\t\thex = a + a + b + b + c + c;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn '#' + hex;\r\n\t\t\r\n\t},\r\n\t\r\n\tsanitizeGradient: function(obj) {\r\n\r\n\t\tvar colors = obj.colors,\r\n\t\t\tlen = colors.length,\r\n\t\t\tar = [],\r\n\t\t\tprev;\r\n\t\t\t\r\n\r\n\t\tfor(var i = 0; i < len; i++) {\r\n\t\t\t\r\n\t\t\tvar cur = colors[i];\r\n\t\t\tdelete cur.align;\r\n\t\t\t\r\n\t\t\tif(prev) {\r\n\t\t\t\t\r\n\t\t\t\tif(JSON.stringify(cur) !== JSON.stringify(prev)) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tar[ar.length] = cur;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tar[ar.length] = cur;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tprev = cur;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tobj.colors = ar;\r\n\t\treturn obj;\r\n\t\t\r\n\t}\r\n\t\r\n};\r\n\r\n(function($) {\r\n\t\r\n\tvar doc,\r\n\t\tangle,\r\n\t\tinited,\r\n\t\tbodies,\r\n\t\tisFull,\r\n\t\tpoints,\r\n\t\tradial,\r\n\t\thitTop,\r\n\t\tonEdit,\r\n\t\tonInit,\r\n\t\tonAjax,\r\n\t\tcPicker,\r\n\t\tprepped,\r\n\t\treverse,\r\n\t\tgradBtn,\r\n\t\tgradHex,\r\n\t\tdefMode,\r\n\t\tinFocus,\r\n\t\tdefEdit,\r\n\t\tdefAjax,\r\n\t\tcolorBox,\r\n\t\tcolorBtn,\r\n\t\tcolorHex,\r\n\t\tcolorLoc,\r\n\t\tgradIris,\r\n\t\tblankRow,\r\n\t\tcurPoint,\r\n\t\tappended,\r\n\t\tgradCore,\r\n\t\tonCancel,\r\n\t\tdefCancel,\r\n\t\tdefChange,\r\n\t\tdragPoint,\r\n\t\ttopPoints,\r\n\t\tbotPoints,\r\n\t\thitBottom,\r\n\t\ttextareas,\r\n\t\tcurSquare,\r\n\t\tcurCorner,\r\n\t\tcolorIris,\r\n\t\tlangColor,\r\n\t\tgradInput,\r\n\t\tonReverse,\r\n\t\twheelDown,\r\n\t\teditTitle,\r\n\t\tcolorView,\r\n\t\tangleWheel,\r\n\t\twheelPoint,\r\n\t\tgradOutput,\r\n\t\tcolorClear,\r\n\t\tdirections,\r\n\t\tpointIndex,\r\n\t\topacityLoc,\r\n\t\tgradViewed,\r\n\t\twheelActive,\r\n\t\tgradOpacity,\r\n\t\tgroupPoints,\r\n\t\tpointerWrap,\r\n\t\tgradSection,\r\n\t\tcolorDelete,\r\n\t\tcurLanguage,\r\n\t\tcustomAdded,\r\n\t\tdefWidgetId,\r\n\t\tselectedHex,\r\n\t\tcurrentInput,\r\n\t\tpresetGroups,\r\n\t\tcolorSection,\r\n\t\tcolorOpacity,\r\n\t\topeningValue,\r\n\t\topeningColor,\r\n\t\tappendedHTML,\r\n\t\tcurrentColor,\r\n\t\tsupressColor,\r\n\t\tsupressWheel,\r\n\t\tsupressCheck,\r\n\t\tgradientsOpen,\r\n\t\tisTransparent,\r\n\t\tmainContainer,\r\n\t\topacityDelete,\r\n\t\tselectedColor,\r\n\t\topacitySlider,\r\n\t\tsupressOpacity,\r\n\t\tcurrentEditing,\r\n\t\tdefaultClasses,\r\n\t\tchangeCallback,\r\n\t\tgradientPreview = {};\r\n\t\t\r\n\tvar hitWidth = 265,\r\n\t\tmaxPoints = 20,\r\n\t\tcenterWheel = 30,\r\n\t\tminGradRows = 6,\r\n\t\tminColorRows = 5,\r\n\t\tpresetColumns = 6,\r\n\t\tdeleteBuffer = 10,\r\n\t\twarningBuffer = 15,\r\n\t\tsliderHeight = 180,\r\n\t\tdragObj = {axis: \"x\", containment: \"#rev-cpicker-point-wrap\"};\r\n\t\t\r\n\tvar lang = {\r\n\t\t\r\n\t\t'color': 'Color',\r\n\t\t'solid_color': 'Solid Color',\r\n\t\t'gradient_color': 'Gradient Color',\r\n\t\t'currently_editing': 'Currently Editing',\r\n\t\t'core_presets': 'Core Presets',\r\n\t\t'custom_presets': 'Custom Presets',\r\n\t\t'enter_a_name': 'Enter a Name',\r\n\t\t'save_a_new_preset': 'Save a new Preset',\r\n\t\t'save': 'Save',\r\n\t\t'color_hex_value': 'Color Hex Value',\r\n\t\t'opacity': 'Opacity',\r\n\t\t'clear': 'Clear',\r\n\t\t'location': 'Location',\r\n\t\t'delete': 'Delete',\r\n\t\t'horizontal': 'Horizontal',\r\n\t\t'vertical': 'Vertical',\r\n\t\t'radial': 'Radial',\r\n\t\t'enter_angle': 'Enter Angle',\r\n\t\t'reverse_gradient': 'Reverse Gradient',\r\n\t\t'delete_confirm': 'Remove/Delete this custom preset color?',\r\n\t\t'naming_error': 'Please enter a unique name for the new color preset'\r\n\t\t\r\n\t};\r\n\t\r\n\tvar defColors = [\r\n\t\r\n\t\t'#FFFFFF', \r\n\t\t'#000000', \r\n\t\t'#FF3A2D', \r\n\t\t'#007AFF', \r\n\t\t'#4CD964', \r\n\t\t'#FFCC00', \r\n\t\t'#C7C7CC', \r\n\t\t'#8E8E93', \r\n\t\t'#FFD3E0', \r\n\t\t'#34AADC', \r\n\t\t'#E0F8D8', \r\n\t\t'#FF9500'\r\n\t\t\r\n\t];\r\n\t\r\n\tvar defGradients = [\r\n\t\t\t\t\r\n\t\t{'0': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:247,&g&:247,&b&:247,&a&:&1&,&position&:0,&align&:&top&},{&r&:247,&g&:247,&b&:247,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:215,&g&:215,&b&:215,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:215,&g&:215,&b&:215,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'1': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:74,&g&:74,&b&:74,&a&:&1&,&position&:0,&align&:&top&},{&r&:74,&g&:74,&b&:74,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:43,&g&:43,&b&:43,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:43,&g&:43,&b&:43,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'2': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:219,&g&:221,&b&:222,&a&:&1&,&position&:0,&align&:&top&},{&r&:219,&g&:221,&b&:222,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:137,&g&:140,&b&:144,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:137,&g&:140,&b&:144,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'3': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:26,&g&:214,&b&:253,&a&:&1&,&position&:0,&align&:&top&},{&r&:26,&g&:214,&b&:253,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:29,&g&:98,&b&:240,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:29,&g&:98,&b&:240,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'4': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:198,&g&:68,&b&:252,&a&:&1&,&position&:0,&align&:&top&},{&r&:198,&g&:68,&b&:252,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:88,&g&:86,&b&:214,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:88,&g&:86,&b&:214,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'5': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:255,&g&:94,&b&:58,&a&:&1&,&position&:0,&align&:&top&},{&r&:255,&g&:94,&b&:58,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:255,&g&:42,&b&:104,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:42,&b&:104,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'6': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:228,&g&:221,&b&:202,&a&:&1&,&position&:0,&align&:&top&},{&r&:228,&g&:221,&b&:202,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:214,&g&:206,&b&:195,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:214,&g&:206,&b&:195,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'7': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:255,&g&:219,&b&:76,&a&:&1&,&position&:0,&align&:&top&},{&r&:255,&g&:219,&b&:76,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:255,&g&:205,&b&:2,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:205,&b&:2,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'8': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:255,&g&:149,&b&:0,&a&:&1&,&position&:0,&align&:&top&},{&r&:255,&g&:149,&b&:0,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:255,&g&:94,&b&:58,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:94,&b&:58,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'9': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:82,&g&:237,&b&:199,&a&:&1&,&position&:0,&align&:&top&},{&r&:82,&g&:237,&b&:199,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:90,&g&:200,&b&:251,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:90,&g&:200,&b&:251,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'10': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:228,&g&:183,&b&:240,&a&:&1&,&position&:0,&align&:&top&},{&r&:228,&g&:183,&b&:240,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:200,&g&:110,&b&:223,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:200,&g&:110,&b&:223,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'11': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:135,&g&:252,&b&:112,&a&:&1&,&position&:0,&align&:&top&},{&r&:135,&g&:252,&b&:112,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:11,&g&:211,&b&:24,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:11,&g&:211,&b&:24,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'12': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:61,&g&:78,&b&:129,&a&:&1&,&position&:0,&align&:&top&},{&r&:61,&g&:78,&b&:129,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:87,&g&:83,&b&:201,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:110,&g&:127,&b&:243,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:110,&g&:127,&b&:243,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'13': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:35,&g&:21,&b&:87,&a&:&1&,&position&:0,&align&:&top&},{&r&:35,&g&:21,&b&:87,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:68,&g&:16,&b&:122,&a&:&1&,&position&:29,&align&:&bottom&},{&r&:255,&g&:19,&b&:97,&a&:&1&,&position&:67,&align&:&bottom&},{&r&:255,&g&:248,&b&:0,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:248,&b&:0,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'14': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:105,&g&:234,&b&:203,&a&:&1&,&position&:0,&align&:&top&},{&r&:105,&g&:234,&b&:203,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:234,&g&:204,&b&:248,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:102,&g&:84,&b&:241,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:102,&g&:84,&b&:241,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'15': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:255,&g&:5,&b&:124,&a&:&1&,&position&:0,&align&:&top&},{&r&:255,&g&:5,&b&:124,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:124,&g&:100,&b&:213,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:76,&g&:195,&b&:255,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:76,&g&:195,&b&:255,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'16': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:255,&g&:5,&b&:124,&a&:&1&,&position&:0,&align&:&top&},{&r&:255,&g&:5,&b&:124,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:141,&g&:11,&b&:147,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:50,&g&:21,&b&:117,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:50,&g&:21,&b&:117,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'17': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:164,&g&:69,&b&:178,&a&:&1&,&position&:0,&align&:&top&},{&r&:164,&g&:69,&b&:178,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:212,&g&:24,&b&:114,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:255,&g&:0,&b&:102,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:0,&b&:102,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'18': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:158,&g&:251,&b&:211,&a&:&1&,&position&:0,&align&:&top&},{&r&:158,&g&:251,&b&:211,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:87,&g&:233,&b&:242,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:69,&g&:212,&b&:251,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:69,&g&:212,&b&:251,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'19': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:172,&g&:50,&b&:228,&a&:&1&,&position&:0,&align&:&top&},{&r&:172,&g&:50,&b&:228,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:121,&g&:24,&b&:242,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:72,&g&:1,&b&:255,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:72,&g&:1,&b&:255,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'20': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:112,&g&:133,&b&:182,&a&:&1&,&position&:0,&align&:&top&},{&r&:112,&g&:133,&b&:182,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:135,&g&:167,&b&:217,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:222,&g&:243,&b&:248,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:222,&g&:243,&b&:248,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'21': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:34,&g&:225,&b&:255,&a&:&1&,&position&:0,&align&:&top&},{&r&:34,&g&:225,&b&:255,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:29,&g&:143,&b&:225,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:98,&g&:94,&b&:177,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:98,&g&:94,&b&:177,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'22': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:44,&g&:216,&b&:213,&a&:&1&,&position&:0,&align&:&top&},{&r&:44,&g&:216,&b&:213,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:107,&g&:141,&b&:214,&a&:&1&,&position&:50,&align&:&bottom&},{&r&:142,&g&:55,&b&:215,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:142,&g&:55,&b&:215,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'23': '{&type&:&linear&,&angle&:&160&,&colors&:[{&r&:44,&g&:216,&b&:213,&a&:&1&,&position&:0,&align&:&top&},{&r&:44,&g&:216,&b&:213,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:197,&g&:193,&b&:255,&a&:&1&,&position&:56,&align&:&bottom&},{&r&:255,&g&:186,&b&:195,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:186,&b&:195,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'24': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:191,&g&:217,&b&:254,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:191,&g&:217,&b&:254,&a&:&1&,&position&:0,&align&:&top&},{&r&:223,&g&:137,&b&:181,&a&:&1&,&position&:100,&align&:&top&},{&r&:223,&g&:137,&b&:181,&a&:&1&,&position&:100,&align&:&bottom&}]}'},\r\n\t\t{'25': '{&type&:&linear&,&angle&:&340&,&colors&:[{&r&:97,&g&:97,&b&:97,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:97,&g&:97,&b&:97,&a&:&1&,&position&:0,&align&:&top&},{&r&:155,&g&:197,&b&:195,&a&:&1&,&position&:100,&align&:&top&},{&r&:155,&g&:197,&b&:195,&a&:&1&,&position&:100,&align&:&bottom&}]}'},\r\n\t\t{'26': '{&type&:&linear&,&angle&:&90&,&colors&:[{&r&:36,&g&:57,&b&:73,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:36,&g&:57,&b&:73,&a&:&1&,&position&:0,&align&:&top&},{&r&:81,&g&:127,&b&:164,&a&:&1&,&position&:100,&align&:&top&},{&r&:81,&g&:127,&b&:164,&a&:&1&,&position&:100,&align&:&bottom&}]}'},\r\n\t\t{'27': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:234,&g&:205,&b&:163,&a&:&1&,&position&:0,&align&:&top&},{&r&:234,&g&:205,&b&:163,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:230,&g&:185,&b&:128,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:230,&g&:185,&b&:128,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'28': '{&type&:&linear&,&angle&:&45&,&colors&:[{&r&:238,&g&:156,&b&:167,&a&:&1&,&position&:0,&align&:&top&},{&r&:238,&g&:156,&b&:167,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:255,&g&:221,&b&:225,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:255,&g&:221,&b&:225,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'29': '{&type&:&linear&,&angle&:&340&,&colors&:[{&r&:247,&g&:148,&b&:164,&a&:&1&,&position&:0,&align&:&top&},{&r&:247,&g&:148,&b&:164,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:253,&g&:214,&b&:189,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:253,&g&:214,&b&:189,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'30': '{&type&:&linear&,&angle&:&45&,&colors&:[{&r&:135,&g&:77,&b&:162,&a&:&1&,&position&:0,&align&:&top&},{&r&:135,&g&:77,&b&:162,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:196,&g&:58,&b&:48,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:196,&g&:58,&b&:48,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'31': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:243,&g&:231,&b&:233,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:243,&g&:231,&b&:233,&a&:&1&,&position&:0,&align&:&top&},{&r&:218,&g&:212,&b&:236,&a&:&1&,&position&:100,&align&:&top&},{&r&:218,&g&:212,&b&:236,&a&:&1&,&position&:100,&align&:&bottom&}]}'},\r\n\t\t{'32': '{&type&:&linear&,&angle&:&320&,&colors&:[{&r&:43,&g&:88,&b&:118,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:43,&g&:88,&b&:118,&a&:&1&,&position&:0,&align&:&top&},{&r&:78,&g&:67,&b&:118,&a&:&1&,&position&:100,&align&:&top&},{&r&:78,&g&:67,&b&:118,&a&:&1&,&position&:100,&align&:&bottom&}]}'},\r\n\t\t{'33': '{&type&:&linear&,&angle&:&60&,&colors&:[{&r&:41,&g&:50,&b&:60,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:41,&g&:50,&b&:60,&a&:&1&,&position&:0,&align&:&top&},{&r&:72,&g&:85,&b&:99,&a&:&1&,&position&:100,&align&:&top&},{&r&:72,&g&:85,&b&:99,&a&:&1&,&position&:100,&align&:&bottom&}]}'},\r\n\t\t{'34': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:233,&g&:233,&b&:231,&a&:&1&,&position&:0,&align&:&top&},{&r&:233,&g&:233,&b&:231,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:239,&g&:238,&b&:236,&a&:&1&,&position&:25,&align&:&bottom&},{&r&:238,&g&:238,&b&:238,&a&:&1&,&position&:70,&align&:&bottom&},{&r&:213,&g&:212,&b&:208,&a&:&1&,&position&:100,&align&:&bottom&},{&r&:213,&g&:212,&b&:208,&a&:&1&,&position&:100,&align&:&top&}]}'},\r\n\t\t{'35': '{&type&:&linear&,&angle&:&180&,&colors&:[{&r&:251,&g&:200,&b&:212,&a&:&1&,&position&:0,&align&:&bottom&},{&r&:251,&g&:200,&b&:212,&a&:&1&,&position&:0,&align&:&top&},{&r&:151,&g&:149,&b&:240,&a&:&1&,&position&:100,&align&:&top&},{&r&:151,&g&:149,&b&:240,&a&:&1&,&position&:100,&align&:&bottom&}]}'}\r\n\t\r\n\t];\r\n\t\r\n\tvar markup = \r\n\t\r\n\t'<div id=\"rev-cpicker-back\" class=\"rev-cpicker-close\"></div>' + \r\n\t\r\n\t'<div id=\"rev-cpicker\">' + \r\n\t\t\r\n\t\t'<div id=\"rev-cpicker-head\">' + \r\n\t\t\t\r\n\t\t\t'<div id=\"rev-cpicker-drag\" class=\"rev-cpicker-draggable\"></div>' + \r\n\t\t\t'<span id=\"rev-cpicker-color-btn\" class=\"rev-cpicker-main-btn\" data-text=\"solid_color\"></span>' + \r\n\t\t\t'<span id=\"rev-cpicker-gradient-btn\" class=\"rev-cpicker-main-btn\" data-text=\"gradient_color\"></span>' + \r\n\t\t\t\r\n\t\t\t'<div id=\"rev-cpicker-editing\" class=\"rev-cpicker-draggable\">' + \r\n\t\t\t\t'<span id=\"rev-cpicker-edit-title\" data-text=\"currently_editing\"></span>' + \r\n\t\t\t\t'<span id=\"rev-cpicker-current-edit\"></span>' + \r\n\t\t\t'</div>' + \r\n\t\t\t\r\n\t\t\t'<span id=\"rev-cpicker-exit\" class=\"rev-cpicker-close\"></span>' + \r\n\t\t\r\n\t\t'</div>' + \r\n\t\t\r\n\t\t'<div id=\"rev-cpicker-section-left\" class=\"rev-cpicker-section\">' + \r\n\t\t\t\r\n\t\t\t'<div id=\"rev-cpicker-body\">' + \r\n\t\t\t\r\n\t\t\t\t'<div id=\"rev-cpicker-colors\" class=\"rev-cpicker-type\">' + \r\n\t\t\t\t\t\r\n\t\t\t\t\t'<div class=\"rev-cpicker-column rev-cpicker-column-left\">\t' + \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t'<div class=\"rev-cpicker-column-inner-left\">' + \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'<div class=\"rev-cpicker-presets\">' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<span id=\"rev-cpicker-colors-core-btn\" class=\"rev-cpicker-preset-title rev-cpicker-preset-title-core selected\">' + \r\n\t\t\t\t\t\t\t\t\t'<span data-text=\"core_presets\"></span> ' + \r\n\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-arrow rev-cpicker-arrow-down\"></span>' + \r\n\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-arrow rev-cpicker-arrow-up\"></span>' + \r\n\t\t\t\t\t\t\t\t'</span>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<span id=\"rev-cpicker-colors-custom-btn\" class=\"rev-cpicker-preset-title rev-cpicker-preset-title-custom\">' + \r\n\t\t\t\t\t\t\t\t\t'<span data-text=\"custom_presets\"></span> ' + \r\n\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-arrow rev-cpicker-arrow-down\"></span>' + \r\n\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-arrow rev-cpicker-arrow-up\"></span>' + \r\n\t\t\t\t\t\t\t\t'</span>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-colors-core\" class=\"rev-cpicker-presets-group\"></div>' + \r\n\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-colors-custom\" class=\"rev-cpicker-presets-group rev-cpicker-presets-custom\"></div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'<div class=\"rev-cpicker-iris\">' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<input id=\"rev-cpicker-iris-color\" class=\"rev-cpicker-iris-input\" value=\"#ffffff\" />' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-scroller\" class=\"iris-slider iris-strip\">' +\r\n\t\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-scroll-bg\"></div>' + \r\n\t\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-scroll\" class=\"iris-slider-offset\"></div>' +\r\n\t\t\t\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\r\n\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\r\n\t\t\t\t\t'<div class=\"rev-cpicker-column rev-cpicker-column-right\">' + \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t'<div class=\"rev-cpicker-column-inner-right\">' + \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'<div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<span data-text=\"save_a_new_preset\"></span>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<div class=\"rev-cpicker-presets-save-as\">' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'<input type=\"text\" class=\"rev-cpicker-preset-save\" placeholder=\"\" data-placeholder=\"enter_a_name\" />' + \r\n\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-btn rev-cpicker-save-preset-btn\" data-alert=\"naming_error\">' + \r\n\t\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-save-icon\"></span>' + \r\n\t\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-preset-save-text\" data-text=\"save\"></span>' + \r\n\t\t\t\t\t\t\t\t\t'</span>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'<div class=\"rev-cpicker-meta\">' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<span data-text=\"color_hex_value\"></span>' + \r\n\t\t\t\t\t\t\t\t'<br>' + \r\n\t\t\t\t\t\t\t\t'<input type=\"text\" id=\"rev-cpicker-color-hex\" class=\"rev-cpicker-input rev-cpicker-hex\" value=\"#ffffff\" />' + \r\n\t\t\t\t\t\t\t\t'<br>' + \r\n\t\t\t\t\t\t\t\t'<span data-text=\"opacity\" class=\"rev-cpicker-hideable\"></span>' +\r\n\t\t\t\t\t\t\t\t'<br>' + \r\n\t\t\t\t\t\t\t\t'<input type=\"text\" id=\"rev-cpicker-color-opacity\" class=\"rev-cpicker-input rev-cpicker-opacity-input rev-cpicker-hideable\" value=\"100%\" />' + \r\n\t\t\t\t\t\t\t\t'<span id=\"rev-cpciker-clear-hex\" class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpciker-clear rev-cpicker-hideable\" data-text=\"clear\"></span>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\r\n\t\t\t\t\t'</div>' + \r\n\r\n\t\t\t\t'</div>' + \r\n\t\t\t\t\r\n\t\t\t\t'<div id=\"rev-cpicker-gradients\" class=\"rev-cpicker-type\">' + \r\n\t\t\t\t\r\n\t\t\t\t\t'<div class=\"rev-cpicker-column rev-cpicker-column-left\">\t' + \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t'<div class=\"rev-cpicker-column-inner-left\">' + \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'<div class=\"rev-cpicker-presets\">' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<span id=\"rev-cpicker-gradients-core-btn\" class=\"rev-cpicker-preset-title rev-cpicker-preset-title-core selected\">' + \r\n\t\t\t\t\t\t\t\t\t'<span data-text=\"core_presets\"></span> ' + \r\n\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-arrow rev-cpicker-arrow-down\"></span>' + \r\n\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-arrow rev-cpicker-arrow-up\"></span>' + \r\n\t\t\t\t\t\t\t\t'</span>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<span id=\"rev-cpicker-gradients-custom-btn\" class=\"rev-cpicker-preset-title rev-cpicker-preset-title-custom\">' + \r\n\t\t\t\t\t\t\t\t\t'<span data-text=\"custom_presets\"></span> ' + \r\n\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-arrow rev-cpicker-arrow-down\"></span>' + \r\n\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-arrow rev-cpicker-arrow-up\"></span>' + \r\n\t\t\t\t\t\t\t\t'</span>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-gradients-core\" class=\"rev-cpicker-presets-group\"></div>' + \r\n\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-gradients-custom\" class=\"rev-cpicker-presets-group rev-cpicker-presets-custom\"></div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'<div class=\"rev-cpicker-gradient-block\">' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-gradient-input\" class=\"rev-cpicker-gradient-builder\">' + \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'<span id=\"rev-cpicker-hit-top\" class=\"rev-cpicker-builder-hit\"></span>' +  \r\n\t\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-point-wrap\">' + \r\n\t\t\t\t\t\t\t\t\t\t'<div id=\"rev-cpciker-point-container\"></div>' + \r\n\t\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\t'<span id=\"rev-cpicker-hit-bottom\" class=\"rev-cpicker-builder-hit\"></span>' +  \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<div class=\"rev-cpicker-meta-row-wrap\">' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'<div class=\"rev-cpicker-meta-row\">' + \r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t'<div><label data-text=\"opacity\"></label><input type=\"text\" id=\"rev-cpicker-grad-opacity\" class=\"rev-cpicker-point-input rev-cpicker-opacity-input\" value=\"100%\" disabled /></div>' + \r\n\t\t\t\t\t\t\t\t\t\t'<div><label data-text=\"location\"></label><input type=\"text\" id=\"rev-cpicker-opacity-location\" class=\"rev-cpicker-point-input rev-cpicker-point-location\" value=\"100%\" disabled /></div>' + \r\n\t\t\t\t\t\t\t\t\t\t'<div><label>&nbsp;</label><span class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpicker-point-delete\" id=\"rev-cpicker-opacity-delete\" data-text=\"delete\">{{delete}}</span></div>' + \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'<div class=\"rev-cpicker-meta-row\">' + \r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t'<div><label data-text=\"color\"></label><span class=\"rev-cpicker-point-input\" id=\"rev-cpicker-color-box\"></span></div>' + \r\n\t\t\t\t\t\t\t\t\t\t'<div><label data-text=\"location\"></label><input type=\"text\" id=\"rev-cpicker-color-location\" class=\"rev-cpicker-point-input rev-cpicker-point-location\" value=\"100%\" disabled /></div>' + \r\n\t\t\t\t\t\t\t\t\t\t'<div><label>&nbsp;</label><span class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpicker-point-input rev-cpicker-point-delete\" id=\"rev-cpicker-color-delete\" data-text=\"delete\">{{delete}}</span></div>' + \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\r\n\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\r\n\t\t\t\t\t'<div class=\"rev-cpicker-column rev-cpicker-column-right\">' + \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t'<div class=\"rev-cpicker-column-inner-right\">' + \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'<div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<span data-text=\"save_a_new_preset\"></span>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<div class=\"rev-cpicker-presets-save-as\">' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'<input type=\"text\" class=\"rev-cpicker-preset-save\" placeholder=\"\" data-placeholder=\"enter_a_name\" />' + \r\n\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-btn rev-cpicker-save-preset-btn\" data-alert=\"naming_error\">' + \r\n\t\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-save-icon\"></span>' + \r\n\t\t\t\t\t\t\t\t\t\t'<span class=\"rev-cpicker-preset-save-text\" data-text=\"save\"></span>' + \r\n\t\t\t\t\t\t\t\t\t'</span>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'<div class=\"rev-cpicker-gradient-block\">' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-gradient-output\" class=\"rev-cpicker-gradient-builder\"></div>' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t'<div class=\"rev-cpicker-meta-row-wrap\">' + \r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'<div class=\"rev-cpicker-meta-row\">' + \r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t'<div><label>Orientation</label>' + \r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\t'<span id=\"rev-cpicker-orientation-horizontal\" class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpicker-orientation\" data-direction=\"90\" data-text=\"horizontal\"></span>' + \r\n\t\t\t\t\t\t\t\t\t\t\t'<span id=\"rev-cpicker-orientation-vertical\" class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpicker-orientation\" data-direction=\"180\" data-text=\"vertical\"></span>' + \r\n\t\t\t\t\t\t\t\t\t\t\t'<span id=\"rev-cpicker-orientation-radial\" class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpicker-orientation\" data-direction=\"radial\" data-text=\"radial\"></span>' + \r\n\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'<div class=\"rev-cpicker-meta-row rev-cpicker-meta-row-push\">' + \r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t'<div>' + \r\n\t\t\t\t\t\t\t\t\t\t\t'<label data-text=\"enter_angle\"></label>' + \r\n\t\t\t\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-angle-container\">' + \r\n\t\t\t\t\t\t\t\t\t\t\t\t'<input type=\"text\" class=\"rev-cpicker-input\" id=\"rev-cpicker-meta-angle\" value=\"\" />' + \r\n\t\t\t\t\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-wheel\">' + \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t'<div id=\"rev-cpicker-wheel-inner\"><span id=\"rev-cpicker-wheel-point\"></span></div>' + \r\n\t\t\t\t\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\t\t'<div><label data-text=\"reverse_gradient\"></label><span id=\"rev-cpicker-meta-reverse\"></span></div>' + \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t'</div>' + \r\n\t\t\t\t\r\n\t\t\t\t\t'</div>' + \r\n\t\t\t\t\r\n\t\t\t\t'</div>' + \r\n\t\t\t\r\n\t\t\t'</div>' + \r\n\t\t\r\n\t\t'</div>' + \r\n\t\t\r\n\t\t'<span id=\"rev-cpicker-check\"></span>' + \r\n\t\t\r\n\t\t'<div id=\"rev-cpicker-section-right\" class=\"rev-cpicker-section\">' + \r\n\t\t\r\n\t\t\t'<div class=\"rev-cpicker-iris\">' + \r\n\t\t\t\t\t\t\t\r\n\t\t\t\t'<input id=\"rev-cpicker-iris-gradient\" class=\"rev-cpicker-iris-input\" value=\"#ffffff\" />' + \r\n\t\t\t\r\n\t\t\t'</div>' + \r\n\t\t\t\r\n\t\t\t'<div class=\"rev-cpicker-fields\">' + \r\n\t\t\t\r\n\t\t\t\t'<input type=\"text\" id=\"rev-cpicker-gradient-hex\" class=\"rev-cpicker-input rev-cpicker-hex\" value=\"#ffffff\" />' + \r\n\t\t\t\t'<span id=\"rev-cpciker-clear-gradient\" class=\"rev-cpicker-btn rev-cpicker-btn-small rev-cpciker-clear\" data-text=\"clear\"></span>' + \r\n\t\t\t\t'<span id=\"rev-cpicker-check-gradient\" class=\"rev-cpicker-btn\"></span>' + \r\n\t\t\t\t\r\n\t\t\t'</div>' + \r\n\t\t\r\n\t\t'</div>' + \r\n\t\t\r\n\t\t'<span id=\"rev-cpicker-remove-delete\" data-text=\"delete_confirm\"></span>' + \r\n\r\n\t'</div>';\r\n\t\r\n\tfunction changeDegree(grad, deg) {\r\n\t\t\r\n\t\tgrad = grad.split('(');\r\n\t\t\r\n\t\tvar begin = grad[0];\r\n\t\tgrad.shift();\r\n\t\t\r\n\t\tvar end = grad.join('(').split(',');\t\r\n\t\tend.shift();\r\n\t\t\r\n\t\tdeg = typeof deg !== 'undefined' ? deg + 'deg,' : 'ellipse at center,';\r\n\t\treturn begin + '(' + deg + end.join(',');\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction gradientView(val) {\r\n\r\n\t\treturn changeDegree(val.replace('radial-', 'linear-'), '90');\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction replaceText() {\r\n\t\t\r\n\t\tthis.innerHTML = curLanguage[getAttribute(this, 'data-text')];\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction replaceHolder() {\r\n\t\t\r\n\t\tthis.setAttribute('placeholder', curLanguage[getAttribute(this, 'data-placeholder')]);\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction replaceAlert() {\r\n\t\t\r\n\t\tthis.setAttribute('data-message', curLanguage[getAttribute(this, 'data-alert')]);\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction getAttribute(el, attr) {\r\n\t\t\r\n\t\treturn el.getAttribute(attr) || '';\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction writeLanguage(language) {\r\n\t\t\r\n\t\tif(!language) language = {};\r\n\t\tif(typeof language === 'string') language = JSON.parse(language.replace(/\\&/g, '\"'));\r\n\t\t\r\n\t\tcurLanguage = $.extend({}, lang, language);\r\n\t\tlangColor = curLanguage.color;\r\n\t\t\r\n\t\tcPicker.find('*[data-placeholder]').each(replaceHolder);\r\n\t\tcPicker.find('*[data-alert]').each(replaceAlert);\r\n\t\tcPicker.find('*[data-text]').each(replaceText);\r\n\t\t\t\r\n\t}\r\n\t\r\n\tfunction newPreset(val, core, cls, grad) {\r\n\t\t\r\n\t\tvar titl,\r\n\t\t\tobj,\r\n\t\t\tel;\r\n\t\t\r\n\t\tif(!$.isPlainObject(val)) {\r\n\t\t\t\r\n\t\t\ttitl = val;\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tvar angl,\r\n\t\t\t\ttpe;\r\n\t\t\t\r\n\t\t\tfor(var prop in val) {\r\n\t\t\t\t\r\n\t\t\t\tif(!val.hasOwnProperty(prop)) continue;\r\n\t\t\t\t\r\n\t\t\t\tval = val[prop];\r\n\t\t\t\tif(typeof val === 'string') {\r\n\t\t\t\t\t\r\n\t\t\t\t\tval = RevColor.process(val);\r\n\t\t\t\t\tif(val[1] === 'gradient') {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tobj = val[2];\r\n\t\t\t\t\t\tangl = obj.angle;\r\n\t\t\t\t\t\ttpe = obj.type;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tval = val[0];\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t\r\n\t\t\t\t\tangl = val.angle;\r\n\t\t\t\t\ttpe = val.type;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(!isNaN(prop)) {\r\n\t\t\t\t\t\r\n\t\t\t\t\ttitl = tpe !== 'radial' ? angl + '&deg;' : 'radial';\r\n\t\t\t\t\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t\telse {\r\n\t\t\t\t\t\r\n\t\t\t\t\ttitl = prop.replace(/_/g, ' ').replace(/\\b\\w/g, function(chr) {return chr.toUpperCase();});\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(val !== 'blank') {\r\n\t\t\t\r\n\t\t\tvar datas;\r\n\t\t\tif($.isPlainObject(val)) {\r\n\t\t\t\t\r\n\t\t\t\tobj = val;\r\n\t\t\t\tdatas = '';\r\n\t\t\t\tval = grad || RevColor.processGradient(val); \r\n\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar shell = '<span class=\"rev-cpicker-color tptip' + cls + '\" data-title=\"' + titl + '\" data-color=\"' + val + '\">' + \r\n\t\t\t\t\t    '<span class=\"rev-cpicker-preset-tile\"></span>' + \r\n\t\t\t\t\t    '<span class=\"rev-cpicker-preset-bg\" style=\"background: ' + val + '\"></span>';\r\n\t\t\t\r\n\t\t\tif(!core) shell += '<span class=\"rev-cpicker-delete\"><span class=\"rev-cpicker-delete-icon\"></span></span>';\r\n\t\t\tshell += '</span>';\r\n\t\t\t\r\n\t\t\tel = $(shell);\r\n\t\t\tif(obj) el.data('gradient', obj);\r\n\t\t\treturn el[0];\r\n\t\t\t\t   \r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tel = document.createElement('span');\r\n\t\t\tel.className = 'rev-cpicker-color blank';\r\n\t\t\treturn el;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction checkPreset() {\r\n\t\t\r\n\t\tvar presetColor = getAttribute(this, 'data-color').toLowerCase(),\r\n\t\ttoCheck = !supressCheck ? presetColor === openingColor.toLowerCase() : false;\r\n\t\t\r\n\t\tif(presetColor === selectedHex || toCheck) {\r\n\t\t\t\r\n\t\t\tvar $this = $(this);\r\n\t\t\t\r\n\t\t\t$this.closest('.rev-cpicker-presets-group').find('.rev-cpicker-color.selected').removeClass('selected');\r\n\t\t\tselectedColor = $this;\r\n\t\t\t\r\n\t\t\tif(supressCheck && !colorView) setValue(selectedColor.data('gradient'), true);\r\n\t\t\tselectedColor.addClass('selected');\r\n\r\n\t\t\treturn false;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction writePresets(container, colors) {\r\n\t\t\r\n\t\tvar frag = document.createDocumentFragment(),\r\n\t\t\tcore = container.search('core') !== -1,\r\n\t\t\tcls = core ? '' : ' rev-picker-color-custom',\r\n\t\t\tlen = colors.length,\r\n\t\t\tminRows = container.search('colors') !== -1 ? minColorRows : minGradRows,\r\n\t\t\trows = Math.max(Math.ceil(len / presetColumns), minRows);\r\n\t\t\r\n\t\tfor(var i = 0; i < rows; i++) {\r\n\t\t\r\n\t\t\twhile(colors.length < ((i + 1) * presetColumns)) colors[colors.length] = 'blank';\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\tlen = colors.length;\r\n\t\tfor(i = 0; i < len; i++) {\r\n\r\n\t\t\tfrag.appendChild(newPreset(colors[i], core, cls));\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn ['rev-cpicker-' + container, frag];\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction onChange(gradient, color, trans) {\r\n\t\t\r\n\t\tif(!currentColor) return;\r\n\t\tif(!gradient) {\r\n\t\t\t\t\r\n\t\t\tvar hex = color || colorHex.val(),\r\n\t\t\t\topacity = typeof trans !== 'undefined' ? trans : colorOpacity.val();\r\n\t\t\t\r\n\t\t\tif(hex === 'transparent') color = 'transparent';\r\n\t\t\telse if(opacity === '100%') color = RevColor.sanitizeHex(hex);\r\n\t\t\telse color = RevColor.processRgba(hex, opacity);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tvar isTrans = color === 'transparent',\r\n\t\t\tval = !isTrans ? color : '';\r\n\t\t\r\n\t\tif(!gradient) colorBtn.data('state', color);\r\n\t\telse gradBtn.data('state', color);\r\n\t\t\r\n\t\tif(!isTrans) currentColor[0].style.background = val;\r\n\t\telse currentColor.css('background', val);\r\n\t\t\r\n\t\tif(onEdit) onEdit(currentInput, color);\r\n\t\tdoc.trigger('revcolorpickerupdate', [currentInput, color]);\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction setValue(val, fromPreset) {\r\n\t\t\r\n\t\tvar obj = RevColor.process(val),\r\n\t\t\ttype = obj[1],\r\n\t\t\tclr = obj[0];\r\n\t\t\r\n\t\tif(isFull) reverse.removeClass('checked');\r\n\t\tif(type !== 'gradient') {\r\n\t\t\t\r\n\t\t\tswitch(type) {\r\n\t\t\t\t\r\n\t\t\t\tcase 'hex':\r\n\t\t\t\t\t\r\n\t\t\t\t\tval = RevColor.sanitizeHex(clr);\r\n\t\t\t\t\tcolorOpacity.val('100%');\r\n\t\t\t\t\tupdateSlider(100);\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase 'rgba': \r\n\t\t\t\t\t\r\n\t\t\t\t\tvar values = RevColor.rgbaToHex(clr),\r\n\t\t\t\t\topacity = parseInt(values[1] * 100, 10);\r\n\t\t\t\t\tval = values[0];\r\n\t\r\n\t\t\t\t\tcolorOpacity.val(opacity + '%');\r\n\t\t\t\t\tupdateSlider(opacity);\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase 'rgb':\r\n\t\t\t\t\t\r\n\t\t\t\t\tval = RevColor.rgbToHex(clr);\r\n\t\t\t\t\tcolorOpacity.val('100%');\r\n\t\t\t\t\tupdateSlider(100);\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tdefault:\r\n\t\t\t\t\r\n\t\t\t\t\tcolorClear.click();\r\n\t\t\t\t\tcolorBtn.click();\r\n\t\t\t\t\r\n\t\t\t\t// end default\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcolorIris.val(val).change();\r\n\t\t\tif(!fromPreset) colorBtn.click();\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tif(isFull) {\r\n\t\t\t\t\r\n\t\t\t\tbuildGradientInput(obj[2]);\r\n\t\t\t\tbuildGradientOutput();\r\n\t\t\t\t\r\n\t\t\t\tif(!fromPreset) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tgradViewed = true;\r\n\t\t\t\t\tgradBtn.click();\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tcolorIris.val(RevColor.defaultValue).change();\r\n\t\t\t\tcolorBtn.click();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn [clr, type];\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction getSibling(align, x) {\r\n\t\t\r\n\t\tvar locations = points.slice(),\r\n\t\t\tlen = locations.length,\r\n\t\t\tpnt;\r\n\t\t\t\r\n\t\tlocations.sort(sortPoints);\r\n\t\twhile(len--) {\r\n\t\t\t\r\n\t\t\tpnt = locations[len];\r\n\t\t\tif(pnt.align === align && pnt.x < x) return pnt;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tlen = locations.length;\r\n\t\tfor(var i = 0; i < len; i++) {\r\n\t\t\t\r\n\t\t\tpnt = locations[i];\r\n\t\t\tif(pnt.align === align && pnt.x > x) return pnt;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction clonePoint(align, pos) {\r\n\t\t\r\n\t\tvar sibling = getSibling(align, pos),\r\n\t\t\tclr = sibling.color,\r\n\t\t\tbg = getBgVal(clr, align, true),\r\n\t\t\trgb = getRgbVal(clr, true);\r\n\t\t\r\n\t\tvar pnt = newPoint(align, pos, rgb, bg);\r\n\t\tif(curPoint) curPoint.removeClass('active');\r\n\t\t\r\n\t\tcurPoint = $(pnt).addClass('active').appendTo(pointerWrap).draggable(dragObj);\r\n\t\tcurSquare = curPoint.children('.rev-cpicker-point-square')[0];\r\n\t\tcurCorner = curPoint.children('.rev-cpicker-point-triangle')[0];\r\n\t\tgroupPoints = pointerWrap.children();\r\n\t\t\r\n\t\tvar grad = activatePoint(pos);\r\n\t\tbuildGradientOutput(pnt);\r\n\t\t\r\n\t\tif(align === 'bottom') gradIris.val(grad[1]).change();\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction activatePoint(pointX) {\r\n\t\t\r\n\t\tif(typeof pointX === 'undefined') pointX = points[pointIndex].x;\r\n\t\t\r\n\t\tvar color = curPoint.attr('data-color'),\r\n\t\t\tbottom = curPoint.hasClass('rev-cpicker-point-bottom');\r\n\t\t\r\n\t\tif(bottom) {\r\n\t\t\t\t\r\n\t\t\tif(opacityDelete.hasClass('active')) {\r\n\t\t\t\t\r\n\t\t\t\tgradOpacity.attr('disabled', 'disabled');\r\n\t\t\t\topacityLoc.attr('disabled', 'disabled');\r\n\t\t\t\topacityDelete.removeClass('active');\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcolor = RevColor.rgbaToHex(color)[0];\r\n\t\t\tcolorBox.css('background', color);\r\n\t\t\tcolorLoc.removeAttr('disabled').val(pointX + '%');\r\n\t\t\t\r\n\t\t\tif(cPicker.find('.rev-cpicker-point-bottom').length > 2) {\t\r\n\t\t\t\tcolorDelete.addClass('active');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcPicker.addClass('open');\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tif(colorDelete.hasClass('active')) {\r\n\t\t\t\r\n\t\t\t\tcolorBox.css('background', '');\r\n\t\t\t\tcolorLoc.attr('disabled', 'disabled');\r\n\t\t\t\tcolorDelete.removeClass('active');\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar opacity = RevColor.getOpacity(color);\r\n\t\t\tgradOpacity.attr('data-opacity', opacity).val(opacity).removeAttr('disabled');\r\n\t\t\topacityLoc.val(pointX + '%').removeAttr('disabled');\r\n\t\t\t\r\n\t\t\tif(cPicker.find('.rev-cpicker-point-top').length > 2) {\t\r\n\t\t\t\topacityDelete.addClass('active');\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcPicker.removeClass('open');\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn [bottom, color];\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction getBgVal(clr, align, cloned) {\r\n\t\t\r\n\t\tif(align === 'bottom') return 'rgb(' + clr.r + ',' + clr.g + ',' + clr.b + ')';\r\n\t\tvar opacity = !cloned ? clr.a : '1';\r\n\t\treturn 'rgba(0, 0, 0, ' + opacity + ')';\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction getRgbVal(clr, cloned) {\r\n\t\t\r\n\t\tvar opacity = !cloned ? clr.a : '1';\r\n\t\treturn 'rgba(' + clr.r + ',' + clr.g + ',' + clr.b + ',' + opacity + ')';\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction setPoints(colors) {\r\n\t\t\r\n\t\tvar frag = document.createDocumentFragment(),\r\n\t\t\tlen = colors.length,\r\n\t\t\talign,\r\n\t\t\tclr;\t\r\n\t\t\t\r\n\t\tfor(var i = 0; i < len; i++) {\r\n\t\t\t\r\n\t\t\tclr = colors[i];\r\n\t\t\talign = clr.align;\r\n\t\t\tfrag.appendChild(\r\n\t\t\t\r\n\t\t\t\tnewPoint(\r\n\t\t\t\t\r\n\t\t\t\t\talign, \r\n\t\t\t\t\tclr.position, \r\n\t\t\t\t\tgetRgbVal(clr), \r\n\t\t\t\t\tgetBgVal(clr, align)\r\n\t\t\t\t\t\r\n\t\t\t\t)\r\n\t\t\t\t\r\n\t\t\t);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(groupPoints) groupPoints.draggable('destroy');\r\n\t\tpointerWrap.empty().append(frag);\r\n\t\tgroupPoints = pointerWrap.children().draggable(dragObj);\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction newPoint(align, pos, val, bg) {\r\n\t\t\r\n\t\tvar el = document.createElement('span');\r\n\t\tel.className = 'rev-cpicker-point rev-cpicker-point-' + align;\r\n\t\t\r\n\t\tif(typeof val === 'string') el.setAttribute('data-color', val);\r\n\t\telse $(el).data('gradient', val);\r\n\t\t\r\n\t\tel.setAttribute('data-location', pos);\r\n\t\tel.style.left = pos + '%';\r\n\t\t\r\n\t\tif(align === 'bottom') {\r\n\t\t\t\r\n\t\t\tel.innerHTML = \r\n\t\t\t'<span class=\"rev-cpicker-point-triangle\" style=\"border-bottom-color: ' + bg + '\"></span>' + \r\n\t\t\t'<span class=\"rev-cpicker-point-square\" style=\"background: ' + bg  +'\"></span>';\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\r\n\t\t\tel.innerHTML = \r\n\t\t\t'<span class=\"rev-cpicker-point-square\" style=\"background: ' + bg + '\"></span>' + \r\n\t\t\t'<span class=\"rev-cpicker-point-triangle\" style=\"border-top-color: ' + bg + '\"></span>';\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn el;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction getDegree(val) {\r\n\t\t\r\n\t\tif(!val || val === 'radial') val = '0';\r\n\t\ttextareas.innerHTML = val + '&deg;';\r\n\t\treturn textareas.value;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction deactivate() {\r\n\t\t\r\n\t\tif(curPoint) {\r\n\t\t\t\t\t\t\r\n\t\t\tcurPoint.removeClass('active');\r\n\t\t\tcurPoint = false;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tcolorLoc.attr('disabled', 'disabled');\r\n\t\tgradOpacity.attr('disabled', 'disabled');\r\n\t\topacityLoc.attr('disabled', 'disabled');\r\n\t\t\r\n\t\topacityDelete.removeClass('active');\r\n\t\tcolorDelete.removeClass('active');\r\n\t\t\r\n\t\tcolorBox.css('background', '');\r\n\t\tcPicker.removeClass('open');\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction onClose(e, changed) {\r\n\t\t\r\n\t\tcPicker.removeClass('active is-basic').hide();\r\n\t\tbodies.removeClass('rev-colorpicker-open');\r\n\t\tmainContainer.css({left: '', top: ''});\r\n\t\t\r\n\t\tif(appended) {\r\n\t\t\t\r\n\t\t\tappended.remove();\r\n\t\t\tappended = false;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(selectedColor) {\r\n\t\t\t\r\n\t\t\tif(selectedColor.hasClass('selected')) {\r\n\t\t\t\t\r\n\t\t\t\tif(changed) currentInput.data('hex', selectedColor.attr('data-color').toLowerCase());\t\r\n\t\t\t\tselectedColor.removeClass('selected');\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tcurrentInput.removeData('hex');\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tselectedColor = false;\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tcurrentInput.removeData('hex');\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(!changed) {\r\n\t\t\t\r\n\t\t\tif(onCancel) onCancel();\r\n\t\t\tif(openingValue && openingValue !== 'transparent') {\t\r\n\t\t\t\r\n\t\t\t\tcurrentColor[0].style.background = openingValue;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tcurrentColor.css('background', '');\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tdoc.trigger('revcolorpickerupdate', [currentInput, openingValue]);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tcurrentColor = false;\r\n\t\tcurrentInput = false;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction checkGroup() {\r\n\t\t\r\n\t\tvar $this = $(this),\r\n\t\t\tlen = $this.children('.rev-cpicker-color').not('.blank').length;\r\n\t\t\t\r\n\t\tif(len > presetColumns) $('#' + this.id + '-btn').addClass('multiplerows');\r\n\t\telse $('#' + this.id + '-btn').removeClass('multiplerows');\r\n\t\t\r\n\t\treturn len;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction checkRows() {\r\n\t\t\r\n\t\tvar $this = $(this),\r\n\t\t\tminRows = this.id.search('colors') !== -1 ? minColorRows : minGradRows,\r\n\t\t\tcolors = $this.children('.rev-cpicker-color'),\r\n\t\t\tlen = colors.length,\r\n\t\t\trows = Math.ceil(len / presetColumns),\r\n\t\t\tminItems = minRows * presetColumns,\r\n\t\t\trowRemoved;\t\r\n\t\t\r\n\t\tlen += 1;\t\r\n\t\tfor(var i = 0; i < rows; i++) {\r\n\t\t\t\r\n\t\t\tvar start = i * presetColumns,\r\n\t\t\t\trange = colors.slice(start, parseInt(start + presetColumns, 10) - 1);\r\n\t\t\t\r\n\t\t\tblankRow = true;\r\n\t\t\trange.each(checkRow);\r\n\t\t\tif(blankRow) {\r\n\t\t\t\t\r\n\t\t\t\tlen -= presetColumns;\r\n\t\t\t\tif(len >= minItems) {\r\n\t\t\t\t\t\r\n\t\t\t\t\trange.remove();\r\n\t\t\t\t\trowRemoved = true;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn rowRemoved;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction checkRow() {\r\n\t\t\t\t\r\n\t\tif(this.className.search('blank') === -1) {\r\n\t\t\t\r\n\t\t\tblankRow = false;\r\n\t\t\treturn false;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tfunction buildGradientInput(obj) {\r\n\t\t\r\n\t\tvar degree = obj.angle;\r\n\t\tif(obj.type === 'radial') degree = 'radial';\r\n\t\t\r\n\t\tdirections.removeClass('selected');\r\n\t\t$('.rev-cpicker-orientation[data-direction=\"' + degree + '\"]').addClass('selected');\r\n\t\t\r\n\t\tangle.val(getDegree(degree));\r\n\t\tupdateWheel(degree);\r\n\t\tsetPoints(obj.colors);\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction buildGradientOutput(el, revrse, save) {\r\n\t\t\r\n\t\tonReverse = revrse;\r\n\t\tcalculatePoints();\r\n\t\tonReverse = false;\r\n\t\t\r\n\t\tvar elm,\r\n\t\t\tcolor,\r\n\t\t\tpoint,\r\n\t\t\tar = [],\r\n\t\t\tlen = points.length;\r\n\t\t\r\n\t\tfor(var i = 0; i < len; i++) {\r\n\t\t\t\r\n\t\t\tpoint = points[i];\r\n\t\t\tcolor = point.color;\r\n\t\t\tar[i] = color;\r\n\t\t\t\r\n\t\t\telm = point.el;\r\n\t\t\telm.setAttribute('data-color', RevColor.rgbaString(color.r, color.g, color.b, color.a));\r\n\t\t\telm.setAttribute('data-opacity', color.a * 100);\r\n\t\t\t\r\n\t\t\tif(el && el === elm) pointIndex = i;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(!radial.hasClass('selected')) {\r\n\t\t\t\r\n\t\t\tgradientPreview.type = 'linear';\r\n\t\t\tgradientPreview.angle = parseInt(angle.val(), 10).toString();\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tgradientPreview.type = 'radial';\r\n\t\t\tgradientPreview.angle = '0';\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tgradientPreview.colors = ar;\r\n\t\tif(selectedColor) selectedColor.removeClass('selected');\r\n\t\t\r\n\t\tvar gradient = RevColor.processGradient(gradientPreview);\r\n\t\tonChange(true, gradient);\r\n\t\t\r\n\t\tif(!save) {\r\n\t\t\t\r\n\t\t\tgradInput.style.background = gradientView(gradient);\r\n\t\t\tgradOutput.style.background = gradient;\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\r\n\t\t\treturn [gradientPreview, gradient];\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction back(i, align) {\r\n\t\t\r\n\t\tif(i === 0) return false;\r\n\t\t\r\n\t\tvar pnt;\r\n\t\twhile(i--) {\r\n\t\t\t\t\r\n\t\t\tpnt = points[i];\r\n\t\t\tif(pnt.align !== align) return pnt;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction front(i, align, len) {\r\n\t\t\r\n\t\tif(i === len) return false;\r\n\t\t\r\n\t\tvar pnt;\r\n\t\twhile(i++ < len) {\r\n\t\t\t\t\r\n\t\t\tpnt = points[i];\r\n\t\t\tif(pnt.align !== align) return pnt;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\treturn false;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction dist(px, bx, ex, bv, ev) {\r\n\t\t\r\n\t\treturn Math.max(Math.min(Math.round(Math.abs((((px - bx) / (ex - bx)) * (ev - bv)) + bv)), 255), 0);\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction distAlpha(px, bx, ex, bv, ev) {\r\n\t\t\r\n\t\treturn Math.max(Math.min(Math.abs(parseFloat((((px - bx) / (ex - bx)) * (ev - bv)).toFixed(2)) + parseFloat(bv)), 1), 0);\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction adjustAlpha(point, begin, end) {\r\n\t\t\r\n\t\tvar val,\r\n\t\t\tbeginAlpha = begin.alpha,\r\n\t\t\tendAlpha = end.alpha;\r\n\t\t\t\r\n\t\tif(beginAlpha !== endAlpha) {\r\n\t\t\t\r\n\t\t\tval = distAlpha(point.x, begin.x, end.x, beginAlpha, endAlpha).toFixed(2);\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tval = beginAlpha;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpoint.alpha = val;\r\n\t\tpoint.color.a = val;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction adjustColor(point, begin, end) {\r\n\t\t\r\n\t\tvar p = point.color,\r\n\t\t\tbv = begin.color, \r\n\t\t\tev = end.color;\r\n\t\t\r\n\t\tif(begin !== end) {\r\n\t\t\t\t\t\r\n\t\t\tvar px = point.x,\r\n\t\t\t\tbx = begin.x, \r\n\t\t\t\tex = end.x;\r\n\t\t\t\r\n\t\t\tp.r = dist(px, bx, ex, bv.r, ev.r);\r\n\t\t\tp.g = dist(px, bx, ex, bv.g, ev.g);\r\n\t\t\tp.b = dist(px, bx, ex, bv.b, ev.b);\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tp.r = bv.r;\r\n\t\t\tp.g = bv.g;\r\n\t\t\tp.b = bv.b;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction calculatePoints() {\r\n\t\t\r\n\t\tpoints = [];\r\n\t\ttopPoints = [];\r\n\t\tbotPoints = [];\r\n\t\t\r\n\t\tgroupPoints.each(getPoints);\r\n\t\tpoints.sort(sortPoints);\r\n\t\t\r\n\t\tvar len = points.length,\r\n\t\t\tiLen = len - 1,\r\n\t\t\tpoint,\r\n\t\t\tbegin,\r\n\t\t\ttpe,\r\n\t\t\tend;\r\n\t\t\r\n\t\tfor(var i = 0; i < len; i++) {\r\n\t\t\t\r\n\t\t\tpoint = points[i];\r\n\t\t\ttpe = point.align;\r\n\t\t\t\r\n\t\t\tbegin = back(i, tpe);\r\n\t\t\tif(begin === false) begin = front(i, tpe, iLen);\r\n\t\t\t\r\n\t\t\tend = front(i, tpe, iLen);\r\n\t\t\tif(end === false) end = back(i, tpe);\r\n\t\t\t\r\n\t\t\tif(tpe === 'bottom') adjustAlpha(point, begin, end);\r\n\t\t\telse adjustColor(point, begin, end);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpoints.sort(sortPoints);\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction sortPoints(a, b) {\r\n\t\t\r\n\t\treturn a.x < b.x ? -1 : a.x > b.x ? 1 : 0;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction getPoints(i) {\r\n\t\t\r\n\t\tvar rgba = RevColor.rgbValues(getAttribute(this, 'data-color'), 4),\r\n\t\t\talign = this.className.search('bottom') !== -1 ? 'bottom' : 'top',\r\n\t\t\talpha = rgba[3].replace(/\\.?0*$/, '') || 0,\r\n\t\t\tpos = parseInt(this.style.left, 10);\r\n\t\t\r\n\t\tif(onReverse) {\r\n\t\r\n\t\t\tif(pos < 50) pos += (50 - pos) * 2;\r\n\t\t\telse pos -= (pos - 50) * 2;\t\t\r\n\t\t\t\r\n\t\t\tthis.style.left = pos + '%';\r\n\t\t\tthis.setAttribute('data-location', pos);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tpoints[i] = {\r\n\t\t\t\r\n\t\t\tel: this, \r\n\t\t\tx: pos,\r\n\t\t\talpha: alpha,\r\n\t\t\talign: align,\r\n\t\t\tcolor: {\r\n\t\t\t\t\r\n\t\t\t\tr: parseInt(rgba[0], 10),\r\n\t\t\t\tg: parseInt(rgba[1], 10),\r\n\t\t\t\tb: parseInt(rgba[2], 10),\r\n\t\t\t\ta: alpha,\r\n\t\t\t\tposition: pos,\r\n\t\t\t\talign: align\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t};\r\n\t\t\r\n\t\tif(curPoint && curPoint[0] !== this) {\r\n\t\t\t\r\n\t\t\tif(align === 'bottom') botPoints[botPoints.length] = pos;\r\n\t\t\telse topPoints[topPoints.length] = pos;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction updateWheel(val) {\r\n\t\t\r\n\t\tval = typeof val !== 'undefined' ? val : parseInt(angle.val(), 10);\r\n\t\twheelPoint[0].style.transform = 'rotate(' + val + 'deg)';\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction onAngleChange(e, dir, wheel) {\r\n\t\t\t\r\n\t\tvar isWheel = typeof wheel !== 'undefined',\r\n\t\t\tval = isWheel ? wheel : parseInt(angle.val(), 10),\r\n\t\t\tchanged,\r\n\t\t\tvalue;\r\n\t\t\r\n\t\tif(e && e.type === 'keyup') {\r\n\t\t\t\r\n\t\t\tchanged = !isNaN(val) && val >= -360 && val <= 360;\r\n\t\t\tvalue = val;\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tvar oValue = parseInt(angle.data('orig-value'), 10);\r\n\t\t\t\r\n\t\t\tif(!val) val = '0';\r\n\t\t\tif(isNaN(val) || val < -360 || val > 360) val = oValue;\r\n\t\t\tif(val !== oValue) {\r\n\t\t\t\t\r\n\t\t\t\tvalue = val;\r\n\t\t\t\tchanged = true;\r\n\t\t\t\tangle.val(getDegree(val));\r\n\t\t\t\r\n\t\t\t\tif(!isWheel) {\r\n\t\t\t\t\r\n\t\t\t\t\tval = dir || val;\r\n\t\t\t\t\tdirections.removeClass('selected');\r\n\t\t\t\t\t$('.rev-cpicker-orientation[data-direction=\"' + val + '\"]').addClass('selected');\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(changed || dir) {\r\n\t\t\t\t\r\n\t\t\tif(value) updateWheel(value);\r\n\t\t\tbuildGradientOutput();\r\n\t\t\t\r\n\t\t}\r\n\t\r\n\t}\r\n\t\r\n\tfunction onArrowClick() {\r\n\t\t\t\r\n\t\tvar $this = $(this);\r\n\t\t\r\n\t\tif(this.className.search('down') !== -1) {\r\n\t\t\t\r\n\t\t\t$this.parent().addClass('active');\r\n\t\t\t$this.closest('.rev-cpicker-presets').addClass('active');\r\n\t\t\t$(this.id.replace('-btn', '')).addClass('active');\r\n\t\t\tgradientsOpen = cPicker.hasClass('gradient-view');\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\t$this.parent().removeClass('active');\r\n\t\t\t$this.closest('.rev-cpicker-presets').removeClass('active');\r\n\t\t\t$(this.id.replace('-btn', '')).removeClass('active');\r\n\t\t\tgradientsOpen = false;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction onDrag(e, ui) {\r\n\t\t\r\n\t\tvar pos = parseInt((Math.round(ui.position.left) / (hitWidth - 2)).toFixed(2) * 100, 10);\r\n\t\tif(dragPoint === 'bottom') colorLoc.val(pos + '%').trigger('keyup');\r\n\t\telse opacityLoc.val(pos + '%').trigger('keyup');\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction onDragStart() {\r\n\t\t\r\n\t\tvar $this = $(this);\r\n\t\tdragPoint = $this.hasClass('rev-cpicker-point-bottom') ? 'bottom' : 'top';\t\r\n\t\t$this.click();\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction onDragStop() {\r\n\t\t\r\n\t\tif(dragPoint === 'bottom') colorLoc.trigger('focusout');\r\n\t\telse opacityLoc.trigger('focusout');\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction updateSlider(opacity) {\r\n\t\t\r\n\t\tsupressOpacity = true;\r\n\t\topacitySlider.slider('value', Math.round((opacity * 0.01) * sliderHeight));\r\n\t\tsupressOpacity = false;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction wheelMove(e) {\r\n\t\t\r\n\t\tvar offset = angleWheel.offset(),\r\n\t\t\tposX = e.pageX - offset.left,\r\n\t\t\tposY = e.pageY - offset.top;\r\n\t\t\r\n\t\tif(isNaN(posX) || isNaN(posY)) return;\r\n\t\t\r\n\t\tvar val = Math.atan2(posY - centerWheel, posX - centerWheel) * (180 / Math.PI) + 90;\r\n\t\tif(val < 0) val += 360;\r\n\t\t\r\n\t\tval = Math.max(0, Math.min(360, Math.round(val)));\r\n\t\tval = 5 * (Math.round(val / 5));\r\n\t\t\r\n\t\tsupressWheel = true;\r\n\t\tonAngleChange(false, false, val);\r\n\t\tsupressWheel = false;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction focusPatch(e) {\r\n\t\t\t\r\n\t\te.stopImmediatePropagation();\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction init() {\r\n\t\t\r\n\t\tif(!prepped) $.tpColorPicker();\r\n\t\t\r\n\t\tcurrentEditing = document.getElementById('rev-cpicker-current-edit');\r\n\t\tgradOutput = document.getElementById('rev-cpicker-gradient-output');\r\n\t\tgradInput = document.getElementById('rev-cpicker-gradient-input');\r\n\t\teditTitle = document.getElementById('rev-cpicker-edit-title');\r\n\t\ttextareas = document.createElement('textarea');\r\n\t\topacityDelete = $('#rev-cpicker-opacity-delete');\r\n\t\tpointerWrap = $('#rev-cpciker-point-container');\r\n\t\topacityLoc = $('#rev-cpicker-opacity-location');\r\n\t\tpresetGroups = $('.rev-cpicker-presets-group');\r\n\t\tcolorOpacity = $('#rev-cpicker-color-opacity');\r\n\t\tradial = $('#rev-cpicker-orientation-radial');\r\n\t\tcolorDelete = $('#rev-cpicker-color-delete');\r\n\t\tgradOpacity = $('#rev-cpicker-grad-opacity');\r\n\t\tcolorLoc = $('#rev-cpicker-color-location');\r\n\t\tgradCore = $('#rev-cpicker-gradients-core');\r\n\t\tdirections = $('.rev-cpicker-orientation');\r\n\t\tgradIris = $('#rev-cpicker-iris-gradient');\r\n\t\twheelPoint = $('#rev-cpicker-wheel-point');\r\n\t\tgradSection = $('#rev-cpicker-gradients');\r\n\t\tcolorIris = $('#rev-cpicker-iris-color');\r\n\t\tgradBtn = $('#rev-cpicker-gradient-btn');\r\n\t\tgradHex = $('#rev-cpicker-gradient-hex');\r\n\t\tcolorClear = $('#rev-cpciker-clear-hex');\r\n\t\treverse = $('#rev-cpicker-meta-reverse');\r\n\t\thitBottom = $('#rev-cpicker-hit-bottom');\r\n\t\topacitySlider = $('#rev-cpicker-scroll');\r\n\t\tcolorSection = $('#rev-cpicker-colors');\r\n\t\tcolorHex = $('#rev-cpicker-color-hex');\r\n\t\tcolorBtn = $('#rev-cpicker-color-btn');\r\n\t\tcolorBox = $('#rev-cpicker-color-box');\r\n\t\tangle = $('#rev-cpicker-meta-angle');\r\n\t\tangleWheel = $('#rev-cpicker-wheel');\r\n\t\thitTop = $('#rev-cpicker-hit-top');\r\n\t\tmainContainer = $('#rev-cpicker');\r\n\t\tdoc = $(document);\r\n\t\t\r\n\t\tdragObj.drag = onDrag;\r\n\t\tdragObj.stop = onDragStop;\r\n\t\tdragObj.start = onDragStart;\r\n\t\t\r\n\t\tcolorBtn.data('state', colorSection.find('.rev-cpicker-color').eq(0).attr('data-color') || '#ffffff');\r\n\t\tgradBtn.data('state', gradSection.find('.rev-cpicker-color').eq(0).attr('data-color') || 'linear-gradient(0deg, rgba(255, 255, 255, 1) 0%, rgba(0, 0, 0, 1) 100%)');\r\n\t\t\r\n\t\tmainContainer.draggable({containment: 'window', handle: '.rev-cpicker-draggable', stop: function() {\r\n\t\t\r\n\t\t\tmainContainer.css('height', 'auto');\r\n\t\t\t\r\n\t\t}});\r\n\t\t\r\n\t\tpresetGroups.perfectScrollbar({wheelPropagation: false, suppressScrollX: true});\r\n\t\t\r\n\t\tangleWheel.on('mousedown.revcpicker', function(e) {\r\n\t\t\t\r\n\t\t\tdirections.removeClass('selected');\r\n\t\t\twheelDown = true;\r\n\t\t\twheelMove(e);\r\n\t\t\t\r\n\t\t}).on('mousemove.revcpicker', function(e) {\r\n\t\t\t\r\n\t\t\tif(!wheelDown) return;\r\n\t\t\twheelMove(e);\r\n\t\t\t\r\n\t\t}).on('mouseleave.revcpicker mouseup.revcpicker', function() {\r\n\t\t\t\r\n\t\t\twheelDown = false;\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('.rev-cpicker-main-btn').on('click.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tvar $this,\r\n\t\t\t\tstate;\r\n\t\t\t\r\n\t\t\tcolorView = this.id.search('gradient') === -1;\r\n\t\t\tif(currentColor) {\r\n\t\t\t\t\r\n\t\t\t\t$this = $(this);\r\n\t\t\t\tstate = $this.data('state');\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(colorView) {\r\n\t\t\t\t\r\n\t\t\t\tif(currentColor) selectedHex = colorHex.val();\r\n\t\t\t\tcPicker.removeClass('gradient-view').addClass('color-view');\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tif(currentColor) selectedHex = state;\r\n\t\t\t\t\r\n\t\t\t\tcPicker.removeClass('color-view').addClass('gradient-view');\r\n\t\t\t\tif(!gradViewed) gradCore.children('.rev-cpicker-color').not('.blank').eq(0).click();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpresetGroups.perfectScrollbar('update');\r\n\t\t\tif(state) {\r\n\t\t\t\t\t\r\n\t\t\t\tvar isTrans = state === 'transparent',\r\n\t\t\t\t\tval = !isTrans ? state : '';\r\n\t\t\t\t\r\n\t\t\t\tif(!isTrans) currentColor[0].style.background = val;\r\n\t\t\t\telse currentColor.css('background', val);\r\n\t\t\t\t\r\n\t\t\t\tsupressCheck = true;\r\n\t\t\t\t$('.rev-cpicker-color').not('.blank').each(checkPreset);\r\n\t\t\t\tsupressCheck = false;\r\n\t\t\t\t\r\n\t\t\t\tdoc.trigger('revcolorpickerupdate', [currentInput, state]);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('#rev-cpicker-check').on('click.revcipicker', function() {\r\n\t\t\t\r\n\t\t\tvar ar,\r\n\t\t\t\tcolor,\r\n\t\t\t\tchanged;\r\n\t\t\t\r\n\t\t\tif(cPicker.hasClass('color-view')) {\r\n\t\t\t\t\r\n\t\t\t\tvar hex = colorHex.val(),\r\n\t\t\t\t\topacity = colorOpacity.val();\r\n\t\t\t\t\r\n\t\t\t\tcurrentInput.removeData('gradient');\r\n\t\t\t\tif(hex === 'transparent') color = 'transparent';\r\n\t\t\t\telse if(opacity === '100%') color = RevColor.sanitizeHex(hex);\r\n\t\t\t\telse color = RevColor.processRgba(hex, opacity);\r\n\t\t\t\tar = [currentInput, color, false];\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tdeactivate();\r\n\r\n\t\t\t\tvar grad = buildGradientOutput(false, false, true),\r\n\t\t\t\tobj = $.extend({}, grad[0]),\r\n\t\t\t\tclr = grad[1];\r\n\t\t\t\t\r\n\t\t\t\tcurrentInput.data('gradient', clr);\r\n\t\t\t\tcolor = JSON.stringify(obj).replace(/\\\"/g, '&');\r\n\t\t\t\tar = [currentInput, clr, obj];\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tchanged = ar[1] !== openingValue;\r\n\t\t\tif(changed) {\r\n\t\t\t\t\r\n\t\t\t\tcurrentInput.attr('data-color', ar[1]).val(color).change();\r\n\t\t\t\tdoc.trigger('revcolorpicker', ar);\r\n\t\t\t\tif(changeCallback) changeCallback(ar[0], ar[1], ar[2]);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tonClose(false, changed);\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\tcPicker.on('click.revcpicker', function(e) {\r\n\t\t\t\r\n\t\t\tif(cPicker.hasClass('open')) {\r\n\t\t\t\t\r\n\t\t\t\tvar targt = e.target,\r\n\t\t\t\t\t$this = $(targt),\r\n\t\t\t\t\tids = targt.id,\r\n\t\t\t\t\tisTarget = targt.className.search('rev-cpicker-point') !== -1 || \r\n\t\t\t\t\t\t       ids === 'rev-cpicker-section-right' || ids.search('hit') !== -1 || \r\n\t\t\t\t\t\t       $this.closest('#rev-cpicker-section-right, #rev-cpicker-point-wrap').length;\r\n\t\t\t\t\r\n\t\t\t\tif(isTarget) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif($this.attr('type') === 'text') {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tisTarget = !$this.attr('disabled');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if(ids === 'rev-cpicker-check-gradient') {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tisTarget = false;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(!isTarget) deactivate();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse if(wheelActive && /wheel|angle|reverse/.test(e.target.id) === false) {\r\n\t\t\t\t\r\n\t\t\t\tif(e.target.id.search('radial') === -1) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t$('.rev-cpicker-orientation[data-direction=\"' + parseInt(angle.val()) + '\"]').addClass('selected');\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tangleWheel.removeClass('active');\r\n\t\t\t\twheelActive = false;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('.rev-cpicker-close').on('click.revcpicker', onClose);\r\n\t\t\r\n\t\tcolorIris.wpColorPicker({palettes: false, width: 267, border: false, hide: false, change: function(e, ui) {\r\n\t\t\t\r\n\t\t\tvar val = ui.color.toString();\r\n\t\t\tthis.value = val;\r\n\t\t\t\r\n\t\t\tcolorHex.val(val);\r\n\t\t\tif(!supressColor) {\r\n\t\t\t\t\r\n\t\t\t\tvar opacity = colorOpacity.val();\r\n\t\t\t\tif(parseInt(opacity, 10) === 0) val = 'transparent';\r\n\t\t\t\tonChange(false, val, opacity);\r\n\t\t\t\t\r\n\t\t\t\tif(selectedColor) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tselectedColor.removeClass('selected');\r\n\t\t\t\t\tselectedColor = false;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}});\r\n\t\t\r\n\t\tgradIris.wpColorPicker({palettes: false, height: 250, border: false, hide: false, change: function(e, ui) {\r\n\t\t\t\r\n\t\t\tvar val = ui.color.toString();\r\n\t\t\tthis.value = val;\r\n\t\t\t\t\r\n\t\t\tgradHex.val(val);\r\n\t\t\tcolorBox.css('background', val);\r\n\t\t\tcurSquare.style.backgroundColor = val;\r\n\t\t\tcurCorner.style.borderBottomColor = val;\r\n\t\t\t\r\n\t\t\tvar rgba = RevColor.processRgba(val, 100),\r\n\t\t\t\tparsed = RevColor.rgbValues(rgba, 4),\r\n\t\t\t\tcolor = gradientPreview.colors[pointIndex];\r\n\t\t\t\r\n\t\t\tcolor.r = parsed[0];\r\n\t\t\tcolor.g = parsed[1];\r\n\t\t\tcolor.b = parsed[2];\r\n\t\t\tcolor.a = parsed[3];\r\n\t\t\t\r\n\t\t\tcurPoint.attr('data-color', rgba);\r\n\t\t\tbuildGradientOutput();\r\n\t\t\t\r\n\t\t}});\r\n\t\t\r\n\t\topacitySlider.slider({orientation: 'vertical', max: sliderHeight, value: sliderHeight, \r\n\t\t\r\n\t\t\tstart: function() {\r\n\t\t\t\r\n\t\t\t\tisTransparent = colorHex.val() === 'transparent';\r\n\t\t\t\r\n\t\t\t}, \r\n\t\t\t\r\n\t\t\tslide: function(e, ui) {\r\n\t\t\t\r\n\t\t\t\tif(!supressOpacity) {\r\n\t\t\t\t\r\n\t\t\t\t\tvar opacity = parseInt((ui.value / sliderHeight).toFixed(2) * 100, 10),\r\n\t\t\t\t\t\tval;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(isTransparent) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tval = opacity ? '#ffffff' : 'transparent';\r\n\t\t\t\t\t\tcolorHex.val(val);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(opacity === 0) val = 'transparent';\r\n\t\t\t\t\tonChange(false, val, opacity || 'transparent');\r\n\t\t\t\t\tcolorOpacity.val(opacity + '%');\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('.rev-cpicker-point-location').on('keyup.revcpicker focusout.revcpicker', function(e) {\r\n\t\t\t\r\n\t\t\tif(!curPoint) return;\r\n\t\t\t\r\n\t\t\tvar align = curPoint.hasClass('rev-cpicker-point-bottom') ? 'bottom' : 'top',\r\n\t\t\t\tlocations = align === 'bottom' ? botPoints : topPoints,\r\n\t\t\t\tinput = align === 'bottom' ? colorLoc : opacityLoc,\r\n\t\t\t\tpoint = input.val().replace('%', '') || '0',\r\n\t\t\t\tevt = e.type,\r\n\t\t\t\tdir;\r\n\t\t\t\r\n\t\t\tif(isNaN(point)) point = evt === 'keyup' ? '0' : curPoint.attr('data-location');\r\n\t\t\tpoint = Math.max(0, Math.min(100, parseInt(point, 10)));\r\n\t\t\t\r\n\t\t\tdir = point < 50 ? 1 : -1;\r\n\t\t\t\r\n\t\t\twhile(locations.indexOf(point) !== -1) point += dir;\r\n\t\t\t\r\n\t\t\tif(evt === 'focusout') {\r\n\t\t\t\t\r\n\t\t\t\tinput.val(point + '%');\r\n\t\t\t\tcurPoint.attr('data-location', point);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcurPoint.css('left', point + '%');\r\n\t\t\tbuildGradientOutput();\r\n\t\t\t\r\n\t\t}).on('focusin.revcpicker', focusPatch);\r\n\t\t\r\n\t\t$('body').on('click.revcpicker', '.rev-cpicker-point', function() {\r\n\t\t\t\r\n\t\t\tpointerWrap.find('.rev-cpicker-point.active').removeClass('active');\r\n\t\t\tcurPoint = $(this).addClass('active');\r\n\t\t\t\r\n\t\t\tcurSquare = curPoint.children('.rev-cpicker-point-square')[0];\r\n\t\t\tcurCorner = curPoint.children('.rev-cpicker-point-triangle')[0];\r\n\t\t\t\r\n\t\t\tbuildGradientOutput(this);\r\n\t\t\tselectedColor = false;\r\n\t\t\t\r\n\t\t\tvar grad = activatePoint();\r\n\t\t\tif(grad[0]) gradIris.val(grad[1]).change();\r\n\t\t\t\r\n\t\t}).on('mousedown.revcpicker', '.rev-cpicker-point', function(e) {\r\n\t\t\t\r\n\t\t\tcurPoint = $(this).data('mousestart', e.pageY);\r\n\t\t\t\r\n\t\t}).on('mousemove.revcpicker', function(e) {\r\n\t\t\t\r\n\t\t\tif(!curPoint || !curPoint.data('mousestart')) return;\r\n\t\t\t\r\n\t\t\tvar start = curPoint.data('mousestart'),\r\n\t\t\t\tposY = e.pageY;\r\n\t\t\t\t\r\n\t\t\tif(curPoint.hasClass('rev-cpicker-point-bottom')) {\r\n\t\t\t\t\r\n\t\t\t\tif(posY > start && posY - start > warningBuffer && colorDelete.hasClass('active')) {\r\n\t\t\t\t\tcurPoint.addClass('warning');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tcurPoint.removeClass('warning');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tif(start > posY && start - posY > warningBuffer && opacityDelete.hasClass('active')) {\r\n\t\t\t\t\tcurPoint.addClass('warning');\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tcurPoint.removeClass('warning');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}).on('mouseup.revcpicker', function(e) {\r\n\t\t\t\r\n\t\t\tif(!curPoint || !curPoint.data('mousestart')) return;\r\n\t\t\t\r\n\t\t\tvar start = curPoint.data('mousestart'),\r\n\t\t\t\tend = e.pageY;\r\n\t\t\t\t\r\n\t\t\tcurPoint.removeData('mousestart');\r\n\t\t\tif(curPoint.hasClass('rev-cpicker-point-bottom')) {\r\n\t\t\t\t\r\n\t\t\t\tif(end > start && end - start > deleteBuffer && colorDelete.hasClass('active')) {\r\n\t\t\t\t\tcolorDelete.click();\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tcurPoint.removeClass('warning');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tif(start > end && start - end > deleteBuffer && opacityDelete.hasClass('active')) {\r\n\t\t\t\t\topacityDelete.click();\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tcurPoint.removeClass('warning');\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}).on('change.revcpicker', '.rev-cpicker-component', function() {\r\n\t\t\t\r\n\t\t\tvar $this = $(this),\r\n\t\t\t\tval = $this.data('gradient') || $this.val() || 'transparent';\r\n\t\t\t\r\n\t\t\tif(val === 'transparent' || RevColor.transparentRgba(val)) val = '';\r\n\t\t\t$this.data('tpcp').css('background', val);\r\n\t\t\t\r\n\t\t}).on('keypress.revcpicker', function(e) {\r\n\t\t\t\r\n\t\t\tif(cPicker.hasClass('active')) {\r\n\t\t\t\r\n\t\t\t\tvar key = e.which;\r\n\t\t\t\tif(key == 27) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tonClose();\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse if(key == 13 && inFocus) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tinFocus.blur();\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}).on('click.revcpicker', '.rev-cpicker-color:not(.blank)', function() {\r\n\t\t\t\r\n\t\t\tif(selectedColor) {\r\n\t\t\t\t\r\n\t\t\t\tif(selectedColor[0] === this && selectedColor.hasClass('selected')) return;\r\n\t\t\t\tselectedColor.removeClass('selected');\r\n\t\t\t\t\r\n\t\t\t} \r\n\t\t\t\r\n\t\t\tselectedColor = $(this);\r\n\t\t\t\r\n\t\t\tvar ids = selectedColor.parent()[0].id,\r\n\t\t\t\ttpe = ids.search('core') !== -1 ? 'core' : 'custom',\r\n\t\t\t\tview = ids.search('colors') !== -1 ? 'colors' : 'gradients',\t\r\n\t\t\t\tbtn = $('#rev-cpicker-' + view + '-' + tpe + '-btn');\r\n\t\t\t\r\n\t\t\tif(btn.hasClass('active')) btn.find('.rev-cpicker-arrow-up').click();\r\n\t\t\tif(cPicker.hasClass('color-view')) {\r\n\t\t\t\t\r\n\t\t\t\tvar val = selectedColor.attr('data-color');\r\n\t\t\t\t\r\n\t\t\t\tsupressColor = true;\r\n\t\t\t\tcolorIris.val(val).change();\r\n\t\t\t\tif(colorHex.val() === 'transparent') colorHex.val(val.toLowerCase());\r\n\t\t\t\tsupressColor = false;\r\n\t\t\t\t\r\n\t\t\t\tvar opacity = colorOpacity.val();\r\n\t\t\t\tif(parseInt(opacity, 10) === 0) val = 'transparent';\r\n\t\t\t\tonChange(false, val, opacity);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\thitTop.removeClass('full');\r\n\t\t\t\thitBottom.removeClass('full');\r\n\t\t\t\t\r\n\t\t\t\tsetValue(selectedColor.data('gradient'), true);\r\n\t\t\t\treverse.removeClass('checked');\r\n\t\t\t\tgradCore.find('.rev-cpicker-color.selected').removeClass('selected');\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tselectedColor.addClass('selected');\r\n\t\t\t\r\n\t\t}).on('mouseover.revcpicker', '.rev-cpicker-color:not(.blank)', function() {\r\n\t\t\t\r\n\t\t\tif(gradientsOpen) gradOutput.style.background = getAttribute(this, 'data-color');\r\n\t\t\t\r\n\t\t}).on('mouseout.revcpicker', '.rev-cpicker-color:not(.blank)', function() {\r\n\t\t\t\r\n\t\t\tif(gradientsOpen) buildGradientOutput();\r\n\t\t\t\r\n\t\t}).on('click.revcpicker', '.rev-cpicker-delete', function() {\r\n\t\t\t\r\n\t\t\tif(!onAjax) {\r\n\t\t\t\r\n\t\t\t\tconsole.log('Ajax callback not defined');\r\n\t\t\t\treturn;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(window.confirm(document.getElementById('rev-cpicker-remove-delete').innerHTML)) {\r\n\t\t\t\t\r\n\t\t\t\tcPicker.addClass('onajax onajaxdelete');\r\n\t\t\t\t\r\n\t\t\t\tvar $this = $(this),\r\n\t\t\t\t\tcolr = $this.parent(),\r\n\t\t\t\t\ttitl = colr.attr('data-title') || '';\r\n\t\t\t\t\t\r\n\t\t\t\tif(!titl) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tconsole.log('Preset does not have a name/title');\r\n\t\t\t\t\treturn;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar group = $this.closest('.rev-cpicker-presets-group'),\r\n\t\t\t\t\tids = group[0].id,\r\n\t\t\t\t\ttpe = ids.search('colors') !== -1 ? 'colors' : 'gradients';\r\n\t\t\t\t\t\r\n\t\t\t\tdoc.off('revcpicker_onajax_delete.revcpicker').on('revcpicker_onajax_delete.revcpicker', function(evt, err) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(err) console.log(err);\r\n\t\t\t\t\t\r\n\t\t\t\t\tvar group = $this.closest('.rev-cpicker-presets-group'),\r\n\t\t\t\t\t\tscroller = group.find('.ps-scrollbar-x-rail'),\r\n\t\t\t\t\t\tbtn = $('#' + ids + '-btn');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tcolr.remove();\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(!checkRows.call(group[0])) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$('<span class=\"rev-cpicker-color blank\"></span>').insertBefore(scroller);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tgroup.perfectScrollbar('update');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(checkGroup.call(group[0]) < presetColumns + 1) {\r\n\r\n\t\t\t\t\t\t$('<span class=\"rev-cpicker-color blank\"></span>').insertBefore(scroller);\r\n\t\t\t\t\t\tif(btn.hasClass('active')) btn.children('.rev-cpicker-arrow-up').click();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tcPicker.removeClass('onajax onajaxdelete');\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\ttitl = $.trim(titl.replace(/\\W+/g, '_')).replace(/^\\_|\\_$/g, '').toLowerCase();\r\n\t\t\t\tonAjax('delete', titl, tpe, 'revcpicker_onajax_delete', currentInput);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\treturn false;\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('.rev-cpicker-save-preset-btn').on('click.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tif(!onAjax) {\r\n\t\t\t\r\n\t\t\t\tconsole.log('Ajax callback not defined');\r\n\t\t\t\treturn;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar presetGroup,\r\n\t\t\t\tduplicateTitle,\r\n\t\t\t\t$this = $(this),\r\n\t\t\t\tinput = $this.closest('.rev-cpicker-presets-save-as').find('.rev-cpicker-preset-save'),\r\n\t\t\t\ttitl = input.val();\r\n\t\t\t\r\n\t\t\tif(!titl || !isNaN(titl)) {\r\n\t\t\t\t\r\n\t\t\t\talert($this.attr('data-message'));\r\n\t\t\t\treturn;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpresetGroup = cPicker.hasClass('color-view') ? 'colors' : 'gradients';\r\n\t\t\ttitl = $.trim(titl.replace(/\\W+/g, '_')).replace(/^\\_|\\_$/g, '').toLowerCase();\r\n\t\t\t\r\n\t\t\t$('#rev-cpicker-' + presetGroup + '-custom').find('.rev-cpicker-color').not('.blank').each(function() {\r\n\t\t\t\t\r\n\t\t\t\tvar atr = $.trim(getAttribute(this, 'data-title').replace(/\\W+/g, '_')).replace(/^\\_|\\_$/g, '').toLowerCase();\r\n\t\t\t\tif(atr === titl) {\r\n\t\t\t\t\t\r\n\t\t\t\t\talert($this.attr('data-message'));\r\n\t\t\t\t\tduplicateTitle = true;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tif(duplicateTitle) return;\r\n\t\t\tcPicker.addClass('onajax onajaxsave');\r\n\t\t\t\r\n\t\t\tvar newColorValue = {},\r\n\t\t\t\tcolor,\r\n\t\t\t\tgrad;\r\n\t\t\t\t\r\n\t\t\tif(presetGroup === 'colors') {\r\n\t\t\t\t\r\n\t\t\t\tvar hex = colorHex.val(),\r\n\t\t\t\t\topacity = colorOpacity.val();\r\n\t\t\t\t\t\r\n\t\t\t\tif(hex === 'transparent') color = 'transparent';\r\n\t\t\t\telse if(opacity === '100%') color = RevColor.sanitizeHex(hex);\r\n\t\t\t\telse color = RevColor.processRgba(hex, opacity);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\r\n\t\t\t\tgrad = gradOutput.style.background;\r\n\t\t\t\tcolor = $.extend({}, buildGradientOutput(false, false, true)[0]);\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tnewColorValue[titl] = color;\r\n\t\t\tdoc.off('revcpicker_onajax_save.revcpicker').on('revcpicker_onajax_save.revcpicker', function(evt, err) {\r\n\t\t\t\t\r\n\t\t\t\tif(err) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tcPicker.removeClass('onajax onajaxsave');\r\n\t\t\t\t\talert($this.attr('data-message'));\r\n\t\t\t\t\treturn;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\tvar pre = $(newPreset(newColorValue, false, ' rev-picker-color-custom', grad)),\r\n\t\t\t\t\tgroup = $('#rev-cpicker-' + presetGroup + '-custom'),\r\n\t\t\t\t\tbox = group.find('.rev-cpicker-color.blank'),\r\n\t\t\t\t\tbtn = $('#' + group[0].id + '-btn');\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\tif(box.length) pre.insertBefore(box.eq(0));\r\n\t\t\t\telse pre.insertBefore(group.find('.ps-scrollbar-x-rail'));\r\n\t\t\t\t\r\n\t\t\t\t$('#rev-cpicker-' + presetGroup + '-custom-btn').click();\r\n\t\t\t\tvar len = checkGroup.call(group[0]);\r\n\t\t\t\t\r\n\t\t\t\tif(len > 6) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(box.length) box.last().remove();\r\n\t\t\t\t\tbtn.addClass('active').children('.rev-cpicker-arrow-down').click();\r\n\t\t\t\t\tgroup.perfectScrollbar('update');\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\tpre.click();\r\n\t\t\t\tcPicker.removeClass('onajax onajaxsave');\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tonAjax('save', newColorValue, presetGroup, 'revcpicker_onajax_save', currentInput);\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('.rev-cpicker-preset-title').on('click.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tvar $this = $(this),\r\n\t\t\t\tpar = $this.parent(),\r\n\t\t\t\tarrow = $this.hasClass('active') ? 'down' : 'up';\r\n\t\t\t\r\n\t\t\tonArrowClick.call($this.find('.rev-cpicker-arrow-' + arrow)[0]);\r\n\t\t\t\r\n\t\t\tpar.find('.rev-cpicker-preset-title').removeClass('selected');\r\n\t\t\t$this.addClass('selected');\r\n\t\t\t\r\n\t\t\tpar.find('.rev-cpicker-presets-group').hide();\r\n\t\t\tdocument.getElementById(this.id.replace('-btn', '')).style.display = 'block';\r\n\t\t\t\r\n\t\t\tpresetGroups.perfectScrollbar('update');\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\tcolorClear.on('click.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tcolorOpacity.val('0%');\r\n\t\t\tupdateSlider(0);\r\n\t\t\tcolorIris.val(RevColor.defaultValue).change();\r\n\t\t\tcolorHex.val('transparent');\r\n\t\t\tonChange(false, 'transparent');\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\tcPicker.find('input[type=\"text\"]').on('focusin.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tinFocus = this;\r\n\t\t\t\r\n\t\t}).on('focusout.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tinFocus = false;\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('.rev-cpicker-input').on('focusin.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tvar $this = $(this);\r\n\t\t\t$this.data('orig-value', $this.val());\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('.rev-cpicker-hex').on('focusout.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tvar $this, \r\n\t\t\t\toVal,\r\n\t\t\t\tval;\r\n\t\t\t\r\n\t\t\tif(this.id === 'rev-cpicker-color-hex') {\r\n\t\t\t\t\r\n\t\t\t\tval = colorHex.val();\r\n\t\t\t\tif(val) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tval = RevColor.sanitizeHex(val);\r\n\t\t\t\t\tif(RevColor.isColor.test(val)) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcolorHex.val(val);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t$this = $(this);\r\n\t\t\t\t\t\toVal = $this.data('orig-value');\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(oVal) {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tval = oVal;\r\n\t\t\t\t\t\t\tcolorHex.val(val);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tcolorClear.click();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse {\t\r\n\t\t\t\t\r\n\t\t\t\t\tval = 'transparent';\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tcolorIris.val(val).change();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tval = gradHex.val() || RevColor.defaultValue;\r\n\t\t\t\tval = RevColor.sanitizeHex(val);\r\n\t\t\t\t\r\n\t\t\t\tif(!RevColor.isColor.test(val)) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t$this = $(this);\r\n\t\t\t\t\toVal = $this.data('orig-value');\r\n\t\t\t\t\tval = oVal ? oVal : RevColor.defaultValue;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tgradHex.val(val);\r\n\t\t\t\tgradIris.val(val).change();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}).on('focusin.revcpicker', focusPatch);\r\n\t\t\r\n\t\t$('#rev-cpciker-clear-gradient').on('click.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tgradIris.val(RevColor.defaultValue).change();\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\tangle.on('keyup.revcpicker focusout.revcpicker', onAngleChange).on('focusin.revcpicker', function() {\r\n\t\t\t\r\n\t\t\twheelActive = true;\r\n\t\t\tangleWheel.addClass('active');\r\n\t\t\t\r\n\t\t}).on('focusin.revcpicker', focusPatch);\r\n\t\t\t\r\n\t\tdirections.on('click.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tvar $this = $(this),\r\n\t\t\t\tdir = $this.attr('data-direction');\r\n\t\t\t\r\n\t\t\tdirections.removeClass('selected');\r\n\t\t\t$this.addClass('selected');\r\n\t\t\t\r\n\t\t\tif(dir !== 'radial') angle.removeAttr('disabled').val(getDegree(dir));\r\n\t\t\telse angle.attr('disabled', 'disabled');\r\n\t\t\t\r\n\t\t\tonAngleChange(false, dir);\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('.rev-cpicker-point-delete').on('click.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tif(this.className.search('active') === -1) return;\r\n\t\t\t\r\n\t\t\tvar align = curPoint.hasClass('rev-cpicker-point-bottom') ? 'bottom' : 'top',\r\n\t\t\t\tlen = cPicker.find('.rev-cpicker-point-' + align).length;\r\n\t\t\t\t\r\n\t\t\tif(len > 2) {\r\n\t\t\t\t\r\n\t\t\t\tcurPoint.draggable('destroy').remove();\r\n\t\t\t\tgroupPoints = pointerWrap.children();\r\n\t\t\t\t\r\n\t\t\t\tcPicker.click();\r\n\t\t\t\tbuildGradientOutput();\r\n\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(len <= maxPoints) {\r\n\t\t\t\t\r\n\t\t\t\tif(align === 'bottom') hitBottom.removeClass('full');\r\n\t\t\t\telse hitTop.removeClass('full');\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('.rev-cpicker-preset-save').on('focusin.revcpicker', focusPatch);\r\n\t\t$('.rev-cpicker-opacity-input').on('keyup.revcpicker focusout.revcpicker', function(e) {\r\n\t\t\t\r\n\t\t\tvar isColor = this.id.search('grad') === -1,\r\n\t\t\t\t$this = isColor ? colorOpacity : gradOpacity,\r\n\t\t\t\topacity = $this.val().replace('%', ''),\r\n\t\t\t\tevt = e.type,\r\n\t\t\t\tclr;\r\n\t\t\t\r\n\t\t\tif(isNaN(opacity)) opacity = evt === 'keyup' ? '0' : $(this).data('orig-value');\r\n\t\t\topacity = Math.max(0, Math.min(100, opacity));\r\n\t\t\t\r\n\t\t\tif(evt === 'focusout') {\r\n\t\t\t\t\r\n\t\t\t\t$this.val(opacity + '%');\r\n\t\t\t\tif(!isColor) curPoint.attr('data-opacity', opacity);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(isColor) {\r\n\t\t\t\t\r\n\t\t\t\tvar opaque = parseInt(opacity, 10),\r\n\t\t\t\t\tval = opaque !== 0 ? false : 'transparent';\r\n\r\n\t\t\t\tonChange(false, val, opacity);\r\n\t\t\t\tupdateSlider(opacity);\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tvar parsed = RevColor.rgbValues(curPoint.attr('data-color'), 3),\r\n\t\t\t\t\tcolor = gradientPreview.colors[pointIndex];\r\n\t\t\t\t\r\n\t\t\t\topacity = (parseInt(opacity, 10) * 0.01).toFixed(2).replace(/\\.?0*$/, '');\r\n\t\t\t\t\r\n\t\t\t\tcolor.r = parsed[0];\r\n\t\t\t\tcolor.g = parsed[1];\r\n\t\t\t\tcolor.b = parsed[2];\r\n\t\t\t\tcolor.a = opacity;\r\n\t\t\t\t\r\n\t\t\t\tclr = RevColor.rgbaString(color.r, color.g, color.b, opacity);\r\n\t\t\t\tcurPoint.attr('data-color', clr);\r\n\t\t\t\tbuildGradientOutput();\r\n\t\t\t\t\r\n\t\t\t\tclr = 'rgba(0, 0, 0, ' + opacity + ')';\t\t\r\n\t\t\t\tcurSquare.style.backgroundColor = clr;\r\n\t\t\t\tcurCorner.style.borderTopColor = clr;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}).on('focusin.revcpicker', focusPatch);\r\n\t\t\r\n\t\t$('.rev-cpicker-builder-hit').on('click.revcpicker', function(e) {\r\n\t\t\t\r\n\t\t\tif(!points) calculatePoints();\r\n\t\t\t\r\n\t\t\tvar hit = parseInt(((e.pageX - hitTop.offset().left) / hitWidth).toFixed(2) * 100, 10),\r\n\t\t\t\talign = this.id.search('bottom') !== -1 ? 'bottom' : 'top',\r\n\t\t\t\tlocations = align === 'bottom' ? botPoints : topPoints,\r\n\t\t\t\tdir = hit < 50 ? 1 : -1;\r\n\t\t\t\r\n\t\t\twhile(locations.indexOf(hit) !== -1) hit += dir;\r\n\t\t\tif(align === 'bottom') {\r\n\t\t\t\t\r\n\t\t\t\tif(cPicker.find('.rev-cpicker-point-bottom').length < maxPoints) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tclonePoint(align, hit);\r\n\t\t\t\t\tselectedColor = false;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t\r\n\t\t\t\t\thitBottom.addClass('full');\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tif(cPicker.find('.rev-cpicker-point-top').length < maxPoints) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tclonePoint(align, hit);\r\n\t\t\t\t\tselectedColor = false;\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\t\r\n\t\t\t\t\thitTop.addClass('full');\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t});\r\n\t\t\r\n\t\treverse.on('click.revcpicker', function() {\r\n\t\t\t\r\n\t\t\tvar rev = !reverse.hasClass('checked');\r\n\t\t\t\r\n\t\t\tif(rev) reverse.addClass('checked');\r\n\t\t\telse reverse.removeClass('checked');\r\n\t\t\t\r\n\t\t\tbuildGradientOutput(false, true);\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\t$('.rev-cpicker-arrow').on('click.revcpicker', onArrowClick);\r\n\t\tinited = true;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction addPresets(sets) {\r\n\t\t\r\n\t\tvar settings = $.extend({}, sets),\r\n\t\t\tcore = settings.core || {},\r\n\t\t\tcustom = settings.custom,\r\n\t\t\tcontainer,\r\n\t\t\tpreset,\r\n\t\t\tcolors,\r\n\t\t\tlen,\r\n\t\t\tel;\r\n\t\t\r\n\t\tif(!customAdded || custom) {\r\n\t\t\t\r\n\t\t\tlen = 4;\r\n\t\t\tcustomAdded = custom;\r\n\t\t\tcustom = customAdded || {'colors': [], 'gradients': []};\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tlen = 2;\r\n\t\t\t\r\n\t\t}\r\n\t\t\t\r\n\t\tif(!core.colors) core.colors = defColors;\r\n\t\tif(!core.gradients) core.gradients = defGradients;\r\n\t\t\r\n\t\tfor(var i = 0; i < len; i++) {\r\n\t\t\t\r\n\t\t\tswitch(i) {\r\n\t\t\t\t\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\r\n\t\t\t\t\tcontainer = 'colors-core';\r\n\t\t\t\t\tcolors = core.colors;\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\t\r\n\t\t\t\t\tcontainer = 'gradients-core';\r\n\t\t\t\t\tcolors = core.gradients;\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\r\n\t\t\t\t\tcontainer = 'colors-custom';\r\n\t\t\t\t\tcolors = custom.colors;\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\r\n\t\t\t\t\tcontainer = 'gradients-custom';\r\n\t\t\t\t\tcolors = custom.gradients;\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tpreset = writePresets(container, colors.slice() || []);\r\n\t\t\tel = $('#' + preset[0]);\r\n\t\t\tel.find('.rev-cpicker-color').remove();\r\n\t\t\tel.prepend(preset[1]);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\r\n\t$.tpColorPicker = function(settings) {\r\n\t\t\r\n\t\tif(!bodies) {\r\n\t\t\r\n\t\t\tbodies = $('body');\r\n\t\t\tcPicker = $('<div class=\"' + 'rev-cpicker-wrap color-view\">' + markup + '</div>').appendTo(bodies);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(!settings) settings = {};\t\r\n\t\tif(settings.core) {\r\n\t\t\t\r\n\t\t\tif(settings.core.colors) defColors = settings.core.colors;\r\n\t\t\tif(settings.core.gradients) defGradients = settings.core.gradients;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\taddPresets(settings);\r\n\t\t\r\n\t\tif(!prepped) {\r\n\t\t\t\r\n\t\t\twriteLanguage(settings.language || lang);\r\n\t\t\tdefMode = settings.mode || 'full';\r\n\t\t\t\r\n\t\t}\r\n\t\telse {\r\n\t\t\t\r\n\t\t\tpresetGroups.perfectScrollbar('update');\r\n\t\t\tif(settings.mode) defMode = settings.mode;\r\n\t\t\tif(settings.language) writeLanguage(settings.language);\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\tif(settings.init) onInit = settings.init;\r\n\t\tif(settings.onAjax) defAjax = settings.onAjax;\r\n\t\tif(settings.onEdit) defEdit = settings.onEdit;\r\n\t\tif(settings.change) defChange = settings.change;\r\n\t\tif(settings.cancel) defCancel = settings.cancel;\r\n\t\tif(settings.widgetId) defWidgetId = settings.widgetId;\r\n\t\tif(settings.defaultValue) RevColor.defaultValue = settings.defaultValue;\r\n\t\tif(settings.wrapClasses) defaultClasses = settings.wrapClasses;\r\n\t\tif(settings.appendedHtml) appendedHTML = settings.appendedHtml;\r\n\t\t\r\n\t\tprepped = true;\r\n\t\t\r\n\t};\r\n\t\r\n\tvar ColorPicker = {\r\n\t\t\r\n\t\trefresh: function() {\r\n\t\t\t\r\n\t\t\tvar $this = $(this);\r\n\t\t\tif($this.hasClass('rev-cpicker-component')) {\r\n\t\t\t\r\n\t\t\t\tvar settings = $this.data('revcp') || {},\r\n\t\t\t\t\tval = $this.val() || settings.defaultValue || RevColor.defaultValue,\r\n\t\t\t\t\tcolorValue = RevColor.process(val);\r\n\t\t\t\t\r\n\t\t\t\tval = colorValue[0];\r\n\t\t\t\tcolorValue = colorValue[1] !== 'rgba' || !RevColor.transparentRgba(val, true) ? val : '';\r\n\t\t\t\t\r\n\t\t\t\tif(val !== 'transparent') $this.data('tpcp')[0].style.background = colorValue;\r\n\t\t\t\telse $this.data('tpcp').css('background', '');\r\n\t\t\t\t\r\n\t\t\t\t$this.attr('data-color', val).data('hex', val);\r\n\t\t\t\r\n\t\t\t}\r\n\t\t\r\n\t\t},\r\n\t\t\r\n\t\tdestroy: function() {\r\n\t\t\t\r\n\t\t\tvar $this = $(this).removeData();\r\n\t\t\t$this.closest('.rev-cpicker-master-wrap').removeData().remove();\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t};\r\n\t\r\n\tfunction isFalsey(val) {\r\n\t\t\r\n\t\tif(/(?=.*false)(?=.*rgba)/.test(val)) return val.replace('false', '1');\r\n\t\treturn false;\r\n\t\t\r\n\t}\r\n\t\r\n\t$.fn.tpColorPicker = function(settings) {\r\n\r\n\t\tif(settings && typeof settings === 'string') return this.each(ColorPicker[settings]);\r\n\t\t\r\n\t\treturn this.each(function() {\r\n\t\t\t\r\n\t\t\tvar $this = $(this);\r\n\t\t\tif($this.hasClass('rev-cpicker-component')) {\r\n\t\t\t\t\r\n\t\t\t\t$this.tpColorPicker('refresh');\r\n\t\t\t\treturn;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar wrap = $('<span class=\"rev-colorpicker\"></span>').data('revcolorinput', $this),\r\n\t\t\t\tbox = $('<span class=\"rev-colorbox\" />'),\r\n\t\t\t\tbtn = $('<span class=\"rev-colorbtn\" />'),\r\n\t\t\t\tcls = $this.attr('data-wrap-classes'),\r\n\t\t\t\twrapper = $this.attr('data-wrapper'),\r\n\t\t\t\tids = $this.attr('data-wrap-id'),\r\n\t\t\t\ttxt = $this.attr('data-title'),\r\n\t\t\t\tskin = $this.attr('data-skin'),\r\n\t\t\t\tval = $this.val() || '',\r\n\t\t\t\tfalsey = isFalsey(val),\r\n\t\t\t\tcolorValue,\r\n\t\t\t\tdefValue;\r\n\t\t\t\r\n\t\t\tif(falsey) {\r\n\r\n\t\t\t\tval = falsey;\r\n\t\t\t\t$this.val(falsey);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\twrap.insertBefore($this).append([box, btn, $this]);\r\n\t\t\t\r\n\t\t\tif(settings && $.isPlainObject(settings)) {\r\n\t\t\t\t\r\n\t\t\t\tif(!wrapper) wrapper = settings.wrapper;\r\n\t\t\t\tif(!cls) cls = settings.wrapClasses;\r\n\t\t\t\tif(!skin) skin = settings.skin;\r\n\t\t\t\tif(!ids) ids = settings.wrapId;\r\n\t\t\t\tif(!txt) txt = settings.title;\r\n\t\t\t\t\r\n\t\t\t\tdefValue = settings.defaultValue;\r\n\t\t\t\tvar sets = $this.data('revcp');\r\n\t\t\t\t\r\n\t\t\t\tif(sets) settings = $.extend({}, sets, settings);\r\n\t\t\t\t$this.data('revcp', settings);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(!cls) cls = defaultClasses;\r\n\t\t\tif(cls) wrap.addClass(cls);\r\n\t\t\tif(ids) wrap.attr('id', ids);\r\n\t\t\tif(!val) {\r\n\t\t\t\t\r\n\t\t\t\tval = defValue || RevColor.defaultValue;\r\n\t\t\t\t$this.val(val);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcolorValue = RevColor.process(val);\r\n\t\t\tval = colorValue[0];\r\n\t\t\t\r\n\t\t\tif(colorValue.length === 3) $this.val(val);\r\n\t\t\tcolorValue = colorValue[1] !== 'rgba' || !RevColor.transparentRgba(val, true) ? val : '';\r\n\t\t\tif(colorValue !== 'transparent') box[0].style.background = colorValue;\r\n\t\t\t\r\n\t\t\tbtn[0].innerHTML = txt || langColor || lang.color;\r\n\t\t\t$this.attr({type: 'hidden', 'data-color': val}).data('tpcp', box).addClass('rev-cpicker-component');\r\n\t\t\t\r\n\t\t\tif(skin) wrap.addClass(skin);\r\n\t\t\tif(!wrapper) {\r\n\t\t\t\t\r\n\t\t\t\twrap.addClass('rev-cpicker-master-wrap');\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\twrapper = $(wrapper).addClass('rev-cpicker-master-wrap');\r\n\t\t\t\twrap.wrap(wrapper);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvar initCallback = settings ? settings.init || onInit : false;\r\n\t\t\tif(initCallback) initCallback(wrap, $this, val, settings);\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t};\r\n\t\r\n\t$(function() {\r\n\t\r\n\t\t$('body').on('click.revcpicker', '.rev-colorpicker', function() {\r\n\t\t\t\t\r\n\t\t\tif(!inited) init();\r\n\t\t\tcurrentInput = $(this).data('revcolorinput');\r\n\t\t\t\r\n\t\t\tvar widgetId = currentInput.attr('data-widget-id'),\r\n\t\t\t\thtml = currentInput.attr('data-appended-html'),\r\n\t\t\t\tediting = currentInput.attr('data-editing'),\r\n\t\t\t\tdata = currentInput.attr('data-colors'),\r\n\t\t\t\tmode = currentInput.attr('data-mode'),\r\n\t\t\t\tsettings = currentInput.data('revcp'),\r\n\t\t\t\tlang = currentInput.attr('data-lang'),\r\n\t\t\t\tsettingsGradients,\r\n\t\t\t\tcustomGradients,\r\n\t\t\t\tsettingsColors,\r\n\t\t\t\tdataGradients,\r\n\t\t\t\tcustomColors,\r\n\t\t\t\tdataColors,\r\n\t\t\t\tpresets,\r\n\t\t\t\tchange,\r\n\t\t\t\tcancel,\r\n\t\t\t\tvalue,\r\n\t\t\t\tedit,\r\n\t\t\t\tajax,\r\n\t\t\t\tval;\r\n\r\n\t\t\tif(data) {\r\n\t\t\t\t\r\n\t\t\t\tdata = JSON.parse(data.replace(/\\&/g, '\"'));\r\n\t\t\t\tif(data.colors) dataColors = data.colors;\r\n\t\t\t\tif(data.gradients) dataGradients = data.gradients;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(settings) {\r\n\t\t\t\t\r\n\t\t\t\tvar colorSets = settings.colors;\r\n\t\t\t\tif(colorSets) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(colorSets.core) {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tsettingsColors = colorSets.core.colors;\r\n\t\t\t\t\t\tsettingsGradients = colorSets.core.gradients;\r\n\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(colorSets.custom) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcustomColors = colorSets.custom.colors;\r\n\t\t\t\t\t\tcustomGradients = colorSets.custom.gradients;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tedit = settings.onEdit;\r\n\t\t\t\tajax = settings.onAjax;\r\n\t\t\t\tchange = settings.change;\r\n\t\t\t\tcancel = settings.cancel;\r\n\t\t\t\t\r\n\t\t\t\tif(!lang) lang = settings.lang;\r\n\t\t\t\tif(!mode) mode = settings.mode;\r\n\t\t\t\tif(!html) html = settings.appendedHtml;\r\n\t\t\t\tif(!editing) editing = settings.editing;\r\n\t\t\t\tif(!widgetId) widgetId = settings.widgetId;\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(settingsGradients || settingsColors || customGradients || customColors || dataGradients || dataColors) {\r\n\t\t\t\t\r\n\t\t\t\tpresets = {};\r\n\t\t\t\tif(settingsGradients || settingsColors || dataGradients || dataColors) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tpresets.core = {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcolors: dataColors || settingsColors || defColors,\r\n\t\t\t\t\t\tgradients: dataGradients || settingsGradients || defGradients\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(customGradients || customColors) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tpresets.custom = {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcolors: customColors || defColors,\r\n\t\t\t\t\t\tgradients: customGradients || defGradients\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t};\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\taddPresets(presets);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(!widgetId) widgetId = defWidgetId;\r\n\t\t\tif(widgetId) cPicker[0].id = widgetId;\r\n\t\t\t\r\n\t\t\tif(!html) html = appendedHTML;\r\n\t\t\tif(html) appended = $(html).appendTo(mainContainer);\r\n\t\t\t\r\n\t\t\tif(lang) writeLanguage(lang);\r\n\t\t\tif(!mode) mode = defMode;\r\n\t\t\t\r\n\t\t\tif(!editing) {\r\n\t\t\t\t\r\n\t\t\t\tediting = '';\r\n\t\t\t\teditTitle.style.visibility = 'hidden';\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\teditTitle.style.visibility = 'visible';\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tcurrentEditing.innerHTML = editing;\r\n\t\t\t\r\n\t\t\tif(mode === 'single' || mode === 'basic') {\r\n\t\t\t\t\r\n\t\t\t\tisFull = false;\r\n\t\t\t\tgradBtn.hide();\r\n\t\t\t\tcolorBtn.show();\r\n\t\t\t\tif(mode === 'basic') cPicker.addClass('is-basic');\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t\r\n\t\t\t\tisFull = true;\r\n\t\t\t\tgradBtn.show();\r\n\t\t\t\tcolorBtn.show();\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tval = currentInput.val() || currentInput.attr('data-color') || RevColor.defaultValue;\r\n\t\t\tif(val.split('||').length > 1) {\r\n\t\t\t\t\r\n\t\t\t\tval = RevColor.joinToRgba(val);\r\n\t\t\t\tcurrentInput.val(val);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tvalue = setValue(val);\r\n\t\t\topeningValue = value[0];\r\n\t\t\t\r\n\t\t\tonEdit = edit || defEdit;\r\n\t\t\tonAjax = ajax || defAjax;\r\n\t\t\tonCancel = cancel || defCancel;\r\n\t\t\tchangeCallback = change || defChange;\r\n\t\t\t\r\n\t\t\tif(value[1] !== 'gradient') colorBtn.data('state', openingValue);\r\n\t\t\telse gradBtn.data('state', openingValue);\r\n\t\t\t\r\n\t\t\tbodies.addClass('rev-colorpicker-open');\r\n\t\t\tcurrentColor = currentInput.data('tpcp');\r\n\t\t\tcPicker.data('revcpickerinput', currentInput).addClass('active').show();\r\n\t\t\t\r\n\t\t\tpresetGroups.each(checkGroup).perfectScrollbar('update');\r\n\t\t\topeningColor = currentInput.attr('data-color');\r\n\t\t\t\r\n\t\t\tselectedHex = currentInput.data('hex');\r\n\t\t\t$('.rev-cpicker-color').not('.blank').each(checkPreset);\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t});\r\n\t\r\n})(jQuery !== 'undefined' ? jQuery : false);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","Nwdthemes_Revslider/public/assets/js/source/jquery.themepunch.tools.js":"define('themepunchTools', [], function() {\r\n\r\n    var punchgs = window.GreenSockGlobals;\r\n\r\n    // Sandboxing Greensock\r\n    try{\r\n        window.GreenSockGlobals = null;\r\n        window._gsQueue = null;\r\n        window._gsDefine = null;\r\n    \r\n        delete(window.GreenSockGlobals);\r\n        delete(window._gsQueue);\r\n        delete(window._gsDefine);\r\n    } catch(e) {}\r\n    \r\n    try{\r\n        window.GreenSockGlobals = punchgsSandbox.oldgs;\r\n        window._gsQueue = punchgsSandbox.oldgs_queue;\r\n    } catch(e) {}\r\n        \r\n    // for compatibilty with add-on scripts\r\n    window['punchgs'] = punchgs;\r\n\r\n    return punchgs;\r\n});","Nwdthemes_Revslider/public/assets/js/tools/SplitText.js":"/*!\r\n * VERSION: 0.4.0\r\n * DATE: 2016-07-09\r\n * UPDATES AND DOCS AT: http://greensock.com\r\n *\r\n * @license Copyright (c) 2008-2016, GreenSock. All rights reserved.\r\n * SplitText is a Club GreenSock membership benefit; You must have a valid membership to use\r\n * this code without violating the terms of use. Visit http://greensock.com/club/ to sign up or get more details.\r\n * This work is subject to the software agreement that was issued with your membership.\r\n *\r\n * @author: Jack Doyle, jack@greensock.com\r\n */\r\nvar _gsScope = (typeof(module) !== \"undefined\" && module.exports && typeof(global) !== \"undefined\") ? global : this || window; //helps ensure compatibility with AMD/RequireJS and CommonJS/Node\r\n(function(window) {\r\n\r\n\t\"use strict\";\r\n\tvar _globals = window.GreenSockGlobals || window,\r\n\t\t_namespace = function(ns) {\r\n\t\t\tvar a = ns.split(\".\"),\r\n\t\t\t\tp = _globals, i;\r\n\t\t\tfor (i = 0; i < a.length; i++) {\r\n\t\t\t\tp[a[i]] = p = p[a[i]] || {};\r\n\t\t\t}\r\n\t\t\treturn p;\r\n\t\t},\r\n\t\tpkg = _namespace(\"com.greensock.utils\"),\r\n\t\t_getText = function(e) {\r\n\t\t\tvar type = e.nodeType,\r\n\t\t\t\tresult = \"\";\r\n\t\t\tif (type === 1 || type === 9 || type === 11) {\r\n\t\t\t\tif (typeof(e.textContent) === \"string\") {\r\n\t\t\t\t\treturn e.textContent;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor ( e = e.firstChild; e; e = e.nextSibling ) {\r\n\t\t\t\t\t\tresult += _getText(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (type === 3 || type === 4) {\r\n\t\t\t\treturn e.nodeValue;\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t_doc = document,\r\n\t\t_getComputedStyle = _doc.defaultView ? _doc.defaultView.getComputedStyle : function() {},\r\n\t\t_capsExp = /([A-Z])/g,\r\n\t\t_getStyle = function(t, p, cs, str) {\r\n\t\t\tvar result;\r\n\t\t\tif ((cs = cs || _getComputedStyle(t, null))) {\r\n\t\t\t\tt = cs.getPropertyValue(p.replace(_capsExp, \"-$1\").toLowerCase());\r\n\t\t\t\tresult = (t || cs.length) ? t : cs[p]; //Opera behaves VERY strangely - length is usually 0 and cs[p] is the only way to get accurate results EXCEPT when checking for -o-transform which only works with cs.getPropertyValue()!\r\n\t\t\t} else if (t.currentStyle) {\r\n\t\t\t\tcs = t.currentStyle;\r\n\t\t\t\tresult = cs[p];\r\n\t\t\t}\r\n\t\t\treturn str ? result : parseInt(result, 10) || 0;\r\n\t\t},\r\n\t\t_isArrayLike = function(e) {\r\n\t\t\treturn (e.length && e[0] && ((e[0].nodeType && e[0].style && !e.nodeType) || (e[0].length && e[0][0]))) ? true : false; //could be an array of jQuery objects too, so accommodate that.\r\n\t\t},\r\n\t\t_flattenArray = function(a) {\r\n\t\t\tvar result = [],\r\n\t\t\t\tl = a.length,\r\n\t\t\t\ti, e, j;\r\n\t\t\tfor (i = 0; i < l; i++) {\r\n\t\t\t\te = a[i];\r\n\t\t\t\tif (_isArrayLike(e)) {\r\n\t\t\t\t\tj = e.length;\r\n\t\t\t\t\tfor (j = 0; j < e.length; j++) {\r\n\t\t\t\t\t\tresult.push(e[j]);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tresult.push(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\t_stripExp = /(?:\\r|\\n|\\s\\s|\\t\\t)/g, //find carriage returns, new line feeds, double-spaces, and double-tabs.\r\n\t\t_brSwap = \")eefec303079ad17405c\",\r\n\t\t_brExp = /(?:<br>|<br\\/>|<br \\/>)/gi,\r\n\t\t_isOldIE = (_doc.all && !_doc.addEventListener),\r\n\t\t_divStart = \" style='position:relative;display:inline-block;\" + (_isOldIE ? \"*display:inline;*zoom:1;'\" : \"'\"), //note: we must use both display:inline-block and *display:inline for IE8 and earlier, otherwise it won't flow correctly (and if we only use display:inline, IE won't render most of the property tweens - very odd).\r\n\t\t_cssClassFunc = function(cssClass, tag) {\r\n\t\t\tcssClass = cssClass || \"\";\r\n\t\t\tvar iterate = (cssClass.indexOf(\"++\") !== -1),\r\n\t\t\t\tnum = 1;\r\n\t\t\tif (iterate) {\r\n\t\t\t\tcssClass = cssClass.split(\"++\").join(\"\");\r\n\t\t\t}\r\n\t\t\treturn function() {\r\n\t\t\t\treturn \"<\" + tag + _divStart + (cssClass ? \" class='\" + cssClass + (iterate ? num++ : \"\") + \"'>\" : \">\");\r\n\t\t\t};\r\n\t\t},\r\n\t\tSplitText = pkg.SplitText = _globals.SplitText = function(element, vars) {\r\n\t\t\tif (typeof(element) === \"string\") {\r\n\t\t\t\telement = SplitText.selector(element);\r\n\t\t\t}\r\n\t\t\tif (!element) {\r\n\t\t\t\tthrow(\"cannot split a null element.\");\r\n\t\t\t}\r\n\t\t\tthis.elements = _isArrayLike(element) ? _flattenArray(element) : [element];\r\n\t\t\tthis.chars = [];\r\n\t\t\tthis.words = [];\r\n\t\t\tthis.lines = [];\r\n\t\t\tthis._originals = [];\r\n\t\t\tthis.vars = vars || {};\r\n\t\t\tthis.split(vars);\r\n\t\t},\r\n\t\t_swapText = function(element, oldText, newText) {\r\n\t\t\tvar type = element.nodeType;\r\n\t\t\tif (type === 1 || type === 9 || type === 11) {\r\n\t\t\t\tfor ( element = element.firstChild; element; element = element.nextSibling ) {\r\n\t\t\t\t\t_swapText(element, oldText, newText);\r\n\t\t\t\t}\r\n\t\t\t} else if (type === 3 || type === 4) {\r\n\t\t\t\telement.nodeValue = element.nodeValue.split(oldText).join(newText);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_pushReversed = function(a, merge) {\r\n\t\t\tvar i = merge.length;\r\n\t\t\twhile (--i > -1) {\r\n\t\t\t\ta.push(merge[i]);\r\n\t\t\t}\r\n\t\t},\r\n\t\t_split = function(element, vars, allChars, allWords, allLines) {\r\n\t\t\tif (_brExp.test(element.innerHTML)) {\r\n\t\t\t\telement.innerHTML = element.innerHTML.replace(_brExp, _brSwap); //swap in a unique string for <br/> tags so that we can identify it when we loop through later, and replace it appropriately\r\n\t\t\t}\r\n\t\t\tvar text = _getText(element),\r\n\t\t\t\ttag = vars.span ? \"span\" : \"div\",\r\n\t\t\t\ttypes = vars.type || vars.split || \"chars,words,lines\",\r\n\t\t\t\tlines = (types.indexOf(\"lines\") !== -1) ? [] : null,\r\n\t\t\t\twords = (types.indexOf(\"words\") !== -1),\r\n\t\t\t\tchars = (types.indexOf(\"chars\") !== -1),\r\n\t\t\t\tabsolute = (vars.position === \"absolute\" || vars.absolute === true),\r\n\t\t\t\twordDelimiter = vars.wordDelimiter || \" \",\r\n\t\t\t\tspace = wordDelimiter !== \" \" ? \"\" : (absolute ? \"&#173; \" : \" \"),\r\n\t\t\t\tlineOffsetY = -999,\r\n\t\t\t\tcs = _getComputedStyle(element),\r\n\t\t\t\tpaddingLeft = _getStyle(element, \"paddingLeft\", cs),\r\n\t\t\t\tborderTopAndBottom = _getStyle(element, \"borderBottomWidth\", cs) + _getStyle(element, \"borderTopWidth\", cs),\r\n\t\t\t\tborderLeftAndRight = _getStyle(element, \"borderLeftWidth\", cs) + _getStyle(element, \"borderRightWidth\", cs),\r\n\t\t\t\tpadTopAndBottom = _getStyle(element, \"paddingTop\", cs) + _getStyle(element, \"paddingBottom\", cs),\r\n\t\t\t\tpadLeftAndRight = _getStyle(element, \"paddingLeft\", cs) + _getStyle(element, \"paddingRight\", cs),\r\n\t\t\t\ttextAlign = _getStyle(element, \"textAlign\", cs, true),\r\n\t\t\t\tlineThreshold = _getStyle(element, \"fontSize\") * 0.2,\r\n\t\t\t\torigHeight = element.clientHeight,\r\n\t\t\t\torigWidth = element.clientWidth,\r\n\t\t\t\twordEnd = vars.span ? \"</span>\" : \"</div>\",\r\n\t\t\t\twordStart = _cssClassFunc(vars.wordsClass, tag),\r\n\t\t\t\tcharStart = _cssClassFunc(vars.charsClass, tag),\r\n\t\t\t\titerateLine = ((vars.linesClass || \"\").indexOf(\"++\") !== -1),\r\n\t\t\t\tlinesClass = vars.linesClass,\r\n\t\t\t\thasTagStart = text.indexOf(\"<\") !== -1,\r\n\t\t\t\twordIsOpen = true,\r\n\t\t\t\tcharArray = [],\r\n\t\t\t\twordArray = [],\r\n\t\t\t\tlineArray = [],\r\n\t\t\t\tl, curLine, isChild, splitText, i, j, character, nodes, node, offset, lineNode, style, lineWidth, addWordSpaces;\r\n\r\n\t\t\tif (!vars.reduceWhiteSpace !== false) {\r\n\t\t\t\ttext = text.replace(_stripExp, \"\");\r\n\t\t\t}\r\n\t\t\tif (iterateLine) {\r\n\t\t\t\tlinesClass = linesClass.split(\"++\").join(\"\");\r\n\t\t\t}\r\n\t\t\tif (hasTagStart) {\r\n\t\t\t\ttext = text.split(\"<\").join(\"{{LT}}\"); //we can't leave \"<\" in the string, or when we set the innerHTML, it can be interpreted as\r\n\t\t\t}\r\n\t\t\tl = text.length;\r\n\r\n\t\t\tsplitText = wordStart();\r\n\t\t\tfor (i = 0; i < l; i++) {\r\n\t\t\t\tcharacter = text.charAt(i);\r\n\t\t\t\tif (character === \")\" && text.substr(i, 20) === _brSwap) {\r\n\t\t\t\t\tsplitText += (wordIsOpen ? wordEnd : \"\") + \"<BR/>\";\r\n\t\t\t\t\twordIsOpen = false;\r\n\t\t\t\t\tif (i !== l - 20 && text.substr(i+20, 20) !== _brSwap) {\r\n\t\t\t\t\t\tsplitText += \" \" + wordStart();\r\n\t\t\t\t\t\twordIsOpen = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti += 19;\r\n\r\n\t\t\t\t} else if (character === wordDelimiter && text.charAt(i-1) !== wordDelimiter && i !== l-1 && text.substr(i-20, 20) !== _brSwap) {\r\n\t\t\t\t\tsplitText += wordIsOpen ? wordEnd : \"\";\r\n\t\t\t\t\twordIsOpen = false;\r\n\t\t\t\t\twhile (text.charAt(i + 1) === wordDelimiter) { //skip over empty spaces (to avoid making them words)\r\n\t\t\t\t\t\tsplitText += space;\r\n\t\t\t\t\t\ti++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (text.charAt(i + 1) !== \")\" || text.substr(i + 1, 20) !== _brSwap) {\r\n\t\t\t\t\t\tsplitText += space + wordStart();\r\n\t\t\t\t\t\twordIsOpen = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} else if (character === \"{\" && text.substr(i, 6) === \"{{LT}}\") {\r\n\t\t\t\t\tsplitText +=  chars ? charStart() + \"{{LT}}\" + \"</\" + tag + \">\" : \"{{LT}}\";\r\n\t\t\t\t\ti += 5;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsplitText += (chars && character !== \" \") ? charStart() + character + \"</\" + tag + \">\" : character;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telement.innerHTML = splitText + (wordIsOpen ? wordEnd : \"\");\r\n\r\n\t\t\tif (hasTagStart) {\r\n\t\t\t\t_swapText(element, \"{{LT}}\", \"<\");\r\n\t\t\t}\r\n\t\t\t//copy all the descendant nodes into an array (we can't use a regular nodeList because it's live and we may need to renest things)\r\n\t\t\tj = element.getElementsByTagName(\"*\");\r\n\t\t\tl = j.length;\r\n\t\t\tnodes = [];\r\n\t\t\tfor (i = 0; i < l; i++) {\r\n\t\t\t\tnodes[i] = j[i];\r\n\t\t\t}\r\n\r\n\t\t\t//for absolute positioning, we need to record the x/y offsets and width/height for every <div>. And even if we're not positioning things absolutely, in order to accommodate lines, we must figure out where the y offset changes so that we can sense where the lines break, and we populate the lines array.\r\n\t\t\tif (lines || absolute) {\r\n\t\t\t\tfor (i = 0; i < l; i++) {\r\n\t\t\t\t\tnode = nodes[i];\r\n\t\t\t\t\tisChild = (node.parentNode === element);\r\n\t\t\t\t\tif (isChild || absolute || (chars && !words)) {\r\n\t\t\t\t\t\toffset = node.offsetTop;\r\n\t\t\t\t\t\tif (lines && isChild && Math.abs(offset - lineOffsetY) > lineThreshold && node.nodeName !== \"BR\") { //we found some rare occasions where a certain character like &#8209; could cause the offsetTop to be off by 1 pixel, so we build in a threshold.\r\n\t\t\t\t\t\t\tcurLine = [];\r\n\t\t\t\t\t\t\tlines.push(curLine);\r\n\t\t\t\t\t\t\tlineOffsetY = offset;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (absolute) { //record offset x and y, as well as width and height so that we can access them later for positioning. Grabbing them at once ensures we don't trigger a browser paint & we maximize performance.\r\n\t\t\t\t\t\t\tnode._x = node.offsetLeft;\r\n\t\t\t\t\t\t\tnode._y = offset;\r\n\t\t\t\t\t\t\tnode._w = node.offsetWidth;\r\n\t\t\t\t\t\t\tnode._h = node.offsetHeight;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (lines) {\r\n\t\t\t\t\t\t\tif (words === isChild || !chars) {\r\n\t\t\t\t\t\t\t\tcurLine.push(node);\r\n\t\t\t\t\t\t\t\tnode._x -= paddingLeft;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (isChild && i) {\r\n\t\t\t\t\t\t\t\tnodes[i-1]._wordEnd = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (node.nodeName === \"BR\" && node.nextSibling && node.nextSibling.nodeName === \"BR\") { //two consecutive <br> tags signify a new [empty] line.\r\n\t\t\t\t\t\t\t\tlines.push([]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (i = 0; i < l; i++) {\r\n\t\t\t\tnode = nodes[i];\r\n\t\t\t\tisChild = (node.parentNode === element);\r\n\t\t\t\tif (node.nodeName === \"BR\") {\r\n\t\t\t\t\tif (lines || absolute) {\r\n\t\t\t\t\t\telement.removeChild(node);\r\n\t\t\t\t\t\tnodes.splice(i--, 1);\r\n\t\t\t\t\t\tl--;\r\n\t\t\t\t\t} else if (!words) {\r\n\t\t\t\t\t\telement.appendChild(node);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (absolute) {\r\n\t\t\t\t\tstyle = node.style;\r\n\t\t\t\t\tif (!words && !isChild) {\r\n\t\t\t\t\t\tnode._x += node.parentNode._x;\r\n\t\t\t\t\t\tnode._y += node.parentNode._y;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstyle.left = node._x + \"px\";\r\n\t\t\t\t\tstyle.top = node._y + \"px\";\r\n\t\t\t\t\tstyle.position = \"absolute\";\r\n\t\t\t\t\tstyle.display = \"block\";\r\n\t\t\t\t\t//if we don't set the width/height, things collapse in older versions of IE and the origin for transforms is thrown off in all browsers.\r\n\t\t\t\t\tstyle.width = (node._w + 1) + \"px\"; //IE is 1px short sometimes. Avoid wrapping\r\n\t\t\t\t\tstyle.height = node._h + \"px\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!words) {\r\n\t\t\t\t\t//we always start out wrapping words in their own <div> so that line breaks happen correctly, but here we'll remove those <div> tags if necessary and renest the characters directly into the element rather than inside the word <div>\r\n\t\t\t\t\tif (isChild) {\r\n\t\t\t\t\t\telement.removeChild(node);\r\n\t\t\t\t\t\tnodes.splice(i--, 1);\r\n\t\t\t\t\t\tl--;\r\n\t\t\t\t\t} else if (!isChild && chars) {\r\n\t\t\t\t\t\toffset = (!lines && !absolute && node.nextSibling); //if this is the last letter in the word (and we're not breaking by lines and not positioning things absolutely), we need to add a space afterwards so that the characters don't just mash together\r\n\t\t\t\t\t\telement.appendChild(node);\r\n\t\t\t\t\t\tif (!offset) {\r\n\t\t\t\t\t\t\telement.appendChild(_doc.createTextNode(\" \"));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcharArray.push(node);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (isChild && node.innerHTML !== \"\") {\r\n\t\t\t\t\twordArray.push(node);\r\n\t\t\t\t} else if (chars) {\r\n\t\t\t\t\tcharArray.push(node);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (lines) {\r\n\t\t\t\t//the next 7 lines just give us the line width in the most reliable way and figure out the left offset (if position isn't relative or absolute). We must set the width along with text-align to ensure everything works properly for various alignments.\r\n\t\t\t\tif (absolute) {\r\n\t\t\t\t\tlineNode = _doc.createElement(tag);\r\n\t\t\t\t\telement.appendChild(lineNode);\r\n\t\t\t\t\tlineWidth = lineNode.offsetWidth + \"px\";\r\n\t\t\t\t\toffset = (lineNode.offsetParent === element) ? 0 : element.offsetLeft;\r\n\t\t\t\t\telement.removeChild(lineNode);\r\n\t\t\t\t}\r\n\t\t\t\tstyle = element.style.cssText;\r\n\t\t\t\telement.style.cssText = \"display:none;\"; //to improve performance, set display:none on the element so that the browser doesn't have to worry about reflowing or rendering while we're renesting things. We'll revert the cssText later.\r\n\t\t\t\t//we can't use element.innerHTML = \"\" because that causes IE to literally delete all the nodes and their content even though we've stored them in an array! So we must loop through the children and remove them.\r\n\t\t\t\twhile (element.firstChild) {\r\n\t\t\t\t\telement.removeChild(element.firstChild);\r\n\t\t\t\t}\r\n\t\t\t\taddWordSpaces = (wordDelimiter === \" \" && (!absolute || (!words && !chars)));\r\n\t\t\t\tfor (i = 0; i < lines.length; i++) {\r\n\t\t\t\t\tcurLine = lines[i];\r\n\t\t\t\t\tlineNode = _doc.createElement(tag);\r\n\t\t\t\t\tlineNode.style.cssText = \"display:block;text-align:\" + textAlign + \";position:\" + (absolute ? \"absolute;\" : \"relative;\");\r\n\t\t\t\t\tif (linesClass) {\r\n\t\t\t\t\t\tlineNode.className = linesClass + (iterateLine ? i+1 : \"\");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlineArray.push(lineNode);\r\n\t\t\t\t\tl = curLine.length;\r\n\t\t\t\t\tfor (j = 0; j < l; j++) {\r\n\t\t\t\t\t\tif (curLine[j].nodeName !== \"BR\") {\r\n\t\t\t\t\t\t\tnode = curLine[j];\r\n\t\t\t\t\t\t\tlineNode.appendChild(node);\r\n\t\t\t\t\t\t\tif (addWordSpaces && (node._wordEnd || words)) {\r\n\t\t\t\t\t\t\t\tlineNode.appendChild(_doc.createTextNode(\" \"));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (absolute) {\r\n\t\t\t\t\t\t\t\tif (j === 0) {\r\n\t\t\t\t\t\t\t\t\tlineNode.style.top = node._y + \"px\";\r\n\t\t\t\t\t\t\t\t\tlineNode.style.left = (paddingLeft + offset) + \"px\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tnode.style.top = \"0px\";\r\n\t\t\t\t\t\t\t\tif (offset) {\r\n\t\t\t\t\t\t\t\t\tnode.style.left = (node._x - offset) + \"px\";\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (l === 0) { //if there are no nodes in the line (typically meaning there were two consecutive <br> tags, just add a non-breaking space so that things display properly.\r\n\t\t\t\t\t\tlineNode.innerHTML = \"&nbsp;\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!words && !chars) {\r\n\t\t\t\t\t\tlineNode.innerHTML = _getText(lineNode).split(String.fromCharCode(160)).join(\" \");\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (absolute) {\r\n\t\t\t\t\t\tlineNode.style.width = lineWidth;\r\n\t\t\t\t\t\tlineNode.style.height = node._h + \"px\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\telement.appendChild(lineNode);\r\n\t\t\t\t}\r\n\t\t\t\telement.style.cssText = style;\r\n\t\t\t}\r\n\r\n\t\t\t//if everything shifts to being position:absolute, the container can collapse in terms of height or width, so fix that here.\r\n\t\t\tif (absolute) {\r\n\t\t\t\tif (origHeight > element.clientHeight) {\r\n\t\t\t\t\telement.style.height = (origHeight - padTopAndBottom) + \"px\";\r\n\t\t\t\t\tif (element.clientHeight < origHeight) { //IE8 and earlier use a different box model - we must include padding and borders\r\n\t\t\t\t\t\telement.style.height = (origHeight + borderTopAndBottom)+ \"px\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (origWidth > element.clientWidth) {\r\n\t\t\t\t\telement.style.width = (origWidth - padLeftAndRight) + \"px\";\r\n\t\t\t\t\tif (element.clientWidth < origWidth) { //IE8 and earlier use a different box model - we must include padding and borders\r\n\t\t\t\t\t\telement.style.width = (origWidth + borderLeftAndRight)+ \"px\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t_pushReversed(allChars, charArray);\r\n\t\t\t_pushReversed(allWords, wordArray);\r\n\t\t\t_pushReversed(allLines, lineArray);\r\n\t\t},\r\n\t\tp = SplitText.prototype;\r\n\r\n\tp.split = function(vars) {\r\n\t\tif (this.isSplit) {\r\n\t\t\tthis.revert();\r\n\t\t}\r\n\t\tthis.vars = vars || this.vars;\r\n\t\tthis._originals.length = this.chars.length = this.words.length = this.lines.length = 0;\r\n\t\tvar i = this.elements.length;\r\n\t\t//we split in reversed order so that if/when we position:absolute elements, they don't affect the position of the ones after them in the document flow (shifting them up as they're taken out of the document flow).\r\n\t\twhile (--i > -1) {\r\n\t\t\tthis._originals[i] = this.elements[i].innerHTML;\r\n\t\t\t_split(this.elements[i], this.vars, this.chars, this.words, this.lines);\r\n\t\t}\r\n\t\tthis.chars.reverse();\r\n\t\tthis.words.reverse();\r\n\t\tthis.lines.reverse();\r\n\t\tthis.isSplit = true;\r\n\t\treturn this;\r\n\t};\r\n\r\n\tp.revert = function() {\r\n\t\tif (!this._originals) {\r\n\t\t\tthrow(\"revert() call wasn't scoped properly.\");\r\n\t\t}\r\n\t\tvar i = this._originals.length;\r\n\t\twhile (--i > -1) {\r\n\t\t\tthis.elements[i].innerHTML = this._originals[i];\r\n\t\t}\r\n\t\tthis.chars = [];\r\n\t\tthis.words = [];\r\n\t\tthis.lines = [];\r\n\t\tthis.isSplit = false;\r\n\t\treturn this;\r\n\t};\r\n\r\n\tSplitText.selector = window.$ || window.jQuery || function(e) {\r\n\t\t\tvar selector = window.$ || window.jQuery;\r\n\t\t\tif (selector) {\r\n\t\t\t\tSplitText.selector = selector;\r\n\t\t\t\treturn selector(e);\r\n\t\t\t}\r\n\t\t\treturn (typeof(document) === \"undefined\") ? e : (document.querySelectorAll ? document.querySelectorAll(e) : document.getElementById((e.charAt(0) === \"#\") ? e.substr(1) : e));\r\n\t\t};\r\n\tSplitText.version = \"0.4.0\";\r\n\r\n})(_gsScope);\r\n\r\n//export to AMD/RequireJS and CommonJS/Node (precursor to full modular build system coming at a later date)\r\n(function(name) {\r\n\t\"use strict\";\r\n\tvar getGlobal = function() {\r\n\t\treturn (_gsScope.GreenSockGlobals || _gsScope)[name];\r\n\t};\r\n\tif (typeof(define) === \"function\" && define.amd) { //AMD\r\n\t\tdefine([], getGlobal);\r\n\t} else if (typeof(module) !== \"undefined\" && module.exports) { //node\r\n\t\tmodule.exports = getGlobal();\r\n\t}\r\n}(\"SplitText\"));","Nwdthemes_Revslider/public/assets/js/tools/CSSPlugin.js":"/*!\r\n * VERSION: 1.19.1\r\n * DATE: 2017-01-17\r\n * UPDATES AND DOCS AT: http://greensock.com\r\n *\r\n * @license Copyright (c) 2008-2017, GreenSock. All rights reserved.\r\n * This work is subject to the terms at http://greensock.com/standard-license or for\r\n * Club GreenSock members, the software agreement that was issued with your membership.\r\n *\r\n * @author: Jack Doyle, jack@greensock.com\r\n */\r\nvar _gsScope = (typeof(module) !== \"undefined\" && module.exports && typeof(global) !== \"undefined\") ? global : this || window; //helps ensure compatibility with AMD/RequireJS and CommonJS/Node\r\n(_gsScope._gsQueue || (_gsScope._gsQueue = [])).push( function() {\r\n\r\n    \"use strict\";\r\n\r\n    _gsScope._gsDefine(\"plugins.CSSPlugin\", [\"plugins.TweenPlugin\",\"TweenLite\"], function(TweenPlugin, TweenLite) {\r\n\r\n        /** @constructor **/\r\n        var CSSPlugin = function() {\r\n                TweenPlugin.call(this, \"css\");\r\n                this._overwriteProps.length = 0;\r\n                this.setRatio = CSSPlugin.prototype.setRatio; //speed optimization (avoid prototype lookup on this \"hot\" method)\r\n            },\r\n            _globals = _gsScope._gsDefine.globals,\r\n            _hasPriority, //turns true whenever a CSSPropTween instance is created that has a priority other than 0. This helps us discern whether or not we should spend the time organizing the linked list or not after a CSSPlugin's _onInitTween() method is called.\r\n            _suffixMap, //we set this in _onInitTween() each time as a way to have a persistent variable we can use in other methods like _parse() without having to pass it around as a parameter and we keep _parse() decoupled from a particular CSSPlugin instance\r\n            _cs, //computed style (we store this in a shared variable to conserve memory and make minification tighter\r\n            _overwriteProps, //alias to the currently instantiating CSSPlugin's _overwriteProps array. We use this closure in order to avoid having to pass a reference around from method to method and aid in minification.\r\n            _specialProps = {},\r\n            p = CSSPlugin.prototype = new TweenPlugin(\"css\");\r\n\r\n        p.constructor = CSSPlugin;\r\n        CSSPlugin.version = \"1.19.1\";\r\n        CSSPlugin.API = 2;\r\n        CSSPlugin.defaultTransformPerspective = 0;\r\n        CSSPlugin.defaultSkewType = \"compensated\";\r\n        CSSPlugin.defaultSmoothOrigin = true;\r\n        p = \"px\"; //we'll reuse the \"p\" variable to keep file size down\r\n        CSSPlugin.suffixMap = {top:p, right:p, bottom:p, left:p, width:p, height:p, fontSize:p, padding:p, margin:p, perspective:p, lineHeight:\"\"};\r\n\r\n\r\n        var _numExp = /(?:\\-|\\.|\\b)(\\d|\\.|e\\-)+/g,\r\n            _relNumExp = /(?:\\d|\\-\\d|\\.\\d|\\-\\.\\d|\\+=\\d|\\-=\\d|\\+=.\\d|\\-=\\.\\d)+/g,\r\n            _valuesExp = /(?:\\+=|\\-=|\\-|\\b)[\\d\\-\\.]+[a-zA-Z0-9]*(?:%|\\b)/gi, //finds all the values that begin with numbers or += or -= and then a number. Includes suffixes. We use this to split complex values apart like \"1px 5px 20px rgb(255,102,51)\"\r\n            _NaNExp = /(?![+-]?\\d*\\.?\\d+|[+-]|e[+-]\\d+)[^0-9]/g, //also allows scientific notation and doesn't kill the leading -/+ in -= and +=\r\n            _suffixExp = /(?:\\d|\\-|\\+|=|#|\\.)*/g,\r\n            _opacityExp = /opacity *= *([^)]*)/i,\r\n            _opacityValExp = /opacity:([^;]*)/i,\r\n            _alphaFilterExp = /alpha\\(opacity *=.+?\\)/i,\r\n            _rgbhslExp = /^(rgb|hsl)/,\r\n            _capsExp = /([A-Z])/g,\r\n            _camelExp = /-([a-z])/gi,\r\n            _urlExp = /(^(?:url\\(\\\"|url\\())|(?:(\\\"\\))$|\\)$)/gi, //for pulling out urls from url(...) or url(\"...\") strings (some browsers wrap urls in quotes, some don't when reporting things like backgroundImage)\r\n            _camelFunc = function(s, g) { return g.toUpperCase(); },\r\n            _horizExp = /(?:Left|Right|Width)/i,\r\n            _ieGetMatrixExp = /(M11|M12|M21|M22)=[\\d\\-\\.e]+/gi,\r\n            _ieSetMatrixExp = /progid\\:DXImageTransform\\.Microsoft\\.Matrix\\(.+?\\)/i,\r\n            _commasOutsideParenExp = /,(?=[^\\)]*(?:\\(|$))/gi, //finds any commas that are not within parenthesis\r\n            _complexExp = /[\\s,\\(]/i, //for testing a string to find if it has a space, comma, or open parenthesis (clues that it's a complex value)\r\n            _DEG2RAD = Math.PI / 180,\r\n            _RAD2DEG = 180 / Math.PI,\r\n            _forcePT = {},\r\n            _dummyElement = {style:{}},\r\n            _doc = _gsScope.document || {createElement: function() {return _dummyElement;}},\r\n            _createElement = function(type, ns) {\r\n                return _doc.createElementNS ? _doc.createElementNS(ns || \"http://www.w3.org/1999/xhtml\", type) : _doc.createElement(type);\r\n            },\r\n            _tempDiv = _createElement(\"div\"),\r\n            _tempImg = _createElement(\"img\"),\r\n            _internals = CSSPlugin._internals = {_specialProps:_specialProps}, //provides a hook to a few internal methods that we need to access from inside other plugins\r\n            _agent = (_gsScope.navigator || {}).userAgent || \"\",\r\n            _autoRound,\r\n            _reqSafariFix, //we won't apply the Safari transform fix until we actually come across a tween that affects a transform property (to maintain best performance).\r\n\r\n            _isSafari,\r\n            _isFirefox, //Firefox has a bug that causes 3D transformed elements to randomly disappear unless a repaint is forced after each update on each element.\r\n            _isSafariLT6, //Safari (and Android 4 which uses a flavor of Safari) has a bug that prevents changes to \"top\" and \"left\" properties from rendering properly if changed on the same frame as a transform UNLESS we set the element's WebkitBackfaceVisibility to hidden (weird, I know). Doing this for Android 3 and earlier seems to actually cause other problems, though (fun!)\r\n            _ieVers,\r\n            _supportsOpacity = (function() { //we set _isSafari, _ieVers, _isFirefox, and _supportsOpacity all in one function here to reduce file size slightly, especially in the minified version.\r\n                var i = _agent.indexOf(\"Android\"),\r\n                    a = _createElement(\"a\");\r\n                _isSafari = (_agent.indexOf(\"Safari\") !== -1 && _agent.indexOf(\"Chrome\") === -1 && (i === -1 || parseFloat(_agent.substr(i+8, 2)) > 3));\r\n                _isSafariLT6 = (_isSafari && (parseFloat(_agent.substr(_agent.indexOf(\"Version/\")+8, 2)) < 6));\r\n                _isFirefox = (_agent.indexOf(\"Firefox\") !== -1);\r\n                if ((/MSIE ([0-9]{1,}[\\.0-9]{0,})/).exec(_agent) || (/Trident\\/.*rv:([0-9]{1,}[\\.0-9]{0,})/).exec(_agent)) {\r\n                    _ieVers = parseFloat( RegExp.$1 );\r\n                }\r\n                if (!a) {\r\n                    return false;\r\n                }\r\n                a.style.cssText = \"top:1px;opacity:.55;\";\r\n                return /^0.55/.test(a.style.opacity);\r\n            }()),\r\n            _getIEOpacity = function(v) {\r\n                return (_opacityExp.test( ((typeof(v) === \"string\") ? v : (v.currentStyle ? v.currentStyle.filter : v.style.filter) || \"\") ) ? ( parseFloat( RegExp.$1 ) / 100 ) : 1);\r\n            },\r\n            _log = function(s) {//for logging messages, but in a way that won't throw errors in old versions of IE.\r\n                if (_gsScope.console) {\r\n                    console.log(s);\r\n                }\r\n            },\r\n            _target, //when initting a CSSPlugin, we set this variable so that we can access it from within many other functions without having to pass it around as params\r\n            _index, //when initting a CSSPlugin, we set this variable so that we can access it from within many other functions without having to pass it around as params\r\n\r\n            _prefixCSS = \"\", //the non-camelCase vendor prefix like \"-o-\", \"-moz-\", \"-ms-\", or \"-webkit-\"\r\n            _prefix = \"\", //camelCase vendor prefix like \"O\", \"ms\", \"Webkit\", or \"Moz\".\r\n\r\n            // @private feed in a camelCase property name like \"transform\" and it will check to see if it is valid as-is or if it needs a vendor prefix. It returns the corrected camelCase property name (i.e. \"WebkitTransform\" or \"MozTransform\" or \"transform\" or null if no such property is found, like if the browser is IE8 or before, \"transform\" won't be found at all)\r\n            _checkPropPrefix = function(p, e) {\r\n                e = e || _tempDiv;\r\n                var s = e.style,\r\n                    a, i;\r\n                if (s[p] !== undefined) {\r\n                    return p;\r\n                }\r\n                p = p.charAt(0).toUpperCase() + p.substr(1);\r\n                a = [\"O\",\"Moz\",\"ms\",\"Ms\",\"Webkit\"];\r\n                i = 5;\r\n                while (--i > -1 && s[a[i]+p] === undefined) { }\r\n                if (i >= 0) {\r\n                    _prefix = (i === 3) ? \"ms\" : a[i];\r\n                    _prefixCSS = \"-\" + _prefix.toLowerCase() + \"-\";\r\n                    return _prefix + p;\r\n                }\r\n                return null;\r\n            },\r\n\r\n            _getComputedStyle = _doc.defaultView ? _doc.defaultView.getComputedStyle : function() {},\r\n\r\n            /**\r\n             * @private Returns the css style for a particular property of an element. For example, to get whatever the current \"left\" css value for an element with an ID of \"myElement\", you could do:\r\n             * var currentLeft = CSSPlugin.getStyle( document.getElementById(\"myElement\"), \"left\");\r\n             *\r\n             * @param {!Object} t Target element whose style property you want to query\r\n             * @param {!string} p Property name (like \"left\" or \"top\" or \"marginTop\", etc.)\r\n             * @param {Object=} cs Computed style object. This just provides a way to speed processing if you're going to get several properties on the same element in quick succession - you can reuse the result of the getComputedStyle() call.\r\n             * @param {boolean=} calc If true, the value will not be read directly from the element's \"style\" property (if it exists there), but instead the getComputedStyle() result will be used. This can be useful when you want to ensure that the browser itself is interpreting the value.\r\n             * @param {string=} dflt Default value that should be returned in the place of null, \"none\", \"auto\" or \"auto auto\".\r\n             * @return {?string} The current property value\r\n             */\r\n            _getStyle = CSSPlugin.getStyle = function(t, p, cs, calc, dflt) {\r\n                var rv;\r\n                if (!_supportsOpacity) if (p === \"opacity\") { //several versions of IE don't use the standard \"opacity\" property - they use things like filter:alpha(opacity=50), so we parse that here.\r\n                    return _getIEOpacity(t);\r\n                }\r\n                if (!calc && t.style[p]) {\r\n                    rv = t.style[p];\r\n                } else if ((cs = cs || _getComputedStyle(t))) {\r\n                    rv = cs[p] || cs.getPropertyValue(p) || cs.getPropertyValue(p.replace(_capsExp, \"-$1\").toLowerCase());\r\n                } else if (t.currentStyle) {\r\n                    rv = t.currentStyle[p];\r\n                }\r\n                return (dflt != null && (!rv || rv === \"none\" || rv === \"auto\" || rv === \"auto auto\")) ? dflt : rv;\r\n            },\r\n\r\n            /**\r\n             * @private Pass the target element, the property name, the numeric value, and the suffix (like \"%\", \"em\", \"px\", etc.) and it will spit back the equivalent pixel number.\r\n             * @param {!Object} t Target element\r\n             * @param {!string} p Property name (like \"left\", \"top\", \"marginLeft\", etc.)\r\n             * @param {!number} v Value\r\n             * @param {string=} sfx Suffix (like \"px\" or \"%\" or \"em\")\r\n             * @param {boolean=} recurse If true, the call is a recursive one. In some browsers (like IE7/8), occasionally the value isn't accurately reported initially, but if we run the function again it will take effect.\r\n             * @return {number} value in pixels\r\n             */\r\n            _convertToPixels = _internals.convertToPixels = function(t, p, v, sfx, recurse) {\r\n                if (sfx === \"px\" || !sfx) { return v; }\r\n                if (sfx === \"auto\" || !v) { return 0; }\r\n                var horiz = _horizExp.test(p),\r\n                    node = t,\r\n                    style = _tempDiv.style,\r\n                    neg = (v < 0),\r\n                    precise = (v === 1),\r\n                    pix, cache, time;\r\n                if (neg) {\r\n                    v = -v;\r\n                }\r\n                if (precise) {\r\n                    v *= 100;\r\n                }\r\n                if (sfx === \"%\" && p.indexOf(\"border\") !== -1) {\r\n                    pix = (v / 100) * (horiz ? t.clientWidth : t.clientHeight);\r\n                } else {\r\n                    style.cssText = \"border:0 solid red;position:\" + _getStyle(t, \"position\") + \";line-height:0;\";\r\n                    if (sfx === \"%\" || !node.appendChild || sfx.charAt(0) === \"v\" || sfx === \"rem\") {\r\n                        node = t.parentNode || _doc.body;\r\n                        cache = node._gsCache;\r\n                        time = TweenLite.ticker.frame;\r\n                        if (cache && horiz && cache.time === time) { //performance optimization: we record the width of elements along with the ticker frame so that we can quickly get it again on the same tick (seems relatively safe to assume it wouldn't change on the same tick)\r\n                            return cache.width * v / 100;\r\n                        }\r\n                        style[(horiz ? \"width\" : \"height\")] = v + sfx;\r\n                    } else {\r\n                        style[(horiz ? \"borderLeftWidth\" : \"borderTopWidth\")] = v + sfx;\r\n                    }\r\n                    node.appendChild(_tempDiv);\r\n                    pix = parseFloat(_tempDiv[(horiz ? \"offsetWidth\" : \"offsetHeight\")]);\r\n                    node.removeChild(_tempDiv);\r\n                    if (horiz && sfx === \"%\" && CSSPlugin.cacheWidths !== false) {\r\n                        cache = node._gsCache = node._gsCache || {};\r\n                        cache.time = time;\r\n                        cache.width = pix / v * 100;\r\n                    }\r\n                    if (pix === 0 && !recurse) {\r\n                        pix = _convertToPixels(t, p, v, sfx, true);\r\n                    }\r\n                }\r\n                if (precise) {\r\n                    pix /= 100;\r\n                }\r\n                return neg ? -pix : pix;\r\n            },\r\n            _calculateOffset = _internals.calculateOffset = function(t, p, cs) { //for figuring out \"top\" or \"left\" in px when it's \"auto\". We need to factor in margin with the offsetLeft/offsetTop\r\n                if (_getStyle(t, \"position\", cs) !== \"absolute\") { return 0; }\r\n                var dim = ((p === \"left\") ? \"Left\" : \"Top\"),\r\n                    v = _getStyle(t, \"margin\" + dim, cs);\r\n                return t[\"offset\" + dim] - (_convertToPixels(t, p, parseFloat(v), v.replace(_suffixExp, \"\")) || 0);\r\n            },\r\n\r\n            // @private returns at object containing ALL of the style properties in camelCase and their associated values.\r\n            _getAllStyles = function(t, cs) {\r\n                var s = {},\r\n                    i, tr, p;\r\n                if ((cs = cs || _getComputedStyle(t, null))) {\r\n                    if ((i = cs.length)) {\r\n                        while (--i > -1) {\r\n                            p = cs[i];\r\n                            if (p.indexOf(\"-transform\") === -1 || _transformPropCSS === p) { //Some webkit browsers duplicate transform values, one non-prefixed and one prefixed (\"transform\" and \"WebkitTransform\"), so we must weed out the extra one here.\r\n                                s[p.replace(_camelExp, _camelFunc)] = cs.getPropertyValue(p);\r\n                            }\r\n                        }\r\n                    } else { //some browsers behave differently - cs.length is always 0, so we must do a for...in loop.\r\n                        for (i in cs) {\r\n                            if (i.indexOf(\"Transform\") === -1 || _transformProp === i) { //Some webkit browsers duplicate transform values, one non-prefixed and one prefixed (\"transform\" and \"WebkitTransform\"), so we must weed out the extra one here.\r\n                                s[i] = cs[i];\r\n                            }\r\n                        }\r\n                    }\r\n                } else if ((cs = t.currentStyle || t.style)) {\r\n                    for (i in cs) {\r\n                        if (typeof(i) === \"string\" && s[i] === undefined) {\r\n                            s[i.replace(_camelExp, _camelFunc)] = cs[i];\r\n                        }\r\n                    }\r\n                }\r\n                if (!_supportsOpacity) {\r\n                    s.opacity = _getIEOpacity(t);\r\n                }\r\n                tr = _getTransform(t, cs, false);\r\n                s.rotation = tr.rotation;\r\n                s.skewX = tr.skewX;\r\n                s.scaleX = tr.scaleX;\r\n                s.scaleY = tr.scaleY;\r\n                s.x = tr.x;\r\n                s.y = tr.y;\r\n                if (_supports3D) {\r\n                    s.z = tr.z;\r\n                    s.rotationX = tr.rotationX;\r\n                    s.rotationY = tr.rotationY;\r\n                    s.scaleZ = tr.scaleZ;\r\n                }\r\n                if (s.filters) {\r\n                    delete s.filters;\r\n                }\r\n                return s;\r\n            },\r\n\r\n            // @private analyzes two style objects (as returned by _getAllStyles()) and only looks for differences between them that contain tweenable values (like a number or color). It returns an object with a \"difs\" property which refers to an object containing only those isolated properties and values for tweening, and a \"firstMPT\" property which refers to the first MiniPropTween instance in a linked list that recorded all the starting values of the different properties so that we can revert to them at the end or beginning of the tween - we don't want the cascading to get messed up. The forceLookup parameter is an optional generic object with properties that should be forced into the results - this is necessary for className tweens that are overwriting others because imagine a scenario where a rollover/rollout adds/removes a class and the user swipes the mouse over the target SUPER fast, thus nothing actually changed yet and the subsequent comparison of the properties would indicate they match (especially when px rounding is taken into consideration), thus no tweening is necessary even though it SHOULD tween and remove those properties after the tween (otherwise the inline styles will contaminate things). See the className SpecialProp code for details.\r\n            _cssDif = function(t, s1, s2, vars, forceLookup) {\r\n                var difs = {},\r\n                    style = t.style,\r\n                    val, p, mpt;\r\n                for (p in s2) {\r\n                    if (p !== \"cssText\") if (p !== \"length\") if (isNaN(p)) if (s1[p] !== (val = s2[p]) || (forceLookup && forceLookup[p])) if (p.indexOf(\"Origin\") === -1) if (typeof(val) === \"number\" || typeof(val) === \"string\") {\r\n                        difs[p] = (val === \"auto\" && (p === \"left\" || p === \"top\")) ? _calculateOffset(t, p) : ((val === \"\" || val === \"auto\" || val === \"none\") && typeof(s1[p]) === \"string\" && s1[p].replace(_NaNExp, \"\") !== \"\") ? 0 : val; //if the ending value is defaulting (\"\" or \"auto\"), we check the starting value and if it can be parsed into a number (a string which could have a suffix too, like 700px), then we swap in 0 for \"\" or \"auto\" so that things actually tween.\r\n                        if (style[p] !== undefined) { //for className tweens, we must remember which properties already existed inline - the ones that didn't should be removed when the tween isn't in progress because they were only introduced to facilitate the transition between classes.\r\n                            mpt = new MiniPropTween(style, p, style[p], mpt);\r\n                        }\r\n                    }\r\n                }\r\n                if (vars) {\r\n                    for (p in vars) { //copy properties (except className)\r\n                        if (p !== \"className\") {\r\n                            difs[p] = vars[p];\r\n                        }\r\n                    }\r\n                }\r\n                return {difs:difs, firstMPT:mpt};\r\n            },\r\n            _dimensions = {width:[\"Left\",\"Right\"], height:[\"Top\",\"Bottom\"]},\r\n            _margins = [\"marginLeft\",\"marginRight\",\"marginTop\",\"marginBottom\"],\r\n\r\n            /**\r\n             * @private Gets the width or height of an element\r\n             * @param {!Object} t Target element\r\n             * @param {!string} p Property name (\"width\" or \"height\")\r\n             * @param {Object=} cs Computed style object (if one exists). Just a speed optimization.\r\n             * @return {number} Dimension (in pixels)\r\n             */\r\n            _getDimension = function(t, p, cs) {\r\n                if ((t.nodeName + \"\").toLowerCase() === \"svg\") { //Chrome no longer supports offsetWidth/offsetHeight on SVG elements.\r\n                    return (cs || _getComputedStyle(t))[p] || 0;\r\n                } else if (t.getCTM && _isSVG(t)) {\r\n                    return t.getBBox()[p] || 0;\r\n                }\r\n                var v = parseFloat((p === \"width\") ? t.offsetWidth : t.offsetHeight),\r\n                    a = _dimensions[p],\r\n                    i = a.length;\r\n                cs = cs || _getComputedStyle(t, null);\r\n                while (--i > -1) {\r\n                    v -= parseFloat( _getStyle(t, \"padding\" + a[i], cs, true) ) || 0;\r\n                    v -= parseFloat( _getStyle(t, \"border\" + a[i] + \"Width\", cs, true) ) || 0;\r\n                }\r\n                return v;\r\n            },\r\n\r\n            // @private Parses position-related complex strings like \"top left\" or \"50px 10px\" or \"70% 20%\", etc. which are used for things like transformOrigin or backgroundPosition. Optionally decorates a supplied object (recObj) with the following properties: \"ox\" (offsetX), \"oy\" (offsetY), \"oxp\" (if true, \"ox\" is a percentage not a pixel value), and \"oxy\" (if true, \"oy\" is a percentage not a pixel value)\r\n            _parsePosition = function(v, recObj) {\r\n                if (v === \"contain\" || v === \"auto\" || v === \"auto auto\") { //note: Firefox uses \"auto auto\" as default whereas Chrome uses \"auto\".\r\n                    return v + \" \";\r\n                }\r\n                if (v == null || v === \"\") {\r\n                    v = \"0 0\";\r\n                }\r\n                var a = v.split(\" \"),\r\n                    x = (v.indexOf(\"left\") !== -1) ? \"0%\" : (v.indexOf(\"right\") !== -1) ? \"100%\" : a[0],\r\n                    y = (v.indexOf(\"top\") !== -1) ? \"0%\" : (v.indexOf(\"bottom\") !== -1) ? \"100%\" : a[1],\r\n                    i;\r\n                if (a.length > 3 && !recObj) { //multiple positions\r\n                    a = v.split(\", \").join(\",\").split(\",\");\r\n                    v = [];\r\n                    for (i = 0; i < a.length; i++) {\r\n                        v.push(_parsePosition(a[i]));\r\n                    }\r\n                    return v.join(\",\");\r\n                }\r\n                if (y == null) {\r\n                    y = (x === \"center\") ? \"50%\" : \"0\";\r\n                } else if (y === \"center\") {\r\n                    y = \"50%\";\r\n                }\r\n                if (x === \"center\" || (isNaN(parseFloat(x)) && (x + \"\").indexOf(\"=\") === -1)) { //remember, the user could flip-flop the values and say \"bottom center\" or \"center bottom\", etc. \"center\" is ambiguous because it could be used to describe horizontal or vertical, hence the isNaN(). If there's an \"=\" sign in the value, it's relative.\r\n                    x = \"50%\";\r\n                }\r\n                v = x + \" \" + y + ((a.length > 2) ? \" \" + a[2] : \"\");\r\n                if (recObj) {\r\n                    recObj.oxp = (x.indexOf(\"%\") !== -1);\r\n                    recObj.oyp = (y.indexOf(\"%\") !== -1);\r\n                    recObj.oxr = (x.charAt(1) === \"=\");\r\n                    recObj.oyr = (y.charAt(1) === \"=\");\r\n                    recObj.ox = parseFloat(x.replace(_NaNExp, \"\"));\r\n                    recObj.oy = parseFloat(y.replace(_NaNExp, \"\"));\r\n                    recObj.v = v;\r\n                }\r\n                return recObj || v;\r\n            },\r\n\r\n            /**\r\n             * @private Takes an ending value (typically a string, but can be a number) and a starting value and returns the change between the two, looking for relative value indicators like += and -= and it also ignores suffixes (but make sure the ending value starts with a number or +=/-= and that the starting value is a NUMBER!)\r\n             * @param {(number|string)} e End value which is typically a string, but could be a number\r\n             * @param {(number|string)} b Beginning value which is typically a string but could be a number\r\n             * @return {number} Amount of change between the beginning and ending values (relative values that have a \"+=\" or \"-=\" are recognized)\r\n             */\r\n            _parseChange = function(e, b) {\r\n                if (typeof(e) === \"function\") {\r\n                    e = e(_index, _target);\r\n                }\r\n                return (typeof(e) === \"string\" && e.charAt(1) === \"=\") ? parseInt(e.charAt(0) + \"1\", 10) * parseFloat(e.substr(2)) : (parseFloat(e) - parseFloat(b)) || 0;\r\n            },\r\n\r\n            /**\r\n             * @private Takes a value and a default number, checks if the value is relative, null, or numeric and spits back a normalized number accordingly. Primarily used in the _parseTransform() function.\r\n             * @param {Object} v Value to be parsed\r\n             * @param {!number} d Default value (which is also used for relative calculations if \"+=\" or \"-=\" is found in the first parameter)\r\n             * @return {number} Parsed value\r\n             */\r\n            _parseVal = function(v, d) {\r\n                if (typeof(v) === \"function\") {\r\n                    v = v(_index, _target);\r\n                }\r\n                return (v == null) ? d : (typeof(v) === \"string\" && v.charAt(1) === \"=\") ? parseInt(v.charAt(0) + \"1\", 10) * parseFloat(v.substr(2)) + d : parseFloat(v) || 0;\r\n            },\r\n\r\n            /**\r\n             * @private Translates strings like \"40deg\" or \"40\" or 40rad\" or \"+=40deg\" or \"270_short\" or \"-90_cw\" or \"+=45_ccw\" to a numeric radian angle. Of course a starting/default value must be fed in too so that relative values can be calculated properly.\r\n             * @param {Object} v Value to be parsed\r\n             * @param {!number} d Default value (which is also used for relative calculations if \"+=\" or \"-=\" is found in the first parameter)\r\n             * @param {string=} p property name for directionalEnd (optional - only used when the parsed value is directional (\"_short\", \"_cw\", or \"_ccw\" suffix). We need a way to store the uncompensated value so that at the end of the tween, we set it to exactly what was requested with no directional compensation). Property name would be \"rotation\", \"rotationX\", or \"rotationY\"\r\n             * @param {Object=} directionalEnd An object that will store the raw end values for directional angles (\"_short\", \"_cw\", or \"_ccw\" suffix). We need a way to store the uncompensated value so that at the end of the tween, we set it to exactly what was requested with no directional compensation.\r\n             * @return {number} parsed angle in radians\r\n             */\r\n            _parseAngle = function(v, d, p, directionalEnd) {\r\n                var min = 0.000001,\r\n                    cap, split, dif, result, isRelative;\r\n                if (typeof(v) === \"function\") {\r\n                    v = v(_index, _target);\r\n                }\r\n                if (v == null) {\r\n                    result = d;\r\n                } else if (typeof(v) === \"number\") {\r\n                    result = v;\r\n                } else {\r\n                    cap = 360;\r\n                    split = v.split(\"_\");\r\n                    isRelative = (v.charAt(1) === \"=\");\r\n                    dif = (isRelative ? parseInt(v.charAt(0) + \"1\", 10) * parseFloat(split[0].substr(2)) : parseFloat(split[0])) * ((v.indexOf(\"rad\") === -1) ? 1 : _RAD2DEG) - (isRelative ? 0 : d);\r\n                    if (split.length) {\r\n                        if (directionalEnd) {\r\n                            directionalEnd[p] = d + dif;\r\n                        }\r\n                        if (v.indexOf(\"short\") !== -1) {\r\n                            dif = dif % cap;\r\n                            if (dif !== dif % (cap / 2)) {\r\n                                dif = (dif < 0) ? dif + cap : dif - cap;\r\n                            }\r\n                        }\r\n                        if (v.indexOf(\"_cw\") !== -1 && dif < 0) {\r\n                            dif = ((dif + cap * 9999999999) % cap) - ((dif / cap) | 0) * cap;\r\n                        } else if (v.indexOf(\"ccw\") !== -1 && dif > 0) {\r\n                            dif = ((dif - cap * 9999999999) % cap) - ((dif / cap) | 0) * cap;\r\n                        }\r\n                    }\r\n                    result = d + dif;\r\n                }\r\n                if (result < min && result > -min) {\r\n                    result = 0;\r\n                }\r\n                return result;\r\n            },\r\n\r\n            _colorLookup = {aqua:[0,255,255],\r\n                lime:[0,255,0],\r\n                silver:[192,192,192],\r\n                black:[0,0,0],\r\n                maroon:[128,0,0],\r\n                teal:[0,128,128],\r\n                blue:[0,0,255],\r\n                navy:[0,0,128],\r\n                white:[255,255,255],\r\n                fuchsia:[255,0,255],\r\n                olive:[128,128,0],\r\n                yellow:[255,255,0],\r\n                orange:[255,165,0],\r\n                gray:[128,128,128],\r\n                purple:[128,0,128],\r\n                green:[0,128,0],\r\n                red:[255,0,0],\r\n                pink:[255,192,203],\r\n                cyan:[0,255,255],\r\n                transparent:[255,255,255,0]},\r\n\r\n            _hue = function(h, m1, m2) {\r\n                h = (h < 0) ? h + 1 : (h > 1) ? h - 1 : h;\r\n                return ((((h * 6 < 1) ? m1 + (m2 - m1) * h * 6 : (h < 0.5) ? m2 : (h * 3 < 2) ? m1 + (m2 - m1) * (2 / 3 - h) * 6 : m1) * 255) + 0.5) | 0;\r\n            },\r\n\r\n            /**\r\n             * @private Parses a color (like #9F0, #FF9900, rgb(255,51,153) or hsl(108, 50%, 10%)) into an array with 3 elements for red, green, and blue or if toHSL parameter is true, it will populate the array with hue, saturation, and lightness values. If a relative value is found in an hsl() or hsla() string, it will preserve those relative prefixes and all the values in the array will be strings instead of numbers (in all other cases it will be populated with numbers).\r\n             * @param {(string|number)} v The value the should be parsed which could be a string like #9F0 or rgb(255,102,51) or rgba(255,0,0,0.5) or it could be a number like 0xFF00CC or even a named color like red, blue, purple, etc.\r\n             * @param {(boolean)} toHSL If true, an hsl() or hsla() value will be returned instead of rgb() or rgba()\r\n             * @return {Array.<number>} An array containing red, green, and blue (and optionally alpha) in that order, or if the toHSL parameter was true, the array will contain hue, saturation and lightness (and optionally alpha) in that order. Always numbers unless there's a relative prefix found in an hsl() or hsla() string and toHSL is true.\r\n             */\r\n            _parseColor = CSSPlugin.parseColor = function(v, toHSL) {\r\n                var a, r, g, b, h, s, l, max, min, d, wasHSL;\r\n                if (!v) {\r\n                    a = _colorLookup.black;\r\n                } else if (typeof(v) === \"number\") {\r\n                    a = [v >> 16, (v >> 8) & 255, v & 255];\r\n                } else {\r\n                    if (v.charAt(v.length - 1) === \",\") { //sometimes a trailing comma is included and we should chop it off (typically from a comma-delimited list of values like a textShadow:\"2px 2px 2px blue, 5px 5px 5px rgb(255,0,0)\" - in this example \"blue,\" has a trailing comma. We could strip it out inside parseComplex() but we'd need to do it to the beginning and ending values plus it wouldn't provide protection from other potential scenarios like if the user passes in a similar value.\r\n                        v = v.substr(0, v.length - 1);\r\n                    }\r\n                    if (_colorLookup[v]) {\r\n                        a = _colorLookup[v];\r\n                    } else if (v.charAt(0) === \"#\") {\r\n                        if (v.length === 4) { //for shorthand like #9F0\r\n                            r = v.charAt(1);\r\n                            g = v.charAt(2);\r\n                            b = v.charAt(3);\r\n                            v = \"#\" + r + r + g + g + b + b;\r\n                        }\r\n                        v = parseInt(v.substr(1), 16);\r\n                        a = [v >> 16, (v >> 8) & 255, v & 255];\r\n                    } else if (v.substr(0, 3) === \"hsl\") {\r\n                        a = wasHSL = v.match(_numExp);\r\n                        if (!toHSL) {\r\n                            h = (Number(a[0]) % 360) / 360;\r\n                            s = Number(a[1]) / 100;\r\n                            l = Number(a[2]) / 100;\r\n                            g = (l <= 0.5) ? l * (s + 1) : l + s - l * s;\r\n                            r = l * 2 - g;\r\n                            if (a.length > 3) {\r\n                                a[3] = Number(v[3]);\r\n                            }\r\n                            a[0] = _hue(h + 1 / 3, r, g);\r\n                            a[1] = _hue(h, r, g);\r\n                            a[2] = _hue(h - 1 / 3, r, g);\r\n                        } else if (v.indexOf(\"=\") !== -1) { //if relative values are found, just return the raw strings with the relative prefixes in place.\r\n                            return v.match(_relNumExp);\r\n                        }\r\n                    } else {\r\n                        a = v.match(_numExp) || _colorLookup.transparent;\r\n                    }\r\n                    a[0] = Number(a[0]);\r\n                    a[1] = Number(a[1]);\r\n                    a[2] = Number(a[2]);\r\n                    if (a.length > 3) {\r\n                        a[3] = Number(a[3]);\r\n                    }\r\n                }\r\n                if (toHSL && !wasHSL) {\r\n                    r = a[0] / 255;\r\n                    g = a[1] / 255;\r\n                    b = a[2] / 255;\r\n                    max = Math.max(r, g, b);\r\n                    min = Math.min(r, g, b);\r\n                    l = (max + min) / 2;\r\n                    if (max === min) {\r\n                        h = s = 0;\r\n                    } else {\r\n                        d = max - min;\r\n                        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\r\n                        h = (max === r) ? (g - b) / d + (g < b ? 6 : 0) : (max === g) ? (b - r) / d + 2 : (r - g) / d + 4;\r\n                        h *= 60;\r\n                    }\r\n                    a[0] = (h + 0.5) | 0;\r\n                    a[1] = (s * 100 + 0.5) | 0;\r\n                    a[2] = (l * 100 + 0.5) | 0;\r\n                }\r\n                return a;\r\n            },\r\n            _formatColors = function(s, toHSL) {\r\n                var colors = s.match(_colorExp) || [],\r\n                    charIndex = 0,\r\n                    parsed = colors.length ? \"\" : s,\r\n                    i, color, temp;\r\n                for (i = 0; i < colors.length; i++) {\r\n                    color = colors[i];\r\n                    temp = s.substr(charIndex, s.indexOf(color, charIndex)-charIndex);\r\n                    charIndex += temp.length + color.length;\r\n                    color = _parseColor(color, toHSL);\r\n                    if (color.length === 3) {\r\n                        color.push(1);\r\n                    }\r\n                    parsed += temp + (toHSL ? \"hsla(\" + color[0] + \",\" + color[1] + \"%,\" + color[2] + \"%,\" + color[3] : \"rgba(\" + color.join(\",\")) + \")\";\r\n                }\r\n                return parsed + s.substr(charIndex);\r\n            },\r\n            _colorExp = \"(?:\\\\b(?:(?:rgb|rgba|hsl|hsla)\\\\(.+?\\\\))|\\\\B#(?:[0-9a-f]{3}){1,2}\\\\b\"; //we'll dynamically build this Regular Expression to conserve file size. After building it, it will be able to find rgb(), rgba(), # (hexadecimal), and named color values like red, blue, purple, etc.\r\n\r\n        for (p in _colorLookup) {\r\n            _colorExp += \"|\" + p + \"\\\\b\";\r\n        }\r\n        _colorExp = new RegExp(_colorExp+\")\", \"gi\");\r\n\r\n        CSSPlugin.colorStringFilter = function(a) {\r\n            var combined = a[0] + a[1],\r\n                toHSL;\r\n            if (_colorExp.test(combined)) {\r\n                toHSL = (combined.indexOf(\"hsl(\") !== -1 || combined.indexOf(\"hsla(\") !== -1);\r\n                a[0] = _formatColors(a[0], toHSL);\r\n                a[1] = _formatColors(a[1], toHSL);\r\n            }\r\n            _colorExp.lastIndex = 0;\r\n        };\r\n\r\n        if (!TweenLite.defaultStringFilter) {\r\n            TweenLite.defaultStringFilter = CSSPlugin.colorStringFilter;\r\n        }\r\n\r\n        /**\r\n         * @private Returns a formatter function that handles taking a string (or number in some cases) and returning a consistently formatted one in terms of delimiters, quantity of values, etc. For example, we may get boxShadow values defined as \"0px red\" or \"0px 0px 10px rgb(255,0,0)\" or \"0px 0px 20px 20px #F00\" and we need to ensure that what we get back is described with 4 numbers and a color. This allows us to feed it into the _parseComplex() method and split the values up appropriately. The neat thing about this _getFormatter() function is that the dflt defines a pattern as well as a default, so for example, _getFormatter(\"0px 0px 0px 0px #777\", true) not only sets the default as 0px for all distances and #777 for the color, but also sets the pattern such that 4 numbers and a color will always get returned.\r\n         * @param {!string} dflt The default value and pattern to follow. So \"0px 0px 0px 0px #777\" will ensure that 4 numbers and a color will always get returned.\r\n         * @param {boolean=} clr If true, the values should be searched for color-related data. For example, boxShadow values typically contain a color whereas borderRadius don't.\r\n         * @param {boolean=} collapsible If true, the value is a top/left/right/bottom style one that acts like margin or padding, where if only one value is received, it's used for all 4; if 2 are received, the first is duplicated for 3rd (bottom) and the 2nd is duplicated for the 4th spot (left), etc.\r\n         * @return {Function} formatter function\r\n         */\r\n        var _getFormatter = function(dflt, clr, collapsible, multi) {\r\n                if (dflt == null) {\r\n                    return function(v) {return v;};\r\n                }\r\n                var dColor = clr ? (dflt.match(_colorExp) || [\"\"])[0] : \"\",\r\n                    dVals = dflt.split(dColor).join(\"\").match(_valuesExp) || [],\r\n                    pfx = dflt.substr(0, dflt.indexOf(dVals[0])),\r\n                    sfx = (dflt.charAt(dflt.length - 1) === \")\") ? \")\" : \"\",\r\n                    delim = (dflt.indexOf(\" \") !== -1) ? \" \" : \",\",\r\n                    numVals = dVals.length,\r\n                    dSfx = (numVals > 0) ? dVals[0].replace(_numExp, \"\") : \"\",\r\n                    formatter;\r\n                if (!numVals) {\r\n                    return function(v) {return v;};\r\n                }\r\n                if (clr) {\r\n                    formatter = function(v) {\r\n                        var color, vals, i, a;\r\n                        if (typeof(v) === \"number\") {\r\n                            v += dSfx;\r\n                        } else if (multi && _commasOutsideParenExp.test(v)) {\r\n                            a = v.replace(_commasOutsideParenExp, \"|\").split(\"|\");\r\n                            for (i = 0; i < a.length; i++) {\r\n                                a[i] = formatter(a[i]);\r\n                            }\r\n                            return a.join(\",\");\r\n                        }\r\n                        color = (v.match(_colorExp) || [dColor])[0];\r\n                        vals = v.split(color).join(\"\").match(_valuesExp) || [];\r\n                        i = vals.length;\r\n                        if (numVals > i--) {\r\n                            while (++i < numVals) {\r\n                                vals[i] = collapsible ? vals[(((i - 1) / 2) | 0)] : dVals[i];\r\n                            }\r\n                        }\r\n                        return pfx + vals.join(delim) + delim + color + sfx + (v.indexOf(\"inset\") !== -1 ? \" inset\" : \"\");\r\n                    };\r\n                    return formatter;\r\n\r\n                }\r\n                formatter = function(v) {\r\n                    var vals, a, i;\r\n                    if (typeof(v) === \"number\") {\r\n                        v += dSfx;\r\n                    } else if (multi && _commasOutsideParenExp.test(v)) {\r\n                        a = v.replace(_commasOutsideParenExp, \"|\").split(\"|\");\r\n                        for (i = 0; i < a.length; i++) {\r\n                            a[i] = formatter(a[i]);\r\n                        }\r\n                        return a.join(\",\");\r\n                    }\r\n                    vals = v.match(_valuesExp) || [];\r\n                    i = vals.length;\r\n                    if (numVals > i--) {\r\n                        while (++i < numVals) {\r\n                            vals[i] = collapsible ? vals[(((i - 1) / 2) | 0)] : dVals[i];\r\n                        }\r\n                    }\r\n                    return pfx + vals.join(delim) + sfx;\r\n                };\r\n                return formatter;\r\n            },\r\n\r\n            /**\r\n             * @private returns a formatter function that's used for edge-related values like marginTop, marginLeft, paddingBottom, paddingRight, etc. Just pass a comma-delimited list of property names related to the edges.\r\n             * @param {!string} props a comma-delimited list of property names in order from top to left, like \"marginTop,marginRight,marginBottom,marginLeft\"\r\n             * @return {Function} a formatter function\r\n             */\r\n            _getEdgeParser = function(props) {\r\n                props = props.split(\",\");\r\n                return function(t, e, p, cssp, pt, plugin, vars) {\r\n                    var a = (e + \"\").split(\" \"),\r\n                        i;\r\n                    vars = {};\r\n                    for (i = 0; i < 4; i++) {\r\n                        vars[props[i]] = a[i] = a[i] || a[(((i - 1) / 2) >> 0)];\r\n                    }\r\n                    return cssp.parse(t, vars, pt, plugin);\r\n                };\r\n            },\r\n\r\n            // @private used when other plugins must tween values first, like BezierPlugin or ThrowPropsPlugin, etc. That plugin's setRatio() gets called first so that the values are updated, and then we loop through the MiniPropTweens which handle copying the values into their appropriate slots so that they can then be applied correctly in the main CSSPlugin setRatio() method. Remember, we typically create a proxy object that has a bunch of uniquely-named properties that we feed to the sub-plugin and it does its magic normally, and then we must interpret those values and apply them to the css because often numbers must get combined/concatenated, suffixes added, etc. to work with css, like boxShadow could have 4 values plus a color.\r\n            _setPluginRatio = _internals._setPluginRatio = function(v) {\r\n                this.plugin.setRatio(v);\r\n                var d = this.data,\r\n                    proxy = d.proxy,\r\n                    mpt = d.firstMPT,\r\n                    min = 0.000001,\r\n                    val, pt, i, str, p;\r\n                while (mpt) {\r\n                    val = proxy[mpt.v];\r\n                    if (mpt.r) {\r\n                        val = Math.round(val);\r\n                    } else if (val < min && val > -min) {\r\n                        val = 0;\r\n                    }\r\n                    mpt.t[mpt.p] = val;\r\n                    mpt = mpt._next;\r\n                }\r\n                if (d.autoRotate) {\r\n                    d.autoRotate.rotation = d.mod ? d.mod(proxy.rotation, this.t) : proxy.rotation; //special case for ModifyPlugin to hook into an auto-rotating bezier\r\n                }\r\n                //at the end, we must set the CSSPropTween's \"e\" (end) value dynamically here because that's what is used in the final setRatio() method. Same for \"b\" at the beginning.\r\n                if (v === 1 || v === 0) {\r\n                    mpt = d.firstMPT;\r\n                    p = (v === 1) ? \"e\" : \"b\";\r\n                    while (mpt) {\r\n                        pt = mpt.t;\r\n                        if (!pt.type) {\r\n                            pt[p] = pt.s + pt.xs0;\r\n                        } else if (pt.type === 1) {\r\n                            str = pt.xs0 + pt.s + pt.xs1;\r\n                            for (i = 1; i < pt.l; i++) {\r\n                                str += pt[\"xn\"+i] + pt[\"xs\"+(i+1)];\r\n                            }\r\n                            pt[p] = str;\r\n                        }\r\n                        mpt = mpt._next;\r\n                    }\r\n                }\r\n            },\r\n\r\n            /**\r\n             * @private @constructor Used by a few SpecialProps to hold important values for proxies. For example, _parseToProxy() creates a MiniPropTween instance for each property that must get tweened on the proxy, and we record the original property name as well as the unique one we create for the proxy, plus whether or not the value needs to be rounded plus the original value.\r\n             * @param {!Object} t target object whose property we're tweening (often a CSSPropTween)\r\n             * @param {!string} p property name\r\n             * @param {(number|string|object)} v value\r\n             * @param {MiniPropTween=} next next MiniPropTween in the linked list\r\n             * @param {boolean=} r if true, the tweened value should be rounded to the nearest integer\r\n             */\r\n            MiniPropTween = function(t, p, v, next, r) {\r\n                this.t = t;\r\n                this.p = p;\r\n                this.v = v;\r\n                this.r = r;\r\n                if (next) {\r\n                    next._prev = this;\r\n                    this._next = next;\r\n                }\r\n            },\r\n\r\n            /**\r\n             * @private Most other plugins (like BezierPlugin and ThrowPropsPlugin and others) can only tween numeric values, but CSSPlugin must accommodate special values that have a bunch of extra data (like a suffix or strings between numeric values, etc.). For example, boxShadow has values like \"10px 10px 20px 30px rgb(255,0,0)\" which would utterly confuse other plugins. This method allows us to split that data apart and grab only the numeric data and attach it to uniquely-named properties of a generic proxy object ({}) so that we can feed that to virtually any plugin to have the numbers tweened. However, we must also keep track of which properties from the proxy go with which CSSPropTween values and instances. So we create a linked list of MiniPropTweens. Each one records a target (the original CSSPropTween), property (like \"s\" or \"xn1\" or \"xn2\") that we're tweening and the unique property name that was used for the proxy (like \"boxShadow_xn1\" and \"boxShadow_xn2\") and whether or not they need to be rounded. That way, in the _setPluginRatio() method we can simply copy the values over from the proxy to the CSSPropTween instance(s). Then, when the main CSSPlugin setRatio() method runs and applies the CSSPropTween values accordingly, they're updated nicely. So the external plugin tweens the numbers, _setPluginRatio() copies them over, and setRatio() acts normally, applying css-specific values to the element.\r\n             * This method returns an object that has the following properties:\r\n             *  - proxy: a generic object containing the starting values for all the properties that will be tweened by the external plugin.  This is what we feed to the external _onInitTween() as the target\r\n             *  - end: a generic object containing the ending values for all the properties that will be tweened by the external plugin. This is what we feed to the external plugin's _onInitTween() as the destination values\r\n             *  - firstMPT: the first MiniPropTween in the linked list\r\n             *  - pt: the first CSSPropTween in the linked list that was created when parsing. If shallow is true, this linked list will NOT attach to the one passed into the _parseToProxy() as the \"pt\" (4th) parameter.\r\n             * @param {!Object} t target object to be tweened\r\n             * @param {!(Object|string)} vars the object containing the information about the tweening values (typically the end/destination values) that should be parsed\r\n             * @param {!CSSPlugin} cssp The CSSPlugin instance\r\n             * @param {CSSPropTween=} pt the next CSSPropTween in the linked list\r\n             * @param {TweenPlugin=} plugin the external TweenPlugin instance that will be handling tweening the numeric values\r\n             * @param {boolean=} shallow if true, the resulting linked list from the parse will NOT be attached to the CSSPropTween that was passed in as the \"pt\" (4th) parameter.\r\n             * @return An object containing the following properties: proxy, end, firstMPT, and pt (see above for descriptions)\r\n             */\r\n            _parseToProxy = _internals._parseToProxy = function(t, vars, cssp, pt, plugin, shallow) {\r\n                var bpt = pt,\r\n                    start = {},\r\n                    end = {},\r\n                    transform = cssp._transform,\r\n                    oldForce = _forcePT,\r\n                    i, p, xp, mpt, firstPT;\r\n                cssp._transform = null;\r\n                _forcePT = vars;\r\n                pt = firstPT = cssp.parse(t, vars, pt, plugin);\r\n                _forcePT = oldForce;\r\n                //break off from the linked list so the new ones are isolated.\r\n                if (shallow) {\r\n                    cssp._transform = transform;\r\n                    if (bpt) {\r\n                        bpt._prev = null;\r\n                        if (bpt._prev) {\r\n                            bpt._prev._next = null;\r\n                        }\r\n                    }\r\n                }\r\n                while (pt && pt !== bpt) {\r\n                    if (pt.type <= 1) {\r\n                        p = pt.p;\r\n                        end[p] = pt.s + pt.c;\r\n                        start[p] = pt.s;\r\n                        if (!shallow) {\r\n                            mpt = new MiniPropTween(pt, \"s\", p, mpt, pt.r);\r\n                            pt.c = 0;\r\n                        }\r\n                        if (pt.type === 1) {\r\n                            i = pt.l;\r\n                            while (--i > 0) {\r\n                                xp = \"xn\" + i;\r\n                                p = pt.p + \"_\" + xp;\r\n                                end[p] = pt.data[xp];\r\n                                start[p] = pt[xp];\r\n                                if (!shallow) {\r\n                                    mpt = new MiniPropTween(pt, xp, p, mpt, pt.rxp[xp]);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    pt = pt._next;\r\n                }\r\n                return {proxy:start, end:end, firstMPT:mpt, pt:firstPT};\r\n            },\r\n\r\n\r\n\r\n            /**\r\n             * @constructor Each property that is tweened has at least one CSSPropTween associated with it. These instances store important information like the target, property, starting value, amount of change, etc. They can also optionally have a number of \"extra\" strings and numeric values named xs1, xn1, xs2, xn2, xs3, xn3, etc. where \"s\" indicates string and \"n\" indicates number. These can be pieced together in a complex-value tween (type:1) that has alternating types of data like a string, number, string, number, etc. For example, boxShadow could be \"5px 5px 8px rgb(102, 102, 51)\". In that value, there are 6 numbers that may need to tween and then pieced back together into a string again with spaces, suffixes, etc. xs0 is special in that it stores the suffix for standard (type:0) tweens, -OR- the first string (prefix) in a complex-value (type:1) CSSPropTween -OR- it can be the non-tweening value in a type:-1 CSSPropTween. We do this to conserve memory.\r\n             * CSSPropTweens have the following optional properties as well (not defined through the constructor):\r\n             *  - l: Length in terms of the number of extra properties that the CSSPropTween has (default: 0). For example, for a boxShadow we may need to tween 5 numbers in which case l would be 5; Keep in mind that the start/end values for the first number that's tweened are always stored in the s and c properties to conserve memory. All additional values thereafter are stored in xn1, xn2, etc.\r\n             *  - xfirst: The first instance of any sub-CSSPropTweens that are tweening properties of this instance. For example, we may split up a boxShadow tween so that there's a main CSSPropTween of type:1 that has various xs* and xn* values associated with the h-shadow, v-shadow, blur, color, etc. Then we spawn a CSSPropTween for each of those that has a higher priority and runs BEFORE the main CSSPropTween so that the values are all set by the time it needs to re-assemble them. The xfirst gives us an easy way to identify the first one in that chain which typically ends at the main one (because they're all prepende to the linked list)\r\n             *  - plugin: The TweenPlugin instance that will handle the tweening of any complex values. For example, sometimes we don't want to use normal subtweens (like xfirst refers to) to tween the values - we might want ThrowPropsPlugin or BezierPlugin some other plugin to do the actual tweening, so we create a plugin instance and store a reference here. We need this reference so that if we get a request to round values or disable a tween, we can pass along that request.\r\n             *  - data: Arbitrary data that needs to be stored with the CSSPropTween. Typically if we're going to have a plugin handle the tweening of a complex-value tween, we create a generic object that stores the END values that we're tweening to and the CSSPropTween's xs1, xs2, etc. have the starting values. We store that object as data. That way, we can simply pass that object to the plugin and use the CSSPropTween as the target.\r\n             *  - setRatio: Only used for type:2 tweens that require custom functionality. In this case, we call the CSSPropTween's setRatio() method and pass the ratio each time the tween updates. This isn't quite as efficient as doing things directly in the CSSPlugin's setRatio() method, but it's very convenient and flexible.\r\n             * @param {!Object} t Target object whose property will be tweened. Often a DOM element, but not always. It could be anything.\r\n             * @param {string} p Property to tween (name). For example, to tween element.width, p would be \"width\".\r\n             * @param {number} s Starting numeric value\r\n             * @param {number} c Change in numeric value over the course of the entire tween. For example, if element.width starts at 5 and should end at 100, c would be 95.\r\n             * @param {CSSPropTween=} next The next CSSPropTween in the linked list. If one is defined, we will define its _prev as the new instance, and the new instance's _next will be pointed at it.\r\n             * @param {number=} type The type of CSSPropTween where -1 = a non-tweening value, 0 = a standard simple tween, 1 = a complex value (like one that has multiple numbers in a comma- or space-delimited string like border:\"1px solid red\"), and 2 = one that uses a custom setRatio function that does all of the work of applying the values on each update.\r\n             * @param {string=} n Name of the property that should be used for overwriting purposes which is typically the same as p but not always. For example, we may need to create a subtween for the 2nd part of a \"clip:rect(...)\" tween in which case \"p\" might be xs1 but \"n\" is still \"clip\"\r\n             * @param {boolean=} r If true, the value(s) should be rounded\r\n             * @param {number=} pr Priority in the linked list order. Higher priority CSSPropTweens will be updated before lower priority ones. The default priority is 0.\r\n             * @param {string=} b Beginning value. We store this to ensure that it is EXACTLY what it was when the tween began without any risk of interpretation issues.\r\n             * @param {string=} e Ending value. We store this to ensure that it is EXACTLY what the user defined at the end of the tween without any risk of interpretation issues.\r\n             */\r\n            CSSPropTween = _internals.CSSPropTween = function(t, p, s, c, next, type, n, r, pr, b, e) {\r\n                this.t = t; //target\r\n                this.p = p; //property\r\n                this.s = s; //starting value\r\n                this.c = c; //change value\r\n                this.n = n || p; //name that this CSSPropTween should be associated to (usually the same as p, but not always - n is what overwriting looks at)\r\n                if (!(t instanceof CSSPropTween)) {\r\n                    _overwriteProps.push(this.n);\r\n                }\r\n                this.r = r; //round (boolean)\r\n                this.type = type || 0; //0 = normal tween, -1 = non-tweening (in which case xs0 will be applied to the target's property, like tp.t[tp.p] = tp.xs0), 1 = complex-value SpecialProp, 2 = custom setRatio() that does all the work\r\n                if (pr) {\r\n                    this.pr = pr;\r\n                    _hasPriority = true;\r\n                }\r\n                this.b = (b === undefined) ? s : b;\r\n                this.e = (e === undefined) ? s + c : e;\r\n                if (next) {\r\n                    this._next = next;\r\n                    next._prev = this;\r\n                }\r\n            },\r\n\r\n            _addNonTweeningNumericPT = function(target, prop, start, end, next, overwriteProp) { //cleans up some code redundancies and helps minification. Just a fast way to add a NUMERIC non-tweening CSSPropTween\r\n                var pt = new CSSPropTween(target, prop, start, end - start, next, -1, overwriteProp);\r\n                pt.b = start;\r\n                pt.e = pt.xs0 = end;\r\n                return pt;\r\n            },\r\n\r\n            /**\r\n             * Takes a target, the beginning value and ending value (as strings) and parses them into a CSSPropTween (possibly with child CSSPropTweens) that accommodates multiple numbers, colors, comma-delimited values, etc. For example:\r\n             * sp.parseComplex(element, \"boxShadow\", \"5px 10px 20px rgb(255,102,51)\", \"0px 0px 0px red\", true, \"0px 0px 0px rgb(0,0,0,0)\", pt);\r\n             * It will walk through the beginning and ending values (which should be in the same format with the same number and type of values) and figure out which parts are numbers, what strings separate the numeric/tweenable values, and then create the CSSPropTweens accordingly. If a plugin is defined, no child CSSPropTweens will be created. Instead, the ending values will be stored in the \"data\" property of the returned CSSPropTween like: {s:-5, xn1:-10, xn2:-20, xn3:255, xn4:0, xn5:0} so that it can be fed to any other plugin and it'll be plain numeric tweens but the recomposition of the complex value will be handled inside CSSPlugin's setRatio().\r\n             * If a setRatio is defined, the type of the CSSPropTween will be set to 2 and recomposition of the values will be the responsibility of that method.\r\n             *\r\n             * @param {!Object} t Target whose property will be tweened\r\n             * @param {!string} p Property that will be tweened (its name, like \"left\" or \"backgroundColor\" or \"boxShadow\")\r\n             * @param {string} b Beginning value\r\n             * @param {string} e Ending value\r\n             * @param {boolean} clrs If true, the value could contain a color value like \"rgb(255,0,0)\" or \"#F00\" or \"red\". The default is false, so no colors will be recognized (a performance optimization)\r\n             * @param {(string|number|Object)} dflt The default beginning value that should be used if no valid beginning value is defined or if the number of values inside the complex beginning and ending values don't match\r\n             * @param {?CSSPropTween} pt CSSPropTween instance that is the current head of the linked list (we'll prepend to this).\r\n             * @param {number=} pr Priority in the linked list order. Higher priority properties will be updated before lower priority ones. The default priority is 0.\r\n             * @param {TweenPlugin=} plugin If a plugin should handle the tweening of extra properties, pass the plugin instance here. If one is defined, then NO subtweens will be created for any extra properties (the properties will be created - just not additional CSSPropTween instances to tween them) because the plugin is expected to do so. However, the end values WILL be populated in the \"data\" property, like {s:100, xn1:50, xn2:300}\r\n             * @param {function(number)=} setRatio If values should be set in a custom function instead of being pieced together in a type:1 (complex-value) CSSPropTween, define that custom function here.\r\n             * @return {CSSPropTween} The first CSSPropTween in the linked list which includes the new one(s) added by the parseComplex() call.\r\n             */\r\n            _parseComplex = CSSPlugin.parseComplex = function(t, p, b, e, clrs, dflt, pt, pr, plugin, setRatio) {\r\n                //DEBUG: _log(\"parseComplex: \"+p+\", b: \"+b+\", e: \"+e);\r\n                b = b || dflt || \"\";\r\n                if (typeof(e) === \"function\") {\r\n                    e = e(_index, _target);\r\n                }\r\n                pt = new CSSPropTween(t, p, 0, 0, pt, (setRatio ? 2 : 1), null, false, pr, b, e);\r\n                e += \"\"; //ensures it's a string\r\n                if (clrs && _colorExp.test(e + b)) { //if colors are found, normalize the formatting to rgba() or hsla().\r\n                    e = [b, e];\r\n                    CSSPlugin.colorStringFilter(e);\r\n                    b = e[0];\r\n                    e = e[1];\r\n                }\r\n                var ba = b.split(\", \").join(\",\").split(\" \"), //beginning array\r\n                    ea = e.split(\", \").join(\",\").split(\" \"), //ending array\r\n                    l = ba.length,\r\n                    autoRound = (_autoRound !== false),\r\n                    i, xi, ni, bv, ev, bnums, enums, bn, hasAlpha, temp, cv, str, useHSL;\r\n                if (e.indexOf(\",\") !== -1 || b.indexOf(\",\") !== -1) {\r\n                    ba = ba.join(\" \").replace(_commasOutsideParenExp, \", \").split(\" \");\r\n                    ea = ea.join(\" \").replace(_commasOutsideParenExp, \", \").split(\" \");\r\n                    l = ba.length;\r\n                }\r\n                if (l !== ea.length) {\r\n                    //DEBUG: _log(\"mismatched formatting detected on \" + p + \" (\" + b + \" vs \" + e + \")\");\r\n                    ba = (dflt || \"\").split(\" \");\r\n                    l = ba.length;\r\n                }\r\n                pt.plugin = plugin;\r\n                pt.setRatio = setRatio;\r\n                _colorExp.lastIndex = 0;\r\n                for (i = 0; i < l; i++) {\r\n                    bv = ba[i];\r\n                    ev = ea[i];\r\n                    bn = parseFloat(bv);\r\n                    //if the value begins with a number (most common). It's fine if it has a suffix like px\r\n                    if (bn || bn === 0) {\r\n                        pt.appendXtra(\"\", bn, _parseChange(ev, bn), ev.replace(_relNumExp, \"\"), (autoRound && ev.indexOf(\"px\") !== -1), true);\r\n\r\n                        //if the value is a color\r\n                    } else if (clrs && _colorExp.test(bv)) {\r\n                        str = ev.indexOf(\")\") + 1;\r\n                        str = \")\" + (str ? ev.substr(str) : \"\"); //if there's a comma or ) at the end, retain it.\r\n                        useHSL = (ev.indexOf(\"hsl\") !== -1 && _supportsOpacity);\r\n                        bv = _parseColor(bv, useHSL);\r\n                        ev = _parseColor(ev, useHSL);\r\n                        hasAlpha = (bv.length + ev.length > 6);\r\n                        if (hasAlpha && !_supportsOpacity && ev[3] === 0) { //older versions of IE don't support rgba(), so if the destination alpha is 0, just use \"transparent\" for the end color\r\n                            pt[\"xs\" + pt.l] += pt.l ? \" transparent\" : \"transparent\";\r\n                            pt.e = pt.e.split(ea[i]).join(\"transparent\");\r\n                        } else {\r\n                            if (!_supportsOpacity) { //old versions of IE don't support rgba().\r\n                                hasAlpha = false;\r\n                            }\r\n                            if (useHSL) {\r\n                                pt.appendXtra((hasAlpha ? \"hsla(\" : \"hsl(\"), bv[0], _parseChange(ev[0], bv[0]), \",\", false, true)\r\n                                    .appendXtra(\"\", bv[1], _parseChange(ev[1], bv[1]), \"%,\", false)\r\n                                    .appendXtra(\"\", bv[2], _parseChange(ev[2], bv[2]), (hasAlpha ? \"%,\" : \"%\" + str), false);\r\n                            } else {\r\n                                pt.appendXtra((hasAlpha ? \"rgba(\" : \"rgb(\"), bv[0], ev[0] - bv[0], \",\", true, true)\r\n                                    .appendXtra(\"\", bv[1], ev[1] - bv[1], \",\", true)\r\n                                    .appendXtra(\"\", bv[2], ev[2] - bv[2], (hasAlpha ? \",\" : str), true);\r\n                            }\r\n\r\n                            if (hasAlpha) {\r\n                                bv = (bv.length < 4) ? 1 : bv[3];\r\n                                pt.appendXtra(\"\", bv, ((ev.length < 4) ? 1 : ev[3]) - bv, str, false);\r\n                            }\r\n                        }\r\n                        _colorExp.lastIndex = 0; //otherwise the test() on the RegExp could move the lastIndex and taint future results.\r\n\r\n                    } else {\r\n                        bnums = bv.match(_numExp); //gets each group of numbers in the beginning value string and drops them into an array\r\n\r\n                        //if no number is found, treat it as a non-tweening value and just append the string to the current xs.\r\n                        if (!bnums) {\r\n                            pt[\"xs\" + pt.l] += (pt.l || pt[\"xs\" + pt.l]) ? \" \" + ev : ev;\r\n\r\n                            //loop through all the numbers that are found and construct the extra values on the pt.\r\n                        } else {\r\n                            enums = ev.match(_relNumExp); //get each group of numbers in the end value string and drop them into an array. We allow relative values too, like +=50 or -=.5\r\n                            if (!enums || enums.length !== bnums.length) {\r\n                                //DEBUG: _log(\"mismatched formatting detected on \" + p + \" (\" + b + \" vs \" + e + \")\");\r\n                                return pt;\r\n                            }\r\n                            ni = 0;\r\n                            for (xi = 0; xi < bnums.length; xi++) {\r\n                                cv = bnums[xi];\r\n                                temp = bv.indexOf(cv, ni);\r\n                                pt.appendXtra(bv.substr(ni, temp - ni), Number(cv), _parseChange(enums[xi], cv), \"\", (autoRound && bv.substr(temp + cv.length, 2) === \"px\"), (xi === 0));\r\n                                ni = temp + cv.length;\r\n                            }\r\n                            pt[\"xs\" + pt.l] += bv.substr(ni);\r\n                        }\r\n                    }\r\n                }\r\n                //if there are relative values (\"+=\" or \"-=\" prefix), we need to adjust the ending value to eliminate the prefixes and combine the values properly.\r\n                if (e.indexOf(\"=\") !== -1) if (pt.data) {\r\n                    str = pt.xs0 + pt.data.s;\r\n                    for (i = 1; i < pt.l; i++) {\r\n                        str += pt[\"xs\" + i] + pt.data[\"xn\" + i];\r\n                    }\r\n                    pt.e = str + pt[\"xs\" + i];\r\n                }\r\n                if (!pt.l) {\r\n                    pt.type = -1;\r\n                    pt.xs0 = pt.e;\r\n                }\r\n                return pt.xfirst || pt;\r\n            },\r\n            i = 9;\r\n\r\n\r\n        p = CSSPropTween.prototype;\r\n        p.l = p.pr = 0; //length (number of extra properties like xn1, xn2, xn3, etc.\r\n        while (--i > 0) {\r\n            p[\"xn\" + i] = 0;\r\n            p[\"xs\" + i] = \"\";\r\n        }\r\n        p.xs0 = \"\";\r\n        p._next = p._prev = p.xfirst = p.data = p.plugin = p.setRatio = p.rxp = null;\r\n\r\n\r\n        /**\r\n         * Appends and extra tweening value to a CSSPropTween and automatically manages any prefix and suffix strings. The first extra value is stored in the s and c of the main CSSPropTween instance, but thereafter any extras are stored in the xn1, xn2, xn3, etc. The prefixes and suffixes are stored in the xs0, xs1, xs2, etc. properties. For example, if I walk through a clip value like \"rect(10px, 5px, 0px, 20px)\", the values would be stored like this:\r\n         * xs0:\"rect(\", s:10, xs1:\"px, \", xn1:5, xs2:\"px, \", xn2:0, xs3:\"px, \", xn3:20, xn4:\"px)\"\r\n         * And they'd all get joined together when the CSSPlugin renders (in the setRatio() method).\r\n         * @param {string=} pfx Prefix (if any)\r\n         * @param {!number} s Starting value\r\n         * @param {!number} c Change in numeric value over the course of the entire tween. For example, if the start is 5 and the end is 100, the change would be 95.\r\n         * @param {string=} sfx Suffix (if any)\r\n         * @param {boolean=} r Round (if true).\r\n         * @param {boolean=} pad If true, this extra value should be separated by the previous one by a space. If there is no previous extra and pad is true, it will automatically drop the space.\r\n         * @return {CSSPropTween} returns itself so that multiple methods can be chained together.\r\n         */\r\n        p.appendXtra = function(pfx, s, c, sfx, r, pad) {\r\n            var pt = this,\r\n                l = pt.l;\r\n            pt[\"xs\" + l] += (pad && (l || pt[\"xs\" + l])) ? \" \" + pfx : pfx || \"\";\r\n            if (!c) if (l !== 0 && !pt.plugin) { //typically we'll combine non-changing values right into the xs to optimize performance, but we don't combine them when there's a plugin that will be tweening the values because it may depend on the values being split apart, like for a bezier, if a value doesn't change between the first and second iteration but then it does on the 3rd, we'll run into trouble because there's no xn slot for that value!\r\n                pt[\"xs\" + l] += s + (sfx || \"\");\r\n                return pt;\r\n            }\r\n            pt.l++;\r\n            pt.type = pt.setRatio ? 2 : 1;\r\n            pt[\"xs\" + pt.l] = sfx || \"\";\r\n            if (l > 0) {\r\n                pt.data[\"xn\" + l] = s + c;\r\n                pt.rxp[\"xn\" + l] = r; //round extra property (we need to tap into this in the _parseToProxy() method)\r\n                pt[\"xn\" + l] = s;\r\n                if (!pt.plugin) {\r\n                    pt.xfirst = new CSSPropTween(pt, \"xn\" + l, s, c, pt.xfirst || pt, 0, pt.n, r, pt.pr);\r\n                    pt.xfirst.xs0 = 0; //just to ensure that the property stays numeric which helps modern browsers speed up processing. Remember, in the setRatio() method, we do pt.t[pt.p] = val + pt.xs0 so if pt.xs0 is \"\" (the default), it'll cast the end value as a string. When a property is a number sometimes and a string sometimes, it prevents the compiler from locking in the data type, slowing things down slightly.\r\n                }\r\n                return pt;\r\n            }\r\n            pt.data = {s:s + c};\r\n            pt.rxp = {};\r\n            pt.s = s;\r\n            pt.c = c;\r\n            pt.r = r;\r\n            return pt;\r\n        };\r\n\r\n        /**\r\n         * @constructor A SpecialProp is basically a css property that needs to be treated in a non-standard way, like if it may contain a complex value like boxShadow:\"5px 10px 15px rgb(255, 102, 51)\" or if it is associated with another plugin like ThrowPropsPlugin or BezierPlugin. Every SpecialProp is associated with a particular property name like \"boxShadow\" or \"throwProps\" or \"bezier\" and it will intercept those values in the vars object that's passed to the CSSPlugin and handle them accordingly.\r\n         * @param {!string} p Property name (like \"boxShadow\" or \"throwProps\")\r\n         * @param {Object=} options An object containing any of the following configuration options:\r\n         *                      - defaultValue: the default value\r\n         *                      - parser: A function that should be called when the associated property name is found in the vars. This function should return a CSSPropTween instance and it should ensure that it is properly inserted into the linked list. It will receive 4 paramters: 1) The target, 2) The value defined in the vars, 3) The CSSPlugin instance (whose _firstPT should be used for the linked list), and 4) A computed style object if one was calculated (this is a speed optimization that allows retrieval of starting values quicker)\r\n         *                      - formatter: a function that formats any value received for this special property (for example, boxShadow could take \"5px 5px red\" and format it to \"5px 5px 0px 0px red\" so that both the beginning and ending values have a common order and quantity of values.)\r\n         *                      - prefix: if true, we'll determine whether or not this property requires a vendor prefix (like Webkit or Moz or ms or O)\r\n         *                      - color: set this to true if the value for this SpecialProp may contain color-related values like rgb(), rgba(), etc.\r\n         *                      - priority: priority in the linked list order. Higher priority SpecialProps will be updated before lower priority ones. The default priority is 0.\r\n         *                      - multi: if true, the formatter should accommodate a comma-delimited list of values, like boxShadow could have multiple boxShadows listed out.\r\n         *                      - collapsible: if true, the formatter should treat the value like it's a top/right/bottom/left value that could be collapsed, like \"5px\" would apply to all, \"5px, 10px\" would use 5px for top/bottom and 10px for right/left, etc.\r\n         *                      - keyword: a special keyword that can [optionally] be found inside the value (like \"inset\" for boxShadow). This allows us to validate beginning/ending values to make sure they match (if the keyword is found in one, it'll be added to the other for consistency by default).\r\n         */\r\n        var SpecialProp = function(p, options) {\r\n                options = options || {};\r\n                this.p = options.prefix ? _checkPropPrefix(p) || p : p;\r\n                _specialProps[p] = _specialProps[this.p] = this;\r\n                this.format = options.formatter || _getFormatter(options.defaultValue, options.color, options.collapsible, options.multi);\r\n                if (options.parser) {\r\n                    this.parse = options.parser;\r\n                }\r\n                this.clrs = options.color;\r\n                this.multi = options.multi;\r\n                this.keyword = options.keyword;\r\n                this.dflt = options.defaultValue;\r\n                this.pr = options.priority || 0;\r\n            },\r\n\r\n            //shortcut for creating a new SpecialProp that can accept multiple properties as a comma-delimited list (helps minification). dflt can be an array for multiple values (we don't do a comma-delimited list because the default value may contain commas, like rect(0px,0px,0px,0px)). We attach this method to the SpecialProp class/object instead of using a private _createSpecialProp() method so that we can tap into it externally if necessary, like from another plugin.\r\n            _registerComplexSpecialProp = _internals._registerComplexSpecialProp = function(p, options, defaults) {\r\n                if (typeof(options) !== \"object\") {\r\n                    options = {parser:defaults}; //to make backwards compatible with older versions of BezierPlugin and ThrowPropsPlugin\r\n                }\r\n                var a = p.split(\",\"),\r\n                    d = options.defaultValue,\r\n                    i, temp;\r\n                defaults = defaults || [d];\r\n                for (i = 0; i < a.length; i++) {\r\n                    options.prefix = (i === 0 && options.prefix);\r\n                    options.defaultValue = defaults[i] || d;\r\n                    temp = new SpecialProp(a[i], options);\r\n                }\r\n            },\r\n\r\n            //creates a placeholder special prop for a plugin so that the property gets caught the first time a tween of it is attempted, and at that time it makes the plugin register itself, thus taking over for all future tweens of that property. This allows us to not mandate that things load in a particular order and it also allows us to log() an error that informs the user when they attempt to tween an external plugin-related property without loading its .js file.\r\n            _registerPluginProp = _internals._registerPluginProp = function(p) {\r\n                if (!_specialProps[p]) {\r\n                    var pluginName = p.charAt(0).toUpperCase() + p.substr(1) + \"Plugin\";\r\n                    _registerComplexSpecialProp(p, {parser:function(t, e, p, cssp, pt, plugin, vars) {\r\n                        var pluginClass = _globals.com.greensock.plugins[pluginName];\r\n                        if (!pluginClass) {\r\n                            _log(\"Error: \" + pluginName + \" js file not loaded.\");\r\n                            return pt;\r\n                        }\r\n                        pluginClass._cssRegister();\r\n                        return _specialProps[p].parse(t, e, p, cssp, pt, plugin, vars);\r\n                    }});\r\n                }\r\n            };\r\n\r\n\r\n        p = SpecialProp.prototype;\r\n\r\n        /**\r\n         * Alias for _parseComplex() that automatically plugs in certain values for this SpecialProp, like its property name, whether or not colors should be sensed, the default value, and priority. It also looks for any keyword that the SpecialProp defines (like \"inset\" for boxShadow) and ensures that the beginning and ending values have the same number of values for SpecialProps where multi is true (like boxShadow and textShadow can have a comma-delimited list)\r\n         * @param {!Object} t target element\r\n         * @param {(string|number|object)} b beginning value\r\n         * @param {(string|number|object)} e ending (destination) value\r\n         * @param {CSSPropTween=} pt next CSSPropTween in the linked list\r\n         * @param {TweenPlugin=} plugin If another plugin will be tweening the complex value, that TweenPlugin instance goes here.\r\n         * @param {function=} setRatio If a custom setRatio() method should be used to handle this complex value, that goes here.\r\n         * @return {CSSPropTween=} First CSSPropTween in the linked list\r\n         */\r\n        p.parseComplex = function(t, b, e, pt, plugin, setRatio) {\r\n            var kwd = this.keyword,\r\n                i, ba, ea, l, bi, ei;\r\n            //if this SpecialProp's value can contain a comma-delimited list of values (like boxShadow or textShadow), we must parse them in a special way, and look for a keyword (like \"inset\" for boxShadow) and ensure that the beginning and ending BOTH have it if the end defines it as such. We also must ensure that there are an equal number of values specified (we can't tween 1 boxShadow to 3 for example)\r\n            if (this.multi) if (_commasOutsideParenExp.test(e) || _commasOutsideParenExp.test(b)) {\r\n                ba = b.replace(_commasOutsideParenExp, \"|\").split(\"|\");\r\n                ea = e.replace(_commasOutsideParenExp, \"|\").split(\"|\");\r\n            } else if (kwd) {\r\n                ba = [b];\r\n                ea = [e];\r\n            }\r\n            if (ea) {\r\n                l = (ea.length > ba.length) ? ea.length : ba.length;\r\n                for (i = 0; i < l; i++) {\r\n                    b = ba[i] = ba[i] || this.dflt;\r\n                    e = ea[i] = ea[i] || this.dflt;\r\n                    if (kwd) {\r\n                        bi = b.indexOf(kwd);\r\n                        ei = e.indexOf(kwd);\r\n                        if (bi !== ei) {\r\n                            if (ei === -1) { //if the keyword isn't in the end value, remove it from the beginning one.\r\n                                ba[i] = ba[i].split(kwd).join(\"\");\r\n                            } else if (bi === -1) { //if the keyword isn't in the beginning, add it.\r\n                                ba[i] += \" \" + kwd;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                b = ba.join(\", \");\r\n                e = ea.join(\", \");\r\n            }\r\n            return _parseComplex(t, this.p, b, e, this.clrs, this.dflt, pt, this.pr, plugin, setRatio);\r\n        };\r\n\r\n        /**\r\n         * Accepts a target and end value and spits back a CSSPropTween that has been inserted into the CSSPlugin's linked list and conforms with all the conventions we use internally, like type:-1, 0, 1, or 2, setting up any extra property tweens, priority, etc. For example, if we have a boxShadow SpecialProp and call:\r\n         * this._firstPT = sp.parse(element, \"5px 10px 20px rgb(2550,102,51)\", \"boxShadow\", this);\r\n         * It should figure out the starting value of the element's boxShadow, compare it to the provided end value and create all the necessary CSSPropTweens of the appropriate types to tween the boxShadow. The CSSPropTween that gets spit back should already be inserted into the linked list (the 4th parameter is the current head, so prepend to that).\r\n         * @param {!Object} t Target object whose property is being tweened\r\n         * @param {Object} e End value as provided in the vars object (typically a string, but not always - like a throwProps would be an object).\r\n         * @param {!string} p Property name\r\n         * @param {!CSSPlugin} cssp The CSSPlugin instance that should be associated with this tween.\r\n         * @param {?CSSPropTween} pt The CSSPropTween that is the current head of the linked list (we'll prepend to it)\r\n         * @param {TweenPlugin=} plugin If a plugin will be used to tween the parsed value, this is the plugin instance.\r\n         * @param {Object=} vars Original vars object that contains the data for parsing.\r\n         * @return {CSSPropTween} The first CSSPropTween in the linked list which includes the new one(s) added by the parse() call.\r\n         */\r\n        p.parse = function(t, e, p, cssp, pt, plugin, vars) {\r\n            return this.parseComplex(t.style, this.format(_getStyle(t, this.p, _cs, false, this.dflt)), this.format(e), pt, plugin);\r\n        };\r\n\r\n        /**\r\n         * Registers a special property that should be intercepted from any \"css\" objects defined in tweens. This allows you to handle them however you want without CSSPlugin doing it for you. The 2nd parameter should be a function that accepts 3 parameters:\r\n         *  1) Target object whose property should be tweened (typically a DOM element)\r\n         *  2) The end/destination value (could be a string, number, object, or whatever you want)\r\n         *  3) The tween instance (you probably don't need to worry about this, but it can be useful for looking up information like the duration)\r\n         *\r\n         * Then, your function should return a function which will be called each time the tween gets rendered, passing a numeric \"ratio\" parameter to your function that indicates the change factor (usually between 0 and 1). For example:\r\n         *\r\n         * CSSPlugin.registerSpecialProp(\"myCustomProp\", function(target, value, tween) {\r\n\t\t *      var start = target.style.width;\r\n\t\t *      return function(ratio) {\r\n\t\t *              target.style.width = (start + value * ratio) + \"px\";\r\n\t\t *              console.log(\"set width to \" + target.style.width);\r\n\t\t *          }\r\n\t\t * }, 0);\r\n         *\r\n         * Then, when I do this tween, it will trigger my special property:\r\n         *\r\n         * TweenLite.to(element, 1, {css:{myCustomProp:100}});\r\n         *\r\n         * In the example, of course, we're just changing the width, but you can do anything you want.\r\n         *\r\n         * @param {!string} name Property name (or comma-delimited list of property names) that should be intercepted and handled by your function. For example, if I define \"myCustomProp\", then it would handle that portion of the following tween: TweenLite.to(element, 1, {css:{myCustomProp:100}})\r\n         * @param {!function(Object, Object, Object, string):function(number)} onInitTween The function that will be called when a tween of this special property is performed. The function will receive 4 parameters: 1) Target object that should be tweened, 2) Value that was passed to the tween, 3) The tween instance itself (rarely used), and 4) The property name that's being tweened. Your function should return a function that should be called on every update of the tween. That function will receive a single parameter that is a \"change factor\" value (typically between 0 and 1) indicating the amount of change as a ratio. You can use this to determine how to set the values appropriately in your function.\r\n         * @param {number=} priority Priority that helps the engine determine the order in which to set the properties (default: 0). Higher priority properties will be updated before lower priority ones.\r\n         */\r\n        CSSPlugin.registerSpecialProp = function(name, onInitTween, priority) {\r\n            _registerComplexSpecialProp(name, {parser:function(t, e, p, cssp, pt, plugin, vars) {\r\n                var rv = new CSSPropTween(t, p, 0, 0, pt, 2, p, false, priority);\r\n                rv.plugin = plugin;\r\n                rv.setRatio = onInitTween(t, e, cssp._tween, p);\r\n                return rv;\r\n            }, priority:priority});\r\n        };\r\n\r\n\r\n\r\n\r\n\r\n\r\n        //transform-related methods and properties\r\n        CSSPlugin.useSVGTransformAttr = true; //Safari and Firefox both have some rendering bugs when applying CSS transforms to SVG elements, so default to using the \"transform\" attribute instead (users can override this).\r\n        var _transformProps = (\"scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent\").split(\",\"),\r\n            _transformProp = _checkPropPrefix(\"transform\"), //the Javascript (camelCase) transform property, like msTransform, WebkitTransform, MozTransform, or OTransform.\r\n            _transformPropCSS = _prefixCSS + \"transform\",\r\n            _transformOriginProp = _checkPropPrefix(\"transformOrigin\"),\r\n            _supports3D = (_checkPropPrefix(\"perspective\") !== null),\r\n            Transform = _internals.Transform = function() {\r\n                this.perspective = parseFloat(CSSPlugin.defaultTransformPerspective) || 0;\r\n                this.force3D = (CSSPlugin.defaultForce3D === false || !_supports3D) ? false : CSSPlugin.defaultForce3D || \"auto\";\r\n            },\r\n            _SVGElement = _gsScope.SVGElement,\r\n            _useSVGTransformAttr,\r\n            //Some browsers (like Firefox and IE) don't honor transform-origin properly in SVG elements, so we need to manually adjust the matrix accordingly. We feature detect here rather than always doing the conversion for certain browsers because they may fix the problem at some point in the future.\r\n\r\n            _createSVG = function(type, container, attributes) {\r\n                var element = _doc.createElementNS(\"http://www.w3.org/2000/svg\", type),\r\n                    reg = /([a-z])([A-Z])/g,\r\n                    p;\r\n                for (p in attributes) {\r\n                    element.setAttributeNS(null, p.replace(reg, \"$1-$2\").toLowerCase(), attributes[p]);\r\n                }\r\n                container.appendChild(element);\r\n                return element;\r\n            },\r\n            _docElement = _doc.documentElement || {},\r\n            _forceSVGTransformAttr = (function() {\r\n                //IE and Android stock don't support CSS transforms on SVG elements, so we must write them to the \"transform\" attribute. We populate this variable in the _parseTransform() method, and only if/when we come across an SVG element\r\n                var force = _ieVers || (/Android/i.test(_agent) && !_gsScope.chrome),\r\n                    svg, rect, width;\r\n                if (_doc.createElementNS && !force) { //IE8 and earlier doesn't support SVG anyway\r\n                    svg = _createSVG(\"svg\", _docElement);\r\n                    rect = _createSVG(\"rect\", svg, {width:100, height:50, x:100});\r\n                    width = rect.getBoundingClientRect().width;\r\n                    rect.style[_transformOriginProp] = \"50% 50%\";\r\n                    rect.style[_transformProp] = \"scaleX(0.5)\";\r\n                    force = (width === rect.getBoundingClientRect().width && !(_isFirefox && _supports3D)); //note: Firefox fails the test even though it does support CSS transforms in 3D. Since we can't push 3D stuff into the transform attribute, we force Firefox to pass the test here (as long as it does truly support 3D).\r\n                    _docElement.removeChild(svg);\r\n                }\r\n                return force;\r\n            })(),\r\n            _parseSVGOrigin = function(e, local, decoratee, absolute, smoothOrigin, skipRecord) {\r\n                var tm = e._gsTransform,\r\n                    m = _getMatrix(e, true),\r\n                    v, x, y, xOrigin, yOrigin, a, b, c, d, tx, ty, determinant, xOriginOld, yOriginOld;\r\n                if (tm) {\r\n                    xOriginOld = tm.xOrigin; //record the original values before we alter them.\r\n                    yOriginOld = tm.yOrigin;\r\n                }\r\n                if (!absolute || (v = absolute.split(\" \")).length < 2) {\r\n                    b = e.getBBox();\r\n                    if (b.x === 0 && b.y === 0 && b.width + b.height === 0) { //some browsers (like Firefox) misreport the bounds if the element has zero width and height (it just assumes it's at x:0, y:0), thus we need to manually grab the position in that case.\r\n                        b = {x: parseFloat(e.hasAttribute(\"x\") ? e.getAttribute(\"x\") : e.hasAttribute(\"cx\") ? e.getAttribute(\"cx\") : 0) || 0, y: parseFloat(e.hasAttribute(\"y\") ? e.getAttribute(\"y\") : e.hasAttribute(\"cy\") ? e.getAttribute(\"cy\") : 0) || 0, width:0, height:0};\r\n                    }\r\n                    local = _parsePosition(local).split(\" \");\r\n                    v = [(local[0].indexOf(\"%\") !== -1 ? parseFloat(local[0]) / 100 * b.width : parseFloat(local[0])) + b.x,\r\n                        (local[1].indexOf(\"%\") !== -1 ? parseFloat(local[1]) / 100 * b.height : parseFloat(local[1])) + b.y];\r\n                }\r\n                decoratee.xOrigin = xOrigin = parseFloat(v[0]);\r\n                decoratee.yOrigin = yOrigin = parseFloat(v[1]);\r\n                if (absolute && m !== _identity2DMatrix) { //if svgOrigin is being set, we must invert the matrix and determine where the absolute point is, factoring in the current transforms. Otherwise, the svgOrigin would be based on the element's non-transformed position on the canvas.\r\n                    a = m[0];\r\n                    b = m[1];\r\n                    c = m[2];\r\n                    d = m[3];\r\n                    tx = m[4];\r\n                    ty = m[5];\r\n                    determinant = (a * d - b * c);\r\n                    if (determinant) { //if it's zero (like if scaleX and scaleY are zero), skip it to avoid errors with dividing by zero.\r\n                        x = xOrigin * (d / determinant) + yOrigin * (-c / determinant) + ((c * ty - d * tx) / determinant);\r\n                        y = xOrigin * (-b / determinant) + yOrigin * (a / determinant) - ((a * ty - b * tx) / determinant);\r\n                        xOrigin = decoratee.xOrigin = v[0] = x;\r\n                        yOrigin = decoratee.yOrigin = v[1] = y;\r\n                    }\r\n                }\r\n                if (tm) { //avoid jump when transformOrigin is changed - adjust the x/y values accordingly\r\n                    if (skipRecord) {\r\n                        decoratee.xOffset = tm.xOffset;\r\n                        decoratee.yOffset = tm.yOffset;\r\n                        tm = decoratee;\r\n                    }\r\n                    if (smoothOrigin || (smoothOrigin !== false && CSSPlugin.defaultSmoothOrigin !== false)) {\r\n                        x = xOrigin - xOriginOld;\r\n                        y = yOrigin - yOriginOld;\r\n                        //originally, we simply adjusted the x and y values, but that would cause problems if, for example, you created a rotational tween part-way through an x/y tween. Managing the offset in a separate variable gives us ultimate flexibility.\r\n                        //tm.x -= x - (x * m[0] + y * m[2]);\r\n                        //tm.y -= y - (x * m[1] + y * m[3]);\r\n                        tm.xOffset += (x * m[0] + y * m[2]) - x;\r\n                        tm.yOffset += (x * m[1] + y * m[3]) - y;\r\n                    } else {\r\n                        tm.xOffset = tm.yOffset = 0;\r\n                    }\r\n                }\r\n                if (!skipRecord) {\r\n                    e.setAttribute(\"data-svg-origin\", v.join(\" \"));\r\n                }\r\n            },\r\n            _getBBoxHack = function(swapIfPossible) { //works around issues in some browsers (like Firefox) that don't correctly report getBBox() on SVG elements inside a <defs> element and/or <mask>. We try creating an SVG, adding it to the documentElement and toss the element in there so that it's definitely part of the rendering tree, then grab the bbox and if it works, we actually swap out the original getBBox() method for our own that does these extra steps whenever getBBox is needed. This helps ensure that performance is optimal (only do all these extra steps when absolutely necessary...most elements don't need it).\r\n                var svg = _createElement(\"svg\", this.ownerSVGElement.getAttribute(\"xmlns\") || \"http://www.w3.org/2000/svg\"),\r\n                    oldParent = this.parentNode,\r\n                    oldSibling = this.nextSibling,\r\n                    oldCSS = this.style.cssText,\r\n                    bbox;\r\n                _docElement.appendChild(svg);\r\n                svg.appendChild(this);\r\n                this.style.display = \"block\";\r\n                if (swapIfPossible) {\r\n                    try {\r\n                        bbox = this.getBBox();\r\n                        this._originalGetBBox = this.getBBox;\r\n                        this.getBBox = _getBBoxHack;\r\n                    } catch (e) { }\r\n                } else if (this._originalGetBBox) {\r\n                    bbox = this._originalGetBBox();\r\n                }\r\n                if (oldSibling) {\r\n                    oldParent.insertBefore(this, oldSibling);\r\n                } else {\r\n                    oldParent.appendChild(this);\r\n                }\r\n                _docElement.removeChild(svg);\r\n                this.style.cssText = oldCSS;\r\n                return bbox;\r\n            },\r\n            _getBBox = function(e) {\r\n                try {\r\n                    return e.getBBox(); //Firefox throws errors if you try calling getBBox() on an SVG element that's not rendered (like in a <symbol> or <defs>). https://bugzilla.mozilla.org/show_bug.cgi?id=612118\r\n                } catch (error) {\r\n                    return _getBBoxHack.call(e, true);\r\n                }\r\n            },\r\n            _isSVG = function(e) { //reports if the element is an SVG on which getBBox() actually works\r\n                return !!(_SVGElement && e.getCTM && _getBBox(e) && (!e.parentNode || e.ownerSVGElement));\r\n            },\r\n            _identity2DMatrix = [1,0,0,1,0,0],\r\n            _getMatrix = function(e, force2D) {\r\n                var tm = e._gsTransform || new Transform(),\r\n                    rnd = 100000,\r\n                    style = e.style,\r\n                    isDefault, s, m, n, dec, none;\r\n                if (_transformProp) {\r\n                    s = _getStyle(e, _transformPropCSS, null, true);\r\n                } else if (e.currentStyle) {\r\n                    //for older versions of IE, we need to interpret the filter portion that is in the format: progid:DXImageTransform.Microsoft.Matrix(M11=6.123233995736766e-17, M12=-1, M21=1, M22=6.123233995736766e-17, sizingMethod='auto expand') Notice that we need to swap b and c compared to a normal matrix.\r\n                    s = e.currentStyle.filter.match(_ieGetMatrixExp);\r\n                    s = (s && s.length === 4) ? [s[0].substr(4), Number(s[2].substr(4)), Number(s[1].substr(4)), s[3].substr(4), (tm.x || 0), (tm.y || 0)].join(\",\") : \"\";\r\n                }\r\n                isDefault = (!s || s === \"none\" || s === \"matrix(1, 0, 0, 1, 0, 0)\");\r\n                if (isDefault && _transformProp && ((none = (_getComputedStyle(e).display === \"none\")) || !e.parentNode)) {\r\n                    if (none) { //browsers don't report transforms accurately unless the element is in the DOM and has a display value that's not \"none\".\r\n                        n = style.display;\r\n                        style.display = \"block\";\r\n                    }\r\n                    if (!e.parentNode) {\r\n                        dec = 1; //flag\r\n                        _docElement.appendChild(e);\r\n                    }\r\n                    s = _getStyle(e, _transformPropCSS, null, true);\r\n                    isDefault = (!s || s === \"none\" || s === \"matrix(1, 0, 0, 1, 0, 0)\");\r\n                    if (n) {\r\n                        style.display = n;\r\n                    } else if (none) {\r\n                        _removeProp(style, \"display\");\r\n                    }\r\n                    if (dec) {\r\n                        _docElement.removeChild(e);\r\n                    }\r\n                }\r\n                if (tm.svg || (e.getCTM && _isSVG(e))) {\r\n                    if (isDefault && (style[_transformProp] + \"\").indexOf(\"matrix\") !== -1) { //some browsers (like Chrome 40) don't correctly report transforms that are applied inline on an SVG element (they don't get included in the computed style), so we double-check here and accept matrix values\r\n                        s = style[_transformProp];\r\n                        isDefault = 0;\r\n                    }\r\n                    m = e.getAttribute(\"transform\");\r\n                    if (isDefault && m) {\r\n                        if (m.indexOf(\"matrix\") !== -1) { //just in case there's a \"transform\" value specified as an attribute instead of CSS style. Accept either a matrix() or simple translate() value though.\r\n                            s = m;\r\n                            isDefault = 0;\r\n                        } else if (m.indexOf(\"translate\") !== -1) {\r\n                            s = \"matrix(1,0,0,1,\" + m.match(/(?:\\-|\\b)[\\d\\-\\.e]+\\b/gi).join(\",\") + \")\";\r\n                            isDefault = 0;\r\n                        }\r\n                    }\r\n                }\r\n                if (isDefault) {\r\n                    return _identity2DMatrix;\r\n                }\r\n                //split the matrix values out into an array (m for matrix)\r\n                m = (s || \"\").match(_numExp) || [];\r\n                i = m.length;\r\n                while (--i > -1) {\r\n                    n = Number(m[i]);\r\n                    m[i] = (dec = n - (n |= 0)) ? ((dec * rnd + (dec < 0 ? -0.5 : 0.5)) | 0) / rnd + n : n; //convert strings to Numbers and round to 5 decimal places to avoid issues with tiny numbers. Roughly 20x faster than Number.toFixed(). We also must make sure to round before dividing so that values like 0.9999999999 become 1 to avoid glitches in browser rendering and interpretation of flipped/rotated 3D matrices. And don't just multiply the number by rnd, floor it, and then divide by rnd because the bitwise operations max out at a 32-bit signed integer, thus it could get clipped at a relatively low value (like 22,000.00000 for example).\r\n                }\r\n                return (force2D && m.length > 6) ? [m[0], m[1], m[4], m[5], m[12], m[13]] : m;\r\n            },\r\n\r\n            /**\r\n             * Parses the transform values for an element, returning an object with x, y, z, scaleX, scaleY, scaleZ, rotation, rotationX, rotationY, skewX, and skewY properties. Note: by default (for performance reasons), all skewing is combined into skewX and rotation but skewY still has a place in the transform object so that we can record how much of the skew is attributed to skewX vs skewY. Remember, a skewY of 10 looks the same as a rotation of 10 and skewX of -10.\r\n             * @param {!Object} t target element\r\n             * @param {Object=} cs computed style object (optional)\r\n             * @param {boolean=} rec if true, the transform values will be recorded to the target element's _gsTransform object, like target._gsTransform = {x:0, y:0, z:0, scaleX:1...}\r\n             * @param {boolean=} parse if true, we'll ignore any _gsTransform values that already exist on the element, and force a reparsing of the css (calculated style)\r\n             * @return {object} object containing all of the transform properties/values like {x:0, y:0, z:0, scaleX:1...}\r\n             */\r\n            _getTransform = _internals.getTransform = function(t, cs, rec, parse) {\r\n                if (t._gsTransform && rec && !parse) {\r\n                    return t._gsTransform; //if the element already has a _gsTransform, use that. Note: some browsers don't accurately return the calculated style for the transform (particularly for SVG), so it's almost always safest to just use the values we've already applied rather than re-parsing things.\r\n                }\r\n                var tm = rec ? t._gsTransform || new Transform() : new Transform(),\r\n                    invX = (tm.scaleX < 0), //in order to interpret things properly, we need to know if the user applied a negative scaleX previously so that we can adjust the rotation and skewX accordingly. Otherwise, if we always interpret a flipped matrix as affecting scaleY and the user only wants to tween the scaleX on multiple sequential tweens, it would keep the negative scaleY without that being the user's intent.\r\n                    min = 0.00002,\r\n                    rnd = 100000,\r\n                    zOrigin = _supports3D ? parseFloat(_getStyle(t, _transformOriginProp, cs, false, \"0 0 0\").split(\" \")[2]) || tm.zOrigin  || 0 : 0,\r\n                    defaultTransformPerspective = parseFloat(CSSPlugin.defaultTransformPerspective) || 0,\r\n                    m, i, scaleX, scaleY, rotation, skewX;\r\n\r\n                tm.svg = !!(t.getCTM && _isSVG(t));\r\n                if (tm.svg) {\r\n                    _parseSVGOrigin(t, _getStyle(t, _transformOriginProp, cs, false, \"50% 50%\") + \"\", tm, t.getAttribute(\"data-svg-origin\"));\r\n                    _useSVGTransformAttr = CSSPlugin.useSVGTransformAttr || _forceSVGTransformAttr;\r\n                }\r\n                m = _getMatrix(t);\r\n                if (m !== _identity2DMatrix) {\r\n\r\n                    if (m.length === 16) {\r\n                        //we'll only look at these position-related 6 variables first because if x/y/z all match, it's relatively safe to assume we don't need to re-parse everything which risks losing important rotational information (like rotationX:180 plus rotationY:180 would look the same as rotation:180 - there's no way to know for sure which direction was taken based solely on the matrix3d() values)\r\n                        var a11 = m[0], a21 = m[1], a31 = m[2], a41 = m[3],\r\n                            a12 = m[4], a22 = m[5], a32 = m[6], a42 = m[7],\r\n                            a13 = m[8], a23 = m[9], a33 = m[10],\r\n                            a14 = m[12], a24 = m[13], a34 = m[14],\r\n                            a43 = m[11],\r\n                            angle = Math.atan2(a32, a33),\r\n                            t1, t2, t3, t4, cos, sin;\r\n\r\n                        //we manually compensate for non-zero z component of transformOrigin to work around bugs in Safari\r\n                        if (tm.zOrigin) {\r\n                            a34 = -tm.zOrigin;\r\n                            a14 = a13*a34-m[12];\r\n                            a24 = a23*a34-m[13];\r\n                            a34 = a33*a34+tm.zOrigin-m[14];\r\n                        }\r\n                        tm.rotationX = angle * _RAD2DEG;\r\n                        //rotationX\r\n                        if (angle) {\r\n                            cos = Math.cos(-angle);\r\n                            sin = Math.sin(-angle);\r\n                            t1 = a12*cos+a13*sin;\r\n                            t2 = a22*cos+a23*sin;\r\n                            t3 = a32*cos+a33*sin;\r\n                            a13 = a12*-sin+a13*cos;\r\n                            a23 = a22*-sin+a23*cos;\r\n                            a33 = a32*-sin+a33*cos;\r\n                            a43 = a42*-sin+a43*cos;\r\n                            a12 = t1;\r\n                            a22 = t2;\r\n                            a32 = t3;\r\n                        }\r\n                        //rotationY\r\n                        angle = Math.atan2(-a31, a33);\r\n                        tm.rotationY = angle * _RAD2DEG;\r\n                        if (angle) {\r\n                            cos = Math.cos(-angle);\r\n                            sin = Math.sin(-angle);\r\n                            t1 = a11*cos-a13*sin;\r\n                            t2 = a21*cos-a23*sin;\r\n                            t3 = a31*cos-a33*sin;\r\n                            a23 = a21*sin+a23*cos;\r\n                            a33 = a31*sin+a33*cos;\r\n                            a43 = a41*sin+a43*cos;\r\n                            a11 = t1;\r\n                            a21 = t2;\r\n                            a31 = t3;\r\n                        }\r\n                        //rotationZ\r\n                        angle = Math.atan2(a21, a11);\r\n                        tm.rotation = angle * _RAD2DEG;\r\n                        if (angle) {\r\n                            cos = Math.cos(-angle);\r\n                            sin = Math.sin(-angle);\r\n                            a11 = a11*cos+a12*sin;\r\n                            t2 = a21*cos+a22*sin;\r\n                            a22 = a21*-sin+a22*cos;\r\n                            a32 = a31*-sin+a32*cos;\r\n                            a21 = t2;\r\n                        }\r\n\r\n                        if (tm.rotationX && Math.abs(tm.rotationX) + Math.abs(tm.rotation) > 359.9) { //when rotationY is set, it will often be parsed as 180 degrees different than it should be, and rotationX and rotation both being 180 (it looks the same), so we adjust for that here.\r\n                            tm.rotationX = tm.rotation = 0;\r\n                            tm.rotationY = 180 - tm.rotationY;\r\n                        }\r\n\r\n                        tm.scaleX = ((Math.sqrt(a11 * a11 + a21 * a21) * rnd + 0.5) | 0) / rnd;\r\n                        tm.scaleY = ((Math.sqrt(a22 * a22 + a23 * a23) * rnd + 0.5) | 0) / rnd;\r\n                        tm.scaleZ = ((Math.sqrt(a32 * a32 + a33 * a33) * rnd + 0.5) | 0) / rnd;\r\n                        if (tm.rotationX || tm.rotationY) {\r\n                            tm.skewX = 0;\r\n                        } else {\r\n                            tm.skewX = (a12 || a22) ? Math.atan2(a12, a22) * _RAD2DEG + tm.rotation : tm.skewX || 0;\r\n                            if (Math.abs(tm.skewX) > 90 && Math.abs(tm.skewX) < 270) {\r\n                                if (invX) {\r\n                                    tm.scaleX *= -1;\r\n                                    tm.skewX += (tm.rotation <= 0) ? 180 : -180;\r\n                                    tm.rotation += (tm.rotation <= 0) ? 180 : -180;\r\n                                } else {\r\n                                    tm.scaleY *= -1;\r\n                                    tm.skewX += (tm.skewX <= 0) ? 180 : -180;\r\n                                }\r\n                            }\r\n                        }\r\n                        tm.perspective = a43 ? 1 / ((a43 < 0) ? -a43 : a43) : 0;\r\n                        tm.x = a14;\r\n                        tm.y = a24;\r\n                        tm.z = a34;\r\n                        if (tm.svg) {\r\n                            tm.x -= tm.xOrigin - (tm.xOrigin * a11 - tm.yOrigin * a12);\r\n                            tm.y -= tm.yOrigin - (tm.yOrigin * a21 - tm.xOrigin * a22);\r\n                        }\r\n\r\n                    } else if ((!_supports3D || parse || !m.length || tm.x !== m[4] || tm.y !== m[5] || (!tm.rotationX && !tm.rotationY))) { //sometimes a 6-element matrix is returned even when we performed 3D transforms, like if rotationX and rotationY are 180. In cases like this, we still need to honor the 3D transforms. If we just rely on the 2D info, it could affect how the data is interpreted, like scaleY might get set to -1 or rotation could get offset by 180 degrees. For example, do a TweenLite.to(element, 1, {css:{rotationX:180, rotationY:180}}) and then later, TweenLite.to(element, 1, {css:{rotationX:0}}) and without this conditional logic in place, it'd jump to a state of being unrotated when the 2nd tween starts. Then again, we need to honor the fact that the user COULD alter the transforms outside of CSSPlugin, like by manually applying new css, so we try to sense that by looking at x and y because if those changed, we know the changes were made outside CSSPlugin and we force a reinterpretation of the matrix values. Also, in Webkit browsers, if the element's \"display\" is \"none\", its calculated style value will always return empty, so if we've already recorded the values in the _gsTransform object, we'll just rely on those.\r\n                        var k = (m.length >= 6),\r\n                            a = k ? m[0] : 1,\r\n                            b = m[1] || 0,\r\n                            c = m[2] || 0,\r\n                            d = k ? m[3] : 1;\r\n                        tm.x = m[4] || 0;\r\n                        tm.y = m[5] || 0;\r\n                        scaleX = Math.sqrt(a * a + b * b);\r\n                        scaleY = Math.sqrt(d * d + c * c);\r\n                        rotation = (a || b) ? Math.atan2(b, a) * _RAD2DEG : tm.rotation || 0; //note: if scaleX is 0, we cannot accurately measure rotation. Same for skewX with a scaleY of 0. Therefore, we default to the previously recorded value (or zero if that doesn't exist).\r\n                        skewX = (c || d) ? Math.atan2(c, d) * _RAD2DEG + rotation : tm.skewX || 0;\r\n                        if (Math.abs(skewX) > 90 && Math.abs(skewX) < 270) {\r\n                            if (invX) {\r\n                                scaleX *= -1;\r\n                                skewX += (rotation <= 0) ? 180 : -180;\r\n                                rotation += (rotation <= 0) ? 180 : -180;\r\n                            } else {\r\n                                scaleY *= -1;\r\n                                skewX += (skewX <= 0) ? 180 : -180;\r\n                            }\r\n                        }\r\n                        tm.scaleX = scaleX;\r\n                        tm.scaleY = scaleY;\r\n                        tm.rotation = rotation;\r\n                        tm.skewX = skewX;\r\n                        if (_supports3D) {\r\n                            tm.rotationX = tm.rotationY = tm.z = 0;\r\n                            tm.perspective = defaultTransformPerspective;\r\n                            tm.scaleZ = 1;\r\n                        }\r\n                        if (tm.svg) {\r\n                            tm.x -= tm.xOrigin - (tm.xOrigin * a + tm.yOrigin * c);\r\n                            tm.y -= tm.yOrigin - (tm.xOrigin * b + tm.yOrigin * d);\r\n                        }\r\n                    }\r\n                    tm.zOrigin = zOrigin;\r\n                    //some browsers have a hard time with very small values like 2.4492935982947064e-16 (notice the \"e-\" towards the end) and would render the object slightly off. So we round to 0 in these cases. The conditional logic here is faster than calling Math.abs(). Also, browsers tend to render a SLIGHTLY rotated object in a fuzzy way, so we need to snap to exactly 0 when appropriate.\r\n                    for (i in tm) {\r\n                        if (tm[i] < min) if (tm[i] > -min) {\r\n                            tm[i] = 0;\r\n                        }\r\n                    }\r\n                }\r\n                //DEBUG: _log(\"parsed rotation of \" + t.getAttribute(\"id\")+\": \"+(tm.rotationX)+\", \"+(tm.rotationY)+\", \"+(tm.rotation)+\", scale: \"+tm.scaleX+\", \"+tm.scaleY+\", \"+tm.scaleZ+\", position: \"+tm.x+\", \"+tm.y+\", \"+tm.z+\", perspective: \"+tm.perspective+ \", origin: \"+ tm.xOrigin+ \",\"+ tm.yOrigin);\r\n                if (rec) {\r\n                    t._gsTransform = tm; //record to the object's _gsTransform which we use so that tweens can control individual properties independently (we need all the properties to accurately recompose the matrix in the setRatio() method)\r\n                    if (tm.svg) { //if we're supposed to apply transforms to the SVG element's \"transform\" attribute, make sure there aren't any CSS transforms applied or they'll override the attribute ones. Also clear the transform attribute if we're using CSS, just to be clean.\r\n                        if (_useSVGTransformAttr && t.style[_transformProp]) {\r\n                            TweenLite.delayedCall(0.001, function(){ //if we apply this right away (before anything has rendered), we risk there being no transforms for a brief moment and it also interferes with adjusting the transformOrigin in a tween with immediateRender:true (it'd try reading the matrix and it wouldn't have the appropriate data in place because we just removed it).\r\n                                _removeProp(t.style, _transformProp);\r\n                            });\r\n                        } else if (!_useSVGTransformAttr && t.getAttribute(\"transform\")) {\r\n                            TweenLite.delayedCall(0.001, function(){\r\n                                t.removeAttribute(\"transform\");\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n                return tm;\r\n            },\r\n\r\n            //for setting 2D transforms in IE6, IE7, and IE8 (must use a \"filter\" to emulate the behavior of modern day browser transforms)\r\n            _setIETransformRatio = function(v) {\r\n                var t = this.data, //refers to the element's _gsTransform object\r\n                    ang = -t.rotation * _DEG2RAD,\r\n                    skew = ang + t.skewX * _DEG2RAD,\r\n                    rnd = 100000,\r\n                    a = ((Math.cos(ang) * t.scaleX * rnd) | 0) / rnd,\r\n                    b = ((Math.sin(ang) * t.scaleX * rnd) | 0) / rnd,\r\n                    c = ((Math.sin(skew) * -t.scaleY * rnd) | 0) / rnd,\r\n                    d = ((Math.cos(skew) * t.scaleY * rnd) | 0) / rnd,\r\n                    style = this.t.style,\r\n                    cs = this.t.currentStyle,\r\n                    filters, val;\r\n                if (!cs) {\r\n                    return;\r\n                }\r\n                val = b; //just for swapping the variables an inverting them (reused \"val\" to avoid creating another variable in memory). IE's filter matrix uses a non-standard matrix configuration (angle goes the opposite way, and b and c are reversed and inverted)\r\n                b = -c;\r\n                c = -val;\r\n                filters = cs.filter;\r\n                style.filter = \"\"; //remove filters so that we can accurately measure offsetWidth/offsetHeight\r\n                var w = this.t.offsetWidth,\r\n                    h = this.t.offsetHeight,\r\n                    clip = (cs.position !== \"absolute\"),\r\n                    m = \"progid:DXImageTransform.Microsoft.Matrix(M11=\" + a + \", M12=\" + b + \", M21=\" + c + \", M22=\" + d,\r\n                    ox = t.x + (w * t.xPercent / 100),\r\n                    oy = t.y + (h * t.yPercent / 100),\r\n                    dx, dy;\r\n\r\n                //if transformOrigin is being used, adjust the offset x and y\r\n                if (t.ox != null) {\r\n                    dx = ((t.oxp) ? w * t.ox * 0.01 : t.ox) - w / 2;\r\n                    dy = ((t.oyp) ? h * t.oy * 0.01 : t.oy) - h / 2;\r\n                    ox += dx - (dx * a + dy * b);\r\n                    oy += dy - (dx * c + dy * d);\r\n                }\r\n\r\n                if (!clip) {\r\n                    m += \", sizingMethod='auto expand')\";\r\n                } else {\r\n                    dx = (w / 2);\r\n                    dy = (h / 2);\r\n                    //translate to ensure that transformations occur around the correct origin (default is center).\r\n                    m += \", Dx=\" + (dx - (dx * a + dy * b) + ox) + \", Dy=\" + (dy - (dx * c + dy * d) + oy) + \")\";\r\n                }\r\n                if (filters.indexOf(\"DXImageTransform.Microsoft.Matrix(\") !== -1) {\r\n                    style.filter = filters.replace(_ieSetMatrixExp, m);\r\n                } else {\r\n                    style.filter = m + \" \" + filters; //we must always put the transform/matrix FIRST (before alpha(opacity=xx)) to avoid an IE bug that slices part of the object when rotation is applied with alpha.\r\n                }\r\n\r\n                //at the end or beginning of the tween, if the matrix is normal (1, 0, 0, 1) and opacity is 100 (or doesn't exist), remove the filter to improve browser performance.\r\n                if (v === 0 || v === 1) if (a === 1) if (b === 0) if (c === 0) if (d === 1) if (!clip || m.indexOf(\"Dx=0, Dy=0\") !== -1) if (!_opacityExp.test(filters) || parseFloat(RegExp.$1) === 100) if (filters.indexOf(\"gradient(\" && filters.indexOf(\"Alpha\")) === -1) {\r\n                    style.removeAttribute(\"filter\");\r\n                }\r\n\r\n                //we must set the margins AFTER applying the filter in order to avoid some bugs in IE8 that could (in rare scenarios) cause them to be ignored intermittently (vibration).\r\n                if (!clip) {\r\n                    var mult = (_ieVers < 8) ? 1 : -1, //in Internet Explorer 7 and before, the box model is broken, causing the browser to treat the width/height of the actual rotated filtered image as the width/height of the box itself, but Microsoft corrected that in IE8. We must use a negative offset in IE8 on the right/bottom\r\n                        marg, prop, dif;\r\n                    dx = t.ieOffsetX || 0;\r\n                    dy = t.ieOffsetY || 0;\r\n                    t.ieOffsetX = Math.round((w - ((a < 0 ? -a : a) * w + (b < 0 ? -b : b) * h)) / 2 + ox);\r\n                    t.ieOffsetY = Math.round((h - ((d < 0 ? -d : d) * h + (c < 0 ? -c : c) * w)) / 2 + oy);\r\n                    for (i = 0; i < 4; i++) {\r\n                        prop = _margins[i];\r\n                        marg = cs[prop];\r\n                        //we need to get the current margin in case it is being tweened separately (we want to respect that tween's changes)\r\n                        val = (marg.indexOf(\"px\") !== -1) ? parseFloat(marg) : _convertToPixels(this.t, prop, parseFloat(marg), marg.replace(_suffixExp, \"\")) || 0;\r\n                        if (val !== t[prop]) {\r\n                            dif = (i < 2) ? -t.ieOffsetX : -t.ieOffsetY; //if another tween is controlling a margin, we cannot only apply the difference in the ieOffsets, so we essentially zero-out the dx and dy here in that case. We record the margin(s) later so that we can keep comparing them, making this code very flexible.\r\n                        } else {\r\n                            dif = (i < 2) ? dx - t.ieOffsetX : dy - t.ieOffsetY;\r\n                        }\r\n                        style[prop] = (t[prop] = Math.round( val - dif * ((i === 0 || i === 2) ? 1 : mult) )) + \"px\";\r\n                    }\r\n                }\r\n            },\r\n\r\n\t\t\t/* translates a super small decimal to a string WITHOUT scientific notation\r\n\t\t\t _safeDecimal = function(n) {\r\n\t\t\t var s = (n < 0 ? -n : n) + \"\",\r\n\t\t\t a = s.split(\"e-\");\r\n\t\t\t return (n < 0 ? \"-0.\" : \"0.\") + new Array(parseInt(a[1], 10) || 0).join(\"0\") + a[0].split(\".\").join(\"\");\r\n\t\t\t },\r\n\t\t\t */\r\n\r\n            _setTransformRatio = _internals.set3DTransformRatio = _internals.setTransformRatio = function(v) {\r\n                var t = this.data, //refers to the element's _gsTransform object\r\n                    style = this.t.style,\r\n                    angle = t.rotation,\r\n                    rotationX = t.rotationX,\r\n                    rotationY = t.rotationY,\r\n                    sx = t.scaleX,\r\n                    sy = t.scaleY,\r\n                    sz = t.scaleZ,\r\n                    x = t.x,\r\n                    y = t.y,\r\n                    z = t.z,\r\n                    isSVG = t.svg,\r\n                    perspective = t.perspective,\r\n                    force3D = t.force3D,\r\n                    skewY = t.skewY,\r\n                    skewX = t.skewX,\r\n                    t1,\ta11, a12, a13, a21, a22, a23, a31, a32, a33, a41, a42, a43,\r\n                    zOrigin, min, cos, sin, t2, transform, comma, zero, skew, rnd;\r\n                if (skewY) { //for performance reasons, we combine all skewing into the skewX and rotation values. Remember, a skewY of 10 degrees looks the same as a rotation of 10 degrees plus a skewX of 10 degrees.\r\n                    skewX += skewY;\r\n                    angle += skewY;\r\n                }\r\n\r\n                //check to see if we should render as 2D (and SVGs must use 2D when _useSVGTransformAttr is true)\r\n                if (((((v === 1 || v === 0) && force3D === \"auto\" && (this.tween._totalTime === this.tween._totalDuration || !this.tween._totalTime)) || !force3D) && !z && !perspective && !rotationY && !rotationX && sz === 1) || (_useSVGTransformAttr && isSVG) || !_supports3D) { //on the final render (which could be 0 for a from tween), if there are no 3D aspects, render in 2D to free up memory and improve performance especially on mobile devices. Check the tween's totalTime/totalDuration too in order to make sure it doesn't happen between repeats if it's a repeating tween.\r\n\r\n                    //2D\r\n                    if (angle || skewX || isSVG) {\r\n                        angle *= _DEG2RAD;\r\n                        skew = skewX * _DEG2RAD;\r\n                        rnd = 100000;\r\n                        a11 = Math.cos(angle) * sx;\r\n                        a21 = Math.sin(angle) * sx;\r\n                        a12 = Math.sin(angle - skew) * -sy;\r\n                        a22 = Math.cos(angle - skew) * sy;\r\n                        if (skew && t.skewType === \"simple\") { //by default, we compensate skewing on the other axis to make it look more natural, but you can set the skewType to \"simple\" to use the uncompensated skewing that CSS does\r\n                            t1 = Math.tan(skew - skewY * _DEG2RAD);\r\n                            t1 = Math.sqrt(1 + t1 * t1);\r\n                            a12 *= t1;\r\n                            a22 *= t1;\r\n                            if (skewY) {\r\n                                t1 = Math.tan(skewY * _DEG2RAD);\r\n                                t1 = Math.sqrt(1 + t1 * t1);\r\n                                a11 *= t1;\r\n                                a21 *= t1;\r\n                            }\r\n                        }\r\n                        if (isSVG) {\r\n                            x += t.xOrigin - (t.xOrigin * a11 + t.yOrigin * a12) + t.xOffset;\r\n                            y += t.yOrigin - (t.xOrigin * a21 + t.yOrigin * a22) + t.yOffset;\r\n                            if (_useSVGTransformAttr && (t.xPercent || t.yPercent)) { //The SVG spec doesn't support percentage-based translation in the \"transform\" attribute, so we merge it into the matrix to simulate it.\r\n                                min = this.t.getBBox();\r\n                                x += t.xPercent * 0.01 * min.width;\r\n                                y += t.yPercent * 0.01 * min.height;\r\n                            }\r\n                            min = 0.000001;\r\n                            if (x < min) if (x > -min) {\r\n                                x = 0;\r\n                            }\r\n                            if (y < min) if (y > -min) {\r\n                                y = 0;\r\n                            }\r\n                        }\r\n                        transform = (((a11 * rnd) | 0) / rnd) + \",\" + (((a21 * rnd) | 0) / rnd) + \",\" + (((a12 * rnd) | 0) / rnd) + \",\" + (((a22 * rnd) | 0) / rnd) + \",\" + x + \",\" + y + \")\";\r\n                        if (isSVG && _useSVGTransformAttr) {\r\n                            this.t.setAttribute(\"transform\", \"matrix(\" + transform);\r\n                        } else {\r\n                            //some browsers have a hard time with very small values like 2.4492935982947064e-16 (notice the \"e-\" towards the end) and would render the object slightly off. So we round to 5 decimal places.\r\n                            style[_transformProp] = ((t.xPercent || t.yPercent) ? \"translate(\" + t.xPercent + \"%,\" + t.yPercent + \"%) matrix(\" : \"matrix(\") + transform;\r\n                        }\r\n                    } else {\r\n                        style[_transformProp] = ((t.xPercent || t.yPercent) ? \"translate(\" + t.xPercent + \"%,\" + t.yPercent + \"%) matrix(\" : \"matrix(\") + sx + \",0,0,\" + sy + \",\" + x + \",\" + y + \")\";\r\n                    }\r\n                    return;\r\n\r\n                }\r\n                if (_isFirefox) { //Firefox has a bug (at least in v25) that causes it to render the transparent part of 32-bit PNG images as black when displayed inside an iframe and the 3D scale is very small and doesn't change sufficiently enough between renders (like if you use a Power4.easeInOut to scale from 0 to 1 where the beginning values only change a tiny amount to begin the tween before accelerating). In this case, we force the scale to be 0.00002 instead which is visually the same but works around the Firefox issue.\r\n                    min = 0.0001;\r\n                    if (sx < min && sx > -min) {\r\n                        sx = sz = 0.00002;\r\n                    }\r\n                    if (sy < min && sy > -min) {\r\n                        sy = sz = 0.00002;\r\n                    }\r\n                    if (perspective && !t.z && !t.rotationX && !t.rotationY) { //Firefox has a bug that causes elements to have an odd super-thin, broken/dotted black border on elements that have a perspective set but aren't utilizing 3D space (no rotationX, rotationY, or z).\r\n                        perspective = 0;\r\n                    }\r\n                }\r\n                if (angle || skewX) {\r\n                    angle *= _DEG2RAD;\r\n                    cos = a11 = Math.cos(angle);\r\n                    sin = a21 = Math.sin(angle);\r\n                    if (skewX) {\r\n                        angle -= skewX * _DEG2RAD;\r\n                        cos = Math.cos(angle);\r\n                        sin = Math.sin(angle);\r\n                        if (t.skewType === \"simple\") { //by default, we compensate skewing on the other axis to make it look more natural, but you can set the skewType to \"simple\" to use the uncompensated skewing that CSS does\r\n                            t1 = Math.tan((skewX - skewY) * _DEG2RAD);\r\n                            t1 = Math.sqrt(1 + t1 * t1);\r\n                            cos *= t1;\r\n                            sin *= t1;\r\n                            if (t.skewY) {\r\n                                t1 = Math.tan(skewY * _DEG2RAD);\r\n                                t1 = Math.sqrt(1 + t1 * t1);\r\n                                a11 *= t1;\r\n                                a21 *= t1;\r\n                            }\r\n                        }\r\n                    }\r\n                    a12 = -sin;\r\n                    a22 = cos;\r\n\r\n                } else if (!rotationY && !rotationX && sz === 1 && !perspective && !isSVG) { //if we're only translating and/or 2D scaling, this is faster...\r\n                    style[_transformProp] = ((t.xPercent || t.yPercent) ? \"translate(\" + t.xPercent + \"%,\" + t.yPercent + \"%) translate3d(\" : \"translate3d(\") + x + \"px,\" + y + \"px,\" + z +\"px)\" + ((sx !== 1 || sy !== 1) ? \" scale(\" + sx + \",\" + sy + \")\" : \"\");\r\n                    return;\r\n                } else {\r\n                    a11 = a22 = 1;\r\n                    a12 = a21 = 0;\r\n                }\r\n                // KEY  INDEX   AFFECTS\r\n                // a11  0       rotation, rotationY, scaleX\r\n                // a21  1       rotation, rotationY, scaleX\r\n                // a31  2       rotationY, scaleX\r\n                // a41  3       rotationY, scaleX\r\n                // a12  4       rotation, skewX, rotationX, scaleY\r\n                // a22  5       rotation, skewX, rotationX, scaleY\r\n                // a32  6       rotationX, scaleY\r\n                // a42  7       rotationX, scaleY\r\n                // a13  8       rotationY, rotationX, scaleZ\r\n                // a23  9       rotationY, rotationX, scaleZ\r\n                // a33  10      rotationY, rotationX, scaleZ\r\n                // a43  11      rotationY, rotationX, perspective, scaleZ\r\n                // a14  12      x, zOrigin, svgOrigin\r\n                // a24  13      y, zOrigin, svgOrigin\r\n                // a34  14      z, zOrigin\r\n                // a44  15\r\n                // rotation: Math.atan2(a21, a11)\r\n                // rotationY: Math.atan2(a13, a33) (or Math.atan2(a13, a11))\r\n                // rotationX: Math.atan2(a32, a33)\r\n                a33 = 1;\r\n                a13 = a23 = a31 = a32 = a41 = a42 = 0;\r\n                a43 = (perspective) ? -1 / perspective : 0;\r\n                zOrigin = t.zOrigin;\r\n                min = 0.000001; //threshold below which browsers use scientific notation which won't work.\r\n                comma = \",\";\r\n                zero = \"0\";\r\n                angle = rotationY * _DEG2RAD;\r\n                if (angle) {\r\n                    cos = Math.cos(angle);\r\n                    sin = Math.sin(angle);\r\n                    a31 = -sin;\r\n                    a41 = a43*-sin;\r\n                    a13 = a11*sin;\r\n                    a23 = a21*sin;\r\n                    a33 = cos;\r\n                    a43 *= cos;\r\n                    a11 *= cos;\r\n                    a21 *= cos;\r\n                }\r\n                angle = rotationX * _DEG2RAD;\r\n                if (angle) {\r\n                    cos = Math.cos(angle);\r\n                    sin = Math.sin(angle);\r\n                    t1 = a12*cos+a13*sin;\r\n                    t2 = a22*cos+a23*sin;\r\n                    a32 = a33*sin;\r\n                    a42 = a43*sin;\r\n                    a13 = a12*-sin+a13*cos;\r\n                    a23 = a22*-sin+a23*cos;\r\n                    a33 = a33*cos;\r\n                    a43 = a43*cos;\r\n                    a12 = t1;\r\n                    a22 = t2;\r\n                }\r\n                if (sz !== 1) {\r\n                    a13*=sz;\r\n                    a23*=sz;\r\n                    a33*=sz;\r\n                    a43*=sz;\r\n                }\r\n                if (sy !== 1) {\r\n                    a12*=sy;\r\n                    a22*=sy;\r\n                    a32*=sy;\r\n                    a42*=sy;\r\n                }\r\n                if (sx !== 1) {\r\n                    a11*=sx;\r\n                    a21*=sx;\r\n                    a31*=sx;\r\n                    a41*=sx;\r\n                }\r\n\r\n                if (zOrigin || isSVG) {\r\n                    if (zOrigin) {\r\n                        x += a13*-zOrigin;\r\n                        y += a23*-zOrigin;\r\n                        z += a33*-zOrigin+zOrigin;\r\n                    }\r\n                    if (isSVG) { //due to bugs in some browsers, we need to manage the transform-origin of SVG manually\r\n                        x += t.xOrigin - (t.xOrigin * a11 + t.yOrigin * a12) + t.xOffset;\r\n                        y += t.yOrigin - (t.xOrigin * a21 + t.yOrigin * a22) + t.yOffset;\r\n                    }\r\n                    if (x < min && x > -min) {\r\n                        x = zero;\r\n                    }\r\n                    if (y < min && y > -min) {\r\n                        y = zero;\r\n                    }\r\n                    if (z < min && z > -min) {\r\n                        z = 0; //don't use string because we calculate perspective later and need the number.\r\n                    }\r\n                }\r\n\r\n                //optimized way of concatenating all the values into a string. If we do it all in one shot, it's slower because of the way browsers have to create temp strings and the way it affects memory. If we do it piece-by-piece with +=, it's a bit slower too. We found that doing it in these sized chunks works best overall:\r\n                transform = ((t.xPercent || t.yPercent) ? \"translate(\" + t.xPercent + \"%,\" + t.yPercent + \"%) matrix3d(\" : \"matrix3d(\");\r\n                transform += ((a11 < min && a11 > -min) ? zero : a11) + comma + ((a21 < min && a21 > -min) ? zero : a21) + comma + ((a31 < min && a31 > -min) ? zero : a31);\r\n                transform += comma + ((a41 < min && a41 > -min) ? zero : a41) + comma + ((a12 < min && a12 > -min) ? zero : a12) + comma + ((a22 < min && a22 > -min) ? zero : a22);\r\n                if (rotationX || rotationY || sz !== 1) { //performance optimization (often there's no rotationX or rotationY, so we can skip these calculations)\r\n                    transform += comma + ((a32 < min && a32 > -min) ? zero : a32) + comma + ((a42 < min && a42 > -min) ? zero : a42) + comma + ((a13 < min && a13 > -min) ? zero : a13);\r\n                    transform += comma + ((a23 < min && a23 > -min) ? zero : a23) + comma + ((a33 < min && a33 > -min) ? zero : a33) + comma + ((a43 < min && a43 > -min) ? zero : a43) + comma;\r\n                } else {\r\n                    transform += \",0,0,0,0,1,0,\";\r\n                }\r\n                transform += x + comma + y + comma + z + comma + (perspective ? (1 + (-z / perspective)) : 1) + \")\";\r\n\r\n                style[_transformProp] = transform;\r\n            };\r\n\r\n        p = Transform.prototype;\r\n        p.x = p.y = p.z = p.skewX = p.skewY = p.rotation = p.rotationX = p.rotationY = p.zOrigin = p.xPercent = p.yPercent = p.xOffset = p.yOffset = 0;\r\n        p.scaleX = p.scaleY = p.scaleZ = 1;\r\n\r\n        _registerComplexSpecialProp(\"transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin\", {parser:function(t, e, parsingProp, cssp, pt, plugin, vars) {\r\n            if (cssp._lastParsedTransform === vars) { return pt; } //only need to parse the transform once, and only if the browser supports it.\r\n            cssp._lastParsedTransform = vars;\r\n            var scaleFunc = (vars.scale && typeof(vars.scale) === \"function\") ? vars.scale : 0, //if there's a function-based \"scale\" value, swap in the resulting numeric value temporarily. Otherwise, if it's called for both scaleX and scaleY independently, they may not match (like if the function uses Math.random()).\r\n                swapFunc;\r\n            if (typeof(vars[parsingProp]) === \"function\") { //whatever property triggers the initial parsing might be a function-based value in which case it already got called in parse(), thus we don't want to call it again in here. The most efficient way to avoid this is to temporarily swap the value directly into the vars object, and then after we do all our parsing in this function, we'll swap it back again.\r\n                swapFunc = vars[parsingProp];\r\n                vars[parsingProp] = e;\r\n            }\r\n            if (scaleFunc) {\r\n                vars.scale = scaleFunc(_index, t);\r\n            }\r\n            var originalGSTransform = t._gsTransform,\r\n                style = t.style,\r\n                min = 0.000001,\r\n                i = _transformProps.length,\r\n                v = vars,\r\n                endRotations = {},\r\n                transformOriginString = \"transformOrigin\",\r\n                m1 = _getTransform(t, _cs, true, v.parseTransform),\r\n                orig = v.transform && ((typeof(v.transform) === \"function\") ? v.transform(_index, _target) : v.transform),\r\n                m2, copy, has3D, hasChange, dr, x, y, matrix, p;\r\n            cssp._transform = m1;\r\n            if (orig && typeof(orig) === \"string\" && _transformProp) { //for values like transform:\"rotate(60deg) scale(0.5, 0.8)\"\r\n                copy = _tempDiv.style; //don't use the original target because it might be SVG in which case some browsers don't report computed style correctly.\r\n                copy[_transformProp] = orig;\r\n                copy.display = \"block\"; //if display is \"none\", the browser often refuses to report the transform properties correctly.\r\n                copy.position = \"absolute\";\r\n                _doc.body.appendChild(_tempDiv);\r\n                m2 = _getTransform(_tempDiv, null, false);\r\n                if (m1.svg) { //if it's an SVG element, x/y part of the matrix will be affected by whatever we use as the origin and the offsets, so compensate here...\r\n                    x = m1.xOrigin;\r\n                    y = m1.yOrigin;\r\n                    m2.x -= m1.xOffset;\r\n                    m2.y -= m1.yOffset;\r\n                    if (v.transformOrigin || v.svgOrigin) { //if this tween is altering the origin, we must factor that in here. The actual work of recording the transformOrigin values and setting up the PropTween is done later (still inside this function) so we cannot leave the changes intact here - we only want to update the x/y accordingly.\r\n                        orig = {};\r\n                        _parseSVGOrigin(t, _parsePosition(v.transformOrigin), orig, v.svgOrigin, v.smoothOrigin, true);\r\n                        x = orig.xOrigin;\r\n                        y = orig.yOrigin;\r\n                        m2.x -= orig.xOffset - m1.xOffset;\r\n                        m2.y -= orig.yOffset - m1.yOffset;\r\n                    }\r\n                    if (x || y) {\r\n                        matrix = _getMatrix(_tempDiv, true);\r\n                        m2.x -= x - (x * matrix[0] + y * matrix[2]);\r\n                        m2.y -= y - (x * matrix[1] + y * matrix[3]);\r\n                    }\r\n                }\r\n                _doc.body.removeChild(_tempDiv);\r\n                if (!m2.perspective) {\r\n                    m2.perspective = m1.perspective; //tweening to no perspective gives very unintuitive results - just keep the same perspective in that case.\r\n                }\r\n                if (v.xPercent != null) {\r\n                    m2.xPercent = _parseVal(v.xPercent, m1.xPercent);\r\n                }\r\n                if (v.yPercent != null) {\r\n                    m2.yPercent = _parseVal(v.yPercent, m1.yPercent);\r\n                }\r\n            } else if (typeof(v) === \"object\") { //for values like scaleX, scaleY, rotation, x, y, skewX, and skewY or transform:{...} (object)\r\n                m2 = {scaleX:_parseVal((v.scaleX != null) ? v.scaleX : v.scale, m1.scaleX),\r\n                    scaleY:_parseVal((v.scaleY != null) ? v.scaleY : v.scale, m1.scaleY),\r\n                    scaleZ:_parseVal(v.scaleZ, m1.scaleZ),\r\n                    x:_parseVal(v.x, m1.x),\r\n                    y:_parseVal(v.y, m1.y),\r\n                    z:_parseVal(v.z, m1.z),\r\n                    xPercent:_parseVal(v.xPercent, m1.xPercent),\r\n                    yPercent:_parseVal(v.yPercent, m1.yPercent),\r\n                    perspective:_parseVal(v.transformPerspective, m1.perspective)};\r\n                dr = v.directionalRotation;\r\n                if (dr != null) {\r\n                    if (typeof(dr) === \"object\") {\r\n                        for (copy in dr) {\r\n                            v[copy] = dr[copy];\r\n                        }\r\n                    } else {\r\n                        v.rotation = dr;\r\n                    }\r\n                }\r\n                if (typeof(v.x) === \"string\" && v.x.indexOf(\"%\") !== -1) {\r\n                    m2.x = 0;\r\n                    m2.xPercent = _parseVal(v.x, m1.xPercent);\r\n                }\r\n                if (typeof(v.y) === \"string\" && v.y.indexOf(\"%\") !== -1) {\r\n                    m2.y = 0;\r\n                    m2.yPercent = _parseVal(v.y, m1.yPercent);\r\n                }\r\n\r\n                m2.rotation = _parseAngle((\"rotation\" in v) ? v.rotation : (\"shortRotation\" in v) ? v.shortRotation + \"_short\" : (\"rotationZ\" in v) ? v.rotationZ : m1.rotation, m1.rotation, \"rotation\", endRotations);\r\n                if (_supports3D) {\r\n                    m2.rotationX = _parseAngle((\"rotationX\" in v) ? v.rotationX : (\"shortRotationX\" in v) ? v.shortRotationX + \"_short\" : m1.rotationX || 0, m1.rotationX, \"rotationX\", endRotations);\r\n                    m2.rotationY = _parseAngle((\"rotationY\" in v) ? v.rotationY : (\"shortRotationY\" in v) ? v.shortRotationY + \"_short\" : m1.rotationY || 0, m1.rotationY, \"rotationY\", endRotations);\r\n                }\r\n                m2.skewX = _parseAngle(v.skewX, m1.skewX);\r\n                m2.skewY = _parseAngle(v.skewY, m1.skewY);\r\n            }\r\n            if (_supports3D && v.force3D != null) {\r\n                m1.force3D = v.force3D;\r\n                hasChange = true;\r\n            }\r\n\r\n            m1.skewType = v.skewType || m1.skewType || CSSPlugin.defaultSkewType;\r\n\r\n            has3D = (m1.force3D || m1.z || m1.rotationX || m1.rotationY || m2.z || m2.rotationX || m2.rotationY || m2.perspective);\r\n            if (!has3D && v.scale != null) {\r\n                m2.scaleZ = 1; //no need to tween scaleZ.\r\n            }\r\n\r\n            while (--i > -1) {\r\n                p = _transformProps[i];\r\n                orig = m2[p] - m1[p];\r\n                if (orig > min || orig < -min || v[p] != null || _forcePT[p] != null) {\r\n                    hasChange = true;\r\n                    pt = new CSSPropTween(m1, p, m1[p], orig, pt);\r\n                    if (p in endRotations) {\r\n                        pt.e = endRotations[p]; //directional rotations typically have compensated values during the tween, but we need to make sure they end at exactly what the user requested\r\n                    }\r\n                    pt.xs0 = 0; //ensures the value stays numeric in setRatio()\r\n                    pt.plugin = plugin;\r\n                    cssp._overwriteProps.push(pt.n);\r\n                }\r\n            }\r\n\r\n            orig = v.transformOrigin;\r\n            if (m1.svg && (orig || v.svgOrigin)) {\r\n                x = m1.xOffset; //when we change the origin, in order to prevent things from jumping we adjust the x/y so we must record those here so that we can create PropTweens for them and flip them at the same time as the origin\r\n                y = m1.yOffset;\r\n                _parseSVGOrigin(t, _parsePosition(orig), m2, v.svgOrigin, v.smoothOrigin);\r\n                pt = _addNonTweeningNumericPT(m1, \"xOrigin\", (originalGSTransform ? m1 : m2).xOrigin, m2.xOrigin, pt, transformOriginString); //note: if there wasn't a transformOrigin defined yet, just start with the destination one; it's wasteful otherwise, and it causes problems with fromTo() tweens. For example, TweenLite.to(\"#wheel\", 3, {rotation:180, transformOrigin:\"50% 50%\", delay:1}); TweenLite.fromTo(\"#wheel\", 3, {scale:0.5, transformOrigin:\"50% 50%\"}, {scale:1, delay:2}); would cause a jump when the from values revert at the beginning of the 2nd tween.\r\n                pt = _addNonTweeningNumericPT(m1, \"yOrigin\", (originalGSTransform ? m1 : m2).yOrigin, m2.yOrigin, pt, transformOriginString);\r\n                if (x !== m1.xOffset || y !== m1.yOffset) {\r\n                    pt = _addNonTweeningNumericPT(m1, \"xOffset\", (originalGSTransform ? x : m1.xOffset), m1.xOffset, pt, transformOriginString);\r\n                    pt = _addNonTweeningNumericPT(m1, \"yOffset\", (originalGSTransform ? y : m1.yOffset), m1.yOffset, pt, transformOriginString);\r\n                }\r\n                orig = \"0px 0px\"; //certain browsers (like firefox) completely botch transform-origin, so we must remove it to prevent it from contaminating transforms. We manage it ourselves with xOrigin and yOrigin\r\n            }\r\n            if (orig || (_supports3D && has3D && m1.zOrigin)) { //if anything 3D is happening and there's a transformOrigin with a z component that's non-zero, we must ensure that the transformOrigin's z-component is set to 0 so that we can manually do those calculations to get around Safari bugs. Even if the user didn't specifically define a \"transformOrigin\" in this particular tween (maybe they did it via css directly).\r\n                if (_transformProp) {\r\n                    hasChange = true;\r\n                    p = _transformOriginProp;\r\n                    orig = (orig || _getStyle(t, p, _cs, false, \"50% 50%\")) + \"\"; //cast as string to avoid errors\r\n                    pt = new CSSPropTween(style, p, 0, 0, pt, -1, transformOriginString);\r\n                    pt.b = style[p];\r\n                    pt.plugin = plugin;\r\n                    if (_supports3D) {\r\n                        copy = m1.zOrigin;\r\n                        orig = orig.split(\" \");\r\n                        m1.zOrigin = ((orig.length > 2 && !(copy !== 0 && orig[2] === \"0px\")) ? parseFloat(orig[2]) : copy) || 0; //Safari doesn't handle the z part of transformOrigin correctly, so we'll manually handle it in the _set3DTransformRatio() method.\r\n                        pt.xs0 = pt.e = orig[0] + \" \" + (orig[1] || \"50%\") + \" 0px\"; //we must define a z value of 0px specifically otherwise iOS 5 Safari will stick with the old one (if one was defined)!\r\n                        pt = new CSSPropTween(m1, \"zOrigin\", 0, 0, pt, -1, pt.n); //we must create a CSSPropTween for the _gsTransform.zOrigin so that it gets reset properly at the beginning if the tween runs backward (as opposed to just setting m1.zOrigin here)\r\n                        pt.b = copy;\r\n                        pt.xs0 = pt.e = m1.zOrigin;\r\n                    } else {\r\n                        pt.xs0 = pt.e = orig;\r\n                    }\r\n\r\n                    //for older versions of IE (6-8), we need to manually calculate things inside the setRatio() function. We record origin x and y (ox and oy) and whether or not the values are percentages (oxp and oyp).\r\n                } else {\r\n                    _parsePosition(orig + \"\", m1);\r\n                }\r\n            }\r\n            if (hasChange) {\r\n                cssp._transformType = (!(m1.svg && _useSVGTransformAttr) && (has3D || this._transformType === 3)) ? 3 : 2; //quicker than calling cssp._enableTransforms();\r\n            }\r\n            if (swapFunc) {\r\n                vars[parsingProp] = swapFunc;\r\n            }\r\n            if (scaleFunc) {\r\n                vars.scale = scaleFunc;\r\n            }\r\n            return pt;\r\n        }, prefix:true});\r\n\r\n        _registerComplexSpecialProp(\"boxShadow\", {defaultValue:\"0px 0px 0px 0px #999\", prefix:true, color:true, multi:true, keyword:\"inset\"});\r\n\r\n        _registerComplexSpecialProp(\"borderRadius\", {defaultValue:\"0px\", parser:function(t, e, p, cssp, pt, plugin) {\r\n            e = this.format(e);\r\n            var props = [\"borderTopLeftRadius\",\"borderTopRightRadius\",\"borderBottomRightRadius\",\"borderBottomLeftRadius\"],\r\n                style = t.style,\r\n                ea1, i, es2, bs2, bs, es, bn, en, w, h, esfx, bsfx, rel, hn, vn, em;\r\n            w = parseFloat(t.offsetWidth);\r\n            h = parseFloat(t.offsetHeight);\r\n            ea1 = e.split(\" \");\r\n            for (i = 0; i < props.length; i++) { //if we're dealing with percentages, we must convert things separately for the horizontal and vertical axis!\r\n                if (this.p.indexOf(\"border\")) { //older browsers used a prefix\r\n                    props[i] = _checkPropPrefix(props[i]);\r\n                }\r\n                bs = bs2 = _getStyle(t, props[i], _cs, false, \"0px\");\r\n                if (bs.indexOf(\" \") !== -1) {\r\n                    bs2 = bs.split(\" \");\r\n                    bs = bs2[0];\r\n                    bs2 = bs2[1];\r\n                }\r\n                es = es2 = ea1[i];\r\n                bn = parseFloat(bs);\r\n                bsfx = bs.substr((bn + \"\").length);\r\n                rel = (es.charAt(1) === \"=\");\r\n                if (rel) {\r\n                    en = parseInt(es.charAt(0)+\"1\", 10);\r\n                    es = es.substr(2);\r\n                    en *= parseFloat(es);\r\n                    esfx = es.substr((en + \"\").length - (en < 0 ? 1 : 0)) || \"\";\r\n                } else {\r\n                    en = parseFloat(es);\r\n                    esfx = es.substr((en + \"\").length);\r\n                }\r\n                if (esfx === \"\") {\r\n                    esfx = _suffixMap[p] || bsfx;\r\n                }\r\n                if (esfx !== bsfx) {\r\n                    hn = _convertToPixels(t, \"borderLeft\", bn, bsfx); //horizontal number (we use a bogus \"borderLeft\" property just because the _convertToPixels() method searches for the keywords \"Left\", \"Right\", \"Top\", and \"Bottom\" to determine of it's a horizontal or vertical property, and we need \"border\" in the name so that it knows it should measure relative to the element itself, not its parent.\r\n                    vn = _convertToPixels(t, \"borderTop\", bn, bsfx); //vertical number\r\n                    if (esfx === \"%\") {\r\n                        bs = (hn / w * 100) + \"%\";\r\n                        bs2 = (vn / h * 100) + \"%\";\r\n                    } else if (esfx === \"em\") {\r\n                        em = _convertToPixels(t, \"borderLeft\", 1, \"em\");\r\n                        bs = (hn / em) + \"em\";\r\n                        bs2 = (vn / em) + \"em\";\r\n                    } else {\r\n                        bs = hn + \"px\";\r\n                        bs2 = vn + \"px\";\r\n                    }\r\n                    if (rel) {\r\n                        es = (parseFloat(bs) + en) + esfx;\r\n                        es2 = (parseFloat(bs2) + en) + esfx;\r\n                    }\r\n                }\r\n                pt = _parseComplex(style, props[i], bs + \" \" + bs2, es + \" \" + es2, false, \"0px\", pt);\r\n            }\r\n            return pt;\r\n        }, prefix:true, formatter:_getFormatter(\"0px 0px 0px 0px\", false, true)});\r\n        _registerComplexSpecialProp(\"borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius\", {defaultValue:\"0px\", parser:function(t, e, p, cssp, pt, plugin) {\r\n            return _parseComplex(t.style, p, this.format(_getStyle(t, p, _cs, false, \"0px 0px\")), this.format(e), false, \"0px\", pt);\r\n        }, prefix:true, formatter:_getFormatter(\"0px 0px\", false, true)});\r\n        _registerComplexSpecialProp(\"backgroundPosition\", {defaultValue:\"0 0\", parser:function(t, e, p, cssp, pt, plugin) {\r\n            var bp = \"background-position\",\r\n                cs = (_cs || _getComputedStyle(t, null)),\r\n                bs = this.format( ((cs) ? _ieVers ? cs.getPropertyValue(bp + \"-x\") + \" \" + cs.getPropertyValue(bp + \"-y\") : cs.getPropertyValue(bp) : t.currentStyle.backgroundPositionX + \" \" + t.currentStyle.backgroundPositionY) || \"0 0\"), //Internet Explorer doesn't report background-position correctly - we must query background-position-x and background-position-y and combine them (even in IE10). Before IE9, we must do the same with the currentStyle object and use camelCase\r\n                es = this.format(e),\r\n                ba, ea, i, pct, overlap, src;\r\n            if ((bs.indexOf(\"%\") !== -1) !== (es.indexOf(\"%\") !== -1) && es.split(\",\").length < 2) {\r\n                src = _getStyle(t, \"backgroundImage\").replace(_urlExp, \"\");\r\n                if (src && src !== \"none\") {\r\n                    ba = bs.split(\" \");\r\n                    ea = es.split(\" \");\r\n                    _tempImg.setAttribute(\"src\", src); //set the temp IMG's src to the background-image so that we can measure its width/height\r\n                    i = 2;\r\n                    while (--i > -1) {\r\n                        bs = ba[i];\r\n                        pct = (bs.indexOf(\"%\") !== -1);\r\n                        if (pct !== (ea[i].indexOf(\"%\") !== -1)) {\r\n                            overlap = (i === 0) ? t.offsetWidth - _tempImg.width : t.offsetHeight - _tempImg.height;\r\n                            ba[i] = pct ? (parseFloat(bs) / 100 * overlap) + \"px\" : (parseFloat(bs) / overlap * 100) + \"%\";\r\n                        }\r\n                    }\r\n                    bs = ba.join(\" \");\r\n                }\r\n            }\r\n            return this.parseComplex(t.style, bs, es, pt, plugin);\r\n        }, formatter:_parsePosition});\r\n        _registerComplexSpecialProp(\"backgroundSize\", {defaultValue:\"0 0\", formatter:function(v) {\r\n            v += \"\"; //ensure it's a string\r\n            return _parsePosition(v.indexOf(\" \") === -1 ? v + \" \" + v : v); //if set to something like \"100% 100%\", Safari typically reports the computed style as just \"100%\" (no 2nd value), but we should ensure that there are two values, so copy the first one. Otherwise, it'd be interpreted as \"100% 0\" (wrong).\r\n        }});\r\n        _registerComplexSpecialProp(\"perspective\", {defaultValue:\"0px\", prefix:true});\r\n        _registerComplexSpecialProp(\"perspectiveOrigin\", {defaultValue:\"50% 50%\", prefix:true});\r\n        _registerComplexSpecialProp(\"transformStyle\", {prefix:true});\r\n        _registerComplexSpecialProp(\"backfaceVisibility\", {prefix:true});\r\n        _registerComplexSpecialProp(\"userSelect\", {prefix:true});\r\n        _registerComplexSpecialProp(\"margin\", {parser:_getEdgeParser(\"marginTop,marginRight,marginBottom,marginLeft\")});\r\n        _registerComplexSpecialProp(\"padding\", {parser:_getEdgeParser(\"paddingTop,paddingRight,paddingBottom,paddingLeft\")});\r\n        _registerComplexSpecialProp(\"clip\", {defaultValue:\"rect(0px,0px,0px,0px)\", parser:function(t, e, p, cssp, pt, plugin){\r\n            var b, cs, delim;\r\n            if (_ieVers < 9) { //IE8 and earlier don't report a \"clip\" value in the currentStyle - instead, the values are split apart into clipTop, clipRight, clipBottom, and clipLeft. Also, in IE7 and earlier, the values inside rect() are space-delimited, not comma-delimited.\r\n                cs = t.currentStyle;\r\n                delim = _ieVers < 8 ? \" \" : \",\";\r\n                b = \"rect(\" + cs.clipTop + delim + cs.clipRight + delim + cs.clipBottom + delim + cs.clipLeft + \")\";\r\n                e = this.format(e).split(\",\").join(delim);\r\n            } else {\r\n                b = this.format(_getStyle(t, this.p, _cs, false, this.dflt));\r\n                e = this.format(e);\r\n            }\r\n            return this.parseComplex(t.style, b, e, pt, plugin);\r\n        }});\r\n        _registerComplexSpecialProp(\"textShadow\", {defaultValue:\"0px 0px 0px #999\", color:true, multi:true});\r\n        _registerComplexSpecialProp(\"autoRound,strictUnits\", {parser:function(t, e, p, cssp, pt) {return pt;}}); //just so that we can ignore these properties (not tween them)\r\n        _registerComplexSpecialProp(\"border\", {defaultValue:\"0px solid #000\", parser:function(t, e, p, cssp, pt, plugin) {\r\n            var bw = _getStyle(t, \"borderTopWidth\", _cs, false, \"0px\"),\r\n                end = this.format(e).split(\" \"),\r\n                esfx = end[0].replace(_suffixExp, \"\");\r\n            if (esfx !== \"px\") { //if we're animating to a non-px value, we need to convert the beginning width to that unit.\r\n                bw = (parseFloat(bw) / _convertToPixels(t, \"borderTopWidth\", 1, esfx)) + esfx;\r\n            }\r\n            return this.parseComplex(t.style, this.format(bw + \" \" + _getStyle(t, \"borderTopStyle\", _cs, false, \"solid\") + \" \" + _getStyle(t, \"borderTopColor\", _cs, false, \"#000\")), end.join(\" \"), pt, plugin);\r\n        }, color:true, formatter:function(v) {\r\n            var a = v.split(\" \");\r\n            return a[0] + \" \" + (a[1] || \"solid\") + \" \" + (v.match(_colorExp) || [\"#000\"])[0];\r\n        }});\r\n        _registerComplexSpecialProp(\"borderWidth\", {parser:_getEdgeParser(\"borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth\")}); //Firefox doesn't pick up on borderWidth set in style sheets (only inline).\r\n        _registerComplexSpecialProp(\"float,cssFloat,styleFloat\", {parser:function(t, e, p, cssp, pt, plugin) {\r\n            var s = t.style,\r\n                prop = (\"cssFloat\" in s) ? \"cssFloat\" : \"styleFloat\";\r\n            return new CSSPropTween(s, prop, 0, 0, pt, -1, p, false, 0, s[prop], e);\r\n        }});\r\n\r\n        //opacity-related\r\n        var _setIEOpacityRatio = function(v) {\r\n            var t = this.t, //refers to the element's style property\r\n                filters = t.filter || _getStyle(this.data, \"filter\") || \"\",\r\n                val = (this.s + this.c * v) | 0,\r\n                skip;\r\n            if (val === 100) { //for older versions of IE that need to use a filter to apply opacity, we should remove the filter if opacity hits 1 in order to improve performance, but make sure there isn't a transform (matrix) or gradient in the filters.\r\n                if (filters.indexOf(\"atrix(\") === -1 && filters.indexOf(\"radient(\") === -1 && filters.indexOf(\"oader(\") === -1) {\r\n                    t.removeAttribute(\"filter\");\r\n                    skip = (!_getStyle(this.data, \"filter\")); //if a class is applied that has an alpha filter, it will take effect (we don't want that), so re-apply our alpha filter in that case. We must first remove it and then check.\r\n                } else {\r\n                    t.filter = filters.replace(_alphaFilterExp, \"\");\r\n                    skip = true;\r\n                }\r\n            }\r\n            if (!skip) {\r\n                if (this.xn1) {\r\n                    t.filter = filters = filters || (\"alpha(opacity=\" + val + \")\"); //works around bug in IE7/8 that prevents changes to \"visibility\" from being applied properly if the filter is changed to a different alpha on the same frame.\r\n                }\r\n                if (filters.indexOf(\"pacity\") === -1) { //only used if browser doesn't support the standard opacity style property (IE 7 and 8). We omit the \"O\" to avoid case-sensitivity issues\r\n                    if (val !== 0 || !this.xn1) { //bugs in IE7/8 won't render the filter properly if opacity is ADDED on the same frame/render as \"visibility\" changes (this.xn1 is 1 if this tween is an \"autoAlpha\" tween)\r\n                        t.filter = filters + \" alpha(opacity=\" + val + \")\"; //we round the value because otherwise, bugs in IE7/8 can prevent \"visibility\" changes from being applied properly.\r\n                    }\r\n                } else {\r\n                    t.filter = filters.replace(_opacityExp, \"opacity=\" + val);\r\n                }\r\n            }\r\n        };\r\n        _registerComplexSpecialProp(\"opacity,alpha,autoAlpha\", {defaultValue:\"1\", parser:function(t, e, p, cssp, pt, plugin) {\r\n            var b = parseFloat(_getStyle(t, \"opacity\", _cs, false, \"1\")),\r\n                style = t.style,\r\n                isAutoAlpha = (p === \"autoAlpha\");\r\n            if (typeof(e) === \"string\" && e.charAt(1) === \"=\") {\r\n                e = ((e.charAt(0) === \"-\") ? -1 : 1) * parseFloat(e.substr(2)) + b;\r\n            }\r\n            if (isAutoAlpha && b === 1 && _getStyle(t, \"visibility\", _cs) === \"hidden\" && e !== 0) { //if visibility is initially set to \"hidden\", we should interpret that as intent to make opacity 0 (a convenience)\r\n                b = 0;\r\n            }\r\n            if (_supportsOpacity) {\r\n                pt = new CSSPropTween(style, \"opacity\", b, e - b, pt);\r\n            } else {\r\n                pt = new CSSPropTween(style, \"opacity\", b * 100, (e - b) * 100, pt);\r\n                pt.xn1 = isAutoAlpha ? 1 : 0; //we need to record whether or not this is an autoAlpha so that in the setRatio(), we know to duplicate the setting of the alpha in order to work around a bug in IE7 and IE8 that prevents changes to \"visibility\" from taking effect if the filter is changed to a different alpha(opacity) at the same time. Setting it to the SAME value first, then the new value works around the IE7/8 bug.\r\n                style.zoom = 1; //helps correct an IE issue.\r\n                pt.type = 2;\r\n                pt.b = \"alpha(opacity=\" + pt.s + \")\";\r\n                pt.e = \"alpha(opacity=\" + (pt.s + pt.c) + \")\";\r\n                pt.data = t;\r\n                pt.plugin = plugin;\r\n                pt.setRatio = _setIEOpacityRatio;\r\n            }\r\n            if (isAutoAlpha) { //we have to create the \"visibility\" PropTween after the opacity one in the linked list so that they run in the order that works properly in IE8 and earlier\r\n                pt = new CSSPropTween(style, \"visibility\", 0, 0, pt, -1, null, false, 0, ((b !== 0) ? \"inherit\" : \"hidden\"), ((e === 0) ? \"hidden\" : \"inherit\"));\r\n                pt.xs0 = \"inherit\";\r\n                cssp._overwriteProps.push(pt.n);\r\n                cssp._overwriteProps.push(p);\r\n            }\r\n            return pt;\r\n        }});\r\n\r\n\r\n        var _removeProp = function(s, p) {\r\n                if (p) {\r\n                    if (s.removeProperty) {\r\n                        if (p.substr(0,2) === \"ms\" || p.substr(0,6) === \"webkit\") { //Microsoft and some Webkit browsers don't conform to the standard of capitalizing the first prefix character, so we adjust so that when we prefix the caps with a dash, it's correct (otherwise it'd be \"ms-transform\" instead of \"-ms-transform\" for IE9, for example)\r\n                            p = \"-\" + p;\r\n                        }\r\n                        s.removeProperty(p.replace(_capsExp, \"-$1\").toLowerCase());\r\n                    } else { //note: old versions of IE use \"removeAttribute()\" instead of \"removeProperty()\"\r\n                        s.removeAttribute(p);\r\n                    }\r\n                }\r\n            },\r\n            _setClassNameRatio = function(v) {\r\n                this.t._gsClassPT = this;\r\n                if (v === 1 || v === 0) {\r\n                    this.t.setAttribute(\"class\", (v === 0) ? this.b : this.e);\r\n                    var mpt = this.data, //first MiniPropTween\r\n                        s = this.t.style;\r\n                    while (mpt) {\r\n                        if (!mpt.v) {\r\n                            _removeProp(s, mpt.p);\r\n                        } else {\r\n                            s[mpt.p] = mpt.v;\r\n                        }\r\n                        mpt = mpt._next;\r\n                    }\r\n                    if (v === 1 && this.t._gsClassPT === this) {\r\n                        this.t._gsClassPT = null;\r\n                    }\r\n                } else if (this.t.getAttribute(\"class\") !== this.e) {\r\n                    this.t.setAttribute(\"class\", this.e);\r\n                }\r\n            };\r\n        _registerComplexSpecialProp(\"className\", {parser:function(t, e, p, cssp, pt, plugin, vars) {\r\n            var b = t.getAttribute(\"class\") || \"\", //don't use t.className because it doesn't work consistently on SVG elements; getAttribute(\"class\") and setAttribute(\"class\", value\") is more reliable.\r\n                cssText = t.style.cssText,\r\n                difData, bs, cnpt, cnptLookup, mpt;\r\n            pt = cssp._classNamePT = new CSSPropTween(t, p, 0, 0, pt, 2);\r\n            pt.setRatio = _setClassNameRatio;\r\n            pt.pr = -11;\r\n            _hasPriority = true;\r\n            pt.b = b;\r\n            bs = _getAllStyles(t, _cs);\r\n            //if there's a className tween already operating on the target, force it to its end so that the necessary inline styles are removed and the class name is applied before we determine the end state (we don't want inline styles interfering that were there just for class-specific values)\r\n            cnpt = t._gsClassPT;\r\n            if (cnpt) {\r\n                cnptLookup = {};\r\n                mpt = cnpt.data; //first MiniPropTween which stores the inline styles - we need to force these so that the inline styles don't contaminate things. Otherwise, there's a small chance that a tween could start and the inline values match the destination values and they never get cleaned.\r\n                while (mpt) {\r\n                    cnptLookup[mpt.p] = 1;\r\n                    mpt = mpt._next;\r\n                }\r\n                cnpt.setRatio(1);\r\n            }\r\n            t._gsClassPT = pt;\r\n            pt.e = (e.charAt(1) !== \"=\") ? e : b.replace(new RegExp(\"(?:\\\\s|^)\" + e.substr(2) + \"(?![\\\\w-])\"), \"\") + ((e.charAt(0) === \"+\") ? \" \" + e.substr(2) : \"\");\r\n            t.setAttribute(\"class\", pt.e);\r\n            difData = _cssDif(t, bs, _getAllStyles(t), vars, cnptLookup);\r\n            t.setAttribute(\"class\", b);\r\n            pt.data = difData.firstMPT;\r\n            t.style.cssText = cssText; //we recorded cssText before we swapped classes and ran _getAllStyles() because in cases when a className tween is overwritten, we remove all the related tweening properties from that class change (otherwise class-specific stuff can't override properties we've directly set on the target's style object due to specificity).\r\n            pt = pt.xfirst = cssp.parse(t, difData.difs, pt, plugin); //we record the CSSPropTween as the xfirst so that we can handle overwriting propertly (if \"className\" gets overwritten, we must kill all the properties associated with the className part of the tween, so we can loop through from xfirst to the pt itself)\r\n            return pt;\r\n        }});\r\n\r\n\r\n        var _setClearPropsRatio = function(v) {\r\n            if (v === 1 || v === 0) if (this.data._totalTime === this.data._totalDuration && this.data.data !== \"isFromStart\") { //this.data refers to the tween. Only clear at the END of the tween (remember, from() tweens make the ratio go from 1 to 0, so we can't just check that and if the tween is the zero-duration one that's created internally to render the starting values in a from() tween, ignore that because otherwise, for example, from(...{height:100, clearProps:\"height\", delay:1}) would wipe the height at the beginning of the tween and after 1 second, it'd kick back in).\r\n                var s = this.t.style,\r\n                    transformParse = _specialProps.transform.parse,\r\n                    a, p, i, clearTransform, transform;\r\n                if (this.e === \"all\") {\r\n                    s.cssText = \"\";\r\n                    clearTransform = true;\r\n                } else {\r\n                    a = this.e.split(\" \").join(\"\").split(\",\");\r\n                    i = a.length;\r\n                    while (--i > -1) {\r\n                        p = a[i];\r\n                        if (_specialProps[p]) {\r\n                            if (_specialProps[p].parse === transformParse) {\r\n                                clearTransform = true;\r\n                            } else {\r\n                                p = (p === \"transformOrigin\") ? _transformOriginProp : _specialProps[p].p; //ensures that special properties use the proper browser-specific property name, like \"scaleX\" might be \"-webkit-transform\" or \"boxShadow\" might be \"-moz-box-shadow\"\r\n                            }\r\n                        }\r\n                        _removeProp(s, p);\r\n                    }\r\n                }\r\n                if (clearTransform) {\r\n                    _removeProp(s, _transformProp);\r\n                    transform = this.t._gsTransform;\r\n                    if (transform) {\r\n                        if (transform.svg) {\r\n                            this.t.removeAttribute(\"data-svg-origin\");\r\n                            this.t.removeAttribute(\"transform\");\r\n                        }\r\n                        delete this.t._gsTransform;\r\n                    }\r\n                }\r\n\r\n            }\r\n        };\r\n        _registerComplexSpecialProp(\"clearProps\", {parser:function(t, e, p, cssp, pt) {\r\n            pt = new CSSPropTween(t, p, 0, 0, pt, 2);\r\n            pt.setRatio = _setClearPropsRatio;\r\n            pt.e = e;\r\n            pt.pr = -10;\r\n            pt.data = cssp._tween;\r\n            _hasPriority = true;\r\n            return pt;\r\n        }});\r\n\r\n        p = \"bezier,throwProps,physicsProps,physics2D\".split(\",\");\r\n        i = p.length;\r\n        while (i--) {\r\n            _registerPluginProp(p[i]);\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        p = CSSPlugin.prototype;\r\n        p._firstPT = p._lastParsedTransform = p._transform = null;\r\n\r\n        //gets called when the tween renders for the first time. This kicks everything off, recording start/end values, etc.\r\n        p._onInitTween = function(target, vars, tween, index) {\r\n            if (!target.nodeType) { //css is only for dom elements\r\n                return false;\r\n            }\r\n            this._target = _target = target;\r\n            this._tween = tween;\r\n            this._vars = vars;\r\n            _index = index;\r\n            _autoRound = vars.autoRound;\r\n            _hasPriority = false;\r\n            _suffixMap = vars.suffixMap || CSSPlugin.suffixMap;\r\n            _cs = _getComputedStyle(target, \"\");\r\n            _overwriteProps = this._overwriteProps;\r\n            var style = target.style,\r\n                v, pt, pt2, first, last, next, zIndex, tpt, threeD;\r\n            if (_reqSafariFix) if (style.zIndex === \"\") {\r\n                v = _getStyle(target, \"zIndex\", _cs);\r\n                if (v === \"auto\" || v === \"\") {\r\n                    //corrects a bug in [non-Android] Safari that prevents it from repainting elements in their new positions if they don't have a zIndex set. We also can't just apply this inside _parseTransform() because anything that's moved in any way (like using \"left\" or \"top\" instead of transforms like \"x\" and \"y\") can be affected, so it is best to ensure that anything that's tweening has a z-index. Setting \"WebkitPerspective\" to a non-zero value worked too except that on iOS Safari things would flicker randomly. Plus zIndex is less memory-intensive.\r\n                    this._addLazySet(style, \"zIndex\", 0);\r\n                }\r\n            }\r\n\r\n            if (typeof(vars) === \"string\") {\r\n                first = style.cssText;\r\n                v = _getAllStyles(target, _cs);\r\n                style.cssText = first + \";\" + vars;\r\n                v = _cssDif(target, v, _getAllStyles(target)).difs;\r\n                if (!_supportsOpacity && _opacityValExp.test(vars)) {\r\n                    v.opacity = parseFloat( RegExp.$1 );\r\n                }\r\n                vars = v;\r\n                style.cssText = first;\r\n            }\r\n\r\n            if (vars.className) { //className tweens will combine any differences they find in the css with the vars that are passed in, so {className:\"myClass\", scale:0.5, left:20} would work.\r\n                this._firstPT = pt = _specialProps.className.parse(target, vars.className, \"className\", this, null, null, vars);\r\n            } else {\r\n                this._firstPT = pt = this.parse(target, vars, null);\r\n            }\r\n\r\n            if (this._transformType) {\r\n                threeD = (this._transformType === 3);\r\n                if (!_transformProp) {\r\n                    style.zoom = 1; //helps correct an IE issue.\r\n                } else if (_isSafari) {\r\n                    _reqSafariFix = true;\r\n                    //if zIndex isn't set, iOS Safari doesn't repaint things correctly sometimes (seemingly at random).\r\n                    if (style.zIndex === \"\") {\r\n                        zIndex = _getStyle(target, \"zIndex\", _cs);\r\n                        if (zIndex === \"auto\" || zIndex === \"\") {\r\n                            this._addLazySet(style, \"zIndex\", 0);\r\n                        }\r\n                    }\r\n                    //Setting WebkitBackfaceVisibility corrects 3 bugs:\r\n                    // 1) [non-Android] Safari skips rendering changes to \"top\" and \"left\" that are made on the same frame/render as a transform update.\r\n                    // 2) iOS Safari sometimes neglects to repaint elements in their new positions. Setting \"WebkitPerspective\" to a non-zero value worked too except that on iOS Safari things would flicker randomly.\r\n                    // 3) Safari sometimes displayed odd artifacts when tweening the transform (or WebkitTransform) property, like ghosts of the edges of the element remained. Definitely a browser bug.\r\n                    //Note: we allow the user to override the auto-setting by defining WebkitBackfaceVisibility in the vars of the tween.\r\n                    if (_isSafariLT6) {\r\n                        this._addLazySet(style, \"WebkitBackfaceVisibility\", this._vars.WebkitBackfaceVisibility || (threeD ? \"visible\" : \"hidden\"));\r\n                    }\r\n                }\r\n                pt2 = pt;\r\n                while (pt2 && pt2._next) {\r\n                    pt2 = pt2._next;\r\n                }\r\n                tpt = new CSSPropTween(target, \"transform\", 0, 0, null, 2);\r\n                this._linkCSSP(tpt, null, pt2);\r\n                tpt.setRatio = _transformProp ? _setTransformRatio : _setIETransformRatio;\r\n                tpt.data = this._transform || _getTransform(target, _cs, true);\r\n                tpt.tween = tween;\r\n                tpt.pr = -1; //ensures that the transforms get applied after the components are updated.\r\n                _overwriteProps.pop(); //we don't want to force the overwrite of all \"transform\" tweens of the target - we only care about individual transform properties like scaleX, rotation, etc. The CSSPropTween constructor automatically adds the property to _overwriteProps which is why we need to pop() here.\r\n            }\r\n\r\n            if (_hasPriority) {\r\n                //reorders the linked list in order of pr (priority)\r\n                while (pt) {\r\n                    next = pt._next;\r\n                    pt2 = first;\r\n                    while (pt2 && pt2.pr > pt.pr) {\r\n                        pt2 = pt2._next;\r\n                    }\r\n                    if ((pt._prev = pt2 ? pt2._prev : last)) {\r\n                        pt._prev._next = pt;\r\n                    } else {\r\n                        first = pt;\r\n                    }\r\n                    if ((pt._next = pt2)) {\r\n                        pt2._prev = pt;\r\n                    } else {\r\n                        last = pt;\r\n                    }\r\n                    pt = next;\r\n                }\r\n                this._firstPT = first;\r\n            }\r\n            return true;\r\n        };\r\n\r\n\r\n        p.parse = function(target, vars, pt, plugin) {\r\n            var style = target.style,\r\n                p, sp, bn, en, bs, es, bsfx, esfx, isStr, rel;\r\n            for (p in vars) {\r\n                es = vars[p]; //ending value string\r\n                if (typeof(es) === \"function\") {\r\n                    es = es(_index, _target);\r\n                }\r\n                sp = _specialProps[p]; //SpecialProp lookup.\r\n                if (sp) {\r\n                    pt = sp.parse(target, es, p, this, pt, plugin, vars);\r\n\r\n                } else {\r\n                    bs = _getStyle(target, p, _cs) + \"\";\r\n                    isStr = (typeof(es) === \"string\");\r\n                    if (p === \"color\" || p === \"fill\" || p === \"stroke\" || p.indexOf(\"Color\") !== -1 || (isStr && _rgbhslExp.test(es))) { //Opera uses background: to define color sometimes in addition to backgroundColor:\r\n                        if (!isStr) {\r\n                            es = _parseColor(es);\r\n                            es = ((es.length > 3) ? \"rgba(\" : \"rgb(\") + es.join(\",\") + \")\";\r\n                        }\r\n                        pt = _parseComplex(style, p, bs, es, true, \"transparent\", pt, 0, plugin);\r\n\r\n                    } else if (isStr && _complexExp.test(es)) {\r\n                        pt = _parseComplex(style, p, bs, es, true, null, pt, 0, plugin);\r\n\r\n                    } else {\r\n                        bn = parseFloat(bs);\r\n                        bsfx = (bn || bn === 0) ? bs.substr((bn + \"\").length) : \"\"; //remember, bs could be non-numeric like \"normal\" for fontWeight, so we should default to a blank suffix in that case.\r\n\r\n                        if (bs === \"\" || bs === \"auto\") {\r\n                            if (p === \"width\" || p === \"height\") {\r\n                                bn = _getDimension(target, p, _cs);\r\n                                bsfx = \"px\";\r\n                            } else if (p === \"left\" || p === \"top\") {\r\n                                bn = _calculateOffset(target, p, _cs);\r\n                                bsfx = \"px\";\r\n                            } else {\r\n                                bn = (p !== \"opacity\") ? 0 : 1;\r\n                                bsfx = \"\";\r\n                            }\r\n                        }\r\n\r\n                        rel = (isStr && es.charAt(1) === \"=\");\r\n                        if (rel) {\r\n                            en = parseInt(es.charAt(0) + \"1\", 10);\r\n                            es = es.substr(2);\r\n                            en *= parseFloat(es);\r\n                            esfx = es.replace(_suffixExp, \"\");\r\n                        } else {\r\n                            en = parseFloat(es);\r\n                            esfx = isStr ? es.replace(_suffixExp, \"\") : \"\";\r\n                        }\r\n\r\n                        if (esfx === \"\") {\r\n                            esfx = (p in _suffixMap) ? _suffixMap[p] : bsfx; //populate the end suffix, prioritizing the map, then if none is found, use the beginning suffix.\r\n                        }\r\n\r\n                        es = (en || en === 0) ? (rel ? en + bn : en) + esfx : vars[p]; //ensures that any += or -= prefixes are taken care of. Record the end value before normalizing the suffix because we always want to end the tween on exactly what they intended even if it doesn't match the beginning value's suffix.\r\n\r\n                        //if the beginning/ending suffixes don't match, normalize them...\r\n                        if (bsfx !== esfx) if (esfx !== \"\") if (en || en === 0) if (bn) { //note: if the beginning value (bn) is 0, we don't need to convert units!\r\n                            bn = _convertToPixels(target, p, bn, bsfx);\r\n                            if (esfx === \"%\") {\r\n                                bn /= _convertToPixels(target, p, 100, \"%\") / 100;\r\n                                if (vars.strictUnits !== true) { //some browsers report only \"px\" values instead of allowing \"%\" with getComputedStyle(), so we assume that if we're tweening to a %, we should start there too unless strictUnits:true is defined. This approach is particularly useful for responsive designs that use from() tweens.\r\n                                    bs = bn + \"%\";\r\n                                }\r\n\r\n                            } else if (esfx === \"em\" || esfx === \"rem\" || esfx === \"vw\" || esfx === \"vh\") {\r\n                                bn /= _convertToPixels(target, p, 1, esfx);\r\n\r\n                                //otherwise convert to pixels.\r\n                            } else if (esfx !== \"px\") {\r\n                                en = _convertToPixels(target, p, en, esfx);\r\n                                esfx = \"px\"; //we don't use bsfx after this, so we don't need to set it to px too.\r\n                            }\r\n                            if (rel) if (en || en === 0) {\r\n                                es = (en + bn) + esfx; //the changes we made affect relative calculations, so adjust the end value here.\r\n                            }\r\n                        }\r\n\r\n                        if (rel) {\r\n                            en += bn;\r\n                        }\r\n\r\n                        if ((bn || bn === 0) && (en || en === 0)) { //faster than isNaN(). Also, previously we required en !== bn but that doesn't really gain much performance and it prevents _parseToProxy() from working properly if beginning and ending values match but need to get tweened by an external plugin anyway. For example, a bezier tween where the target starts at left:0 and has these points: [{left:50},{left:0}] wouldn't work properly because when parsing the last point, it'd match the first (current) one and a non-tweening CSSPropTween would be recorded when we actually need a normal tween (type:0) so that things get updated during the tween properly.\r\n                            pt = new CSSPropTween(style, p, bn, en - bn, pt, 0, p, (_autoRound !== false && (esfx === \"px\" || p === \"zIndex\")), 0, bs, es);\r\n                            pt.xs0 = esfx;\r\n                            //DEBUG: _log(\"tween \"+p+\" from \"+pt.b+\" (\"+bn+esfx+\") to \"+pt.e+\" with suffix: \"+pt.xs0);\r\n                        } else if (style[p] === undefined || !es && (es + \"\" === \"NaN\" || es == null)) {\r\n                            _log(\"invalid \" + p + \" tween value: \" + vars[p]);\r\n                        } else {\r\n                            pt = new CSSPropTween(style, p, en || bn || 0, 0, pt, -1, p, false, 0, bs, es);\r\n                            pt.xs0 = (es === \"none\" && (p === \"display\" || p.indexOf(\"Style\") !== -1)) ? bs : es; //intermediate value should typically be set immediately (end value) except for \"display\" or things like borderTopStyle, borderBottomStyle, etc. which should use the beginning value during the tween.\r\n                            //DEBUG: _log(\"non-tweening value \"+p+\": \"+pt.xs0);\r\n                        }\r\n                    }\r\n                }\r\n                if (plugin) if (pt && !pt.plugin) {\r\n                    pt.plugin = plugin;\r\n                }\r\n            }\r\n            return pt;\r\n        };\r\n\r\n\r\n        //gets called every time the tween updates, passing the new ratio (typically a value between 0 and 1, but not always (for example, if an Elastic.easeOut is used, the value can jump above 1 mid-tween). It will always start and 0 and end at 1.\r\n        p.setRatio = function(v) {\r\n            var pt = this._firstPT,\r\n                min = 0.000001,\r\n                val, str, i;\r\n            //at the end of the tween, we set the values to exactly what we received in order to make sure non-tweening values (like \"position\" or \"float\" or whatever) are set and so that if the beginning/ending suffixes (units) didn't match and we normalized to px, the value that the user passed in is used here. We check to see if the tween is at its beginning in case it's a from() tween in which case the ratio will actually go from 1 to 0 over the course of the tween (backwards).\r\n            if (v === 1 && (this._tween._time === this._tween._duration || this._tween._time === 0)) {\r\n                while (pt) {\r\n                    if (pt.type !== 2) {\r\n                        if (pt.r && pt.type !== -1) {\r\n                            val = Math.round(pt.s + pt.c);\r\n                            if (!pt.type) {\r\n                                pt.t[pt.p] = val + pt.xs0;\r\n                            } else if (pt.type === 1) { //complex value (one that typically has multiple numbers inside a string, like \"rect(5px,10px,20px,25px)\"\r\n                                i = pt.l;\r\n                                str = pt.xs0 + val + pt.xs1;\r\n                                for (i = 1; i < pt.l; i++) {\r\n                                    str += pt[\"xn\"+i] + pt[\"xs\"+(i+1)];\r\n                                }\r\n                                pt.t[pt.p] = str;\r\n                            }\r\n                        } else {\r\n                            pt.t[pt.p] = pt.e;\r\n                        }\r\n                    } else {\r\n                        pt.setRatio(v);\r\n                    }\r\n                    pt = pt._next;\r\n                }\r\n\r\n            } else if (v || !(this._tween._time === this._tween._duration || this._tween._time === 0) || this._tween._rawPrevTime === -0.000001) {\r\n                while (pt) {\r\n                    val = pt.c * v + pt.s;\r\n                    if (pt.r) {\r\n                        val = Math.round(val);\r\n                    } else if (val < min) if (val > -min) {\r\n                        val = 0;\r\n                    }\r\n                    if (!pt.type) {\r\n                        pt.t[pt.p] = val + pt.xs0;\r\n                    } else if (pt.type === 1) { //complex value (one that typically has multiple numbers inside a string, like \"rect(5px,10px,20px,25px)\"\r\n                        i = pt.l;\r\n                        if (i === 2) {\r\n                            pt.t[pt.p] = pt.xs0 + val + pt.xs1 + pt.xn1 + pt.xs2;\r\n                        } else if (i === 3) {\r\n                            pt.t[pt.p] = pt.xs0 + val + pt.xs1 + pt.xn1 + pt.xs2 + pt.xn2 + pt.xs3;\r\n                        } else if (i === 4) {\r\n                            pt.t[pt.p] = pt.xs0 + val + pt.xs1 + pt.xn1 + pt.xs2 + pt.xn2 + pt.xs3 + pt.xn3 + pt.xs4;\r\n                        } else if (i === 5) {\r\n                            pt.t[pt.p] = pt.xs0 + val + pt.xs1 + pt.xn1 + pt.xs2 + pt.xn2 + pt.xs3 + pt.xn3 + pt.xs4 + pt.xn4 + pt.xs5;\r\n                        } else {\r\n                            str = pt.xs0 + val + pt.xs1;\r\n                            for (i = 1; i < pt.l; i++) {\r\n                                str += pt[\"xn\"+i] + pt[\"xs\"+(i+1)];\r\n                            }\r\n                            pt.t[pt.p] = str;\r\n                        }\r\n\r\n                    } else if (pt.type === -1) { //non-tweening value\r\n                        pt.t[pt.p] = pt.xs0;\r\n\r\n                    } else if (pt.setRatio) { //custom setRatio() for things like SpecialProps, external plugins, etc.\r\n                        pt.setRatio(v);\r\n                    }\r\n                    pt = pt._next;\r\n                }\r\n\r\n                //if the tween is reversed all the way back to the beginning, we need to restore the original values which may have different units (like % instead of px or em or whatever).\r\n            } else {\r\n                while (pt) {\r\n                    if (pt.type !== 2) {\r\n                        pt.t[pt.p] = pt.b;\r\n                    } else {\r\n                        pt.setRatio(v);\r\n                    }\r\n                    pt = pt._next;\r\n                }\r\n            }\r\n        };\r\n\r\n        /**\r\n         * @private\r\n         * Forces rendering of the target's transforms (rotation, scale, etc.) whenever the CSSPlugin's setRatio() is called.\r\n         * Basically, this tells the CSSPlugin to create a CSSPropTween (type 2) after instantiation that runs last in the linked\r\n         * list and calls the appropriate (3D or 2D) rendering function. We separate this into its own method so that we can call\r\n         * it from other plugins like BezierPlugin if, for example, it needs to apply an autoRotation and this CSSPlugin\r\n         * doesn't have any transform-related properties of its own. You can call this method as many times as you\r\n         * want and it won't create duplicate CSSPropTweens.\r\n         *\r\n         * @param {boolean} threeD if true, it should apply 3D tweens (otherwise, just 2D ones are fine and typically faster)\r\n         */\r\n        p._enableTransforms = function(threeD) {\r\n            this._transform = this._transform || _getTransform(this._target, _cs, true); //ensures that the element has a _gsTransform property with the appropriate values.\r\n            this._transformType = (!(this._transform.svg && _useSVGTransformAttr) && (threeD || this._transformType === 3)) ? 3 : 2;\r\n        };\r\n\r\n        var lazySet = function(v) {\r\n            this.t[this.p] = this.e;\r\n            this.data._linkCSSP(this, this._next, null, true); //we purposefully keep this._next even though it'd make sense to null it, but this is a performance optimization, as this happens during the while (pt) {} loop in setRatio() at the bottom of which it sets pt = pt._next, so if we null it, the linked list will be broken in that loop.\r\n        };\r\n        /** @private Gives us a way to set a value on the first render (and only the first render). **/\r\n        p._addLazySet = function(t, p, v) {\r\n            var pt = this._firstPT = new CSSPropTween(t, p, 0, 0, this._firstPT, 2);\r\n            pt.e = v;\r\n            pt.setRatio = lazySet;\r\n            pt.data = this;\r\n        };\r\n\r\n        /** @private **/\r\n        p._linkCSSP = function(pt, next, prev, remove) {\r\n            if (pt) {\r\n                if (next) {\r\n                    next._prev = pt;\r\n                }\r\n                if (pt._next) {\r\n                    pt._next._prev = pt._prev;\r\n                }\r\n                if (pt._prev) {\r\n                    pt._prev._next = pt._next;\r\n                } else if (this._firstPT === pt) {\r\n                    this._firstPT = pt._next;\r\n                    remove = true; //just to prevent resetting this._firstPT 5 lines down in case pt._next is null. (optimized for speed)\r\n                }\r\n                if (prev) {\r\n                    prev._next = pt;\r\n                } else if (!remove && this._firstPT === null) {\r\n                    this._firstPT = pt;\r\n                }\r\n                pt._next = next;\r\n                pt._prev = prev;\r\n            }\r\n            return pt;\r\n        };\r\n\r\n        p._mod = function(lookup) {\r\n            var pt = this._firstPT;\r\n            while (pt) {\r\n                if (typeof(lookup[pt.p]) === \"function\" && lookup[pt.p] === Math.round) { //only gets called by RoundPropsPlugin (ModifyPlugin manages all the rendering internally for CSSPlugin properties that need modification). Remember, we handle rounding a bit differently in this plugin for performance reasons, leveraging \"r\" as an indicator that the value should be rounded internally..\r\n                    pt.r = 1;\r\n                }\r\n                pt = pt._next;\r\n            }\r\n        };\r\n\r\n        //we need to make sure that if alpha or autoAlpha is killed, opacity is too. And autoAlpha affects the \"visibility\" property.\r\n        p._kill = function(lookup) {\r\n            var copy = lookup,\r\n                pt, p, xfirst;\r\n            if (lookup.autoAlpha || lookup.alpha) {\r\n                copy = {};\r\n                for (p in lookup) { //copy the lookup so that we're not changing the original which may be passed elsewhere.\r\n                    copy[p] = lookup[p];\r\n                }\r\n                copy.opacity = 1;\r\n                if (copy.autoAlpha) {\r\n                    copy.visibility = 1;\r\n                }\r\n            }\r\n            if (lookup.className && (pt = this._classNamePT)) { //for className tweens, we need to kill any associated CSSPropTweens too; a linked list starts at the className's \"xfirst\".\r\n                xfirst = pt.xfirst;\r\n                if (xfirst && xfirst._prev) {\r\n                    this._linkCSSP(xfirst._prev, pt._next, xfirst._prev._prev); //break off the prev\r\n                } else if (xfirst === this._firstPT) {\r\n                    this._firstPT = pt._next;\r\n                }\r\n                if (pt._next) {\r\n                    this._linkCSSP(pt._next, pt._next._next, xfirst._prev);\r\n                }\r\n                this._classNamePT = null;\r\n            }\r\n            pt = this._firstPT;\r\n            while (pt) {\r\n                if (pt.plugin && pt.plugin !== p && pt.plugin._kill) { //for plugins that are registered with CSSPlugin, we should notify them of the kill.\r\n                    pt.plugin._kill(lookup);\r\n                    p = pt.plugin;\r\n                }\r\n                pt = pt._next;\r\n            }\r\n            return TweenPlugin.prototype._kill.call(this, copy);\r\n        };\r\n\r\n\r\n\r\n        //used by cascadeTo() for gathering all the style properties of each child element into an array for comparison.\r\n        var _getChildStyles = function(e, props, targets) {\r\n            var children, i, child, type;\r\n            if (e.slice) {\r\n                i = e.length;\r\n                while (--i > -1) {\r\n                    _getChildStyles(e[i], props, targets);\r\n                }\r\n                return;\r\n            }\r\n            children = e.childNodes;\r\n            i = children.length;\r\n            while (--i > -1) {\r\n                child = children[i];\r\n                type = child.type;\r\n                if (child.style) {\r\n                    props.push(_getAllStyles(child));\r\n                    if (targets) {\r\n                        targets.push(child);\r\n                    }\r\n                }\r\n                if ((type === 1 || type === 9 || type === 11) && child.childNodes.length) {\r\n                    _getChildStyles(child, props, targets);\r\n                }\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Typically only useful for className tweens that may affect child elements, this method creates a TweenLite\r\n         * and then compares the style properties of all the target's child elements at the tween's start and end, and\r\n         * if any are different, it also creates tweens for those and returns an array containing ALL of the resulting\r\n         * tweens (so that you can easily add() them to a TimelineLite, for example). The reason this functionality is\r\n         * wrapped into a separate static method of CSSPlugin instead of being integrated into all regular className tweens\r\n         * is because it creates entirely new tweens that may have completely different targets than the original tween,\r\n         * so if they were all lumped into the original tween instance, it would be inconsistent with the rest of the API\r\n         * and it would create other problems. For example:\r\n         *  - If I create a tween of elementA, that tween instance may suddenly change its target to include 50 other elements (unintuitive if I specifically defined the target I wanted)\r\n         *  - We can't just create new independent tweens because otherwise, what happens if the original/parent tween is reversed or pause or dropped into a TimelineLite for tight control? You'd expect that tween's behavior to affect all the others.\r\n         *  - Analyzing every style property of every child before and after the tween is an expensive operation when there are many children, so this behavior shouldn't be imposed on all className tweens by default, especially since it's probably rare that this extra functionality is needed.\r\n         *\r\n         * @param {Object} target object to be tweened\r\n         * @param {number} Duration in seconds (or frames for frames-based tweens)\r\n         * @param {Object} Object containing the end values, like {className:\"newClass\", ease:Linear.easeNone}\r\n         * @return {Array} An array of TweenLite instances\r\n         */\r\n        CSSPlugin.cascadeTo = function(target, duration, vars) {\r\n            var tween = TweenLite.to(target, duration, vars),\r\n                results = [tween],\r\n                b = [],\r\n                e = [],\r\n                targets = [],\r\n                _reservedProps = TweenLite._internals.reservedProps,\r\n                i, difs, p, from;\r\n            target = tween._targets || tween.target;\r\n            _getChildStyles(target, b, targets);\r\n            tween.render(duration, true, true);\r\n            _getChildStyles(target, e);\r\n            tween.render(0, true, true);\r\n            tween._enabled(true);\r\n            i = targets.length;\r\n            while (--i > -1) {\r\n                difs = _cssDif(targets[i], b[i], e[i]);\r\n                if (difs.firstMPT) {\r\n                    difs = difs.difs;\r\n                    for (p in vars) {\r\n                        if (_reservedProps[p]) {\r\n                            difs[p] = vars[p];\r\n                        }\r\n                    }\r\n                    from = {};\r\n                    for (p in difs) {\r\n                        from[p] = b[i][p];\r\n                    }\r\n                    results.push(TweenLite.fromTo(targets[i], duration, from, difs));\r\n                }\r\n            }\r\n            return results;\r\n        };\r\n\r\n        TweenPlugin.activate([CSSPlugin]);\r\n        return CSSPlugin;\r\n\r\n    }, true);\r\n\r\n}); if (_gsScope._gsDefine) { _gsScope._gsQueue.pop()(); }\r\n\r\n//export to AMD/RequireJS and CommonJS/Node (precursor to full modular build system coming at a later date)\r\n(function(name) {\r\n    \"use strict\";\r\n    var getGlobal = function() {\r\n        return (_gsScope.GreenSockGlobals || _gsScope)[name];\r\n    };\r\n    if (typeof(define) === \"function\" && define.amd) { //AMD\r\n        define([\"TweenLite\"], getGlobal);\r\n    } else if (typeof(module) !== \"undefined\" && module.exports) { //node\r\n        require(\"../TweenLite.js\");\r\n        module.exports = getGlobal();\r\n    }\r\n}(\"CSSPlugin\"));\r\n","Nwdthemes_Revslider/public/assets/js/tools/TimelineLite.js":"/*!\r\n * VERSION: 1.19.1\r\n * DATE: 2017-01-17\r\n * UPDATES AND DOCS AT: http://greensock.com\r\n *\r\n * @license Copyright (c) 2008-2017, GreenSock. All rights reserved.\r\n * This work is subject to the terms at http://greensock.com/standard-license or for\r\n * Club GreenSock members, the software agreement that was issued with your membership.\r\n *\r\n * @author: Jack Doyle, jack@greensock.com\r\n */\r\nvar _gsScope = (typeof(module) !== \"undefined\" && module.exports && typeof(global) !== \"undefined\") ? global : this || window; //helps ensure compatibility with AMD/RequireJS and CommonJS/Node\r\n(_gsScope._gsQueue || (_gsScope._gsQueue = [])).push( function() {\r\n\r\n    \"use strict\";\r\n\r\n    _gsScope._gsDefine(\"TimelineLite\", [\"core.Animation\",\"core.SimpleTimeline\",\"TweenLite\"], function(Animation, SimpleTimeline, TweenLite) {\r\n\r\n        var TimelineLite = function(vars) {\r\n                SimpleTimeline.call(this, vars);\r\n                this._labels = {};\r\n                this.autoRemoveChildren = (this.vars.autoRemoveChildren === true);\r\n                this.smoothChildTiming = (this.vars.smoothChildTiming === true);\r\n                this._sortChildren = true;\r\n                this._onUpdate = this.vars.onUpdate;\r\n                var v = this.vars,\r\n                    val, p;\r\n                for (p in v) {\r\n                    val = v[p];\r\n                    if (_isArray(val)) if (val.join(\"\").indexOf(\"{self}\") !== -1) {\r\n                        v[p] = this._swapSelfInParams(val);\r\n                    }\r\n                }\r\n                if (_isArray(v.tweens)) {\r\n                    this.add(v.tweens, 0, v.align, v.stagger);\r\n                }\r\n            },\r\n            _tinyNum = 0.0000000001,\r\n            TweenLiteInternals = TweenLite._internals,\r\n            _internals = TimelineLite._internals = {},\r\n            _isSelector = TweenLiteInternals.isSelector,\r\n            _isArray = TweenLiteInternals.isArray,\r\n            _lazyTweens = TweenLiteInternals.lazyTweens,\r\n            _lazyRender = TweenLiteInternals.lazyRender,\r\n            _globals = _gsScope._gsDefine.globals,\r\n            _copy = function(vars) {\r\n                var copy = {}, p;\r\n                for (p in vars) {\r\n                    copy[p] = vars[p];\r\n                }\r\n                return copy;\r\n            },\r\n            _applyCycle = function(vars, targets, i) {\r\n                var alt = vars.cycle,\r\n                    p, val;\r\n                for (p in alt) {\r\n                    val = alt[p];\r\n                    vars[p] = (typeof(val) === \"function\") ? val(i, targets[i]) : val[i % val.length];\r\n                }\r\n                delete vars.cycle;\r\n            },\r\n            _pauseCallback = _internals.pauseCallback = function() {},\r\n            _slice = function(a) { //don't use [].slice because that doesn't work in IE8 with a NodeList that's returned by querySelectorAll()\r\n                var b = [],\r\n                    l = a.length,\r\n                    i;\r\n                for (i = 0; i !== l; b.push(a[i++]));\r\n                return b;\r\n            },\r\n            p = TimelineLite.prototype = new SimpleTimeline();\r\n\r\n        TimelineLite.version = \"1.19.1\";\r\n        p.constructor = TimelineLite;\r\n        p.kill()._gc = p._forcingPlayhead = p._hasPause = false;\r\n\r\n\t\t/* might use later...\r\n\t\t //translates a local time inside an animation to the corresponding time on the root/global timeline, factoring in all nesting and timeScales.\r\n\t\t function localToGlobal(time, animation) {\r\n\t\t while (animation) {\r\n\t\t time = (time / animation._timeScale) + animation._startTime;\r\n\t\t animation = animation.timeline;\r\n\t\t }\r\n\t\t return time;\r\n\t\t }\r\n\r\n\t\t //translates the supplied time on the root/global timeline into the corresponding local time inside a particular animation, factoring in all nesting and timeScales\r\n\t\t function globalToLocal(time, animation) {\r\n\t\t var scale = 1;\r\n\t\t time -= localToGlobal(0, animation);\r\n\t\t while (animation) {\r\n\t\t scale *= animation._timeScale;\r\n\t\t animation = animation.timeline;\r\n\t\t }\r\n\t\t return time * scale;\r\n\t\t }\r\n\t\t */\r\n\r\n        p.to = function(target, duration, vars, position) {\r\n            var Engine = (vars.repeat && _globals.TweenMax) || TweenLite;\r\n            return duration ? this.add( new Engine(target, duration, vars), position) : this.set(target, vars, position);\r\n        };\r\n\r\n        p.from = function(target, duration, vars, position) {\r\n            return this.add( ((vars.repeat && _globals.TweenMax) || TweenLite).from(target, duration, vars), position);\r\n        };\r\n\r\n        p.fromTo = function(target, duration, fromVars, toVars, position) {\r\n            var Engine = (toVars.repeat && _globals.TweenMax) || TweenLite;\r\n            return duration ? this.add( Engine.fromTo(target, duration, fromVars, toVars), position) : this.set(target, toVars, position);\r\n        };\r\n\r\n        p.staggerTo = function(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {\r\n            var tl = new TimelineLite({onComplete:onCompleteAll, onCompleteParams:onCompleteAllParams, callbackScope:onCompleteAllScope, smoothChildTiming:this.smoothChildTiming}),\r\n                cycle = vars.cycle,\r\n                copy, i;\r\n            if (typeof(targets) === \"string\") {\r\n                targets = TweenLite.selector(targets) || targets;\r\n            }\r\n            targets = targets || [];\r\n            if (_isSelector(targets)) { //senses if the targets object is a selector. If it is, we should translate it into an array.\r\n                targets = _slice(targets);\r\n            }\r\n            stagger = stagger || 0;\r\n            if (stagger < 0) {\r\n                targets = _slice(targets);\r\n                targets.reverse();\r\n                stagger *= -1;\r\n            }\r\n            for (i = 0; i < targets.length; i++) {\r\n                copy = _copy(vars);\r\n                if (copy.startAt) {\r\n                    copy.startAt = _copy(copy.startAt);\r\n                    if (copy.startAt.cycle) {\r\n                        _applyCycle(copy.startAt, targets, i);\r\n                    }\r\n                }\r\n                if (cycle) {\r\n                    _applyCycle(copy, targets, i);\r\n                    if (copy.duration != null) {\r\n                        duration = copy.duration;\r\n                        delete copy.duration;\r\n                    }\r\n                }\r\n                tl.to(targets[i], duration, copy, i * stagger);\r\n            }\r\n            return this.add(tl, position);\r\n        };\r\n\r\n        p.staggerFrom = function(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {\r\n            vars.immediateRender = (vars.immediateRender != false);\r\n            vars.runBackwards = true;\r\n            return this.staggerTo(targets, duration, vars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope);\r\n        };\r\n\r\n        p.staggerFromTo = function(targets, duration, fromVars, toVars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope) {\r\n            toVars.startAt = fromVars;\r\n            toVars.immediateRender = (toVars.immediateRender != false && fromVars.immediateRender != false);\r\n            return this.staggerTo(targets, duration, toVars, stagger, position, onCompleteAll, onCompleteAllParams, onCompleteAllScope);\r\n        };\r\n\r\n        p.call = function(callback, params, scope, position) {\r\n            return this.add( TweenLite.delayedCall(0, callback, params, scope), position);\r\n        };\r\n\r\n        p.set = function(target, vars, position) {\r\n            position = this._parseTimeOrLabel(position, 0, true);\r\n            if (vars.immediateRender == null) {\r\n                vars.immediateRender = (position === this._time && !this._paused);\r\n            }\r\n            return this.add( new TweenLite(target, 0, vars), position);\r\n        };\r\n\r\n        TimelineLite.exportRoot = function(vars, ignoreDelayedCalls) {\r\n            vars = vars || {};\r\n            if (vars.smoothChildTiming == null) {\r\n                vars.smoothChildTiming = true;\r\n            }\r\n            var tl = new TimelineLite(vars),\r\n                root = tl._timeline,\r\n                tween, next;\r\n            if (ignoreDelayedCalls == null) {\r\n                ignoreDelayedCalls = true;\r\n            }\r\n            root._remove(tl, true);\r\n            tl._startTime = 0;\r\n            tl._rawPrevTime = tl._time = tl._totalTime = root._time;\r\n            tween = root._first;\r\n            while (tween) {\r\n                next = tween._next;\r\n                if (!ignoreDelayedCalls || !(tween instanceof TweenLite && tween.target === tween.vars.onComplete)) {\r\n                    tl.add(tween, tween._startTime - tween._delay);\r\n                }\r\n                tween = next;\r\n            }\r\n            root.add(tl, 0);\r\n            return tl;\r\n        };\r\n\r\n        p.add = function(value, position, align, stagger) {\r\n            var curTime, l, i, child, tl, beforeRawTime;\r\n            if (typeof(position) !== \"number\") {\r\n                position = this._parseTimeOrLabel(position, 0, true, value);\r\n            }\r\n            if (!(value instanceof Animation)) {\r\n                if ((value instanceof Array) || (value && value.push && _isArray(value))) {\r\n                    align = align || \"normal\";\r\n                    stagger = stagger || 0;\r\n                    curTime = position;\r\n                    l = value.length;\r\n                    for (i = 0; i < l; i++) {\r\n                        if (_isArray(child = value[i])) {\r\n                            child = new TimelineLite({tweens:child});\r\n                        }\r\n                        this.add(child, curTime);\r\n                        if (typeof(child) !== \"string\" && typeof(child) !== \"function\") {\r\n                            if (align === \"sequence\") {\r\n                                curTime = child._startTime + (child.totalDuration() / child._timeScale);\r\n                            } else if (align === \"start\") {\r\n                                child._startTime -= child.delay();\r\n                            }\r\n                        }\r\n                        curTime += stagger;\r\n                    }\r\n                    return this._uncache(true);\r\n                } else if (typeof(value) === \"string\") {\r\n                    return this.addLabel(value, position);\r\n                } else if (typeof(value) === \"function\") {\r\n                    value = TweenLite.delayedCall(0, value);\r\n                } else {\r\n                    throw(\"Cannot add \" + value + \" into the timeline; it is not a tween, timeline, function, or string.\");\r\n                }\r\n            }\r\n\r\n            SimpleTimeline.prototype.add.call(this, value, position);\r\n\r\n            //if the timeline has already ended but the inserted tween/timeline extends the duration, we should enable this timeline again so that it renders properly. We should also align the playhead with the parent timeline's when appropriate.\r\n            if (this._gc || this._time === this._duration) if (!this._paused) if (this._duration < this.duration()) {\r\n                //in case any of the ancestors had completed but should now be enabled...\r\n                tl = this;\r\n                beforeRawTime = (tl.rawTime() > value._startTime); //if the tween is placed on the timeline so that it starts BEFORE the current rawTime, we should align the playhead (move the timeline). This is because sometimes users will create a timeline, let it finish, and much later append a tween and expect it to run instead of jumping to its end state. While technically one could argue that it should jump to its end state, that's not what users intuitively expect.\r\n                while (tl._timeline) {\r\n                    if (beforeRawTime && tl._timeline.smoothChildTiming) {\r\n                        tl.totalTime(tl._totalTime, true); //moves the timeline (shifts its startTime) if necessary, and also enables it.\r\n                    } else if (tl._gc) {\r\n                        tl._enabled(true, false);\r\n                    }\r\n                    tl = tl._timeline;\r\n                }\r\n            }\r\n\r\n            return this;\r\n        };\r\n\r\n        p.remove = function(value) {\r\n            if (value instanceof Animation) {\r\n                this._remove(value, false);\r\n                var tl = value._timeline = value.vars.useFrames ? Animation._rootFramesTimeline : Animation._rootTimeline; //now that it's removed, default it to the root timeline so that if it gets played again, it doesn't jump back into this timeline.\r\n                value._startTime = (value._paused ? value._pauseTime : tl._time) - ((!value._reversed ? value._totalTime : value.totalDuration() - value._totalTime) / value._timeScale); //ensure that if it gets played again, the timing is correct.\r\n                return this;\r\n            } else if (value instanceof Array || (value && value.push && _isArray(value))) {\r\n                var i = value.length;\r\n                while (--i > -1) {\r\n                    this.remove(value[i]);\r\n                }\r\n                return this;\r\n            } else if (typeof(value) === \"string\") {\r\n                return this.removeLabel(value);\r\n            }\r\n            return this.kill(null, value);\r\n        };\r\n\r\n        p._remove = function(tween, skipDisable) {\r\n            SimpleTimeline.prototype._remove.call(this, tween, skipDisable);\r\n            var last = this._last;\r\n            if (!last) {\r\n                this._time = this._totalTime = this._duration = this._totalDuration = 0;\r\n            } else if (this._time > this.duration()) {\r\n                this._time = this._duration;\r\n                this._totalTime = this._totalDuration;\r\n            }\r\n            return this;\r\n        };\r\n\r\n        p.append = function(value, offsetOrLabel) {\r\n            return this.add(value, this._parseTimeOrLabel(null, offsetOrLabel, true, value));\r\n        };\r\n\r\n        p.insert = p.insertMultiple = function(value, position, align, stagger) {\r\n            return this.add(value, position || 0, align, stagger);\r\n        };\r\n\r\n        p.appendMultiple = function(tweens, offsetOrLabel, align, stagger) {\r\n            return this.add(tweens, this._parseTimeOrLabel(null, offsetOrLabel, true, tweens), align, stagger);\r\n        };\r\n\r\n        p.addLabel = function(label, position) {\r\n            this._labels[label] = this._parseTimeOrLabel(position);\r\n            return this;\r\n        };\r\n\r\n        p.addPause = function(position, callback, params, scope) {\r\n            var t = TweenLite.delayedCall(0, _pauseCallback, params, scope || this);\r\n            t.vars.onComplete = t.vars.onReverseComplete = callback;\r\n            t.data = \"isPause\";\r\n            this._hasPause = true;\r\n            return this.add(t, position);\r\n        };\r\n\r\n        p.removeLabel = function(label) {\r\n            delete this._labels[label];\r\n            return this;\r\n        };\r\n\r\n        p.getLabelTime = function(label) {\r\n            return (this._labels[label] != null) ? this._labels[label] : -1;\r\n        };\r\n\r\n        p._parseTimeOrLabel = function(timeOrLabel, offsetOrLabel, appendIfAbsent, ignore) {\r\n            var i;\r\n            //if we're about to add a tween/timeline (or an array of them) that's already a child of this timeline, we should remove it first so that it doesn't contaminate the duration().\r\n            if (ignore instanceof Animation && ignore.timeline === this) {\r\n                this.remove(ignore);\r\n            } else if (ignore && ((ignore instanceof Array) || (ignore.push && _isArray(ignore)))) {\r\n                i = ignore.length;\r\n                while (--i > -1) {\r\n                    if (ignore[i] instanceof Animation && ignore[i].timeline === this) {\r\n                        this.remove(ignore[i]);\r\n                    }\r\n                }\r\n            }\r\n            if (typeof(offsetOrLabel) === \"string\") {\r\n                return this._parseTimeOrLabel(offsetOrLabel, (appendIfAbsent && typeof(timeOrLabel) === \"number\" && this._labels[offsetOrLabel] == null) ? timeOrLabel - this.duration() : 0, appendIfAbsent);\r\n            }\r\n            offsetOrLabel = offsetOrLabel || 0;\r\n            if (typeof(timeOrLabel) === \"string\" && (isNaN(timeOrLabel) || this._labels[timeOrLabel] != null)) { //if the string is a number like \"1\", check to see if there's a label with that name, otherwise interpret it as a number (absolute value).\r\n                i = timeOrLabel.indexOf(\"=\");\r\n                if (i === -1) {\r\n                    if (this._labels[timeOrLabel] == null) {\r\n                        return appendIfAbsent ? (this._labels[timeOrLabel] = this.duration() + offsetOrLabel) : offsetOrLabel;\r\n                    }\r\n                    return this._labels[timeOrLabel] + offsetOrLabel;\r\n                }\r\n                offsetOrLabel = parseInt(timeOrLabel.charAt(i-1) + \"1\", 10) * Number(timeOrLabel.substr(i+1));\r\n                timeOrLabel = (i > 1) ? this._parseTimeOrLabel(timeOrLabel.substr(0, i-1), 0, appendIfAbsent) : this.duration();\r\n            } else if (timeOrLabel == null) {\r\n                timeOrLabel = this.duration();\r\n            }\r\n            return Number(timeOrLabel) + offsetOrLabel;\r\n        };\r\n\r\n        p.seek = function(position, suppressEvents) {\r\n            return this.totalTime((typeof(position) === \"number\") ? position : this._parseTimeOrLabel(position), (suppressEvents !== false));\r\n        };\r\n\r\n        p.stop = function() {\r\n            return this.paused(true);\r\n        };\r\n\r\n        p.gotoAndPlay = function(position, suppressEvents) {\r\n            return this.play(position, suppressEvents);\r\n        };\r\n\r\n        p.gotoAndStop = function(position, suppressEvents) {\r\n            return this.pause(position, suppressEvents);\r\n        };\r\n\r\n        p.render = function(time, suppressEvents, force) {\r\n            if (this._gc) {\r\n                this._enabled(true, false);\r\n            }\r\n            var totalDur = (!this._dirty) ? this._totalDuration : this.totalDuration(),\r\n                prevTime = this._time,\r\n                prevStart = this._startTime,\r\n                prevTimeScale = this._timeScale,\r\n                prevPaused = this._paused,\r\n                tween, isComplete, next, callback, internalForce, pauseTween, curTime;\r\n            if (time >= totalDur - 0.0000001 && time >= 0) { //to work around occasional floating point math artifacts.\r\n                this._totalTime = this._time = totalDur;\r\n                if (!this._reversed) if (!this._hasPausedChild()) {\r\n                    isComplete = true;\r\n                    callback = \"onComplete\";\r\n                    internalForce = !!this._timeline.autoRemoveChildren; //otherwise, if the animation is unpaused/activated after it's already finished, it doesn't get removed from the parent timeline.\r\n                    if (this._duration === 0) if ((time <= 0 && time >= -0.0000001) || this._rawPrevTime < 0 || this._rawPrevTime === _tinyNum) if (this._rawPrevTime !== time && this._first) {\r\n                        internalForce = true;\r\n                        if (this._rawPrevTime > _tinyNum) {\r\n                            callback = \"onReverseComplete\";\r\n                        }\r\n                    }\r\n                }\r\n                this._rawPrevTime = (this._duration || !suppressEvents || time || this._rawPrevTime === time) ? time : _tinyNum; //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration timeline or tween, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect. We set the _rawPrevTime to be a precise tiny number to indicate this scenario rather than using another property/variable which would increase memory usage. This technique is less readable, but more efficient.\r\n                time = totalDur + 0.0001; //to avoid occasional floating point rounding errors - sometimes child tweens/timelines were not being fully completed (their progress might be 0.999999999999998 instead of 1 because when _time - tween._startTime is performed, floating point errors would return a value that was SLIGHTLY off). Try (999999999999.7 - 999999999999) * 1 = 0.699951171875 instead of 0.7.\r\n\r\n            } else if (time < 0.0000001) { //to work around occasional floating point math artifacts, round super small values to 0.\r\n                this._totalTime = this._time = 0;\r\n                if (prevTime !== 0 || (this._duration === 0 && this._rawPrevTime !== _tinyNum && (this._rawPrevTime > 0 || (time < 0 && this._rawPrevTime >= 0)))) {\r\n                    callback = \"onReverseComplete\";\r\n                    isComplete = this._reversed;\r\n                }\r\n                if (time < 0) {\r\n                    this._active = false;\r\n                    if (this._timeline.autoRemoveChildren && this._reversed) { //ensures proper GC if a timeline is resumed after it's finished reversing.\r\n                        internalForce = isComplete = true;\r\n                        callback = \"onReverseComplete\";\r\n                    } else if (this._rawPrevTime >= 0 && this._first) { //when going back beyond the start, force a render so that zero-duration tweens that sit at the very beginning render their start values properly. Otherwise, if the parent timeline's playhead lands exactly at this timeline's startTime, and then moves backwards, the zero-duration tweens at the beginning would still be at their end state.\r\n                        internalForce = true;\r\n                    }\r\n                    this._rawPrevTime = time;\r\n                } else {\r\n                    this._rawPrevTime = (this._duration || !suppressEvents || time || this._rawPrevTime === time) ? time : _tinyNum; //when the playhead arrives at EXACTLY time 0 (right on top) of a zero-duration timeline or tween, we need to discern if events are suppressed so that when the playhead moves again (next time), it'll trigger the callback. If events are NOT suppressed, obviously the callback would be triggered in this render. Basically, the callback should fire either when the playhead ARRIVES or LEAVES this exact spot, not both. Imagine doing a timeline.seek(0) and there's a callback that sits at 0. Since events are suppressed on that seek() by default, nothing will fire, but when the playhead moves off of that position, the callback should fire. This behavior is what people intuitively expect. We set the _rawPrevTime to be a precise tiny number to indicate this scenario rather than using another property/variable which would increase memory usage. This technique is less readable, but more efficient.\r\n                    if (time === 0 && isComplete) { //if there's a zero-duration tween at the very beginning of a timeline and the playhead lands EXACTLY at time 0, that tween will correctly render its end values, but we need to keep the timeline alive for one more render so that the beginning values render properly as the parent's playhead keeps moving beyond the begining. Imagine obj.x starts at 0 and then we do tl.set(obj, {x:100}).to(obj, 1, {x:200}) and then later we tl.reverse()...the goal is to have obj.x revert to 0. If the playhead happens to land on exactly 0, without this chunk of code, it'd complete the timeline and remove it from the rendering queue (not good).\r\n                        tween = this._first;\r\n                        while (tween && tween._startTime === 0) {\r\n                            if (!tween._duration) {\r\n                                isComplete = false;\r\n                            }\r\n                            tween = tween._next;\r\n                        }\r\n                    }\r\n                    time = 0; //to avoid occasional floating point rounding errors (could cause problems especially with zero-duration tweens at the very beginning of the timeline)\r\n                    if (!this._initted) {\r\n                        internalForce = true;\r\n                    }\r\n                }\r\n\r\n            } else {\r\n\r\n                if (this._hasPause && !this._forcingPlayhead && !suppressEvents) {\r\n                    if (time >= prevTime) {\r\n                        tween = this._first;\r\n                        while (tween && tween._startTime <= time && !pauseTween) {\r\n                            if (!tween._duration) if (tween.data === \"isPause\" && !tween.ratio && !(tween._startTime === 0 && this._rawPrevTime === 0)) {\r\n                                pauseTween = tween;\r\n                            }\r\n                            tween = tween._next;\r\n                        }\r\n                    } else {\r\n                        tween = this._last;\r\n                        while (tween && tween._startTime >= time && !pauseTween) {\r\n                            if (!tween._duration) if (tween.data === \"isPause\" && tween._rawPrevTime > 0) {\r\n                                pauseTween = tween;\r\n                            }\r\n                            tween = tween._prev;\r\n                        }\r\n                    }\r\n                    if (pauseTween) {\r\n                        this._time = time = pauseTween._startTime;\r\n                        this._totalTime = time + (this._cycle * (this._totalDuration + this._repeatDelay));\r\n                    }\r\n                }\r\n\r\n                this._totalTime = this._time = this._rawPrevTime = time;\r\n            }\r\n            if ((this._time === prevTime || !this._first) && !force && !internalForce && !pauseTween) {\r\n                return;\r\n            } else if (!this._initted) {\r\n                this._initted = true;\r\n            }\r\n\r\n            if (!this._active) if (!this._paused && this._time !== prevTime && time > 0) {\r\n                this._active = true;  //so that if the user renders the timeline (as opposed to the parent timeline rendering it), it is forced to re-render and align it with the proper time/frame on the next rendering cycle. Maybe the timeline already finished but the user manually re-renders it as halfway done, for example.\r\n            }\r\n\r\n            if (prevTime === 0) if (this.vars.onStart) if (this._time !== 0 || !this._duration) if (!suppressEvents) {\r\n                this._callback(\"onStart\");\r\n            }\r\n\r\n            curTime = this._time;\r\n            if (curTime >= prevTime) {\r\n                tween = this._first;\r\n                while (tween) {\r\n                    next = tween._next; //record it here because the value could change after rendering...\r\n                    if (curTime !== this._time || (this._paused && !prevPaused)) { //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\r\n                        break;\r\n                    } else if (tween._active || (tween._startTime <= curTime && !tween._paused && !tween._gc)) {\r\n                        if (pauseTween === tween) {\r\n                            this.pause();\r\n                        }\r\n                        if (!tween._reversed) {\r\n                            tween.render((time - tween._startTime) * tween._timeScale, suppressEvents, force);\r\n                        } else {\r\n                            tween.render(((!tween._dirty) ? tween._totalDuration : tween.totalDuration()) - ((time - tween._startTime) * tween._timeScale), suppressEvents, force);\r\n                        }\r\n                    }\r\n                    tween = next;\r\n                }\r\n            } else {\r\n                tween = this._last;\r\n                while (tween) {\r\n                    next = tween._prev; //record it here because the value could change after rendering...\r\n                    if (curTime !== this._time || (this._paused && !prevPaused)) { //in case a tween pauses or seeks the timeline when rendering, like inside of an onUpdate/onComplete\r\n                        break;\r\n                    } else if (tween._active || (tween._startTime <= prevTime && !tween._paused && !tween._gc)) {\r\n                        if (pauseTween === tween) {\r\n                            pauseTween = tween._prev; //the linked list is organized by _startTime, thus it's possible that a tween could start BEFORE the pause and end after it, in which case it would be positioned before the pause tween in the linked list, but we should render it before we pause() the timeline and cease rendering. This is only a concern when going in reverse.\r\n                            while (pauseTween && pauseTween.endTime() > this._time) {\r\n                                pauseTween.render( (pauseTween._reversed ? pauseTween.totalDuration() - ((time - pauseTween._startTime) * pauseTween._timeScale) : (time - pauseTween._startTime) * pauseTween._timeScale), suppressEvents, force);\r\n                                pauseTween = pauseTween._prev;\r\n                            }\r\n                            pauseTween = null;\r\n                            this.pause();\r\n                        }\r\n                        if (!tween._reversed) {\r\n                            tween.render((time - tween._startTime) * tween._timeScale, suppressEvents, force);\r\n                        } else {\r\n                            tween.render(((!tween._dirty) ? tween._totalDuration : tween.totalDuration()) - ((time - tween._startTime) * tween._timeScale), suppressEvents, force);\r\n                        }\r\n                    }\r\n                    tween = next;\r\n                }\r\n            }\r\n\r\n            if (this._onUpdate) if (!suppressEvents) {\r\n                if (_lazyTweens.length) { //in case rendering caused any tweens to lazy-init, we should render them because typically when a timeline finishes, users expect things to have rendered fully. Imagine an onUpdate on a timeline that reports/checks tweened values.\r\n                    _lazyRender();\r\n                }\r\n                this._callback(\"onUpdate\");\r\n            }\r\n\r\n            if (callback) if (!this._gc) if (prevStart === this._startTime || prevTimeScale !== this._timeScale) if (this._time === 0 || totalDur >= this.totalDuration()) { //if one of the tweens that was rendered altered this timeline's startTime (like if an onComplete reversed the timeline), it probably isn't complete. If it is, don't worry, because whatever call altered the startTime would complete if it was necessary at the new time. The only exception is the timeScale property. Also check _gc because there's a chance that kill() could be called in an onUpdate\r\n                if (isComplete) {\r\n                    if (_lazyTweens.length) { //in case rendering caused any tweens to lazy-init, we should render them because typically when a timeline finishes, users expect things to have rendered fully. Imagine an onComplete on a timeline that reports/checks tweened values.\r\n                        _lazyRender();\r\n                    }\r\n                    if (this._timeline.autoRemoveChildren) {\r\n                        this._enabled(false, false);\r\n                    }\r\n                    this._active = false;\r\n                }\r\n                if (!suppressEvents && this.vars[callback]) {\r\n                    this._callback(callback);\r\n                }\r\n            }\r\n        };\r\n\r\n        p._hasPausedChild = function() {\r\n            var tween = this._first;\r\n            while (tween) {\r\n                if (tween._paused || ((tween instanceof TimelineLite) && tween._hasPausedChild())) {\r\n                    return true;\r\n                }\r\n                tween = tween._next;\r\n            }\r\n            return false;\r\n        };\r\n\r\n        p.getChildren = function(nested, tweens, timelines, ignoreBeforeTime) {\r\n            ignoreBeforeTime = ignoreBeforeTime || -9999999999;\r\n            var a = [],\r\n                tween = this._first,\r\n                cnt = 0;\r\n            while (tween) {\r\n                if (tween._startTime < ignoreBeforeTime) {\r\n                    //do nothing\r\n                } else if (tween instanceof TweenLite) {\r\n                    if (tweens !== false) {\r\n                        a[cnt++] = tween;\r\n                    }\r\n                } else {\r\n                    if (timelines !== false) {\r\n                        a[cnt++] = tween;\r\n                    }\r\n                    if (nested !== false) {\r\n                        a = a.concat(tween.getChildren(true, tweens, timelines));\r\n                        cnt = a.length;\r\n                    }\r\n                }\r\n                tween = tween._next;\r\n            }\r\n            return a;\r\n        };\r\n\r\n        p.getTweensOf = function(target, nested) {\r\n            var disabled = this._gc,\r\n                a = [],\r\n                cnt = 0,\r\n                tweens, i;\r\n            if (disabled) {\r\n                this._enabled(true, true); //getTweensOf() filters out disabled tweens, and we have to mark them as _gc = true when the timeline completes in order to allow clean garbage collection, so temporarily re-enable the timeline here.\r\n            }\r\n            tweens = TweenLite.getTweensOf(target);\r\n            i = tweens.length;\r\n            while (--i > -1) {\r\n                if (tweens[i].timeline === this || (nested && this._contains(tweens[i]))) {\r\n                    a[cnt++] = tweens[i];\r\n                }\r\n            }\r\n            if (disabled) {\r\n                this._enabled(false, true);\r\n            }\r\n            return a;\r\n        };\r\n\r\n        p.recent = function() {\r\n            return this._recent;\r\n        };\r\n\r\n        p._contains = function(tween) {\r\n            var tl = tween.timeline;\r\n            while (tl) {\r\n                if (tl === this) {\r\n                    return true;\r\n                }\r\n                tl = tl.timeline;\r\n            }\r\n            return false;\r\n        };\r\n\r\n        p.shiftChildren = function(amount, adjustLabels, ignoreBeforeTime) {\r\n            ignoreBeforeTime = ignoreBeforeTime || 0;\r\n            var tween = this._first,\r\n                labels = this._labels,\r\n                p;\r\n            while (tween) {\r\n                if (tween._startTime >= ignoreBeforeTime) {\r\n                    tween._startTime += amount;\r\n                }\r\n                tween = tween._next;\r\n            }\r\n            if (adjustLabels) {\r\n                for (p in labels) {\r\n                    if (labels[p] >= ignoreBeforeTime) {\r\n                        labels[p] += amount;\r\n                    }\r\n                }\r\n            }\r\n            return this._uncache(true);\r\n        };\r\n\r\n        p._kill = function(vars, target) {\r\n            if (!vars && !target) {\r\n                return this._enabled(false, false);\r\n            }\r\n            var tweens = (!target) ? this.getChildren(true, true, false) : this.getTweensOf(target),\r\n                i = tweens.length,\r\n                changed = false;\r\n            while (--i > -1) {\r\n                if (tweens[i]._kill(vars, target)) {\r\n                    changed = true;\r\n                }\r\n            }\r\n            return changed;\r\n        };\r\n\r\n        p.clear = function(labels) {\r\n            var tweens = this.getChildren(false, true, true),\r\n                i = tweens.length;\r\n            this._time = this._totalTime = 0;\r\n            while (--i > -1) {\r\n                tweens[i]._enabled(false, false);\r\n            }\r\n            if (labels !== false) {\r\n                this._labels = {};\r\n            }\r\n            return this._uncache(true);\r\n        };\r\n\r\n        p.invalidate = function() {\r\n            var tween = this._first;\r\n            while (tween) {\r\n                tween.invalidate();\r\n                tween = tween._next;\r\n            }\r\n            return Animation.prototype.invalidate.call(this);;\r\n        };\r\n\r\n        p._enabled = function(enabled, ignoreTimeline) {\r\n            if (enabled === this._gc) {\r\n                var tween = this._first;\r\n                while (tween) {\r\n                    tween._enabled(enabled, true);\r\n                    tween = tween._next;\r\n                }\r\n            }\r\n            return SimpleTimeline.prototype._enabled.call(this, enabled, ignoreTimeline);\r\n        };\r\n\r\n        p.totalTime = function(time, suppressEvents, uncapped) {\r\n            this._forcingPlayhead = true;\r\n            var val = Animation.prototype.totalTime.apply(this, arguments);\r\n            this._forcingPlayhead = false;\r\n            return val;\r\n        };\r\n\r\n        p.duration = function(value) {\r\n            if (!arguments.length) {\r\n                if (this._dirty) {\r\n                    this.totalDuration(); //just triggers recalculation\r\n                }\r\n                return this._duration;\r\n            }\r\n            if (this.duration() !== 0 && value !== 0) {\r\n                this.timeScale(this._duration / value);\r\n            }\r\n            return this;\r\n        };\r\n\r\n        p.totalDuration = function(value) {\r\n            if (!arguments.length) {\r\n                if (this._dirty) {\r\n                    var max = 0,\r\n                        tween = this._last,\r\n                        prevStart = 999999999999,\r\n                        prev, end;\r\n                    while (tween) {\r\n                        prev = tween._prev; //record it here in case the tween changes position in the sequence...\r\n                        if (tween._dirty) {\r\n                            tween.totalDuration(); //could change the tween._startTime, so make sure the tween's cache is clean before analyzing it.\r\n                        }\r\n                        if (tween._startTime > prevStart && this._sortChildren && !tween._paused) { //in case one of the tweens shifted out of order, it needs to be re-inserted into the correct position in the sequence\r\n                            this.add(tween, tween._startTime - tween._delay);\r\n                        } else {\r\n                            prevStart = tween._startTime;\r\n                        }\r\n                        if (tween._startTime < 0 && !tween._paused) { //children aren't allowed to have negative startTimes unless smoothChildTiming is true, so adjust here if one is found.\r\n                            max -= tween._startTime;\r\n                            if (this._timeline.smoothChildTiming) {\r\n                                this._startTime += tween._startTime / this._timeScale;\r\n                            }\r\n                            this.shiftChildren(-tween._startTime, false, -9999999999);\r\n                            prevStart = 0;\r\n                        }\r\n                        end = tween._startTime + (tween._totalDuration / tween._timeScale);\r\n                        if (end > max) {\r\n                            max = end;\r\n                        }\r\n                        tween = prev;\r\n                    }\r\n                    this._duration = this._totalDuration = max;\r\n                    this._dirty = false;\r\n                }\r\n                return this._totalDuration;\r\n            }\r\n            return (value && this.totalDuration()) ? this.timeScale(this._totalDuration / value) : this;\r\n        };\r\n\r\n        p.paused = function(value) {\r\n            if (!value) { //if there's a pause directly at the spot from where we're unpausing, skip it.\r\n                var tween = this._first,\r\n                    time = this._time;\r\n                while (tween) {\r\n                    if (tween._startTime === time && tween.data === \"isPause\") {\r\n                        tween._rawPrevTime = 0; //remember, _rawPrevTime is how zero-duration tweens/callbacks sense directionality and determine whether or not to fire. If _rawPrevTime is the same as _startTime on the next render, it won't fire.\r\n                    }\r\n                    tween = tween._next;\r\n                }\r\n            }\r\n            return Animation.prototype.paused.apply(this, arguments);\r\n        };\r\n\r\n        p.usesFrames = function() {\r\n            var tl = this._timeline;\r\n            while (tl._timeline) {\r\n                tl = tl._timeline;\r\n            }\r\n            return (tl === Animation._rootFramesTimeline);\r\n        };\r\n\r\n        p.rawTime = function(wrapRepeats) {\r\n            return (wrapRepeats && (this._paused || (this._repeat && this.time() > 0 && this.totalProgress() < 1))) ? this._totalTime % (this._duration + this._repeatDelay) : this._paused ? this._totalTime : (this._timeline.rawTime(wrapRepeats) - this._startTime) * this._timeScale;\r\n        };\r\n\r\n        return TimelineLite;\r\n\r\n    }, true);\r\n\r\n\r\n}); if (_gsScope._gsDefine) { _gsScope._gsQueue.pop()(); }\r\n\r\n//export to AMD/RequireJS and CommonJS/Node (precursor to full modular build system coming at a later date)\r\n(function(name) {\r\n    \"use strict\";\r\n    var getGlobal = function() {\r\n        return (_gsScope.GreenSockGlobals || _gsScope)[name];\r\n    };\r\n    if (typeof(define) === \"function\" && define.amd) { //AMD\r\n        define([\"TweenLite\"], getGlobal);\r\n    } else if (typeof(module) !== \"undefined\" && module.exports) { //node\r\n        require(\"./TweenLite.js\"); //dependency\r\n        module.exports = getGlobal();\r\n    }\r\n}(\"TimelineLite\"));\r\n","Nwdthemes_Revslider/public/assets/js/tools/themepunch_gs.js":"\r\n// THEMEPUNCH INTERNAL HANDLINGS\r\nif(typeof(console) === 'undefined') {\r\n    var console = {};\r\n    console.log = console.error = console.info = console.debug = console.warn = console.trace = console.dir = console.dirxml = console.group = console.groupEnd = console.time = console.timeEnd = console.assert = console.profile = console.groupCollapsed = function() {};\r\n}"}
}});
