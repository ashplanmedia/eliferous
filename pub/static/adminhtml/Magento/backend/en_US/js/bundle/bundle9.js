require.config({"config": {
        "jsbuild":{"Nwdthemes_Revslider/admin/assets/js/edit_layers.min.js":"define(\"editLayers\",[\"jquery\",\"tpColorPicker\",\"themepunchTools\",\"loading\",\"wpUtil\",\"perfectScrollbar\",\"contextMenu\",\"admin\",\"editLayersTimeline\",\"settings\",\"cssEditor\"],function(jQuery,tpColorPicker,punchgs,showWaitAMinute,wpUtil,perfectScrollbar,tpLayerContextMenu,UniteAdminRev,tpLayerTimelinesRev,RevSliderSettings,UniteCssEditorRev){var La;!function(e){\"use strict\";var t=e.GreenSockGlobals||e,r=function(e){var r,a=e.split(\".\"),i=t;for(r=0;a.length>r;r++)i[a[r]]=i=i[a[r]]||{};return i}(\"com.greensock.utils\"),a=function(e){var t=e.nodeType,r=\"\";if(1===t||9===t||11===t){if(\"string\"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=a(e)}else if(3===t||4===t)return e.nodeValue;return r},i=document,o=i.defaultView?i.defaultView.getComputedStyle:function(){},s=/([A-Z])/g,n=function(e,t,r,a){var i;return(r=r||o(e,null))?i=(e=r.getPropertyValue(t.replace(s,\"-$1\").toLowerCase()))||r.length?e:r[t]:e.currentStyle&&(i=(r=e.currentStyle)[t]),a?i:parseInt(i,10)||0},l=function(e){return!!(e.length&&e[0]&&(e[0].nodeType&&e[0].style&&!e.nodeType||e[0].length&&e[0][0]))},d=\")eefec303079ad17405c\",y=/(?:<br>|<br\\/>|<br \\/>)/gi,u=\"<div style='position:relative;display:inline-block;\"+(i.all&&!i.addEventListener?\"*display:inline;*zoom:1;'\":\"'\"),c=function(e){var t=-1!==(e=e||\"\").indexOf(\"++\"),r=1;return t&&(e=e.split(\"++\").join(\"\")),function(){return u+(e?\" class='\"+e+(t?r++:\"\")+\"'>\":\">\")}},_=r.SplitText=t.SplitText=function(e,t){if(\"string\"==typeof e&&(e=_.selector(e)),!e)throw\"cannot split a null element.\";this.elements=l(e)?function(e){var t,r,a,i=[],o=e.length;for(t=0;o>t;t++)if(r=e[t],l(r))for(a=r.length,a=0;r.length>a;a++)i.push(r[a]);else i.push(r);return i}(e):[e],this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=t||{},this.split(t)},m=function(e,t,r,s,l){y.test(e.innerHTML)&&(e.innerHTML=e.innerHTML.replace(y,d));var u,_,m,p,v,g,h,f,j,b,Q,k,w,x=a(e),L=t.type||t.split||\"chars,words,lines\",C=-1!==L.indexOf(\"lines\")?[]:null,S=-1!==L.indexOf(\"words\"),I=-1!==L.indexOf(\"chars\"),z=\"absolute\"===t.position||!0===t.absolute,A=z?\"&#173; \":\" \",E=-999,T=o(e),B=n(e,\"paddingLeft\",T),R=n(e,\"borderBottomWidth\",T)+n(e,\"borderTopWidth\",T),V=n(e,\"borderLeftWidth\",T)+n(e,\"borderRightWidth\",T),O=n(e,\"paddingTop\",T)+n(e,\"paddingBottom\",T),F=n(e,\"paddingLeft\",T)+n(e,\"paddingRight\",T),P=n(e,\"textAlign\",T,!0),D=e.clientHeight,q=e.clientWidth,H=x.length,N=\"</div>\",U=c(t.wordsClass),M=c(t.charsClass),W=-1!==(t.linesClass||\"\").indexOf(\"++\"),G=t.linesClass;for(W&&(G=G.split(\"++\").join(\"\")),m=U(),p=0;H>p;p++)\")\"===(g=x.charAt(p))&&x.substr(p,20)===d?(m+=N+\"<BR/>\",p!==H-1&&(m+=\" \"+U()),p+=19):\" \"===g&&\" \"!==x.charAt(p-1)&&p!==H-1?(m+=N,p!==H-1&&(m+=A+U())):m+=I&&\" \"!==g?M()+g+\"</div>\":g;for(e.innerHTML=m+N,H=(v=e.getElementsByTagName(\"*\")).length,h=[],p=0;H>p;p++)h[p]=v[p];if(C||z)for(p=0;H>p;p++)((_=(f=h[p]).parentNode===e)||z||I&&!S)&&(j=f.offsetTop,C&&_&&j!==E&&\"BR\"!==f.nodeName&&(u=[],C.push(u),E=j),z&&(f._x=f.offsetLeft,f._y=j,f._w=f.offsetWidth,f._h=f.offsetHeight),C&&(S!==_&&I||(u.push(f),f._x-=B),_&&p&&(h[p-1]._wordEnd=!0)));for(p=0;H>p;p++)_=(f=h[p]).parentNode===e,\"BR\"!==f.nodeName?(z&&(Q=f.style,S||_||(f._x+=f.parentNode._x,f._y+=f.parentNode._y),Q.left=f._x+\"px\",Q.top=f._y+\"px\",Q.position=\"absolute\",Q.display=\"block\",Q.width=f._w+1+\"px\",Q.height=f._h+\"px\"),S?_?s.push(f):I&&r.push(f):_?(e.removeChild(f),h.splice(p--,1),H--):!_&&I&&(j=!C&&!z&&f.nextSibling,e.appendChild(f),j||e.appendChild(i.createTextNode(\" \")),r.push(f))):C||z?(e.removeChild(f),h.splice(p--,1),H--):S||e.appendChild(f);if(C){for(z&&(b=i.createElement(\"div\"),e.appendChild(b),k=b.offsetWidth+\"px\",j=b.offsetParent===e?0:e.offsetLeft,e.removeChild(b)),Q=e.style.cssText,e.style.cssText=\"display:none;\";e.firstChild;)e.removeChild(e.firstChild);for(w=!z||!S&&!I,p=0;C.length>p;p++){for(u=C[p],(b=i.createElement(\"div\")).style.cssText=\"display:block;text-align:\"+P+\";position:\"+(z?\"absolute;\":\"relative;\"),G&&(b.className=G+(W?p+1:\"\")),l.push(b),H=u.length,v=0;H>v;v++)\"BR\"!==u[v].nodeName&&(f=u[v],b.appendChild(f),w&&(f._wordEnd||S)&&b.appendChild(i.createTextNode(\" \")),z&&(0===v&&(b.style.top=f._y+\"px\",b.style.left=B+j+\"px\"),f.style.top=\"0px\",j&&(f.style.left=f._x-j+\"px\")));S||I||(b.innerHTML=a(b).split(String.fromCharCode(160)).join(\" \")),z&&(b.style.width=k,b.style.height=f._h+\"px\"),e.appendChild(b)}e.style.cssText=Q}z&&(D>e.clientHeight&&(e.style.height=D-O+\"px\",D>e.clientHeight&&(e.style.height=D+R+\"px\")),q>e.clientWidth&&(e.style.width=q-F+\"px\",q>e.clientWidth&&(e.style.width=q+V+\"px\")))},p=_.prototype;p.split=function(e){this.isSplit&&this.revert(),this.vars=e||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var t=0;this.elements.length>t;t++)this._originals[t]=this.elements[t].innerHTML,m(this.elements[t],this.vars,this.chars,this.words,this.lines);return this.isSplit=!0,this},p.revert=function(){if(!this._originals)throw\"revert() call wasn't scoped properly.\";for(var e=this._originals.length;--e>-1;)this.elements[e].innerHTML=this._originals[e];return this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},_.selector=e.$||e.jQuery||function(t){return e.$?(_.selector=e.$,e.$(t)):i?i.getElementById(\"#\"===t.charAt(0)?t.substr(1):t):t}}(window||{}),La=jQuery,La.widget(\"ui.rotatable\",La.ui.mouse,{options:{handle:!1,angle:!1,start:null,rotate:null,stop:null},handle:function(e){return void 0===e?this.options.handle:void(this.options.handle=e)},angle:function(e){return void 0===e?this.options.angle:(this.options.angle=e,void this.performRotation(this.options.angle))},_create:function(){var e;this.options.handle?e=this.options.handle:(e=La(document.createElement(\"div\"))).addClass(\"ui-rotatable-handle\"),this.listeners={rotateElement:La.proxy(this.rotateElement,this),startRotate:La.proxy(this.startRotate,this),stopRotate:La.proxy(this.stopRotate,this)},e.draggable({helper:\"clone\",start:this.dragStart,handle:e}),e.bind(\"mousedown\",this.listeners.startRotate),e.appendTo(this.element),0!=this.options.angle?(this.elementCurrentAngle=this.options.angle,this.performRotation(this.elementCurrentAngle)):this.elementCurrentAngle=0},_destroy:function(){this.element.removeClass(\"ui-rotatable\"),this.element.find(\".ui-rotatable-handle\").remove()},performRotation:function(e){var t=180*e/Math.PI;punchgs.TweenLite.set(this.element,{rotationZ:t+\"deg\"})},getElementOffset:function(){this.performRotation(0);var e=this.element.offset();return this.performRotation(this.elementCurrentAngle),e},getElementCenter:function(){var e=this.getElementOffset(),t=e.left+this.element.width()/2,r=e.top+this.element.height()/2;return Array(t,r)},dragStart:function(){return!this.element&&void 0},startRotate:function(e){var t=this.getElementCenter(),r=e.pageX-t[0],a=e.pageY-t[1];return this.mouseStartAngle=Math.atan2(a,r),this.elementStartAngle=this.elementCurrentAngle,this.hasRotated=!1,this._propagate(\"start\",e),La(document).bind(\"mousemove\",this.listeners.rotateElement),La(document).bind(\"mouseup\",this.listeners.stopRotate),!1},rotateElement:function(e){if(!this.element)return!1;var t=this.getElementCenter(),r=e.pageX-t[0],a=e.pageY-t[1],i=Math.atan2(a,r)-this.mouseStartAngle+this.elementStartAngle;this.performRotation(i);var o=this.elementCurrentAngle;return this.elementCurrentAngle=i,this._propagate(\"rotate\",e),o!=i&&(this._trigger(\"rotate\",e,this.ui()),this.hasRotated=!0),!1},stopRotate:function(e){return this.element?(La(document).unbind(\"mousemove\",this.listeners.rotateElement),La(document).unbind(\"mouseup\",this.listeners.stopRotate),this.elementStopAngle=this.elementCurrentAngle,this.hasRotated&&this._propagate(\"stop\",e),setTimeout(function(){this.element=!1},10),!1):void 0},_propagate:function(e,t){La.ui.plugin.call(this,e,[t,this.ui()]),\"rotate\"!==e&&this._trigger(e,t,this.ui())},plugins:{},ui:function(){return{element:this.element,angle:{start:this.elementStartAngle,current:this.elementCurrentAngle,stop:this.elementStopAngle}}}}),jQuery(document).ready(function(){jQuery.widget(\"custom.catcomplete\",jQuery.ui.autocomplete,{_create:function(){this._super(),this.widget().menu(\"option\",\"items\",\"> :not(.ui-autocomplete-category)\")},_renderMenu:function(e,t){var r=this,a=\"\";t&&jQuery.each(t,function(t,i){var o;i.version!=a&&(e.closest(\"#tp-thelistoffonts\").length>0?e.append(\"<li class='ui-autocomplete-category' style='font-size: 24px;'>\"+i.version+\"</li>\"):e.append(\"<li class='ui-autocomplete-category' style='font-size: 24px;'>Version: \"+i.version+\"</li>\"),a=i.version),o=r._renderItemData(e,i),i.version&&o.attr(\"aria-label\",i.version+\" : \"+i.label)})}})}),jQuery(document).ready(function(){\"undefined\"!=typeof tp_color_picker_presets&&tp_color_picker_presets||(tp_color_picker_presets={colors:[],gradients:[]}),tp_color_picker_presets.colors||(tp_color_picker_presets.colors=[]),tp_color_picker_presets.gradients||(tp_color_picker_presets.gradients=[]),jQuery.tpColorPicker({custom:tp_color_picker_presets,onAjax:function(e,t,r,a,i){var o=!1,s=tp_color_picker_presets[r];switch(e){case\"save\":s[s.length]=t,o=!0;break;case\"delete\":for(var n=s.length,l=0;l<n;l++)for(var d in s[l])d===t&&s.splice(l,1);o=!0}o&&UniteAdminRev.ajaxRequest(\"save_color_preset\",{presets:tp_color_picker_presets},function(e){var t=e.error||!1;jQuery(document).trigger(a,[t])})}})});var UniteLayersRev=new function(){var initTop=100,initLeft=100,initSpeed=300,initTopVideo=20,initLeftVideo=20,g_startTime=500,g_stepTime=0,g_slideTime,initText=\"Caption Text\",initGroupName=\"Group\",initRowName=\"Row\",initColumnName=\"Column\",layout=\"desktop\",transSettings=[],t=this,u=tpLayerTimelinesRev,cm=tpLayerContextMenu,initArrFontTypes=[],containerID=\"#divLayers\",container,update_layer_changes=!0,id_counter=0,initLayers=null,initDemoLayers=null,initStaticLayers=[],initDemoSettings=null,layerresized=!1,layerGeneralParamsStatus=!1,initLayerAnims=[],initLayerAnimsDefault=[],currentAnimationType=\"customin\",curDemoSlideID=0,slideIDs={},alluniqueids=[],selectedLayerWidth=0,selectedlayerHeight=0,totalWidth=0,totalHeight=0,unique_layer_id=0,global_action_template=null,global_layer_import_template=null,updateRevTimer=0,updateRevChange=0,save_needed=!1,import_slides={},lastchangedinput=\"\";t.core=5,t.sub=3,t.subsub=0,t.newlayercoord={x:-1,y:-1},u.layout=layout,t.groupMove={x:0,y:0},t.selectedLayerSerial=-1,t.selectedLayers=new Array,t.justDropped=!1,t.arrLayers={},t.arrLayersClone={},t.arrLayersDemo={},t.arrLayersChanges={undo:[],redo:[]},t.ignorAllUndoRedoLogs=!1,t.attributegroups=[{id:\"0\",icon:\"move\",groupname:\"Layer Position\",keys:[\"left.desktop\",\"top.desktop\",\"align_hor.desktop\",\"align_vert.desktop\",\"left.notebook\",\"top.notebook\",\"align_hor.notebook\",\"align_vert.notebook\",\"left.tablet\",\"top.tablet\",\"align_hor.tablet\",\"align_vert.tablet\",\"left.mobile\",\"top.mobile\",\"align_hor.mobile\",\"align_vert.mobile\"]},{id:\"1\",icon:\"play\",groupname:\"Start Animation\",keys:[\"x_rotate_start\",\"x_rotate_start_reverse\",\"x_start\",\"x_start_reverse\",\"y_rotate_start\",\"y_rotate_start_reverse\",\"y_start\",\"y_start_reverse\",\"z_rotate_start\",\"z_rotate_start_reverse\",\"z_start\"]},{id:\"2\",icon:\"play\",groupname:\"End Animation\",keys:[\"x_end\",\"x_end_reverse\",\"x_origin_end\",\"x_rotate_end\",\"x_rotate_end_reverse\",\"y_end\",\"y_end_reverse\",\"y_rotate_end\",\"y_rotate_end_reverse\",\"z_end\",\"z_rotate_end\",\"z_rotate_end_reverse\"]},{id:\"31\",icon:\"play\",groupname:\"Frames\",keys:[\"splitdelay\",\"animation\",\"split\",\"split_extratime\",\"relative_time\",\"easing\",\"speed\",\"time\"]},{id:\"3\",icon:\"play\",groupname:\"Loop Animation\",keys:[\"loop_angle\",\"loop_animation\",\"loop_easing\",\"loop_enddeg\",\"loop_radius\",\"loop_speed\",\"loop_startdeg\",\"loop_xend\",\"loop_xorigin\",\"loop_xstart\",\"loop_yend\",\"loop_yorigin\",\"loop_ystart\",\"loop_zoomend\",\"loop_zoomstart\"]},{id:\"4\",icon:\"play\",groupname:\"Mask Animation\",keys:[\"mask_ease_end\",\"mask_ease_start\",\"mask_end\",\"mask_speed_end\",\"mask_speed_start\",\"mask_start\",\"mask_x_end\",\"mask_x_end_reverse\",\"mask_x_start\",\"mask_x_start_reverse\",\"mask_y_end\",\"mask_y_end_reverse\",\"mask_y_start\",\"mask_y_start_reverse\"]},{id:\"5\",icon:\"font\",groupname:\"Formatting\",keys:[\"displaymode.desktop\",\"displaymode.notebook\",\"displaymode.tablet\",\"displaymode.mobile\",\"autolinebreak\",\"whitespace.desktop\",\"whitespace.notebook\",\"whitespace.tablet\",\"whitespace.mobile\",\"html_tag\",\"layer-selectable\"]},{id:\"6\",icon:\"cog\",groupname:\"Behavior\",keys:[\"basealign\",\"lazy-load\",\"resizeme\",\"resize-full\",\"responsive_offset\"]},{id:\"7\",icon:\"eye\",groupname:\"Visibilty\",keys:[\"hiddenunder\",\"visible-desktop\",\"visible-notebook\",\"visible-tablet\",\"visible-mobile\",\"show-on-hover\"]},{id:\"8\",icon:\"resize-full\",groupname:\"Sizing\",keys:[\"scaleProportional\",\"video_data.fullwidth\",\"video_data.cover\",\"originalWidth\",\"originalHeight\",\"cover_mode\",\"height\",\"width\",\"image-size\",\"video_height.desktop\",\"video_height.notebook\",\"video_height.tablet\",\"video_height.mobile\",\"video_width.desktop\",\"video_width.notebook\",\"video_width.tablet\",\"video_width.mobile\",\"max_height.desktop\",\"max_height.notebook\",\"max_height.tablet\",\"max_height.mobile\",\"min_height.desktop\",\"min_height.notebook\",\"min_height.tablet\",\"min_height.mobile\",\"max_width.desktop\",\"max_width.notebook\",\"max_width.tablet\",\"max_width.mobile\",\"scaleX.desktop\",\"scaleX.notebook\",\"scaleX.tablet\",\"scaleX.mobile\",\"scaleY.desktop\",\"scaleY.notebook\",\"scaleY.tablet\",\"scaleY.mobile\"]},{id:\"9\",icon:\"font\",groupname:\"Naming and Alias\",keys:[\"text\",\"alias\"]},{id:\"30\",icon:\"resize-vertical\",groupname:\"Order\",keys:[\"order\",\"p_uid\"]},{id:\"10\",icon:\"cancel\",groupname:\"Deleted\",keys:[\"deleted\"]},{id:\"11\",icon:\"plus\",groupname:\"Created\",keys:[\"layer_unavailable\"]},{id:\"12\",icon:\"link\",groupname:\"Source\",keys:[\"svg.src\",\"image_url\"]},{id:\"13\",icon:\"star\",groupname:\"SVG Style\",keys:[\"svg.svgstroke-color\",\"svg.svgstroke-dasharray\",\"svg.svgstroke-dashoffset\",\"svg.svgstroke-width\",\"svg.svgstroke-hover-color\",\"svg.svgstroke-hover-dasharray\",\"svg.svgstroke-hover-dashoffset\",\"svg.svgstroke-hover-transparency\",\"svg.svgstroke-hover-width\"]},{id:\"14\",icon:\"palette\",groupname:\"Main Styling\",keys:[\"static_styles.color.desktop\",\"static_styles.color.notebook\",\"static_styles.color.tablet\",\"static_styles.color.mobile\",\"static_styles.font-size.desktop\",\"static_styles.font-size.notebook\",\"static_styles.font-size.tablet\",\"static_styles.font-size.mobile\",\"static_styles.font-weight.desktop\",\"static_styles.font-weight.notebook\",\"static_styles.font-weight.tablet\",\"static_styles.font-weight.mobile\",\"static_styles.line-height.desktop\",\"static_styles.line-height.notebook\",\"static_styles.line-height.tablet\",\"static_styles.line-height.mobile\"]},{id:\"15\",icon:\"thumbs-up\",groupname:\"Layer Action\",keys:[\"layer_action\",\"layer_action.action\",\"layer_action.action_delay\",\"layer_action.actioncallback\",\"layer_action.image_link\",\"layer_action.jump_to_slide\",\"layer_action.jump_to_slide\",\"layer_action.link_open_in\",\"layer_action.link_type\",\"layer_action.scrollunder_offset\",\"layer_action.toggle_class\",\"layer_action.toggle_layer_type\",\"layer_action.tooltip_event\"]},{id:\"16\",icon:\"droplet\",groupname:\"Styling Text\",keys:[\"deformation.color-transparency\",\"deformation.font-family\",\"deformation.font-style\",\"deformation.opacity\",\"deformation.text-align\",\"deformation.vertical-align\",\"deformation.display\",\"deformation.text-decoration\"]},{id:\"17\",icon:\"droplet\",groupname:\"Styling Padding\",keys:[\"deformation.padding\",\"deformation.padding.0\",\"deformation.padding.1\",\"deformation.padding.2\",\"deformation.padding.3\"]},{id:\"17\",icon:\"droplet\",groupname:\"Styling Margin\",keys:[\"margin.desktop\",\"margin.notebook\",\"margin.tablet\",\"margin.mobile\"]},{id:\"18\",icon:\"droplet\",groupname:\"Styling Corners\",keys:[\"deformation.corner_left\",\"deformation.corner_right\"]},{id:\"19\",icon:\"droplet\",groupname:\"Styling Background\",keys:[\"deformation.background-color\",\"deformation.background-transparency\"]},{id:\"20\",icon:\"droplet\",groupname:\"Styling Border\",keys:[\"deformation.border-color\",\"deformation.border-radius.0\",\"deformation.border-radius.1\",\"deformation.border-radius.2\",\"deformation.border-radius.3\",\"deformation.border-style\",\"deformation.border-transparency\",\"deformation.border-width\"]},{id:\"21\",icon:\"droplet\",groupname:\"Styling Transforms\",keys:[\"deformation.2d_origin_x\",\"deformation.2d_origin_y\",\"deformation.parallax\",\"deformation.pers\",\"deformation.scalex\",\"deformation.scaley\",\"deformation.skewx\",\"deformation.skewy\",\"deformation.text-transform\",\"deformation.x\",\"deformation.xrotate\",\"deformation.y\",\"deformation.yrotate\",\"deformation.z\"]},{id:\"22\",icon:\"droplet\",groupname:\"Styling Hover\",keys:[\"hover\",\"deformation-hover.css_cursor\",\"deformation-hover.easing\"]},{id:\"23\",icon:\"droplet\",groupname:\"Styling Hover Text\",keys:[\"deformation-hover.color\",\"deformation-hover.color-transparency\",\"deformation-hover.font-family\",\"deformation-hover.font-style\",\"deformation-hover.opacity\",\"deformation-hover.text-align\",\"deformation-hover.vertical-align\",\"deformation-hover.text-decoration\"]},{id:\"24\",icon:\"droplet\",groupname:\"Styling Hover Padding\",keys:[\"deformation-hover.padding\",\"deformation-hover.padding.0\",\"deformation-hover.padding.1\",\"deformation-hover.padding.2\",\"deformation-hover.padding.3\"]},{id:\"24\",icon:\"droplet\",groupname:\"Styling Hover Margin\",keys:[\"deformation-hover.margin\",\"deformation-hover.margin.0\",\"deformation-hover.margin.1\",\"deformation-hover.margin.2\",\"deformation-hover.margin.3\"]},{id:\"25\",icon:\"droplet\",groupname:\"Styling Hover Corners\",keys:[\"deformation-hover.corner_left\",\"deformation-hover.corner_right\"]},{id:\"26\",icon:\"droplet\",groupname:\"Styling Hover Background\",keys:[\"deformation-hover.background-color\",\"deformation-hover.background-transparency\"]},{id:\"27\",icon:\"droplet\",groupname:\"Styling Hover Border\",keys:[\"deformation-hover.border-color\",\"deformation-hover.border-radius.0\",\"deformation-hover.border-radius.1\",\"deformation-hover.border-radius.2\",\"deformation-hover.border-radius.3\",\"deformation-hover.border-style\",\"deformation-hover.border-transparency\",\"deformation-hover.border-width\"]},{id:\"28\",icon:\"droplet\",groupname:\"Styling Hover Transforms\",keys:[\"deformation-hover.2d_origin_x\",\"deformation-hover.2d_origin_y\",\"deformation-hover.parallax\",\"deformation-hover.pers\",\"deformation-hover.scalex\",\"deformation-hover.scaley\",\"deformation-hover.skewx\",\"deformation-hover.skewy\",\"deformation-hover.text-transform\",\"deformation-hover.x\",\"deformation-hover.xrotate\",\"deformation-hover.y\",\"deformation-hover.yrotate\",\"deformation-hover.z\"]},{id:\"29\",icon:\"video\",groupname:\"Video/Audo Settings\",keys:[\"video_data.urlAudio\",\"video_data.previewimage\",\"video_data.link\",\"video_data.thumb_medium.url\",\"video_type\",\"video_data.id\",\"video_data.video_type\",\"video_data.title\",\"video_data.author\",\"video_data.description\",\"video_data.args\",\"video_data.autoplay\",\"video_data.nextslide\",\"video_data.forcerewind\",\"video_data.controls\",\"video_data.mute\",\"video_data.stopallvideo\",\"video_data.allowfullscreen\",\"video_data.videoloop\",\"video_data.show_cover_pause\",\"video_data.start_at\",\"video_data.end_at\",\"video_data.volume\",\"video_data.desc_small\",\"video_data.thumb_small.url\",\"video_data.thumb_small.width\",\"video_data.thumb_small.height\",\"video_data.thumb_medium.width\",\"video_data.thumb_medium.height\",\"video_data.video_height\"]},{id:\"30\",icon:\"droplet\",groupname:\"Styling Hover Pointer Events\",keys:[\"deformation-hover.pointer_events\"]}],t.addon_callbacks=[],t.set_save_needed=function(e){save_needed=e},t.ulff_core=0,t.setGlobalAction=function(e){global_action_template=e},t.setGlobalSlideImport=function(e){global_layer_import_template=e},t.getLayout=function(){return layout},t.setInitSlideIds=function(e){slideIDs=jQuery.parseJSON(e)},t.setInitLayersJson=function(e){initLayers=jQuery.parseJSON(e)},t.setInitStaticLayersJson=function(e){initStaticLayers=jQuery.parseJSON(e)},t.setInitDemoLayersJson=function(e){initDemoLayers=jQuery.parseJSON(e)},t.setInitDemoSettingsJson=function(e){initDemoSettings=jQuery.parseJSON(e)},t.setInitLayerAnim=function(e){initLayerAnims=jQuery.parseJSON(e)},t.setInitLayerAnimsDefault=function(e){initLayerAnimsDefault=jQuery.parseJSON(e)},t.setInitTransSetting=function(e){transSettings=jQuery.parseJSON(e)},t.updateInitLayerAnim=function(e){initLayerAnims=[],initLayerAnims=e},t.setInitCaptionClasses=function(e){initArrCaptionClasses=jQuery.parseJSON(e)},t.setCaptionClasses=function(e){initArrCaptionClasses=e},t.setInitFontTypes=function(e){initArrFontTypes=jQuery.parseJSON(e)},t.getMaintime=function(){return g_slideTime},t.setMaintime=function(e){g_slideTime=e},t.getObjectLength=function(e){var t=0;for(var r in e)e.hasOwnProperty(r)&&t++;return t},t.sortFontTypesByUsage=function(){for(var e in sgfamilies)if(sgfamilies.hasOwnProperty(e))for(var t in initArrFontTypes)if(initArrFontTypes.hasOwnProperty(t)&&void 0!==initArrFontTypes[t]&&void 0!==initArrFontTypes[t].label&&void 0!==sgfamilies[e]&&initArrFontTypes[t].label.replace(/\\ /g,\"+\")==sgfamilies[e].replace(/\\ /g,\"+\")){void 0===initArrFontTypes[t].top&&(initArrFontTypes[t].top=!0);break}var r={},a=0;for(var i in initArrFontTypes)initArrFontTypes.hasOwnProperty(i)&&(r[a]=initArrFontTypes[i],a++);initArrFontTypes=r},t.setVal=function(e,t,r,a,i,o){if(-1!==jQuery.inArray(t,transSettings))if(a)\"object\"!=typeof e[t]&&(e[t]={}),null==o||0==o?e[t][layout]=r:(e[t].desktop=r,e[t].notebook=r,e[t].tablet=r,e[t].mobile=r);else if(null!=i)for(var s in i)i.hasOwnProperty(s)&&(void 0!==e[t]&&void 0!==e[t][i[s]]?e[t][i[s]]=r:(void 0===e[t]&&(e[t]={}),e[t][i[s]]=r));else void 0!==e[t]&&void 0!==e[t][layout]?e[t][layout]=r:(void 0===e[t]&&(e[t]={}),e[t][layout]=r);else e[t]=r;return e},t.getVal=function(e,t,r){if(r=void 0===r?layout:r,void 0!==e){if(-1===jQuery.inArray(t,transSettings))return void 0!==e[t]&&\"object\"!=typeof e[t]?e[t]:void 0;if(void 0!==e[t]&&void 0!==e[t][r])return e[t][r];if(void 0!==e[t]&&\"object\"!=typeof e[t])return e[t];if(void 0!==e[t]){var a=\"novalue\";switch(r){case\"desktop\":void 0!==e[t].notebook?(a=e[t].notebook,\"notebook\"):void 0!==e[t].tablet?(a=e[t].tablet,\"tablet\"):void 0!==e[t].mobile&&(a=e[t].mobile,\"mobile\");break;case\"notebook\":void 0!==e[t].desktop?(a=e[t].desktop,\"desktop\"):void 0!==e[t].tablet?(a=e[t].tablet,\"tablet\"):void 0!==e[t].mobile&&(a=e[t].mobile,\"mobile\");break;case\"tablet\":void 0!==e[t].notebook?(a=e[t].notebook,\"notebook\"):void 0!==e[t].desktop?(a=e[t].desktop,\"desktop\"):void 0!==e[t].mobile&&(a=e[t].mobile,\"mobile\");break;case\"mobile\":void 0!==e[t].tablet?(a=e[t].tablet,\"tablet\"):void 0!==e[t].notebook?(a=e[t].notebook,\"notebook\"):void 0!==e[t].desktop&&(a=e[t].desktop,\"desktop\")}if(\"novalue\"!=a)return a}}},t.insertTemplate=function(e){if(\"\"===add_meta_into){if(-1==t.selectedLayerSerial)return!1;e.lastIndexOf(\"%\")<0?jQuery(\"#layer_text\").val(jQuery(\"#layer_text\").val()+\"{{\"+e+\"}}\"):jQuery(\"#layer_text\").val(jQuery(\"#layer_text\").val()+e),t.updateLayerFromFields()}else\"object\"==jQuery.type(add_meta_into)?add_meta_into.val(add_meta_into.val()+\"{{\"+e+\"}}\").trigger(\"change\"):jQuery('input[name=\"'+add_meta_into+'\"]').val(jQuery('input[name=\"'+add_meta_into+'\"]').val()+\"{{\"+e+\"}}\");jQuery(\"#dialog_template_insert\").dialog(\"close\")},t.refreshGridSize=function(){var e=jQuery(\"#hor-css-linear .helplines-offsetcontainer\"),r=jQuery(\"#ver-css-linear .helplines-offsetcontainer\"),a=jQuery(\"#rs-grid-sizes option:selected\").val(),i=jQuery(\"#rs-grid-snapto option:selected\").val(),o=jQuery(\"#divLayers\");if(\"custom\"!=a){o.css({position:\"relative\"}),o.find(\"#helpergrid\").remove(),o.append('<div id=\"helpergrid\" style=\"position:absolute;top:0px;left:0px;position:absolute;z-index:0;width:100%;height:100%\"></div>');var s=o.find(\"#helpergrid\");if(a>4){for(var n=1;n<o.height()/a;n++){var l=n*a;s.append('<div class=\"helplines\" style=\"background-color:#4affff;width:100%;height:1px;position:absolute;left:0px;top:'+l+'px\"></div>')}for(n=1;n<o.width()/a;n++){l=n*a;s.append('<div class=\"helplines\" style=\"background-color:#4affff;height:100%;width:1px;position:absolute;top:0px;left:'+l+'px\"></div>')}}punchgs.TweenLite.to(e,.3,{autoAlpha:0}),punchgs.TweenLite.to(r,.3,{autoAlpha:0})}else{punchgs.TweenLite.to(e,.3,{autoAlpha:1}),punchgs.TweenLite.to(r,.3,{autoAlpha:1}),o.find(\"#helpergrid\").remove();try{e.find(\".helplines\").draggable(\"destroy\")}catch(e){}try{r.find(\".helplines\").draggable(\"destroy\")}catch(e){}e.find(\".helplines\").draggable({handle:\".helpline-drag\",axis:\"x\"}),r.find(\".helplines\").draggable({handle:\".helpline-drag\",axis:\"y\"})}for(var d in t.arrLayers)if(t.arrLayers.hasOwnProperty(d)){t.getHtmlLayerFromSerial(d).draggable({drag:t.onLayerDrag,snap:i,snapMode:\"outer\"})}},t.add_missing_unique_ids=function(){var e=t.getSimpleLayers(),r={};for(var a in e)e.hasOwnProperty(a)&&(void 0===e[a].unique_id?r[a]=!0:e[a].unique_id>unique_layer_id&&(unique_layer_id=e[a].unique_id));for(var a in r)if(r.hasOwnProperty(a)){unique_layer_id++;var i={};i.unique_id=unique_layer_id,update_layer_changes=!1,t.updateLayer(a,i),update_layer_changes=!0}},t.init=function(slideTime){null!=jQuery().draggable&&null!=jQuery().autocomplete||jQuery(\"#jqueryui_error_message\").show(),jQuery(\"body\").addClass(\"rs-layer-editor-view\"),g_slideTime=Number(slideTime),u.init(t),container=jQuery(containerID);var demoRows=new Array;if(initDemoLayers){var len=initDemoLayers.length;if(len)for(var i=0;i<len;i++)for(var key in initDemoLayers[i])initDemoLayers[i].hasOwnProperty(key)&&(curDemoSlideID=i,\"row\"===initDemoLayers[i][key].type||\"column\"===initDemoLayers[i][key].type?demoRows.push(initDemoLayers[i][key].unique_id):-1==jQuery.inArray(initDemoLayers[i][key].p_uid,demoRows)&&addLayer(initDemoLayers[i][key],!0,!0,!0));else for(var i in initDemoLayers)if(initDemoLayers.hasOwnProperty(i))for(var key in initDemoLayers[i])initDemoLayers[i].hasOwnProperty(key)&&(curDemoSlideID=i,\"row\"===initDemoLayers[i][key].type||\"column\"===initDemoLayers[i][key].type?demoRows.push(initDemoLayers[i][key].unique_id):-1==jQuery.inArray(initDemoLayers[i][key].p_uid,demoRows)&&addLayer(initDemoLayers[i][key],!0,!0,!0))}u.organiseGroupsAndLayer(!1,!0);var len=initLayers.length;if(initLayers){if(len){for(var i=0;i<len;i++)initLayers[i].addedToStage=!1;for(var i=0;i<len&&\"row\"!==initLayers[i].type;i++)\"row\"!==initLayers[i].type&&\"column\"!==initLayers[i].type&&(\"group\"===initLayers[i].type&&-1!==initLayers[i].p_uid||(initLayers[i].addedToStage=!0,addLayer(initLayers[i],!0,!1,!0)));t.add_missing_unique_ids();for(var i=0;i<len&&\"row\"!=initLayers[i].type;i++)!0!==initLayers[i].addedToStage&&\"row\"!==initLayers[i].type&&\"column\"!==initLayers[i].type&&\"group\"!==initLayers[i].type&&(initLayers[i].addedToStage=!0,addLayer(initLayers[i],!0,!1,!0));t.add_missing_unique_ids();for(var i=0;i<len;i++)!0===initLayers[i].addedToStage||\"group\"!==initLayers[i].type&&\"row\"!==initLayers[i].type||(initLayers[i].addedToStage=!0,addLayer(initLayers[i],!0,!1,!0));t.add_missing_unique_ids();for(var i=0;i<len;i++)\"column\"===initLayers[i].type&&(initLayers[i].addedToStage=!0,addLayer(initLayers[i],!0,!1,!0));t.add_missing_unique_ids();for(var i=0;i<len;i++)!0!==initLayers[i].addedToStage&&addLayer(initLayers[i],!0,!1,!0)}else{for(var i in initLayers)initLayers.hasOwnProperty(i)&&(initLayers[i].addedToStage=!1);for(var i in initLayers)if(initLayers.hasOwnProperty(i)){if(\"row\"===initLayers[i].type)break;\"row\"!==initLayers[i].type&&\"column\"!==initLayers[i].type&&(\"group\"===initLayers[i].type&&-1!==initLayers[i].p_uid||(initLayers[i].addedToStage=!0,addLayer(initLayers[i],!0,!1,!0)))}for(var i in t.add_missing_unique_ids(),initLayers)if(initLayers.hasOwnProperty(i)){if(\"row\"==initLayers[i].type)break;!0!==initLayers[i].addedToStage&&\"row\"!==initLayers[i].type&&\"column\"!==initLayers[i].type&&\"group\"!==initLayers[i].type&&(initLayers[i].addedToStage=!0,addLayer(initLayers[i],!0,!1,!0))}for(var i in t.add_missing_unique_ids(),initLayers)initLayers.hasOwnProperty(i)&&(!0===initLayers[i].addedToStage||\"group\"!==initLayers[i].type&&\"row\"!==initLayers[i].type||(initLayers[i].addedToStage=!0,addLayer(initLayers[i],!0,!1,!0)));for(var i in t.add_missing_unique_ids(),initLayers)initLayers.hasOwnProperty(i)&&\"column\"===initLayers[i].type&&(initLayers[i].addedToStage=!0,addLayer(initLayers[i],!0,!1,!0));for(var i in t.add_missing_unique_ids(),initLayers)initLayers.hasOwnProperty(i)&&!0!==initLayers[i].addedToStage&&addLayer(initLayers[i],!0,!1,!0)}t.add_missing_unique_ids()}u.timeLineTableDimensionUpdate(),u.updateAllLayerTimeline(),disableFormFields(),initMainEvents(),initButtons(),initHtmlFields(),initAlignTable(),initLoopFunctions(),scaleAndResetLayerInit(),positionChanged_Core(),initBackgroundFunctions(),jQuery(\"#tp-thelistofclasses ul, #tp-thelistoffonts ul\").bind(\"scroll\",function(){var e=jQuery(this),t=e.scrollTop(),r=e.data(\"olds\"),a=(e.parent().height(),null==r||r<t?\"up\":\"down\");e.find(\".ui-autocomplete-category\").each(function(e){var r=jQuery(this),i=r.next().position().top,o=0==e?0:15;\"up\"==a&&i<50||\"down\"==a&&i<0-o?(r.css({position:\"absolute\",top:t-o,zIndex:e}),r.next().css({marginTop:50+o})):(r.css({position:\"relative\",top:0,zIndex:e}),r.next().css({marginTop:0}))}),e.data(\"olds\",t)}),jQuery(\".bgsrcchanger\").each(function(){jQuery(this)[0].checked&&initSliderMainOptions(jQuery(this))}),jQuery(\".bgsrcchanger\").click(function(){initSliderMainOptions(jQuery(this))}),jQuery(\"#alt_option\").change(function(){\"custom\"==jQuery(\"#alt_option option:selected\").val()?jQuery(\"#alt_attr\").show():jQuery(\"#alt_attr\").hide()}),jQuery(\"#title_option\").change(function(){\"custom\"==jQuery(\"#title_option option:selected\").val()?jQuery(\"#title_attr\").show():jQuery(\"#title_attr\").hide()}),initDisallowCaptionsOnClick(),jQuery(\".open_right_panel\").click(function(){var e=jQuery(\".layer_props_wrapper\");e.hasClass(\"openeed\")?e.removeClass(\"openeed\"):e.addClass(\"openeed\")}),jQuery(\"#rs-grid-sizes, #rs-grid-snapto\").change(function(){t.refreshGridSize()}),jQuery(\"#layer_alt_option\").change(function(){\"custom\"==jQuery(\"#layer_alt_option option:selected\").val()?jQuery(\"#layer_alt\").show():jQuery(\"#layer_alt\").hide()}),jQuery('select[name=\"rev_show_the_slides\"]').change(function(){var e=jQuery(\"#divbgholder\").find(\".slotholder\");if(jQuery(\".demo_layer\").addClass(\"invisible_demolayer\"),e.addClass(\"trans_bg\"),e.css(\"background-image\",\"none\"),e.css(\"background-color\",\"transparent\"),e.css(\"background-position\",\"top center\"),e.css(\"background-size\",\"cover\"),e.css(\"background-repeat\",\"no-repeat\"),jQuery(\".tp-bgimg\").css({backgroundImage:\"none\",backgroundColor:\"transparent\"}),\"none\"!==jQuery(this).val()){var t=jQuery(this).val();if(jQuery(\".demo_layer_\"+t).show(),jQuery(\".demo_layer_\"+t).removeClass(\"invisible_demolayer\"),void 0!==initDemoSettings[t]){var r=\"percentage\"==initDemoSettings[t].bg_fit?initDemoSettings[t].bg_fit_x+\"% \"+initDemoSettings[t].bg_fit_y+\"% \":initDemoSettings[t].bg_fit,a=\"percentage\"==initDemoSettings[t].bg_position?initDemoSettings[t].bg_position_x+\"% \"+initDemoSettings[t].bg_position_y+\"% \":initDemoSettings[t].bg_position;switch(\"contain\"==initDemoSettings[t].bg_fit?jQuery(\"#divLayers-wrapper\").css(\"maxWidth\",jQuery(\"#divbgholder\").css(\"minWidth\")):jQuery(\"#divLayers-wrapper\").css(\"maxWidth\",\"none\"),initDemoSettings[t].background_type){case\"image\":case\"meta\":case\"streamyoutube\":case\"streamvimeo\":case\"streaminstagram\":case\"youtube\":case\"vimeo\":case\"html5\":var i=initDemoSettings[t].image;jQuery(\"#the_image_source_url\").html(i),e.find(\".defaultimg, .slotslidebg\").css(\"background-image\",\"url('\"+i+\"')\"),e.find(\".defaultimg, .slotslidebg\").css(\"background-color\",\"transparent\"),e.find(\".defaultimg, .slotslidebg\").css(\"background-size\",r),e.find(\".defaultimg, .slotslidebg\").css(\"background-position\",a),e.find(\".defaultimg, .slotslidebg\").css(\"background-repeat\",initDemoSettings[t].bg_repeat),e.find(\".defaultimg, .slotslidebg\").removeClass(\"trans_bg\");break;case\"trans\":e.find(\".defaultimg, .slotslidebg\").css(\"background-image\",\"none\"),e.find(\".defaultimg, .slotslidebg\").css(\"background-color\",\"transparent\"),e.find(\".defaultimg, .slotslidebg\").addClass(\"trans_bg\");break;case\"solid\":e.find(\".defaultimg, .slotslidebg\").css(\"background-image\",\"none\"),e.find(\".defaultimg, .slotslidebg\").removeClass(\"trans_bg\");var o=window.RevColor.get(initDemoSettings[t].slide_bg_color);e.find(\".defaultimg, .slotslidebg\").css(\"background-color\",o);break;case\"external\":i=initDemoSettings[t].slide_bg_external;jQuery(\"#the_image_source_url\").html(i),e.find(\".defaultimg, .slotslidebg\").css(\"background-image\",\"url('\"+i+\"')\"),e.find(\".defaultimg, .slotslidebg\").css(\"background-color\",\"transparent\"),e.find(\".defaultimg, .slotslidebg\").css(\"background-size\",r),e.find(\".defaultimg, .slotslidebg\").css(\"background-position\",a),e.find(\".defaultimg, .slotslidebg\").css(\"background-repeat\",initDemoSettings[t].bg_repeat),e.find(\".defaultimg, .slotslidebg\").removeClass(\"trans_bg\")}}}jQuery(\"#divbgholder\").css({backgroundImage:\"none\",backgroundColor:\"transparent\"})}),jQuery(\"#thumb_for_admin\").on(\"change\",function(){t.changeSlotBGs()}),jQuery(\"#slide_thumb_button_preview\").find(\"div\").length>0&&jQuery(\".show_on_thumbnail_exist\").show(),jQuery(\".rs-slide-device_selector\").click(function(){if(0!=rev_adv_resp_sizes){var e=jQuery(this).data(\"val\");layout=e,u.layout=e;var r=0;jQuery(\".row-zone-container\").each(function(){r+=jQuery(this).height()}),r=r<rev_sizes[e][1]?rev_sizes[e][1]:r,jQuery(\".tp-bgimg.defaultimg, #divLayers\").css({width:rev_sizes[e][0],height:r}),\"auto\"!=__slidertype?(jQuery(\"#divbgholder\").css({minWidth:rev_sizes[e][0],maxWidth:\"100%\",marginLeft:\"auto\",marginRight:\"auto\"}),jQuery(\"#divbgholder\").css({minHeight:r,height:r}),jQuery(\".slotholder .tp-bgimg.defaultimg\").css({minWidth:rev_sizes[e][0],maxWidth:\"100%\"}),jQuery(\".tp-bgimg.defaultimg\").css({width:\"100%\"})):(jQuery(\"#divbgholder\").css({minWidth:rev_sizes[e][0],maxWidth:rev_sizes[e][0],marginLeft:\"auto\",marginRight:\"auto\"}),jQuery(\"#divbgholder\").css({minHeight:r,height:r}),jQuery(\".slotholder .tp-bgimg.defaultimg\").css({minWidth:rev_sizes[e][0],maxWidth:rev_sizes[e][0]})),jQuery(\"#divLayers-wrapper\").css(\"height\",r+1),jQuery(\".rs-slide-device_selector\").removeClass(\"selected\"),jQuery(this).addClass(\"selected\"),u.resetSlideAnimations(),jQuery(window).trigger(\"resize\"),redrawAllLayerHtml(),t.setMiddleRowZone(100)}}),jQuery(\"#divbgholder .oldslotholder, #divbgholder .slotholder, #divbgholder .defaultimg, #top-toolbar-wrapper, #layer-settings-toolbar-bottom\").on(\"click\",function(e){1===(e.which||e.button)&&cm.toggleMenuOff(),e.target==this&&(u.checkMultipleSelectedItems(!0),unselectLayers())});var cfith=function(e,t){return e[\"deformation-hover\"][t]=e.deformation[t],e},cfhti=function(e,t){return e.deformation[t]=e[\"deformation-hover\"][t],e};jQuery(\".copy-from-idle\").click(function(){if(confirm(rev_lang.copy_styles_to_idle_from_hover)){var e=t.getCurrentLayer();e[\"deformation-hover\"].color=t.getVal(e.static_styles,\"color\"),e[\"deformation-hover\"][\"2d_rotation\"]=e[\"2d_rotation\"],e=cfith(e,\"2d_origin_x\"),e=cfith(e,\"2d_origin_y\"),e=cfith(e,\"background-color\"),e=cfith(e,\"background-transparency\"),e=cfith(e,\"border-color\"),e=cfith(e,\"border-radius\"),e=cfith(e,\"border-style\"),e=cfith(e,\"border-transparency\"),e=cfith(e,\"border-width\"),e=cfith(e,\"color-transparency\"),e=cfith(e,\"opacity\"),e=cfith(e,\"scalex\"),e=cfith(e,\"scaley\"),e=cfith(e,\"skewx\"),e=cfith(e,\"skewy\"),e=cfith(e,\"text-decoration\"),e=cfith(e,\"x\"),e=cfith(e,\"xrotate\"),e=cfith(e,\"y\"),e=cfith(e,\"yrotate\"),e=cfith(e,\"z\"),t.updateLayerFormFields(t.selectedLayerSerial),t.updateLayerFromFields()}}),jQuery(\".copy-from-hover\").click(function(){if(confirm(rev_lang.copy_styles_to_hover_from_idle)){var e=t.getCurrentLayer();e[\"2d_rotation\"]=e[\"deformation-hover\"][\"2d_rotation\"],e.static_styles=t.setVal(e.static_styles,\"color\",e[\"deformation-hover\"].color,!1),e=cfhti(e,\"2d_origin_x\"),e=cfhti(e,\"2d_origin_y\"),e=cfhti(e,\"background-color\"),e=cfhti(e,\"background-transparency\"),e=cfhti(e,\"border-color\"),e=cfhti(e,\"border-radius\"),e=cfhti(e,\"border-style\"),e=cfhti(e,\"border-transparency\"),e=cfhti(e,\"border-width\"),e=cfhti(e,\"color-transparency\"),e=cfhti(e,\"opacity\"),e=cfhti(e,\"scalex\"),e=cfhti(e,\"scaley\"),e=cfhti(e,\"skewx\"),e=cfhti(e,\"skewy\"),e=cfhti(e,\"text-decoration\"),e=cfhti(e,\"x\"),e=cfhti(e,\"xrotate\"),e=cfhti(e,\"y\"),e=cfhti(e,\"yrotate\"),e=cfhti(e,\"z\"),t.updateLayerFormFields(t.selectedLayerSerial),t.updateLayerFromFields()}}),jQuery(\"#button_css_reset\").click(function(){var e=t.getCurrentLayer();null!==e&&(t.reset_to_default_static_styles(e),updateSubStyleParameters(e,!0),t.updateLayerFromFields())});var getGridDimension=function(){var e=jQuery(\"#divLayers\"),t=e.offset(),r=jQuery(\"#divLayers-wrapper\").offset();return{top:t.top-r.top,left:t.left-r.left,bottom:t.top-r.top+e.height(),right:t.left-r.left+e.width()}};function edit_content_current_layer(){var e=t.getCurrentLayer();if(null!==e)switch(e.type){case\"text\":case\"button\":t.showHideContentEditor(!0),jQuery(\"#quick-layers-wrapper\").slideUp(300),jQuery(\".current-active-main-toolbar\").removeClass(\"opened\"),jQuery(\"#button_show_all_layer i\").removeClass(\"eg-icon-up\").addClass(\"eg-icon-menu\"),jQuery(\"#layer_text\").focus();break;case\"video\":var r=e.video_data;UniteAdminRev.openVideoDialog(function(e){var r=getVideoObjLayer(e);t.updateCurrentLayer(r),updateHtmlLayersFromObject(t.selectedLayerSerial),t.updateLayerFormFields(t.selectedLayerSerial),redrawLayerHtml(t.selectedLayerSerial),scaleNormalVideo()},r);break;case\"image\":\"objectlibrary\"===e.image_library?(jQuery(\"#dialog_addobj\").data(\"changeimg\",!0),jQuery(\"#dialog_addobj\").data(\"changeimgserial\",e.serial),t.callObjectLibraryDialog(\"object\")):UniteAdminRev.openAddImageDialog(rev_lang.select_layer_image,function(e){var r={};r.image_url=e,t.updateCurrentLayer(r),redrawLayerHtml(t.selectedLayerSerial),t.add_layer_change(),scaleNormal()});break;case\"shape\":break;case\"svg\":jQuery(\"#dialog_addobj\").data(\"changesvg\",!0),jQuery(\"#dialog_addobj\").data(\"changesvgserial\",e.serial),t.callObjectLibraryDialog(\"object\");break;case\"audio\":r=e.video_data;UniteAdminRev.openVideoDialog(function(r){var a=getVideoObjLayer(r);t.updateCurrentLayer(a),updateHtmlLayersFromObject(t.selectedLayerSerial),t.updateLayerFormFields(t.selectedLayerSerial),redrawLayerHtml(t.selectedLayerSerial),u.drawAudioMap(e)},r,\"audio\")}}jQuery(\"body\").on(\"dblclick\",\".layer_selected\",edit_content_current_layer),setTimeout(function(){jQuery(\"#form_slide_params\").find(\"input, select\").on(\"change\",function(){t.set_save_needed(!0)})},500),jQuery(\"body\").on(\"click\",\".button_change_image_source, .button_edit_layer, .button_change_video_settings, .button_reset_size, .button_edit_shape, .button_change_audio_settings, .button_change_svg_settings\",function(){jQuery(\":focus\").blur();var e=jQuery(this),r=e.closest(\".layer-toolbar-li\").data(\"serial\");t.setLayerSelected(r),e.hasClass(\"button_reset_size\")?resetCurrentElementSize():edit_content_current_layer()}),jQuery(\"body\").on(\"click\",\".layer-title-with-icon\",function(){var e=jQuery(this).find(\"input\").is(\":focus\");e||jQuery(\":focus\").blur();var r=jQuery(this).closest(\".layer-toolbar-li\").data(\"serial\");t.setLayerSelected(r,!1,e)}),jQuery(\"#button_edit_layer, #button_change_video_settings,#button_change_image_source\").click(edit_content_current_layer),jQuery(\"body\").on(\"click\",\".button_delete_layer, #button_delete_layer\",function(){jQuery(\":focus\").blur();var e=jQuery(this);if(e.hasClass(\"button-now-disabled\"))return!1;if(e.hasClass(\"button_delete_layer\")){var r=e.closest(\".layer-toolbar-li\").data(\"serial\");t.setLayerSelected(r)}var a=t.getCurrentLayer();if(\"column\"===a.type)return!1;if((\"group\"===a.type||\"row\"===a.type)&&t.getLayersInGroup(a.unique_id).layers.length>0)jQuery(\"#delete-full-group-dialog\").dialog({width:600,open:function(){},buttons:[{text:\"Remove All Layers\",click:function(){var e=t.getLayersInGroup(a.unique_id);jQuery.each(e.layers,function(e,r){t.deleteLayer(r.serial)}),jQuery.each(e.columns,function(e,r){t.deleteLayer(r.serial)}),t.deleteLayer(a.serial),u.organiseGroupsAndLayer(!0),jQuery(this).dialog(\"close\")}},{text:\"Move Layers to Root\",click:function(){var e=t.getLayersInGroup(a.unique_id);jQuery.each(e.layers,function(e,t){t.p_uid=-1}),jQuery.each(e.columns,function(e,r){t.deleteLayer(r.serial)}),t.deleteLayer(a.serial),u.organiseGroupsAndLayer(!0),jQuery(this).dialog(\"close\")}},{text:\"Cancel Action\",click:function(){jQuery(this).dialog(\"close\")}}]});else if(confirm(rev_lang.delete_layer)){if(e.hasClass(\"button_delete_layer\")){r=e.closest(\".layer-toolbar-li\").data(\"serial\");t.setLayerSelected(r)}deleteCurrentLayer(),unselectLayers()}}),t.makeRowSortableDroppable(),jQuery(\"body\").on(\"click\",\".button_duplicate_layer, #button_duplicate_layer\",function(){jQuery(\":focus\").blur();var e=jQuery(this);if(e.hasClass(\"button-now-disabled\"))return!1;if(e.hasClass(\"button_duplicate_layer\")){var r=e.closest(\".layer-toolbar-li\").data(\"serial\");t.setLayerSelected(r)}return duplicateCurrentLayer(),!1}),t.showHideContentEditor(!1),t.changeSlotBGs(),jQuery(\"#hide_layer_content_editor\").click(function(){t.showHideContentEditor(!1)}),jQuery(\"#layer_animation, #layer_endanimation\").change(function(){var e=\"layer_animation\"==jQuery(this).attr(\"id\")?\"in\":\"out\",r=jQuery(this).val(),a=!1;for(var i in initLayerAnims)if(initLayerAnims.hasOwnProperty(i)&&\"custom\"+e+\"-\"+initLayerAnims[i].id==r){switch(e){case\"in\":setNewAnimFromObj(\"start\",initLayerAnims[i].params);break;case\"out\":setNewAnimFromObj(\"end\",initLayerAnims[i].params)}a=!0;break}if(0==a)for(var i in initLayerAnimsDefault)if(initLayerAnimsDefault.hasOwnProperty(i)&&i==r){switch(e){case\"in\":setNewAnimFromObj(\"start\",initLayerAnimsDefault[i].params);break;case\"out\":setNewAnimFromObj(\"end\",initLayerAnimsDefault[i].params)}break}\"out\"==e&&\"auto\"==r&&jQuery(\"#masking-start\")[0].checked&&1==jQuery(\"#masking-start\")[0].checked&&(jQuery(\"#masking-end\").attr(\"checked\",!0),RevSliderSettings.onoffStatus(jQuery(\"#masking-end\")),jQuery(\".mask-end-settings\").show()),t.updateLayerFromFields()}),jQuery(\"#layer_caption\").change(function(){UniteCssEditorRev.checkIfHandleExists(jQuery(this).val())?jQuery(\"#extra_style_settings\").removeClass(\"normal_rename normal_save save_rename save_save\").addClass(\"normal_rename\"):jQuery(\"#extra_style_settings\").removeClass(\"normal_rename normal_save save_rename save_save\").addClass(\"normal_save\")}),jQuery(\".save-current-animin, .save-current-animout\").click(function(){var e=jQuery(this).hasClass(\"save-current-animin\")?\"start\":\"end\",r=\"start\"==e?jQuery('select[name=\"layer_animation\"] option:selected').val():jQuery('select[name=\"layer_endanimation\"] option:selected').val();if(\"custom\"!==r)for(var a in initLayerAnimsDefault)if(initLayerAnimsDefault.hasOwnProperty(a)&&a===r)return alert(rev_lang.cant_modify_default_anims),!1;var i={};if(i.params=createNewAnimObj(e),\"custom\"==r){jQuery(\"#rs-save-under-animation\").val(\"\");var o=t.getCurrentLayer();\"start\"==e&&void 0!==o[\"orig-anim\"]&&jQuery(\"#rs-save-under-animation\").val(o[\"orig-anim\"]),\"end\"==e&&void 0!==o[\"orig-endanim\"]&&jQuery(\"#rs-save-under-animation\").val(o[\"orig-endanim\"]),jQuery(\"#dialog_save_animation\").dialog({modal:!0,width:300,height:200,resizable:!1,dialogClass:\"tpdialogs\",create:function(e){jQuery(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")},buttons:{Save:function(){var t=jQuery(\"#rs-save-under-animation\").val(),r=UniteAdminRev.sanitize_input(t),a=!0;for(var o in initLayerAnimsDefault)if(initLayerAnimsDefault.hasOwnProperty(o)&&initLayerAnimsDefault[o].handle==r)return alert(rev_lang.name_is_default_animations_cant_be_changed),!1;for(var o in initLayerAnims)if(initLayerAnims.hasOwnProperty(o)&&initLayerAnims[o].handle==r){a=\"start\"==e?\"customin\":\"customout\",a+=\"-\"+initLayerAnims[o].id;break}i.handle=r,i.params.type=\"start\"==e?\"customin\":\"customout\",!0===a?(updateAnimInDb(r,i,!1),jQuery(this).dialog(\"close\")):confirm(rev_lang.override_animation)&&(updateAnimInDb(a,i,!0),jQuery(this).dialog(\"close\"))},Cancel:function(){jQuery(this).dialog(\"close\")}}})}else i.params.type=\"start\"==e?\"customin\":\"customout\",confirm(rev_lang.overwrite_animation)&&updateAnimInDb(r,i,!0)}),jQuery(\".save-as-current-animin, .save-as-current-animout\").click(function(){var e=jQuery(this).hasClass(\"save-as-current-animin\")?\"start\":\"end\";jQuery(this).hasClass(\"save-as-current-animin\")?jQuery(\"#layer_animation option:selected\").val():jQuery(\"#layer_endanimation option:selected\").val();currentAnimationType=jQuery(this).hasClass(\"save-as-current-animin\")?\"customin\":\"customout\",jQuery(\"#dialog_save_as_animation\").dialog({modal:!0,width:300,height:200,resizable:!1,dialogClass:\"tpdialogs\",create:function(e){jQuery(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")},buttons:{Save:function(){var t=jQuery(\"#rs-save-as-animation\").val(),r=UniteAdminRev.sanitize_input(t),a=!1,i={};for(var o in initLayerAnimsDefault)if(initLayerAnimsDefault.hasOwnProperty(o)&&o==r){a=!0;break}for(var o in initLayerAnims)if(initLayerAnims.hasOwnProperty(o)&&initLayerAnims[o].handle==r){a=!0;break}if(a)return alert(rev_lang.anim_with_handle_exists),!1;i.params=createNewAnimObj(e),i.handle=r,i.params.type=currentAnimationType,updateAnimInDb(r,i,!1),jQuery(this).dialog(\"close\")},Cancel:function(){jQuery(this).dialog(\"close\")}}})}),jQuery(\".rename-current-animin, .rename-current-animout\").click(function(){var e=jQuery(this).hasClass(\"rename-current-animin\")?jQuery(\"#layer_animation option:selected\").val():jQuery(\"#layer_endanimation option:selected\").val(),t=jQuery(this).hasClass(\"rename-current-animin\")?jQuery(\"#layer_animation option:selected\").text():jQuery(\"#layer_endanimation option:selected\").text();if(\"custom\"!==e)for(var r in initLayerAnimsDefault)if(initLayerAnimsDefault.hasOwnProperty(r)&&r===e)return alert(rev_lang.cant_modify_default_anims),!1;if(\"custom\"==e)return!1;var a=e.replace(\"customin-\",\"\").replace(\"customout-\",\"\");jQuery(\"#rs-rename-animation\").val(t),jQuery(\"#dialog_rename_animation\").dialog({modal:!0,width:300,height:200,resizable:!1,dialogClass:\"tpdialogs\",create:function(e){jQuery(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")},buttons:{Rename:function(){var e=jQuery(\"#rs-rename-animation\").val(),t=UniteAdminRev.sanitize_input(e),r=!1,i=!1;for(var o in initLayerAnimsDefault)if(initLayerAnimsDefault.hasOwnProperty(o)&&o==t){i=!0;break}var s=\"\";for(var o in initLayerAnims)if(initLayerAnims.hasOwnProperty(o)&&(o==t&&(i=!0),initLayerAnims[o].id==a)){r=!0,s=initLayerAnims[o].id;break}return i?(alert(rev_lang.anim_with_handle_exists),!1):r?(renameAnimInDb(s,t),jQuery(this).dialog(\"close\"),!1):void 0},Cancel:function(){jQuery(this).dialog(\"close\")}}})}),jQuery(\"#delete-current-animin, #delete-current-animout\").click(function(){var e=\"delete-current-animin\"==jQuery(this).attr(\"id\")?jQuery(\"#layer_animation\").val():jQuery(\"#layer_endanimation\").val(),t=\"delete-current-animin\"==jQuery(this).attr(\"id\")?jQuery(\"#layer_animation option:selected\").text():jQuery(\"#layer_endanimation option:selected\").text();!(e.indexOf(\"custom\")>-1)||\"custom\"==e?alert(rev_lang.default_animations_cant_delete):confirm(rev_lang.really_delete_anim+' \"'+t+'\"?')&&deleteAnimInDb(e)}),jQuery(\"#add_customanimation_in\").click(function(){currentAnimationType=\"customin\";var e=jQuery(this),t=jQuery(\"#extra_start_animation_settings\"),r=jQuery(\"#extra_end_animation_settings\");\"block\"==t.css(\"display\")?(t.hide(200),e.removeClass(\"selected\")):(t.show(200),e.addClass(\"selected\")),r.hide(200)}),jQuery(\"#add_customanimation_out\").click(function(){currentAnimationType=\"customout\";var e=jQuery(this),t=jQuery(\"#extra_start_animation_settings\"),r=jQuery(\"#extra_end_animation_settings\");\"block\"==r.css(\"display\")?(r.hide(200),e.removeClass(\"selected\")):(r.show(200),e.addClass(\"selected\")),t.hide(200)}),jQuery(\"#reset-current-animin, #reset-current-animout\").click(function(){var e=jQuery(this).hasClass(\"reset-current-animin\")?\"start\":\"end\",r=t.getCurrentLayer();\"start\"==e&&void 0!==r[\"orig-anim-handle\"]&&jQuery('#layer_animation option[value=\"'+r[\"orig-anim-handle\"]+'\"]').attr(\"selected\",!0).change(),\"end\"==e&&void 0!==r[\"orig-endanim-handle\"]&&jQuery('#layer_endanimation option[value=\"'+r[\"orig-endanim-handle\"]+'\"]').attr(\"selected\",!0).change()}),jQuery(\"#button_edit_css, #style-morestyle, .close_extra_settings\").click(function(){var e=jQuery(\"#extra_style_settings\"),t=jQuery(\"#button_edit_css\"),r=jQuery(\"#style-morestyle\");\"block\"==e.css(\"display\")?(e.hide(200),t.removeClass(\"selected\"),r.removeClass(\"showmore\")):(e.show(200),t.addClass(\"selected\"),r.addClass(\"showmore\"))}),jQuery(\".rename-current-css\").click(function(){jQuery(\"#rs-rename-css\").val(jQuery(\"#layer_caption\").val()),jQuery(\"#dialog_rename_css\").dialog({modal:!0,resizable:!1,width:400,closeOnEscape:!0,dialogClass:\"tpdialogs\",create:function(e){jQuery(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")},buttons:{Rename:function(){jQuery(\"#rs-rename-css\").val(UniteAdminRev.sanitize_input(jQuery(\"#rs-rename-css\").val()));var e=jQuery(\"#rs-rename-css\").val();if(\"\"!=e){var t=jQuery(\"#layer_caption\").val(),r=UniteCssEditorRev.checkIfHandleExists(e);if(!1===UniteCssEditorRev.checkIfHandleExists(t))return alert(rev_lang.css_orig_name_does_not_exists),!1;if(!1!==r||t==e)return alert(rev_lang.css_name_already_exists),!1;UniteCssEditorRev.renameStylesInDb(t,e)}}}})}),jQuery(\".save-as-current-css\").click(function(){jQuery(\"#rs-save-as-css\").val(jQuery(\"#layer_caption\").val()),jQuery(\"#dialog_save_as_css\").dialog({modal:!0,resizable:!1,width:400,closeOnEscape:!0,dialogClass:\"tpdialogs\",create:function(e){jQuery(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")},buttons:{Save:function(){jQuery(\"#rs-save-as-css\").val(UniteAdminRev.sanitize_input(jQuery(\"#rs-save-as-css\").val()));var e=jQuery(\"#rs-save-as-css\").val();if(\"\"!=e){if(!1!==UniteCssEditorRev.checkIfHandleExists(e))return alert(rev_lang.css_name_already_exists),!1;UniteCssEditorRev.saveStylesInDb(e,!0,jQuery(\"#dialog_save_as_css\"))}}}})}),jQuery(\".delete-current-css\").click(function(){if(!1===confirm(rev_lang.delete_this_caption))return!1;var e=jQuery(\"#layer_caption\").val(),t=UniteCssEditorRev.checkIfHandleExists(e);if(!1===t)return alert(rev_lang.css_name_does_not_exists),!1;UniteCssEditorRev.deleteStylesInDb(e,t)}),jQuery(\".save-current-css\").click(function(){if(confirm(rev_lang.this_will_change_the_class)){var e=jQuery(\"#layer_caption\").val();!1!==UniteCssEditorRev.checkIfHandleExists(e)?UniteCssEditorRev.saveStylesInDb(e,!1):UniteCssEditorRev.saveStylesInDb(e,!0)}}),jQuery(\".reset-current-css\").click(function(){jQuery('input[name=\"rs-css-set-on[]\"]').each(function(){jQuery(this).attr(\"checked\",!0)}),jQuery('input[name=\"rs-css-include[]\"]').each(function(){jQuery(this).attr(\"checked\",!0)});var e=t.getCurrentLayer();void 0!==e.style&&jQuery(\"#dialog-change-style-from-css\").dialog({buttons:{OK:function(){var r=!1,a={device:[],include:[]};if(jQuery('input[name=\"rs-css-set-on[]\"]').each(function(){jQuery(this)[0].checked&&(r=!0,a.device.push(jQuery(this).val()))}),jQuery('input[name=\"rs-css-include[]\"]').each(function(){jQuery(this)[0].checked&&a.include.push(jQuery(this).val())}),!r)return alert(rev_lang.select_at_least_one_device_type),!0;e.style=jQuery(\"#layer_caption\").val(),t.reset_to_default_static_styles(e,a.include,a.device),updateSubStyleParameters(e,!0),jQuery(\"#layer_caption\").change(),t.updateLayerFromFields(),jQuery(\"#dialog-change-style-from-css\").dialog(\"close\")},Close:function(){jQuery(\"#dialog-change-style-from-css\").dialog(\"close\")}},minWidth:275,minHeight:365,modal:!0,dialogClass:\"tpdialogs\",create:function(e){jQuery(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")},close:function(e,t){},open:function(){jQuery(\".rs-style-device_input\").each(function(){var e=jQuery(this);\"checked\"===e.attr(\"checked\")?e.siblings(\".rs-style-device_selector_prev\").addClass(\"selected\"):e.siblings(\".rs-style-device_selector_prev\").removeClass(\"selected\")})}})}),jQuery(\"body\").on(\"click change\",\".rs-style-device_input\",function(){var e=jQuery(this);\"checked\"===e.attr(\"checked\")?e.siblings(\".rs-style-device_selector_prev\").addClass(\"selected\"):e.siblings(\".rs-style-device_selector_prev\").removeClass(\"selected\")}),jQuery(\".rs-layer-animation-settings-tabs li, .rs-layer-settings-tabs li\").click(function(){var e=jQuery(this),t=e.closest(\"ul\").find(\".selected\");jQuery(t.data(\"content\")).hide(0),t.removeClass(\"selected\"),e.addClass(\"selected\"),jQuery(e.data(\"content\")).show(0),e.data(\"content\")}),jQuery(\"body\").on(\"mousemove\",\"#thelayer-editor-wrapper\",function(e){jQuery(\"#verlinie,#horlinie,#verlinetext,#horlinetext\").css({visibility:\"visible\"});var t=e.pageX-jQuery(this).offset().left,r=e.pageY-jQuery(this).offset().top,a=jQuery(\"#divLayers\"),i=parseInt(a.offset().left,0)-parseInt(jQuery(\"#thelayer-editor-wrapper\").offset().left,0);jQuery(\"#verlinie\").css({left:t+\"px\"}),jQuery(\"#horlinie\").css({top:r+\"px\"}),jQuery(\"#verlinetext\").html(Math.round(t-i)),jQuery(\"#horlinetext\").html(Math.round(r-90)),jQuery(\"#hor-css-linear .helplines-offsetcontainer\").data(\"x\",e.pageX-jQuery(\"#hor-css-linear .helplines-offsetcontainer\").offset().left),jQuery(\"#hor-css-linear .helplines-offsetcontainer\").data(\"y\",r)}),jQuery(\"body\").on(\"mouseout\",\"#thelayer-editor-wrapper\",function(e){jQuery(\"#verlinie,#horlinie,#verlinetext,#horlinetext\").css({visibility:\"hidden\"})}),jQuery(\"#hor-css-linear, #ver-css-linear, #verlinie, #horlinie\").click(function(){var e=jQuery(\"#hor-css-linear .helplines-offsetcontainer\"),t=jQuery(\"#ver-css-linear .helplines-offsetcontainer\"),r=e.data(\"x\"),a=e.data(\"y\")-40,i=jQuery(\"#thelayer-editor-wrapper\").outerHeight(!0),o=jQuery(\"#thelayer-editor-wrapper\").outerWidth(!0);jQuery(\"#helpergrid\").remove(),jQuery(\"#rs-grid-sizes\").val(\"custom\"),punchgs.TweenLite.to(e,.3,{autoAlpha:1}),punchgs.TweenLite.to(t,.3,{autoAlpha:1}),a<40&&r>0&&e.append('<div class=\"helplines\" data-left=\"'+r+'\" data-top=\"'+a+'\" style=\"position:absolute;width:1px;height:'+(i-41)+\"px;background:#4AFFFF;left:\"+r+'px;top:-15px\"><i class=\"helpline-drag eg-icon-move\"></i><i class=\"helpline-remove eg-icon-cancel\"></i></div>'),r<40&&a>0&&t.append('<div class=\"helplines\" data-left=\"'+r+'\" data-top=\"'+a+'\"  style=\"position:absolute;width:'+(o-35)+\"px;height:1px;background:#4AFFFF;top:\"+a+'px;left:-15px\"><i class=\"helpline-drag eg-icon-move\"></i><i class=\"helpline-remove eg-icon-cancel\"></i></div>');try{e.find(\".helplines\").draggable(\"destroy\")}catch(e){}try{t.find(\".helplines\").draggable(\"destroy\")}catch(e){}e.find(\".helplines\").draggable({handle:\".helpline-drag\",axis:\"x\"}),t.find(\".helplines\").draggable({handle:\".helpline-drag\",axis:\"y\"})}),jQuery(\"body\").on(\"click\",\".helpline-remove\",function(){jQuery(this).parent().remove()}),jQuery(\".extra_sub_settings_wrapper\").addClass(\"normal_rename\"),jQuery(\"#extra_start_animation_settings input, #extra_end_animation_settings input\").change(function(){if(\"new_start_animation_name\"===jQuery(this).attr(\"id\")||\"new_end_animation_name\"===jQuery(this).attr(\"id\"))return!1;var e=jQuery(\"customin\"==currentAnimationType?\"#layer_animation\":\"#layer_endanimation\");\"customin\"==currentAnimationType?jQuery(this).closest(\".extra_start_animation_settings\").removeClass(\"normal_rename normal_save save_rename save_save\").addClass(\"normal_save\"):jQuery(this).closest(\".extra_end_animation_settings\").removeClass(\"normal_rename normal_save save_rename save_save\").addClass(\"normal_save\");var r=e.find(\"option:selected\").text(),a=e.find(\"option:selected\").val();\"custom\"!==e.find(\"option:selected\").val()&&(e.find('option[value=\"custom\"]').attr(\"selected\",!0).change(),\"customin\"==currentAnimationType?t.updateCurrentLayer({animation:\"custom\",\"orig-anim\":r,\"orig-anim-handle\":a}):t.updateCurrentLayer({endanimation:\"custom\",\"orig-endanim\":r,\"orig-endanim-handle\":a}))}),jQuery(\"#extra_style_settings input, #extra_style_settings select\").change(function(){if(\"overwrite_style_name\"===jQuery(this).attr(\"id\")||\"new_style_name\"===jQuery(this).attr(\"id\"))return!1;jQuery(\"#extra_style_settings\").removeClass(\"normal_rename normal_save save_rename save_save\").addClass(\"normal_save\")}),jQuery('input[name=\"background_type\"], #slide_bg_fit, input[name=\"bg_fit_x\"], input[name=\"bg_fit_y\"], #slide_bg_position,input[name=\"bg_position_x\"],input[name=\"bg_position_y\"],#slide_bg_repeat ').change(function(){t.changeSlotBGs()}),jQuery(\"body\").on(\"blur\",\".timer-layer-text\",function(){t.updateLayerFromFields()}),jQuery(\"#the_current-editing-layer-title\").on(\"blur\",function(){jQuery(\"#layer_sort_\"+t.selectedLayerSerial+\">.layer_sort_inner_wrapper .timer-layer-text\").val(jQuery(this).val()),t.updateLayerFromFields()}),jQuery(\"body\").on(\"blur\",\".layer-title-in-list\",function(){var e=jQuery(this).closest(\"li\").data(\"serial\");if(void 0===e||\"\"===e)return!1;jQuery(\"#layer_sort_\"+e+\" >.layer_sort_inner_wrapper .timer-layer-text\").val(jQuery(this).val());jQuery(this).val(),t.updateLayerFromFields()}),jQuery(\"body\").on(\"click\",\".quick-layer-lock\",function(){var e=jQuery(this),r=(e.find(\"i\"),e.closest(\".layer-toolbar-li\").data(\"serial\")),a=t.getHtmlLayerFromSerial(r);if(void 0===r||\"\"===r)return!1;u.isLayerLocked(a)?(u.unlockLayer(r),jQuery(\".layer-toolbar-li\").each(function(){var e=jQuery(this);if(e.data(\"serial\")==r){var t=e.find(\".quick-layer-lock\"),a=t.find(\"i\");t.addClass(\"in-on\").removeClass(\"in-off\"),a.removeClass(\"eg-icon-lock\").addClass(\"eg-icon-lock-open\")}})):(u.lockLayer(r),jQuery(\".layer-toolbar-li\").each(function(){var e=jQuery(this);if(e.data(\"serial\")==r){var t=e.find(\".quick-layer-lock\"),a=t.find(\"i\");t.addClass(\"in-off\").removeClass(\"in-on\"),a.removeClass(\"eg-icon-lock-open\").addClass(\"eg-icon-lock\")}}))}),jQuery(\"body\").on(\"click\",\".quick-layer-view\",function(){var e=jQuery(this).closest(\".layer-toolbar-li\").data(\"serial\");if(void 0===e||\"\"===e)return!1;var r=t.getLayer(e);u.isLayerVisible(r.references.htmlLayer)?(r.visible=!1,u.hideLayer(r),jQuery(\".layer-toolbar-li\").each(function(){var t=jQuery(this);if(t.data(\"serial\")==e){var r=t.find(\".quick-layer-view\"),a=r.find(\"i\");r.addClass(\"in-off\").removeClass(\"in-on\"),a.removeClass(\"eg-icon-eye\").addClass(\"eg-icon-eye-off\")}})):(r.visible=!0,u.showLayer(r),jQuery(\".layer-toolbar-li\").each(function(){var t=jQuery(this);if(t.data(\"serial\")==e){var r=t.find(\".quick-layer-view\"),a=r.find(\"i\");r.addClass(\"in-on\").removeClass(\"in-off\"),a.removeClass(\"eg-icon-eye-off\").addClass(\"eg-icon-eye\")}}))}),jQuery(\".rs-row-break-selector\").click(function(){var e=jQuery(this);jQuery(\".rs-row-break-selector.selected\").removeClass(\"selected\"),e.addClass(\"selected\"),jQuery(\"#column_break_at option:selected\").prop(\"selected\",!1),jQuery('#column_break_at option[value=\"'+e.data(\"val\")+'\"]').attr(\"selected\",\"selected\");var r={};r.column_break_at=e.data(\"val\"),t.updateLayer(t.selectedLayerSerial,r,!1,!0)}),jQuery(\"#rs-check-row-layout\").click(function(){var row_layer=t.getCurrentLayer();if(\"row\"!==row_layer.type)return!1;var rl=jQuery('input[name=\"rs-row-layout\"]').val(),rl_san=rl.replace(/[^\\d\\+\\/ ]/gi,\"\");if(jQuery('input[name=\"rs-row-layout\"]').val(rl_san),rl!==rl_san)return alert(\"Wrong format, please enter for example 1/2 + 1/4 + 1/4\"),!1;var result=eval(rl_san);if(result=Math.ceil(1e14*result)/1e14,1!==result)return alert(\"The columns have to be added up to 1, so for example 1/2 + 1/8 is lower than 1\"),!1;t.ignorAllUndoRedoLogs=!0;var columns_f=rl_san.split(\"+\"),columns=new Array,undeleted_columns=new Array,deleted_columns=new Array;if(jQuery.each(t.arrLayers,function(e,t){\"column\"===t.type&&t.p_uid==row_layer.unique_id&&(columns.push(t),!0!==t.deleted&&undeleted_columns.push(t),!0===t.deleted&&deleted_columns.push(t))}),columns_f.length>undeleted_columns.length){for(var availablecolumns=0,i=columns.length;i<columns_f.length;i++){var c_objLayer={type:\"column\",text:initColumnName+(id_counter+1),p_uid:row_layer.unique_id,column_size:columns_f[i],createdOnInit:!1};addLayer(c_objLayer),availablecolumns++}for(var i=0;i<deleted_columns.length;i++){if(availablecolumns<columns_f.length-1){var objData={deleted:!1};t.updateLayer(deleted_columns[i].serial,objData,!1,!0),deleted_columns[i].deleted=!1,deleted_columns[i].references.htmlLayer.removeClass(\"layer-deleted\"),deleted_columns[i].references.quicklayer.removeClass(\"layer-deleted\"),deleted_columns[i].references.sorttable.layer.removeClass(\"layer-deleted\"),deleted_columns[i].references.sorttable.timeline.removeClass(\"layer-deleted\")}availablecolumns++}}else if(columns_f.length<undeleted_columns.length)for(var i=undeleted_columns.length;i>columns_f.length;i--){var highest=0,second=0;jQuery.each(undeleted_columns,function(e,t){null!=t&&t.unique_id>highest&&!1===t.deleted&&(second=highest,highest=t.unique_id)}),jQuery.each(t.arrLayers,function(e,r){r.p_uid===highest&&(r.p_uid=second),r.unique_id===highest&&t.deleteLayer(r.serial)})}var i=0;jQuery.each(t.arrLayers,function(e,t){t.p_uid==row_layer.unique_id&&!1===t.deleted&&i<columns_f.length&&(t.column_size=columns_f[i],i++)}),t.ignorAllUndoRedoLogs=!1,u.organiseGroupsAndLayer(u),u.allLayerToIdle(),t.makeRowSortableDroppable(),t.setLayerSelected(row_layer.serial),row_layer.references.htmlLayer.find(\".row_editor\").addClass(\"open_re\"),jQuery(\"#rs-layout-row-composer\").show(),u.timeLineTableDimensionUpdate(),t.hideRowLayoutComposer()}),jQuery(\"#button_change_background_image, #button_change_background_image_objlib\").click(function(){var e=t.getCurrentLayer();null!==e&&(\"button_change_background_image_objlib\"==jQuery(this).attr(\"id\")?(e.image_library=\"objectlibrary\",jQuery(\"#dialog_addobj\").data(\"changeimg\",!0),jQuery(\"#dialog_addobj\").data(\"changeimgserial\",e.serial),t.callObjectLibraryDialog(\"layer\")):(delete e.image_library,UniteAdminRev.openAddImageDialog(rev_lang.select_layer_image,function(e){switchLayerBackground({bgimage_url:e})})))}),jQuery(\"#button_clear_background_image\").click(function(){switchLayerBackground({bgimage_url:\"\"})}),t.sortFontTypesByUsage(),t.cloneArrLayers(),cm.init(t,tpLayerTimelinesRev)},t.extendSlideHeightBasedOnRows=function(){var e=0;\"undefined\"!=typeof rev_sizes&&void 0!==rev_sizes&&(jQuery(\".row-zone-container\").each(function(){var t=jQuery(this);t.hasClass(\"emptyzone\")||(e+=t.height())}),e=e<rev_sizes[layout][1]?rev_sizes[layout][1]:e,jQuery(\".tp-bgimg.defaultimg, #divLayers\").each(function(){var t=jQuery(this);jQuery(this).hasClass(\"slide-transition-example\")||t.css({height:e})}),__slidertype,jQuery(\"#divbgholder\").css({minHeight:e,height:e}),jQuery(\"#divLayers-wrapper\").css(\"height\",e+1))},t.getLayersInGroup=function(e){var r={layers:[],columns:[]};return jQuery.each(t.arrLayers,function(t,a){a.p_uid===e&&\"column\"===a.type&&r.columns.push(a)}),jQuery.each(t.arrLayers,function(t,a){a.p_uid===e&&\"column\"!==a.type&&r.layers.push(a);for(var i=0;i<r.columns.length;i++)r.columns[i].unique_id===a.p_uid&&r.layers.push(a)}),r},t.getHighestGroupOrder=function(e){var r=0;for(key in t.arrLayers)if(t.arrLayers.hasOwnProperty(key)){var a=t.arrLayers[key];\"row\"===a.type&&t.getVal(a,\"align_vert\")===e&&r<=a.groupOrder&&(r=a.groupOrder+1)}return r},t.makeRowSortableDroppable=function(){jQuery(\"#divLayers, .tp_layer_group_inner_wrapper .slide_layer_type_column, .slide_layer_type_group .tp_layer_group_inner_wrapper\").droppable({refreshPositions:!0,tolerance:\"pointer\",accept:\".slide_layer_type_text, .slide_layer_type_image, .slide_layer_type_video, .slide_layer_type_shape, .slide_layer_type_audio, .slide_layer_type_svg, .slide_layer_type_button\",over:function(e,t){var r=jQuery(e.target);jQuery(\".slide_layer_type_column, .slide_layer_type_row, .slide_layer_type_group\").removeClass(\"layer_selected\").removeClass(\"layerchild_selected\"),\"divLayers\"!==r[0].id&&(punchgs.TweenLite.set(r,{zIndex:0}),r.addClass(\"layer_selected\").addClass(\"layerchild_selected\")),e.target.id,r.closest(\".slide_layer_type_row, .slide_layer_type_group\").addClass(\"layer_selected\"),r.closest(\".row-zone-container\").addClass(\"layerrow_selected\")},out:function(e,t){var r=jQuery(e.target);punchgs.TweenLite.set(r,{zIndex:1}),\"divLayers\"!==r[0].id&&r.removeClass(\"layer_selected\").removeClass(\"layerchild_selected\"),r.closest(\".layer_selected\").removeClass(\"layer_selected\").removeClass(\"layerchild_selected\"),r.find(\".layer_selected\").removeClass(\"layer_selected\").removeClass(\"layerchild_selected\"),r.closest(\".row-zone-container\").removeClass(\"layerrow_selected\"),jQuery(t.draggable).addClass(\"layer_selected\")},drop:function(e,r){jQuery(r.draggable).data(\"dropin\",jQuery(e.target)),t.setMiddleRowZone(100),t.checkRowZoneContents(),jQuery(\".row-zone-container\").removeClass(\"nowyouseeme\"),jQuery(\".row-zone-container\").removeClass(\"layerrow_selected\")}}),jQuery(\"#row-zone-top, #row-zone-middle, #row-zone-bottom\").sortable({refreshPositions:!0,handle:\".row_moveme\",start:function(e,t){t.placeholder.html(t.item.html()),jQuery(\".row-zone-container\").addClass(\"nowyouseeme\"),jQuery(\".row-zone-container\").addClass(\"layerrow_selected\")},stop:function(e,r){jQuery(\".row-zone-container\").removeClass(\"nowyouseeme\"),jQuery(\".row-zone-container\").removeClass(\"layerrow_selected\"),t.setRowZoneOrders(),u.organiseGroupsAndLayer()},update:function(e,r){var a=t.getLayer(t.selectedLayerSerial);switch(r.item[0].parentNode.id){case\"row-zone-top\":a=t.setVal(a,\"align_vert\",\"top\",!0);break;case\"row-zone-middle\":a=t.setVal(a,\"align_vert\",\"middle\",!0);break;case\"row-zone-bottom\":a=t.setVal(a,\"align_vert\",\"bottom\",!0)}t.setRowZoneOrders(),u.organiseGroupsAndLayer(),t.updateLayerFormFields(a.serial),t.setMiddleRowZone(100),t.checkRowZoneContents()},sort:function(e,t){}}),jQuery(\".slide_layer_type_column .tp_layer_group_inner_wrapper\").sortable({refreshPositions:!0,placeholder:\"layer_placeholder_in_column\",start:function(e,t){jQuery(\".slide_layer_type_column, .slide_layer_type_row\").removeClass(\"layer_selected\").removeClass(\"layerchild_selected\"),jQuery(\".row-zone-container\").removeClass(\"layerrow_selected\"),t.placeholder.html(t.item.html());var r=t.placeholder.find(\".innerslide_layer>img\");r.length>0&&r.css({width:t.item.width(),height:t.item.height()})},items:\"> .slide_layer_type_text, > .slide_layer_type_image, > .slide_layer_type_video, > .slide_layer_type_shape, > .slide_layer_type_audio, > .slide_layer_type_svg, > .slide_layer_type_button\",cancel:\".slide_layer_type_row, .slide_layer_type_column, .slide_layer_type_group\",update:function(e,r){t.setInnerGroupOrders(jQuery(r.item[0].parentNode)),t.setMiddleRowZone(100)},sort:function(e,t){var r=jQuery(e.target);r.closest(\".slide_layer_type_column\").addClass(\"layer_selected\").addClass(\"layerchild_selected\"),r.closest(\".slide_layer_type_row\").addClass(\"layer_selected\")}})},t.setRowZoneOrders=function(){t.setInnerGroupOrders(jQuery(\"#row-zone-top\")),t.setInnerGroupOrders(jQuery(\"#row-zone-middle\")),t.setInnerGroupOrders(jQuery(\"#row-zone-bottom\"))},t.setInnerGroupOrders=function(e){for(var r=e.sortable(\"toArray\",{attribute:\"data-uniqueid\"}),a=0;a<r.length;a++){var i={groupOrder:a};t.updateLayer(t.getLayerByUniqueId(r[a]).serial,i,!1,!0)}},t.droppedContainerCheck=function(e){var r,a=e.references.htmlLayer,i=a.data(\"dropin\");if(\"row\"===e.type||\"column\"===e.type||\"group\"===e.type);else if(null!=i&&i[0].classList.contains(\"tp_layer_group_inner_wrapper\"))if(i[0].contains(a[0]))r=e.p_uid;else{e=t.setVal(e,\"align_hor\",\"left\"),e=t.setVal(e,\"align_vert\",\"top\");var o=a.position(),s={left:0,top:0},n={left:0,top:0};a.data(\"originalPosition\");if(-1!=e.p_uid)if(\"column\"===(_=t.getLayerByUniqueId(e.p_uid)).type||\"group\"===_.type){s=_.references.htmlLayer.position();var l=_.references.htmlLayer.closest(\".row-zone-container\");(n=void 0===l||0==l.length?{left:0,top:0}:l.position()).top+=void 0===l||0==l.length?0:parseInt(l.css(\"marginTop\"),0)}i[0].appendChild(a[0]),r=a.closest(\".slide_layer_type_group\").data(\"uniqueid\");var d=t.getLayerByUniqueId(r);a.width(),a.height();e.p_uid=r,jQuery.each(d.left,function(t,r){void 0!==e.top&&void 0!==d.top&&void 0!==d.top[t]&&(\"right\"===d.align_hor[t]?void 0!==rev_sizes?newl=Math.round(o.left+s.left-(rev_sizes[t][0]-(parseInt(d.left[t],0)+parseInt(d.max_width[t],0)))):newl=Math.round(o.left+s.left-(jQuery(\"#divLayers\").width()-parseInt(d.left[t],0))):newl=Math.round(o.left+s.left-parseInt(d.left[t],0)),\"bottom\"===d.align_vert[t]?void 0!==rev_sizes?newt=Math.round(o.top+s.top+n.top-(rev_sizes[t][1]-(parseInt(d.top[t],0)+parseInt(d.max_height[t],0)))):newt=Math.round(o.top+s.top+n.top-(jQuery(\"#divLayers\").height()-parseInt(d.top[t],0))):newt=Math.round(o.top+s.top+n.top-parseInt(d.top[t],0)),e.left[t]=_?newl:newl-1,e.top[t]=_?newt:newt-1)}),t.updateHtmlLayerPosition(!1,e,t.getVal(e,\"top\"),t.getVal(e,\"left\"),t.getVal(e,\"align_hor\"),t.getVal(e,\"align_vert\")),u.organiseGroupsAndLayer(!1),d.references.htmlLayer.addClass(\"inwork\"),jQuery(\"#focusongroup\").addClass(\"inwork\")}else if(null!=i&&i[0].classList.contains(\"slide_layer_type_column\")){i[0].getElementsByClassName(\"tp_layer_group_inner_wrapper\")[0].contains(a[0])||i[0].getElementsByClassName(\"tp_layer_group_inner_wrapper\")[0].appendChild(a[0]),r=a.closest(\".slide_layer_type_column\").data(\"uniqueid\"),\"column\"!==(_=t.getLayerByUniqueId(e.p_uid)).type&&\"group\"!==_.type&&(e=t.setVal(e,\"whitespace\",\"normal\")),e.p_uid=r,u.organiseGroupsAndLayer(!1);t.getVal(e,\"align_hor\"),t.getVal(e,\"align_vert\");if(\"left\",\"top\",e=t.setVal(e,\"align_hor\",\"left\"),\"text\"===(e=t.setVal(e,\"align_vert\",\"top\")).type&&(e=t.setVal(e,\"max_height\",\"auto\",!0)),\"shape\"===e.type){var y=jQuery(\"#layer_cover_mode option:selected\").val();if(\"fullheight\"===y||\"cover\"===y||\"cover-proportional\"===y){jQuery(\"#layer_cover_mode option:selected\").prop(\"selected\",!1);var c={};\"fullheight\"===y?(jQuery('#layer_cover_mode option[value=\"custom\"]').attr(\"selected\",\"selected\"),c=t.setVal(c,\"cover_mode\",\"custom\",!0)):(jQuery('#layer_cover_mode option[value=\"fullwidth\"]').attr(\"selected\",\"selected\"),c=t.setVal(c,\"cover_mode\",\"fullwidth\",!0)),t.updateLayer(e.serial,c),t.set_cover_mode()}}setTimeout(function(){t.extendSlideHeightBasedOnRows()},100),unselectAllFocusedGroup()}else if(null!=i&&\"divLayers\"===i[0].id&&\"divLayers\"!==a[0].parentNode.id){o=a.position();var _,m=null!=(d=t.getLayerByUniqueId(e.p_uid))&&null!=d.references&&null!=d.references.htmlLayer?d.references.htmlLayer.position():{top:0,left:0},p=(n={left:0,top:0},{left:0,top:0});if(e=t.setVal(e,\"align_hor\",\"left\"),-1!=(e=t.setVal(e,\"align_vert\",\"top\")).p_uid)if(\"column\"===(_=t.getLayerByUniqueId(e.p_uid)).type){s=_.references.htmlLayer.position();l=_.references.htmlLayer.closest(\".row-zone-container\");var v=_.references.htmlLayer.closest(\".slide_layer_type_row\");p=void 0===v||0==p.length?{left:0,top:0}:v.position(),(n=void 0===l||0==l.length?{left:0,top:0}:l.position()).top+=void 0===l||0==l.length?0:parseInt(l.css(\"marginTop\"),0),p.top+=void 0===v||0==v.length?0:parseInt(v.css(\"marginTop\"),0)}e.p_uid=-1,document.getElementById(\"divLayers\").appendChild(a[0]),jQuery.each(e.left,function(t,r){e.left[t]=Math.round(o.left+1+m.left+n.left+p.left),e.top[t]=Math.round(o.top+1+m.top+n.top+p.top)}),t.updateHtmlLayerPosition(!1,e,t.getVal(e,\"top\"),t.getVal(e,\"left\"),\"left\",\"top\"),u.organiseGroupsAndLayer(!1),unselectAllFocusedGroup()}t.setMiddleRowZone(),t.resetLayerSelected(e)},t.checkRowZoneContents=function(){jQuery(\".row-zone-container\").each(function(){0===this.children.length?jQuery(this).addClass(\"emptyzone\"):jQuery(this).removeClass(\"emptyzone\")})},t.setMiddleRowZone=function(e){e=void 0===e?0:e,setTimeout(function(){var e=document.getElementById(\"row-zone-middle\");e.style.marginTop=0-jQuery(e).height()/2+\"px\"},e)},t.showHideToggleContent=function(e){!0===e.toggle?jQuery(\"#layer_text_wrapper\").addClass(\"withtoggle\"):jQuery(\"#layer_text_wrapper\").removeClass(\"withtoggle\")},t.showHideContentEditor=function(e){e?(jQuery(\"#button_edit_layer\").hide(),jQuery(\"#button_delete_layer\").hide(),jQuery(\"#button_duplicate_layer\").hide(),jQuery(\"#tp-addiconbutton\").show(),jQuery(\"#hide_layer_content_editor\").show(),jQuery(\"#linkInsertTemplate\").show(),jQuery(\"#layer_text_wrapper\").show(),jQuery(\"#button_reset_size\").hide(),jQuery(\"#button_change_video_settings\").hide(),jQuery(\"#layer_text_wrapper\").addClass(\"currently_editing_txt\"),jQuery(\"#layer-short-tool-placeholder-a\").hide(),jQuery(\"#layer-short-tool-placeholder-b\").hide()):(jQuery(\"#layer-short-tool-placeholder-a\").show(),jQuery(\"#layer-short-tool-placeholder-b\").show(),jQuery(\"#button_edit_layer\").hide(),jQuery(\"#button_change_image_source\").hide(),jQuery(\"#button_delete_layer\").show(),jQuery(\"#button_duplicate_layer\").show(),jQuery(\"#tp-addiconbutton\").hide(),jQuery(\"#hide_layer_content_editor\").hide(),jQuery(\"#linkInsertTemplate\").hide(),jQuery(\"#button_reset_size\").hide(),jQuery(\"#button_change_video_settings\").hide(),jQuery(\"#layer_text_wrapper\").hide(),jQuery(\"#layer_text_wrapper\").removeClass(\"currently_editing_txt\"));var r=-1===t.selectedLayerSerial?\"\":t.getLayer(t.selectedLayerSerial);t.toolbarInPos(r),t.showHideToggleContent(r)},t.changeSlotBGs=function(){var e=jQuery(\"#divbgholder\").find(\".slotholder\"),r=jQuery(\"#image_url\").val(),a=\"percentage\"==jQuery(\"#slide_bg_position\").val()?jQuery(\"input[name='bg_position_x']\").val()+\"% \"+jQuery(\"input[name='bg_position_y']\").val()+\"% \":jQuery(\"#slide_bg_position\").val(),i=\"percentage\"==jQuery(\"#slide_bg_fit\").val()?jQuery(\"input[name='bg_fit_x']\").val()+\"% \"+jQuery(\"input[name='bg_fit_y']\").val()+\"% \":jQuery(\"#slide_bg_fit\").val(),o=window.RevColor.get(jQuery(\"#slide_bg_color\").val());gallery_type=jQuery('input[name=\"rs-gallery-type\"]').val(),jQuery(\"#the_image_source_url\").html(r),jQuery(\"#video-settings\").hide(),jQuery(\"#bg-setting-wrap\").show(),jQuery(\"#vid-rev-youtube-options\").hide(),jQuery(\"#vid-rev-vimeo-options\").hide(),jQuery(\"#streamvideo_cover\").hide(),jQuery(\"#streamvideo_cover_both\").hide(),jQuery(\"#button_change_image\").show(),jQuery(\"#button_change_image_objlib\").show(),jQuery(\".video_volume_wrapper\").hide(),jQuery(\"#slide_selector .list_slide_links li.selected .slide-media-container \").removeClass(\"mini-transparent\").css({backgroundSize:\"cover\"});var s=jQuery('input[name=\"background_type\"]:checked').data(\"bgtype\");switch(s){case\"image\":switch(jQuery(\"#button_change_image\").hide(),jQuery(\"#button_change_image_objlib\").hide(),gallery_type){case\"gallery\":jQuery(\"#button_change_image\").show(),jQuery(\"#button_change_image_objlib\").show();break;case\"posts\":r=rs_plugin_url+\"public/assets/assets/sources/post.png\";break;case\"woocommerce\":r=rs_plugin_url+\"public/assets/assets/sources/wc.png\";break;case\"facebook\":r=rs_plugin_url+\"public/assets/assets/sources/fb.png\";break;case\"twitter\":r=rs_plugin_url+\"public/assets/assets/sources/tw.png\";break;case\"instagram\":r=rs_plugin_url+\"public/assets/assets/sources/ig.png\";break;case\"flickr\":r=rs_plugin_url+\"public/assets/assets/sources/fr.png\";break;case\"youtube\":r=rs_plugin_url+\"public/assets/assets/sources/yt.png\";break;case\"vimeo\":r=rs_plugin_url+\"public/assets/assets/sources/vm.png\"}jQuery(\".mainbg-sub-kenburns-selector\").show(),jQuery(\".mainbg-sub-parallax-selector\").show(),jQuery(\".mainbg-sub-settings-selector\").show(),jQuery(\"#button_change_image\").appendTo(jQuery(\"#tp-bgimagewpsrc\")),jQuery(\"#button_change_image_objlib\").appendTo(jQuery(\"#tp-bgimagewpsrc\")),e.find(\".defaultimg, .slotslidebg\").css({backgroundImage:\"url(\"+r+\")\",backgroundPosition:a,backgroundSize:i,backgroundColor:\"transparent\"}),jQuery(\"#ken_burn_slot_example\").css({backgroundImage:\"url(\"+r+\")\",backgroundPosition:a,backgroundSize:i,backgroundColor:\"transparent\"}).data(\"src\",r),t.updateKenBurnExampleValues();break;case\"trans\":jQuery(\"#slide_selector .list_slide_links li.selected .slide-media-container \").css(\"background-image\",\"\").css(\"background-repeat\",\"\").addClass(\"mini-transparent\").css({backgroundSize:\"inherit\"}),e.find(\".defaultimg, .slotslidebg\").css({backgroundImage:\"none\",backgroundPosition:a,backgroundSize:i,backgroundColor:\"transparent\"}),jQuery(\".mainbg-sub-kenburns-selector\").hide(),jQuery(\".mainbg-sub-parallax-selector\").hide(),jQuery(\".mainbg-sub-settings-selector\").hide();break;case\"solid\":e.find(\".defaultimg, .slotslidebg\").css({backgroundImage:\"none\",backgroundPosition:a,backgroundSize:i,backgroundColor:o}),jQuery(\".mainbg-sub-kenburns-selector\").hide(),jQuery(\".mainbg-sub-parallax-selector\").hide(),jQuery(\".mainbg-sub-settings-selector\").hide(),jQuery(\"#slide_selector .list_slide_links li.selected .slide-media-container \").css({backgroundImage:\"none\",backgroundPosition:a,backgroundSize:i,backgroundColor:o});break;case\"external\":r=jQuery(\"#slide_bg_external\").val(),jQuery(\"#the_image_source_url\").html(r),e.find(\".defaultimg, .slotslidebg\").css({backgroundImage:\"url(\"+r+\")\",backgroundPosition:a,backgroundSize:i,backgroundColor:\"transparent\"}),jQuery(\"#ken_burn_slot_example\").css({backgroundImage:\"url(\"+r+\")\",backgroundPosition:a,backgroundSize:i,backgroundColor:\"transparent\"}).data(\"src\",r),t.updateKenBurnExampleValues(),jQuery(\".mainbg-sub-kenburns-selector\").show(),jQuery(\".mainbg-sub-parallax-selector\").show(),jQuery(\".mainbg-sub-settings-selector\").show();break;case\"streamtwitter\":case\"streamtwitterboth\":jQuery(\"#streamvideo_cover\").show(),jQuery(\"#streamvideo_cover_both\").show(),r=rs_plugin_url+\"public/assets/assets/sources/tw.png\",e.find(\".defaultimg, .slotslidebg, #ken_burn_slot_example\").css({backgroundImage:\"url(\"+r+\")\",backgroundPosition:\"center center\",backgroundSize:\"cover\",backgroundColor:\"transparent\"}),jQuery(\"#ken_burn_slot_example\").css({backgroundImage:\"url(\"+r+\")\",backgroundPosition:\"center center\",backgroundSize:\"cover\",backgroundColor:\"transparent\"}).data(\"src\",r),t.updateKenBurnExampleValues(),jQuery(\".mainbg-sub-kenburns-selector\").hide(),jQuery(\".mainbg-sub-parallax-selector\").show(),jQuery(\".mainbg-sub-settings-selector\").show(),jQuery(\"#button_change_image\").appendTo(jQuery(\"#vimeo-image-picker\")),jQuery(\"#button_change_image_objlib\").appendTo(jQuery(\"#vimeo-image-picker\")),jQuery(\"#video-settings\").show(),jQuery(\"#bg-setting-wrap\").hide(),jQuery(\"#vid-rev-vimeo-options\").show(),jQuery(\"#vid-rev-youtube-options\").show(),jQuery(\".video_volume_wrapper\").show();break;case\"streamyoutube\":case\"streamyoutubeboth\":jQuery(\"#streamvideo_cover\").show(),jQuery(\"#streamvideo_cover_both\").show(),r=rs_plugin_url+\"public/assets/assets/sources/yt.png\";case\"youtube\":e.find(\".defaultimg, .slotslidebg, #ken_burn_slot_example\").css({backgroundImage:\"url(\"+r+\")\",backgroundPosition:\"center center\",backgroundSize:\"cover\",backgroundColor:\"transparent\"}),jQuery(\"#ken_burn_slot_example\").css({backgroundImage:\"url(\"+r+\")\",backgroundPosition:\"center center\",backgroundSize:\"cover\",backgroundColor:\"transparent\"}).data(\"src\",r),t.updateKenBurnExampleValues(),jQuery(\".mainbg-sub-kenburns-selector\").hide(),jQuery(\".mainbg-sub-parallax-selector\").show(),jQuery(\".mainbg-sub-settings-selector\").show(),jQuery(\"#button_change_image\").appendTo(jQuery(\"#youtube-image-picker\")),jQuery(\"#button_change_image_objlib\").appendTo(jQuery(\"#youtube-image-picker\")),jQuery(\"#video-settings\").show(),jQuery(\"#bg-setting-wrap\").hide(),jQuery(\"#vid-rev-youtube-options\").show(),jQuery(\".video_volume_wrapper\").show();break;case\"streamvimeo\":case\"streamvimeoboth\":jQuery(\"#streamvideo_cover\").show(),jQuery(\"#streamvideo_cover_both\").show(),r=rs_plugin_url+\"public/assets/assets/sources/vm.png\";case\"vimeo\":e.find(\".defaultimg, .slotslidebg, #ken_burn_slot_example\").css({backgroundImage:\"url(\"+r+\")\",backgroundPosition:\"center center\",backgroundSize:\"cover\",backgroundColor:\"transparent\"}),jQuery(\"#ken_burn_slot_example\").css({backgroundImage:\"url(\"+r+\")\",backgroundPosition:\"center center\",backgroundSize:\"cover\",backgroundColor:\"transparent\"}).data(\"src\",r),t.updateKenBurnExampleValues(),jQuery(\".mainbg-sub-kenburns-selector\").hide(),jQuery(\".mainbg-sub-parallax-selector\").show(),jQuery(\".mainbg-sub-settings-selector\").show(),jQuery(\"#button_change_image\").appendTo(jQuery(\"#vimeo-image-picker\")),jQuery(\"#button_change_image_objlib\").appendTo(jQuery(\"#vimeo-image-picker\")),jQuery(\"#video-settings\").show(),jQuery(\"#bg-setting-wrap\").hide(),jQuery(\"#vid-rev-vimeo-options\").show(),jQuery(\".video_volume_wrapper\").show();break;case\"streaminstagram\":case\"streaminstagramboth\":jQuery(\"#streamvideo_cover\").show(),jQuery(\"#streamvideo_cover_both\").show(),r=rs_plugin_url+\"public/assets/assets/sources/ig.png\";case\"html5\":e.find(\".defaultimg, .slotslidebg\").css({backgroundImage:\"url(\"+r+\")\",backgroundPosition:\"center center\",backgroundSize:\"cover\",backgroundColor:\"transparent\"}),jQuery(\"#ken_burn_slot_example\").css({backgroundImage:\"url(\"+r+\")\",backgroundPosition:\"center center\",backgroundSize:\"cover\",backgroundColor:\"transparent\"}).data(\"src\",r),t.updateKenBurnExampleValues(),jQuery(\".mainbg-sub-kenburns-selector\").hide(),jQuery(\".mainbg-sub-parallax-selector\").show(),jQuery(\".mainbg-sub-settings-selector\").show(),jQuery(\"#button_change_image\").appendTo(jQuery(\"#html5video-image-picker\")),jQuery(\"#button_change_image_objlib\").appendTo(jQuery(\"#html5video-image-picker\")),jQuery(\"#video-settings\").show(),jQuery(\"#bg-setting-wrap\").hide()}if(\"solid\"!=s&&\"trans\"!=s&&jQuery(\"#slide_selector .list_slide_links li.selected .slide-media-container \").css(\"background-image\",\"url(\"+r+\")\"),jQuery(\"#divbgholder\").css({background:\"none\",backgroundImage:\"none\",backgroundColor:\"transparent\"}),\"checked\"==jQuery(\"#thumb_for_admin\").attr(\"checked\")){var n=jQuery(\"#slide_thumb_button_preview div\").css(\"background-image\");jQuery(\"#slide_selector .list_slide_links li.selected .slide-media-container\").css({\"background-image\":n,backgroundSize:\"cover\",backgroundPosition:\"center center\"})}u.resetSlideAnimations(!1)};var initDisallowCaptionsOnClick=function(){jQuery(\".slide_layer.tp-caption a\").on(\"click\",function(){return!1})};function initSliderMainOptions(e){var t=e;jQuery(\".bgsrcchanger-div\").each(function(){(\"tp-bgimagesettings\"!=jQuery(this).attr(\"id\")||\"tp-bgimagesettings\"==jQuery(this).attr(\"id\")&&\"on\"!=t.data(\"imgsettings\"))&&(\"tp-bgimagesettings\"==jQuery(this).attr(\"id\")?jQuery(this).slideUp(200):jQuery(this).css({display:\"none\"}))}),jQuery(\"#\"+t.data(\"callid\")).css({display:\"inline-block\"}),\"on\"==t.data(\"imgsettings\")&&jQuery(\"#tp-bgimagesettings\").slideDown(200),\"image\"==jQuery('input[name=\"background_type\"]:checked').val()?(jQuery(\".rs-img-source-size\").show(),jQuery(\"#alt_option\").show(),jQuery(\"#title_option\").show(),\"custom\"==jQuery(\"#alt_option option:selected\").val()?jQuery(\"#alt_attr\").show():jQuery(\"#alt_attr\").hide(),\"custom\"==jQuery(\"#title_option option:selected\").val()?jQuery(\"#title_attr\").show():jQuery(\"#title_attr\").hide()):(jQuery(\"#alt_option\").hide(),jQuery(\"#title_option\").hide(),jQuery(\"#alt_attr\").show(),jQuery(\"#title_attr\").hide(),jQuery(\".rs-img-source-size\").hide()),\"external\"==jQuery('input[name=\"background_type\"]:checked').val()?jQuery(\".ext_setting\").show():jQuery(\".ext_setting\").hide()}var initAlignTable=function(){jQuery(\".rs-new-align-button\").click(function(){var e=jQuery(this);if(jQuery(e).parent().hasClass(\"table_disabled\"))return!1;var r=jQuery(\"#layer_left_text\"),a=jQuery(\"#layer_top_text\"),i=e.data(\"hor\"),o=e.data(\"ver\");if(void 0===o){switch(jQuery(\"#rs-align-wrapper\").find(\".selected\").removeClass(\"selected\"),i){case\"left\":r.html(r.data(\"textnormal\")).css(\"width\",\"auto\"),jQuery(\"#layer_left\").val(\"10\");break;case\"right\":r.html(r.data(\"textoffset\")).css(\"width\",\"42px\"),jQuery(\"#layer_left\").val(\"10\");break;case\"center\":r.html(r.data(\"textoffset\")).css(\"width\",\"42px\"),jQuery(\"#layer_left\").val(\"0\")}jQuery(\"#layer_align_hor\").val(i)}else{switch(jQuery(\"#rs-align-wrapper-ver\").find(\".selected\").removeClass(\"selected\"),o){case\"top\":a.html(a.data(\"textnormal\")).css(\"width\",\"auto\"),jQuery(\"#layer_top\").val(\"10\");break;case\"bottom\":a.html(a.data(\"textoffset\")).css(\"width\",\"42px\"),jQuery(\"#layer_top\").val(\"10\");break;case\"middle\":a.html(a.data(\"textoffset\")).css(\"width\",\"42px\"),jQuery(\"#layer_top\").val(\"0\")}jQuery(\"#layer_align_vert\").val(o)}var s=t.getLayer(t.selectedLayerSerial);if(\"row\"===s.type){switch(o){case\"top\":document.getElementById(\"row-zone-top\").appendChild(s.references.htmlLayer[0]);break;case\"middle\":document.getElementById(\"row-zone-middle\").appendChild(s.references.htmlLayer[0]);break;case\"bottom\":document.getElementById(\"row-zone-bottom\").appendChild(s.references.htmlLayer[0])}s=t.setVal(s,\"align_vert\",o,!0,null,!0),t.checkRowZoneContents()}e.addClass(\"selected\"),t.updateLayerFromFields(),t.toolbarInPos(),t.setMiddleRowZone(100)})},initMainEvents=function(){container.click(function(e){layerresized?layerresized=!1:((e.target==this||jQuery(e.target).hasClass(\"slide_layers_border\"))&&u.checkMultipleSelectedItems(!0),unselectLayers(),jQuery(\"#quick-layers-wrapper\").slideUp(300),jQuery(\".current-active-main-toolbar\").removeClass(\"opened\"),jQuery(\"#button_show_all_layer i\").removeClass(\"eg-icon-up\").addClass(\"eg-icon-menu\"))})},showHideLinkActions=function(e,t){var r=e.closest(\"li\"),a=e.val();switch(r.find(\".action-link-wrapper\").hide(),r.find(\".action-jump-to-slide\").hide(),r.find(\".action-scrollofset\").hide(),r.find(\".action-speed-wrapper\").hide(),r.find(\".action-easing-wrapper\").hide(),r.find(\".action-target-layer\").hide(),r.find(\".action-callback\").hide(),r.find(\".action-toggle_layer\").hide(),r.find(\".action-toggleclass\").hide(),r.find(\".action-delay-wrapper\").show(),a){case\"none\":r.find(\".action-delay-wrapper\").hide();break;case\"link\":r.find(\".action-link-wrapper\").show();break;case\"jumpto\":r.find(\".action-jump-to-slide\").show();break;case\"scroll_under\":r.find(\".action-scrollofset\").show(),r.find(\".action-speed-wrapper\").show(),r.find(\".action-easing-wrapper\").show();break;case\"callback\":r.find(\".action-callback\").show();break;case\"start_in\":case\"start_out\":case\"start_video\":case\"stop_video\":case\"mute_video\":case\"unmute_video\":case\"toggle_video\":case\"toggle_mute_video\":r.find(\".action-target-layer\").show();break;case\"toggle_layer\":r.find(\".action-target-layer\").show(),r.find(\".action-toggle_layer\").show();break;case\"simulate_click\":r.find(\".action-target-layer\").show();break;case\"toggle_class\":r.find(\".action-target-layer\").show(),r.find(\".action-toggleclass\").show()}switch(a){case\"start_in\":case\"start_out\":case\"toggle_layer\":r.find(\".action-triggerstates\").show();break;default:r.find(\".action-triggerstates\").hide()}switch(a){case\"toggle_video\":case\"mute_video\":case\"unmute_video\":case\"toggle_global_mute_video\":case\"toggle_mute_video\":case\"start_video\":case\"stop_video\":r.find(\".action-target-layer\").find('select[name=\"layer_target[]\"] option').each(function(){\"video\"!==jQuery(this).data(\"mytype\")&&\"video-special\"!==jQuery(this).data(\"mytype\")&&\"audio\"!==jQuery(this).data(\"mytype\")?\"all\"===jQuery(this).data(\"mytype\")?jQuery(this).show():jQuery(this).hide():jQuery(this).show()});break;default:r.find(\".action-target-layer\").find('select[name=\"layer_target[]\"] option').each(function(){\"video-special\"!==jQuery(this).data(\"mytype\")?jQuery(this).show():\"all\"===jQuery(this).data(\"mytype\")?jQuery(this).show():jQuery(this).hide()})}t&&u.updateAllLayerTimeline()},showHideToolTip=function(){var e=jQuery(\"#layer_tooltip_event\").val(),t=jQuery(\".tooltip-parrent-part\"),r=jQuery(\".tooltip-child-part\");switch(e){case\"none\":t.hide(),r.hide();break;case\"parrent\":t.show(),r.hide();break;case\"child\":t.hide(),r.show()}},specOrVal=function(e,t,r,a){var i=parseFloat(e),o=void 0===a&&void 0!==i&&jQuery.isNumeric(i)&&!jQuery.isNumeric(e)?e.replace(i,\"\"):void 0===a?void 0===r?\"\":r:a;return result=jQuery.inArray(e,t)>=0?e:void 0!==e&&jQuery.isNumeric(parseInt(e))&&0!==e.length?parseInt(e)+o:\"\",result};t.check_the_font_bold=function(e){var t=[\"100\",\"200\",\"300\",\"400\",\"500\",\"600\",\"700\",\"800\",\"900\"];for(var r in initArrFontTypes)if(initArrFontTypes.hasOwnProperty(r)&&initArrFontTypes[r].label==e){void 0!==initArrFontTypes[r].variants&&(t=initArrFontTypes[r].variants);break}var a=jQuery('select[name=\"font_weight_static\"]'),i=a.find(\"option:selected\").val();for(var r in a.html(\"\"),t)if(t.hasOwnProperty(r)){if(t[r].indexOf(\"italic\")>-1)continue;a.append('<option value=\"'+t[r]+'\">'+t[r]+\"</option>\")}a.find('option[value=\"'+i+'\"]').attr(\"selected\",\"selected\")},t.do_google_font_loading=function(e){var r=[];for(var a in initArrFontTypes)if(initArrFontTypes.hasOwnProperty(a)&&initArrFontTypes[a].label==e){if(\"googlefont\"==initArrFontTypes[a].type){var i=\"\";for(var o in initArrFontTypes[a].variants)initArrFontTypes[a].variants.hasOwnProperty(o)&&(o>0&&(i+=\",\"),i+=initArrFontTypes[a].variants[o]);if(void 0!==initArrFontTypes[a].subsets)for(var o in i+=\"&subset=\",initArrFontTypes[a].subsets)initArrFontTypes[a].subsets.hasOwnProperty(o)&&(o>0&&(i+=\",\"),i+=initArrFontTypes[a].subsets[o]);fontclass=e.replace(/\\ /g,\"-\"),e=e.replace(/\\ /g,\"+\"),0==jQuery(\".rev-css-\"+fontclass).length&&(r.push(e+\":\"+i),jQuery(\"body\").append('<div style=\"display:none\" class=\"rev-css-'+fontclass+'\">RevSliderFont</div>'),-1==sgfamilies.indexOf(e)&&sgfamilies.push(e),null!==r&&r.length>0&&tpWebFont.load({google:{families:r},loading:function(){showWaitAMinute({fadeIn:300,text:e+\" is Loading...\"})},active:function(){setTimeout(function(){showWaitAMinute({fadeOut:300})},300),u.allLayerToIdle({type:\"text\"})},inactive:function(){setTimeout(function(){showWaitAMinute({fadeOut:300})},300),u.allLayerToIdle({type:\"text\"})}}))}break}t.sortFontTypesByUsage()};var initHtmlFields=function(){var e;jQuery(\"body\").on(\"change\",'select[name=\"layer_action[]\"], select[name=\"no_layer_action[]\"]',function(){showHideLinkActions(jQuery(this))}),jQuery(\"body\").on(\"click\",\"#kenburn-playpause-wrapper\",function(){var e=jQuery(\"#kenburn-playpause-wrapper\"),t=jQuery(\"#ken_burn_example\").data(\"kbtl\");e.hasClass(\"playing\")?(e.html('<i class=\"eg-icon-play\"></i><span>PLAY</span>'),e.removeClass(\"playing\"),t.pause()):(e.html('<i class=\"eg-icon-pause\"></i><span>PAUSE</span>'),e.addClass(\"playing\"),t.play())}),jQuery(\"body\").on(\"click\",\"#kenburn-backtoidle\",function(){jQuery(\"#ken_burn_example\").data(\"kbtl\").progress(0)}),jQuery(\".kb_input_values\").change(t.updateKenBurnExampleValues),jQuery(\"#layer_tooltip_event\").change(showHideToolTip),jQuery(\"#layer_caption\").catcomplete({source:initArrCaptionClasses,minLength:0,appendTo:\"#tp-thelistofclasses\",open:function(e,t){jQuery(\"#tp-thelistofclasses ul\").height()>450&&jQuery(\"#tp-thelistofclasses ul\").perfectScrollbar(\"destroy\").perfectScrollbar({wheelPropagation:!1,suppressScrollX:!0})},close:function(e,r){var a=t.getCurrentLayer();if(!1===a||null==a)return!1;void 0!==a.style&&a.style!==jQuery(\"#layer_caption\").val()&&(a.style=jQuery(\"#layer_caption\").val(),t.reset_to_default_static_styles(a),updateSubStyleParameters(a,!0)),jQuery(\"#layer_caption\").change(),jQuery(\"#css_font-family\").change(),t.updateLayerFromFields()}}).data(\"customCatcomplete\")._renderItem=function(e,t){var r=jQuery(\"<li></li>\").data(\"item.autocomplete\",t).append(\"<a>\"+t.label+\"</a>\").appendTo(e);return r.attr(\"original-title\",t.value),r},jQuery(\"#layer_captions_down\").click(function(e){e.stopPropagation(),jQuery(\"#css_font-family\").catcomplete(\"close\"),jQuery(\"#css_editor_expert\").hide(),jQuery(\"#css_editor_wrap\").hide(),1==jQuery(\"#layer_caption\").data(\"is_open\")?jQuery(\"#layer_caption\").catcomplete(\"close\"):jQuery(this).hasClass(\"ui-state-active\")&&(jQuery(\"#layer_caption\").catcomplete(\"search\",\"\").data(\"customCatcomplete\")._renderItem=function(e,t){var r=jQuery(\"<li></li>\").data(\"item.autocomplete\",t).append(\"<a>\"+t.label+\"</a>\").appendTo(e);return r.attr(\"original-title\",t.value),r})}),jQuery(\"#layer_caption\").bind(\"catcompleteopen\",function(){jQuery(this).data(\"is_open\",!0),jQuery(\".ui-autocomplete li\").tipsy({delayIn:70,html:!0,gravity:\"w\",title:function(){return setTimeout(function(){jQuery(\".tp-present-caption-small\").parent().addClass(\"tp-present-wrapper-small\"),jQuery(\".tp-present-caption-small\").parent().parent().addClass(\"tp-present-wrapper-parent-small\")},10),'<div class=\"tp-present-caption-small\"><div class=\"example-dark-blinker\"></div><div class=\"tp-caption '+this.getAttribute(\"original-title\")+'\">example</div></div>'}})}),jQuery(\"#layer_caption\").bind(\"catcompleteclose\",function(){jQuery(this).data(\"is_open\",!1)}),t.setLayersAutoComplete(),jQuery('input[name=\"adbutton-fontfamily\"]').autocomplete({source:initArrFontTypes,minLength:0}),jQuery(\"#css_fonts_down\").click(function(e){e.stopPropagation(),jQuery(\"#layer_caption\").catcomplete(\"close\"),1==jQuery(\"#css_font-family\").data(\"is_open\")?jQuery(\"#css_font-family\").catcomplete(\"close\"):jQuery(this).hasClass(\"ui-state-active\")&&jQuery(\"#css_font-family\").catcomplete(\"search\",\"\").data(\"ui-autocomplete\")}),jQuery(\"body\").click(function(){jQuery(\"#layer_caption\").catcomplete(\"close\"),jQuery(\"#css_font-family\").catcomplete(\"close\")}),jQuery(\"body\").on(\"change\",\".form_layers select, #layer_proportional_scale, #layer_auto_line_break, #layer_displaymode\",function(){t.updateLayerFromFields()}),jQuery(\"#layer_proportional_scale, #layer_auto_line_break, #layer_displaymode\").change(function(){jQuery(this)[0].checked?jQuery(this).parent().removeClass(\"notselected\"):jQuery(this).parent().addClass(\"notselected\")}),jQuery(\"#layer_text\").keyup(function(){clearTimeout(e);var r=jQuery(this).val();e=setTimeout(function(){updateLayerTextField(\"\",jQuery(\".sortlist li.ui-state-hover\"),r),t.toolbarInPos(),t.updateLayerFromFields(),u.updateCurrentLayerTimeline()},150)}),jQuery(\"#layer_text_toggle\").keyup(function(){clearTimeout(e);var r=jQuery(this).val();e=setTimeout(function(){updateLayerTextField(\"\",jQuery(\".sortlist li.ui-state-hover\"),r),t.toolbarInPos(),t.updateLayerFromFields()},150)}),jQuery(\".rev-visibility-on-sizes input\").click(function(){t.updateLayerFromFields()}),jQuery(\"body\").on(\"blur\",\".form_layers input, .form_layers textarea\",function(){t.updateLayerFromFields()}),jQuery(\"body\").on(\"change\",\".form_layers input, .form_layers textarea\",function(){t.updateLayerFromFields()}),jQuery(\"body\").on(\"keypress\",\".form_layers input, .form_layers textarea\",function(e){13==e.keyCode&&t.updateLayerFromFields()}),jQuery(\"#delay\").keypress(function(e){Number(jQuery(\"#delay\").val())>0&&(g_slideTime=jQuery(\"#delay\").val())}),jQuery(\"#delay\").blur(function(){Number(jQuery(\"#delay\").val())>0&&(g_slideTime=jQuery(\"#delay\").val());var e=g_slideTime/10;jQuery(\"#mastertimer-maxtime\").css({left:e+\"px\"}),jQuery(\"#mastertimer-maxcurtime\").html(u.convToTime(e)),jQuery(\".slide-idle-section\").css({left:e}),jQuery(\".mastertimer-slide .tl-fullanim\").css({width:e+\"px\"}),u.mainMaxTimeLeft=e,u.masterTimerPositionChange(!0),u.compareLayerEndsVSSlideEnd()}),jQuery(\".form_layers input\").on(\"click\",function(){jQuery(this).select()}),jQuery(\".form_layers input\").on(\"change blur focus\",function(e){var t=jQuery(this),r=parseFloat(t.val()),a=parseFloat(t.data(\"min\")),i=parseFloat(t.data(\"max\")),o=t.val().slice(-1)||\"\",s=t.val().slice(-2)||\"\",n=t.data(\"suffix\"),l=t.data(\"suffixalt\");lastchangedinput=t.attr(\"id\"),null!=n&&jQuery.isNumeric(r)&&r>-9999999&&r<9999999&&(null!=a&&r<a&&(r=a),null!=a&&r>i&&(r=i),isNaN(r)&&(r=0),r=Math.round(100*r)/100,null==l?t.val(r+n):o==l?t.val(r+o):s==l?t.val(r+s):t.val(r+n)),\"focus\"===e.type&&this.select()}),jQuery(\".form_layers select\").on(\"change blur focus\",function(){lastchangedinput=jQuery(this).attr(\"id\")}),jQuery(\"#layer_speed, #layer_endspeed, #layer_splitdelay, #layer_endsplitdelay, #layer_split, #layer_endsplit\").on(\"change blur\",function(){t.updateLayerFromFields(),u.updateCurrentLayerTimeline()}),jQuery(\"body\").on(\"focus\",\"#layer_text, #layer_text_toggle\",function(){jQuery(\"#layer_text\").removeClass(\"lasteditedlayertext\"),jQuery(\"#layer_text_toggle\").removeClass(\"lasteditedlayertext\"),jQuery(this).addClass(\"lasteditedlayertext\")})};t.nextNewLayerToPosition=function(e){t.newlayercoord.x=e.x,t.newlayercoord.y=e.y},t.setLayersAutoComplete=function(){jQuery(\"#css_font-family\").catcomplete({source:initArrFontTypes,appendTo:\"#tp-thelistoffonts\",open:function(e,t){jQuery(\"#tp-thelistoffonts ul\").height()>450&&(jQuery(\"#tp-thelistoffonts ul\").perfectScrollbar(\"destroy\").perfectScrollbar({wheelPropagation:!1,suppressScrollX:!0}),jQuery(\"#tp-thelistoffonts ul\").scrollTop(0))},minLength:0,close:t.updateLayerFromFields,select:function(e,r){t.check_the_font_bold(r.item.label),t.do_google_font_loading(r.item.label)}}).data(\"customCatcomplete\")._renderItem=function(e,t){var r=jQuery(\"<li></li>\").data(\"item.autocomplete\",t).append(\"<a>\"+t.label+\"</a>\");return t.top?(r.prependTo(e),r.insertAfter(\"#insert-google-font-after-me\")):r.appendTo(e),\"Dont Show Me\"==t.label&&(r.css({display:\"block\",height:\"0px\",width:\"0px\",visibility:\"hidden\"}),r.attr(\"id\",\"insert-google-font-after-me\")),r.attr(\"original-title\",t.value),r},jQuery(\"#css_font-family\").change(function(){var e=jQuery(this).val();t.check_the_font_bold(e),t.do_google_font_loading(e)}),jQuery(\"#css_font-family\").bind(\"catcompleteopen\",function(){jQuery(this).data(\"is_open\",!0)}),jQuery(\"#css_font-family\").bind(\"catcompleteclose\",function(){jQuery(this).data(\"is_open\",!1)})};var switchLayerBackground=function(e){t.updateCurrentLayer(e),t.add_layer_change();var r=t.getCurrentLayer();u.rebuildLayerIdleProgress(r.references.htmlLayer)},initButtons=function(){function e(e){var r=jQuery('input[name=\"background_type\"]:checked').val();jQuery.inArray(r,-1!=[\"trans\",\"solid\",\"external\"])&&jQuery(\"#radio_back_image\").attr(\"checked\",\"checked\").change().click(),jQuery(\"#divbgholder\").css(\"background-image\",\"url(\"+e+\")\"),jQuery(\"#slide_selector .list_slide_links li.selected .slide-media-container \").css(\"background-image\",\"url(\"+e+\")\"),jQuery(\"#image_url\").val(e),jQuery(\"#image_id\").val(\"\"),t.changeSlotBGs(),jQuery(\".bgsrcchanger:checked\").click(),jQuery('input[name=\"kenburn_effect\"]').is(\":checked\")&&jQuery('input[name=\"kb_start_fit\"]').change()}jQuery(\"#button_add_layer\").click(function(){addLayerText(1==jQuery(this).data(\"isstatic\")?\"static\":null)}),jQuery(\"#button_add_layer_image\").click(function(){var e=1==jQuery(this).data(\"isstatic\")?rev_lang.select_static_layer_image:rev_lang.select_layer_image,t=1==jQuery(this).data(\"isstatic\")?\"static\":null;UniteAdminRev.openAddImageDialog(e,function(e,r,a,i){addLayerImage({imgurl:e,imgid:r,imgwidth:a,imgheight:i},t)})}),jQuery(\"#button_add_layer_video\").click(function(){var e=jQuery('input[name=\"rs-gallery-type\"]').val();t.prepare_video_layer_add(e)}),jQuery(\"#button_add_layer_audio\").click(function(){t.prepare_video_layer_add(\"audio\")}),t.prepare_video_layer_add=function(e){switch(jQuery(\"#video_dialog_form\").trigger(\"reset\"),jQuery(\"#reset_video_dialog_tab\").click(),e){case\"youtube\":jQuery(\".rs-show-when-youtube-stream\").show(),jQuery(\".rs-hide-when-youtube-stream\").show();break;case\"vimeo\":jQuery(\".rs-show-when-vimeo-stream\").show(),jQuery(\".rs-hide-when-vimeo-stream\").show();break;case\"instagram\":jQuery(\".rs-show-when-instagram-stream\").show(),jQuery(\".rs-hide-when-instagram-stream\").show()}var t=1==jQuery(this).data(\"isstatic\")?\"static\":null;UniteAdminRev.openVideoDialog(function(e){addLayerVideo(e,t)},!1,e)},jQuery(\"#button_add_layer_button\").click(function(){setExampleButtons(),jQuery(\"#dialog_addbutton\").dialog({buttons:{Close:function(){jQuery(\"#dialog_addbutton\").dialog(\"close\")}},minWidth:830,minHeight:500,modal:!0,dialogClass:\"tpdialogs\",create:function(e){jQuery(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")}})}),jQuery(\"#button_add_layer_svg, #button_add_object_layer\").click(function(){setExampleButtons(),t.callObjectLibraryDialog(\"object\")}),jQuery(\"#button_change_image_objlib\").click(function(){setExampleButtons(),t.callObjectLibraryDialog(\"background\")}),jQuery(\"#button_change_image_yt\").click(function(){var e,r=\"https://img.youtube.com/vi/\"+jQuery(\"#slide_bg_youtube\").val()+\"/maxresdefault.jpg\";e=r,jQuery(\"#divbgholder\").css(\"background-image\",\"url(\"+e+\")\"),jQuery(\"#slide_selector .list_slide_links li.selected .slide-media-container \").css(\"background-image\",\"url(\"+e+\")\"),jQuery(\"#image_url\").val(e),jQuery(\"#image_id\").val(\"\"),t.changeSlotBGs(),jQuery(\".bgsrcchanger:checked\").click(),jQuery('input[name=\"kenburn_effect\"]').is(\":checked\")&&jQuery('input[name=\"kb_start_fit\"]').change()}),jQuery(\"body\").on(\"click\",\".layer-link-type-element\",function(){var e=jQuery(this),r=e.closest(\".list-of-layer-links\"),a=r.find(\".layer-link-type-element-cs\"),i=t.getLayerByUniqueId(r.data(\"uniqueid\")),o={};o.groupLink=e.data(\"linktype\"),t.updateLayer(i.serial,o);for(var s=0;s<6;s++)a.removeClass(\"layer-link-type-\"+s),i.references.htmlLayer.removeClass(\"ldles_\"+s);i.references.htmlLayer.addClass(\"ldles_\"+o.groupLink),a.addClass(\"layer-link-type-\"+o.groupLink)}),jQuery(\"body\").on(\"click\",\".objadd-single-item, .obj-item-size-selector\",function(){var r=jQuery(this);if(-1===jQuery.inArray(r.data(\"type\"),[1,2,\"1\",\"2\",\"img\"])){if(r.hasClass(\"obj-item-size-selector\")){var a=\"1\";switch(r.data(\"s\")){case\"xs\":a=.1;break;case\"s\":a=.25;break;case\"m\":a=.5;break;case\"l\":a=.75;break;case\"o\":a=1}r=r.closest(\".objadd-single-item\")}var i,o,s,n,l,d,y=jQuery(\"#dialog_addobj\").data(\"last_open_state\"),c=jQuery(\"#obj-layer-bg-switcher\").hasClass(\"addthisasbg\");switch(c=(\"2\"===r.data(\"type\")||2===r.data(\"type\"))&&c,c=\"layer\"!==y&&c,r.data(\"type\")){case\"img\":case\"1\":case\"2\":case 1:case 2:if(!rs_plugin_validated)return show_premium_dialog(\"register-to-acess-object-library\"),jQuery(\"#dialog_addobj\").dialog(\"close\"),!1;var _=jQuery(\"#button_add_layer_image\").data(\"isstatic\"),m=(1==_?rev_lang.select_static_layer_image:rev_lang.select_layer_image,_?\"static\":null);if(-1!==(b=r.data(\"origsrc\")).indexOf(\"/\"))if(!0!==jQuery(\"#dialog_addobj\").data(\"changeimg\")){var p={imgurl:b,imglib:\"objectlibrary\",imgproportion:!0,imgwidth:parseInt(r.data(\"mediawidth\"),0)*a,imgheight:parseInt(r.data(\"mediaheight\"),0)*a};if(\"object\"!==y||c){if(\"background\"===y||c)e(b);else if(\"layer\"===y){(v={}).bgimage_url=b,v.image_librarysize={},v.image_librarysize.width=parseInt(r.data(\"mediawidth\"),0)*a,v.image_librarysize.height=parseInt(r.data(\"mediaheight\"),0)*a,switchLayerBackground(v)}}else addLayerImage(p,m)}else{if(\"object\"!==y||c){if(\"background\"===y||c)e(b);else if(\"layer\"===y){var v;(v={}).bgimage_url=b,v.image_librarysize={},v.image_librarysize.width=parseInt(r.data(\"mediawidth\"),0)*a,v.image_librarysize.height=parseInt(r.data(\"mediaheight\"),0)*a,switchLayerBackground(v)}}else(v={}).image_url=b,v.image_librarysize={},v.image_librarysize.width=parseInt(r.data(\"mediawidth\"),0)*a,v.image_librarysize.height=parseInt(r.data(\"mediaheight\"),0)*a,v.scaleProportional=!0,t.updateCurrentLayer(v),resetCurrentElementSize(),redrawLayerHtml(t.selectedLayerSerial),t.add_layer_change()}else i=b,o=m,s=a,n=jQuery(\"#dialog_addobj\").data(\"changeimg\"),l=y,d=c,UniteAdminRev.ajaxRequest(\"load_library_object\",{handle:i,type:\"orig\"},function(r){if(r.success){var a={imgurl:r.url,imglib:\"objectlibrary\",imgproportion:!0,imgwidth:parseInt(r.width,0)*s,imgheight:parseInt(r.height,0)*s};if(\"object\"!==l||d){if(\"background\"===l)e(r.url);else if(\"layer\"===l){var i;(i={}).bgimage_url=r.url,i.image_librarysize={},i.image_librarysize.width=parseInt(r.width,0)*s,i.image_librarysize.height=parseInt(r.height,0)*s,switchLayerBackground(i)}}else n?((i={}).image_url=r.url,i.image_librarysize={},i.image_librarysize.width=parseInt(r.width,0)*s,i.image_librarysize.height=parseInt(r.height,0)*s,i.scaleProportional=!0,t.updateCurrentLayer(i),resetCurrentElementSize(),redrawLayerHtml(t.selectedLayerSerial),t.add_layer_change()):addLayerImage(a,o)}});jQuery(\"#dialog_addobj\").data(\"changeimg\",!1);break;case\"svg\":var g=r.find(\"svg\");if(!0!==jQuery(\"#dialog_addobj\").data(\"changesvg\")){var h={},f=g.attr(\"width\"),j=g.attr(\"height\");h.static_styles={},h.static_styles=t.setVal(h.static_styles,\"color\",\"#000000\",!0),h.deformation={},h[\"deformation-hover\"]={},h.text=\" \",h.alias=\"SVG\",h.type=\"svg\",h.style=\"\",h.svg={},h.svg.src=jQuery(this).data(\"src\"),h=t.setVal(h,\"max_width\",f,!0),(h=t.setVal(h,\"max_height\",j,!0)).createdOnInit=!1,addLayer(h)}else{var b=jQuery(this).data(\"src\");f=g.attr(\"width\"),j=g.attr(\"height\");serial=jQuery(\"#dialog_addobj\").data(\"changesvgserial\"),jQuery.get(b,function(e){jQuery(\"#slide_layer_\"+serial+\" .innerslide_layer.tp-caption\").first().html(\"\"),jQuery(\"#slide_layer_\"+serial+\" .innerslide_layer.tp-caption\").first()[0].innerHTML=(new XMLSerializer).serializeToString(e.documentElement),u.rebuildLayerIdle(jQuery(\"#slide_layer_\"+serial));var r=t.getLayer(serial),a=parseInt(t.getVal(r,\"max_width\"),0);parseInt(t.getVal(r,\"max_height\"),0);j*=a/f,f=a,r.svg.src=b,r=t.setVal(r,\"max_width\",f,!0),r=t.setVal(r,\"max_height\",j,!0)}),t.add_layer_change(),jQuery(\"#dialog_addobj\").data(\"changesvg\",!1)}break;case\"icon\":addLayerText(1==jQuery(this).data(\"isstatic\")?\"static\":null,'<i class=\"'+r.data(\"src\")+'\"></i>',50)}jQuery(\"#dialog_addobj\").dialog(\"close\")}}),jQuery(\"#button_add_layer_shape\").click(function(){setExampleShape(),jQuery(\"#dialog_addshape\").dialog({buttons:{Add:function(){var e={static_styles:{},deformation:{},\"deformation-hover\":{},text:\" \",alias:\"Shape\",type:\"shape\",style:\"\",internal_class:\"tp-shape tp-shapewrapper\",autolinebreak:!1};e.deformation[\"background-color\"]=jQuery('input[name=\"adshape-color-1\"]').val(),e.deformation[\"background-transparency\"]=jQuery('input[name=\"adshape-opacity-1\"]').val(),e.deformation[\"border-color\"]=jQuery('input[name=\"adshape-border-color\"]').val(),e.deformation[\"border-opacity\"]=jQuery('input[name=\"adshape-border-opacity\"]').val(),e.deformation[\"border-transparency\"]=jQuery('input[name=\"adshape-border-opacity\"]').val(),e.deformation[\"border-width\"]=jQuery('input[name=\"adshape-border-width\"]').val(),e.deformation[\"border-style\"]=\"solid\",e.deformation[\"border-radius\"]=[jQuery(\".example-shape\").css(\"borderTopLeftRadius\"),jQuery(\".example-shape\").css(\"borderTopRightRadius\"),jQuery(\".example-shape\").css(\"borderBottomRightRadius\"),jQuery(\".example-shape\").css(\"borderBottomLeftRadius\")],jQuery('input[name=\"shape_fullwidth\"]')[0].checked?(e.max_width=\"100%\",e.cover_mode=\"fullwidth\"):e.max_width=jQuery('input[name=\"shape_width\"]').val(),jQuery('input[name=\"shape_fullheight\"]')[0].checked?(e.max_height=\"100%\",e.cover_mode=\"fullheight\"):e.max_height=jQuery('input[name=\"shape_height\"]').val(),jQuery('input[name=\"shape_fullheight\"]')[0].checked&&jQuery('input[name=\"shape_fullwidth\"]')[0].checked&&(e.cover_mode=\"cover\"),e.createdOnInit=!1,addLayer(e),jQuery(\"#dialog_addshape\").dialog(\"close\")},Close:function(){jQuery(\"#dialog_addshape\").dialog(\"close\")}},minWidth:830,minHeight:500,modal:!0,create:function(e){jQuery(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")},dialogClass:\"tpdialogs\"})}),jQuery(\"#button_add_layer_import\").click(function(){t.reset_import_layer(),jQuery(\"#dialog_addimport\").dialog({minWidth:830,minHeight:500,modal:!0,dialogClass:\"tpdialogs\",create:function(e){jQuery(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")}})}),jQuery(\"#button_add_layer_group, #add_new_group\").click(function(){addLayerGroup(1==jQuery(this).data(\"isstatic\")?\"static\":null)}),jQuery(\"#add_new_row\").click(function(){addLayerRow(1==jQuery(this).data(\"isstatic\")?\"static\":null)}),jQuery(\"#rs-import-layer-slider\").change(function(){var e=jQuery(this).val();return\"-\"==e?(t.reset_import_layer(),!1):void 0===import_slides[e]?(UniteAdminRev.ajaxRequest(\"get_import_slides_data\",e,function(r){return void 0!==r.slides?(import_slides[e]=r.slides,t.do_clear_layer_import(),t.do_clear_slide_import(),t.do_add_slide_import(),t.do_show_sliders_import(),!0):(alert(rev_lang.empty_data_retrieved_for_slider),t.reset_import_layer(),!1)}),!1):(t.do_clear_layer_import(),t.do_clear_slide_import(),t.do_add_slide_import(),void t.do_show_sliders_import())}),jQuery(\"#rs-import-layer-type\").change(function(){t.do_clear_layer_import(),t.do_show_sliders_import()}),jQuery(\"#rs-import-layer-slide\").change(function(){t.do_clear_layer_import(),t.do_show_sliders_import()}),jQuery(\"body\").on(\"click\",\"#rs-import-layer-holder li .import-layer-now\",function(){if(confirm(rev_lang.import_selected_layer)){var e=jQuery(this),r=e.closest(\"li\"),a=r.data(\"sliderid\"),i=r.data(\"slideid\"),o=r.data(\"id\");r.data(\"actiondep\");if(void 0===import_slides[a])return!1;if(void 0===import_slides[a][i])return!1;var s=t.get_layers_to_add_through_actions(import_slides[a][i].layers,o);if(null!==s&&s.length>0)if(s.length>1&&confirm(rev_lang.import_all_layer_from_actions)){var n=[];for(var l in n=t.get_action_dependencies(r,i,n),s)if(s.hasOwnProperty(l))for(var d in s[l].createdOnInit=!1,addLayer(s[l],!0),r.addClass(\"layerimported\"),e.find(\"i\").addClass(\"eg-icon-ok\").removeClass(\"eg-icon-plus\"),n)if(n.hasOwnProperty(d)){var y=jQuery(\"#to-import-layer-id-\"+i+\"-\"+n[d]);y.hasClass(\"layerimported\")||(y.addClass(\"layerimported\"),y.find(\".import-layer-now i\").addClass(\"eg-icon-ok\").removeClass(\"eg-icon-plus\"))}}else for(var l in s)if(s.hasOwnProperty(l)){s[l]=t.remove_import_layer_actions(s[l]),s[l].createdOnInit=!1,s[l].p_uid=-1,addLayer(s[l],!0),r.addClass(\"layerimported\"),e.find(\"i\").addClass(\"eg-icon-ok\").removeClass(\"eg-icon-plus\");break}}}),t.object_library_loaded=!1,t.callObjectLibraryDialog=function(e){t.object_library_loaded?t.call_object_dialog(e):UniteAdminRev.ajaxRequest(\"load_object_library\",{},function(r){if(r.success){for(var a in r.data.html)r.data.html.hasOwnProperty(a)&&(\"tag\"==r.data.html[a].type?jQuery(\".object-tag-list\").append('<span class=\"obj_library_cats\" id=\"obj_library_cats_'+r.data.html[a].handle+'\" data-tag=\"'+r.data.html[a].handle+'\">'+r.data.html[a].name+\"</span>\"):\"inner\"==r.data.html[a].type&&jQuery(\"#object_library_results-inner\").append('<div style=\"display:none\" class=\"rs-obj-library\"></div>'));for(var a in r.data.list)if(r.data.list.hasOwnProperty(a)){var i={handle:a,list:[]};for(var o in r.data.list[a])r.data.list[a].hasOwnProperty(o)&&i.list.push(r.data.list[a][o]);obj_libraries.push(i)}push_objects_to_library(),t.object_library_loaded=!0,t.call_object_dialog(e)}})},t.call_object_dialog=function(e){jQuery(\"#dialog_addobj\").dialog({width:jQuery(window).width(),height:jQuery(window).height(),modal:!0,dialogClass:\"tpdialogs fullscreen-dialog-window objectlibrary_dialog\",create:function(e,t){var r=jQuery(e.target).parent().find(\".ui-dialog-titlebar\");r.addClass(\"tp-slider-new-dialog-title\"),r.prepend('<span class=\"revlogo-mini\" style=\"margin-right:15px;\"></span>')},hide:{effect:\"\",delay:250},open:function(r){var a=jQuery(r.target).parent();if(setTimeout(function(){a.addClass(\"show\")},200),jQuery(\"#dialog_addobj\").data(\"last_open_state\")!==e){jQuery(\"#dialog_addobj\").data(\"last_open_state\",e);var i=a.find(\".ui-dialog-titlebar .ui-dialog-title\");\"background\"===e?(jQuery(\".obj_library_cats_filter\").hide(),jQuery(\"#object_library_results\").addClass(\"backgrounds\"),jQuery(\"#obj_lib_main_cat_filt_bgimage\").show().click(),i.html(\"Add Background Image\")):\"object\"===e?(jQuery(\"#object_library_results\").removeClass(\"backgrounds\"),jQuery(\".obj_library_cats_filter\").show(),jQuery(\"#obj_lib_main_cat_filt_all\").show().click(),i.html(\"Add Object Layer\")):\"layer\"===e&&(jQuery(\".obj_library_cats_filter\").hide(),jQuery(\"#object_library_results\").addClass(\"backgrounds\"),jQuery(\"#obj_lib_main_cat_filt_bgimage\").show(),jQuery(\"#obj_lib_main_cat_filt_image\").show(),jQuery(\"#obj_lib_main_cat_filt_allimages\").click(),i.html(\"Add Image as Layer Background\"))}jQuery(\"#object_library_results-inner\").perfectScrollbar(\"update\"),0==jQuery(\".obj_library_cats.selected\").length&&jQuery(\".obj_library_cats\").first().click(),jQuery(\"#dialog_addobj\").closest(\".ui-dialog\").addClass(\"visible-fullscreen-dialog\"),t.setObjectLibraryHeight()},beforeClose:function(e){jQuery(e.target).parent().removeClass(\"show\")},close:function(e){jQuery(\"#dialog_addobj\").closest(\".ui-dialog\").removeClass(\"visible-fullscreen-dialog\")}})},t.setObjectLibraryHeight=function(){var e=jQuery(\"#dialog_addobj\");if(e.is(\":visible\")){var t=jQuery(\"#object_library_results\"),r=jQuery(window).height(),a=jQuery(\"#addobj-dialog-header\").height(),i=e.parent().find(\".tp-slider-new-dialog-title\").height(),o=r-(a+i+100);e.height(r-i),t.height(o)}},t.get_action_dependencies=function(e,r,a){var i=e.data(\"actiondep\");if(\"\"!==i)for(var o in i=i.toString().split(\",\"))if(i.hasOwnProperty(o)&&\"backgroundvideo\"!==i[o]&&\"firstvideo\"!==i[o]&&-1==jQuery.inArray(i[o],a)){a.push(i[o]);var s=t.get_action_dependencies(jQuery(\"#to-import-layer-id-\"+r+\"-\"+i[o]),r,a);for(var n in s)s.hasOwnProperty(n)&&-1==jQuery.inArray(s[n],a)&&a.push(s[n])}return a},t.remove_import_layer_actions=function(e){var t=[\"tooltip_event\",\"action\",\"image_link\",\"link_open_in\",\"jump_to_slide\",\"scrollunder_offset\",\"actioncallback\",\"layer_target\",\"action_delay\",\"link_type\",\"toggle_layer_type\",\"toggle_class\"];if(void 0!==e.layer_action&&void 0!==e.layer_action.action&&e.layer_action.action.length>0)for(var r in e.layer_action.action)if(e.layer_action.action.hasOwnProperty(r))switch(e.layer_action.action[r]){case\"start_in\":case\"start_out\":case\"toggle_layer\":case\"start_video\":case\"stop_video\":case\"toggle_video\":case\"mute_video\":case\"unmute_video\":case\"toggle_global_mute_video\":case\"toggle_mute_video\":case\"simulate_click\":case\"toggle_class\":for(var a in t)t.hasOwnProperty(a)&&void 0!==e.layer_action[t[a]]&&void 0!==e.layer_action[t[a]][r]&&delete e.layer_action[t[a]][r]}return e},t.get_layers_to_add_through_actions=function(e,r){var a=[];return a=t.add_layer_to_queue_by_unique_id(e,r,a),a=t.check_actions_change_unique_ids(a)},t.add_layer_to_queue_by_unique_id=function(e,r,a){for(var i in e)if(e.hasOwnProperty(i)&&e[i].unique_id==r&&(a.push(UniteAdminRev.duplicateObject(e[i])),void 0!==e[i].layer_action&&void 0!==e[i].layer_action.action&&e[i].layer_action.action.length>0)){var o=e[i].layer_action;for(var s in o.action)if(o.action.hasOwnProperty(s))switch(o.action[s]){case\"start_in\":case\"start_out\":case\"toggle_layer\":case\"start_video\":case\"stop_video\":case\"toggle_video\":case\"mute_video\":case\"unmute_video\":case\"toggle_mute_video\":case\"toggle_global_mute_video\":case\"simulate_click\":case\"toggle_class\":if(o.layer_target[s]){var n=!0;for(var l in a)if(a.hasOwnProperty(l)&&a[l].unique_id==o.layer_target[s]){n=!1;break}if(n)for(var d in e)if(e.hasOwnProperty(d)&&e[d].unique_id==o.layer_target[s]){t.add_layer_to_queue_by_unique_id(e,e[d].unique_id,a);break}}}}return a},t.check_actions_change_unique_ids=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(unique_layer_id++,t[e[r].unique_id]=unique_layer_id,e[r].unique_id=unique_layer_id);for(var r in e)if(e.hasOwnProperty(r)&&void 0!==e[r].layer_action&&void 0!==e[r].layer_action.action&&e[r].layer_action.action.length>0){for(var a in e[r].layer_action.layer_target)if(e[r].layer_action.layer_target.hasOwnProperty(a))for(var i in t)if(t.hasOwnProperty(i)&&i==e[r].layer_action.layer_target[a]){e[r].layer_action.layer_target[a]=t[i];break}for(var a in e[r].layer_action.jump_to_slide)e[r].layer_action.jump_to_slide.hasOwnProperty(a)&&(e[r].layer_action.jump_to_slide[a]=\"-1\")}return e},t.reset_import_layer=function(){jQuery('#rs-import-layer-slider option[value=\"-\"]').attr(\"selected\",!0),jQuery('#rs-import-layer-slide option[value=\"-\"]').attr(\"selected\",!0),jQuery('#rs-import-layer-type option[value=\"-\"]').attr(\"selected\",!0)},t.do_add_slide_import=function(){var e=jQuery(\"#rs-import-layer-slider option:selected\").val();if(\"-\"==e||void 0===import_slides[e])return!1;for(var t in import_slides[e])import_slides[e].hasOwnProperty(t)&&jQuery(\"#rs-import-layer-slide\").append(jQuery(\"<option></option>\").val(t).text(\"Slide: \"+import_slides[e][t].params.title))},t.do_clear_slide_import=function(){jQuery(\"#rs-import-layer-slide option\").each(function(){\"all\"!==jQuery(this).val()&&\"-\"!==jQuery(this).val()&&jQuery(this).remove()})},t.do_clear_layer_import=function(){jQuery(\"#rs-import-layer-holder\").html(\"\")},t.do_show_sliders_import=function(){var e=jQuery(\"#rs-import-layer-slider option:selected\").val(),r=jQuery(\"#rs-import-layer-slide option:selected\").val(),a=jQuery(\"#rs-import-layer-type option:selected\").val();if(\"-\"==e)return!1;if(void 0===import_slides[e])return!1;for(var i in import_slides[e])if(import_slides[e].hasOwnProperty(i)&&(\"all\"==r||\"-\"==r||r==i))for(var o in import_slides[e][i].layers.length>0&&jQuery(\"#rs-import-layer-holder\").append('<li class=\"layer-import-slide-seperator\">Slide Title - '+import_slides[e][i].params.title+\"</li>\"),import_slides[e][i].layers)if(import_slides[e][i].layers.hasOwnProperty(o)&&(\"all\"==a||\"-\"==a||a==import_slides[e][i].layers[o].type)){var s=[];s=t.get_action_string_dependencies(import_slides[e][i].layers[o],r,s,import_slides[e][i].layers);var n=\"off\";if(void 0!==import_slides[e][i].layers[o].layer_action&&void 0!==import_slides[e][i].layers[o].layer_action.action&&import_slides[e][i].layers[o].layer_action.action.length>0){for(var l in import_slides[e][i].layers[o].layer_action.action)if(import_slides[e][i].layers[o].layer_action.action.hasOwnProperty(l))switch(import_slides[e][i].layers[o].layer_action.action[l]){case\"start_in\":case\"start_out\":case\"toggle_layer\":case\"start_video\":case\"stop_video\":case\"toggle_video\":case\"mute_video\":case\"unmute_video\":case\"toggle_mute_video\":case\"toggle_global_mute_video\":case\"simulate_click\":case\"toggle_class\":s.push(import_slides[e][i].layers[o].layer_action.layer_target[l])}n=\"on\"}var d=global_layer_import_template({withaction:n,action_layers:s,type:import_slides[e][i].layers[o].type,alias:import_slides[e][i].layers[o].alias,width:import_slides[e][i].layers[o].width,height:import_slides[e][i].layers[o].height,unique_id:import_slides[e][i].layers[o].unique_id,slider_id:e,slide_id:i});jQuery(\"#rs-import-layer-holder\").append(d)}},t.get_action_string_dependencies=function(e,r,a,i){if(void 0!==e.layer_action&&void 0!==e.layer_action.action&&e.layer_action.action.length>0)for(var o in e.layer_action.action)if(e.layer_action.action.hasOwnProperty(o))switch(e.layer_action.action[o]){case\"start_in\":case\"start_out\":case\"toggle_layer\":case\"start_video\":case\"stop_video\":case\"toggle_video\":case\"mute_video\":case\"unmute_video\":case\"toggle_mute_video\":case\"toggle_global_mute_video\":case\"simulate_click\":case\"toggle_class\":if(void 0!==e.layer_action.layer_target&&void 0!==e.layer_action.layer_target[o]&&\"backgroundvideo\"!==e.layer_action.layer_target[o]&&\"firstvideo\"!==e.layer_action.layer_target[o]&&-1==jQuery.inArray(e.layer_action.layer_target[o],a))for(var s in a.push(e.layer_action.layer_target[o]),i)if(i.hasOwnProperty(s)&&i[s].unique_id==e.layer_action.layer_target[o]){var n=t.get_action_string_dependencies(i[s],r,a,i);for(var l in n)n.hasOwnProperty(l)&&-1==jQuery.inArray(n[l],a)&&a.push(n[l]);break}}return a},jQuery(\"body\").on(\"click\",\".addbutton-examples-wrapper a.rev-btn\",function(){var e={static_styles:{},inline:{idle:{},hover:{}},deformation:{},\"deformation-hover\":{}};e.text=jQuery('input[name=\"adbutton-text\"]').val(),e.type=\"button\",e.subtype=\"roundbutton\",e.specialsettings={},e.alias=\"Button\",e.style=\"\",e.internal_class=jQuery(this).data(\"needclass\"),e[\"resize-full\"]=!1,e.resizeme=!1,e.static_styles.color=jQuery('input[name=\"adbutton-color-2\"]').val(),e.static_styles[\"font-size\"]=jQuery(this).css(\"font-size\"),e.static_styles[\"line-height\"]=jQuery(this).css(\"font-size\"),e.static_styles[\"font-weight\"]=jQuery(this).css(\"font-weight\"),e.max_width=\"auto\",e.max_height=\"auto\",e.autolinebreak=!1,e.deformation.padding=[jQuery(this).css(\"paddingTop\"),jQuery(this).css(\"paddingRight\"),jQuery(this).css(\"paddingBottom\"),jQuery(this).css(\"paddingLeft\")],e.deformation[\"font-family\"]=jQuery('input[name=\"adbutton-fontfamily\"]').val(),e.deformation[\"background-color\"]=jQuery('input[name=\"adbutton-color-1\"]').val(),e.deformation[\"background-transparency\"]=jQuery('input[name=\"adbutton-opacity-1\"]').val(),e.deformation[\"color-transparency\"]=jQuery('input[name=\"adbutton-opacity-2\"]').val(),e.deformation[\"border-radius\"]=[jQuery(this).css(\"borderTopLeftRadius\"),jQuery(this).css(\"borderTopRightRadius\"),jQuery(this).css(\"borderBottomRightRadius\"),jQuery(this).css(\"borderBottomLeftRadius\")],e.deformation[\"border-color\"]=jQuery('input[name=\"adbutton-border-color\"]').val(),e.deformation[\"border-transparency\"]=jQuery('input[name=\"adbutton-border-opacity\"]').val(),e.deformation[\"border-opacity\"]=jQuery('input[name=\"adbutton-border-opacity\"]').val(),e.deformation[\"border-width\"]=[jQuery('input[name=\"adbutton-border-width\"]').val(),jQuery('input[name=\"adbutton-border-width\"]').val(),jQuery('input[name=\"adbutton-border-width\"]').val(),jQuery('input[name=\"adbutton-border-width\"]').val()],e.deformation[\"border-style\"]=\"solid\",jQuery(this).hasClass(\"rev-withicon\")?(e.deformation[\"icon-class\"]=jQuery(\".addbutton-icon i\").attr(\"class\"),e.text+='<i class=\"'+e.deformation[\"icon-class\"]+'\"></i>'):e.deformation[\"icon-class\"]=\"\",e.hover=!0,e[\"deformation-hover\"][\"background-color\"]=jQuery('input[name=\"adbutton-color-1-h\"]').val(),e[\"deformation-hover\"][\"background-transparency\"]=jQuery('input[name=\"adbutton-opacity-1-h\"]').val(),e[\"deformation-hover\"].color=jQuery('input[name=\"adbutton-color-2-h\"]').val(),e[\"deformation-hover\"][\"color-transparency\"]=jQuery('input[name=\"adbutton-opacity-2-h\"]').val(),e[\"deformation-hover\"][\"border-radius\"]=[jQuery(this).css(\"borderTopLeftRadius\"),jQuery(this).css(\"borderTopRightRadius\"),jQuery(this).css(\"borderBottomRightRadius\"),jQuery(this).css(\"borderBottomLeftRadius\")],e[\"deformation-hover\"][\"border-color\"]=jQuery('input[name=\"adbutton-border-color-h\"]').val(),e[\"deformation-hover\"][\"border-transparency\"]=jQuery('input[name=\"adbutton-border-opacity-h\"]').val(),e[\"deformation-hover\"][\"border-opacity\"]=jQuery('input[name=\"adbutton-border-opacity-h\"]').val(),e[\"deformation-hover\"][\"border-width\"]=[jQuery('input[name=\"adbutton-border-width-h\"]').val(),jQuery('input[name=\"adbutton-border-width-h\"]').val(),jQuery('input[name=\"adbutton-border-width-h\"]').val(),jQuery('input[name=\"adbutton-border-width-h\"]').val()],e[\"deformation-hover\"][\"border-style\"]=\"solid\",jQuery(this).hasClass(\"rev-hiddenicon\")?(e[\"deformation-hover\"][\"icon-class\"]=jQuery(\".addbutton-icon i\").attr(\"class\"),e.text+=' <i class=\"'+e[\"deformation-hover\"][\"icon-class\"]+'\"></i>'):e[\"deformation-hover\"][\"icon-class\"]=\"\",jQuery(this).hasClass(\"rev-btn\")&&(e.deformation[\"text-decoration\"]=\"none\",e[\"deformation-hover\"].css_cursor=\"pointer\",e[\"deformation-hover\"].pointer_events=\"auto\",e.inline.idle.outline=\"none\",e.inline.idle[\"box-shadow\"]=\"none\",e.inline.idle[\"box-sizing\"]=\"border-box\",e.inline.idle[\"-moz-box-sizing\"]=\"border-box\",e.inline.idle[\"-webkit-box-sizing\"]=\"border-box\"),jQuery(this).hasClass(\"rev-uppercase\")&&(e.inline.idle[\"text-transform\"]=\"uppercase\",e.inline.idle[\"letter-spacing\"]=\"1px\"),e.createdOnInit=!1,addLayer(e),jQuery(\"#dialog_addbutton\").dialog(\"close\")});var r=function(e){var t={static_styles:{},inline:{idle:{},hover:{}},deformation:{},\"deformation-hover\":{}};t.text=e.html(),t.type=\"button\",t.specialsettings={},t.style=\"\",t.internal_class=e.data(\"needclass\"),t[\"resize-full\"]=!1,t.resizeme=!1,t.max_width=e.css(\"width\"),t.max_height=e.css(\"height\"),t.deformation.padding=[e.css(\"paddingTop\"),e.css(\"paddingRight\"),e.css(\"paddingBottom\"),e.css(\"paddingLeft\")],t.deformation[\"background-color\"]=UniteAdminRev.rgb2hex(e.css(\"backgroundColor\"));var r=UniteAdminRev.getTransparencyFromRgba(e.css(\"backgroundColor\"));0==(r=!1===r?1:r)&&(t.deformation[\"background-color\"]=\"transparent\"),t.deformation[\"background-opacity\"]=r,t.deformation[\"background-transparency\"]=r,t.deformation[\"border-color\"]=UniteAdminRev.rgb2hex(e.css(\"borderTopColor\"));var a=UniteAdminRev.getTransparencyFromRgba(e.css(\"borderTopColor\"));return 0==(a=!1===a?1:a)&&(t.deformation[\"border-color\"]=\"transparent\"),t.deformation[\"border-opacity\"]=a,t.deformation[\"border-transparency\"]=a,t.deformation[\"border-radius\"]=[e.css(\"borderTopLeftRadius\"),e.css(\"borderTopRightRadius\"),e.css(\"borderBottomRightRadius\"),e.css(\"borderBottomLeftRadius\")],t.deformation[\"border-width\"]=[e.css(\"borderTopWidth\"),e.css(\"borderRightWidth\"),e.css(\"borderBottomWidth\"),e.css(\"borderLeftWidth\")],t.deformation[\"border-style\"]=e.css(\"borderTopStyle\"),t[\"deformation-hover\"].css_cursor=e.css(\"cursor\"),t[\"deformation-hover\"].pointer_events=e.css(\"pointer-events\")||\"auto\",t.inline.idle[\"box-sizing\"]=\"border-box\",t.inline.idle[\"-moz-box-sizing\"]=\"border-box\",t.inline.idle[\"-webkit-box-sizing\"]=\"border-box\",t};jQuery(\"body\").on(\"click\",\".addbutton-examples-wrapper div.rev-burger\",function(){var e=r(jQuery(this));e.alias=\"Burger Button\",e.subtype=\"burgerbutton\",e.layer_action={},e.layer_action.tooltip_event=[],e.layer_action.tooltip_event.push(\"click\"),e.layer_action.action=[],e.layer_action.action.push(\"toggle_class\"),e.layer_action.layer_target=[],e.layer_action.layer_target.push(\"self\"),e.layer_action.action_delay=[],e.layer_action.action_delay.push(0),e.layer_action.toggle_class=[],e.layer_action.toggle_class.push(\"open\"),e.createdOnInit=!1,addLayer(e),jQuery(\"#dialog_addbutton\").dialog(\"close\")}),jQuery(\"body\").on(\"click\",\".addbutton-examples-wrapper span.rev-control-btn\",function(){var e=r(jQuery(this));e.alias=\"Control Button\",e.subtype=\"controlbutton\",void 0===e.static_styles&&(e.static_styles={}),e.static_styles[\"font-size\"]=jQuery(this).css(\"font-size\"),e.static_styles[\"line-height\"]=jQuery(this).css(\"line-height\"),e.static_styles[\"font-weight\"]=jQuery(this).css(\"font-weight\"),e.static_styles.color=UniteAdminRev.rgb2hex(jQuery(this).css(\"color\")),e.deformation[\"font-family\"]=jQuery(this).css(\"font-family\"),e[\"text-align\"]=jQuery(this).css(\"text-align\"),e.deformation[\"vertical-align\"]=jQuery(this).css(\"vertical-align\"),e.createdOnInit=!1,addLayer(e),jQuery(\"#dialog_addbutton\").dialog(\"close\")}),jQuery(\"body\").on(\"click\",\".addbutton-examples-wrapper span.rev-scroll-btn\",function(){var e=r(jQuery(this));e.subtype=\"scrollbutton\",e.alias=\"Scroll Button\",e.createdOnInit=!1,addLayer(e),jQuery(\"#dialog_addbutton\").dialog(\"close\")}),jQuery(\"#linkInsertTemplate\").click(function(){if(jQuery(this).hasClass(\"disabled\"))return!1;add_meta_into=\"\";var e={Cancel:function(){jQuery(\"#dialog_template_insert\").dialog(\"close\")}};jQuery(\"#dialog_template_insert\").dialog({buttons:e,minWidth:700,dialogClass:\"tpdialogs\",modal:!0,create:function(e){jQuery(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")}})}),jQuery(\".rs-param-meta-open\").click(function(){add_meta_into=\"params_\"+jQuery(this).data(\"curid\");var e={Cancel:function(){jQuery(\"#dialog_template_insert\").dialog(\"close\")}};jQuery(\"#dialog_template_insert\").dialog({buttons:e,minWidth:700,dialogClass:\"tpdialogs\",modal:!0,create:function(e){jQuery(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")}})}),jQuery(\"#rs-undo-handler\").click(function(){t.undo_redo_layer(\"undo\")}),jQuery(\"#rs-redo-handler\").click(function(){t.undo_redo_layer(\"redo\")}),jQuery(\"body\").on(\"click\",\".rs-undo-step\",function(){var e=jQuery(this).data(\"gotokey\");t.undo_redo_layer(\"undo\",e)}),jQuery(\"body\").on(\"click\",\".rs-redo-step\",function(){var e=jQuery(this).data(\"gotokey\");t.undo_redo_layer(\"redo\",e)})},createNewAnimObj=function(e){var t=new Object;return\"start\"==e?(t.movex=jQuery('input[name=\"layer_anim_xstart\"]').val(),t.movey=jQuery('input[name=\"layer_anim_ystart\"]').val(),t.mask=jQuery(\"#masking-start\")[0].checked,t.movez=jQuery('input[name=\"layer_anim_zstart\"]').val(),t.rotationx=jQuery('input[name=\"layer_anim_xrotate\"]').val(),t.rotationy=jQuery('input[name=\"layer_anim_yrotate\"]').val(),t.rotationz=jQuery('input[name=\"layer_anim_zrotate\"]').val(),t.scalex=jQuery('input[name=\"layer_scale_xstart\"]').val(),t.scaley=jQuery('input[name=\"layer_scale_ystart\"]').val(),t.skewx=jQuery('input[name=\"layer_skew_xstart\"]').val(),t.skewy=jQuery('input[name=\"layer_skew_ystart\"]').val(),t.captionopacity=jQuery('input[name=\"layer_opacity_start\"]').val(),t.blurfilter=jQuery('input[name=\"blurfilter_start\"]').val(),t.grayscalefilter=jQuery('input[name=\"grayscalefilter_start\"]').val(),t.mask=jQuery(\"#masking-start\")[0].checked,t.mask_x=jQuery('input[name=\"mask_anim_xstart\"]').val(),t.mask_y=jQuery('input[name=\"mask_anim_ystart\"]').val(),t.mask_ease=jQuery('input[name=\"mask_easing\"]').val(),t.mask_speed=jQuery('input[name=\"mask_speed\"]').val(),t.easing=jQuery('select[name=\"layer_easing\"] option:selected').val(),t.speed=jQuery('input[name=\"layer_speed\"]').val(),t.split=jQuery('select[name=\"layer_split\"] option:selected').val(),t.splitdelay=jQuery('input[name=\"layer_splitdelay\"]').val(),t.movex_reverse=jQuery(\"#layer_anim_xstart_reverse\")[0].checked,t.movey_reverse=jQuery(\"#layer_anim_ystart_reverse\")[0].checked,t.rotationx_reverse=jQuery(\"#layer_anim_xrotate_reverse\")[0].checked,t.rotationy_reverse=jQuery(\"#layer_anim_yrotate_reverse\")[0].checked,t.rotationz_reverse=jQuery(\"#layer_anim_zrotate_reverse\")[0].checked,t.scalex_reverse=jQuery(\"#layer_scale_xstart_reverse\")[0].checked,t.scaley_reverse=jQuery(\"#layer_scale_ystart_reverse\")[0].checked,t.skewx_reverse=jQuery(\"#layer_skew_xstart_reverse\")[0].checked,t.skewy_reverse=jQuery(\"#layer_skew_ystart_reverse\")[0].checked,t.mask_x_reverse=jQuery(\"#mask_anim_xstart_reverse\")[0].checked,t.mask_y_reverse=jQuery(\"#mask_anim_ystart_reverse\")[0].checked):(t.movex=jQuery(\"#layer_anim_xend\").val(),t.movey=jQuery(\"#layer_anim_yend\").val(),t.movez=jQuery(\"#layer_anim_zend\").val(),t.rotationx=jQuery(\"#layer_anim_xrotate_end\").val(),t.rotationy=jQuery(\"#layer_anim_yrotate_end\").val(),t.rotationz=jQuery(\"#layer_anim_zrotate_end\").val(),t.scalex=jQuery(\"#layer_scale_xend\").val(),t.scaley=jQuery(\"#layer_scale_yend\").val(),t.skewx=jQuery(\"#layer_skew_xend\").val(),t.skewy=jQuery(\"#layer_skew_yend\").val(),t.captionopacity=jQuery(\"#layer_opacity_end\").val(),t.mask=jQuery(\"#masking-end\")[0].checked,t.mask_x=jQuery(\"#mask_anim_xend\").val(),t.mask_y=jQuery(\"#mask_anim_yend\").val(),t.easing=jQuery(\"#layer_endeasing option:selected\").val(),t.speed=jQuery(\"#layer_endspeed\").val(),t.split=jQuery(\"#layer_endsplit option:selected\").val(),t.splitdelay=jQuery(\"#layer_endsplitdelay\").val(),t.movex_reverse=jQuery(\"#layer_anim_xend_reverse\")[0].checked,t.movey_reverse=jQuery(\"#layer_anim_yend_reverse\")[0].checked,t.rotationx_reverse=jQuery(\"#layer_anim_xrotate_end_reverse\")[0].checked,t.rotationy_reverse=jQuery(\"#layer_anim_yrotate_end_reverse\")[0].checked,t.rotationz_reverse=jQuery(\"#layer_anim_zrotate_end_reverse\")[0].checked,t.scalex_reverse=jQuery(\"#layer_scale_xend_reverse\")[0].checked,t.scaley_reverse=jQuery(\"#layer_scale_yend_reverse\")[0].checked,t.skewx_reverse=jQuery(\"#layer_skew_xend_reverse\")[0].checked,t.skewy_reverse=jQuery(\"#layer_skew_yend_reverse\")[0].checked,t.mask_x_reverse=jQuery(\"#mask_anim_xend_reverse\")[0].checked,t.mask_y_reverse=jQuery(\"#mask_anim_xend_reverse\")[0].checked),t},setNewAnimFromObj=function(e,r){if(null==r)return!0;\"start\"==e?(void 0!==r.movex?jQuery('input[name=\"layer_anim_xstart\"]').val(r.movex):jQuery('input[name=\"layer_anim_xstart\"]').val(0),void 0!==r.movey?jQuery('input[name=\"layer_anim_ystart\"]').val(r.movey):jQuery('input[name=\"layer_anim_ystart\"]').val(0),void 0!==r.movez?jQuery('input[name=\"layer_anim_zstart\"]').val(r.movez):jQuery('input[name=\"layer_anim_zstart\"]').val(0),void 0!==r.rotationx?jQuery('input[name=\"layer_anim_xrotate\"]').val(r.rotationx):jQuery('input[name=\"layer_anim_xrotate\"]').val(0),void 0!==r.rotationy?jQuery('input[name=\"layer_anim_yrotate\"]').val(r.rotationy):jQuery('input[name=\"layer_anim_yrotate\"]').val(0),void 0!==r.rotationz?jQuery('input[name=\"layer_anim_zrotate\"]').val(r.rotationz):jQuery('input[name=\"layer_anim_zrotate\"]').val(0),void 0!==r.scalex?jQuery('input[name=\"layer_scale_xstart\"]').val(r.scalex):jQuery('input[name=\"layer_scale_xstart\"]').val(0),void 0!==r.scaley?jQuery('input[name=\"layer_scale_ystart\"]').val(r.scaley):jQuery('input[name=\"layer_scale_ystart\"]').val(0),void 0!==r.skewx?jQuery('input[name=\"layer_skew_xstart\"]').val(r.skewx):jQuery('input[name=\"layer_skew_xstart\"]').val(0),void 0!==r.skewy?jQuery('input[name=\"layer_skew_ystart\"]').val(r.skewy):jQuery('input[name=\"layer_skew_ystart\"]').val(0),void 0!==r.captionopacity?jQuery('input[name=\"layer_opacity_start\"]').val(r.captionopacity):jQuery('input[name=\"layer_opacity_start\"]').val(0),void 0!==r.blurfilter?jQuery('input[name=\"blurfilter_start\"]').val(r.blurfilter):jQuery('input[name=\"blurfilter_start\"]').val(0),void 0!==r.grayscalefilter?jQuery('input[name=\"grayscalefilter_start\"]').val(r.grayscalefilter):jQuery('input[name=\"grayscalefilter_start\"]').val(0),void 0===r.mask||\"true\"!=r.mask&&1!=r.mask?jQuery(\"#masking-start\").attr(\"checked\",!1):jQuery(\"#masking-start\").attr(\"checked\",!0),void 0!==r.mask_x?jQuery('input[name=\"mask_anim_xstart\"]').val(r.mask_x):jQuery('input[name=\"mask_anim_xstart\"]').val(0),void 0!==r.mask_y?jQuery('input[name=\"mask_anim_ystart\"]').val(r.mask_y):jQuery('input[name=\"mask_anim_ystart\"]').val(0),void 0!==r.mask_ease?jQuery('input[name=\"mask_easing\"]').val(r.mask_ease):jQuery('input[name=\"mask_easing\"]').val(0),void 0!==r.mask_speed?jQuery('input[name=\"mask_speed\"]').val(r.mask_speed):jQuery('input[name=\"mask_speed\"]').val(0),void 0!==r.easing&&jQuery('select[name=\"layer_easing\"] option[value=\"'+r.easing+'\"]').attr(\"selected\",\"selected\"),void 0!==r.speed&&jQuery('input[name=\"layer_speed\"]').val(r.speed),void 0!==r.split&&jQuery('select[name=\"layer_split\"] option[value=\"'+r.split+'\"]').attr(\"selected\",\"selected\"),void 0!==r.splitdelay&&jQuery('input[name=\"layer_splitdelay\"]').val(r.splitdelay),void 0===r.movex_reverse||\"true\"!=r.movex_reverse&&1!=r.movex_reverse?jQuery(\"#layer_anim_xstart_reverse\").attr(\"checked\",!1):jQuery(\"#layer_anim_xstart_reverse\").attr(\"checked\",!0),void 0===r.movey_reverse||\"true\"!=r.movey_reverse&&1!=r.movey_reverse?jQuery(\"#layer_anim_ystart_reverse\").attr(\"checked\",!1):jQuery(\"#layer_anim_ystart_reverse\").attr(\"checked\",!0),void 0===r.rotationx_reverse||\"true\"!=r.rotationx_reverse&&1!=r.rotationx_reverse?jQuery('input[name=\"layer_anim_xrotate_start_reverse\"]').attr(\"checked\",!1):jQuery('input[name=\"layer_anim_xrotate_start_reverse\"]').attr(\"checked\",!0),void 0===r.rotationy_reverse||\"true\"!=r.rotationy_reverse&&1!=r.rotationy_reverse?jQuery('input[name=\"layer_anim_yrotate_start_reverse\"]').attr(\"checked\",!1):jQuery('input[name=\"layer_anim_yrotate_start_reverse\"]').attr(\"checked\",!0),void 0===r.rotationz_reverse||\"true\"!=r.rotationz_reverse&&1!=r.rotationz_reverse?jQuery('input[name=\"layer_anim_zrotate_start_reverse\"]').attr(\"checked\",!1):jQuery('input[name=\"layer_anim_zrotate_start_reverse\"]').attr(\"checked\",!0),void 0===r.scalex_reverse||\"true\"!=r.scalex_reverse&&1!=r.scalex_reverse?jQuery(\"#layer_scale_xstart_reverse\").attr(\"checked\",!1):jQuery(\"#layer_scale_xstart_reverse\").attr(\"checked\",!0),void 0===r.scaley_reverse||\"true\"!=r.scaley_reverse&&1!=r.scaley_reverse?jQuery(\"#layer_scale_ystart_reverse\").attr(\"checked\",!1):jQuery(\"#layer_scale_ystart_reverse\").attr(\"checked\",!0),void 0===r.skewx_reverse||\"true\"!=r.skewx_reverse&&1!=r.skewx_reverse?jQuery(\"#layer_skew_xstart_reverse\").attr(\"checked\",!1):jQuery(\"#layer_skew_xstart_reverse\").attr(\"checked\",!0),void 0===r.skewy_reverse||\"true\"!=r.skewy_reverse&&1!=r.skewy_reverse?jQuery(\"#layer_skew_ystart_reverse\").attr(\"checked\",!1):jQuery(\"#layer_skew_ystart_reverse\").attr(\"checked\",!0),void 0===r.mask_x_reverse||\"true\"!=r.mask_x_reverse&&1!=r.mask_x_reverse?jQuery(\"#mask_anim_xstart_reverse\").attr(\"checked\",!1):jQuery(\"#mask_anim_xstart_reverse\").attr(\"checked\",!0),void 0===r.mask_y_reverse||\"true\"!=r.mask_y_reverse&&1!=r.mask_y_reverse?jQuery(\"#mask_anim_ystart_reverse\").attr(\"checked\",!1):jQuery(\"#mask_anim_ystart_reverse\").attr(\"checked\",!0)):(void 0!==r.movex?jQuery(\"#layer_anim_xend\").val(r.movex):jQuery(\"#layer_anim_xend\").val(0),void 0!==r.movey?jQuery(\"#layer_anim_yend\").val(r.movey):jQuery(\"#layer_anim_yend\").val(0),void 0!==r.movez?jQuery(\"#layer_anim_zend\").val(r.movez):jQuery(\"#layer_anim_zend\").val(0),void 0!==r.rotationx?jQuery(\"#layer_anim_xrotate_end\").val(r.rotationx):jQuery(\"#layer_anim_xrotate_end\").val(0),void 0!==r.rotationy?jQuery(\"#layer_anim_yrotate_end\").val(r.rotationy):jQuery(\"#layer_anim_yrotate_end\").val(0),void 0!==r.rotationz?jQuery(\"#layer_anim_zrotate_end\").val(r.rotationz):jQuery(\"#layer_anim_zrotate_end\").val(0),void 0!==r.scalex?jQuery(\"#layer_scale_xend\").val(r.scalex):jQuery(\"#layer_scale_xend\").val(0),void 0!==r.scaley?jQuery(\"#layer_scale_yend\").val(r.scaley):jQuery(\"#layer_scale_yend\").val(0),void 0!==r.skewx?jQuery(\"#layer_skew_xend\").val(r.skewx):jQuery(\"#layer_skew_xend\").val(0),void 0!==r.skewy?jQuery(\"#layer_skew_yend\").val(r.skewy):jQuery(\"#layer_skew_yend\").val(0),void 0!==r.captionopacity?jQuery(\"#layer_opacity_end\").val(r.captionopacity):jQuery(\"#layer_opacity_end\").val(0),void 0===r.mask||\"true\"!=r.mask&&1!=r.mask?jQuery(\"#masking-end\").attr(\"checked\",!1):jQuery(\"#masking-end\").attr(\"checked\",!0),void 0!==r.mask_x?jQuery(\"#mask_anim_xend\").val(r.mask_x):jQuery(\"#mask_anim_xend\").val(0),void 0!==r.mask_y?jQuery(\"#mask_anim_yend\").val(r.mask_y):jQuery(\"#mask_anim_yend\").val(0),void 0!==r.easing&&jQuery('#layer_endeasing option[value=\"'+r.easing+'\"]').attr(\"selected\",\"selected\"),void 0!==r.speed&&jQuery(\"#layer_endspeed\").val(r.speed),void 0!==r.split&&jQuery('#layer_endsplit option[value=\"'+r.split+'\"]').attr(\"selected\",\"selected\"),void 0!==r.splitdelay&&jQuery(\"#layer_endsplitdelay\").val(r.splitdelay),void 0===r.movex_reverse||\"true\"!=r.movex_reverse&&1!=r.movex_reverse?jQuery(\"#layer_anim_xend_reverse\").attr(\"checked\",!1):jQuery(\"#layer_anim_xend_reverse\").attr(\"checked\",!0),void 0===r.movey_reverse||\"true\"!=r.movey_reverse&&1!=r.movey_reverse?jQuery(\"#layer_anim_yend_reverse\").attr(\"checked\",!1):jQuery(\"#layer_anim_yend_reverse\").attr(\"checked\",!0),void 0===r.rotationx_reverse||\"true\"!=r.rotationx_reverse&&1!=r.rotationx_reverse?jQuery(\"#layer_anim_xrotate_end_reverse\").attr(\"checked\",!1):jQuery(\"#layer_anim_xrotate_end_reverse\").attr(\"checked\",!0),void 0===r.rotationy_reverse||\"true\"!=r.rotationy_reverse&&1!=r.rotationy_reverse?jQuery(\"#layer_anim_yrotate_end_reverse\").attr(\"checked\",!1):jQuery(\"#layer_anim_yrotate_end_reverse\").attr(\"checked\",!0),void 0===r.rotationz_reverse||\"true\"!=r.rotationz_reverse&&1!=r.rotationz_reverse?jQuery(\"#layer_anim_zrotate_end_reverse\").attr(\"checked\",!1):jQuery(\"#layer_anim_zrotate_end_reverse\").attr(\"checked\",!0),void 0===r.scalex_reverse||\"true\"!=r.scalex_reverse&&1!=r.scalex_reverse?jQuery(\"#layer_scale_xend_reverse\").attr(\"checked\",!1):jQuery(\"#layer_scale_xend_reverse\").attr(\"checked\",!0),void 0===r.scaley_reverse||\"true\"!=r.scaley_reverse&&1!=r.scaley_reverse?jQuery(\"#layer_scale_yend_reverse\").attr(\"checked\",!1):jQuery(\"#layer_scale_yend_reverse\").attr(\"checked\",!0),void 0===r.skewx_reverse||\"true\"!=r.skewx_reverse&&1!=r.skewx_reverse?jQuery(\"#layer_skew_xend_reverse\").attr(\"checked\",!1):jQuery(\"#layer_skew_xend_reverse\").attr(\"checked\",!0),void 0===r.skewy_reverse||\"true\"!=r.skewy_reverse&&1!=r.skewy_reverse?jQuery(\"#layer_skew_yend_reverse\").attr(\"checked\",!1):jQuery(\"#layer_skew_yend_reverse\").attr(\"checked\",!0),void 0===r.mask_x_reverse||\"true\"!=r.mask_x_reverse&&1!=r.mask_x_reverse?jQuery(\"#mask_anim_xend_reverse\").attr(\"checked\",!1):jQuery(\"#mask_anim_xend_reverse\").attr(\"checked\",!0),void 0===r.mask_y_reverse||\"true\"!=r.mask_y_reverse&&1!=r.mask_y_reverse?jQuery(\"#mask_anim_yend_reverse\").attr(\"checked\",!1):jQuery(\"#mask_anim_yend_reverse\").attr(\"checked\",!0)),void 0===r.mask||\"true\"!=r.mask&&1!=r.mask?jQuery(\".mask-start-settings\").hide():jQuery(\".mask-start-settings\").show(),RevSliderSettings.onoffStatus(jQuery(\"#masking-start\")),RevSliderSettings.onoffStatus(jQuery(\"#masking-end\")),t.updateReverseList()},checkMaskingAvailabity=function(){1!=jQuery(\"#layer__scalex\").val()||1!=jQuery(\"#layer__scaley\").val()||0!=parseInt(jQuery(\"#layer__skewx\").val(),0)||0!=parseInt(jQuery(\"#layer__skewy\").val(),0)||0!=parseInt(jQuery(\"#layer__xrotate\").val(),0)||0!=parseInt(jQuery(\"#layer__yrotate\").val(),0)||0!=parseInt(jQuery(\"#layer_2d_rotation\").val(),0)?(jQuery(\".mask-not-available\").show(),jQuery(\".mask-is-available\").hide(),jQuery(\"#masking-start\").prop(\"checked\",!1),jQuery(\"#masking-end\").prop(\"checked\",!1),jQuery(\".mask-start-settings\").hide(),jQuery(\".mask-end-settings\").hide(),jQuery(\".tp-showmask\").removeClass(\"tp-showmask\"),RevSliderSettings.onoffStatus(jQuery(\"#masking-start\")),RevSliderSettings.onoffStatus(jQuery(\"#masking-end\")),u.rebuildLayerIdle(getjQueryLayer()),t.updateLayerFromFields()):(jQuery(\".mask-not-available\").hide(),jQuery(\".mask-is-available\").show())},checkIfAnimExists=function(e){if(\"object\"==typeof initLayerAnims&&!jQuery.isEmptyObject(initLayerAnims))for(var t in initLayerAnims)if(initLayerAnims.hasOwnProperty(t)&&initLayerAnims[t].handle==e)return initLayerAnims[t].id;return!1},checkIfAnimIsEditable=function(e){if(\"object\"==typeof initLayerAnims&&!jQuery.isEmptyObject(initLayerAnims))for(var t in initLayerAnims)if(initLayerAnims.hasOwnProperty(t)&&initLayerAnims[t].handle==e)return initLayerAnims[t].id;return!1},deleteAnimInDb=function(e){if(UniteAdminRev.setErrorMessageID(\"dialog_error_message\"),\"\"!=(e=jQuery.trim(e))){jQuery(\"customin\"==currentAnimationType?\"#layer_animation option\":\"#layer_endanimation option\");UniteAdminRev.ajaxRequest(\"delete_custom_anim\",e,function(r){jQuery(\"#layer_animation option:selected\")!=e&&jQuery(\"#layer_animation option:selected\")!=e.replace(\"customout\",\"customin\")||jQuery('#layer_animation option[value=\"tp-fade\"]').attr(\"selected\",!0),jQuery(\"#layer_endanimation option:selected\")!=e&&jQuery(\"#layer_endanimation option:selected\")!=e.replace(\"customin\",\"customout\")||jQuery('#layer_endanimation option[value=\"tp-fade\"]').attr(\"selected\",!0),t.updateInitLayerAnim(r.customfull),updateLayerAnimsInput(r.customin,\"customin\"),updateLayerAnimsInput(r.customout,\"customout\")})}},renameAnimInDb=function(e,r){var a={};a.id=e,a.handle=r,UniteAdminRev.ajaxRequest(\"update_custom_anim_name\",a,function(e){t.updateInitLayerAnim(e.customfull),updateLayerAnimsInput(e.customin,\"customin\"),updateLayerAnimsInput(e.customout,\"customout\"),selectLayerAnim(r)})},updateAnimInDb=function(e,r,a){UniteAdminRev.setErrorMessageID(\"dialog_error_message\"),r.handle=e,!1===a?UniteAdminRev.ajaxRequest(\"insert_custom_anim\",r,function(r){t.updateInitLayerAnim(r.customfull),updateLayerAnimsInput(r.customin,\"customin\"),updateLayerAnimsInput(r.customout,\"customout\"),selectLayerAnim(e)}):UniteAdminRev.ajaxRequest(\"update_custom_anim\",r,function(a){t.updateInitLayerAnim(a.customfull),updateLayerAnimsInput(a.customin,\"customin\"),updateLayerAnimsInput(a.customout,\"customout\"),selectLayerAnim(e);var i=e.replace(\"customin-\",\"\").replace(\"customout-\",\"\");for(var o in t.arrLayers)t.arrLayers.hasOwnProperty(o)&&(t.arrLayers[o].frames.frame_999.animation==\"customout-\"+i?(t.arrLayers[o].x_end=r.params.movex,t.arrLayers[o].y_end=r.params.movey,t.arrLayers[o].z_end=r.params.movez,t.arrLayers[o].x_rotate_end=r.params.rotationx,t.arrLayers[o].y_rotate_end=r.params.rotationy,t.arrLayers[o].z_rotate_end=r.params.rotationz,t.arrLayers[o].scale_x_end=r.params.scalex,t.arrLayers[o].scale_y_end=r.params.scaley,t.arrLayers[o].opacity_end=r.params.captionopacity,t.arrLayers[o].skew_x_end=r.params.skewx,t.arrLayers[o].skew_y_end=r.params.skewy,t.arrLayers[o].mask_end=r.params.mask,t.arrLayers[o].mask_x_end=r.params.mask_x,t.arrLayers[o].mask_y_end=r.params.mask_y,t.arrLayers[o].mask_ease_end=r.params.mask_ease,t.arrLayers[o].mask_speed_end=r.params.mask_speed,t.arrLayers[o].x_end_reverse=r.params.movex_reverse,t.arrLayers[o].y_end_reverse=r.params.movey_reverse,t.arrLayers[o].x_rotate_end_reverse=r.params.rotationx_reverse,t.arrLayers[o].y_rotate_end_reverse=r.params.rotationy_reverse,t.arrLayers[o].z_rotate_end_reverse=r.params.rotationz_reverse,t.arrLayers[o].scale_x_end_reverse=r.params.scalex_reverse,t.arrLayers[o].scale_y_end_reverse=r.params.scaley_reverse,t.arrLayers[o].skew_x_end_reverse=r.params.skewx_reverse,t.arrLayers[o].skew_y_end_reverse=r.params.skewy_reverse,t.arrLayers[o].mask_x_end_reverse=r.params.mask_x_reverse,t.arrLayers[o].mask_y_end_reverse=r.params.mask_y_reverse,t.arrLayers[o].frames.frame_999.easing=r.params.easing,t.arrLayers[o].frames.frame_999.split=r.params.split,t.arrLayers[o].frames.frame_999.splitdelay=r.params.splitdelay,t.arrLayers[o].frames.frame_999.speed=r.params.speed):t.arrLayers[o].frames.frame_0.animation==\"customin-\"+i&&(t.arrLayers[o].x_start=r.params.movex,t.arrLayers[o].y_start=r.params.movey,t.arrLayers[o].z_start=r.params.movez,t.arrLayers[o].x_rotate_start=r.params.rotationx,t.arrLayers[o].y_rotate_start=r.params.rotationy,t.arrLayers[o].z_rotate_start=r.params.rotationz,t.arrLayers[o].scale_x_start=r.params.scalex,t.arrLayers[o].scale_y_start=r.params.scaley,t.arrLayers[o].opacity_start=r.params.captionopacity,t.arrLayers[o].blurfilter_start=r.params.blurfilter,t.arrLayers[o].grayscalefilter_start=r.params.grayscalefilter,t.arrLayers[o].skew_x_start=r.params.skewx,t.arrLayers[o].skew_y_start=r.params.skewy,t.arrLayers[o].mask_start=r.params.mask,t.arrLayers[o].mask_x_start=r.params.mask_x,t.arrLayers[o].mask_y_start=r.params.mask_y,t.arrLayers[o].mask_ease_start=r.params.mask_ease,t.arrLayers[o].mask_speed_start=r.params.mask_speed,t.arrLayers[o].x_start_reverse=r.params.movex_reverse,t.arrLayers[o].y_start_reverse=r.params.movey_reverse,t.arrLayers[o].x_rotate_start_reverse=r.params.rotationx_reverse,t.arrLayers[o].y_rotate_start_reverse=r.params.rotationy_reverse,t.arrLayers[o].z_rotate_start_reverse=r.params.rotationz_reverse,t.arrLayers[o].scale_x_start_reverse=r.params.scalex_reverse,t.arrLayers[o].scale_y_start_reverse=r.params.scaley_reverse,t.arrLayers[o].skew_x_start_reverse=r.params.skewx_reverse,t.arrLayers[o].skew_y_start_reverse=r.params.skewy_reverse,t.arrLayers[o].mask_x_start_reverse=r.params.mask_x_reverse,t.arrLayers[o].mask_y_start_reverse=r.params.mask_y_reverse,t.arrLayers[o].frames.frame_0.easing=r.params.easing,t.arrLayers[o].frames.frame_0.split=r.params.split,t.arrLayers[o].frames.frame_0.splitdelay=r.params.splitdelay,t.arrLayers[o].frames.frame_0.speed=r.params.speed))})},selectLayerAnim=function(e){jQuery(\"customin\"==currentAnimationType?\"#layer_animation option\":\"#layer_endanimation option\").each(function(){jQuery(this).text()==e||jQuery(this).val()==e?jQuery(this).prop(\"selected\",!0):jQuery(this).prop(\"selected\",!1)}),jQuery(\"customin\"==currentAnimationType?\"#layer_animation option:selected\":\"#layer_endanimation option:selected\").change()},updateLayerAnimsInput=function(e,t){if(\"customin\"==t)var r=jQuery(\"#layer_animation\"),a=jQuery(\"#layer_animation option\"),i=jQuery(\"#layer_animation option:selected\").val();else r=jQuery(\"#layer_endanimation\"),a=jQuery(\"#layer_endanimation option\"),i=jQuery(\"#layer_endanimation option:selected\").val();if(a.each(function(){jQuery(this).val().indexOf(t)>-1&&jQuery(this).remove()}),\"object\"==typeof e&&!jQuery.isEmptyObject(e))for(key in e)e.hasOwnProperty(key)&&r.append(new Option(e[key],key));r.val(i),r.change()},getFirstStyle=function(){var e=jQuery(\"#layer_caption\").catcomplete(\"option\",\"source\");return null==e||0==e.length?\"\":e[0].label},disableFormFields=function(){jQuery(\".form_layers\")[0].reset(),jQuery(\".form_layers input, .form_layers select, .form_layers textarea\").attr(\"disabled\",\"disabled\").addClass(\"setting-disabled\"),jQuery(\"#button_delete_layer\").addClass(\"button-now-disabled\"),jQuery(\"#button_duplicate_layer\").addClass(\"button-now-disabled\"),jQuery(\".form_layers label, .form_layers .setting_text, .form_layers .setting_unit\").addClass(\"text-disabled\"),jQuery(\"#layer_captions_down\").removeClass(\"ui-state-active\").addClass(\"ui-state-default\"),jQuery(\"#css_fonts_down\").removeClass(\"ui-state-active\").addClass(\"ui-state-default\"),jQuery(\"#linkInsertTemplate\").addClass(\"disabled\"),jQuery(\"#rs-align-wrapper\").addClass(\"table_disabled\"),jQuery(\"#rs-align-wrapper-ver\").addClass(\"table_disabled\"),jQuery(\"#preview_looper\").hasClass(\"deactivated\")||jQuery(\"#preview_looper\").click(),layerGeneralParamsStatus=!1},enableFormFields=function(){jQuery(\".form_layers input, .form_layers select, .form_layers textarea\").not(\".rs_disabled_field\").prop(\"disabled\",!1).removeClass(\"setting-disabled\"),jQuery(\"#button_delete_layer\").removeClass(\"button-now-disabled\"),jQuery(\"#button_duplicate_layer\").removeClass(\"button-now-disabled\"),jQuery(\".form_layers label, .form_layers .setting_text, .form_layers .setting_unit\").removeClass(\"text-disabled\"),jQuery(\"#layer_captions_down\").removeClass(\"ui-state-default\").addClass(\"ui-state-active\"),jQuery(\"#css_fonts_down\").removeClass(\"ui-state-default\").addClass(\"ui-state-active\"),jQuery(\"#linkInsertTemplate\").removeClass(\"disabled\"),jQuery(\"#rs-align-wrapper\").removeClass(\"table_disabled\"),jQuery(\"#rs-align-wrapper-ver\").removeClass(\"table_disabled\"),jQuery(\"#preview_looper\").hasClass(\"deactivated\")&&jQuery(\"#preview_looper\").click(),layerGeneralParamsStatus=!0};t.getLayers=function(){return-1!=t.selectedLayerSerial&&t.updateLayerFromFields(),updateLayersImageSizes(),t.arrLayers},t.getSimpleLayers=function(){return t.arrLayers};var updateLayersImageSizes=function(){for(serial in t.arrLayers)if(t.arrLayers.hasOwnProperty(serial)){var e=t.arrLayers[serial];if(\"image\"==e.type){var r=e.references.htmlLayer,a={};a=t.setVal(a,\"width\",r.width()),a=t.setVal(a,\"height\",r.height()),t.updateLayer(serial,a)}}};t.clickInsideElement=function(e,t){var r=e.srcElement||e.target;if(r.classList.contains(t))return r;for(;r=r.parentNode;)if(r.classList&&r.classList.contains(t))return r;return!1};var unselectAllFocusedGroup=function(){jQuery(\".slide_layer_type_group.inwork\").removeClass(\"inwork\"),jQuery(\"#focusongroup\").removeClass(\"inwork\")},refreshEvents=function(e){var r=t.getHtmlLayerFromSerial(e),a=jQuery(\"#rs-grid-sizes option:selected\").val(),i=r[0].classList.contains(\"slide_layer_type_row\")?\"#row-zone-top, #row-zone-middle, #row-zone-bottom\":r[0].classList.contains(\"slide_layer_type_column\")||r[0].classList.contains(\"slide_layer_type_group\")?\"\":\".slide_layer_type_column .tp_layer_group_inner_wrapper\",o=!!r[0].classList.contains(\"slide_layer_type_row\")&&\".row_moveme\";r.draggable({handle:o,start:onLayerDragStart,refreshPositions:!0,drag:t.onLayerDrag,connectToSortable:i,cancel:\" textbox, #layer_text, .layer_on_lock\",grid:[a,a],stop:onLayerDragEnd}),jQuery(\"#focusongroup\").click(unselectAllFocusedGroup),jQuery(\"body\").on(\"dblclick\",\".inlaydecor\",function(e){jQuery(this).closest(\".slide_layer_type_group\").addClass(\"inwork\"),jQuery(\"#focusongroup\").addClass(\"inwork\")}),r.click(function(a){var i=t.clickInsideElement(a,\"groupinfo\");if(!1!==i)return jQuery(i).closest(\".slide_layer_type_group\").addClass(\"inwork\"),jQuery(\"#focusongroup\").addClass(\"inwork\"),!1;if(a.metaKey||-1!==navigator.platform.toUpperCase().indexOf(\"WIN\")&&a.ctrlKey){var o=t.getLayer(e);\"checked\"==(s=jQuery(\"input#lots_id_\"+o.unique_id)).attr(\"checked\")?s.prop(\"checked\",!1):s.attr(\"checked\",\"checked\"),u.checkMultipleSelectedItems()}else{if(cm.toggleMenuOff(),\"rs-row-layout\"===jQuery(\":focus\").attr(\"id\"))return!1;jQuery(\":focus\").blur(),t.setLayerSelected(e);o=t.getLayer(e);var s=jQuery(\"input#lots_id_\"+o.unique_id);if(-1==jQuery.inArray(o.unique_id,t.selectedLayers)&&u.checkMultipleSelectedItems(!0),s.attr(\"checked\",\"checked\"),t.setLayerSelected(e),r.hasClass(\"slide_layer_type_row\")){o=t.getCurrentLayer();if(void 0!==a.srcElement&&(\"eg-icon-menu\"===a.srcElement.className||\"row_editor\"===a.srcElement.className)||null!=a.target&&(\"eg-icon-menu\"===a.target.className||\"row_editor\"===a.target.className)){var n=r.find(\".row_editor\"),l=jQuery(\"#rs-layout-row-composer\");jQuery(\".row_editor.open_re\").removeClass(\"open_re\"),n.addClass(\"open_re\"),l.show(),jQuery(\".rs-row-break-selector\").removeClass(\"selected\"),jQuery(\".rs-row-break-selector.rs-slide-ds-\"+jQuery(\"#column_break_at option:selected\").val()).addClass(\"selected\")}else if(null!=a.srcElement&&(\"eg-icon-cancel\"===a.srcElement.className||\"row_editor\"===a.srcElement.className)||null!=a.target&&(\"eg-icon-cancel\"===a.target.className||\"row_editor\"===a.target.className)){n=r.find(\".row_editor\"),l=jQuery(\"#rs-layout-row-composer\");jQuery(\".row_editor.open_re\").removeClass(\"open_re\"),l.hide()}else if(null!=a.srcElement&&(\"eg-icon-droplet\"===a.srcElement.className||\"row_config\"===a.srcElement.className)||null!=a.target&&(\"eg-icon-droplet\"===a.target.className||\"row_config\"===a.target.className)){var d=jQuery(\"#style-morestyle\");d.hasClass(\"showmore\")||d.click()}}a.stopPropagation(),u.checkAnimationTab()?(u.stopAllLayerAnimation(),u.animateCurrentSelectedLayer(0)):u.checkLoopTab()&&(u.stopAllLayerAnimation(),u.callCaptionLoops())}})};function checkKeyGroups(e){var r=t.arrLayersChanges.undo&&t.arrLayersChanges.undo.length>0?t.arrLayersChanges.undo[t.arrLayersChanges.undo.length-1].undogroup:\"\",a=t.arrLayersChanges.undo&&t.arrLayersChanges.undo.length>0?t.arrLayersChanges.undo[t.arrLayersChanges.undo.length-1].serial:-77,i=e.split(\".\")[0],o={};e=e.substring(e.indexOf(\".\")+1),o.addtoarray=!1,o.serial=i;var s=e.indexOf(\"layer_action\")>=0?\"layer_action\":e;return jQuery.each(t.attributegroups,function(e,t){-1!=jQuery.inArray(s,t.keys)&&(o.undogroup=t.groupname,o.icon=t.icon,o.id=t.id)}),o.serial==a||30==o.id&&\"Order\"==r?o.undogroup!=r?o.addtoarray=!0:o.addtoarray=\"samegroup\":o.addtoarray=!0,null==o.undogroup&&(o.addtoarray=!1),o}function objRek(e,r,a,i){return a=void 0===a?\"\":a,jQuery.each(e,function(e,o){if(i)return!0;if(\"references\"!==e)if(o instanceof Object){var s=a;a=0==a.length?e:a+\".\"+e,i=objRek(o,r[e],a,i),a=s}else{s=a;if(a=null==a||0==a.length?e:a+\".\"+e,void 0!==r&&o!==r[e]&&parseInt(o,0)!=parseInt(r[e],0)&&null!=o&&null!=r[e]&&\"renderedData\"!=e)if(t.arrLayersChanges.undo&&0==t.arrLayersChanges.undo.length||t.arrLayersChanges.undo[t.arrLayersChanges.undo.length-1].chain!=a){var n=checkKeyGroups(a);!0===n.addtoarray?(t.arrLayersChanges.redo.splice(0,t.arrLayersChanges.redo.length),t.arrLayersChanges.undo.push({amount:0,backup:UniteAdminRev.duplicateObject(t.arrLayersClone),restore:UniteAdminRev.duplicateObject(t.arrLayers),icon:n.icon,id:n.id,undogroup:n.undogroup,serial:n.serial,key:e,chain:a,oldval:o,newval:r[e]}),t.set_save_needed(!0),i=!0):\"samegroup\"==n.addtoarray&&(t.arrLayersChanges.redo.splice(0,t.arrLayersChanges.redo.length),t.arrLayersChanges.undo[t.arrLayersChanges.undo.length-1].amount++,t.set_save_needed(!0),i=!0)}else t.arrLayersChanges.undo[t.arrLayersChanges.undo.length-1].chain===a&&(t.arrLayersChanges.redo.splice(0,t.arrLayersChanges.redo.length),t.arrLayersChanges.undo[t.arrLayersChanges.undo.length-1].amount++,t.set_save_needed(!0),i=!0);a=s}}),i}function _len(e){var t=0;return jQuery.each(e,function(e){t++}),t}function forceShowHideLayer(e,t){void 0!==e&&!1!==e&&(\"hide\"==t?(e.references.htmlLayer.addClass(\"layer-deleted\"),null!=e.references.sorttable&&(e.references.sorttable.layer.addClass(\"layer-deleted\"),e.references.sorttable.timeline.addClass(\"layer-deleted\"),e.references.quicklayer.addClass(\"layer-deleted\"))):(e.references.htmlLayer.removeClass(\"layer-deleted\"),null!=e.references.sorttable&&(e.references.sorttable.layer.removeClass(\"layer-deleted\"),e.references.sorttable.timeline.removeClass(\"layer-deleted\"),e.references.quicklayer.removeClass(\"layer-deleted\"))),u.timeLineTableDimensionUpdate())}function showHideDeletedLayers(e){jQuery.each(t.arrLayers,function(e,t){t.layer_unavailable||!0===t.deleted?forceShowHideLayer(t,\"hide\"):forceShowHideLayer(t,\"show\")})}function checkInvisibleRedoItems(){jQuery.each(t.arrLayersChanges.redo,function(e,t){jQuery.each(t.backup,function(e,t){t.layer_unavailable&&forceShowHideLayer(t,\"hide\")})})}function checkChangedSources(e){function r(t,r){12!=t.id&&9!=t.id&&29!=t.id||jQuery.each(t[e],function(e,r){(12==t.id&&(\"svg\"==r.type||\"image\"==r.type)||29==t.id&&(\"audio\"==r.type||\"video\"==r.type)||9==t.id&&\"text\"==r.type)&&redrawLayerHtml(r.serial),29==t.id&&\"audio\"==r.type&&u.drawAudioMap(r)})}jQuery.each(t.arrLayersChanges.redo,function(e,t){r(t)}),jQuery.each(t.arrLayersChanges.undo,function(e,t){r(t)})}t.getSerialFromID=function(e){return null!=e&&e.replace(\"slide_layer_\",\"\").replace(\"demo_layer_\",\"\")},t.getSerialFromSortID=function(e){var t=e.replace(\"layer_sort_time_\",\"\");return t=(t=t.replace(\"layer_sort_\",\"\")).replace(\"layer_quicksort_\",\"\")},t.lockAllLayers=function(e){for(e in t.arrLayers)t.arrLayers.hasOwnProperty(e)&&u.lockLayer(e)},t.unlockAllLayers=function(e){for(e in t.arrLayers)t.arrLayers.hasOwnProperty(e)&&u.unlockLayer(e)},t.showAllLayers=function(e){for(var r in t.arrLayers)t.arrLayers.hasOwnProperty(r)&&e!==t.arrLayers[r].serial&&u.showLayer(t.arrLayers[r],!0)},t.hideAllLayers=function(e){for(var r in t.arrLayers)t.arrLayers.hasOwnProperty(r)&&e!==t.arrLayers[r].serial&&u.hideLayer(t.arrLayers[r],!0)},t.getHtmlLayerFromSerial=function(e,t){if(t||(t=!1),t)r=jQuery(\"#demo_layer_\"+e);else var r=jQuery(\"#slide_layer_\"+e);return null!==r&&0==r.length&&UniteAdminRev.showErrorMessage(\"Html Layer with serial: \"+e+\" not found!\"),r},t.getLayerByUniqueId=function(e){for(var r in t.arrLayers)if(t.arrLayers.hasOwnProperty(r)&&t.arrLayers[r].unique_id==e)return t.getLayer(r);for(var r in t.arrLayersDemo)if(t.arrLayersDemo.hasOwnProperty(r)&&t.arrLayersDemo[r].unique_id==e)return t.getLayer(r);return!1},t.getLayerIdByUniqueId=function(e){for(var r in t.arrLayers)if(t.arrLayers.hasOwnProperty(r)&&t.arrLayers[r].unique_id==e)return r;for(var r in t.arrLayersDemo)if(t.arrLayersDemo.hasOwnProperty(r)&&t.arrLayersDemo[r].unique_id==e)return r;return!1},t.getUniqueIdByLayer=function(e){for(var r in t.arrLayers)if(t.arrLayers.hasOwnProperty(r)&&r==e)return t.arrLayers[r].unique_id;return!1},t.getLayer=function(e,r){if(r)var a=t.arrLayersDemo[e];else a=t.arrLayers[e];if(!a)a=t.arrLayersDemo[e];return!!a&&(a.frames.frame_0.speed=Number(a.frames.frame_0.speed),a.frames.frame_999.speed=Number(a.frames.frame_999.speed),a)},t.getCurrentLayer=function(){return-1!=t.selectedLayerSerial&&t.getLayer(t.selectedLayerSerial)},t.makeLayerHtml=function(e,r,a){a||(a=!1);var i=\"text\";r.type&&(i=r.type);var o=\"z-index:\"+(Number(r.order)+100)+\";position:absolute;\",s=\"\",n=\"\",l=\"\";\"auto\"!==t.getVal(r,\"max_width\")&&(o+=\" width: \"+t.getVal(r,\"max_width\")+\";\"),\"auto\"!==t.getVal(r,\"max_height\")&&(o+=\" height: \"+t.getVal(r,\"max_height\")+\";\"),o+=\" white-space: \"+t.getVal(r,\"whitespace\")+\";\";var d=\"\";void 0!==r.special_type&&\"static\"==r.special_type&&(d=\" static_layer\");var y=\"\";void 0===r.type||\"button\"!=r.type&&\"shape\"!=r.type||(y=\" \"+r.internal_class);var c=r.groupLink;if(c=\"ldles_\"+(c=void 0===c?0:c),\"image\"==i&&(o+=\"line-height:0;\"),\"column\"==i&&(n='<div class=\"slide_layer_col_sizer\">',l=\"</div>\",s='<div class=\"column_background\"></div>'),a){rev_adv_resp_sizes,null!=r.static_styles&&(o+=\" font-size: \"+t.getVal(r.static_styles,\"font-size\")+\";\",o+=\" line-height: \"+t.getVal(r.static_styles,\"line-height\")+\";\",o+=\" font-weight: \"+t.getVal(r.static_styles,\"font-weight\")+\";\",o+=\" color: \"+t.getVal(r.static_styles,\"color\")+\";\",o+=\" letter-spacing: \"+t.getVal(r.static_styles,\"letter-spacing\")+\";\");_='<div id=\"demo_layer_'+e+'\" data-uniqueid=\"'+r.unique_id+'\" data-serial=\"'+e+'\"  data-type=\"'+i+'\" style=\"'+o+'\" class=\"invisible_demolayer demo_layer_type_'+i+\" demo_layer demo_layer_\"+curDemoSlideID+' slide_layer\" >'+s+n+'<div style=\"\" class=\"innerslide_layer tp-caption '+r.style+d+y+'\" >'}else var _='<div id=\"slide_layer_'+e+'\" data-uniqueid=\"'+r.unique_id+'\" data-serial=\"'+e+'\" data-type=\"'+i+'\" style=\"'+o+'\"               class=\"slide_layer_type_'+i+\" slide_layer \"+c+'\">'+s+n+'<div style=\"\" class=\"innerslide_layer tp-caption '+r.style+d+y+'\" >';switch(i){case\"image\":_+='<img src=\"'+r.image_url+'\" alt=\"'+r.alt+'\" style=\"\"></img>';break;default:case\"text\":case\"button\":_+=r.text;break;case\"group\":_+='<div class=\"inlaydecor\"></div><div class=\"groupinfo\"><i class=\"fa-icon-object-group\"></i><span class=\"group_info_text\">Edit Group Layers</span></div><div class=\"tp_layer_group_inner_wrapper\"></div>';break;case\"column\":_+='<div class=\"tp_layer_group_inner_wrapper\"></div>';break;case\"row\":_+='<div class=\"tp_layer_group_inner_wrapper\"></div>',a||(_+='<div class=\"row_toolbar\"><div class=\"row_editor\"><i class=\"eg-icon-menu\"></i><i class=\"eg-icon-cancel\"></i></div><div class=\"row_moveme\"><i class=\"eg-icon-arrow-combo\"></i></div><div class=\"row_config\"><i class=\"eg-icon-droplet\"></i></div></div>');break;case\"video\":var m=\"width:100%;height:100%\";if(void 0!==r.video_data)var p=\"\"!=jQuery.trim(r.video_data.previewimage)?r.video_data.previewimage:r.video_image_url;else p=r.video_image_url;var v=r.video_type;switch(r.video_type){case\"youtube\":case\"vimeo\":m+=\";background-image:url(\"+p+\");\";break;case\"html5\":void 0!==p&&\"\"!=p&&(m+=\";background-image:url(\"+p+\");\");break;case\"streamyoutube\":v=\"youtube\";break;case\"streamvimeo\":v=\"vimeo\";break;case\"streaminstagram\":v=\"html5\"}_+=\"<div class='slide_layer_video' style='\"+m+\"'><div class='video-layer-inner video-icon-\"+v+\"'>\",_+=\"<div class='layer-video-title'>\"+r.video_title+\"</div>\",_+=\"</div></div>\";break;case\"audio\":_+=\"<div class='slide_layer_audio' style=''><div class='video-layer-inner video-icon-'>\",_+='<div class=\"slide_layer_audio_c_wrapper\">',_+='<audio controls src=\"'+r.video_data.urlAudio+'\"></audio>',_+='<div class=\"tp-video-controls\"><div class=\"tp-video-button-wrap\"><button type=\"button\" class=\"tp-video-button tp-vid-play-pause\">Play</button></div><div class=\"tp-video-seek-bar-wrap\"><input  type=\"range\" class=\"tp-seek-bar\" value=\"0\"></div><div class=\"tp-video-button-wrap\"><button  type=\"button\" class=\"tp-video-button tp-vid-mute\">Mute</button></div><div class=\"tp-video-vol-bar-wrap\"><input  type=\"range\" class=\"tp-volume-bar\" min=\"0\" max=\"1\" step=\"0.1\" value=\"1\"></div></div>',_+='<div class=\"slide_layer_audio_c_cover\"></div>',_+=\"</div>\",_+=\"<div class='layer-audio-title'><i class='rs-icon-layeraudio_n'></i>\"+r.audio_title+\"</div>\",_+=\"</div></div>\";break;case\"svg\":null!=r.svg&&null!=r.svg.src&&jQuery.get(r.svg.src,function(t){var r=a?\"#demo_layer_\":\"#slide_layer_\";jQuery(r+e+\" .innerslide_layer.tp-caption\").first().html(\"\"),jQuery(r+e+\" .innerslide_layer.tp-caption\").first()[0].innerHTML=(new XMLSerializer).serializeToString(t.documentElement),u.rebuildLayerIdle(jQuery(r+e))})}return _+=\"</div>\"+l,_+=\"<div class='icon_cross'></div>\",_+=\"</div>\"},t.reset_to_default_static_styles=function(e,r,a){if(void 0!==e.style){var i=UniteCssEditorRev.getStyleSettingsByHandle(e.style);!1!==i&&(void 0!==i.params[\"font-size\"]&&(void 0!==r&&void 0!==a?-1!==jQuery.inArray(\"font-size\",r)&&(e.static_styles=t.setVal(e.static_styles,\"font-size\",i.params[\"font-size\"],!1,a),-1!==jQuery.inArray(layout,a)&&jQuery(\"#layer_font_size_s\").val(i.params[\"font-size\"])):jQuery(\"#layer_font_size_s\").val(i.params[\"font-size\"])),void 0!==i.params[\"line-height\"]&&(void 0!==r&&void 0!==a?-1!==jQuery.inArray(\"line-height\",r)&&(e.static_styles=t.setVal(e.static_styles,\"line-height\",i.params[\"line-height\"],!1,a),-1!==jQuery.inArray(layout,a)&&jQuery(\"#layer_line_height_s\").val(i.params[\"line-height\"])):jQuery(\"#layer_line_height_s\").val(i.params[\"line-height\"])),void 0!==i.params[\"letter-spacing\"]&&(void 0!==r&&void 0!==a?-1!==jQuery.inArray(\"letter-spacing\",r)&&(e.static_styles=t.setVal(e.static_styles,\"letter-spacing\",i.params[\"letter-spacing\"],!1,a),-1!==jQuery.inArray(layout,a)&&jQuery(\"#letter_spacing_s\").val(i.params[\"letter-spacing\"])):jQuery(\"#letter_spacing_s\").val(i.params[\"letter-spacing\"])),void 0!==i.params[\"font-weight\"]&&(void 0!==r&&void 0!==a?-1!==jQuery.inArray(\"font-weight\",r)&&(e.static_styles=t.setVal(e.static_styles,\"font-weight\",i.params[\"font-weight\"],!1,a),-1!==jQuery.inArray(layout,a)&&jQuery('#layer_font_weight_s option[value=\"'+i.params[\"font-weight\"]+'\"]').attr(\"selected\",!0)):jQuery('#layer_font_weight_s option[value=\"'+i.params[\"font-weight\"]+'\"]').attr(\"selected\",!0)),void 0!==i.params.color&&(void 0!==r&&void 0!==a?(-1!==jQuery.inArray(\"color\",r)&&(e.static_styles=t.setVal(e.static_styles,\"color\",UniteAdminRev.rgb2hex(i.params.color),!1,a)),-1!==jQuery.inArray(layout,a)&&(jQuery(\"#layer_color_s\").val(UniteAdminRev.rgb2hex(i.params.color)),jQuery(\".wp-color-result\").each(function(){jQuery(this).css(\"backgroundColor\",jQuery(this).parent().find(\".my-color-field\").val())}))):(jQuery(\"#layer_color_s\").val(UniteAdminRev.rgb2hex(i.params.color)),jQuery(\".wp-color-result\").each(function(){jQuery(this).css(\"backgroundColor\",jQuery(this).parent().find(\".my-color-field\").val())}))))}},t.updateLayer=function(e,r,a,i){var o=t.getLayer(e);if(!o)return!1;var s=!1;if(void 0!==r.style&&r.style!==o.style&&\"none\"==jQuery(\"#dialog-change-style-from-css\").css(\"display\")&&(s=!0),void 0!==a)for(var n in a)a.hasOwnProperty(n)&&delete o[a[n]];for(var n in r)if(r.hasOwnProperty(n))if(\"object\"==typeof r[n]){for(var l in r[n])if(r[n].hasOwnProperty(l))if(\"object\"==typeof o[n])if(\"object\"==typeof o[n][l])for(var d in r[n][l])r[n][l].hasOwnProperty(d)&&(o[n][l][d]=r[n][l][d]);else o[n][l]=r[n][l];else o[n]={},o[n][l]=r[n][l]}else o[n]=r[n];if(s&&(t.reset_to_default_static_styles(o),updateSubStyleParameters(o)),!t.arrLayers[e])return UniteAdminRev.showErrorMessage(\"setLayer error, Layer with ID: \"+e+\" not found\"),!1;i||update_layer_changes&&t.add_layer_change(e,r),t.arrLayers[e]=jQuery.extend({},o),t.updateReverseList()},t.cloneArrLayers=function(){t.arrLayersClone=UniteAdminRev.duplicateObject(t.arrLayers)},t.add_layer_change=function(){if(!t.ignorAllUndoRedoLogs){if(t.arrLayersChanges.undo.length-1>27)t.arrLayersChanges.undo.splice(0,1);objRek(t.arrLayersClone,t.arrLayers,\"\"),0==t.arrLayersChanges.redo.length&&t.arrLayersChanges.undo.length>0&&(t.arrLayersChanges.undo[t.arrLayersChanges.undo.length-1].restore=UniteAdminRev.duplicateObject(t.arrLayers)),t.cloneArrLayers(),t.update_undo_redo_list()}},t.oneStepUndo=function(){t.arrLayersChanges.undo.length-1>=0&&t.undo_redo_layer(\"undo\",t.arrLayersChanges.undo.length-1)},t.oneStepRedo=function(){t.arrLayersChanges.redo.length-1>=0&&t.undo_redo_layer(\"redo\",0)},t.update_undo_redo_list=function(){0==jQuery(\"#rs-undo-list\").length&&(jQuery(\"#layer-settings-toolbar-bottom\").append('<div id=\"rs-undo-list\"><div id=\"undo-redo-wrapper\"></div></div>'),jQuery(\"body\").on(\"click\",\".undostep\",function(){t.undo_redo_layer(\"undo\",jQuery(this).data(\"undoindex\"))}),jQuery(\"body\").on(\"click\",\".redostep\",function(){t.undo_redo_layer(\"redo\",jQuery(this).data(\"redoindex\"))}),jQuery(\"body\").on(\"click\",\"#undo-last-action\",function(){t.arrLayersChanges.undo.length-1>=0&&t.undo_redo_layer(\"undo\",t.arrLayersChanges.undo.length-1)}),jQuery(\"body\").on(\"click\",\"#showhide_undolist\",function(){var e=jQuery(\"#rs-undo-list\");e.hasClass(\"inactive\")?(e.slideUp(200).removeClass(\"inactive\"),jQuery(\"#showhide_undolist i\").removeClass(\"eg-icon-down-open\").addClass(\"eg-icon-menu\"),setTimeout(function(){var e=jQuery(\"#undo-redo-wrapper\");e.scrollTop(e.prop(\"scrollHeight\")),e.perfectScrollbar(\"update\")},250)):(e.slideDown(200).addClass(\"inactive\"),jQuery(\"#showhide_undolist i\").addClass(\"eg-icon-down-open\").removeClass(\"eg-icon-menu\"))}),jQuery(\"#undo-redo-wrapper\").perfectScrollbar({wheelPropagation:!0,suppressScrollX:!0}));var e=jQuery(\"#undo-redo-wrapper\");e.find(\".undoredostep\").remove(),jQuery.each(t.arrLayersChanges.undo,function(r,a){var i='<div data-undoindex=\"'+r+'\" class=\"undoredostep undostep\">',o=t.arrLayers[a.serial].alias;switch(t.arrLayers[a.serial].type){case\"text\":i+='<span class=\"layer-title-with-icon\"><i class=\"rs-icon-layerfont_n\"></i></span>';break;case\"shape\":i+='<span class=\"layer-title-with-icon\"><i class=\"rs-icon-layershape_n\"></i></span>';break;case\"button\":i+='<span class=\"layer-title-with-icon\"><i class=\"rs-icon-layerbutton_n\"></i></span>';break;case\"image\":i+='<span class=\"layer-title-with-icon\"><i class=\"rs-icon-layerimage_n\"></i></span>';break;case\"video\":i+='<span class=\"layer-title-with-icon\"><i class=\"rs-icon-layervideo_n\"></i></span>';break;case\"audio\":i+='<span class=\"layer-title-with-icon\"><i class=\"rs-icon-layeraudio_n\"></i></span>';break;case\"svg\":i+='<span class=\"layer-title-with-icon\"><i class=\"rs-icon-layersvg_n\"></i></span>';break;case\"row\":case\"group\":i+='<span class=\"layer-title-with-icon\"><i class=\"fa-icon-object-group\"></i></span>';break;case\"column\":i+='<span class=\"layer-title-with-icon\"><i class=\"rs-icon-layercolumn_n\"></i></span>'}var s=\"\";a.amount>0&&(s=\" (\"+a.amount+\")\"),r==t.arrLayersChanges.undo.length-1&&jQuery(\"#quick-undo .single-undo-action\").html('<span class=\"undo-name\">'+o+'</span><span class=\"undo-action\"><i class=\"eg-icon-'+a.icon+'\"></i>'+a.undogroup+s+\"</span>\"),i+='<span class=\"undo-name\">'+o+'</span><span class=\"undo-action\"><i class=\"eg-icon-'+a.icon+'\"></i>'+a.undogroup+s+'</span><i class=\"eg-icon-cw\"></i>',i+=\"</div>\",e.append(i)}),t.arrLayersChanges.undo.length-1<0&&jQuery(\"#quick-undo .single-undo-action\").html('<span class=\"undo-name\">'+jQuery(\".single-undo-action\").data(\"origtext\")+\"</span>\"),jQuery.each(t.arrLayersChanges.redo,function(r,a){var i='<div data-redoindex=\"'+r+'\" class=\"undoredostep redostep\">',o=void 0===t.arrLayers[a.serial]?a.backup[a.serial].alias:t.arrLayers[a.serial].alias;switch(type=void 0===t.arrLayers[a.serial]?a.backup[a.serial].type:t.arrLayers[a.serial].type,type){case\"text\":i+='<span class=\"layer-title-with-icon\"><i class=\"rs-icon-layerfont_n\"></i></span>';break;case\"shape\":i+='<span class=\"layer-title-with-icon\"><i class=\"rs-icon-layershape_n\"></i></span>';break;case\"button\":i+='<span class=\"layer-title-with-icon\"><i class=\"rs-icon-layerbutton_n\"></i></span>';break;case\"image\":i+='<span class=\"layer-title-with-icon\"><i class=\"rs-icon-layerimage_n\"></i></span>';break;case\"video\":i+='<span class=\"layer-title-with-icon\"><i class=\"rs-icon-layervideo_n\"></i></span>';break;case\"audio\":i+='<span class=\"layer-title-with-icon\"><i class=\"rs-icon-layeraudio_n\"></i></span>';break;case\"svg\":i+='<span class=\"layer-title-with-icon\"><i class=\"rs-icon-layersvg_n\"></i></span>'}var s=\"\";a.amount>0&&(s=\" (\"+a.amount+\")\"),i+='<span class=\"undo-name\">'+o+'</span><span class=\"undo-action\"><i class=\"eg-icon-'+a.icon+'\"></i>'+a.undogroup+s+'</span><i class=\"eg-icon-cw\"></i>',i+=\"</div>\",e.append(i)}),e.data(\"steps\")!=t.arrLayersChanges.redo.length+t.arrLayersChanges.undo.length&&(e.scrollTop(e.prop(\"scrollHeight\")),e.data(\"steps\",t.arrLayersChanges.redo.length+t.arrLayersChanges.undo.length)),e.perfectScrollbar(\"update\")},t.undo_redo_layer=function(e,r){if(t.set_save_needed(!0),jQuery(\".layer-on-timeline-selector\").each(function(){this.checked=!1}),t.selectedLayers=[],\"undo\"==e){t.arrLayers=UniteAdminRev.duplicateObject(t.arrLayersChanges.undo[r].backup),showHideDeletedLayers();for(var a=t.arrLayersChanges.undo.length-r,i=0;i<a;i++)t.arrLayersChanges.redo.unshift(t.arrLayersChanges.undo.pop());checkInvisibleRedoItems(),checkChangedSources(\"backup\")}else if(\"redo\"==e){t.arrLayers=UniteAdminRev.duplicateObject(t.arrLayersChanges.redo[r].restore),showHideDeletedLayers();for(i=0;i<=r;i++)t.arrLayersChanges.undo.push(t.arrLayersChanges.redo.shift());checkChangedSources(\"restore\")}t.recreateLayerReferences(),u.redrawSortbox(),unselectLayers(),t.cloneArrLayers(),updateHtmlLayersFromObject(),u.allLayerToIdle(),u.stopAllLayerAnimation(),u.organiseGroupsAndLayer(),setTimeout(function(){t.update_undo_redo_list(),u.updateAllLayerTimeline()},10)},t.recreateLayerReferences=function(){for(var e in t.arrLayers)if(t.arrLayers.hasOwnProperty(e)){(r=t.arrLayers[e]).references=void 0===r.references?{}:r.references,r.references.htmlLayer=jQuery(document.getElementById(\"slide_layer_\"+r.serial)),r.references.sorttable.layer=jQuery(document.getElementById(\"layer_sort_\"+r.serial)),r.references.sorttable.timeline=jQuery(document.getElementById(\"layer_sort_time_\"+r.serial)),r.references.quicklayer=jQuery(document.getElementById(\"layer_quicksort_\"+r.serial))}for(var e in t.arrLayersDemo)if(t.arrLayersDemo.hasOwnProperty(e)){var r;(r=t.arrLayersDemo[e]).references=void 0===r.references?{}:r.references,r.references.htmlLayer=jQuery(document.getElementById(\"demo_layer_\"+r.serial)),r.references.sorttable.layer=jQuery(document.getElementById(\"demo_sort_\"+r.serial)),r.references.sorttable.timeline=jQuery(document.getElementById(\"demo_sort_time_\"+r.serial)),r.references.quicklayer=jQuery(document.getElementById(\"demo_quicksort_\"+r.serial))}},t.updateReverseList=function(){clearTimeout(updateRevTimer),updateRevTimer=setTimeout(function(){RevSliderSettings.onoffStatus(jQuery(\"#layer_anim_xstart_reverse\")),RevSliderSettings.onoffStatus(jQuery(\"#layer_anim_ystart_reverse\")),RevSliderSettings.onoffStatus(jQuery(\"#layer_anim_xrotate_reverse\")),RevSliderSettings.onoffStatus(jQuery(\"#layer_anim_yrotate_reverse\")),RevSliderSettings.onoffStatus(jQuery(\"#layer_anim_zrotate_reverse\")),RevSliderSettings.onoffStatus(jQuery(\"#layer_scale_xstart_reverse\")),RevSliderSettings.onoffStatus(jQuery(\"#layer_scale_ystart_reverse\")),RevSliderSettings.onoffStatus(jQuery(\"#layer_skew_xstart_reverse\")),RevSliderSettings.onoffStatus(jQuery(\"#layer_skew_ystart_reverse\")),RevSliderSettings.onoffStatus(jQuery(\"#mask_anim_xstart_reverse\")),RevSliderSettings.onoffStatus(jQuery(\"#mask_anim_ystart_reverse\")),RevSliderSettings.onoffStatus(jQuery(\"#layer_anim_xend_reverse\")),RevSliderSettings.onoffStatus(jQuery(\"#layer_anim_yend_reverse\")),RevSliderSettings.onoffStatus(jQuery(\"#layer_anim_xrotate_end_reverse\")),RevSliderSettings.onoffStatus(jQuery(\"#layer_anim_yrotate_end_reverse\")),RevSliderSettings.onoffStatus(jQuery(\"#layer_anim_zrotate_end_reverse\")),RevSliderSettings.onoffStatus(jQuery(\"#layer_scale_xend_reverse\")),RevSliderSettings.onoffStatus(jQuery(\"#layer_scale_yend_reverse\")),RevSliderSettings.onoffStatus(jQuery(\"#layer_skew_xend_reverse\")),RevSliderSettings.onoffStatus(jQuery(\"#layer_skew_yend_reverse\")),RevSliderSettings.onoffStatus(jQuery(\"#mask_anim_xend_reverse\")),RevSliderSettings.onoffStatus(jQuery(\"#mask_anim_yend_reverse\"))},100)},t.updateCurrentLayer=function(e,r){if(!t.arrLayers[t.selectedLayerSerial])return UniteAdminRev.showErrorMessage(\"error! the layer with serial: \"+t.selectedLayerSerial+\" doesn't exists\"),!1;t.updateLayer(t.selectedLayerSerial,e,r)};var addLayerImage=function(e,r){objLayer={style:\"\",text:\"Image \"+(id_counter+1),type:\"image\",image_url:e.imgurl},void 0!==e.imglib&&(objLayer.image_library=e.imglib,objLayer.image_librarysize={},objLayer.image_librarysize.width=e.imgwidth,objLayer.image_librarysize.height=e.imgheight),objLayer.scaleProportional=!0,objLayer=t.setVal(objLayer,\"scaleX\",e.imgwidth,!0),objLayer=t.setVal(objLayer,\"scaleY\",e.imgheight,!0),objLayer=t.setVal(objLayer,\"originalWidth\",e.imgwidth,!0),objLayer=t.setVal(objLayer,\"originalHeight\",e.imgheight,!0),void 0!==r&&(objLayer.special_type=r),objLayer.createdOnInit=!1,addLayer(objLayer)},getVideoObjLayer=function(e,t){var r={type:\"video\",style:\"\",video_type:e.video_type,video_data:e};switch(r.video_data.autoplayonlyfirsttime=!1,void 0!==t&&(r.video_width=e.video_width,r.video_height=e.video_height),\"youtube\"!=r.video_type&&\"vimeo\"!=r.video_type||(r.video_id=e.id,r.video_title=e.title,r.video_image_url=e.thumb_medium.url,r.video_args=e.args),r.video_type){case\"youtube\":r.text=\"Youtube: \"+e.title;break;case\"vimeo\":r.text=\"Vimeo: \"+e.title;break;case\"streamyoutube\":r.text=\"YouTube Stream\",r.video_title=r.text,r.video_image_url=\"\",\"\"!=e.urlPoster&&(r.video_image_url=e.urlPoster);break;case\"streamvimeo\":r.text=\"Vimeo Stream\",r.video_title=r.text,r.video_image_url=\"\",\"\"!=e.urlPoster&&(r.video_image_url=e.urlPoster);break;case\"streaminstagram\":r.text=\"Instagram Stream\",r.video_title=r.text,r.video_image_url=\"\",\"\"!=e.urlPoster&&(r.video_image_url=e.urlPoster);break;case\"html5\":r.text=\"Html5 Video\",r.video_title=r.text,r.video_image_url=\"\",\"\"!=e.urlPoster&&(r.video_image_url=e.urlPoster);break;case\"audio\":r.text=\"Audio Layer\",r.audio_title=r.text,r.audio_image_url=\"\",\"\"!=e.urlPoster&&(r.audio_image_url=e.urlPoster),r.type=\"audio\"}return r},addLayerVideo=function(e,r){var a=getVideoObjLayer(e,!0);if(void 0!==r&&(a.special_type=r),a.createdOnInit=!1,addLayer(a),void 0!==r&&\"audio\"==r){var i=t.getCurrentLayer();!1!==i&&u.drawAudioMap(i)}},addLayerText=function(e,r){var a={text:r=void 0===r?initText+(id_counter+1):r,type:\"text\"};void 0!==e&&(a.special_type=e),a.createdOnInit=!1,addLayer(a),setTimeout(function(){t.showHideContentEditor(!0),jQuery(\"#layer_text\").data(\"new_content\",!0),jQuery(\"#layer_text\").focus()},50)},addLayerGroup=function(e){var r={type:\"group\",text:initGroupName+(id_counter+1),createdOnInit:!1,grouptype:\"logical\"};void 0!==e&&(r.special_type=e);addLayer(r);t.makeRowSortableDroppable()},addLayerRow=function(e){var r={type:\"row\",text:initRowName+(id_counter+1),createdOnInit:!1};void 0!==e&&(r.special_type=e);for(var a=addLayer(r),i=t.getLayer(a).unique_id,o=0;o<2;o++)addLayer({type:\"column\",text:initColumnName+(id_counter+1),ref_group:i,p_uid:i,column_size:\"1/2\",createdOnInit:!1});t.makeRowSortableDroppable(),t.setLayerSelected(a)},addLayer=function(e,r,a,i){void 0===e.version&&(void 0!==e.endtime&&void 0!==e.endspeed&&jQuery.isNumeric(e.endtime)&&(e.endtime=e.endtime-e.endspeed),e.realEndTime&&\"undefined\"!=e.realEndTime&&null!=e.realEndTime&&(e.endtime=e.realEndTime,delete e.realEndTime,delete e.endTimeFinal,delete e.endSpeedFinal)),e.version=t.core+\"\"+t.sub+t.subsub,void 0===e.frames&&(e.frames={}),r=r||!1,a=a||!1;var o=!1;null==e.subtype&&(e.subtype=\"\"),null==e.specialsettings&&(e.specialsettings={}),null==e.order&&(e.order=id_counter),e.order=Number(e.order),0!=r||a||(unique_layer_id++,e.unique_id=unique_layer_id),void 0===e.unique_id&&(unique_layer_id++,e.unique_id=unique_layer_id),jQuery.inArray(e.unique_id,alluniqueids)>=0&&(e.unique_id=e.unique_id+Math.round(100*Math.random()+100),unique_layer_id=e.unique_id),unique_layer_id<e.unique_id&&(unique_layer_id=e.unique_id+1),a||alluniqueids.push(e.unique_id);var s=\"video\"===e.type?initLeftVideo:initLeft,n=\"video\"===e.type?initTopVideo:initTop;if(s=-1!==t.newlayercoord.x?t.newlayercoord.x:s,n=-1!==t.newlayercoord.y?t.newlayercoord.y:n,e=null==t.getVal(e,\"left\")?t.setVal(e,\"left\",s,!0):\"object\"!=typeof e.left?t.setVal(e,\"left\",e.left,!0):e,\"video\"==(e=null==t.getVal(e,\"top\")?t.setVal(e,\"top\",n,!0):\"object\"!=typeof e.top?t.setVal(e,\"top\",e.top,!0):e).type&&(e=checkUpdateFullwidthVideo(e)),t.newlayercoord.x=-1,t.newlayercoord.y=-1,e.isDemo=a,void 0!==e.layer_action&&void 0!==e.layer_action.layer_target)for(var l in e.layer_action.layer_target)e.layer_action.layer_target.hasOwnProperty(l)&&\"self\"==e.layer_action.layer_target[l]&&(e.layer_action.layer_target[l]=e.unique_id);if(e.internal_class=e.internal_class||\"\",e.hover=void 0!==e.hover&&e.hover,e.alias=void 0!==e.alias?e.alias:u.getSortboxText(e.text).toLowerCase(),e.layer_unavailable=!1,e.deleted=!1,e.createdOnInit=null!=e.createdOnInit?e.createdOnInit:1==r,e.layer_bg_position=void 0!==e.layer_bg_position?e.layer_bg_position:\"center center\",e.layer_bg_size=void 0!==e.layer_bg_size?e.layer_bg_size:\"cover\",e.layer_bg_repeat=void 0!==e.layer_bg_repeat?e.layer_bg_repeat:\"no-repeat\",e.loop_animation=void 0!==e.loop_animation?e.loop_animation:\"none\",e.loop_easing=void 0!==e.loop_easing?e.loop_easing:\"linearEaseNone\",e.loop_speed=null!=e.loop_speed?e.loop_speed:2,e.loop_startdeg=null!=e.loop_startdeg?e.loop_startdeg:-20,e.loop_enddeg=null!=e.loop_enddeg?e.loop_enddeg:20,e.loop_xorigin=null!=e.loop_xorigin?e.loop_xorigin:50,e.loop_yorigin=null!=e.loop_yorigin?e.loop_yorigin:50,e.loop_xstart=null!=e.loop_xstart?e.loop_xstart:0,e.loop_xend=null!=e.loop_xend?e.loop_xend:0,e.loop_ystart=null!=e.loop_ystart?e.loop_ystart:0,e.loop_yend=null!=e.loop_yend?e.loop_yend:0,e.loop_zoomstart=null!=e.loop_zoomstart?e.loop_zoomstart:1,e.loop_zoomend=null!=e.loop_zoomend?e.loop_zoomend:1,e.loop_angle=null!=e.loop_angle?e.loop_angle:0,e.loop_radius=null!=e.loop_radius?e.loop_radius:10,e.layer_blend_mode=null!=e.layer_blend_mode?e.layer_blend_mode:\"normal\",e.html_tag=void 0!==e.html_tag?e.html_tag:\"div\",e.parallax_layer_ddd_zlevel=void 0!==e.parallax_layer_ddd_zlevel?e.parallax_layer_ddd_zlevel:\"front\",e.mask_start=void 0!==e.mask_start&&e.mask_start,e.mask_end=void 0!==e.mask_end&&e.mask_end,\"row\"===e.type&&(e.column_break_at=void 0!==e.column_break_at?e.column_break_at:\"mobile\"),e.x_start_reverse=void 0!==e.x_start_reverse&&e.x_start_reverse,e.y_start_reverse=void 0!==e.y_start_reverse&&e.y_start_reverse,e.x_end_reverse=void 0!==e.x_end_reverse&&e.x_end_reverse,e.y_end_reverse=void 0!==e.y_end_reverse&&e.y_end_reverse,e.x_rotate_start_reverse=void 0!==e.x_rotate_start_reverse&&e.x_rotate_start_reverse,e.y_rotate_start_reverse=void 0!==e.y_rotate_start_reverse&&e.y_rotate_start_reverse,e.z_rotate_start_reverse=void 0!==e.z_rotate_start_reverse&&e.z_rotate_start_reverse,e.x_rotate_end_reverse=void 0!==e.x_rotate_end_reverse&&e.x_rotate_end_reverse,e.y_rotate_end_reverse=void 0!==e.y_rotate_end_reverse&&e.y_rotate_end_reverse,e.z_rotate_end_reverse=void 0!==e.z_rotate_end_reverse&&e.z_rotate_end_reverse,e.scale_x_start_reverse=void 0!==e.scale_x_start_reverse&&e.scale_x_start_reverse,e.scale_y_start_reverse=void 0!==e.scale_y_start_reverse&&e.scale_y_start_reverse,e.scale_x_end_reverse=void 0!==e.scale_x_end_reverse&&e.scale_x_end_reverse,e.scale_y_end_reverse=void 0!==e.scale_y_end_reverse&&e.scale_y_end_reverse,e.skew_x_start_reverse=void 0!==e.skew_x_start_reverse&&e.skew_x_start_reverse,e.skew_y_start_reverse=void 0!==e.skew_y_start_reverse&&e.skew_y_start_reverse,e.skew_x_end_reverse=void 0!==e.skew_x_end_reverse&&e.skew_x_end_reverse,e.skew_y_end_reverse=void 0!==e.skew_y_end_reverse&&e.skew_y_end_reverse,e.mask_x_start_reverse=void 0!==e.mask_x_start_reverse&&e.mask_x_start_reverse,e.mask_y_start_reverse=void 0!==e.mask_y_start_reverse&&e.mask_y_start_reverse,e.mask_x_end_reverse=void 0!==e.mask_x_end_reverse&&e.mask_x_end_reverse,e.mask_y_end_reverse=void 0!==e.mask_y_end_reverse&&e.mask_y_end_reverse,e.mask_x_start=void 0!==e.mask_x_start?e.mask_x_start:0,e.mask_y_start=void 0!==e.mask_y_start?e.mask_y_start:0,e.mask_speed_start=void 0!==e.mask_speed_start?e.mask_speed_start:\"inherit\",e.mask_ease_start=void 0!==e.mask_ease_start?e.mask_ease_start:\"inherit\",e.mask_x_end=void 0!==e.mask_x_end?e.mask_x_end:0,e.mask_y_end=void 0!==e.mask_y_end?e.mask_y_end:0,e.mask_speed_end=void 0!==e.mask_speed_end?e.mask_speed_end:\"inherit\",e.mask_ease_end=void 0!==e.mask_ease_end?e.mask_ease_end:\"inherit\",e.alt_option=void 0!==e.alt_option?e.alt_option:\"media_library\",e.alt=void 0!==e.alt?e.alt:\"\",e.layer_action=void 0!==e.layer_action?e.layer_action:{},e.layer_action.tooltip_event=void 0!==e.layer_action.tooltip_event?e.layer_action.tooltip_event:[],e.layer_action.action=void 0!==e.layer_action.action?e.layer_action.action:[],e.layer_action.image_link=void 0!==e.layer_action.image_link?e.layer_action.image_link:[],e.layer_action.link_open_in=void 0!==e.layer_action.link_open_in?e.layer_action.link_open_in:[],e.layer_action.jump_to_slide=void 0!==e.layer_action.jump_to_slide?e.layer_action.jump_to_slide:[],e.layer_action.scrollunder_offset=void 0!==e.layer_action.scrollunder_offset?e.layer_action.scrollunder_offset:[],e.layer_action.actioncallback=void 0!==e.layer_action.actioncallback?e.layer_action.actioncallback:[],e.layer_action.layer_target=void 0!==e.layer_action.layer_target?e.layer_action.layer_target:[],e.layer_action.link_type=void 0!==e.layer_action.link_type?e.layer_action.link_type:[],e.layer_action.action_delay=void 0!==e.layer_action.action_delay?e.layer_action.action_delay:[],e.layer_action.toggle_layer_type=void 0!==e.layer_action.toggle_layer_type?e.layer_action.toggle_layer_type:[],e.layer_action.toggle_class=void 0!==e.layer_action.toggle_class?e.layer_action.toggle_class:[],e=null==t.getVal(e,\"min_height\")?t.setVal(e,\"min_height\",\"40\",!0):\"object\"!=typeof e.min_height?t.setVal(e,\"min_height\",e.min_height,!0):e,e=null==t.getVal(e,\"max_height\")?t.setVal(e,\"max_height\",\"auto\",!0):\"object\"!=typeof e.max_height?t.setVal(e,\"max_height\",e.max_height,!0):e,null==t.getVal(e,\"max_width\")?e=t.setVal(e,\"max_width\",\"auto\",!0):\"object\"!=typeof e.max_width&&(e=t.setVal(e,\"max_width\",e.max_width,!0)),\"group\"===e.type&&\"auto\"==t.getVal(e,\"max_height\")&&(e=t.setVal(e,\"max_width\",\"200\",!0),e=t.setVal(e,\"max_height\",\"200\",!0)),\"video\"==e.type&&void 0===e.video_width&&void 0!==e.video_data.width&&(e.video_width=e.video_data.width),null==t.getVal(e,\"video_width\")?e=t.setVal(e,\"video_width\",480,!0):\"object\"!=typeof e.video_width&&(e=t.setVal(e,\"video_width\",e.video_width,!0)),\"video\"==e.type&&void 0===e.video_height&&void 0!==e.video_data.height&&(e.video_height=e.video_data.height),null==t.getVal(e,\"video_height\")?e=t.setVal(e,\"video_height\",360,!0):\"object\"!=typeof e.video_height&&(e=t.setVal(e,\"video_height\",e.video_height,!0)),e[\"2d_rotation\"]=null==e[\"2d_rotation\"]&&r?0:e[\"2d_rotation\"],e[\"2d_origin_x\"]=null!=e[\"2d_origin_x\"]?e[\"2d_origin_x\"]:50,e[\"2d_origin_y\"]=null!=e[\"2d_origin_y\"]?e[\"2d_origin_y\"]:50,null==t.getVal(e,\"whitespace\")?e=t.setVal(e,\"whitespace\",jQuery(\"#layer_whitespace option:selected\").val(),!0):\"object\"!=typeof e.whitespace&&(e=t.setVal(e,\"whitespace\",e.whitespace,!0)),null==t.getVal(e,\"display\")?e=t.setVal(e,\"display\",jQuery(\"#layer_display option:selected\").val(),!0):\"object\"!=typeof e.display&&(e=t.setVal(e,\"display\",e.display,!0)),null==e.static_start&&(e.static_start=jQuery(\"#layer_static_start option:selected\").val()),null==e.static_end&&(e.static_end=\"last\"),null==t.getVal(e,\"align_hor\")?e=t.setVal(e,\"align_hor\",\"left\",!0):\"object\"!=typeof e.align_hor&&(e=t.setVal(e,\"align_hor\",e.align_hor,!0)),null==t.getVal(e,\"align_vert\")?e=t.setVal(e,\"align_vert\",\"top\",!0):\"object\"!=typeof e.align_vert&&(e=t.setVal(e,\"align_vert\",e.align_vert,!0)),e.hiddenunder=void 0!==e.hiddenunder&&e.hiddenunder,e.resizeme=void 0===e.resizeme||e.resizeme,e[\"seo-optimized\"]=void 0!==e[\"seo-optimized\"]&&e[\"seo-optimized\"],e.link=void 0!==e.link?e.link:\"\",e.link_open_in=void 0!==e.link_open_in?e.link_open_in:\"same\",e.link_slide=void 0!==e.link_slide?e.link_slide:\"nothing\",e.scrollunder_offset=void 0!==e.scrollunder_offset?e.scrollunder_offset:\"\",e.style=void 0!==e.style?e.style:\"\",e[\"visible-desktop\"]=void 0===e[\"visible-desktop\"]||e[\"visible-desktop\"],e[\"visible-notebook\"]=void 0===e[\"visible-notebook\"]||e[\"visible-notebook\"],e[\"visible-tablet\"]=void 0===e[\"visible-tablet\"]||e[\"visible-tablet\"],e[\"visible-mobile\"]=void 0===e[\"visible-mobile\"]||e[\"visible-mobile\"],e[\"resize-full\"]=void 0===e[\"resize-full\"]||e[\"resize-full\"],e.hiddenunder=void 0!==e.hiddenunder&&e.hiddenunder,e[\"show-on-hover\"]=void 0!==e[\"show-on-hover\"]&&e[\"show-on-hover\"],e.basealign=void 0!==e.basealign?e.basealign:\"grid\",e.responsive_offset=void 0===e.responsive_offset||e.responsive_offset,e.style=jQuery.trim(e.style),0!=r||\"text\"!=e.type||e.style&&\"\"!=e.style||(o=!0),e[\"lazy-load\"]=void 0!==e[\"lazy-load\"]?e[\"lazy-load\"]:\"auto\",e[\"image-size\"]=void 0!==e[\"image-size\"]?e[\"image-size\"]:\"auto\",e[\"css-position\"]=void 0!==e[\"css-position\"]?e[\"css-position\"]:\"relative\",void 0!==e.time&&(e.frames.frame_0={time:Number(e.time),delay:0,split:e.split,split_extratime:0,splitdelay:e.splitdelay,speed:e.speed,animation:e.animation,easing:e.easing},delete e.time,delete e.splitdelay,delete e.speed,delete e.split,delete e.easing,delete e.animation),void 0!==e.endtime&&(e.frames.frame_999={time:e.endtime,delay:0,split:e.endsplit,split_extratime:0,splitdelay:e.endsplitdelay,speed:null!=e.endspeed?e.endspeed:initSpeed,animation:e.endanimation,easing:e.endeasing},delete e.endtime,delete e.endsplitdelay,delete e.endspeed,delete e.endeasing,delete e.endsplit,delete e.endanimation),void 0===e.frames.frame_0&&(e.frames.frame_0={time:0,delay:0,split:\"none\",splitdelay:10,split_extratime:0,speed:300,animation:\"tp-fade\",easing:\"Power3.easeInOut\"}),void 0===e.frames.frame_999&&(e.frames.frame_999={time:g_slideTime,delay:0,split:\"none\",splitdelay:10,split_extratime:0,speed:300,animation:\"tp-fade\",easing:\"Power3.easeInOut\"}),e.frames.frame_0.time=void 0===e.frames.frame_0.time?10:e.frames.frame_0.time,e.frames.frame_0.delay=void 0===e.frames.frame_0.delay?0:e.frames.frame_0.delay,e.frames.frame_0.split=void 0===e.frames.frame_0.split?\"none\":e.frames.frame_0.split,e.frames.frame_0.splitdelay=void 0===e.frames.frame_0.splitdelay?10:e.frames.frame_0.splitdelay,e.frames.frame_0.split_extratime=void 0===e.frames.frame_0.split_extratime?0:e.frames.frame_0.split_extratime,e.frames.frame_0.speed=void 0===e.frames.frame_0.speed?300:e.frames.frame_0.speed,e.frames.frame_0.animation=void 0===e.frames.frame_0.animation?\"tp-fade\":e.frames.frame_0.animation,e.frames.frame_0.easing=void 0===e.frames.frame_0.easing?\"Power3.easeInOut\":e.frames.frame_0.easing,e.frames.frame_999.time=void 0===e.frames.frame_999.time?10:e.frames.frame_999.time,e.frames.frame_999.delay=void 0===e.frames.frame_999.delay?0:e.frames.frame_999.delay,e.frames.frame_999.split=void 0===e.frames.frame_999.split?\"none\":e.frames.frame_999.split,e.frames.frame_999.splitdelay=void 0===e.frames.frame_999.splitdelay?10:e.frames.frame_999.splitdelay,e.frames.frame_999.split_extratime=void 0===e.frames.frame_999.split_extratime?0:e.frames.frame_999.split_extratime,e.frames.frame_999.speed=void 0===e.frames.frame_999.speed?300:e.frames.frame_999.speed,e.frames.frame_999.animation=void 0===e.frames.frame_999.animation?\"tp-fade\":e.frames.frame_999.animation,e.frames.frame_999.easing=void 0===e.frames.frame_999.easing?\"Power3.easeInOut\":e.frames.frame_999.easing,null==t.getVal(e,\"width\")?e=t.setVal(e,\"width\",-1,!0):\"object\"!=typeof e.width&&(e=t.setVal(e,\"width\",e.width,!0)),null==t.getVal(e,\"height\")?e=t.setVal(e,\"height\",-1,!0):\"object\"!=typeof e.height&&(e=t.setVal(e,\"height\",e.height,!0)),null==t.getVal(e,\"cover_mode\")&&(e=t.setVal(e,\"cover_mode\",\"custom\",!0)),null==e.static_styles?(e.static_styles={},t.reset_to_default_static_styles(e),null==t.getVal(e.static_styles,\"font-size\")&&(e.static_styles=t.setVal(e.static_styles,\"font-size\",20,!0)),null==t.getVal(e.static_styles,\"line-height\")&&(e.static_styles=t.setVal(e.static_styles,\"line-height\",22,!0)),null==t.getVal(e.static_styles,\"font-weight\")&&(e.static_styles=t.setVal(e.static_styles,\"font-weight\",400,!0)),null==t.getVal(e.static_styles,\"color\")&&(e.static_styles=t.setVal(e.static_styles,\"color\",\"#ffffff\",!0)),null==t.getVal(e.static_styles,\"letter-spacing\")&&(e.static_styles=t.setVal(e.static_styles,\"letter-spacing\",0,!0))):(\"object\"!=typeof e.static_styles[\"font-size\"]&&(e.static_styles=t.setVal(e.static_styles,\"font-size\",e.static_styles[\"font-size\"],!0)),\"object\"!=typeof e.static_styles[\"line-height\"]&&(e.static_styles=t.setVal(e.static_styles,\"line-height\",e.static_styles[\"line-height\"],!0)),\"object\"!=typeof e.static_styles[\"font-weight\"]&&(e.static_styles=t.setVal(e.static_styles,\"font-weight\",e.static_styles[\"font-weight\"],!0)),\"object\"!=typeof e.static_styles.color&&(e.static_styles=t.setVal(e.static_styles,\"color\",e.static_styles.color,!0)),\"object\"!=typeof e.static_styles[\"letter-spacing\"]&&(e.static_styles=t.setVal(e.static_styles,\"letter-spacing\",e.static_styles[\"letter-spacing\"],!0))),null==e.margin){e.margin={};var d=[];jQuery('input[name=\"css_margin[]\"]').each(function(){d.push(0)}),e=t.setVal(e,\"margin\",d,!0)}else\"object\"!=typeof e.margin&&(e=t.setVal(e,\"margin\",e.margin,!0));if(null==e.padding)if(void 0!==e.deformation&&void 0!==e.deformation.padding)e=t.setVal(e,\"padding\",e.deformation.padding,!0);else{e.padding={};var y=[];jQuery('input[name=\"css_padding[]\"]').each(function(){y.push(0)}),e=t.setVal(e,\"padding\",y,!0)}else if(\"object\"!==jQuery.type(e.padding)){var c=e.padding;delete e.padding,e=t.setVal(e,\"padding\",c,!0)}if(null==e[\"text-align\"]?e=void 0!==e.deformation&&void 0!==e.deformation[\"text-align\"]?t.setVal(e,\"text-align\",e.deformation[\"text-align\"],!0):t.setVal(e,\"text-align\",\"inherit\",!0):\"object\"!==jQuery.type(e[\"text-align\"])&&(e=t.setVal(e,\"text-align\",e[\"text-align\"],!0)),e=t.setVal(e,\"top\",Math.round(t.getVal(e,\"top\"))),null==(e=t.setVal(e,\"left\",Math.round(t.getVal(e,\"left\")))).x_start&&(e.x_start=\"inherit\"),null==e.y_start&&(e.y_start=\"inherit\"),null==e.z_start&&(e.z_start=\"inherit\"),null==e.x_end&&(e.x_end=\"inherit\"),null==e.y_end&&(e.y_end=\"inherit\"),null==e.z_end&&(e.z_end=\"inherit\"),null==e.opacity_start&&(e.opacity_start=0==r?\"0\":\"inherit\"),null==e.opacity_end&&(e.opacity_end=0==r?\"0\":\"inherit\"),null==e.blurfilter_start&&(e.blurfilter_start=\"0\"),null==e.blurfilter_end&&(e.blurfilter_end=\"0\"),null==e.grayscalefilter_start&&(e.grayscalefilter_start=\"0\"),null==e.grayscalefilter_end&&(e.grayscalefilter_end=\"0\"),null==e.x_rotate_start&&(e.x_rotate_start=\"inherit\"),null==e.y_rotate_start&&(e.y_rotate_start=\"inherit\"),null==e.z_rotate_start&&(e.z_rotate_start=\"inherit\"),null==e.x_rotate_end&&(e.x_rotate_end=\"inherit\"),null==e.y_rotate_end&&(e.y_rotate_end=\"inherit\"),null==e.z_rotate_end&&(e.z_rotate_end=\"inherit\"),null==e.scale_x_start&&(e.scale_x_start=\"inherit\"),null==e.scale_y_start&&(e.scale_y_start=\"inherit\"),null==e.scale_x_end&&(e.scale_x_end=\"inherit\"),null==e.scale_y_end&&(e.scale_y_end=\"inherit\"),null==e.skew_x_start&&(e.skew_x_start=\"inherit\"),null==e.skew_y_start&&(e.skew_y_start=\"inherit\"),null==e.skew_x_end&&(e.skew_x_end=\"inherit\"),null==e.skew_y_end&&(e.skew_y_end=\"inherit\"),null==e.pers_start&&(e.pers_start=\"inherit\"),null==e.pers_end&&(e.pers_end=\"inherit\"),(null==e.deformation||jQuery.isEmptyObject(e.deformation))&&(e.deformation={}),null!=e.deformation[\"font-family\"]||\"text\"!=e.type&&\"button\"!=e.type?\"\"!==e.deformation[\"font-family\"]&&-1==sgfamilies.indexOf(e.deformation[\"font-family\"])&&sgfamilies.push(e.deformation[\"font-family\"]):(e.deformation[\"font-family\"]=\"Open Sans\",sgfamilies.push(\"Open Sans\")),null==e.deformation[\"font-style\"]&&(e.deformation[\"font-style\"]=\"normal\"),null==e.deformation[\"color-transparency\"]&&(e.deformation[\"color-transparency\"]=1),null==e.deformation[\"text-decoration\"]&&(e.deformation[\"text-decoration\"]=\"none\"),null==e.deformation[\"vertical-align\"]&&(e.deformation[\"vertical-align\"]=\"top\"),null==e.deformation[\"text-transform\"]&&(e.deformation[\"text-transform\"]=\"none\"),null==e.deformation[\"background-color\"]&&(e.deformation[\"background-color\"]=\"transparent\"),null==e.deformation[\"background-transparency\"]&&(e.deformation[\"background-transparency\"]=1),null==e.deformation[\"border-color\"]&&(e.deformation[\"border-color\"]=\"transparent\"),null==e.deformation[\"border-transparency\"]&&(e.deformation[\"border-transparency\"]=1),null==e.deformation[\"border-style\"]&&(e.deformation[\"border-style\"]=\"none\"),null==e.deformation[\"border-width\"]&&(e.deformation[\"border-width\"]=\"0\"),null==e.deformation[\"border-width\"]){var _=[];jQuery('input[name=\"css_border-width[]\"]').each(function(){_.push(0)}),e.deformation[\"border-width\"]=_}else jQuery.isArray(e.deformation[\"border-width\"])||(e.deformation[\"border-width\"]=[e.deformation[\"border-width\"],e.deformation[\"border-width\"],e.deformation[\"border-width\"],e.deformation[\"border-width\"]]);if(null==e.deformation[\"border-radius\"]){_=[];jQuery('input[name=\"css_border-radius[]\"]').each(function(){_.push(0)}),e.deformation[\"border-radius\"]=_}if(null==e.svg&&(e.svg={}),null==e.svg[\"svgstroke-color\"]&&(e.svg[\"svgstroke-color\"]=\"transparent\"),null==e.svg[\"svgstroke-transparency\"]&&(e.svg[\"svgstroke-transparency\"]=1),null==e.svg[\"svgstroke-dasharray\"]&&(e.svg[\"svgstroke-dasharray\"]=\"0\"),null==e.svg[\"svgstroke-dashoffset\"]&&(e.svg[\"svgstroke-dashoffset\"]=\"0\"),null==e.svg[\"svgstroke-width\"]&&(e.svg[\"svgstroke-width\"]=\"0\"),null==e.svg[\"svgstroke-hover-color\"]&&(e.svg[\"svgstroke-hover-color\"]=\"transparent\"),null==e.svg[\"svgstroke-hover-transparency\"]&&(e.svg[\"svgstroke-hover-transparency\"]=1),null==e.svg[\"svgstroke-hover-dasharray\"]&&(e.svg[\"svgstroke-hover-dasharray\"]=\"0\"),null==e.svg[\"svgstroke-hover-dashoffset\"]&&(e.svg[\"svgstroke-hover-dashoffset\"]=\"0\"),null==e.svg[\"svgstroke-hover-width\"]&&(e.svg[\"svgstroke-hover-width\"]=\"0\"),null==e.deformation.x&&(e.deformation.x=0),null==e.deformation.y&&(e.deformation.y=0),null==e.deformation.z&&(e.deformation.z=0),null==e.deformation.skewx&&(e.deformation.skewx=0),null==e.deformation.skewy&&(e.deformation.skewy=0),null==e.deformation.scalex&&(e.deformation.scalex=1),null==e.deformation.scaley&&(e.deformation.scaley=1),null==e.deformation.opacity&&(e.deformation.opacity=1),null==e.deformation.xrotate&&(e.deformation.xrotate=0),null==e.deformation.yrotate&&(e.deformation.yrotate=0),null==e[\"2d_rotation\"]&&(e[\"2d_rotation\"]=0),null==e.deformation[\"2d_origin_x\"]&&(e.deformation[\"2d_origin_x\"]=50),null==e.deformation[\"2d_origin_y\"]&&(e.deformation[\"2d_origin_y\"]=50),null==e.deformation.pers&&(e.deformation.pers=600),null==e.deformation.corner_left&&(e.deformation.corner_left=\"nothing\"),null==e.deformation.corner_right&&(e.deformation.corner_right=\"nothing\"),null==e.deformation.parallax&&(e.deformation.parallax=\"-\"),null==e.deformation.blurfilter&&(e.deformation.blurfilter=0),null==e.deformation.grayscalefilter&&(e.deformation.grayscalefilter=0),(null==e[\"deformation-hover\"]||jQuery.isEmptyObject(e[\"deformation-hover\"]))&&(e[\"deformation-hover\"]={}),null==e[\"deformation-hover\"].blurfilter&&(e[\"deformation-hover\"].blurfilter=0),null==e[\"deformation-hover\"].grayscalefilter&&(e[\"deformation-hover\"].grayscalefilter=0),null==e[\"deformation-hover\"].color&&(e[\"deformation-hover\"].color=\"#ffffff\"),null==e[\"deformation-hover\"][\"color-transparency\"]&&(e[\"deformation-hover\"][\"color-transparency\"]=\"1\"),null==e[\"deformation-hover\"][\"text-decoration\"]&&(e[\"deformation-hover\"][\"text-decoration\"]=\"none\"),null==e[\"deformation-hover\"][\"background-color\"]&&(e[\"deformation-hover\"][\"background-color\"]=\"transparent\"),null==e[\"deformation-hover\"][\"background-transparency\"]&&(e[\"deformation-hover\"][\"background-transparency\"]=0),null==e[\"deformation-hover\"][\"border-color\"]&&(e[\"deformation-hover\"][\"border-color\"]=\"transparent\"),null==e[\"deformation-hover\"][\"border-transparency\"]&&(e[\"deformation-hover\"][\"border-transparency\"]=\"1\"),null==e[\"deformation-hover\"][\"border-style\"]&&(e[\"deformation-hover\"][\"border-style\"]=\"none\"),null==e[\"deformation-hover\"][\"border-width\"]&&(e[\"deformation-hover\"][\"border-width\"]=0),null==e[\"deformation-hover\"][\"border-width\"]){_=[];jQuery('input[name=\"hover_css_border-width[]\"]').each(function(){_.push(0)}),e[\"deformation-hover\"][\"border-width\"]=_}else jQuery.isArray(e[\"deformation-hover\"][\"border-width\"])||(e[\"deformation-hover\"][\"border-width\"]=[e[\"deformation-hover\"][\"border-width\"],e[\"deformation-hover\"][\"border-width\"],e[\"deformation-hover\"][\"border-width\"],e[\"deformation-hover\"][\"border-width\"]]);if(null==e[\"deformation-hover\"][\"border-radius\"]){_=[];jQuery('input[name=\"hover_css_border-radius[]\"]').each(function(){_.push(0)}),e[\"deformation-hover\"][\"border-radius\"]=_}null!=e.svg&&(null==e.svg[\"svgstroke-hover-color\"]&&(e.svg[\"svgstroke-hover-color\"]=\"transparent\"),null==e.svg[\"svgstroke-hover-transparency\"]&&(e.svg[\"svgstroke-hover-transparency\"]=1),null==e.svg[\"svgstroke-hover-dasharray\"]&&(e.svg[\"svgstroke-hover-dasharray\"]=\"0\"),null==e.svg[\"svgstroke-hover-dashoffset\"]&&(e.svg[\"svgstroke-hover-dashoffset\"]=\"0\"),null==e.svg[\"svgstroke-hover-width\"]&&(e.svg[\"svgstroke-hover-width\"]=\"0\")),null==e[\"deformation-hover\"].x&&(e[\"deformation-hover\"].x=0),null==e[\"deformation-hover\"].y&&(e[\"deformation-hover\"].y=0),null==e[\"deformation-hover\"].z&&(e[\"deformation-hover\"].z=0),null==e[\"deformation-hover\"].skewx&&(e[\"deformation-hover\"].skewx=0),null==e[\"deformation-hover\"].skewy&&(e[\"deformation-hover\"].skewy=0),null==e[\"deformation-hover\"].scalex&&(e[\"deformation-hover\"].scalex=1),null==e[\"deformation-hover\"].scaley&&(e[\"deformation-hover\"].scaley=1),null==e[\"deformation-hover\"].opacity&&(e[\"deformation-hover\"].opacity=1),null==e[\"deformation-hover\"].xrotate&&(e[\"deformation-hover\"].xrotate=0),null==e[\"deformation-hover\"].yrotate&&(e[\"deformation-hover\"].yrotate=0),null==e[\"deformation-hover\"][\"2d_rotation\"]&&(e[\"deformation-hover\"][\"2d_rotation\"]=0),null==e[\"deformation-hover\"][\"2d_origin_x\"]&&(e[\"deformation-hover\"][\"2d_origin_x\"]=50),null==e[\"deformation-hover\"][\"2d_origin_y\"]&&(e[\"deformation-hover\"][\"2d_origin_y\"]=50),null==e[\"deformation-hover\"].speed&&(e[\"deformation-hover\"].speed=0),null==e[\"deformation-hover\"].zindex&&(e[\"deformation-hover\"].zindex=\"auto\"),null==e[\"deformation-hover\"].easing&&(e[\"deformation-hover\"].easing=\"Linear.easeNone\"),null==e[\"deformation-hover\"].css_cursor&&(e[\"deformation-hover\"].css_cursor=\"auto\"),null==e[\"deformation-hover\"].pointer_events&&(e[\"deformation-hover\"].pointer_events=\"auto\"),null==e.visible&&(e.visible=!0),null==e.animation_overwrite&&(e.animation_overwrite=\"wait\"),null==e.trigger_memory&&(e.trigger_memory=\"keep\"),e.serial=id_counter,jQuery.each(t.addon_callbacks,function(t,r){var a=r.callback,i=r.environment,o=r.function_position;\"add_layer_to_stage\"===i&&\"data_definition\"==o&&(e=a(e))}),e.isDemo=a;var m=t.makeLayerHtml(id_counter,e,a);return container.append(m),e.references=void 0===e.references?{}:e.references,e.references.htmlLayer=t.getHtmlLayerFromSerial(id_counter,a),a?t.arrLayersDemo[id_counter]=jQuery.extend({},e):t.arrLayers[id_counter]=jQuery.extend({},e),a||(u.addToSortbox(id_counter,e),1!=i&&u.timeLineTableDimensionUpdate()),0!=e.visible||a||u.hideLayer(e),a||refreshEvents(id_counter),!1===e.createdOnInit&&(a?t.arrLayersDemo[id_counter].layer_unavailable=!0:t.arrLayers[id_counter].layer_unavailable=!0,t.cloneArrLayers(),a?t.arrLayersDemo[id_counter].layer_unavailable=!1:t.arrLayers[id_counter].layer_unavailable=!1,t.add_layer_change()),id_counter++,jQuery(\"#button_delete_all\").removeClass(\"button-now-disabled\"),u.rebuildLayerIdle(e.references.htmlLayer,0,a),0!=r||a||(t.setLayerSelected(e.serial),jQuery(\"#layer_text\").focus()),o&&(t.reset_to_default_static_styles(e),updateSubStyleParameters(e,!0)),t.cloneArrLayers(),u.timeLineTableDimensionUpdate(),u.organiseGroupsAndLayer(!1,!1,!0),e.serial};t.deleteLayer=function(e){var r=t.getLayer(e);r.deleted=!0,forceShowHideLayer(r,\"hide\"),t.add_layer_change(),u.timeLineTableDimensionUpdate()};var deleteCurrentLayer=function(){if(-1==t.selectedLayerSerial)return!1;t.deleteLayer(t.selectedLayerSerial),t.selectedLayerSerial=-1,disableFormFields()},duplicateLayerIntoNewGroup=function(e){return e.order=void 0,e.time=void 0,e.createdOnInit=!1,unique_layer_id++,e.unique_id=unique_layer_id,addLayer(e,!0),u.timeLineTableDimensionUpdate(),unique_layer_id},duplicateCurrentLayer=function(){if(-1==t.selectedLayerSerial)return!1;var e,r=t.arrLayers[t.selectedLayerSerial],a=UniteAdminRev.duplicateObject(r);a=t.setVal(a,\"left\",t.getVal(a,\"left\")+5),(a=t.setVal(a,\"top\",t.getVal(a,\"top\")+5)).order=void 0,a.time=void 0,a.createdOnInit=!1,unique_layer_id++,a.unique_id=unique_layer_id,void 0!==a.groupOrder&&\"row\"===a.type&&(a.groupOrder=t.getHighestGroupOrder(t.getVal(a,\"align_vert\"))),addLayer(a,!0),initDisallowCaptionsOnClick(),u.timeLineTableDimensionUpdate(),\"group\"===r.type&&t.getLayersInGroup(r.unique_id).layers.length>0&&(jQuery.each(t.getLayersInGroup(r.unique_id).layers,function(e,t){var r=UniteAdminRev.duplicateObject(t);r.p_uid=a.unique_id,duplicateLayerIntoNewGroup(r)}),t.makeRowSortableDroppable()),\"row\"===r.type&&t.getLayersInGroup(r.unique_id).layers.length>0&&(jQuery.each(t.getLayersInGroup(r.unique_id).columns,function(e,r){var i=UniteAdminRev.duplicateObject(r);i.p_uid=a.unique_id,i.ref_group=a.unique_id;var o=duplicateLayerIntoNewGroup(i);jQuery.each(t.getLayersInGroup(r.unique_id).layers,function(e,t){var r=UniteAdminRev.duplicateObject(t);r.p_uid=o,duplicateLayerIntoNewGroup(r)})}),t.makeRowSortableDroppable()),jQuery.each(t.getLayers(),function(t,r){e=t}),t.setLayerSelected(e),-1!==a.p_uid&&\"group\"!==t.getObjLayerType(a.p_uid)&&t.setInnerGroupOrders(a.references.htmlLayer.parent())};t.updateHtmlLayerCorners=function(e){htmlLayer=jQuery(e.references.htmlLayer[0].getElementsByClassName(\"innerslide_layer\")[0]);var t=htmlLayer.outerHeight(),r=htmlLayer.css(\"backgroundColor\"),a=UniteAdminRev.getTransparencyFromRgba(htmlLayer.css(\"backgroundColor\"));if(a=!1===a?1:a,htmlLayer.find(\".frontcorner\").remove(),htmlLayer.find(\".frontcornertop\").remove(),htmlLayer.find(\".backcorner\").remove(),htmlLayer.find(\".backcornertop\").remove(),null==e||0==e)return!1;switch(e.deformation.corner_left){case\"curved\":htmlLayer.append(\"<div class='frontcorner'></div>\");break;case\"reverced\":htmlLayer.append(\"<div class='frontcornertop'></div>\")}switch(e.deformation.corner_right){case\"curved\":htmlLayer.append(\"<div class='backcorner'></div>\");break;case\"reverced\":htmlLayer.append(\"<div class='backcornertop'></div>\")}htmlLayer.find(\".frontcorner\").css({borderWidth:t+\"px\",left:0-t+\"px\",borderRight:\"0px solid transparent\",borderTopColor:r}),htmlLayer.find(\".frontcornertop\").css({borderWidth:t+\"px\",left:0-t+\"px\",borderRight:\"0px solid transparent\",borderBottomColor:r}),htmlLayer.find(\".backcorner\").css({borderWidth:t+\"px\",right:0-t+\"px\",borderLeft:\"0px solid transparent\",borderBottomColor:r}),htmlLayer.find(\".backcornertop\").css({borderWidth:t+\"px\",right:0-t+\"px\",borderLeft:\"0px solid transparent\",borderTopColor:r})};var getjQueryLayer=function(){return jQuery(\"#slide_layer_\"+t.selectedLayerSerial)},updateLayerTextField=function(e,r,a){var i=getjQueryLayer();-1!=t.selectedLayerSerial&&i.length>0&&(i[0].getElementsByClassName(\"innerslide_layer\")[0].innerHTML=a);var o=r.closest(\"li\");a=u.getSortboxText(a),null!=o&&(o[0].getElementsByClassName(\"timer-layer-text\")[0].innerHTML=a)};t.updateCrossIconPosition=function(e){var r=jQuery(e.references.htmlLayer[0].getElementsByClassName(\"icon_cross\")[0]),a=r.width(),i=r.height(),o=e.references.htmlLayer.outerWidth(),s=e.references.htmlLayer.outerHeight(),n=Math.round(a/2),l=Math.round(i/2),d=0,y=0;switch(t.getVal(e,\"align_hor\")){case\"left\":d=-n;break;case\"center\":d=(o-a)/2;break;case\"right\":d=o-n}switch(t.getVal(e,\"align_vert\")){case\"top\":y=-l;break;case\"middle\":y=(s-i)/2;break;case\"bottom\":y=s-l}r.css({left:d+\"px\",top:y+\"px\"})};var checkUpdateFullwidthVideo=function(e){return\"video\"!=e.type?e:(void 0!==e.video_data&&e.video_data&&e.video_data.fullwidth&&1==e.video_data.fullwidth&&(e=t.setVal(e,\"top\",0),e=t.setVal(e,\"left\",0),e=t.setVal(e,\"align_hor\",\"left\",!0),(e=t.setVal(e,\"align_vert\",\"top\",!0)).video_width=container.width(),e.video_height=container.height()),e)},updateHtmlLayersFromObject=function(e,r,a){e||(e=t.selectedLayerSerial);var i=t.getLayer(e,a);if(!i)return!1;var o=i.references.htmlLayer,s=\"innerslide_layer tp-caption\";switch(e==t.selectedLayerSerial&&(o.addClass(\"layer_selected\"),o.closest(\".slide_layer_type_row\").addClass(\"layerchild_selected\"),o.closest(\".slide_layer_type_column\").addClass(\"layerchild_selected\")),s+=\" \"+i.style,i.type){case\"button\":case\"shape\":s+=\" \"+i.internal_class}switch(o[0].getElementsByClassName(\"innerslide_layer\")[0].className=s,i.type||\"text\"){case\"image\":break;case\"video\":i=checkUpdateFullwidthVideo(i);break;case\"row\":case\"group\":case\"column\":break;default:case\"text\":case\"button\":o[0].getElementsByClassName(\"innerslide_layer\")[0].innerHTML=i.text,t.makeCurrentLayerRotatable(e),t.updateHtmlLayerCorners(i);break;case\"svg\":i.svg.renderedData=o[0].getElementsByClassName(\"innerslide_layer\")[0].innerHTML,t.makeCurrentLayerRotatable(e);break;case\"audio\":}u.rebuildLayerIdle(getjQueryLayer())};t.makeCurrentLayerRotatable=function(e){if(u.checkLoopTab()||u.checkAnimationTab())return t.removeCurrentLayerRotatable(),!1;var r=document.getElementsByClassName(\"slide_layer layer_selected\")[0];if(null!=(r=null!=r?jQuery(r.getElementsByClassName(\"innerslide_layer\")[0]):r)&&null!==r&&r.length>0){try{r.rotatable(\"destroy\")}catch(e){}r.rotatable({angle:r.data(\"angle\"),start:function(e,t){},rotate:function(e,t){jQuery(\"#layer_2d_rotation\").val(getRotationDegrees(t.element)),t.element.data(\"angle\",t.angle.current)},stop:function(e,r){t.updateLayerFromFields()}})}},t.removeCurrentLayerRotatable=function(){jQuery(\".slide_layer .ui-rotatable-handle\").each(function(){var e=jQuery(this);setTimeout(function(){try{e.parent().rotatable(\"destroy\")}catch(e){}try{e.remove()}catch(e){}try{e.parent().find(\".ui-rotatable-handle\").remove()}catch(e){}},50)})};var positionChanged=function(e){jQuery(\"#layer_top, #layer_left\").change(function(){setTimeout(function(){updateHtmlLayersFromObject(t.getSerialFromID(jQuery(\".layer_selected\").attr(\"id\")),!0)},19)})},positionChanged_Core=function(){try{jQuery.each(t.arrLayers,function(e,r){try{t.updateHtmlLayerPosition(!1,r,t.getVal(r,\"top\"),t.getVal(r,\"left\"),t.getVal(r,\"align_hor\"),t.getVal(r,\"align_vert\"))}catch(e){console.log(\"Position Changed Core Internal Function Error:\"),console.log(e)}})}catch(e){console.log(\"Position Changed Core Function Error:\"),console.log(e)}};t.set_cover_mode=function(){var e=t.getLayer(t.selectedLayerSerial);switch(jQuery(\"#layer_scaleX\").prop(\"disabled\",!1),jQuery(\"#layer_scaleY\").prop(\"disabled\",!1),jQuery(\"#layer_max_width\").prop(\"disabled\",!1),jQuery(\"#layer_max_height\").prop(\"disabled\",!1),e.type){case\"shape\":case\"image\":switch(jQuery(\"#layer_cover_mode option:selected\").val()){case\"custom\":break;case\"fullwidth\":jQuery(\"#layer_scaleX\").attr(\"disabled\",\"disabled\"),jQuery(\"#layer_max_width\").attr(\"disabled\",\"disabled\");break;case\"fullheight\":jQuery(\"#layer_scaleY\").attr(\"disabled\",\"disabled\"),jQuery(\"#layer_max_height\").attr(\"disabled\",\"disabled\");break;case\"cover\":case\"cover-proportional\":jQuery(\"#layer_scaleX\").attr(\"disabled\",\"disabled\"),jQuery(\"#layer_scaleY\").attr(\"disabled\",\"disabled\"),jQuery(\"#layer_max_width\").attr(\"disabled\",\"disabled\"),jQuery(\"#layer_max_height\").attr(\"disabled\",\"disabled\")}}},t.updateCurrentLayerPosition=function(){var e={};e=t.setVal(e,\"top\",Number(parseInt(jQuery(\"#layer_top\").val(),0))),e=t.setVal(e,\"left\",Number(parseInt(jQuery(\"#layer_left\").val(),0))),t.updateCurrentLayer(e),u.rebuildLayerIdle(jQuery(\".slide_layer.layer_selected\"))},t.updateLayerFromFields=function(){t.updateLayerFromFields_Core()},t.updateLayerFromFields_Core=function(){var e={};if(jQuery.each(t.addon_callbacks,function(t,r){var a=r.callback,i=r.environment,o=r.function_position;\"updateLayerFromFields_Core\"===i&&\"start\"==o&&(e=a(e))}),-1==t.selectedLayerSerial)return!1;UniteCssEditorRev.compare_to_original(),e.style=document.getElementById(\"layer_caption\").value,e.hover=document.getElementById(\"hover_allow\").checked,e.toggle=document.getElementById(\"toggle_allow\").checked,e.toggle_use_hover=document.getElementById(\"toggle_use_hover\").checked,e.toggle_inverse_content=document.getElementById(\"toggle_inverse_content\").checked,e[\"visible-desktop\"]=document.getElementById(\"visible-desktop\").checked,e[\"visible-notebook\"]=document.getElementById(\"visible-notebook\").checked,e[\"visible-tablet\"]=document.getElementById(\"visible-tablet\").checked,e[\"visible-mobile\"]=document.getElementById(\"visible-mobile\").checked,e[\"show-on-hover\"]=document.getElementById(\"layer_on_slider_hover\").checked,e[\"css-position\"]=jQuery(\"#layer-css-position option:selected\").val(),e[\"lazy-load\"]=jQuery(\"#layer-lazy-loading option:selected\").val(),e[\"image-size\"]=jQuery(\"#layer-image-size option:selected\").val(),e.text=document.getElementById(\"layer_text\").value,e.texttoggle=document.getElementById(\"layer_text_toggle\").value||\"\",e.alias=jQuery(\"#layer_sort_\"+t.selectedLayerSerial+\">.layer_sort_inner_wrapper .timer-layer-text\").val(),jQuery(\"#layer_text\").data(\"new_content\")&&jQuery(\"#layer_sort_\"+t.selectedLayerSerial+\">.layer_sort_inner_wrapper .timer-layer-text\").val(e.text),jQuery(\"#layer_quicksort_\"+t.selectedLayerSerial+\" .layer-title-in-list\").val(e.alias),jQuery(\"#the_current-editing-layer-title\").val(e.alias),jQuery(\"#layer-short-toolbar\").data(\"serial\",t.selectedLayerSerial),e=t.setVal(e,\"top\",Number(parseInt(document.getElementById(\"layer_top\").value,0))),e=t.setVal(e,\"left\",Number(parseInt(document.getElementById(\"layer_left\").value,0))),e=t.setVal(e,\"whitespace\",jQuery(\"#layer_whitespace option:selected\").val()),e=t.setVal(e,\"display\",jQuery(\"#layer_display option:selected\").val()),e=t.setVal(e,\"max_height\",document.getElementById(\"layer_max_height\").value),e=t.setVal(e,\"min_height\",document.getElementById(\"layer_min_height\").value),e=t.setVal(e,\"max_width\",document.getElementById(\"layer_max_width\").value),e=t.setVal(e,\"video_height\",document.getElementById(\"layer_video_height\").value),e=t.setVal(e,\"video_width\",document.getElementById(\"layer_video_width\").value),e=t.setVal(e,\"scaleX\",document.getElementById(\"layer_scaleX\").value),e=t.setVal(e,\"scaleY\",document.getElementById(\"layer_scaleY\").value),(e=t.setVal(e,\"cover_mode\",jQuery(\"#layer_cover_mode option:selected\").val()))[\"2d_rotation\"]=parseInt(document.getElementById(\"layer_2d_rotation\").value,0),e[\"2d_origin_x\"]=parseInt(document.getElementById(\"layer_2d_origin_x\").value,0),e[\"2d_origin_y\"]=parseInt(document.getElementById(\"layer_2d_origin_y\").value,0),e.static_start=jQuery(\"#layer_static_start option:selected\").val(),e.static_end=jQuery(\"#layer_static_end option:selected\").val(),e.layer_bg_position=jQuery(\"#layer_bg_position option:selected\").val(),e.layer_bg_size=jQuery(\"#layer_bg_size option:selected\").val(),e.layer_bg_repeat=jQuery(\"#layer_bg_repeat option:selected\").val(),e.loop_animation=jQuery(\"#layer_loop_animation option:selected\").val(),e.loop_easing=document.getElementById(\"layer_loop_easing\").value,e.loop_speed=document.getElementById(\"layer_loop_speed\").value,e.loop_startdeg=parseInt(document.getElementById(\"layer_loop_startdeg\").value,0),e.loop_enddeg=parseInt(document.getElementById(\"layer_loop_enddeg\").value,0),e.loop_xorigin=parseInt(document.getElementById(\"layer_loop_xorigin\").value,0),e.loop_yorigin=parseInt(document.getElementById(\"layer_loop_yorigin\").value,0),e.loop_xstart=parseInt(document.getElementById(\"layer_loop_xstart\").value,0),e.loop_xend=parseInt(document.getElementById(\"layer_loop_xend\").value,0),e.loop_ystart=parseInt(document.getElementById(\"layer_loop_ystart\").value,0),e.loop_yend=parseInt(document.getElementById(\"layer_loop_yend\").value,0),e.loop_zoomstart=document.getElementById(\"layer_loop_zoomstart\").value,e.loop_zoomend=document.getElementById(\"layer_loop_zoomend\").value,e.loop_angle=document.getElementById(\"layer_loop_angle\").value,e.loop_radius=document.getElementById(\"layer_loop_radius\").value,e.html_tag=jQuery(\"#layer_html_tag option:selected\").val(),e.parallax_layer_ddd_zlevel=jQuery(\"#parallax_layer_ddd_zlevel option:selected\").val();var r=t.getHtmlLayerFromSerial(t.selectedLayerSerial);1!=document.getElementById(\"layer__scalex\").value||1!=document.getElementById(\"layer__scaley\").value||0!=parseInt(document.getElementById(\"layer__skewx\").value,0)||0!=parseInt(document.getElementById(\"layer__skewy\").value,0)||0!=parseInt(document.getElementById(\"layer__xrotate\").value,0)||0!=parseInt(document.getElementById(\"layer__yrotate\").value,0)||0!=parseInt(document.getElementById(\"layer_2d_rotation\").value,0)?(jQuery(document.getElementsByClassName(\"mask-not-available\")[0]).show(),jQuery(document.getElementsByClassName(\"mask-is-available\")[0]).hide(),document.getElementById(\"masking-start\").removeAttribute(\"checked\"),document.getElementById(\"masking-end\").removeAttribute(\"checked\"),jQuery(document.getElementsByClassName(\"mask-start-settings\")[0]).hide(),jQuery(document.getElementsByClassName(\"mask-end-settings\")[0]).hide(),jQuery(\".tp-showmask\").removeClass(\"tp-showmask\"),RevSliderSettings.onoffStatus(jQuery(\"#masking-start\")),RevSliderSettings.onoffStatus(jQuery(\"#masking-end\")),r.find(\".tp-mask-wrap\").css({overflow:\"visible\"})):(jQuery(document.getElementsByClassName(\"mask-not-available\")[0]).hide(),jQuery(document.getElementsByClassName(\"mask-is-available\")[0]).show()),e.mask_start=document.getElementById(\"masking-start\").checked,e.mask_end=document.getElementById(\"masking-end\").checked,e.mask_x_start=document.getElementById(\"mask_anim_xstart\").value,e.mask_y_start=document.getElementById(\"mask_anim_ystart\").value,e.mask_x_end=document.getElementById(\"mask_anim_xend\").value,e.mask_y_end=document.getElementById(\"mask_anim_yend\").value,e=t.setVal(e,\"align_hor\",document.getElementById(\"layer_align_hor\").value),(e=t.setVal(e,\"align_vert\",document.getElementById(\"layer_align_vert\").value)).hiddenunder=document.getElementById(\"layer_hidden\").checked,e.resizeme=document.getElementById(\"layer_resizeme\").checked,e[\"resize-full\"]=document.getElementById(\"layer_resize-full\").checked,e.basealign=document.getElementById(\"layer_align_base\").value,e.responsive_offset=document.getElementById(\"layer_resp_offset\").checked,e.frames={},e.frames.frame_0={},e.frames.frame_999={},e.frames.frame_0.animation=jQuery(\"#layer_animation option:selected\").val(),e.frames.frame_0.speed=document.getElementById(\"layer_speed\").value,e.frames.frame_0.easing=document.getElementById(\"layer_easing\").value,e.frames.frame_0.split=document.getElementById(\"layer_split\").value,e.frames.frame_0.splitdelay=document.getElementById(\"layer_splitdelay\").value,e.frames.frame_999.split=document.getElementById(\"layer_endsplit\").value,e.frames.frame_999.splitdelay=document.getElementById(\"layer_endsplitdelay\").value,e.frames.frame_999.animation=document.getElementById(\"layer_endanimation\").value,e.frames.frame_999.speed=document.getElementById(\"layer_endspeed\").value,e.frames.frame_999.easing=document.getElementById(\"layer_endeasing\").value,e.alt_option=jQuery(\"#layer_alt_option option:selected\").val(),e.alt=document.getElementById(\"layer_alt\").value,e=t.setVal(e,\"scaleX\",jQuery(\"#layer_scaleX\").val()),(e=t.setVal(e,\"scaleY\",jQuery(\"#layer_scaleY\").val())).x_start=document.getElementById(\"layer_anim_xstart\").value,e.y_start=document.getElementById(\"layer_anim_ystart\").value,e.z_start=document.getElementById(\"layer_anim_zstart\").value,e.x_end=document.getElementById(\"layer_anim_xend\").value,e.y_end=document.getElementById(\"layer_anim_yend\").value,e.z_end=document.getElementById(\"layer_anim_zend\").value,e.opacity_start=document.getElementById(\"layer_opacity_start\").value,e.opacity_end=document.getElementById(\"layer_opacity_end\").value,e.blurfilter_start=document.getElementById(\"blurfilter_start\").value,e.blurfilter_end=document.getElementById(\"blurfilter_end\").value,e.grayscalefilter_start=document.getElementById(\"grayscalefilter_start\").value,e.grayscalefilter_end=document.getElementById(\"grayscalefilter_end\").value,e.x_rotate_start=document.getElementById(\"layer_anim_xrotate\").value,e.y_rotate_start=document.getElementById(\"layer_anim_yrotate\").value,e.z_rotate_start=document.getElementById(\"layer_anim_zrotate\").value,e.x_rotate_end=document.getElementById(\"layer_anim_xrotate_end\").value,e.y_rotate_end=document.getElementById(\"layer_anim_yrotate_end\").value,e.z_rotate_end=document.getElementById(\"layer_anim_zrotate_end\").value,e.scale_x_start=document.getElementById(\"layer_scale_xstart\").value,e.scale_y_start=document.getElementById(\"layer_scale_ystart\").value,e.scale_x_end=document.getElementById(\"layer_scale_xend\").value,e.scale_y_end=document.getElementById(\"layer_scale_yend\").value,e.skew_x_start=document.getElementById(\"layer_skew_xstart\").value,e.skew_y_start=document.getElementById(\"layer_skew_ystart\").value,e.skew_x_end=document.getElementById(\"layer_skew_xend\").value,e.skew_y_end=document.getElementById(\"layer_skew_yend\").value,e.x_start_reverse=document.getElementById(\"layer_anim_xstart_reverse\").checked||!1,e.y_start_reverse=document.getElementById(\"layer_anim_ystart_reverse\").checked||!1,e.x_end_reverse=document.getElementById(\"layer_anim_xend_reverse\").checked||!1,e.y_end_reverse=document.getElementById(\"layer_anim_yend_reverse\").checked||!1,e.x_rotate_start_reverse=document.getElementById(\"layer_anim_xrotate_reverse\").checked||!1,e.y_rotate_start_reverse=document.getElementById(\"layer_anim_yrotate_reverse\").checked||!1,e.z_rotate_start_reverse=document.getElementById(\"layer_anim_zrotate_reverse\").checked||!1,e.x_rotate_end_reverse=document.getElementById(\"layer_anim_xrotate_end_reverse\").checked||!1,e.y_rotate_end_reverse=document.getElementById(\"layer_anim_yrotate_end_reverse\").checked||!1,e.z_rotate_end_reverse=document.getElementById(\"layer_anim_zrotate_end_reverse\").checked||!1,e.scale_x_start_reverse=document.getElementById(\"layer_scale_xstart_reverse\").checked||!1,e.scale_y_start_reverse=document.getElementById(\"layer_scale_ystart_reverse\").checked||!1,e.scale_x_end_reverse=document.getElementById(\"layer_scale_xend_reverse\").checked||!1,e.scale_y_end_reverse=document.getElementById(\"layer_scale_yend_reverse\").checked||!1,e.skew_x_start_reverse=document.getElementById(\"layer_skew_xstart_reverse\").checked||!1,e.skew_y_start_reverse=document.getElementById(\"layer_skew_ystart_reverse\").checked||!1,e.skew_x_end_reverse=document.getElementById(\"layer_skew_xend_reverse\").checked||!1,e.skew_y_end_reverse=document.getElementById(\"layer_skew_yend_reverse\").checked||!1,e.mask_x_start_reverse=document.getElementById(\"mask_anim_xstart_reverse\").checked||!1,e.mask_y_start_reverse=document.getElementById(\"mask_anim_ystart_reverse\").checked||!1,e.mask_x_end_reverse=document.getElementById(\"mask_anim_xend_reverse\").checked||!1,e.mask_y_end_reverse=document.getElementById(\"mask_anim_yend_reverse\").checked||!1,e.autolinebreak=jQuery(\"#layer_auto_line_break\")[0].checked,e.displaymode=jQuery(\"#layer_displaymode\")[0].checked,e.scaleProportional=jQuery(\"#layer_proportional_scale\")[0].checked,e.attrID=document.getElementById(\"layer_id\").value,e.attrWrapperID=document.getElementById(\"layer_wrapper_id\").value,e.attrClasses=document.getElementById(\"layer_classes\").value,e.attrWrapperClasses=document.getElementById(\"layer_wrapper_classes\").value,e.attrTitle=document.getElementById(\"layer_title\").value,e.attrTabindex=document.getElementById(\"layer_tabindex\").value,e.attrRel=document.getElementById(\"layer_rel\").value,e=t.setVal(e,\"scaleY\",jQuery(\"#layer_scaleY\").val()),jQuery(\"#clayer_start_speed\").val(e.speed),jQuery(\"#clayer_end_speed\").val(e.endspeed);var a=\"layer_color_s\"==lastchangedinput,i=\"checked\"==jQuery(\"#on_all_devices_color\").attr(\"checked\")||!1,o=\"layer_font_size_s\"==lastchangedinput,s=\"checked\"==jQuery(\"#on_all_devices_fontsize\").attr(\"checked\")||!1,n=\"layer_font_weight_s\"==lastchangedinput,l=\"checked\"==jQuery(\"#on_all_devices_fontweight\").attr(\"checked\")||!1,d=\"layer_line_height_s\"==lastchangedinput,y=\"checked\"==jQuery(\"#on_all_devices_lineheight\").attr(\"checked\")||!1,c=\"letter_spacing_s\"==lastchangedinput,_=\"checked\"==jQuery(\"#on_all_devices_letterspacing\").attr(\"checked\")||!1;null==e.static_styles&&(e.static_styles={}),e.static_styles=t.setVal(e.static_styles,\"font-size\",jQuery(\"#layer_font_size_s\").val(),o,null,s),e.static_styles=t.setVal(e.static_styles,\"line-height\",jQuery(\"#layer_line_height_s\").val(),d,null,y),e.static_styles=t.setVal(e.static_styles,\"font-weight\",jQuery(\"#layer_font_weight_s option:selected\").val(),n,null,l),e.static_styles=t.setVal(e.static_styles,\"color\",jQuery(\"#layer_color_s\").val(),a,null,i),e.static_styles=t.setVal(e.static_styles,\"letter-spacing\",jQuery(\"#letter_spacing_s\").val(),c,null,_),null==e.deformation&&(e.deformation={}),null==e.deformation[\"border-radius\"]&&(e.deformation[\"border-radius\"]=[\"0\",\"0\",\"0\",\"0\"]),e[\"layer-selectable\"]=jQuery(\"#css_layer_selectable option:selected\").val(),e.deformation[\"font-style\"]=jQuery(\"#css_font-style\")[0].checked?\"italic\":\"normal\",e.deformation[\"font-family\"]=document.getElementById(\"css_font-family\").value;var m=[];jQuery('input[name=\"css_padding[]\"]').each(function(e){m.push(jQuery(this).val())}),e=t.setVal(e,\"padding\",m,!0);var p=[];jQuery('input[name=\"css_margin[]\"]').each(function(e){p.push(jQuery(this).val())}),e=t.setVal(e,\"margin\",p,!0),(e=t.setVal(e,\"text-align\",jQuery(\"#css_text-align option:selected\").val())).deformation[\"text-decoration\"]=jQuery(\"#css_text-decoration option:selected\").val(),e.deformation.overflow=jQuery(\"#css_overflow option:selected\").val(),e.column_break_at=jQuery(\"#column_break_at option:selected\").val(),e.deformation[\"vertical-align\"]=jQuery(\"#css_vertical-align option:selected\").val(),e.deformation[\"text-transform\"]=jQuery(\"#css_text-transform option:selected\").val(),e.deformation[\"background-color\"]=document.getElementById(\"css_background-color\").value,e.deformation[\"border-color\"]=document.getElementById(\"css_border-color-show\").value,e.deformation[\"border-style\"]=jQuery(\"#css_border-style option:selected\").val(),null==e.deformation[\"border-width\"]&&(e.deformation[\"border-width\"]=new Array),jQuery('input[name=\"css_border-width[]\"]').each(function(t){e.deformation[\"border-width\"][t]=jQuery(this).val()}),null==e.deformation[\"border-radius\"]&&(e.deformation[\"border-radius\"]=new Array),jQuery('input[name=\"css_border-radius[]\"]').each(function(t){e.deformation[\"border-radius\"][t]=jQuery(this).val()}),e.layer_blend_mode=jQuery(\"#layer_blend_mode option:selected\").val(),e.deformation.x=0,e.deformation.y=0,e.deformation.z=parseInt(document.getElementById(\"layer__z\").value,0),e.deformation.skewx=document.getElementById(\"layer__skewx\").value,e.deformation.skewy=document.getElementById(\"layer__skewy\").value,e.deformation.scalex=document.getElementById(\"layer__scalex\").value,e.deformation.scaley=document.getElementById(\"layer__scaley\").value,e.deformation.opacity=document.getElementById(\"layer__opacity\").value,e.deformation.xrotate=parseInt(document.getElementById(\"layer__xrotate\").value,0),e.deformation.yrotate=parseInt(document.getElementById(\"layer__yrotate\").value,0),e[\"2d_rotation\"]=parseInt(document.getElementById(\"layer_2d_rotation\").value,0),e.deformation[\"2d_origin_x\"]=document.getElementById(\"layer_2d_origin_x\").value,e.deformation[\"2d_origin_y\"]=document.getElementById(\"layer_2d_origin_y\").value,e.deformation.pers=document.getElementById(\"layer__pers\").value,e.deformation.corner_left=jQuery(\"#layer_cornerleft option:selected\").val(),e.deformation.corner_right=jQuery(\"#layer_cornerright option:selected\").val(),e.deformation.parallax=jQuery(\"#parallax_level option:selected\").val(),e.deformation.blurfilter=document.getElementById(\"blurfilter_idle\").value,e.deformation.grayscalefilter=document.getElementById(\"grayscalefilter_idle\").value,(null==e[\"deformation-hover\"]||jQuery.isEmptyObject(e[\"deformation-hover\"]))&&(e[\"deformation-hover\"]={}),e[\"deformation-hover\"].color=document.getElementById(\"hover_layer_color_s\").value,e[\"deformation-hover\"][\"text-decoration\"]=jQuery(\"#hover_css_text-decoration option:selected\").val(),e[\"deformation-hover\"][\"background-color\"]=document.getElementById(\"hover_css_background-color\").value,e[\"deformation-hover\"].blurfilter=document.getElementById(\"blurfilter_hover\").value,e[\"deformation-hover\"].grayscalefilter=document.getElementById(\"grayscalefilter_hover\").value,e[\"deformation-hover\"].brightnessfilter=document.getElementById(\"brightnessfilter_hover\").value,e[\"deformation-hover\"][\"border-color\"]=document.getElementById(\"hover_css_border-color-show\").value,e[\"deformation-hover\"][\"border-style\"]=jQuery(\"#hover_css_border-style option:selected\").val(),null==e[\"deformation-hover\"][\"border-width\"]&&(e[\"deformation-hover\"][\"border-width\"]=new Array),jQuery('input[name=\"hover_css_border-width[]\"]').each(function(t){e[\"deformation-hover\"][\"border-width\"][t]=jQuery(this).val()}),null==e[\"deformation-hover\"][\"border-radius\"]&&(e[\"deformation-hover\"][\"border-radius\"]=new Array),jQuery('input[name=\"hover_css_border-radius[]\"]').each(function(t){e[\"deformation-hover\"][\"border-radius\"][t]=jQuery(this).val()}),e[\"deformation-hover\"].skewx=document.getElementById(\"hover_layer__skewx\").value,e[\"deformation-hover\"].skewy=document.getElementById(\"hover_layer__skewy\").value,e[\"deformation-hover\"].scalex=document.getElementById(\"hover_layer__scalex\").value,e[\"deformation-hover\"].scaley=document.getElementById(\"hover_layer__scaley\").value,e[\"deformation-hover\"].opacity=document.getElementById(\"hover_layer__opacity\").value,e[\"deformation-hover\"].xrotate=parseInt(document.getElementById(\"hover_layer__xrotate\").value,0),e[\"deformation-hover\"].yrotate=parseInt(document.getElementById(\"hover_layer__yrotate\").value,0),e[\"deformation-hover\"][\"2d_rotation\"]=parseInt(document.getElementById(\"hover_layer_2d_rotation\").value,0),e[\"deformation-hover\"].speed=document.getElementById(\"hover_speed\").value,e[\"deformation-hover\"].zindex=document.getElementById(\"hover_zindex\").value,e[\"deformation-hover\"].pointer_events=document.getElementById(\"pointer_events\").value,e[\"deformation-hover\"].easing=jQuery(\"#hover_easing option:selected\").val(),e[\"deformation-hover\"].css_cursor=jQuery(\"#css_cursor option:selected\").val(),e[\"deformation-hover\"].pointer_events=jQuery(\"#pointer_events option:selected\").val(),null==e.svg&&(e.svg={}),e.svg[\"svgstroke-color\"]=document.getElementById(\"css_svgstroke-color-show\").value,e.svg[\"svgstroke-dasharray\"]=document.getElementById(\"css_svgstroke-dasharray\").value,e.svg[\"svgstroke-dashoffset\"]=document.getElementById(\"css_svgstroke-dashoffset\").value,e.svg[\"svgstroke-width\"]=document.getElementById(\"css_svgstroke-width\").value,e.svg[\"svgstroke-hover-color\"]=document.getElementById(\"css_svgstroke-hover-color-show\").value,e.svg[\"svgstroke-hover-dasharray\"]=document.getElementById(\"css_svgstroke-hover-dasharray\").value,e.svg[\"svgstroke-hover-dashoffset\"]=document.getElementById(\"css_svgstroke-hover-dashoffset\").value,e.svg[\"svgstroke-hover-width\"]=document.getElementById(\"css_svgstroke-hover-width\").value,(null==e.layer_action||jQuery.isEmptyObject(e.layer_action))&&(e.layer_action={}),e.layer_action.tooltip_event=[],jQuery('select[name=\"layer_tooltip_event[]\"] option:selected').each(function(){e.layer_action.tooltip_event.push(jQuery(this).val())}),e.layer_action.action=[],jQuery('select[name=\"layer_action[]\"] option:selected').each(function(){e.layer_action.action.push(jQuery(this).val())}),e.layer_action.image_link=[],jQuery('input[name=\"layer_image_link[]\"]').each(function(){e.layer_action.image_link.push(jQuery(this).val())}),e.layer_action.link_open_in=[],jQuery('select[name=\"layer_link_open_in[]\"] option:selected').each(function(){e.layer_action.link_open_in.push(jQuery(this).val())}),e.layer_action.jump_to_slide=[],jQuery('select[name=\"jump_to_slide[]\"] option:selected').each(function(){e.layer_action.jump_to_slide.push(jQuery(this).val())}),e.layer_action.scrollunder_offset=[],jQuery('input[name=\"layer_scrolloffset[]\"]').each(function(){e.layer_action.scrollunder_offset.push(jQuery(this).val())}),e.layer_action.action_easing=[],jQuery('select[name=\"layer-action-easing[]\"] option:selected').each(function(){e.layer_action.action_easing.push(jQuery(this).val())}),e.layer_action.action_speed=[],jQuery('input[name=\"layer_action_speed[]\"]').each(function(){e.layer_action.action_speed.push(jQuery(this).val())}),e.layer_action.actioncallback=[],jQuery('input[name=\"layer_actioncallback[]\"]').each(function(){e.layer_action.actioncallback.push(jQuery(this).val())}),e.layer_action.layer_target=[],jQuery('select[name=\"layer_target[]\"] option:selected').each(function(){e.layer_action.layer_target.push(jQuery(this).val())}),e.layer_action.link_type=[],jQuery('select[name=\"layer_link_type[]\"] option:selected').each(function(){e.layer_action.link_type.push(jQuery(this).val())}),e.layer_action.action_delay=[],jQuery('input[name=\"layer_action_delay[]\"]').each(function(){e.layer_action.action_delay.push(jQuery(this).val())}),e.layer_action.toggle_layer_type=[],jQuery('select[name=\"toggle_layer_type[]\"] option:selected').each(function(){e.layer_action.toggle_layer_type.push(jQuery(this).val())}),e.layer_action.toggle_class=[],jQuery('input[name=\"layer_toggleclass[]\"]').each(function(){e.layer_action.toggle_class.push(jQuery(this).val())}),e.animation_overwrite=jQuery(\"#layer-animation-overwrite option:selected\").val(),e.trigger_memory=jQuery(\"#layer-tigger-memory option:selected\").val(),jQuery.each(t.addon_callbacks,function(t,r){var a=r.callback,i=r.environment,o=r.function_position;\"updateLayerFromFields_Core\"===i&&\"end\"==o&&(e=a(e))}),t.updateCurrentLayer(e,[\"layer_action\"]),t.showHideToggleContent(e),updateHtmlLayersFromObject(),updateHtmlSortboxFromObject(),initDisallowCaptionsOnClick(),u.rebuildLayerIdle(r),t.set_cover_mode()};var updateHtmlSortboxFromObject=function(e){e=null!=e?e:t.selectedLayerSerial;var r=t.getLayer(e),a=u.getHtmlSortItemFromSerial(e);if(!r||!a)return!1;var i=u.getSortboxText(r.alias);a.find(\">.layer_sort_inner_wrapper .timer-layer-text\").text(i)},redrawAllLayerHtml=function(){jQuery.each(t.arrLayers,function(e,t){redrawLayerHtml(t.serial)}),jQuery.each(t.arrLayersDemo,function(e,t){redrawLayerHtml(t.serial,!0)}),jQuery(\".slide_layer\").each(function(){u.rebuildLayerIdle(jQuery(this))}),t.updateLayerFormFields(t.selectedLayerSerial)},redrawLayerHtml=function(e,r){null==r&&(r=!1);var a=t.getLayer(e,r),i=t.makeLayerHtml(e,a,r);if(\"group\"!=a.type&&\"row\"!=a.type&&\"column\"!=a.type){var o=jQuery(i).html();t.getHtmlLayerFromSerial(e,r);a.references.htmlLayer.html(o)}},nix=function(e){return void 0===e||0==e.length},updateSubStyleParameters=function(e,r){var a=void 0!==r&&!0===r,i=UniteCssEditorRev.getStyleSettingsByHandle(e.style),o=i.params,s=UniteCssEditorRev.getStyleSettingsByHandle(e.svg),n=i.hover;null==n&&(n={});var l=!1;try{l=void 0!==i&&(!!i.hasOwnProperty(\"settings\")&&(void 0!==i.settings&&void 0!==typeof i.settings.hover&&i.settings.hover))}catch(e){}if(null!=e.deformation&&void 0!==o){if((nix(e.deformation[\"color-transparency\"])||a)&&(e.deformation[\"color-transparency\"]=nix(o[\"color-transparency\"])?\"1\":o[\"color-transparency\"]),(nix(e.deformation[\"font-style\"])||a)&&(e.deformation[\"font-style\"]=nix(o[\"font-style\"])?\"normal\":o[\"font-style\"]),(nix(e.deformation[\"font-family\"])||a)&&(e.deformation[\"font-family\"]=nix(o[\"font-family\"])?\"Arial\":o[\"font-family\"]),nix(e.padding)||a)if(nix(o.padding))if(null==e.padding){e.padding={};var d=[];jQuery('input[name=\"css_padding[]\"]').each(function(){d.push(0)}),e=t.setVal(e,\"padding\",d,!0)}else\"object\"!=typeof e.padding&&(e=t.setVal(e,\"padding\",e.padding,!0));else null!=e.padding&&delete e.padding,\"object\"==typeof o.padding&&null!==o.padding?e.padding=o.padding:e=t.setVal(e,\"padding\",o.padding.split(\" \"),!0);if(nix(e.margin)||a)if(nix(o.margin))if(null==e.margin){e.margin={};d=[];jQuery('input[name=\"css_margin[]\"]').each(function(){d.push(0)}),e=t.setVal(e,\"margin\",d,!0)}else\"object\"!=typeof e.margin&&(e=t.setVal(e,\"margin\",e.margin,!0));else null!=e.margin&&delete e.margin,\"object\"==typeof o.margin&&null!==o.margin?e.margin=o.margin:e=t.setVal(e,\"margin\",o.margin.split(\" \"),!0);if((nix(e.deformation.display)||a)&&(e.deformation.display=nix(o.display)?\"block\":o.display),nix(e[\"text-align\"])||a)if(nix(o[\"text-align\"]))if(null==e[\"text-align\"]){e[\"text-align\"]={};d=[];jQuery('input[name=\"css_text-align[]\"]').each(function(){d.push(0)}),e=t.setVal(e,\"text-align\",d,!0)}else\"object\"!=typeof e[\"text-align\"]&&(e=t.setVal(e,\"text-align\",e[\"text-align\"],!0));else null!=e[\"text-align\"]&&delete e[\"text-align\"],\"object\"==typeof o[\"text-align\"]&&null!==o[\"text-align\"]?e[\"text-align\"]=o[\"text-align\"]:e=t.setVal(e,\"text-align\",o[\"text-align\"],!0);if((nix(e.deformation[\"text-decoration\"])||a)&&(e.deformation[\"text-decoration\"]=nix(o[\"text-decoration\"])?\"none\":o[\"text-decoration\"]),(nix(e.deformation[\"text-align\"])||a)&&(e.deformation[\"text-align\"]=nix(o[\"text-align\"])?\"left\":o[\"text-align\"]),nix(e.deformation[\"background-color\"])||a){var y=nix(o[\"background-color\"])?\"transparent\":UniteAdminRev.rgb2hex(o[\"background-color\"]),u=nix(o[\"background-color\"])?1:UniteAdminRev.getTransparencyFromRgba(o[\"background-color\"]);u=null==u||0==u||\"false\"==u?1:u,nix(o[\"background-transparency\"])||(u=o[\"background-transparency\"]),e.deformation[\"background-color\"]=y,e.deformation[\"background-transparency\"]=u}if((nix(e.deformation[\"border-color\"])||a)&&(e.deformation[\"border-color\"]=nix(o[\"border-color\"])?\"transparent\":UniteAdminRev.rgb2hex(o[\"border-color\"])),(nix(e.deformation[\"border-transparency\"])||a)&&(e.deformation[\"border-transparency\"]=nix(o[\"border-transparency\"])?\"1\":o[\"border-transparency\"]),(nix(e.deformation[\"border-style\"])||a)&&(e.deformation[\"border-style\"]=nix(o[\"border-style\"])?\"none\":o[\"border-style\"]),nix(e.deformation[\"border-width\"])||nix(e.deformation[\"border-width\"][0])&&nix(e.deformation[\"border-width\"][1])&&nix(e.deformation[\"border-width\"][2])&&nix(e.deformation[\"border-width\"][3])||a){var c=nix(o[\"border-width\"])?[\"0px\",\"0px\",\"0px\",\"0px\"]:\"object\"!=typeof o[\"border-width\"]?o[\"border-width\"].split(\" \"):o[\"border-width\"];e.deformation[\"border-width\"]=[\"0\",\"0\",\"0\",\"0\"],jQuery(e.deformation[\"border-width\"]).each(function(t){e.deformation[\"border-width\"][t]=c.length<2?c[0]:c.length<4?0==t||2==t?c[0]:c[1]:c[t]})}if(nix(e.deformation[\"border-radius\"])||nix(e.deformation[\"border-radius\"][0])&&nix(e.deformation[\"border-radius\"][1])&&nix(e.deformation[\"border-radius\"][2])&&nix(e.deformation[\"border-radius\"][3])||a){c=nix(o[\"border-radius\"])?[\"0px\",\"0px\",\"0px\",\"0px\"]:\"object\"!=typeof o[\"border-radius\"]?o[\"border-radius\"].split(\" \"):o[\"border-radius\"];e.deformation[\"border-radius\"]=[\"0\",\"0\",\"0\",\"0\"],jQuery(e.deformation[\"border-radius\"]).each(function(t){e.deformation[\"border-radius\"][t]=c.length<2?c[0]:c.length<4?0==t||2==t?c[0]:c[1]:c[t]})}(nix(e.deformation.corner_left)||a)&&(e.deformation.corner_left=nix(o.corner_left)?\"nothing\":o.corner_left),(nix(e.deformation.corner_right)||a)&&(e.deformation.corner_right=nix(o.corner_right)?\"nothing\":o.corner_right),(nix(e.deformation.parallax)||a)&&(e.deformation.parallax=nix(o.parallax)?\"-\":o.parallax),(nix(e.deformation.x)||a)&&(e.deformation.x=nix(o.x)?0:o.x),(nix(e.deformation.y)||a)&&(e.deformation.y=nix(o.y)?0:o.y),(nix(e.deformation.z)||a)&&(e.deformation.z=nix(o.z)?0:o.z),(nix(e.deformation.skewx)||a)&&(e.deformation.skewx=nix(o.skewx)?0:o.skewx),(nix(e.deformation.skewy)||a)&&(e.deformation.skewy=nix(o.skewy)?0:o.skewy),(nix(e.deformation.scalex)||a)&&(e.deformation.scalex=nix(o.scalex)?1:o.scalex),(nix(e.deformation.scaley)||a)&&(e.deformation.scaley=nix(o.scaley)?1:o.scaley),(nix(e.deformation.opacity)||a)&&(e.deformation.opacity=nix(o.opacity)?1:o.opacity),(nix(e.deformation.xrotate)||a)&&(e.deformation.xrotate=nix(o.xrotate)?0:o.xrotate),(nix(e.deformation.yrotate)||a)&&(e.deformation.yrotate=nix(o.yrotate)?0:o.yrotate),(nix(e[\"2d_rotation\"])||a)&&(e[\"2d_rotation\"]=nix(o[\"2d_rotation\"])?0:o[\"2d_rotation\"]),(nix(e.deformation[\"2d_origin_x\"])||a)&&(e.deformation[\"2d_origin_x\"]=nix(o[\"2d_origin_x\"])?50:o[\"2d_origin_x\"]),(nix(e.deformation[\"2d_origin_y\"])||a)&&(e.deformation[\"2d_origin_y\"]=nix(o[\"2d_origin_y\"])?50:o[\"2d_origin_y\"]),(nix(e.deformation.pers)||a)&&(e.deformation.pers=nix(o.pers)?600:o.pers),(nix(e.deformation.blurfilter)||a)&&(e.deformation.blurfilter=nix(o.blurfilter)?0:o.blurfilter),(nix(e.deformation.grayscalefilter)||a)&&(e.deformation.grayscalefilter=nix(o.grayscalefilter)?0:o.grayscalefilter)}if(null!=e.svg&&null!=s&&((nix(e.svg[\"svgstroke-color\"])||a)&&(e.svg[\"svgstroke-color\"]=nix(s[\"svgstroke-color\"])?\"transparent\":UniteAdminRev.rgb2hex(s[\"svgstroke-color\"])),(nix(e.svg[\"svgstroke-transparency\"])||a)&&(e.svg[\"svgstroke-transparency\"]=nix(s[\"svgstroke-transparency\"])?\"1\":s[\"svgstroke-transparency\"]),(nix(e.svg[\"svgstroke-dasharray\"])||a)&&(e.svg[\"svgstroke-dasharray\"]=nix(s[\"svgstroke-dasharray\"])?\"0\":s[\"svgstroke-dasharray\"]),(nix(e.svg[\"svgstroke-dashoffset\"])||a)&&(e.svg[\"svgstroke-dashoffset\"]=nix(s[\"svgstroke-dashoffset\"])?\"0\":s[\"svgstroke-dashoffset\"]),(nix(e.svg[\"svgstroke-width\"])||a)&&(e.svg[\"svgstroke-width\"]=nix(s[\"svgstroke-width\"])?\"0\":s[\"svgstroke-width\"]),(nix(e.svg[\"svgstroke-hover-color\"])||a)&&(e.svg[\"svgstroke-hover-color\"]=nix(s[\"svgstroke-hover-color\"])?\"transparent\":UniteAdminRev.rgb2hex(s[\"svgstroke-hover-color\"])),(nix(e.svg[\"svgstroke-hover-transparency\"])||a)&&(e.svg[\"svgstroke-hover-transparency\"]=nix(s[\"svgstroke-hover-transparency\"])?\"1\":s[\"svgstroke-hover-transparency\"]),(nix(e.svg[\"svgstroke-hover-dasharray\"])||a)&&(e.svg[\"svgstroke-hover-dasharray\"]=nix(s[\"svgstroke-hover-dasharray\"])?\"0\":s[\"svgstroke-hover-dasharray\"]),(nix(e.svg[\"svgstroke-hover-dashoffset\"])||a)&&(e.svg[\"svgstroke-hover-dashoffset\"]=nix(s[\"svgstroke-hover-dashoffset\"])?\"0\":s[\"svgstroke-hover-dashoffset\"]),(nix(e.svg[\"svgstroke-hover-width\"])||a)&&(e.svg[\"svgstroke-hover-width\"]=nix(s[\"svgstroke-hover-width\"])?\"0\":s[\"svgstroke-hover-width\"])),a&&(\"true\"===l||!0===l?(jQuery(\"#hover_allow\").attr(\"checked\",!0),jQuery(\"#idle-hover-swapper\").show()):(jQuery(\"#hover_allow\").attr(\"checked\",!1),jQuery(\"#idle-hover-swapper\").hide())),RevSliderSettings.onoffStatus(jQuery(\"#hover_allow\")),RevSliderSettings.onoffStatus(jQuery(\"#toggle_allow\")),RevSliderSettings.onoffStatus(jQuery(\"#toggle_use_hover\")),RevSliderSettings.onoffStatus(jQuery(\"#toggle_inverse_content\")),jQuery('#css_layer_selectable option[value=\"'+e[\"layer-selectable\"]+'\"]').attr(\"selected\",!0),null!=e.deformation){jQuery(\"#css_font-family\").val(e.deformation[\"font-family\"]),void 0===(d=t.getVal(e,\"padding\"))&&(d=e.deformation.padding),void 0===d&&(d=[0,0,0,0]),jQuery('input[name=\"css_padding[]\"]').each(function(e){jQuery(this).val(d[e])});var _=t.getVal(e,\"margin\");if(void 0===_&&(_=e.deformation.margin),void 0===_&&(_=[0,0,0,0]),jQuery('input[name=\"css_margin[]\"]').each(function(e){jQuery(this).val(_[e])}),\"italic\"==e.deformation[\"font-style\"]?jQuery(\"#css_font-style\").attr(\"checked\",!0):jQuery(\"#css_font-style\").attr(\"checked\",!1),RevSliderSettings.onoffStatus(jQuery(\"#css_font-style\")),jQuery('#css_text-align option[value=\"'+t.getVal(e,\"text-align\")+'\"]').attr(\"selected\",!0),jQuery(\"#css_font-transparency\").val(e.deformation[\"color-transparency\"]),jQuery('#css_text-decoration option[value=\"'+e.deformation[\"text-decoration\"]+'\"]').attr(\"selected\",!0),jQuery('#css_overflow option[value=\"'+e.deformation.overflow+'\"]').attr(\"selected\",!0),jQuery('#column_break_at option[value=\"'+e.column_break_at+'\"]').attr(\"selected\",!0),jQuery('#css_vertical-align option[value=\"'+e.deformation[\"vertical-align\"]+'\"]').attr(\"selected\",!0),jQuery('#css_text-transform option[value=\"'+e.deformation[\"text-transform\"]+'\"]').attr(\"selected\",!0),jQuery(\"#css_background-color\").val(e.deformation[\"background-color\"]),jQuery(\"#css_background-transparency\").val(e.deformation[\"background-transparency\"]),jQuery(\"#css_border-color-show\").val(e.deformation[\"border-color\"]),jQuery(\"#css_border-transparency\").val(e.deformation[\"border-transparency\"]),jQuery('#css_border-style option[value=\"'+e.deformation[\"border-style\"]+'\"]').attr(\"selected\",!0),jQuery('input[name=\"css_border-width[]\"]').each(function(t){jQuery(this).val(e.deformation[\"border-width\"][t])}),jQuery('input[name=\"css_border-radius[]\"]').each(function(t){jQuery(this).val(e.deformation[\"border-radius\"][t])}),jQuery('input[name=\"layer__x\"]').val(e.deformation.x),jQuery('input[name=\"layer__y\"]').val(e.deformation.y),jQuery(\"#layer__z\").val(e.deformation.z),jQuery(\"#layer__skewx\").val(e.deformation.skewx),jQuery(\"#layer__skewy\").val(e.deformation.skewy),jQuery(\"#layer__scalex\").val(e.deformation.scalex),jQuery(\"#layer__scaley\").val(e.deformation.scaley),jQuery(\"#layer__opacity\").val(e.deformation.opacity),jQuery(\"#layer__xrotate\").val(e.deformation.xrotate),jQuery(\"#layer__yrotate\").val(e.deformation.yrotate),jQuery(\"#layer_2d_rotation\").val(e[\"2d_rotation\"]),jQuery(\"#layer_2d_origin_x\").val(e.deformation[\"2d_origin_x\"]),jQuery(\"#layer_2d_origin_y\").val(e.deformation[\"2d_origin_y\"]),jQuery(\"#layer__pers\").val(e.deformation.pers),jQuery(\"#blurfilter_idle\").val(e.deformation.blurfilter),jQuery(\"#grayscalefilter_idle\").val(e.deformation.grayscalefilter),jQuery(\"#blurfilter_hover\").val(e[\"deformation-hover\"].blurfilter),jQuery(\"#grayscalefilter_hover\").val(e[\"deformation-hover\"].grayscalefilter),jQuery('#layer_cornerleft option[value=\"'+e.deformation.corner_left+'\"]').attr(\"selected\",!0),jQuery('#layer_blend_mode option[value=\"'+e.layer_blend_mode+'\"]').attr(\"selected\",!0),jQuery('#layer_cornerright option[value=\"'+e.deformation.corner_right+'\"]').attr(\"selected\",!0),jQuery('#parallax_level option[value=\"'+e.deformation.parallax+'\"]').attr(\"selected\",!0),nix(e[\"deformation-hover\"][\"border-width\"])||nix(e[\"deformation-hover\"][\"border-width\"][0])&&nix(e[\"deformation-hover\"][\"border-width\"][1])&&nix(e[\"deformation-hover\"][\"border-width\"][2])&&nix(e[\"deformation-hover\"][\"border-width\"][3])||a){c=nix(n[\"border-width\"])?[\"0px\",\"0px\",\"0px\",\"0px\"]:\"object\"!=typeof n[\"border-width\"]?n[\"border-width\"].split(\" \"):n[\"border-width\"];e[\"deformation-hover\"][\"border-width\"]=[\"0\",\"0\",\"0\",\"0\"],jQuery(e[\"deformation-hover\"][\"border-width\"]).each(function(t){e[\"deformation-hover\"][\"border-width\"][t]=c.length<2?c[0]:c.length<4?0==t||2==t?c[0]:c[1]:c[t]})}if((nix(e[\"deformation-hover\"][\"color-transparency\"])||a)&&(e[\"deformation-hover\"][\"color-transparency\"]=nix(n[\"color-transparency\"])?\"1\":n[\"color-transparency\"]),(nix(e[\"deformation-hover\"][\"text-decoration\"])||a)&&(e[\"deformation-hover\"][\"text-decoration\"]=nix(n[\"text-decoration\"])?\"none\":n[\"text-decoration\"]),(nix(e[\"deformation-hover\"][\"background-color\"])||a)&&(e[\"deformation-hover\"][\"background-color\"]=nix(n[\"background-color\"])?\"transparent\":n[\"background-color\"]),(nix(e[\"deformation-hover\"][\"background-transparency\"])||a)&&(e[\"deformation-hover\"][\"background-transparency\"]=nix(n[\"background-transparency\"])?\"1\":n[\"background-transparency\"]),(nix(e[\"deformation-hover\"][\"border-color\"])||a)&&(e[\"deformation-hover\"][\"border-color\"]=nix(n[\"border-color\"])?\"transparent\":n[\"border-color\"]),(nix(e[\"deformation-hover\"][\"border-transparency\"])||a)&&(e[\"deformation-hover\"][\"border-transparency\"]=nix(n[\"border-transparency\"])?\"1\":n[\"border-transparency\"]),(nix(e[\"deformation-hover\"][\"border-style\"])||a)&&(e[\"deformation-hover\"][\"border-style\"]=nix(n[\"border-style\"])?\"none\":n[\"border-style\"]),(nix(e[\"deformation-hover\"][\"border-width\"])||a)&&(e[\"deformation-hover\"][\"border-width\"]=nix(n[\"border-width\"])?\"0\":n[\"border-width\"]),nix(e[\"deformation-hover\"][\"border-radius\"])||nix(e[\"deformation-hover\"][\"border-radius\"][0])&&nix(e[\"deformation-hover\"][\"border-radius\"][1])&&nix(e[\"deformation-hover\"][\"border-radius\"][2])&&nix(e[\"deformation-hover\"][\"border-radius\"][3])||a){c=nix(n[\"border-radius\"])?[\"0px\",\"0px\",\"0px\",\"0px\"]:\"object\"!=typeof n[\"border-radius\"]?n[\"border-radius\"].split(\" \"):n[\"border-radius\"];e[\"deformation-hover\"][\"border-radius\"]=[\"0\",\"0\",\"0\",\"0\"],jQuery(e[\"deformation-hover\"][\"border-radius\"]).each(function(t){e[\"deformation-hover\"][\"border-radius\"][t]=c.length<2?c[0]:c.length<4?0==t||2==t?c[0]:c[1]:c[t]})}(nix(e[\"deformation-hover\"].skewx)||a)&&(e[\"deformation-hover\"].skewx=nix(n.skewx)?0:n.skewx),(nix(e[\"deformation-hover\"].skewy)||a)&&(e[\"deformation-hover\"].skewy=nix(n.skewy)?0:n.skewy),(nix(e[\"deformation-hover\"].scalex)||a)&&(e[\"deformation-hover\"].scalex=nix(n.scalex)?1:n.scalex),(nix(e[\"deformation-hover\"].scaley)||a)&&(e[\"deformation-hover\"].scaley=nix(n.scaley)?1:n.scaley),(nix(e[\"deformation-hover\"].opacity)||a)&&(e[\"deformation-hover\"].opacity=nix(n.opacity)?1:n.opacity),(nix(e[\"deformation-hover\"].xrotate)||a)&&(e[\"deformation-hover\"].xrotate=nix(n.xrotate)?0:n.xrotate),(nix(e[\"deformation-hover\"].yrotate)||a)&&(e[\"deformation-hover\"].yrotate=nix(n.yrotate)?0:n.yrotate),(nix(e[\"deformation-hover\"][\"2d_rotation\"])||a)&&(e[\"deformation-hover\"][\"2d_rotation\"]=nix(n[\"2d_rotation\"])?0:n[\"2d_rotation\"]),(nix(e[\"deformation-hover\"].css_cursor)||a)&&(e[\"deformation-hover\"].css_cursor=nix(n.css_cursor)?\"auto\":n.css_cursor),(nix(e[\"deformation-hover\"].pointer_events)||a)&&(e[\"deformation-hover\"].pointer_events=nix(n.pointer_events)?\"auto\":n.pointer_events),(nix(e[\"deformation-hover\"].blurfilter)||a)&&(e[\"deformation-hover\"].blurfilter=nix(n.blurfilter)?0:n.blurfilter),(nix(e[\"deformation-hover\"].grayscalefilter)||a)&&(e[\"deformation-hover\"].grayscalefilter=nix(n.grayscalefilter)?0:n.grayscalefilter),(nix(e[\"deformation-hover\"].speed)||a)&&(e[\"deformation-hover\"].speed=nix(n.speed)?\"0\":n.speed),(nix(e[\"deformation-hover\"].easing)||a)&&(e[\"deformation-hover\"].easing=nix(n.easing)?\"Linear.easeNone\":n.easing),null!=e[\"deformation-hover\"]&&(jQuery(\"#hover_layer_color_s\").val(e[\"deformation-hover\"].color),jQuery(\"#hover_css_font-transparency\").val(e[\"deformation-hover\"][\"color-transparency\"]),jQuery('#hover_css_text-decoration option[value=\"'+e[\"deformation-hover\"][\"text-decoration\"]+'\"]').attr(\"selected\",!0),jQuery(\"#hover_css_background-color\").val(e[\"deformation-hover\"][\"background-color\"]),jQuery(\"#hover_css_background-transparency\").val(e[\"deformation-hover\"][\"background-transparency\"]),jQuery(\"#hover_css_border-color-show\").val(e[\"deformation-hover\"][\"border-color\"]),jQuery(\"#hover_css_border-transparency\").val(e[\"deformation-hover\"][\"border-transparency\"]),jQuery('#hover_css_border-style option[value=\"'+e[\"deformation-hover\"][\"border-style\"]+'\"]').attr(\"selected\",!0),jQuery('input[name=\"hover_css_border-width[]\"]').each(function(t){jQuery(this).val(e[\"deformation-hover\"][\"border-width\"][t])}),jQuery('input[name=\"hover_css_border-radius[]\"]').each(function(t){jQuery(this).val(e[\"deformation-hover\"][\"border-radius\"][t])}),jQuery(\"#hover_layer__skewx\").val(e[\"deformation-hover\"].skewx),jQuery(\"#hover_layer__skewy\").val(e[\"deformation-hover\"].skewy),jQuery(\"#hover_layer__scalex\").val(e[\"deformation-hover\"].scalex),jQuery(\"#hover_layer__scaley\").val(e[\"deformation-hover\"].scaley),jQuery(\"#hover_layer__opacity\").val(e[\"deformation-hover\"].opacity),jQuery(\"#hover_layer__xrotate\").val(e[\"deformation-hover\"].xrotate),jQuery(\"#hover_layer__yrotate\").val(e[\"deformation-hover\"].yrotate),jQuery(\"#hover_layer_2d_rotation\").val(e[\"deformation-hover\"][\"2d_rotation\"]),jQuery('#css_cursor option[value=\"'+e[\"deformation-hover\"].css_cursor+'\"]').attr(\"selected\",!0),jQuery('#pointer_events option[value=\"'+e[\"deformation-hover\"].pointer_events+'\"]').attr(\"selected\",!0),jQuery(\"#hover_speed\").val(e[\"deformation-hover\"].speed),jQuery(\"#hover_zindex\").val(e[\"deformation-hover\"].zindex),jQuery('#hover_easing option[value=\"'+e[\"deformation-hover\"].easing+'\"]').attr(\"selected\",!0))}return jQuery(\".wp-color-result\").each(function(){jQuery(this).css(\"backgroundColor\",jQuery(this).parent().find(\".my-color-field\").val())}),e};t.updateLayerFormFields=function(e){var r=t.arrLayers[e];if(jQuery.each(t.addon_callbacks,function(e,t){var a=t.callback,i=t.environment,o=t.function_position;\"updateLayerFormFields\"===i&&\"start\"==o&&(r=a(r))}),void 0===r)return!0;jQuery(\"#internal_classes\").val(r.internal_class),jQuery(\".rs-internal-class-wrapper\").text(r.internal_class),jQuery(\"#layer_caption\").val(r.style),jQuery(\"#layer_text\").val(UniteAdminRev.stripslashes(r.text)),null!=r.texttoggle?jQuery(\"#layer_text_toggle\").val(UniteAdminRev.stripslashes(r.texttoggle)):jQuery(\"#layer_text_toggle\").val(\"\"),jQuery(\"#layer_text\").data(\"new_content\",!1),jQuery('#layer_alt_option option[value=\"'+r.alt_option+'\"]').attr(\"selected\",\"selected\"),jQuery(\"#layer_alt\").val(r.alt),jQuery(\"#layer_alias_name\").val(r.alias),\"true\"==r.hover||1==r.hover?(jQuery(\"#hover_allow\").prop(\"checked\",!0),jQuery(\"#idle-hover-swapper\").show()):(jQuery(\"#hover_allow\").prop(\"checked\",!1),jQuery(\"#idle-hover-swapper\").hide()),\"true\"==r.toggle||1==r.toggle?jQuery(\"#toggle_allow\").prop(\"checked\",!0):jQuery(\"#toggle_allow\").prop(\"checked\",!1),\"true\"==r.toggle_use_hover||1==r.toggle_use_hover?jQuery(\"#toggle_use_hover\").prop(\"checked\",!0):jQuery(\"#toggle_use_hover\").prop(\"checked\",!1),\"true\"==r.toggle_inverse_content||1==r.toggle_inverse_content?jQuery(\"#toggle_inverse_content\").prop(\"checked\",!0):jQuery(\"#toggle_inverse_content\").prop(\"checked\",!1),\"true\"==r[\"visible-notebook\"]||1==r[\"visible-notebook\"]?jQuery(\"#visible-notebook\").prop(\"checked\",!0):jQuery(\"#visible-notebook\").prop(\"checked\",!1),\"true\"==r[\"visible-desktop\"]||1==r[\"visible-desktop\"]?jQuery(\"#visible-desktop\").prop(\"checked\",!0):jQuery(\"#visible-desktop\").prop(\"checked\",!1),\"true\"==r[\"visible-tablet\"]||1==r[\"visible-tablet\"]?jQuery(\"#visible-tablet\").prop(\"checked\",!0):jQuery(\"#visible-tablet\").prop(\"checked\",!1),\"true\"==r[\"visible-mobile\"]||1==r[\"visible-mobile\"]?jQuery(\"#visible-mobile\").prop(\"checked\",!0):jQuery(\"#visible-mobile\").prop(\"checked\",!1),\"true\"==r[\"show-on-hover\"]||1==r[\"show-on-hover\"]?jQuery(\"#layer_on_slider_hover\").prop(\"checked\",!0):jQuery(\"#layer_on_slider_hover\").prop(\"checked\",!1),jQuery('#layer-lazy-loading option[value=\"'+r[\"lazy-load\"]+'\"]').attr(\"selected\",\"selected\"),jQuery('#layer-image-size option[value=\"'+r[\"image-size\"]+'\"]').attr(\"selected\",\"selected\"),jQuery('#layer-css-position option[value=\"'+r[\"css-position\"]+'\"]').attr(\"selected\",\"selected\"),RevSliderSettings.onoffStatus(jQuery(\"#hover_allow\")),RevSliderSettings.onoffStatus(jQuery(\"#toggle_allow\")),RevSliderSettings.onoffStatus(jQuery(\"#toggle_use_hover\")),RevSliderSettings.onoffStatus(jQuery(\"#toggle_inverse_content\")),RevSliderSettings.onoffStatus(jQuery(\"#visible-desktop\")),RevSliderSettings.onoffStatus(jQuery(\"#visible-notebook\")),RevSliderSettings.onoffStatus(jQuery(\"#visible-tablet\")),RevSliderSettings.onoffStatus(jQuery(\"#visible-mobile\")),RevSliderSettings.onoffStatus(jQuery(\"#layer_on_slider_hover\")),jQuery(\"#layer_scaleX\").val(specOrVal(t.getVal(r,\"scaleX\"),[\"auto\",\"#1/1#\",\"#1/2#\",\"#1/3#\",\"#1/4#\",\"#1/5#\",\"#1/6#\",\"#2/3#\",\"#3/4#\",\"#2/5#\",\"#3/5#\",\"#4/5#\",\"#4/6#\",\"#5/6#\"],\"px\")),jQuery(\"#layer_scaleY\").val(specOrVal(t.getVal(r,\"scaleY\"),[\"auto\",\"#1/1#\",\"#1/2#\",\"#1/3#\",\"#1/4#\",\"#1/5#\",\"#1/6#\",\"#2/3#\",\"#3/4#\",\"#2/5#\",\"#3/5#\",\"#4/5#\",\"#4/6#\",\"#5/6#\"],\"px\")),jQuery('#layer_cover_mode option[value=\"'+r.cover_mode+'\"]').attr(\"selected\",\"selected\"),jQuery(\"#layer_max_height\").val(specOrVal(t.getVal(r,\"max_height\"),[\"auto\",\"#1/1#\",\"#1/2#\",\"#1/3#\",\"#1/4#\",\"#1/5#\",\"#1/6#\",\"#2/3#\",\"#3/4#\",\"#2/5#\",\"#3/5#\",\"#4/5#\",\"#4/6#\",\"#5/6#\"],\"px\")),jQuery(\"#layer_min_height\").val(specOrVal(t.getVal(r,\"min_height\"),[\"auto\",\"#1/1#\",\"#1/2#\",\"#1/3#\",\"#1/4#\",\"#1/5#\",\"#1/6#\",\"#2/3#\",\"#3/4#\",\"#2/5#\",\"#3/5#\",\"#4/5#\",\"#4/6#\",\"#5/6#\"],\"px\")),jQuery(\"#layer_max_width\").val(specOrVal(t.getVal(r,\"max_width\"),[\"auto\",\"#1/1#\",\"#1/2#\",\"#1/3#\",\"#1/4#\",\"#1/5#\",\"#1/6#\",\"#2/3#\",\"#3/4#\",\"#2/5#\",\"#3/5#\",\"#4/5#\",\"#4/6#\",\"#5/6#\"],\"px\")),jQuery(\"#layer_video_height\").val(specOrVal(t.getVal(r,\"video_height\"),[\"auto\",\"#1/1#\",\"#1/2#\",\"#1/3#\",\"#1/4#\",\"#1/5#\",\"#1/6#\",\"#2/3#\",\"#3/4#\",\"#2/5#\",\"#3/5#\",\"#4/5#\",\"#4/6#\",\"#5/6#\"],\"px\")),jQuery(\"#layer_video_width\").val(specOrVal(t.getVal(r,\"video_width\"),[\"auto\",\"#1/1#\",\"#1/2#\",\"#1/3#\",\"#1/4#\",\"#1/5#\",\"#1/6#\",\"#2/3#\",\"#3/4#\",\"#2/5#\",\"#3/5#\",\"#4/5#\",\"#4/6#\",\"#5/6#\"],\"px\")),jQuery(\"#layer_2d_rotation\").val(r[\"2d_rotation\"]),jQuery(\"#layer_2d_origin_x\").val(r[\"2d_origin_x\"]),jQuery(\"#layer_2d_origin_y\").val(r[\"2d_origin_y\"]),jQuery(\"#layer_static_start option[value='\"+r.static_start+\"']\").attr(\"selected\",\"selected\"),changeEndStaticFunctions(),jQuery(\"#layer_static_end option[value='\"+r.static_end+\"']\").attr(\"selected\",\"selected\"),jQuery(\"#layer_whitespace option[value='\"+t.getVal(r,\"whitespace\")+\"']\").attr(\"selected\",\"selected\"),jQuery(\"#layer_display option[value='\"+t.getVal(r,\"display\")+\"']\").attr(\"selected\",\"selected\"),\"true\"==r.scaleProportional||1==r.scaleProportional?(jQuery(\".rs-proportion-check\").removeClass(\"notselected\"),jQuery(\"#layer_proportional_scale\").prop(\"checked\",!0)):(jQuery(\"#layer_proportional_scale\").prop(\"checked\",!1),jQuery(\".rs-proportion-check\").addClass(\"notselected\")),\"normal\"===t.getVal(r,\"whitespace\")?(jQuery(\".rs-linebreak-check\").removeClass(\"notselected\"),jQuery(\"#layer_auto_line_break\").prop(\"checked\",!0)):(jQuery(\".rs-linebreak-check\").addClass(\"notselected\"),jQuery(\"#layer_auto_line_break\").prop(\"checked\",!1)),\"block\"===t.getVal(r,\"display\")?(jQuery(\"#layer-displaymode-wrapper\").removeClass(\"notselected\"),jQuery(\"#layer_displaymode\").prop(\"checked\",!0)):(jQuery(\"#layer-displaymode-wrapper\").addClass(\"notselected\"),jQuery(\"#layer_displaymode\").prop(\"checked\",!1)),RevSliderSettings.onoffStatus(jQuery(\".rs-proportion-check\")),RevSliderSettings.onoffStatus(jQuery(\".rs-linebreak-check\")),jQuery(\"#layer_top\").val(parseInt(t.getVal(r,\"top\"),0)+\"px\"),jQuery(\"#layer_left\").val(parseInt(t.getVal(r,\"left\"),0)+\"px\"),jQuery(\"#layer_bg_position option[value='\"+r.layer_bg_position+\"']\").attr(\"selected\",\"selected\"),jQuery(\"#layer_bg_size option[value='\"+r.layer_bg_size+\"']\").attr(\"selected\",\"selected\"),jQuery(\"#layer_bg_repeat option[value='\"+r.layer_bg_repeat+\"']\").attr(\"selected\",\"selected\"),jQuery(\"#layer_loop_animation option[value='\"+r.loop_animation+\"']\").attr(\"selected\",\"selected\"),jQuery(\"#layer_loop_easing\").val(r.loop_easing),jQuery(\"#layer_loop_speed\").val(r.loop_speed),jQuery(\"#layer_loop_startdeg\").val(r.loop_startdeg),jQuery(\"#layer_loop_enddeg\").val(r.loop_enddeg),jQuery(\"#layer_loop_xorigin\").val(r.loop_xorigin),jQuery(\"#layer_loop_yorigin\").val(r.loop_yorigin),jQuery(\"#layer_loop_xstart\").val(r.loop_xstart),jQuery(\"#layer_loop_xend\").val(r.loop_xend),jQuery(\"#layer_loop_ystart\").val(r.loop_ystart),jQuery(\"#layer_loop_yend\").val(r.loop_yend),jQuery(\"#layer_loop_zoomstart\").val(r.loop_zoomstart),jQuery(\"#layer_loop_zoomend\").val(r.loop_zoomend),jQuery(\"#layer_loop_angle\").val(r.loop_angle),jQuery(\"#layer_loop_radius\").val(r.loop_radius),null!=r.svg&&(jQuery(\"#css_svgstroke-color-show\").val(r.svg[\"svgstroke-color\"]),jQuery(\"#css_svgstroke-transparency\").val(r.svg[\"svgstroke-transparency\"]),jQuery(\"#css_svgstroke-dasharray\").val(r.svg[\"svgstroke-dasharray\"]),jQuery(\"#css_svgstroke-dashoffset\").val(r.svg[\"svgstroke-dashoffset\"]),jQuery(\"#css_svgstroke-width\").val(r.svg[\"svgstroke-width\"]),jQuery(\"#css_svgstroke-hover-color-show\").val(r.svg[\"svgstroke-hover-color\"]),jQuery(\"#css_svgstroke-hover-transparency\").val(r.svg[\"svgstroke-hover-transparency\"]),jQuery(\"#css_svgstroke-hover-dasharray\").val(r.svg[\"svgstroke-hover-dasharray\"]),jQuery(\"#css_svgstroke-hover-dashoffset\").val(r.svg[\"svgstroke-hover-dashoffset\"]),jQuery(\"#css_svgstroke-hover-width\").val(r.svg[\"svgstroke-hover-width\"])),jQuery(\"#layer_html_tag option[value='\"+r.html_tag+\"']\").attr(\"selected\",\"selected\"),jQuery(\"#parallax_layer_ddd_zlevel option[value='\"+r.parallax_layer_ddd_zlevel+\"']\").attr(\"selected\",\"selected\"),\"true\"==r.mask_start||1==r.mask_start?(jQuery(\"#masking-start\").prop(\"checked\",!1),jQuery(\".mask-start-settings\").show()):(jQuery(\"#masking-end\").prop(\"checked\",!1),jQuery(\".mask-start-settings\").hide()),\"true\"==r.mask_end||1==r.mask_end?(jQuery(\"#masking-end\").attr(\"checked\",!0),jQuery(\".mask-end-settings\").show()):(jQuery(\"#masking-end\").removeAttr(\"checked\"),jQuery(\".mask-end-settings\").hide()),RevSliderSettings.onoffStatus(jQuery(\"#masking-start\")),RevSliderSettings.onoffStatus(jQuery(\"#masking-end\")),jQuery(\"#mask_anim_xstart\").val(r.mask_x_start),jQuery(\"#mask_anim_ystart\").val(r.mask_y_start),jQuery(\"#mask_speed\").val(r.mask_speed_start),jQuery(\"#mask_easing\").val(r.mask_ease_start),jQuery(\"#mask_anim_xend\").val(r.mask_x_end),jQuery(\"#mask_anim_yend\").val(r.mask_y_end),jQuery(\"#layer_animation option[value='\"+r.frames.frame_0.animation+\"']\").attr(\"selected\",\"selected\"),jQuery(\"#layer_easing\").val(r.frames.frame_0.easing),jQuery(\"#layer_split\").val(r.frames.frame_0.split),jQuery(\"#layer_endsplit\").val(r.frames.frame_999.split),jQuery(\"#layer_splitdelay\").val(r.frames.frame_0.splitdelay),jQuery(\"#layer_endsplitdelay\").val(r.frames.frame_999.splitdelay),jQuery(\"#layer_speed\").val(r.frames.frame_0.speed),jQuery(\"#layer_align_hor\").val(t.getVal(r,\"align_hor\")),jQuery(\"#layer_align_vert\").val(t.getVal(r,\"align_vert\")),\"true\"==r.hiddenunder||1==r.hiddenunder?jQuery(\"#layer_hidden\").prop(\"checked\",!0):jQuery(\"#layer_hidden\").prop(\"checked\",!1),\"true\"==r.resizeme||1==r.resizeme?jQuery(\"#layer_resizeme\").prop(\"checked\",!0):jQuery(\"#layer_resizeme\").prop(\"checked\",!1),\"true\"==r[\"seo-optimized\"]||1==r[\"seo-optimized\"]?jQuery(\"#layer-seo-optimized\").prop(\"checked\",!0):jQuery(\"#layer-seo-optimized\").prop(\"checked\",!1),\"true\"!=r[\"resize-full\"]&&1!=r[\"resize-full\"]||\"row\"===r.type||\"column\"===r.type?(jQuery(\"#layer_resize-full\").prop(\"checked\",!1),jQuery(\"#layer_resizeme\").prop(\"checked\",!1),r.resizeme=!1):(jQuery(\"#layer_resize-full\").prop(\"checked\",!0),\"group\"===r.type&&(jQuery(\"#layer_resizeme\").prop(\"checked\",!1),r.resizeme=!1)),jQuery(\"#layer_align_base\").val(r.basealign),\"true\"==r.responsive_offset||1==r.responsive_offset?jQuery(\"#layer_resp_offset\").prop(\"checked\",!0):jQuery(\"#layer_resp_offset\").prop(\"checked\",!1),RevSliderSettings.onoffStatus(jQuery(\"#layer_hidden\")),RevSliderSettings.onoffStatus(jQuery(\"#layer_resizeme\")),RevSliderSettings.onoffStatus(jQuery(\"#layer_resize-full\")),RevSliderSettings.onoffStatus(jQuery(\"#layer_resp_offset\")),RevSliderSettings.onoffStatus(jQuery(\"#layer-seo-optimized\")),jQuery(\"#layer_image_link\").val(r.link),jQuery(\"#layer_link_open_in\").val(r.link_open_in),jQuery(\"#layer_link_id\").val(r.link_id),jQuery(\"#layer_link_class\").val(r.link_class),jQuery(\"#layer_link_title\").val(r.link_title),jQuery(\"#layer_link_rel\").val(r.link_rel),jQuery(\"#layer_auto_line_break\").val(r.autolinebreak),jQuery(\"#layer_displaymode\").val(r.displaymode),jQuery(\"#layer_endanimation\").val(r.frames.frame_999.animation),jQuery(\"#layer_endeasing\").val(r.frames.frame_999.easing),jQuery(\"#layer_endspeed\").val(r.frames.frame_999.speed),jQuery(\"#layer_anim_xstart\").val(r.x_start),jQuery(\"#layer_anim_ystart\").val(r.y_start),jQuery(\"#layer_anim_zstart\").val(r.z_start),jQuery(\"#layer_anim_xend\").val(r.x_end),jQuery(\"#layer_anim_yend\").val(r.y_end),jQuery(\"#layer_anim_zend\").val(r.z_end),jQuery(\"#layer_opacity_start\").val(r.opacity_start),jQuery(\"#layer_opacity_end\").val(r.opacity_end),jQuery(\"#blurfilter_start\").val(r.blurfilter_start),jQuery(\"#blurfilter_end\").val(r.blurfilter_end),jQuery(\"#grayscalefilter_start\").val(r.grayscalefilter_start),jQuery(\"#grayscalefilter_end\").val(r.grayscalefilter_end),jQuery(\"#layer_anim_xrotate\").val(r.x_rotate_start),jQuery(\"#layer_anim_yrotate\").val(r.y_rotate_start),jQuery(\"#layer_anim_zrotate\").val(r.z_rotate_start),jQuery(\"#layer_anim_xrotate_end\").val(r.x_rotate_end),jQuery(\"#layer_anim_yrotate_end\").val(r.y_rotate_end),jQuery(\"#layer_anim_zrotate_end\").val(r.z_rotate_end),jQuery(\"#layer_scale_xstart\").val(r.scale_x_start),jQuery(\"#layer_scale_ystart\").val(r.scale_y_start),jQuery(\"#layer_scale_xend\").val(r.scale_x_end),jQuery(\"#layer_scale_yend\").val(r.scale_y_end),jQuery(\"#layer_skew_xstart\").val(r.skew_x_start),jQuery(\"#layer_skew_ystart\").val(r.skew_y_start),jQuery(\"#layer_skew_xend\").val(r.skew_x_end),jQuery(\"#layer_skew_yend\").val(r.skew_y_end),jQuery(\"#layer_pers_start\").val(r.pers_start),jQuery(\"#layer_pers_end\").val(r.pers_end),jQuery(\"#blurfilter_start\").val(r.blurfilter_start),jQuery(\"#blurfilter_end\").val(r.blurfilter_end),jQuery(\"#grayscalefilter_start\").val(r.grayscalefilter_start),jQuery(\"#grayscalefilter_end\").val(r.grayscalefilter_end),void 0!==r[\"layer-selectable\"]?jQuery('#css_layer_selectable option[value=\"'+r[\"layer-selectable\"]+'\"]').attr(\"selected\",!0):jQuery('#css_layer_selectable option[value=\"default\"]').attr(\"selected\",!0),void 0===r.x_start_reverse||\"true\"!=r.x_start_reverse&&1!=r.x_start_reverse?jQuery(\"#layer_anim_xstart_reverse\").prop(\"checked\",!1):jQuery(\"#layer_anim_xstart_reverse\").attr(\"checked\",!0),void 0===r.y_start_reverse||\"true\"!=r.y_start_reverse&&1!=r.y_start_reverse?jQuery(\"#layer_anim_ystart_reverse\").prop(\"checked\",!1):jQuery(\"#layer_anim_ystart_reverse\").attr(\"checked\",!0),void 0===r.x_end_reverse||\"true\"!=r.x_end_reverse&&1!=r.x_end_reverse?jQuery(\"#layer_anim_xend_reverse\").prop(\"checked\",!1):jQuery(\"#layer_anim_xend_reverse\").attr(\"checked\",!0),void 0===r.y_end_reverse||\"true\"!=r.y_end_reverse&&1!=r.y_end_reverse?jQuery(\"#layer_anim_yend_reverse\").prop(\"checked\",!1):jQuery(\"#layer_anim_yend_reverse\").attr(\"checked\",!0),void 0===r.x_rotate_start_reverse||\"true\"!=r.x_rotate_start_reverse&&1!=r.x_rotate_start_reverse?jQuery(\"#layer_anim_xrotate_reverse\").prop(\"checked\",!1):jQuery(\"#layer_anim_xrotate_reverse\").attr(\"checked\",!0),void 0===r.y_rotate_start_reverse||\"true\"!=r.y_rotate_start_reverse&&1!=r.y_rotate_start_reverse?jQuery(\"#layer_anim_yrotate_reverse\").prop(\"checked\",!1):jQuery(\"#layer_anim_yrotate_reverse\").attr(\"checked\",!0),void 0===r.z_rotate_start_reverse||\"true\"!=r.z_rotate_start_reverse&&1!=r.z_rotate_start_reverse?jQuery(\"#layer_anim_zrotate_reverse\").prop(\"checked\",!1):jQuery(\"#layer_anim_zrotate_reverse\").attr(\"checked\",!0),void 0===r.x_rotate_end_reverse||\"true\"!=r.x_rotate_end_reverse&&1!=r.x_rotate_end_reverse?jQuery(\"#layer_anim_xrotate_end_reverse\").prop(\"checked\",!1):jQuery(\"#layer_anim_xrotate_end_reverse\").attr(\"checked\",!0),void 0===r.y_rotate_end_reverse||\"true\"!=r.y_rotate_end_reverse&&1!=r.y_rotate_end_reverse?jQuery(\"#layer_anim_yrotate_end_reverse\").prop(\"checked\",!1):jQuery(\"#layer_anim_yrotate_end_reverse\").attr(\"checked\",!0),void 0===r.z_rotate_end_reverse||\"true\"!=r.z_rotate_end_reverse&&1!=r.z_rotate_end_reverse?jQuery(\"#layer_anim_zrotate_end_reverse\").prop(\"checked\",!1):jQuery(\"#layer_anim_zrotate_end_reverse\").attr(\"checked\",!0),void 0===r.scale_x_start_reverse||\"true\"!=r.scale_x_start_reverse&&1!=r.scale_x_start_reverse?jQuery(\"#layer_scale_xstart_reverse\").prop(\"checked\",!1):jQuery(\"#layer_scale_xstart_reverse\").attr(\"checked\",!0),void 0===r.scale_y_start_reverse||\"true\"!=r.scale_y_start_reverse&&1!=r.scale_y_start_reverse?jQuery(\"#layer_scale_ystart_reverse\").prop(\"checked\",!1):jQuery(\"#layer_scale_ystart_reverse\").attr(\"checked\",!0),void 0===r.scale_x_end_reverse||\"true\"!=r.scale_x_end_reverse&&1!=r.scale_x_end_reverse?jQuery(\"#layer_scale_xend_reverse\").prop(\"checked\",!1):jQuery(\"#layer_scale_xend_reverse\").attr(\"checked\",!0),void 0===r.scale_y_end_reverse||\"true\"!=r.scale_y_end_reverse&&1!=r.scale_y_end_reverse?jQuery(\"#layer_scale_yend_reverse\").prop(\"checked\",!1):jQuery(\"#layer_scale_yend_reverse\").attr(\"checked\",!0),void 0===r.skew_x_start_reverse||\"true\"!=r.skew_x_start_reverse&&1!=r.skew_x_start_reverse?jQuery(\"#layer_skew_xstart_reverse\").prop(\"checked\",!1):jQuery(\"#layer_skew_xstart_reverse\").attr(\"checked\",!0),void 0===r.skew_y_start_reverse||\"true\"!=r.skew_y_start_reverse&&1!=r.skew_y_start_reverse?jQuery(\"#layer_skew_ystart_reverse\").prop(\"checked\",!1):jQuery(\"#layer_skew_ystart_reverse\").attr(\"checked\",!0),void 0===r.skew_x_end_reverse||\"true\"!=r.skew_x_end_reverse&&1!=r.skew_x_end_reverse?jQuery(\"#layer_skew_xend_reverse\").prop(\"checked\",!1):jQuery(\"#layer_skew_xend_reverse\").attr(\"checked\",!0),void 0===r.skew_y_end_reverse||\"true\"!=r.skew_y_end_reverse&&1!=r.skew_y_end_reverse?jQuery(\"#layer_skew_yend_reverse\").prop(\"checked\",!1):jQuery(\"#layer_skew_yend_reverse\").attr(\"checked\",!0),void 0===r.mask_x_start_reverse||\"true\"!=r.mask_x_start_reverse&&1!=r.mask_x_start_reverse?jQuery(\"#mask_anim_xstart_reverse\").prop(\"checked\",!1):jQuery(\"#mask_anim_xstart_reverse\").attr(\"checked\",!0),void 0===r.mask_y_start_reverse||\"true\"!=r.mask_y_start_reverse&&1!=r.mask_y_start_reverse?jQuery(\"#mask_anim_ystart_reverse\").prop(\"checked\",!1):jQuery(\"#mask_anim_ystart_reverse\").attr(\"checked\",!0),void 0===r.mask_x_end_reverse||\"true\"!=r.mask_x_end_reverse&&1!=r.mask_x_end_reverse?jQuery(\"#mask_anim_xend_reverse\").prop(\"checked\",!1):jQuery(\"#mask_anim_xend_reverse\").attr(\"checked\",!0),void 0===r.mask_y_end_reverse||\"true\"!=r.mask_y_end_reverse&&1!=r.mask_y_end_reverse?jQuery(\"#mask_anim_yend_reverse\").prop(\"checked\",!1):jQuery(\"#mask_anim_yend_reverse\").attr(\"checked\",!0),t.updateReverseList(),null!=r.static_styles&&(jQuery(\"#layer_font_size_s\").val(t.getVal(r.static_styles,\"font-size\")),jQuery(\"#layer_line_height_s\").val(t.getVal(r.static_styles,\"line-height\")),jQuery(\"#layer_font_weight_s option[value='\"+t.getVal(r.static_styles,\"font-weight\")+\"']\").attr(\"selected\",!0),jQuery(\"#layer_color_s\").val(t.getVal(r.static_styles,\"color\")),jQuery(\"#letter_spacing_s\").val(t.getVal(r.static_styles,\"letter-spacing\"))),null!=r.animation_overwrite?jQuery('#layer-animation-overwrite option[value=\"'+r.animation_overwrite+'\"]').attr(\"selected\",!0):jQuery('#layer-animation-overwrite option[value=\"wait\"]').attr(\"selected\",!0),null!=r.trigger_memory?jQuery('#layer-tigger-memory option[value=\"'+r.trigger_memory+'\"]').attr(\"selected\",!0):jQuery('#layer-tigger-memory option[value=\"keep\"]').attr(\"selected\",!0),t.remove_layer_actions(),t.add_layer_actions(r),r=updateSubStyleParameters(r);var a=t.getVal(r,\"align_hor\"),i=t.getVal(r,\"align_vert\");jQuery(\"#rs-align-wrapper a\").removeClass(\"selected\"),jQuery(\"#rs-align-wrapper-ver a\").removeClass(\"selected\"),jQuery(\"#rs-align-wrapper a[data-hor='\"+a+\"']\").addClass(\"selected\"),jQuery(\"#rs-align-wrapper-ver a[data-ver='\"+i+\"']\").addClass(\"selected\"),jQuery(\"#layer_id\").val(r.attrID),jQuery(\"#layer_wrapper_id\").val(r.attrWrapperID),jQuery(\"#layer_classes\").val(r.attrClasses),jQuery(\"#layer_wrapper_classes\").val(r.attrWrapperClasses),jQuery(\"#layer_title\").val(r.attrTitle),jQuery(\"#layer_tabindex\").val(r.attrTabindex),jQuery(\"#layer_rel\").val(r.attrRel),jQuery('select[name=\"layer_action[]\"], select[name=\"no_layer_action[]\"]').each(function(){showHideLinkActions(jQuery(this))}),showHideToolTip(),showHideLoopFunctions(),jQuery.each(t.addon_callbacks,function(e,t){var a=t.callback,i=t.environment,o=t.function_position;\"updateLayerFormFields\"===i&&\"end\"==o&&(r=a(r))})};var unselectHtmlLayers=function(){jQuery.each(t.addon_callbacks,function(e,t){var r=t.callback,a=t.environment,i=t.function_position;\"unselectHtmlLayers\"===a&&\"start\"==i&&r()});for(var e=document.getElementById(\"divLayers\"),r=e.getElementsByClassName(\"ui-resizable\"),a=e.getElementsByClassName(\"ui-rotatable-handle\"),i=0;i<r.length-1;i++)try{jQuery(r[i]).resizable(\"destroy\")}catch(e){}for(i=0;i<a.length-1;i++)try{jQuery(a[i]).rotatable(\"destroy\")}catch(e){}jQuery(containerID+\" .slide_layer\").removeClass(\"layer_selected\"),jQuery(\".layerrow_selected\").removeClass(\"layerrow_selected\"),jQuery(\".layerchild_selected\").removeClass(\"layerchild_selected\"),document.getElementById(\"id-esw\").className=\"\",jQuery.each(t.addon_callbacks,function(e,t){var r=t.callback,a=t.environment,i=t.function_position;\"unselectHtmlLayers\"===a&&\"end\"==i&&r()})};t.hideRowLayoutComposer=function(){jQuery(\"#rs-layout-row-composer\").hide();for(var e=document.getElementsByClassName(\"row_editor open_re\"),t=0;t<e.length;t++)e[t].className=\"row_editor\"};var unselectLayers=function(){t.hideRowLayoutComposer(),unselectHtmlLayers(),jQuery(\"#timline-manual-dialog\").appendTo(jQuery(\"#thelayer-editor-wrapper\")).hide();for(var e=document.getElementsByClassName(\"layerchild_selected\"),r=0;r<e.length-1;r++)jQuery(e[r]).removeClass(\"layerchild_selected\");jQuery(\".quicksortlayer.selected\").removeClass(\"selected\"),jQuery(\".layerrow_selected\").removeClass(\"layerrow_selected\"),u.unselectSortboxItems(),t.selectedLayerSerial=-1,disableFormFields(),t.showHideContentEditor(!1),jQuery(\".form_layers\").addClass(\"notselected\"),u.resetIdleSelector(),jQuery(\"#idle-hover-swapper\").hide(),u.allLayerToIdle(),jQuery(\"#the_current-editing-layer-title\").addClass(\"nolayerselectednow\").val(\"No Layers Selected\").attr(\"disabled\",\"disabled\"),jQuery(\"#layer-short-toolbar\").data(\"serial\",\"\")};t.toolbarInPos=function(e){if(e)switch(e.type){case\"image\":jQuery(\"#button_change_image_source\").show(),jQuery(\"#button_edit_layer\").hide(),jQuery(\"#button_reset_size\").show(),jQuery(\"#button_change_video_settings\").hide(),jQuery(\"#layer-short-tool-placeholder-a\").hide(),jQuery(\"#layer-short-tool-placeholder-b\").hide();break;case\"text\":case\"button\":jQuery(\"#layer_text_wrapper\").hasClass(\"currently_editing_txt\")?(jQuery(\"#button_edit_layer\").hide(),jQuery(\"#button_reset_size\").hide()):(jQuery(\"#button_edit_layer\").show(),jQuery(\"#button_reset_size\").show()),jQuery(\"#button_change_image_source\").hide(),jQuery(\"#button_change_video_settings\").hide(),jQuery(\"#layer-short-tool-placeholder-a\").hide(),jQuery(\"#layer-short-tool-placeholder-b\").hide();break;case\"audio\":case\"video\":jQuery(\"#button_edit_layer\").hide(),jQuery(\"#button_change_image_source\").hide(),jQuery(\"#button_reset_size\").hide(),jQuery(\"#button_change_video_settings\").show(),jQuery(\"#layer-short-tool-placeholder-a\").show(),jQuery(\"#layer-short-tool-placeholder-b\").hide();break;case\"shape\":jQuery(\"#button_change_image_source\").hide(),jQuery(\"#button_change_video_settings\").hide(),jQuery(\"#button_edit_layer\").hide(),jQuery(\"#button_reset_size\").hide(),jQuery(\"#layer-short-tool-placeholder-a\").show(),jQuery(\"#layer-short-tool-placeholder-b\").show();break;case\"svg\":jQuery(\"#button_change_image_source\").hide(),jQuery(\"#button_edit_layer\").hide(),jQuery(\"#button_reset_size\").hide(),jQuery(\"#button_change_video_settings\").hide(),jQuery(\"#layer-short-tool-placeholder-a\").show(),jQuery(\"#layer-short-tool-placeholder-b\").hide(),jQuery(\"#button_edit_layer\").show(),jQuery(\"#layer-short-tool-placeholder-b\").hide()}},t.remove_layer_actions=function(){jQuery(\".layer_action_wrap\").each(function(){jQuery(this).remove()})},t.checkActionsOnLayers=function(e){var r=t.getSimpleLayers(),a=t.getUniqueIdByLayer(e);for(var i in r)if(r.hasOwnProperty(i)&&void 0!==r[i].layer_action)for(var o in r[i].layer_action.action)if(r[i].layer_action.action.hasOwnProperty(o))switch(r[i].layer_action.action[o]){case\"start_in\":case\"start_out\":case\"start_video\":case\"stop_video\":case\"toggle_layer\":case\"toggle_video\":case\"mute_video\":case\"unmute_video\":case\"toggle_mute_video\":case\"toggle_global_mute_video\":case\"simulate_click\":case\"toggle_class\":a==r[i].layer_action.layer_target[o]&&(r[i].layer_action.action&&r[i].layer_action.action[o]&&delete r[i].layer_action.action[o],r[i].layer_action.tooltip_event&&r[i].layer_action.tooltip_event[o]&&delete r[i].layer_action.tooltip_event[o],r[i].layer_action.image_link&&r[i].layer_action.image_link[o]&&delete r[i].layer_action.image_link[o],r[i].layer_action.link_open_in&&r[i].layer_action.link_open_in[o]&&delete r[i].layer_action.link_open_in[o],r[i].layer_action.jump_to_slide&&r[i].layer_action.jump_to_slide[o]&&delete r[i].layer_action.jump_to_slide[o],r[i].layer_action.scrolloffset&&r[i].layer_action.scrolloffset[o]&&delete r[i].layer_action.scrolloffset[o],r[i].layer_action.actioncallback&&r[i].layer_action.actioncallback[o]&&delete r[i].layer_action.actioncallback[o],r[i].layer_action.layer_target&&r[i].layer_action.layer_target[o]&&delete r[i].layer_action.layer_target[o],r[i].layer_action.action_delay&&r[i].layer_action.action_delay[o]&&delete r[i].layer_action.action_delay[o],r[i].layer_action.link_type&&r[i].layer_action.link_type[o]&&delete r[i].layer_action.link_type[o],r[i].layer_action.toggle_layer_type&&r[i].layer_action.toggle_layer_type[o]&&delete r[i].layer_action.toggle_layer_type[o],r[i].layer_action.toggle_class&&r[i].layer_action.toggle_class[o]&&delete r[i].layer_action.toggle_class[o])}},t.remove_action=function(e){confirm(rev_lang.remove_this_action)&&(e.closest(\"li\").remove(),t.updateLayerFromFields(),u.updateAllLayerTimeline())},t.checkLayerTriggered=function(e){var r=t.getSimpleLayers(),a={in:!1,out:!1};for(var i in r)if(r.hasOwnProperty(i)&&void 0!==r[i].layer_action)for(var o in r[i].layer_action.action)if(r[i].layer_action.action.hasOwnProperty(o))switch(r[i].layer_action.action[o]){case\"start_in\":case\"start_out\":case\"start_video\":case\"stop_video\":case\"toggle_layer\":case\"toggle_video\":case\"simulate_click\":case\"toggle_class\":var s=r[i].layer_action.layer_target[o];if(e.unique_id==s)switch(r[i].layer_action.action[o]){case\"start_in\":a.in=!0;break;case\"start_out\":a.out=!0;break;case\"toggle_layer\":a.in=!0,a.out=!0}}return a},t.add_layer_actions=function(e){var r=t.getSimpleLayers();if(void 0===e){var a=global_action_template({edit:!0});jQuery(\".layer_action_add_template\").before(a),t.updateLayerFromFields()}else{jQuery(\"#triggered-element-behavior\").hide();var i=t.getCurrentLayer();for(var o in r)if(r.hasOwnProperty(o)&&void 0!==r[o].layer_action){var s=!1;for(var n in r[o].layer_action.action)if(r[o].layer_action.action.hasOwnProperty(n))switch(r[o].layer_action.action[n]){case\"start_in\":case\"start_out\":case\"start_video\":case\"stop_video\":case\"toggle_layer\":case\"toggle_video\":case\"simulate_click\":case\"toggle_class\":var l=r[o].layer_action.layer_target[n];if(i.unique_id==l){switch(r[o].layer_action.action[n]){case\"start_in\":case\"start_out\":case\"toggle_layer\":s=!0}var d=\"\";switch(r[o].layer_action.action[n]){case\"start_in\":d=rev_lang.start_layer_in;break;case\"start_out\":d=rev_lang.start_layer_out;break;case\"start_video\":d=rev_lang.start_video;break;case\"stop_video\":d=rev_lang.stop_video;break;case\"toggle_layer\":d=rev_lang.toggle_layer_anim;break;case\"toggle_video\":d=rev_lang.toggle_video;break;case\"simulate_click\":d=rev_lang.simulate_click;break;case\"toggle_class\":d=rev_lang.toggle_class}jQuery(\".layer_action_add_template\").before('<li class=\"layer_is_triggered layer_action_wrap\">'+rev_lang.layer_action_by+\" <a href=\\\"javascript:UniteLayersRev.setLayerSelected('\"+o+\"');void(0);\\\">\"+r[o].alias+\"</a> \"+rev_lang.due_to_action+\" \"+d+\"</li>\")}}s&&jQuery(\"#triggered-element-behavior\").show()}jQuery(\".rs_disabled_field\").each(function(){jQuery(this).attr(\"disabled\",\"disabled\")})}if(void 0!==e&&void 0!==e.layer_action&&void 0!==e.layer_action.action)for(var o in e.layer_action.action)if(e.layer_action.action.hasOwnProperty(o)){var y={edit:!0};y.tooltip_event=void 0!==e.layer_action.tooltip_event&&void 0!==e.layer_action.tooltip_event[o]?e.layer_action.tooltip_event[o]:\"click\",y.action=void 0!==e.layer_action.action&&void 0!==e.layer_action.action[o]?e.layer_action.action[o]:\"none\",y.image_link=void 0!==e.layer_action.image_link&&void 0!==e.layer_action.image_link[o]?e.layer_action.image_link[o]:\"\",y.link_open_in=void 0!==e.layer_action.link_open_in&&void 0!==e.layer_action.link_open_in[o]?e.layer_action.link_open_in[o]:\"same\",y.jump_to_slide=void 0!==e.layer_action.jump_to_slide&&void 0!==e.layer_action.jump_to_slide[o]?e.layer_action.jump_to_slide[o]:\"\",y.scrolloffset=void 0!==e.layer_action.scrollunder_offset&&void 0!==e.layer_action.scrollunder_offset[o]?e.layer_action.scrollunder_offset[o]:\"\",y.action_easing=void 0!==e.layer_action.action_easing&&void 0!==e.layer_action.action_easing[o]?e.layer_action.action_easing[o]:\"Linear.easeNone\",y.action_speed=void 0!==e.layer_action.action_speed&&void 0!==e.layer_action.action_speed[o]?e.layer_action.action_speed[o]:\"300\",y.actioncallback=void 0!==e.layer_action.actioncallback&&void 0!==e.layer_action.actioncallback[o]?e.layer_action.actioncallback[o]:\"\",y.layer_target=void 0!==e.layer_action.layer_target&&void 0!==e.layer_action.layer_target[o]?e.layer_action.layer_target[o]:\"\",y.action_delay=void 0!==e.layer_action.action_delay&&void 0!==e.layer_action.action_delay[o]?e.layer_action.action_delay[o]:\"\",y.link_type=void 0!==e.layer_action.link_type&&void 0!==e.layer_action.link_type[o]?e.layer_action.link_type[o]:\"jquery\",y.toggle_layer_type=void 0!==e.layer_action.toggle_layer_type&&void 0!==e.layer_action.toggle_layer_type[o]?e.layer_action.toggle_layer_type[o]:\"visible\",y.toggle_class=void 0!==e.layer_action.toggle_class&&void 0!==e.layer_action.toggle_class[o]?e.layer_action.toggle_class[o]:\"\",jQuery.each(t.addon_callbacks,function(t,r){var a=r.callback,i=r.environment,s=r.function_position;\"add_layer_actions\"===i&&\"data_definition\"==s&&(y=a(y,e,o))});a=global_action_template(y);jQuery(\".layer_action_add_template\").before(a)}jQuery('select[name=\"jump_to_slide[]\"], select[name=\"no_jump_to_slide[]\"]').each(function(){for(var e in jQuery(this).html(\"\"),slideIDs)if(slideIDs.hasOwnProperty(e))for(var t in slideIDs[e])slideIDs[e].hasOwnProperty(t)&&jQuery(this).append(jQuery(\"<option></option>\").val(t).text(\"Slide: \"+slideIDs[e][t]));var r=jQuery(this).data(\"selectoption\");jQuery(this).find('option[value=\"'+r+'\"]').attr(\"selected\",!0)}),jQuery('select[name=\"layer_target[]\"], select[name=\"no_layer_target[]\"]').each(function(e){for(var a in jQuery(this).html(\"\"),jQuery(this).append(jQuery('<option data-mytype=\"video-special\"></option>').val(\"backgroundvideo\").text(rev_lang.background_video)),jQuery(this).append(jQuery('<option data-mytype=\"video-special\"></option>').val(\"firstvideo\").text(rev_lang.active_video)),r)r.hasOwnProperty(a)&&!0!==r[a].deleted&&jQuery(this).append(jQuery('<option data-mytype=\"'+r[a].type+'\"></option>').val(r[a].unique_id).text(r[a].alias));if(null!==initStaticLayers&&initStaticLayers.length>0)for(var a in jQuery(this).append(jQuery('<option data-mytype=\"all\" disabled=\"disabled\"></option>').text(rev_lang.static_layers)),initStaticLayers)initStaticLayers.hasOwnProperty(a)&&jQuery(this).append(jQuery('<option data-mytype=\"'+initStaticLayers[a].type+'\"></option>').val(\"static-\"+initStaticLayers[a].unique_id).text(initStaticLayers[a].alias));var i=jQuery(this).data(\"selectoption\");jQuery(this).find('option[value=\"'+i+'\"]').attr(\"selected\",!0);var o=t.getAnimTimingAndTrigger(i);jQuery(this).closest(\"li\").find('select[name=\"do-layer-animation-overwrite[]\"] option[value=\"'+o.animation_overwrite+'\"]').attr(\"selected\",!0),jQuery(this).closest(\"li\").find('select[name=\"do-layer-trigger-memory[]\"] option[value=\"'+o.trigger_memory+'\"]').attr(\"selected\",!0)})},t.getAnimTimingAndTrigger=function(e){var r=t.getLayerByUniqueId(e);return{animation_overwrite:r.animation_overwrite,trigger_memory:r.trigger_memory}},t.setAnimTimingAndTrigger=function(e){var r=t.getLayerByUniqueId(e);return{animation_overwrite:r.animation_overwrite,trigger_memory:r.trigger_memory}},t.setLayerResizable=function(e){var r=!1,a=e.references.htmlLayer;(jQuery(\"#layer_proportional_scale\")[0].checked||\"svg\"===e.type)&&(r=!0);try{a.resizable(\"destroy\")}catch(e){}a.resizable({aspectRatio:r,handles:\"all\",start:function(t,i){switch(e.type){case\"img\":case\"audio\":case\"video\":var o=r?\"auto\":\"100%\";punchgs.TweenLite.set(i.element,{width:i.originalSize.width,height:i.originalSize.height}),punchgs.TweenLite.set(i.element.find(\"img\"),{width:\"100%\",height:o}),punchgs.TweenLite.set(i.element.find(\".innerslide_layer\").first(),{width:\"100%\",height:o});break;default:if(\"svg\"===e)a.find(\".innerslide_layer.tp-caption\").first().css({maxHeight:\"none\",minHeight:0,maxWidth:\"none\"});else{var s=a.outerWidth(),n=\"shape\"===e.type?\"none\":a.outerHeight();\"shape\"!==e.type&&a.css({height:\"auto\"}),punchgs.TweenLite.set(i.element[0].getElementsByClassName(\"innerslide_layer\")[0],{height:\"auto\",maxHeight:\"none\",minHeight:n,maxWidth:s})}}},resize:function(a,i){switch(e.type){case\"audio\":case\"video\":jQuery(\"#layer_video_width\").val(Math.round(i.size.width)+\"px\"),jQuery(\"#layer_video_height\").val(Math.round(i.size.height)+\"px\");var o=r?\"auto\":\"100%\";i.element[0].getElementsByTagName(\"img\").length>0&&punchgs.TweenLite.set(i.element[0].getElementsByTagName(\"img\")[0],{width:\"100%\",height:o}),punchgs.TweenLite.set(i.element[0].getElementsByClassName(\"innerslide_layer\")[0],{maxWidth:\"none\",maxHeight:\"none\",width:\"100%\",height:\"100%\"}),punchgs.TweenLite.set(i.element[0].getElementsByClassName(\"slide_layer_video\")[0],{width:\"100%\",height:\"100%\"});break;case\"image\":jQuery(\"#layer_scaleX\").val(Math.round(i.size.width)+\"px\"),jQuery(\"#layer_scaleY\").val(Math.round(i.size.height)+\"px\");o=r?\"auto\":\"100%\";punchgs.TweenLite.set(i.element,{width:Math.round(i.size.width),height:Math.round(i.size.height)}),punchgs.TweenLite.set(i.element[0].getElementsByTagName(\"img\")[0],{width:\"100%\",height:o}),punchgs.TweenLite.set(i.element[0].getElementsByClassName(\"innerslide_layer\")[0],{maxWidth:\"100%\",maxHeight:\"100%\",width:\"100%\",height:o});break;default:var s=i.element[0].getElementsByClassName(\"innerslide_layer\")[0],n=jQuery(s),l=n.outerHeight(),d=(n.outerWidth(),Math.round(i.size.height)+1),y=Math.round(i.size.width)+1;\"shape\"!==e.type&&\"group\"!==e.type?(d=l>=d?\"auto\":d+\"px\",punchgs.TweenLite.set(s,{maxWidth:y})):punchgs.TweenLite.set(n,{maxWidth:y,maxHeight:d,minHeight:\"none\",overwrite:\"auto\",height:\"100%\"}),jQuery(\"#layer_max_width\").val(y+\"px\"),jQuery(\"#layer_max_height\").val(d)}\"group\"===e.type&&jQuery.each(t.getLayersInGroup(e.unique_id).layers,function(e,r){t.updateHtmlLayerPosition(!1,r,t.getVal(r,\"top\"),t.getVal(r,\"left\"),t.getVal(r,\"align_hor\"),t.getVal(r,\"align_vert\"))})},stop:function(e,r){layerresized=!0,setTimeout(function(){layerresized=!1},200),t.updateLayerFromFields()}})},t.resetLayerSelected=function(e){var r=e.references.htmlLayer;jQuery(\"#layer_cornerleft_row\").hide(),jQuery(\"#layer_cornerright_row\").hide(),jQuery(\"#layer_resizeme_row\").hide(),jQuery(\"#layer_alt_row\").hide(),jQuery(\"#layer_max_widthheight_wrapper\").hide(),jQuery(\"#layer_video_widthheight_wrapper\").hide(),jQuery(\"#layer_scaleXY_wrapper\").hide(),jQuery(\"#layer_minwidthheight_wrapper\").hide();var a=document.getElementById(\"id-esw\"),i=\"column\"===t.getObjLayerType(e.p_uid);switch(a.className=\"slt-\"+e.type+\"-w\",i&&(a.className+=\" sltic\"),e.type){case\"audio\":case\"video\":jQuery(\"#linkInsertTemplate\").addClass(\"disabled\"),jQuery(\"#layer_video_widthheight_wrapper\").show(),t.showHideContentEditor(!1),r.width()>=jQuery(\"#divLayers\").width()&&r.height()>=jQuery(\"#divLayers\").height()?r.addClass(\"fullscreen-video-layer\"):r.removeClass(\"fullscreen-video-layer\");break;case\"image\":jQuery(\"#layer_scaleXY_wrapper\").show(),jQuery(\"#linkInsertTemplate\").addClass(\"disabled\"),jQuery(\"#layer_alt_row\").show(),jQuery(\".rs-lazy-load-images-wrap\").show(),\"custom\"==jQuery(\"#layer_alt_option option:selected\").val()?jQuery(\"#layer_alt\").show():jQuery(\"#layer_alt\").hide();break;case\"svg\":jQuery(\"#layer_max_widthheight_wrapper\").show();break;case\"shape\":jQuery(\"#layer-covermode-wrapper\").show(),jQuery(\"#layer_text_wrapper\").removeClass(\"currently_editing_txt\"),jQuery(\"#layer_max_widthheight_wrapper\").show();break;case\"group\":case\"row\":jQuery(\"#layer_max_widthheight_wrapper\").show();break;case\"column\":jQuery(\"#layer_minwidthheight_wrapper\").show();break;case\"text\":case\"button\":default:jQuery(\"#layer_text_wrapper\").addClass(\"currently_editing_txt\"),jQuery(\"#layer_cornerleft_row\").show(),jQuery(\"#layer_cornerright_row\").show(),jQuery(\"#layer_resizeme_row\").show(),jQuery(\"#layer_max_widthheight_wrapper\").show()}\"row\"!==e.type&&\"column\"!==e.type&&(t.setLayerResizable(e),t.makeCurrentLayerRotatable()),jQuery(\"#hover_allow\")[0].checked?jQuery(\"#idle-hover-swapper\").show():jQuery(\"#idle-hover-swapper\").hide(),RevSliderSettings.onoffStatus(jQuery(\"#hover_allow\")),RevSliderSettings.onoffStatus(jQuery(\"#toggle_allow\")),RevSliderSettings.onoffStatus(jQuery(\"#toggle_use_hover\")),RevSliderSettings.onoffStatus(jQuery(\"#toggle_inverse_content\")),jQuery(\"#layer_caption\").catcomplete(\"close\"),jQuery(\".wp-color-result\").each(function(){jQuery(this).css(\"backgroundColor\",jQuery(this).parent().find(\".my-color-field\").val())}),u.rebuildLayerIdleProgress(r)},t.setLayerSelected=function(e,r,a){if(t.selectedLayerSerial==e&&!r)return!1;jQuery(\"#timline-manual-dialog\").appendTo(jQuery(\"#thelayer-editor-wrapper\")).hide(),t.hideRowLayoutComposer(),u.resetIdleSelector(),jQuery(\".quicksortlayer.selected\").removeClass(\"selected\"),jQuery(\"#layer_quicksort_\"+e).addClass(\"selected\"),a||jQuery(\".timer-layer-text:focus\").blur(),t.remove_layer_actions();var i=t.getLayer(e);\"text\"!==i.type&&\"button\"!==i.type||(void 0!==i.deformation&&void 0!==i.deformation[\"font-family\"]?t.check_the_font_bold(i.deformation[\"font-family\"]):t.check_the_font_bold(\"\")),t.showHideContentEditor(!1),t.toolbarInPos(i),unselectHtmlLayers();var o=i.references.htmlLayer,s=jQuery(\"#layer-short-toolbar\");if(jQuery(\"#the_current-editing-layer-title\").val(i.alias).prop(\"disabled\",!1).removeClass(\"nolayerselectednow\"),s.data(\"serial\",e),u.isLayerLocked(o)){var n=(l=s.find(\".quick-layer-lock\")).find(\"i\");l.addClass(\"in-off\").removeClass(\"in-on\"),n.removeClass(\"eg-icon-lock-open\").addClass(\"eg-icon-lock\")}else{n=(l=s.find(\".quick-layer-lock\")).find(\"i\");l.addClass(\"in-on\").removeClass(\"in-off\"),n.removeClass(\"eg-icon-lock\").addClass(\"eg-icon-lock-open\")}if(u.isLayerVisible(o)){n=(l=s.find(\".quick-layer-view\")).find(\"i\");l.addClass(\"in-on\").removeClass(\"in-off\"),n.removeClass(\"eg-icon-eye-off\").addClass(\"eg-icon-eye\")}else{var l;n=(l=s.find(\".quick-layer-view\")).find(\"i\");l.addClass(\"in-off\").removeClass(\"in-on\"),n.removeClass(\"eg-icon-eye\").addClass(\"eg-icon-eye-off\")}\"block\"===t.getVal(i,\"display\")?jQuery(\"#layer-displaymode-wrapper\").removeClass(\"notselected\"):jQuery(\"#layer-displaymode-wrapper\").addClass(\"notselected\"),o.addClass(\"layer_selected\"),o.closest(\".slide_layer_type_row\").addClass(\"layerchild_selected\"),o.closest(\".row-zone-container\").addClass(\"layerrow_selected\"),o.closest(\".slide_layer_type_column\").addClass(\"layerchild_selected\"),u.setSortboxItemSelected(e),t.selectedLayerSerial=e,t.updateLayerFormFields(e),enableFormFields(),jQuery.each(t.addon_callbacks,function(t,r){var a=r.callback,i=r.environment,o=r.function_position;\"setLayerSelected\"===i&&\"start\"==o&&a(e)}),jQuery(\"#layer_text_wrapper\").removeClass(\"currently_editing_txt\"),jQuery(\".rs-lazy-load-images-wrap\").hide(),t.resetLayerSelected(i),checkMaskingAvailabity(),u.rebuildLayerIdle(o),reAlignAndrePosition(),jQuery(\".form_layers\").removeClass(\"notselected\"),t.set_cover_mode(),UniteCssEditorRev.updateCaptionsInput(initArrCaptionClasses),t.updateReverseList(),jQuery(\"#parallax_level\").change(),jQuery.each(t.addon_callbacks,function(t,r){var a=r.callback,i=r.environment,o=r.envifunction_position;\"setLayerSelected\"===i&&\"end\"==o&&a(e)})};var getRotationDegrees=function(e){var t=e.css(\"-webkit-transform\")||e.css(\"-moz-transform\")||e.css(\"-ms-transform\")||e.css(\"-o-transform\")||e.css(\"transform\");if(\"none\"!==t)var r=t.split(\"(\")[1].split(\")\")[0].split(\",\"),a=r[0],i=r[1],o=Math.round(Math.atan2(i,a)*(180/Math.PI));else o=0;return o<0?o+=360:o},isLayerSelected=function(e){return e==t.selectedLayerSerial},reAlignAndrePosition=function(){},getNextTime=function(){var e,r=0;for(key in t.arrLayers)if(t.arrLayers.hasOwnProperty(key)){var a=t.arrLayers[key];layerTime=a.time?Number(a.time):0,layerTime>r&&(r=layerTime)}return(e=0==r?g_startTime:Number(r)+Number(g_stepTime))>=g_slideTime&&(e=g_slideTime/2),e};t.updateHtmlLayerPosition=function(e,r,a,i,o,s){if(void 0!==r&&!1!==r){var n=r.references.htmlLayer.outerWidth(),l=r.references.htmlLayer.outerHeight();totalWidth=container.width(),totalHeight=container.height();var d=totalWidth,y=totalHeight;-1!==r.p_uid&&\"group\"===t.getObjLayerType(r.p_uid)&&(d=t.getLayerByUniqueId(r.p_uid).references.htmlLayer.width(),y=t.getLayerByUniqueId(r.p_uid).references.htmlLayer.height()),1==e&&\"image\"==r.type&&(-1!=t.getVal(r,\"width\")&&(n=t.getVal(r,\"width\")),-1!=t.getVal(r,\"height\")&&(l=t.getVal(r,\"height\")));var u={};switch(r.type){case\"row\":case\"column\":i=0,a=0}var c=-1!==r.p_uid&&\"column\"===t.getObjLayerType(r.p_uid);switch(u.position=c||\"row\"===r.type?\"relative\":\"absolute\",o){default:case\"left\":u.right=\"auto\",u.left=c?\"auto\":i+\"px\";break;case\"right\":u.left=\"auto\",u.right=c?\"auto\":i+\"px\";break;case\"center\":var _=(d-n)/2;_=Math.round(_)+i,u.left=c?\"auto\":_+\"px\",u.right=\"auto\"}switch(s){default:case\"top\":u.bottom=\"auto\",u.top=c?\"auto\":a+\"px\";break;case\"middle\":var m=(y-l)/2;m=\"row\"===r.type?0:Math.round(m)+a,u.top=c?\"auto\":m+\"px\",u.bottom=\"auto\";break;case\"bottom\":u.top=\"auto\",u.bottom=c?\"auto\":a+\"px\"}punchgs.TweenLite.set(r.references.htmlLayer,u),\"group\"===r.type&&jQuery.each(t.getLayersInGroup(r.unique_id).layers,function(e,r){t.updateHtmlLayerPosition(!1,r,t.getVal(r,\"top\"),t.getVal(r,\"left\"),t.getVal(r,\"align_hor\"),t.getVal(r,\"align_vert\"))})}};var onLayerDragStart=function(){t.justDropped=!1,t.showHideContentEditor(!1),jQuery(\"#divLayers\").addClass(\"onelayerinmove\");var e=t.getSerialFromID(this.id),r=jQuery(this),a=t.getLayer(e);-1==jQuery.inArray(a.unique_id,t.selectedLayers)&&u.checkMultipleSelectedItems(!0),r.closest(\".slide_layer_type_group\").addClass(\"dragfromgroup\"),r.data(\"originalPosition\",r.position()),r.addClass(\"draggable_toponall\"),selectedLayerWidth=r.outerWidth(),selectedlayerHeight=r.outerHeight(),totalWidth=container.width(),totalHeight=container.height(),r.closest(\".slide_layer_type_column\").addClass(\"column_from_draggable\"),r.closest(\".slide_layer_type_row\").css({zIndex:190}),jQuery(\"#layer_text_wrapper\").removeClass(\"currently_editing_txt\"),t.setLayerSelected(e),t.groupMove.x=0,t.groupMove.y=0,t.groupMove.sameGroup=t.getSameLinkedElements(a)};t.getSameLinkedElements=function(e){var r=[];for(var a in t.selectedLayers)if(t.selectedLayers.hasOwnProperty(a)){var i=t.getLayerByUniqueId(t.selectedLayers[a]);i.unique_id!==e.unique_id&&i.p_uid===e.p_uid&&(i.positionCache=i.references.htmlLayer.position(),r.push(i))}return r},t.getCurLinkedElements=function(){var e=[];for(var r in t.selectedLayers)if(t.selectedLayers.hasOwnProperty(r)){var a=t.getLayerByUniqueId(t.selectedLayers[r]);e.push(a)}if(0===e.length){a=t.getLayer(t.selectedLayerSerial);e.push(a)}return e};var onLayerDragEnd=function(e,r){var a=t.getSerialFromID(this.id),i=jQuery(this);if(i.removeClass(\"draggable_toponall\"),jQuery(\".row-zone-container\").removeClass(\"nowyouseeme\"),jQuery(\".row-zone-container\").removeClass(\"layerrow_selected\"),jQuery(\".column_from_draggable\").removeClass(\"column_from_draggable\"),t.droppedContainerCheck(t.getLayer(a)),t.groupMove&&t.groupMove.sameGroup&&t.groupMove.sameGroup.length>0)for(var o=0;o<t.groupMove.sameGroup.length;o++){var s=t.groupMove.sameGroup[o];selectedLayerWidth=s.references.htmlLayer.outerWidth(),selectedlayerHeight=s.references.htmlLayer.outerHeight(),t.onLayerDrag(\"ende\",s.serial,s.references.htmlLayer)}selectedLayerWidth=i.outerWidth(),selectedlayerHeight=i.outerHeight(),t.onLayerDrag(\"ende\",a,i),jQuery(\".layer_selected\").each(function(){var e=jQuery(this);e.data(\"serial\")!=a&&void 0!==a&&e.removeClass(\"layer_selected\")}),t.setLayerSelected(a),jQuery(\"#divLayers\").removeClass(\"onelayerinmove\"),jQuery(\".dragfromgroup\").removeClass(\"dragfromgroup\")};t.updateMovedLayers=function(e){jQuery.each(t.keyboardmovedlayers,function(e,r){void 0!==r.references&&(selectedLayerWidth=r.references.htmlLayer.outerWidth(),selectedlayerHeight=r.references.htmlLayer.outerHeight(),t.onLayerDrag(\"ende\",r.serial,r.references.htmlLayer,!0))})},t.adjustSelectedLayerPositions=function(e,r){t.keyboardmovedlayers=t.getCurLinkedElements(),jQuery.each(t.keyboardmovedlayers,function(t,a){void 0!==a.references&&(\"top\"==e?punchgs.TweenLite.set(a.references.htmlLayer,{top:Math.round(a.references.htmlLayer.position().top)+r}):punchgs.TweenLite.set(a.references.htmlLayer,{left:Math.round(a.references.htmlLayer.position().left)+r}))})},t.onLayerDrag=function(e,r,a,i){var o=(a=a||jQuery(this)).position(),s=Math.round(o.top),n=Math.round(o.left),l=0,d=0,y=void 0===r.originapPosition?t.getLayer(r):t.getLayer(t.selectedLayerSerial),u=totalWidth,c=totalHeight;jQuery(\"#layer_text_wrapper\").removeClass(\"currently_editing_txt\"),t.toolbarInPos(y);var _=y.p_uid;if(\"divLayers\"===a.parent().attr(\"id\")&&(y.p_uid=-1),-1!==_&&-1!==y.p_uid||_!=y.p_uid&&(\"row\"===y.type||-1!==y.p_uid&&\"column\"===t.getObjLayerType(y.p_uid)?punchgs.TweenLite.set(a,{left:\"auto\",right:\"auto\",top:\"auto\",bottom:\"auto\",display:\"inline-block\",position:\"relative\"}):punchgs.TweenLite.set(a,{display:\"block\",position:\"absolute\"})),-1!==y.p_uid&&\"group\"===t.getObjLayerType(y.p_uid)&&(u=t.getLayerByUniqueId(y.p_uid).references.htmlLayer.width(),c=t.getLayerByUniqueId(y.p_uid).references.htmlLayer.height()),void 0!==e.offsetX&&void 0!==r.originalPosition&&t.groupMove.sameGroup.length>0)for(var m=r.originalPosition.left-r.position.left,p=r.originalPosition.top-r.position.top,v=0;v<t.groupMove.sameGroup.length;v++){var g=t.groupMove.sameGroup[v];punchgs.TweenLite.set(g.references.htmlLayer,{left:g.positionCache.left-m,top:g.positionCache.top-p})}switch(t.getVal(y,\"align_hor\")){case\"left\":d=n;break;case\"right\":d=u-n-selectedLayerWidth;break;case\"center\":d=n-Math.round((u-selectedLayerWidth)/2),d=Math.round(d);break;case\"left\":default:d=n}switch(t.getVal(y,\"align_vert\")){case\"bottom\":l=c-s-selectedlayerHeight;break;case\"middle\":l=s-Math.round((c-selectedlayerHeight)/2),l=Math.round(l);break;case\"top\":default:l=s}if(-1!==y.p_uid&&\"column\"===t.getObjLayerType(y.p_uid)&&(d=0,l=0),jQuery(\"#layer_left\").val(d+\"px\"),jQuery(\"#layer_top\").val(l+\"px\"),\"ende\"===e){var h={};h=t.setVal(h,\"left\",d),h=t.setVal(h,\"top\",l),h=t.setVal(h,\"width\",selectedLayerWidth),h=t.setVal(h,\"height\",selectedlayerHeight),t.updateLayer(r,h),t.updateHtmlLayerPosition(!1,y,t.getVal(h,\"top\"),t.getVal(h,\"left\"),t.getVal(y,\"align_hor\"),t.getVal(y,\"align_vert\")),isLayerSelected(r)&&t.updateLayerFormFields(r)}},t.getObjLayerType=function(e){var r=t.getLayerByUniqueId(e);return!!r.type&&r.type};var scaleAndResetLayerInit=function(){jQuery(\"#layer_scaleX\").change(function(){jQuery(\"#layer_proportional_scale\")[0].checked?scaleProportional(!0):scaleNormal()}),jQuery(\"#layer_scaleY\").change(function(){jQuery(\"#layer_proportional_scale\")[0].checked?scaleProportional(!1):scaleNormal()}),jQuery(\"#layer_video_width\").change(function(){jQuery(\"#layer_proportional_scale\")[0].checked?scaleProportionalVideo(!0):scaleNormalVideo()}),jQuery(\"#layer_video_height\").change(function(){jQuery(\"#layer_proportional_scale\")[0].checked?scaleProportionalVideo(!1):scaleNormalVideo()}),jQuery(\"#layer_proportional_scale\").click(function(){var e=t.getLayer(t.selectedLayerSerial);this.checked?(jQuery('#layer_cover_mode option[value=\"custom\"]').attr(\"selected\",!0),jQuery(\".rs-proportion-check\").removeClass(\"notselected\"),\"video\"===e.type||\"audio\"===e.type?scaleProportionalVideo(!1):\"image\"===e.type&&scaleProportional(!0)):(jQuery(\".rs-proportion-check\").addClass(\"notselected\"),\"video\"===e.type||\"audio\"===e.type?scaleNormalVideo(!1):\"image\"===e.type&&scaleNormal()),t.setLayerResizable(e)}),jQuery(\"#layer_auto_line_break\").click(function(){t.clickOnAutoLineBreak()}),jQuery(\"#layer_displaymode\").click(function(){jQuery(this)[0].checked?jQuery(\"#layer_display option[value='block']\").attr(\"selected\",\"selected\"):jQuery(\"#layer_display option[value='inline-block']\").attr(\"selected\",\"selected\")}),jQuery(\"#layer_cover_mode\").change(function(){t.set_cover_mode()}),jQuery(\"#reset-scale, #button_reset_size\").click(resetCurrentElementSize)};t.clickOnAutoLineBreak=function(){var e=t.selectedLayerSerial,r=jQuery(\"#slide_layer_\"+e);t.getLayer(t.selectedLayerSerial);if(jQuery(\"#layer_auto_line_break\")[0].checked){jQuery(\".rs-linebreak-check\").removeClass(\"notselected\"),jQuery(\"#layer_whitespace option[value='normal']\").attr(\"selected\",\"selected\");var a=r.outerWidth()+1,i=r.outerHeight()+1;r.css({height:\"auto\"}),r.find(\".innerslide_layer.tp-caption\").first().css({maxHeight:\"none\",minHeight:i,maxWidth:a}),jQuery(\"#layer_max_width\").val(a+\"px\"),jQuery(\"#layer_max_height\").val(\"auto\")}else jQuery(\".rs-linebreak-check\").addClass(\"notselected\"),jQuery(\"#layer_whitespace option[value='nowrap']\").attr(\"selected\",\"selected\"),jQuery(\"#layer_max_width\").val(\"auto\"),jQuery(\"#layer_max_height\").val(\"auto\"),r.css({width:\"auto\"}),r.find(\".innerslide_layer.tp-caption\").first().css({maxHeight:\"none\",minHeight:\"none\",maxWidth:\"none\"});t.updateLayerFromFields()};var resetCurrentElementSize=function(){var e=t.getLayer(t.selectedLayerSerial);if(\"shape\"==e.type)return!1;if(\"svg\"==e.type)return!1;if(\"audio\"==e.type)return!1;if(\"text\"==e.type||\"button\"==e.type){var r=jQuery(\".slide_layer.layer_selected .innerslide_layer\").first().outerWidth();parseInt(jQuery(\"#layer_max_width\").val(),0)>r&&(r=void 0===r?\"auto\":r+\"px\",jQuery(\"#layer_max_width\").val(\"auto\")),jQuery(\"#layer_max_height\").val(\"auto\")}else{\"image\"==e.type&&jQuery('#layer_cover_mode option[value=\"custom\"]').attr(\"selected\",!0);var a=resetImageDimensions();jQuery(\"#layer_proportional_scale\").attr(\"checked\",!0),jQuery(\"#layer_scaleX_text\").html(jQuery(\"#layer_scaleX_text\").data(\"textnormal\")).css(\"width\",\"10px\");var i=null!=e.image_librarysize?e.image_librarysize.width:a.width,o=null!=e.image_librarysize?e.image_librarysize.height:a.height;jQuery(\"#layer_scaleX\").val(i),jQuery(\"#layer_scaleY\").val(o),jQuery(\"#slide_layer_\"+t.selectedLayerSerial+\" img\").css(\"width\",i),jQuery(\"#slide_layer_\"+t.selectedLayerSerial+\" img\").css(\"height\",o)}t.updateLayerFromFields()},scaleProportional=function(e){var r=t.selectedLayerSerial;resetImageDimensions();var a,i,o,s,n,l=new Image;l.src=jQuery(\"#slide_layer_\"+r+\" img\").attr(\"src\"),e?(n=jQuery(\"#layer_scaleX\").val(),a=parseFloat(n),o=n.replace(a,\"\"),isNaN(a)&&(a=\"%\"===o?100:l.width),i=\"%\"===o?\"auto\":Math.round(100/l.width*a/100*l.height,0),s=\"\"):(n=jQuery(\"#layer_scaleY\").val(),i=parseFloat(n),s=n.replace(i,\"\"),isNaN(i)&&(i=\"%\"===s?100:l.height),a=\"%\"===s?\"auto\":Math.round(100/l.height*i/100*l.width,0),o=\"\"),jQuery(\"#slide_layer_\"+r+\" img\").css(\"width\",a+o),jQuery(\"#slide_layer_\"+r+\" img\").css(\"height\",i+s),jQuery(\"#slide_layer_\"+r).css(\"width\",jQuery(\"#slide_layer_\"+r+\" img\").width()+o),jQuery(\"#slide_layer_\"+r).css(\"height\",jQuery(\"#slide_layer_\"+r+\" img\").height()+s),jQuery(\"#slide_layer_\"+r+\" img\").css(\"width\",\"100%\"),jQuery(\"#slide_layer_\"+r+\" img\").css(\"height\",\"100%\"),jQuery(\"#layer_scaleX\").val(a+o),jQuery(\"#layer_scaleY\").val(i+s)},scaleNormal=function(){var e=t.selectedLayerSerial,r=(resetImageDimensions(),jQuery(\"#slide_layer_\"+e)),a=jQuery(\"#layer_scaleX\").val(),i=jQuery(\"#layer_scaleY\").val();a=jQuery.isNumeric(a)?a+\"px\":a,i=jQuery.isNumeric(i)?i+\"px\":i,punchgs.TweenLite.set(r,{width:a,height:i}),punchgs.TweenLite.set(r.find(\".innerslide_layer\").first(),{width:a,height:i}),punchgs.TweenLite.set(r.find(\"img\"),{width:a,height:i})},scaleProportionalVideo=function(e){var r=t.selectedLayerSerial,a=jQuery(\"#slide_layer_\"+r).find(\".slide_layer_video\");if(e){var i=parseInt(jQuery(\"#layer_video_width\").val());isNaN(i)&&(i=a.width());var o=Math.round(100/a.width()*i/100*a.height(),0)}else{o=parseInt(jQuery(\"#layer_video_height\").val());isNaN(o)&&(o=a.height());i=Math.round(100/a.height()*o/100*a.width(),0)}a.css(\"width\",i+\"px\"),a.css(\"height\",o+\"px\"),jQuery(\"#slide_layer_\"+r).css(\"width\",i+\"px\"),jQuery(\"#slide_layer_\"+r).css(\"height\",o+\"px\"),jQuery(\"#layer_video_width\").val(i),jQuery(\"#layer_video_height\").val(o)},scaleNormalVideo=function(){var e=t.selectedLayerSerial,r=jQuery(\"#slide_layer_\"+e).find(\".slide_layer_video\"),a=jQuery(\"#layer_video_width\").val(),i=jQuery(\"#layer_video_height\").val();a=jQuery.isNumeric(a)?a+\"px\":a,i=jQuery.isNumeric(i)?i+\"px\":i,r.css(\"width\",a),r.css(\"height\",i),jQuery(\"#slide_layer_\"+e).css(\"width\",a),jQuery(\"#slide_layer_\"+e).css(\"height\",i)},resetImageDimensions=function(){var e=new Image;return e.src=jQuery(\"#slide_layer_\"+t.selectedLayerSerial+\" img\").attr(\"src\"),jQuery(\"#slide_layer_\"+t.selectedLayerSerial).css(\"width\",e.width+\"px\"),jQuery(\"#slide_layer_\"+t.selectedLayerSerial).css(\"height\",e.height+\"px\"),{width:e.width,height:e.height}};t.getLayerGeneralParamsStatus=function(){return layerGeneralParamsStatus},t.startKenBurn=function(e){var t=jQuery(\"#ken_burn_example\"),r=t.data(),a=(t.find(\".defaultimg\"),r.lastsrc),i=(r.owidth,r.oheight,t.width()),o=t.height();if(t.data(\"kbtl\")&&t.data(\"kbtl\").kill(),e=e||0,void 0!==a){t.find(\".tp-kbimg\").remove(),0==t.find(\".tp-kbimg\").length&&(t.append('<div class=\"tp-kbimg-wrap\" style=\"z-index:2;width:100%;height:100%;top:0px;left:0px;position:absolute;\"><img class=\"tp-kbimg\" src=\"'+a+'\" style=\"position:absolute;\" width=\"'+r.owidth+'\" height=\"'+r.oheight+'\"></div>'),t.data(\"kenburn\",t.find(\".tp-kbimg\")));var s=function(e,t,r,a,i,o,s){var n=e*r,l=t*r,d=Math.abs(a-n),y=Math.abs(i-l),u=new Object;return u.l=(0-o)*d,u.r=u.l+n,u.t=(0-s)*y,u.b=u.t+l,u.h=o,u.v=s,u};null!=t.data(\"kbtl\")&&(t.data(\"kbtl\").kill(),t.removeData(\"kbtl\"));var n=t.data(\"kenburn\"),l=n.parent(),d=function(e,t,r){var a=r.scalestart/100,i=r.scaleend/100,o=null!=r.offsetstart&&r.offsetstart.split(\" \")||[0,0],n=null!=r.offsetend&&r.offsetend.split(\" \")||[0,0];r.bgposition=\"center center\"==r.bgposition?\"50% 50%\":r.bgposition;var l=new Object;r.owidth,r.oheight,r.owidth,r.oheight;if(l.start=new Object,l.starto=new Object,l.end=new Object,l.endo=new Object,l.start.width=e,l.start.height=l.start.width/r.owidth*r.oheight,l.start.height<t){var d=t/l.start.height;l.start.height=t,l.start.width=l.start.width*d}l.start.transformOrigin=r.bgposition,l.start.scale=a,l.end.scale=i,l.start.rotation=r.rotatestart+\"deg\",l.end.rotation=r.rotateend+\"deg\";var y=function(e,t,r,a,i){var o=e.bgposition.split(\" \")||\"center center\",n=\"center\"==o[0]?\"50%\":\"left\"==o[0]||\"left\"==o[1]?\"0%\":\"right\"==o[0]||\"right\"==o[1]?\"100%\":o[0],l=\"center\"==o[1]?\"50%\":\"top\"==o[0]||\"top\"==o[1]?\"0%\":\"bottom\"==o[0]||\"bottom\"==o[1]?\"100%\":o[1];n=parseInt(n,0)/100||0,l=parseInt(l,0)/100||0;var d=new Object;return d.start=s(i.start.width,i.start.height,i.start.scale,t,r,n,l),d.end=s(i.start.width,i.start.height,i.end.scale,t,r,n,l),d}(r,e,t,0,l);o[0]=parseFloat(o[0])+y.start.l,n[0]=parseFloat(n[0])+y.end.l,o[1]=parseFloat(o[1])+y.start.t,n[1]=parseFloat(n[1])+y.end.t;var u=y.start.r-y.start.l,c=y.start.b-y.start.t,_=y.end.r-y.end.l,m=y.end.b-y.end.t;return o[0]=o[0]>0?0:u+o[0]<e?e-u:o[0],n[0]=n[0]>0?0:_+n[0]<e?e-_:n[0],l.starto.x=o[0]+\"px\",l.endo.x=n[0]+\"px\",o[1]=o[1]>0?0:c+o[1]<t?t-c:o[1],n[1]=n[1]>0?0:m+n[1]<t?t-m:n[1],l.starto.y=o[1]+\"px\",l.endo.y=n[1]+\"px\",l.end.ease=l.endo.ease=r.ease,l.end.force3D=l.endo.force3D=!0,l}(i,o,r),y=new punchgs.TimelineLite;y.pause(),d.start.transformOrigin=\"0% 0%\",d.starto.transformOrigin=\"0% 0%\",y.add(punchgs.TweenLite.fromTo(n,r.duration/1e3,d.start,d.end),0),y.add(punchgs.TweenLite.fromTo(l,r.duration/1e3,d.starto,d.endo),0),y.progress(e),jQuery(\"#kenburn-playpause-wrapper\").hasClass(\"playing\")?y.play(0):y.pause(),y.eventCallback(\"onComplete\",function(){y.play(0)}),t.data(\"kbtl\",y)}},t.updateKenBurnExampleValues=function(){var e=new Image,r=jQuery(\"#ken_burn_slot_example\").data(\"src\"),a=jQuery(\"#ken_burn_example\").data(\"lastsrc\");jQuery(\"#ken_burn_slot_example\").data(\"inload\")||(r!==a?(jQuery(\"#ken_burn_slot_example\").data(\"inload\",!0),e.onload=function(){jQuery(\"#ken_burn_example\").data({lastsrc:this.src,owidth:this.width,oheight:this.height,bgposition:jQuery(\"#slide_bg_position\").val(),duration:parseInt(jQuery(\"#kb_duration\").val(),0),rotatestart:parseInt(jQuery(\"#kb_start_rotate\").val(),0),rotateend:parseInt(jQuery(\"#kb_end_rotate\").val(),0),scalestart:parseInt(jQuery(\"#kb_start_fit\").val(),0),scaleend:parseInt(jQuery(\"#kb_end_fit\").val(),0),offsetstart:jQuery(\"#kb_start_offset_x\").val()+\" \"+jQuery(\"#kb_start_offset_y\").val(),offsetend:jQuery(\"#kb_end_offset_x\").val()+\" \"+jQuery(\"#kb_end_offset_y\").val(),ease:jQuery(\"#kb_easing\").val()}),jQuery(\"#ken_burn_slot_example\").data(\"inload\",!1),t.startKenBurn()},e.onerror=function(){console.log(\"Ken Burn Demo Image could not be Loaded\")},e.onabort=function(){console.log(\"Ken Burn Demo Image could not be Loaded\")},e.src=r):(jQuery(\"#ken_burn_example\").data({lastsrc:jQuery(\"#ken_burn_slot_example\").data(\"src\"),owidth:jQuery(\"#ken_burn_example\").data(\"owdith\"),oheight:jQuery(\"#ken_burn_example\").data(\"oheight\"),bgposition:jQuery(\"#slide_bg_position\").val(),duration:parseInt(jQuery(\"#kb_duration\").val(),0),rotatestart:parseInt(jQuery(\"#kb_start_rotate\").val(),0),rotateend:parseInt(jQuery(\"#kb_end_rotate\").val(),0),scalestart:parseInt(jQuery(\"#kb_start_fit\").val(),0),scaleend:parseInt(jQuery(\"#kb_end_fit\").val(),0),offsetstart:jQuery(\"#kb_start_offset_x\").val()+\" \"+jQuery(\"#kb_start_offset_y\").val(),offsetend:jQuery(\"#kb_end_offset_x\").val()+\" \"+jQuery(\"#kb_end_offset_y\").val(),ease:jQuery(\"#kb_easing\").val()}),t.startKenBurn()))};var buildKenBurnExample=function(){var e=jQuery(\"#ken_burn_example\"),r=(jQuery(\"#ken_burn_slot_example\"),jQuery(\"#divLayers\")),a=e.width()/r.width()*r.height();e.css({height:a+\"px\"}),t.updateKenBurnExampleValues()},initBackgroundFunctions=function(){jQuery(\"body\").on(\"change\",'select[name=\"layer_target[]\"]',function(){jQuery(this).data(\"selectoption\",jQuery(this).find(\"option:selected\").val());var e=t.getAnimTimingAndTrigger(jQuery(this).find(\"option:selected\").val());jQuery(this).closest(\"li\").find('select[name=\"do-layer-animation-overwrite[]\"] option[value=\"'+e.animation_overwrite+'\"]').attr(\"selected\",!0),jQuery(this).closest(\"li\").find('select[name=\"do-layer-trigger-memory[]\"] option[value=\"'+e.trigger_memory+'\"]').attr(\"selected\",!0)}),jQuery(\"body\").on(\"change\",'select[name=\"jump_to_slide[]\"]',function(){jQuery(this).data(\"selectoption\",jQuery(this).find(\"option:selected\").val())}),jQuery(\"body\").on(\"change\",'select[name=\"do-layer-animation-overwrite[]\"]',function(){var e=jQuery(this).closest(\"li\").find('select[name=\"layer_target[]\"] option:selected').val(),r=jQuery(this).val(),a=t.getLayerIdByUniqueId(e),i={};i.animation_overwrite=r,update_layer_changes=!1,t.updateLayer(a,i),update_layer_changes=!0,t.getLayer(t.selectedLayerSerial).unique_id==e&&jQuery('#layer-animation-overwrite option[value=\"'+r+'\"]').attr(\"selected\",!0),jQuery('select[name=\"layer_target[]\"] option:selected').each(function(){jQuery(this).val()==e&&jQuery(this).closest(\"li\").find('select[name=\"do-layer-animation-overwrite[]\"] option[value=\"'+r+'\"]').attr(\"selected\",!0)})}),jQuery(\"body\").on(\"change\",'select[name=\"do-layer-trigger-memory[]\"]',function(){var e=jQuery(this).closest(\"li\").find('select[name=\"layer_target[]\"] option:selected').val(),r=jQuery(this).val(),a=t.getLayerIdByUniqueId(e),i={};i.trigger_memory=r,update_layer_changes=!1,t.updateLayer(a,i),update_layer_changes=!0,t.getLayer(t.selectedLayerSerial).unique_id==e&&jQuery('#layer-tigger-memory option[value=\"'+r+'\"]').attr(\"selected\",!0),jQuery('select[name=\"layer_target[]\"] option:selected').each(function(){jQuery(this).val()==e&&jQuery(this).closest(\"li\").find('select[name=\"do-layer-trigger-memory[]\"] option[value=\"'+r+'\"]').attr(\"selected\",!0)})}),jQuery(\"#slide_bg_fit\").change(function(){\"percentage\"==jQuery(this).val()?(jQuery('input[name=\"bg_fit_x\"]').show(),jQuery('input[name=\"bg_fit_y\"]').show(),jQuery(\"#divbgholder\").css(\"background-size\",jQuery('input[name=\"bg_fit_x\"]').val()+\"% \"+jQuery('input[name=\"bg_fit_y\"]').val()+\"%\")):(jQuery('input[name=\"bg_fit_x\"]').hide(),jQuery('input[name=\"bg_fit_y\"]').hide(),jQuery(\"#divbgholder\").css(\"background-size\",jQuery(this).val())),\"contain\"==jQuery(this).val()?jQuery(\"#divLayers-wrapper\").css(\"maxWidth\",jQuery(\"#divbgholder\").css(\"minWidth\")):jQuery(\"#divLayers-wrapper\").css(\"maxWidth\",\"100%\")}),jQuery(\"#slide_bg_fit\").change(),jQuery('input[name=\"bg_fit_x\"]').change(function(){jQuery(\"#divbgholder\").css(\"background-size\",jQuery('input[name=\"bg_fit_x\"]').val()+\"% \"+jQuery('input[name=\"bg_fit_y\"]').val()+\"%\")}),jQuery('input[name=\"bg_fit_y\"]').change(function(){jQuery(\"#divbgholder\").css(\"background-size\",jQuery('input[name=\"bg_fit_x\"]').val()+\"% \"+jQuery('input[name=\"bg_fit_y\"]').val()+\"%\")}),jQuery(\"#slide_bg_position\").change(function(){\"percentage\"==jQuery(this).val()?(jQuery('input[name=\"bg_position_x\"]').show(),jQuery('input[name=\"bg_position_y\"]').show(),jQuery(\"#divbgholder\").css(\"background-position\",jQuery('input[name=\"bg_fit_x\"]').val()+\"% \"+jQuery('input[name=\"bg_fit_y\"]').val()+\"%\")):(jQuery('input[name=\"bg_position_x\"]').hide(),jQuery('input[name=\"bg_position_y\"]').hide(),jQuery(\"#divbgholder\").css(\"background-position\",jQuery(this).val()))}),jQuery('input[name=\"bg_position_x\"]').change(function(){jQuery(\"#divbgholder\").css(\"background-position\",jQuery('input[name=\"bg_position_x\"]').val()+\"% \"+jQuery('input[name=\"bg_position_y\"]').val()+\"%\")}),jQuery('input[name=\"bg_position_y\"]').change(function(){jQuery(\"#divbgholder\").css(\"background-position\",jQuery('input[name=\"bg_position_x\"]').val()+\"% \"+jQuery('input[name=\"bg_position_y\"]').val()+\"%\")}),jQuery(\"#slide_bg_repeat\").change(function(){jQuery(\"#divbgholder\").css(\"background-repeat\",jQuery(this).val())}),jQuery('input[name=\"kenburn_effect\"]').change(function(){jQuery(this)[0].checked?(jQuery(\"#kenburn_wrapper\").show(),jQuery(\"#divbgholder\").css(\"background-repeat\",\"\"),jQuery(\"#divbgholder\").css(\"background-position\",\"\"),jQuery(\"#divbgholder\").css(\"background-size\",\"\"),jQuery('input[name=\"kb_start_fit\"]').change(),jQuery(\"#divLayers-wrapper\").css(\"maxWidth\",\"none\"),jQuery(\"#slide_bg_position\").change(),jQuery(\"#bg-setting-bgfit-wrap\").css({display:\"none\"}),jQuery(\"#bg-setting-bgrep-wrap\").css({display:\"none\"}),jQuery(\"#bg-setting-bgpos-wrap\").prependTo(\"#kenburn_wrapper\"),buildKenBurnExample()):(jQuery(\"#kenburn_wrapper\").hide(),jQuery(\"#slide_bg_repeat\").change(),jQuery(\"#slide_bg_position\").change(),jQuery(\"#slide_bg_fit\").change(),jQuery(\"#bg-setting-bgfit-wrap\").show(),jQuery(\"#bg-setting-bgrep-wrap\").show(),jQuery(\"#bg-setting-bgpos-wrap\").appendTo(\"#bg-setting-bgpos-def-wrap\"),\"contain\"==jQuery(\"#slide_bg_fit\").val()?jQuery(\"#divLayers-wrapper\").css(\"maxWidth\",jQuery(\"#divbgholder\").css(\"minWidth\")):jQuery(\"#divLayers-wrapper\").css(\"maxWidth\",\"100%\")),t.changeSlotBGs()}),jQuery('input[name=\"kenburn_effect\"]:checked').change(),jQuery(\"body\").on(\"mouseenter\",\".inst-filter-griditem\",function(){punchgs.TweenLite.to(jQuery(this).find(\".inst-filter-griditem-img\"),.5,{autoAlpha:0})}),jQuery(\"body\").on(\"mouseleave\",\".inst-filter-griditem\",function(){punchgs.TweenLite.to(jQuery(this).find(\".inst-filter-griditem-img\"),.5,{autoAlpha:1})}),jQuery(\"body\").on(\"click\",\".inst-filter-griditem\",function(){var e=jQuery(this);jQuery(\"#media-filter-type option:selected\").prop(\"selected\",!1),jQuery('#media-filter-type option[value=\"'+e.data(\"type\")+'\"]').attr(\"selected\",\"selected\"),jQuery(\".inst-filter-griditem.selected\").removeClass(\"selected\"),e.addClass(\"selected\"),jQuery(\".oldslotholder\").attr(\"class\",\"oldslotholder \"+e.data(\"type\")),jQuery(\".slotholder\").attr(\"class\",\"slotholder \"+e.data(\"type\"))});var e=jQuery(\"#media-filter-type option:selected\").val();void 0!==e&&(jQuery(\".inst-filter-griditem.selected\").removeClass(\"selected\"),jQuery(\".inst-filter-griditem.filter_\"+e).addClass(\"selected\"),jQuery(\".oldslotholder\").attr(\"class\",\"oldslotholder \"+e),jQuery(\".slotholder\").attr(\"class\",\"slotholder \"+e)),jQuery(\"#slide_bg_end_position\").change(function(){\"percentage\"==jQuery(this).val()?(jQuery('input[name=\"bg_end_position_x\"]').show(),jQuery('input[name=\"bg_end_position_y\"]').show()):(jQuery('input[name=\"bg_end_position_x\"]').hide(),jQuery('input[name=\"bg_end_position_y\"]').hide())}),jQuery('input[name=\"kb_start_fit\"]').change(function(){var e=parseInt(jQuery(this).val()),a=new Image;a.onload=function(){r(e,a.width,a.height,jQuery(\"#divbgholder\"))};var i=\"\";jQuery(\"#radio_back_image\")[0].checked?i=jQuery(\"#image_url\").val():jQuery(\"#radio_back_external\")[0].checked&&(i=jQuery(\"#slide_bg_external\").val()),\"\"!=i&&(a.src=i),t.changeSlotBGs()});var r=function(e,r,a,i){var o=r,s=a;i.width(),i.height();e+=\"%\";jQuery(\"#divbgholder\").css(\"background-size\",e+\" auto\"),t.changeSlotBGs()};jQuery(\"#layer_resize-full\").change(function(){jQuery(this)[0].checked||(jQuery(\"#layer_resizeme\").prop(\"checked\",!1),RevSliderSettings.onoffStatus(jQuery(\"#layer_resizeme\")))}),jQuery(\"#layer_resizeme\").change(function(){jQuery(this)[0].checked&&(jQuery(\"#layer_resize-full\").prop(\"checked\",!0),RevSliderSettings.onoffStatus(jQuery(\"#layer_resize-full\")))}),jQuery(window).resize(function(){if(\"on\"==jQuery('input[name=\"kenburn_effect\"]:checked').val()){var e=parseInt(jQuery('input[name=\"kb_start_fit\"]').val()),a=new Image;a.onload=function(){r(e,a.width,a.height,jQuery(\"#divbgholder\"))};var i=\"\";jQuery(\"#radio_back_image\")[0].checked?i=jQuery(\"#image_url\").val():jQuery(\"#radio_back_external\")[0].checked&&(i=jQuery(\"#slide_bg_external\").val()),\"\"!=i&&(a.src=i)}t.setObjectLibraryHeight()})},initLoopFunctions=function(){jQuery('select[name=\"layer_loop_animation\"]').change(function(){showHideLoopFunctions()}),jQuery(\"#layer_static_start\").change(function(){changeEndStaticFunctions()})},showHideLoopFunctions=function(){jQuery('select[name=\"layer_loop_animation\"]').each(function(){switch(jQuery(\"#layer_easing_wrapper\").hide(),jQuery(\"#layer_speed_wrapper\").hide(),jQuery(\"#layer_parameters_wrapper\").hide(),jQuery(\"#layer_degree_wrapper\").hide(),jQuery(\"#layer_origin_wrapper\").hide(),jQuery(\"#layer_x_wrapper\").hide(),jQuery(\"#layer_y_wrapper\").hide(),jQuery(\"#layer_zoom_wrapper\").hide(),jQuery(\"#layer_angle_wrapper\").hide(),jQuery(\"#layer_radius_wrapper\").hide(),jQuery(this).val()){case\"none\":break;case\"rs-pendulum\":case\"rs-rotate\":jQuery(\"#layer_easing_wrapper\").show(),jQuery(\"#layer_speed_wrapper\").show(),jQuery(\"#layer_parameters_wrapper\").show(),jQuery(\"#layer_degree_wrapper\").show(),jQuery(\"#layer_origin_wrapper\").show();break;case\"rs-slideloop\":jQuery(\"#layer_easing_wrapper\").show(),jQuery(\"#layer_speed_wrapper\").show(),jQuery(\"#layer_parameters_wrapper\").show(),jQuery(\"#layer_x_wrapper\").show(),jQuery(\"#layer_y_wrapper\").show();break;case\"rs-pulse\":jQuery(\"#layer_easing_wrapper\").show(),jQuery(\"#layer_speed_wrapper\").show(),jQuery(\"#layer_parameters_wrapper\").show(),jQuery(\"#layer_zoom_wrapper\").show();break;case\"rs-wave\":jQuery(\"#layer_speed_wrapper\").show(),jQuery(\"#layer_parameters_wrapper\").show(),jQuery(\"#layer_angle_wrapper\").show(),jQuery(\"#layer_radius_wrapper\").show(),jQuery(\"#layer_origin_wrapper\").show()}})},changeEndStaticFunctions=function(){jQuery(\"#layer_static_start\").each(function(){var e=parseInt(jQuery(this).val()),t=jQuery(\"#layer_static_end option:selected\").val(),r=parseInt(jQuery(\"#layer_static_start option:last-child\").val());jQuery(\"#layer_static_end\").empty();for(var a=e+1;a<=r;a++)jQuery(\"#layer_static_end\").append('<option value=\"'+a+'\">'+a+\"</option>\");jQuery(\"#layer_static_end\").append('<option value=\"last\">'+rev_lang.last_slide+\"</option>\"),jQuery(\"#layer_static_end option[value='\"+t+\"']\").attr(\"selected\",\"selected\")})};t.get_current_selected_layer=function(){return t.selectedLayerSerial},t.addPreventLeave=function(){window.onbeforeunload=function(e){if(save_needed){var t=rev_lang.leave_not_saved;return(e=e||window.event)&&(e.returnValue=t),t}}}};return jQuery(document).ready(function(){UniteLayersRev.setGlobalAction(wp.template(\"rs-action-layer-wrap\")),UniteLayersRev.setGlobalSlideImport(wp.template(\"rs-import-layer-wrap\"))}),window.UniteLayersRev=UniteLayersRev,UniteLayersRev});","Nwdthemes_Revslider/admin/assets/js/css_editor.min.js":"define(\"cssEditor\",[\"jquery\",\"rsCodeMirror\",\"admin\"],function(e,t,a){return new function(){var n=this,r=[],s=\".tp-caption\",i=new Object,o=new Object,l=null,c=null,d=null,_={\"background-color\":\"backgroundColor\",\"border-color\":\"borderColor\",\"border-radius\":\"borderRadius\",\"border-style\":\"borderStyle\",\"border-width\":\"borderWidth\",color:\"color\",\"font-family\":\"fontFamily\",\"font-size\":\"fontSize\",\"font-style\":\"fontStyle\",\"font-weight\":\"fontWeight\",\"line-height\":\"lineHeight\",opacity:\"opacity\",padding:\"padding\",\"text-decoration\":\"textDecoration\"},v=\"idle\";n.setInitCssStyles=function(t){r=e.parseJSON(t)},n.setInitCssStylesObj=function(e){r=e},n.init=function(e,t){n.UniteLayersRev=e,n.tpLayerTimelinesRev=t,u(),n.initAdvancedEditor()};var p=function(){o.params=i},u=function(){e(\".rev-advanced-css-idle, .rev-advanced-css-hover\").click(function(){return-1!==n.UniteLayersRev.get_current_selected_layer()&&(!0!==n.UniteLayersRev.getCurrentLayer().hover?e(\"#change_acea_wrappers\").hide():e(\"#change_acea_wrappers\").show(),n.checkIfHandleExists(e(\"#layer_caption\").val())?(v=e(this).hasClass(\"rev-advanced-css-idle\")?\"idle\":\"hover\",void e(\"#dialog_advanced_css\").dialog({modal:!0,resizable:!1,title:\"Currently editing: \"+e(\"#layer_caption\").val(),minWidth:700,minHeight:500,closeOnEscape:!0,dialogClass:\"tpdialogs\",open:function(){e(\".current-advance-edited-class\").text(e(\"#layer_caption\").val()),e(this).closest(\".ui-dialog\").find(\".ui-button\").each(function(t){var a;0==t&&(a=\"revgray\"),1==t&&(a=\"revgreen\"),2==t&&(a=\"revred\"),3==t&&(a=\"revred\"),e(this).addClass(a).addClass(\"button-primary\").addClass(\"rev-uibuttons\")}),null!=c&&c.refresh(),null!=l&&l.refresh(),n.setTemplateCssUneditable(),n.setTemplateCssEditable()},buttons:{Save:function(){n.saveTemplateStylesInDb(),p()},Cancel:function(){e(this).dialog(\"close\")}}})):(alert(rev_lang.please_select_first_an_existing_style),!1))}),e(\".rev-advanced-css-idle-layer, .rev-advanced-css-hover-layer\").click(function(){if(-1===n.UniteLayersRev.get_current_selected_layer())return!1;v=e(this).hasClass(\"rev-advanced-css-idle-layer\")?\"idle\":\"hover\",e(\"#dialog_advanced_layer_css\").dialog({modal:!0,resizable:!1,minWidth:700,minHeight:500,closeOnEscape:!0,dialogClass:\"tpdialogs\",open:function(){e(this).closest(\".ui-dialog\").find(\".ui-button\").each(function(t){var a;0==t&&(a=\"revgray\"),1==t&&(a=\"revgreen\"),2==t&&(a=\"revred\"),3==t&&(a=\"revred\"),e(this).addClass(a).addClass(\"button-primary\").addClass(\"rev-uibuttons\")}),null!=d&&d.refresh(),n.setTemplateCssLayer()},buttons:{Save:function(){y(),e(this).dialog(\"close\")},Cancel:function(){e(this).dialog(\"close\")}}})})};e(document).ready(function(){e(\"body\").on(\"click\",\"#change_ace_toidle\",function(){confirm(rev_lang.save_changes)&&y(),v=\"idle\",n.setTemplateCssLayer()}),e(\"body\").on(\"click\",\"#change_ace_tohover\",function(){confirm(rev_lang.save_changes)&&y(),v=\"hover\",n.setTemplateCssLayer()}),e(\"body\").on(\"click\",\"#change_acea_toidle\",function(){confirm(rev_lang.save_changes)&&(n.saveTemplateStylesInDb(),p()),v=\"idle\",n.setTemplateCssUneditable(),n.setTemplateCssEditable()}),e(\"body\").on(\"click\",\"#change_acea_tohover\",function(){confirm(rev_lang.save_changes)&&(n.saveTemplateStylesInDb(),p()),v=\"hover\",n.setTemplateCssUneditable(),n.setTemplateCssEditable()})}),n.initAdvancedEditor=function(){c=t.fromTextArea(document.getElementById(\"textarea_advanced_css_editor\"),{onChange:function(){},lineNumbers:!0}),l=t.fromTextArea(document.getElementById(\"textarea_template_css_editor_uneditable\"),{onChange:function(){},lineNumbers:!0,readOnly:!0}),d=t.fromTextArea(document.getElementById(\"textarea_template_css_editor_layer\"),{onChange:function(){},lineNumbers:!0,readOnly:!1})},n.setPreviewTextClass=function(){if(void 0!==o.handle){var t=o.handle.split(\".\");for(var a in t)t.hasOwnProperty(a)&&e(\"#rev-example-style-layer\").addClass(t[a])}e(\"#rev-example-style-layer\").parent().show()},n.clearPreviewText=function(){e(\"#rev-example-style-layer\").attr(\"style\",\"\"),e(\"#rev-example-style-layer\").attr(\"class\",\"\")},n.setTemplateCssUneditable=function(){e(\"#textarea_template_css_editor_uneditable\").val(\"\");var t=\"{\\n\";if(h(),\"idle\"===v?e(\".acsa_idle_or_hover\").html(\"- IDLE\"):e(\".acsa_idle_or_hover\").html(\"- HOVER\"),i=\"idle\"==v&&void 0!==o.params?o.params:\"hover\"==v&&void 0!==o.hover?o.hover:[],!e.isEmptyObject(i))for(var a in _)if(_.hasOwnProperty(a)){var r=\"\";\"undefined\"!==(r=\"object\"==typeof i[a]?i[a].join(\" \"):i[a])&&void 0!==r&&\"\"!==r&&\"none\"!==r&&(t+=\"\\t\"+a+\": \"+r+\";\\n\")}t+=\"}\",null!=l?l.setValue(t):(e(\"#textarea_template_css_editor_uneditable\").val(t),n.initAdvancedEditor()),l.refresh()},n.setTemplateCssEditable=function(){e(\"#textarea_advanced_css_editor\").val(\"\");var t=\"{\\n\";if(h(),\"idle\"==v&&void 0!==o.advanced&&void 0!==o.advanced.idle)var a=e.extend({},o.advanced.idle);else if(\"hover\"==v&&void 0!==o.advanced&&void 0!==o.advanced.hover)a=e.extend({},o.advanced.hover);else a=[];for(var r in a)if(a.hasOwnProperty(r)){var s=\"\";\"undefined\"!==(s=\"object\"==typeof a[r]?a[r].join(\" \"):a[r])&&void 0!==s&&\"\"!==s&&(t+=\"\\t\"+r+\": \"+s+\";\\n\")}t+=\"}\",null!=c?c.setValue(t):(e(\"#textarea_advanced_css_editor\").val(t),n.initAdvancedEditor()),c.refresh()},n.setTemplateCssLayer=function(){e(\"#textarea_template_css_editor_layer\").val(\"\");var t=\"{\\n\";h();var a=n.UniteLayersRev.getCurrentLayer();if(null===a)return!1;if(\"idle\"===v?e(\"#acs_idle_or_hover\").html(\"- IDLE\"):e(\"#acs_idle_or_hover\").html(\"- HOVER\"),a)if(\"idle\"==v&&void 0!==a.inline&&void 0!==a.inline.idle)var r=e.extend({},a.inline.idle);else if(\"hover\"==v&&void 0!==a.inline&&void 0!==a.inline.hover)r=e.extend({},a.inline.hover);else r=[];for(var s in r)if(r.hasOwnProperty(s)){var i=\"\";\"undefined\"!==(i=\"object\"==typeof r[s]?r[s].join(\" \"):r[s])&&void 0!==i&&\"\"!==i&&(t+=\"\\t\"+s+\": \"+i+\";\\n\")}t+=\"}\",null!=d?d.setValue(t):(e(\"#textarea_template_css_editor_layer\").val(t),n.initAdvancedEditor()),d.refresh()},n.saveStylesInDb=function(t,r,s){var i={idle:{},hover:{}},l=n.UniteLayersRev.getCurrentLayer();i.handle=t,i.idle.color=e('input[name=\"color_static\"]').val(),i.idle[\"color-transparency\"]=e('input[name=\"css_font-transparency\"]').val(),i.idle[\"font-size\"]=e('input[name=\"font_size_static\"]').val(),i.idle[\"line-height\"]=e('input[name=\"line_height_static\"]').val(),i.idle[\"font-weight\"]=e('select[name=\"font_weight_static\"] option:selected').val(),i.idle[\"font-style\"]=e('input[name=\"css_font-style\"]').is(\":checked\")?\"italic\":\"normal\",i.idle[\"font-family\"]=e('input[name=\"css_font-family\"]').val()?e('input[name=\"css_font-family\"]').val():\"Arial\",i.idle[\"text-decoration\"]=e('select[name=\"css_text-decoration\"] option:selected').val(),i.idle[\"text-align\"]=l[\"text-align\"],i.idle.margin=l.margin,i.idle.padding=l.padding,i.idle[\"background-color\"]=e('input[name=\"css_background-color\"]').val(),i.idle[\"background-transparency\"]=e('input[name=\"css_background-transparency\"]').val(),i.idle[\"border-color\"]=e('input[name=\"css_border-color-show\"]').val(),i.idle[\"border-transparency\"]=e('input[name=\"css_border-transparency\"]').val(),i.idle[\"border-style\"]=e('select[name=\"css_border-style\"] option:selected').val(),i.idle[\"border-width\"]={},e('input[name=\"css_border-width[]\"]').each(function(t){i.idle[\"border-width\"][t]=e(this).val()}),i.idle[\"border-radius\"]={},e('input[name=\"css_border-radius[]\"]').each(function(t){i.idle[\"border-radius\"][t]=e(this).val()}),i.idle.x=e('input[name=\"layer__x\"]').val(),i.idle.y=e('input[name=\"layer__y\"]').val(),i.idle.z=e('input[name=\"layer__z\"]').val(),i.idle.skewx=e('input[name=\"layer__skewx\"]').val(),i.idle.skewy=e('input[name=\"layer__skewy\"]').val(),i.idle.scalex=e('input[name=\"layer__scalex\"]').val(),i.idle.scaley=e('input[name=\"layer__scaley\"]').val(),i.idle.opacity=e('input[name=\"layer__opacity\"]').val(),i.idle.xrotate=e('input[name=\"layer__xrotate\"]').val(),i.idle.yrotate=e('input[name=\"layer__yrotate\"]').val(),i.idle[\"2d_rotation\"]=e('input[name=\"layer_2d_rotation\"]').val(),i.idle[\"2d_origin_x\"]=e('input[name=\"layer_2d_origin_x\"]').val(),i.idle[\"2d_origin_y\"]=e('input[name=\"layer_2d_origin_y\"]').val(),i.idle.pers=e('input[name=\"layer__pers\"]').val(),i.idle.corner_left=e('select[name=\"layer_cornerleft\"] option:selected').val(),i.idle.corner_right=e('select[name=\"layer_cornerright\"] option:selected').val(),i.idle.parallax=e('select[name=\"parallax_level\"] option:selected').val(),i.hover.color=e('input[name=\"hover_color_static\"]').val(),i.hover[\"color-transparency\"]=e('input[name=\"hover_css_font-transparency\"]').val(),i.hover[\"text-decoration\"]=e('select[name=\"hover_css_text-decoration\"] option:selected').val(),i.hover[\"background-color\"]=e('input[name=\"hover_css_background-color\"]').val(),i.hover[\"background-transparency\"]=e('input[name=\"hover_css_background-transparency\"]').val(),i.hover[\"border-color\"]=e('input[name=\"hover_css_border-color-show\"]').val(),i.hover[\"border-transparency\"]=e('input[name=\"hover_css_border-transparency\"]').val(),i.hover[\"border-style\"]=e('select[name=\"hover_css_border-style\"] option:selected').val(),i.hover[\"border-width\"]={},e('input[name=\"hover_css_border-width[]\"]').each(function(t){i.hover[\"border-width\"][t]=e(this).val()}),i.hover[\"border-radius\"]={},e('input[name=\"hover_css_border-radius[]\"]').each(function(t){i.hover[\"border-radius\"][t]=e(this).val()}),i.hover.opacity=e('input[name=\"hover_layer__opacity\"]').val(),i.hover.scalex=e('input[name=\"hover_layer__scalex\"]').val(),i.hover.scaley=e('input[name=\"hover_layer__scaley\"]').val(),i.hover.skewx=e('input[name=\"hover_layer__skewx\"]').val(),i.hover.skewy=e('input[name=\"hover_layer__skewy\"]').val(),i.hover.xrotate=e('input[name=\"hover_layer__xrotate\"]').val(),i.hover.yrotate=e('input[name=\"hover_layer__yrotate\"]').val(),i.hover[\"2d_rotation\"]=e('input[name=\"hover_layer_2d_rotation\"]').val(),i.hover.css_cursor=e('select[name=\"css_cursor\"] option:selected').val(),i.hover.pointer_events=e('select[name=\"pointer_events\"] option:selected').val(),i.hover.speed=e('input[name=\"hover_speed\"]').val(),i.hover.easing=e('select[name=\"hover_easing\"] option:selected').val(),l=n.UniteLayersRev.getCurrentLayer(),i.settings=new Object,i.settings.hover=e('input[name=\"hover_allow\"]').is(\":checked\"),i.settings.type=l.type,i.advanced={idle:{},hover:{}},h(),void 0!==o.advanced&&(void 0!==o.advanced.idle&&(i.advanced.idle=o.advanced.idle),void 0!==o.advanced.hover&&(i.advanced.hover=o.advanced.hover));var c=!0===r?\"insert_captions_css\":\"update_captions_css\";a.ajaxRequest(c,i,function(a){n.UniteLayersRev.setCaptionClasses(a.arrCaptions),n.updateCaptionsInput(a.arrCaptions),n.setInitCssStylesObj(a.initstyles),\"undefined\"!==a.compressed_css&&n.refresh_css(a.compressed_css),void 0!==s&&s.dialog(\"close\"),e(\"#layer_caption\").val(t),e(\"#layer_caption\").change()})},n.saveTemplateStylesInDb=function(){for(var t={},r=s+\".\"+e(\"#layer_caption\").val(),i=c.getValue();-1!==i.indexOf(\"/*\");){if(-1===i.indexOf(\"*/\"))return!1;var l=i.indexOf(\"/*\"),d=i.indexOf(\"*/\")+2;i=i.replace(i.substr(l,d-l),\"\")}if(i.indexOf(\"{\")>-1){var _=i.substr(0,i.indexOf(\"{\"));i=i.replace(_,\"\")}i.indexOf(\"}\")>-1&&(i=i.substr(0,i.indexOf(\"}\")));var p=(i=i.replace(/{/g,\"\").replace(/}/g,\"\").replace(/\t/g,\"\").replace(/\\n/g,\"\")).split(\";\"),u={};for(var y in p)if(p.hasOwnProperty(y)){if(\"\"==e.trim(p[y]))continue;var h=p[y].split(\":\");if(2!==h.length)continue;u[e.trim(h[0])]=e.trim(h[1])}e.isEmptyObject(u)&&(u=\"\"),t.handle=r,t.styles=u,t.type=v,a.ajaxRequest(\"update_captions_advanced_css\",t,function(a){if(!1!==a.success){n.UniteLayersRev.setCaptionClasses(a.arrCaptions),n.updateCaptionsInput(a.arrCaptions),n.setInitCssStylesObj(a.initstyles),\"undefined\"!==a.compressed_css&&n.refresh_css(a.compressed_css),o.advanced[t.type]=t.styles;var r=n.checkIfHandleExists(e(\"#layer_caption\").val());n.updateInitCssStyles(e(\"#layer_caption\").val(),r)}})};var y=function(){var t=n.UniteLayersRev.getCurrentLayer();if(null===t)return!1;for(var a=d.getValue();-1!==a.indexOf(\"/*\");){if(-1===a.indexOf(\"*/\"))return!1;var r=a.indexOf(\"/*\"),s=a.indexOf(\"*/\")+2;a=a.replace(a.substr(r,s-r),\"\")}if(a.indexOf(\"{\")>-1){var i=a.substr(0,a.indexOf(\"{\"));a=a.replace(i,\"\")}a.indexOf(\"}\")>-1&&(a=a.substr(0,a.indexOf(\"}\")));var o=(a=a.replace(/{/g,\"\").replace(/}/g,\"\").replace(/\t/g,\"\").replace(/\\n/g,\"\")).split(\";\"),l={};for(var c in o)if(o.hasOwnProperty(c)){if(\"\"==e.trim(o[c]))continue;var _=o[c].split(\":\");if(2!==_.length)continue;l[e.trim(_[0])]=e.trim(_[1])}void 0===t.inline&&(t.inline={}),void 0===t.inline[v]&&(t.inline[v]={}),t.inline[v]=l,n.tpLayerTimelinesRev.rebuildLayerIdle(e(\".slide_layer.layer_selected\"))};n.renameStylesInDb=function(t,r){var s={};s.old_name=t,s.new_name=r,a.ajaxRequest(\"rename_captions_css\",s,function(a){n.UniteLayersRev.setCaptionClasses(a.arrCaptions),n.updateCaptionsInput(a.arrCaptions),n.setInitCssStylesObj(a.initstyles),\"undefined\"!==a.compressed_css&&n.refresh_css(a.compressed_css);var s={};s.style=r;var i=n.UniteLayersRev.getSimpleLayers();for(var o in i)i.hasOwnProperty(o)&&i[o].style==t&&n.UniteLayersRev.updateLayer(o,s);e(\"#layer_caption\").val(r),e(\"#layer_caption\").change(),e(\"#dialog_rename_css\").dialog(\"close\")}),n.updateInitCssStyles(t,-1),o=new Object,i=new Object},n.deleteStylesInDb=function(t,r){a.setErrorMessageID(\"dialog_error_message\"),a.ajaxRequest(\"delete_captions_css\",t,function(e){n.UniteLayersRev.setCaptionClasses(e.arrCaptions),n.updateCaptionsInput(e.arrCaptions),n.setInitCssStylesObj(e.initstyles),\"undefined\"!==e.compressed_css&&n.refresh_css(e.compressed_css)}),n.updateInitCssStyles(t,r,!0),e(\"#layer_caption\").val(\"\"),o=new Object,i=new Object};var h=function(){for(var t in o=new Object,r)if(r.hasOwnProperty(t)&&r[t].handle==s+\".\"+e(\"#layer_caption\").val()){o=e.extend({},r[t]);break}};n.checkIfHandleExists=function(e){for(var t in r)if(r.hasOwnProperty(t)&&r[t].handle==s+\".\"+e)return t;return!1},n.updateCaptionsInput=function(t){layer=n.UniteLayersRev.getCurrentLayer();var a=[];if(!1!==layer)switch(layer.type){case\"image\":for(var r in t)t.hasOwnProperty(r)&&\"image\"==t[r].type&&a.push(t[r]);break;case\"button\":for(var r in t)t.hasOwnProperty(r)&&\"button\"==t[r].type&&a.push(t[r]);break;case\"shape\":for(var r in t)t.hasOwnProperty(r)&&\"shape\"==t[r].type&&a.push(t[r]);break;default:for(var r in t)t.hasOwnProperty(r)&&\"text\"==t[r].type&&a.push(t[r])}e(\"#layer_caption\").catcomplete(\"option\",\"source\",a)},n.updateInitCssStyles=function(e,t,a){var n=!1;for(var i in r)if(r.hasOwnProperty(i)&&r[i].handle==s+\".\"+e){n=i;break}return void 0!==a?(delete r[n],!0):(!1===n&&(n=r.length),!1===t&&(t=r.length,r[n]=new Object,r[n].id=t,r[n].handle=s+\".\"+e,r[n].params=[],r[n].hover=[],r[n].settings=[],r[n].advanced={hover:{},idle:{}}),r[n].params=o.params,r[n].hover=o.hover,r[n].advanced=o.advanced,void 0===r[n].settings&&(r[n].settings=new Object),r[n].settings.hover=!1,r[n])},n.refresh_css=function(t){var a=e(\"#rs-inline-captions-css\");a.is(\"style\")&&a.html(t)},n.getStyleSettingsByHandle=function(e){for(var t in r)if(r.hasOwnProperty(t)&&r[t].handle==s+\".\"+e)return r[t];return!1},n.set_state=function(t,a,n,r,s,i){if(void 0===i)switch(s){case\"select\":i=e(n+\" option:selected\").val();break;case\"multi\":i={},e(n).each(function(t){i[t]=e(this).val()});break;default:i=e(n).val()}var o=\"\";if(void 0!==e(n).data(\"suffix\")&&(o=e(n).data(\"suffix\")),void 0===t[a]){if(r==i||r+o==i?(e(n).removeClass(\"differentthandefault\"),e(n).css(\"color\",\"#777\")):e(n).addClass(\"differentthandefault\"),\"object\"==typeof r){var l=\"\",c=\"\",d=\"\";for(var _ in r)if(r.hasOwnProperty(_)){if(\"\"==r[_])continue;l+=r[_]+o}for(var _ in i)if(i.hasOwnProperty(_)){if(\"\"==i[_])continue;c+=i[_],d+=i[_]+o}l!==c&&l!==d||(e(n).removeClass(\"differentthandefault\"),e(n).css(\"color\",\"#777\"))}}else if(\"object\"==typeof t[a]){l=\"\",c=\"\",d=\"\";for(var _ in t[a])if(t[a].hasOwnProperty(_)){if(\"\"==t[a][_])continue;l+=t[a][_]+o}for(var _ in i)if(i.hasOwnProperty(_)){if(\"\"==i[_])continue;c+=i[_],d+=i[_]+o}l===c||l===d?(e(n).removeClass(\"differentthandefault\"),e(n).css(\"color\",\"#777\")):e(n).addClass(\"differentthandefault\")}else if(t[a]!==i&&t[a]+o!==i)if(\"object\"==typeof i){var v=t[a].split(\" \"),p=\"\";switch(v.length){case 1:p=v[0]+v[0]+v[0]+v[0];break;case 2:p=v[0]+v[1]+v[0]+v[1];break;case 3:p=v[0]+v[1]+v[2]+v[1]}for(var _ in c=\"\",d=\"\",i)if(i.hasOwnProperty(_)){if(\"\"==i[_])continue;c+=i[_],d+=i[_]+o}p==c||p==d?(e(n).removeClass(\"differentthandefault\"),e(n).css(\"color\",\"#777\")):e(n).addClass(\"differentthandefault\")}else e(n).addClass(\"differentthandefault\");else e(n).removeClass(\"differentthandefault\"),e(n).css(\"color\",\"#777\")},n.compare_to_original=function(){var t=e(\"#layer_caption\").val();if(orig_styles=n.getStyleSettingsByHandle(t),!1===orig_styles)return!1;if(void 0!==orig_styles.params){var a=orig_styles.params,r=e('input[name=\"css_font-style\"]').is(\":checked\")?\"italic\":\"normal\";n.set_state(a,\"color-transparency\",'input[name=\"css_font-transparency\"]',\"1\"),n.set_state(a,\"font-style\",'input[name=\"css_font-style\"]',\"normal\",\"checkbox\",r),n.set_state(a,\"font-family\",'input[name=\"css_font-family\"]',\"\"),n.set_state(a,\"padding\",'input[name=\"css_padding[]\"]',{0:\"0\",1:\"0\",2:\"0\",3:\"0\"},\"multi\"),n.set_state(a,\"text-decoration\",'select[name=\"css_text-decoration\"]',\"none\",\"select\"),n.set_state(a,\"background-color\",'input[name=\"css_background-color\"]',\"transparent\"),n.set_state(a,\"background-transparency\",'input[name=\"css_background-transparency\"]',\"1\"),n.set_state(a,\"border-color\",'input[name=\"css_border-color-show\"]',\"transparent\"),n.set_state(a,\"border-transparency\",'input[name=\"css_border-transparency\"]',\"1\"),n.set_state(a,\"border-style\",'select[name=\"css_border-style\"]',\"none\",\"select\"),n.set_state(a,\"border-width\",'input[name=\"css_border-width\"]',\"0\"),n.set_state(a,\"border-radius\",'input[name=\"css_border-radius[]\"]',{0:\"0\",1:\"0\",2:\"0\",3:\"0\"},\"multi\"),n.set_state(a,\"x\",'input[name=\"layer__x\"]',\"0\"),n.set_state(a,\"y\",'input[name=\"layer__y\"]',\"0\"),n.set_state(a,\"z\",'input[name=\"layer__z\"]',\"0\"),n.set_state(a,\"skewx\",'input[name=\"layer__skewx\"]',\"0\"),n.set_state(a,\"skewy\",'input[name=\"layer__skewy\"]',\"0\"),n.set_state(a,\"scalex\",'input[name=\"layer__scalex\"]',\"1\"),n.set_state(a,\"scaley\",'input[name=\"layer__scaley\"]',\"1\"),n.set_state(a,\"opacity\",'input[name=\"layer__opacity\"]',\"1\"),n.set_state(a,\"xrotate\",'input[name=\"layer__xrotate\"]',\"0\"),n.set_state(a,\"yrotate\",'input[name=\"layer__yrotate\"]',\"0\"),n.set_state(a,\"2d_rotation\",'input[name=\"layer_2d_rotation\"]',\"0\"),n.set_state(a,\"2d_origin_x\",'input[name=\"layer_2d_origin_x\"]',\"50\"),n.set_state(a,\"2d_origin_y\",'input[name=\"layer_2d_origin_y\"]',\"50\"),n.set_state(a,\"pers\",'input[name=\"layer__pers\"]',\"600\"),n.set_state(a,\"corner_left\",'select[name=\"layer_cornerleft\"]',\"nothing\",\"select\"),n.set_state(a,\"corner_right\",'select[name=\"layer_cornerright\"]',\"nothing\",\"select\")}if(void 0!==orig_styles.hover&&!e.isEmptyObject(orig_styles.hover)){var s=orig_styles.hover;n.set_state(s,\"color\",'input[name=\"hover_color_static\"]'),n.set_state(s,\"color-transparency\",'input[name=\"hover_css_font-transparency\"]',\"1\"),n.set_state(s,\"text-decoration\",'select[name=\"hover_css_text-decoration\"]',\"none\",\"select\"),n.set_state(s,\"background-color\",'input[name=\"hover_css_background-color\"]',\"transparent\"),n.set_state(s,\"background-transparency\",'input[name=\"hover_css_background-transparency\"]',\"1\"),n.set_state(s,\"border-color\",'input[name=\"hover_css_border-color-show\"]',\"transparent\"),n.set_state(s,\"border-transparency\",'input[name=\"hover_css_border-transparency\"]',\"1\"),n.set_state(s,\"border-style\",'select[name=\"hover_css_border-style\"]',\"none\",\"select\"),n.set_state(s,\"border-width\",'input[name=\"hover_css_border-width\"]',\"0\",\"select\"),n.set_state(s,\"border-radius\",'input[name=\"hover_css_border-radius[]\"]',{0:\"0\",1:\"0\",2:\"0\",3:\"0\"},\"multi\"),n.set_state(s,\"skewx\",'input[name=\"hover_layer__skewx\"]',\"0\"),n.set_state(s,\"skewy\",'input[name=\"hover_layer__skewy\"]',\"0\"),n.set_state(s,\"scalex\",'input[name=\"hover_layer__scalex\"]',\"1\"),n.set_state(s,\"scaley\",'input[name=\"hover_layer__scaley\"]',\"1\"),n.set_state(s,\"opacity\",'input[name=\"hover_layer__opacity\"]',\"1\"),n.set_state(s,\"xrotate\",'input[name=\"hover_layer__xrotate\"]',\"0\"),n.set_state(s,\"yrotate\",'input[name=\"hover_layer__yrotate\"]',\"0\"),n.set_state(s,\"2d_rotation\",'input[name=\"hover_layer_2d_rotation\"]',\"0\"),n.set_state(s,\"css_cursor\",'select[name=\"css_cursor\"]',\"auto\",\"select\"),n.set_state(s,\"pointer_events\",'select[name=\"pointer_events\"]',\"auto\",\"select\"),n.set_state(s,\"speed\",'input[name=\"hover_speed\"]',\"0\"),n.set_state(s,\"easing\",'select[name=\"hover_easing\"]',\"50\",\"select\")}return!0}}});","Nwdthemes_Revslider/admin/assets/js/show_premium_dialog.min.js":"define(\"show_premium_dialog\",[\"jquery\"],function(r){return function(a){r(\"#rs-premium-benefits-dialog\").dialog({width:830,height:750,modal:!0,resizable:!1,open:function(e){var i=r(e.target).parent(),s=i.find(\".ui-dialog-title\");switch(i.addClass(\"rs-open-premium-benefits-dialog-container\"),s.hasClass(\"titlechanged\")||(s.html(\"\"),s.append(r(\"#rs-premium-benefits-dialog .rs-premium-benefits-dialogtitles\")),s.addClass(\"titlechanged\")),r(\"#rs-library-license-info-dialogtitle, #rs-plugin-object-library-feedback-title, #rs-wrong-purchase-code-title, #rs-plugin-update-feedback-title, #rs-plugin-download-template-feedback-title\").hide(),r(\"#rs-premium-benefits-dialog\").removeClass(\"nomainbg\"),r(\"#basic_objectlibrary_license_block, #basic_premium_benefits_block\").hide(),a){case\"regsiter-to-access-update-none\":r(\"#rs-plugin-update-feedback-title\").show(),r(\"#basic_premium_benefits_block\").show();break;case\"regsiter-to-access-store-none\":r(\"#rs-plugin-download-template-feedback-title\").show(),r(\"#basic_premium_benefits_block\").show();break;case\"register-wrong-purchase-code\":r(\"#rs-wrong-purchase-code-title\").show(),r(\"#basic_premium_benefits_block\").show();break;case\"register-to-acess-object-library\":r(\"#rs-plugin-object-library-feedback-title\").show(),r(\"#basic_premium_benefits_block\").show();break;case\"licence_obect_library\":r(\"#basic_objectlibrary_license_block\").show(),r(\"#rs-library-license-info-dialogtitle\").show(),r(\"#rs-premium-benefits-dialog\").addClass(\"nomainbg\")}}})}});","Nwdthemes_Revslider/admin/assets/js/context_menu.min.js":"define(\"contextMenu\",[\"jquery\",\"themepunchTools\"],function(e,t){return new function(){function a(e){var t=0,a=0;if(!e)var e=window.event;return e.pageX||e.pageY?(t=e.pageX,a=e.pageY):(e.clientX||e.clientY)&&(t=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:t,y:a}}function s(){l(),c(),n(),o()}function l(){document.addEventListener(\"contextmenu\",function(t){p=S.clickInsideElement(t,\"slide_layer\"),e(p).hasClass(\"demo_layer\")||(p?(S.setLayerSelected(e(p).data(\"serial\")),t.preventDefault(),O.toggleMenuOn(\"layer\"),b(t)):(p=S.clickInsideElement(t,\"bg_context_listener\"))?(t.preventDefault(),O.toggleMenuOn(\"background\"),b(t)):(p=S.clickInsideElement(t,\"ignorecontextmenu\"))?(t.preventDefault(),O.toggleMenuOn(),b(t)):(p=null,O.toggleMenuOff()))})}function c(){e(\"body\").on(\"click\",function(e){var t=S.clickInsideElement(e,A);t?(e.preventDefault(),m(t)):1===(e.which||e.button)&&O.toggleMenuOff()})}function n(){window.onkeyup=function(e){27===e.keyCode&&O.toggleMenuOff()}}function o(){window.onresize=function(e){O.toggleMenuOff()}}function r(e){var t=\"rs-icon-layerimage_n\";switch(e){case\"image\":t=\"rs-icon-layerimage_n\";break;case\"text\":t=\"rs-icon-layerfont_n\";break;case\"button\":t=\"rs-icon-layerbutton_n\";break;case\"audio\":t=\"rs-icon-layeraudio_n\";break;case\"video\":t=\"rs-icon-layervideo_n\";break;case\"svg\":t=\"rs-icon-layersvg_n\";break;case\"row\":t=\"rs-icon-layergroup_n\";break;case\"column\":t=\"rs-icon-layercolumn_n\";break;case\"group\":t=\"rs-icon-layergroup_n\"}return t}function d(t,a){t?e(a).removeClass(\"ctx-td-s-off\"):e(a).addClass(\"ctx-td-s-off\")}function y(){e(\".not_in_ctx_bg\").hide(),e(\".not_in_ctx_layer\").show();var t=e(\"#ctx_list_of_layers\");t.html(\"\");for(i in S.arrLayers)if(S.arrLayers.hasOwnProperty(i)){var a=S.arrLayers[i],s=r(a.type);t.append('<li class=\"ctx-dyn-avl-list-item context-menu__item\" data-serial=\"'+a.serial+'\"><div class=\"ctx_item_inner\"><div class=\"context-menu__link\" data-serial=\"'+a.serial+'\" data-action=\"selectonelayer\"><i class=\"'+s+'\"></i><span class=\"cx-layer-name\">'+a.alias+\"</span></div></div></li>\")}}function _(){var t=S.getLayer(S.selectedLayerSerial),a=t.references.htmlLayer;e(\".not_in_ctx_bg\").show(),e(\".not_in_ctx_layer\").hide(),e(\"#cx-selected-layer-name\").html(t.alias),e(\"#cx-selected-layer-icon\").attr(\"class\",r(t.type));var s=e(\"#cx-selected-layer-visible\"),l=e(\"#cx-selected-layer-locked\");z.isLayerVisible(a)?(s.find(\"i\").attr(\"class\",\"eg-icon-eye-off\"),s.find(\".cx-layer-name\").html(\"Hide Layer\")):(s.find(\"i\").attr(\"class\",\"eg-icon-eye\"),s.find(\".cx-layer-name\").html(\"Show Layer\")),z.isLayerLocked(a)?(l.find(\"i\").attr(\"class\",\"eg-icon-lock-open\"),l.find(\".cx-layer-name\").html(\"Unlock Layer\")):(l.find(\"i\").attr(\"class\",\"eg-icon-lock\"),l.find(\".cx-layer-name\").html(\"Lock Layer\"));var i=e(\"#ctx_list_of_invisibles\"),c=e(\"#ctx_list_of_layers\"),n=!0;i.find(\".ctx-dyn-inv-list-item\").remove(),c.html(\"\");for(h in S.arrLayers)if(S.arrLayers.hasOwnProperty(h)){var o=r((a=S.arrLayers[h]).type),y=void 0!==a.references&&void 0!==a.references.htmlLayer?a.references.htmlLayer:void 0;if(void 0!==y&&y.hasClass(\"currently_not_visible\")){var _=n?\"ctx-m-top-divider\":\"\";n=!1,i.append('<li class=\"ctx-dyn-inv-list-item '+_+' context-menu__item\"><div class=\"ctx_item_inner\"><div class=\"context-menu__link\" data-serial=\"'+a.serial+'\" data-action=\"showonelayer\"><i class=\"eg-icon-eye\"></i><span class=\"cx-layer-name\">'+a.alias+\"</span></div></div></li>\")}c.append('<li class=\"ctx-dyn-avl-list-item context-menu__item\" data-serial=\"'+a.serial+'\"><div class=\"ctx_item_inner\"><div class=\"context-menu__link\" data-serial=\"'+a.serial+'\" data-action=\"selectonelayer\"><i class=\"'+o+'\"></i><span class=\"cx-layer-name\">'+a.alias+\"</span></div></div></li>\")}\"grid\"===t.basealign?(e(\"#ctx_gridbased\").addClass(\"selected\"),e(\"#ctx_slidebased\").removeClass(\"selected\")):(e(\"#ctx_gridbased\").removeClass(\"selected\"),e(\"#ctx_slidebased\").addClass(\"selected\")),d(t[\"resize-full\"],\"#ctx_autoresponsive\"),d(t.resizeme,\"#ctx_childrenresponsive\"),d(t.responsive_offset,\"#ctx_responsiveoffset\"),d(t[\"visible-desktop\"],\"#ctx_showhideondesktop\"),d(t[\"visible-notebook\"],\"#ctx_showhideonnotebook\"),d(t[\"visible-tablet\"],\"#ctx_showhideontablet\"),d(t[\"visible-mobile\"],\"#ctx_showhideonmobile\"),d(t.autolinebreak,\"#ctx_linebreak\"),d(t.scaleProportional,\"#ctx_keepaspect\"),t.displaymode||\"block\"===t.display?(e(\"#ctx_displayblock\").addClass(\"selected\"),e(\"#ctx_displayinline\").removeClass(\"selected\")):(e(\"#ctx_displayblock\").removeClass(\"selected\"),e(\"#ctx_displayinline\").addClass(\"selected\")),e(\"#ctx-list-of-layer-links\").data(\"uniqueid\",t.unique_id);for(var u=void 0!==t.groupLink?t.groupLink:0,b=e(\"#ctx-layer-link-type-element-cs\"),h=0;h<6;h++)b.removeClass(\"ctx-layer-link-type-\"+h);b.addClass(\"ctx-layer-link-type-\"+u),e(x).data(\"current_layer\",y);var m=\"column\"===S.getObjLayerType(t.p_uid);switch(x.className=\"context-menu layer_type_\"+t.type+\" in_column_\"+m,e(\"#ctx-inheritdesktop\").show(),e(\"#ctx-inheritnotebook\").show(),e(\"#ctx-inherittablet\").show(),e(\"#ctx-inheritmobile\").show(),S.getLayout()){case\"desktop\":e(\"#ctx-inheritdesktop\").hide();break;case\"notebook\":e(\"#ctx-inheritnotebook\").hide();break;case\"tablet\":e(\"#ctx-inherittablet\").hide();break;case\"mobile\":e(\"#ctx-inheritmobile\").hide()}}function u(){}function b(t){f=a(t),k=f.x,g=f.y;var s=e(\"#viewWrapper\").offset(),l=e(\"#divbgholder\").offset(),i=e(window).scrollTop();w=x.offsetWidth+4,L=x.offsetHeight+4,C=window.innerWidth;var c=i+(V=window.innerHeight),n=15+k-s.left,o=g-(s.top+25);f.x=k-l.left,f.y=g-l.top,n=n+250>C-s.left?C-(260+s.left):n,o=o+300+s.top>c?c-300-s.top:o,x.style.left=n+\"px\",x.style.top=o+\"px\",n>C-(s.left+500)?e(\"#context-menu-first-ul\").addClass(\"submenustoleft\"):e(\"#context-menu-first-ul\").removeClass(\"submenustoleft\"),o+300+s.top+200>c?e(\"#context-menu-first-ul\").addClass(\"submenustobottom\"):e(\"#context-menu-first-ul\").removeClass(\"submenustobottom\")}function h(t){return!e(t).hasClass(\"ctx-td-s-off\")}function m(t){var a,s=!0,l={},i=!1,c=!1;if(\"delegate\"!==t.getAttribute(\"data-action\")){switch(t.getAttribute(\"data-action\")){case\"delete\":e(\"#button_delete_layer\").click();break;case\"duplicate\":e(\"#button_duplicate_layer\").click();break;case\"showhide\":e(\"#layer-short-toolbar .quick-layer-view\").click();break;case\"lockunlock\":e(\"#layer-short-toolbar .quick-layer-lock\").click();break;case\"showalllayer\":S.showAllLayers();break;case\"showonlycurrent\":S.hideAllLayers(S.selectedLayerSerial);break;case\"showonelayer\":var n=S.getLayer(e(t).data(\"serial\"));z.showLayer(n);break;case\"selectonelayer\":S.setLayerSelected(e(t).data(\"serial\"));break;case\"autoresponsive\":s=!1,l[\"resize-full\"]=h(t),l[\"resize-full\"]||(l.resizeme=!1,e(\"#ctx_childrenresponsive\").addClass(\"ctx-td-s-off\")),i=!0;break;case\"childrenresponsive\":s=!1,l.resizeme=h(t),l.resizeme&&(l[\"resize-full\"]=!0,e(\"#ctx_autoresponsive\").removeClass(\"ctx-td-s-off\")),i=!0;break;case\"responsiveoffset\":s=!1,l.responsive_offset=h(t),i=!0;break;case\"gridbased\":s=!1,l.basealign=\"grid\",i=!0;break;case\"slidebased\":s=!1,l.basealign=\"slide\",i=!0;break;case\"nothing\":s=!1;break;case\"linebreak\":s=!1,e(\"#layer_auto_line_break\")[0].checked?e(\"#layer_auto_line_break\")[0].checked=!1:e(\"#layer_auto_line_break\")[0].checked=!0,S.clickOnAutoLineBreak();break;case\"displayblock\":s=!1,l.displaymode=!0,l.display=\"block\",i=!0,a=e(x).data(\"current_layer\"),c=!0;break;case\"displayinline\":s=!1,l.displaymode=!1,l.display=\"inline-block\",i=!0,a=e(x).data(\"current_layer\"),c=!0;break;case\"advancedcss\":e(\"#advanced-css-layer\").click();break;case\"resetsize\":e(\"#reset-scale\").click();break;case\"aspectratio\":s=!1,e(\"#layer_proportional_scale\")[0].checked?(e(\"#layer_proportional_scale\")[0].checked=!1,e(\"#ctx_keepaspect\").addClass(\"ctx-td-s-off\")):(e(\"#layer_proportional_scale\")[0].checked=!0,e(\"#ctx_keepaspect\").removeClass(\"ctx-td-s-off\")),l.scaleProportional=e(\"#layer_proportional_scale\")[0].checked,i=!0;break;case\"copystyle\":s=!1;o=S.getLayer(S.selectedLayerSerial);O.stylecache=UniteAdminRev.duplicateObject(o),UniteAdminRev.showInfo({type:\"success\",content:\"Layer Style Successfull Copied to Clipboard\",hidedelay:3});break;case\"pastestyle\":s=!1;o=S.getLayer(S.selectedLayerSerial);!1===e.isEmptyObject(O.stylecache)?(l.deformation=O.stylecache.deformation,l[\"deformation-hover\"]=O.stylecache[\"deformation-hover\"],l.display=O.stylecache.display,l.displaymode=O.stylecache.displaymode,l.margin=O.stylecache.margin,l.autolinebreak=O.stylecache.autolinebreak,l.padding=O.stylecache.padding,l.whitespace=O.stylecache.whitespace,l.static_styles=O.stylecache.static_styles,l[\"2d_rotation\"]=O.stylecache[\"2d_rotation\"],l[\"image-size\"]=O.stylecache[\"image-size\"],i=!0,a=o.references.htmlLayer,c=!0):UniteAdminRev.showInfo({type:\"warning\",content:\"No Style saved to Clipboard\",hidedelay:3});break;case\"inheritfromdesktop\":case\"inheritfromnotebook\":case\"inheritfromtablet\":case\"inheritfrommobile\":var o=S.getLayer(S.selectedLayerSerial),r=t.getAttribute(\"data-size\");(l={}).static_styles={},l.static_styles.color={},l.static_styles[\"font-size\"]={},l.static_styles[\"line-height\"]={},l.static_styles[\"font-weight\"]={},l.padding={},l.margin={},l.max_height={},l.max_width={},l.scaleX={},l.scaleY={},l[\"text-align\"]={},l.vieo_width={},l.video_height={},l.whitespace={},l.static_styles=S.setVal(l.static_styles,\"color\",S.getVal(o.static_styles,\"color\",r),!1),l.static_styles=S.setVal(l.static_styles,\"font-size\",S.getVal(o.static_styles,\"font-size\",r),!1),l.static_styles=S.setVal(l.static_styles,\"line-height\",S.getVal(o.static_styles,\"line-height\",r),!1),l.static_styles=S.setVal(l.static_styles,\"font-weight\",S.getVal(o.static_styles,\"font-weight\",r),!1),l=S.setVal(l,\"padding\",S.getVal(o,\"padding\",r),!1),l=S.setVal(l,\"margin\",S.getVal(o,\"margin\",r),!1),l=S.setVal(l,\"max_height\",S.getVal(o,\"max_height\",r),!1),l=S.setVal(l,\"max_width\",S.getVal(o,\"max_width\",r),!1),l=S.setVal(l,\"scaleX\",S.getVal(o,\"scaleX\",r),!1),l=S.setVal(l,\"scaleY\",S.getVal(o,\"scaleY\",r),!1),l=S.setVal(l,\"text-align\",S.getVal(o,\"text-align\",r),!1),l=S.setVal(l,\"vieo_width\",S.getVal(o,\"vieo_width\",r),!1),l=S.setVal(l,\"video_height\",S.getVal(o,\"video_height\",r),!1),l=S.setVal(l,\"whitespace\",S.getVal(o,\"whitespace\",r),!1),i=!0,a=o.references.htmlLayer,c=!0;break;case\"showhideondesktop\":s=!1,l[\"visible-desktop\"]=h(t),i=!0;break;case\"showhideonnotebook\":s=!1,l[\"visible-notebook\"]=h(t),i=!0;break;case\"showhideontablet\":s=!1,l[\"visible-tablet\"]=h(t),i=!0;break;case\"showhideonmobile\":s=!1,l[\"visible-mobile\"]=h(t),i=!0;break;case\"grouplinkchange\":s=!1,l.groupLink=t.getAttribute(\"data-linktype\");for(var d=(o=S.getLayer(S.selectedLayerSerial)).references.sorttable.layer.find(\".layer-link-type-element-cs\").first(),y=e(\"#ctx-layer-link-type-element-cs\"),_=0;_<6;_++)d.removeClass(\"layer-link-type-\"+_),y.removeClass(\"ctx-layer-link-type-\"+_);d.addClass(\"layer-link-type-\"+l.groupLink),y.addClass(\"ctx-layer-link-type-\"+l.groupLink);break;case\"addtextlayer\":S.nextNewLayerToPosition(f),e(\"#button_add_layer\").click();break;case\"addimagelayer\":S.nextNewLayerToPosition(f),e(\"#button_add_layer_image\").click();break;case\"addaudiolayer\":S.nextNewLayerToPosition(f),e(\"#button_add_layer_audio\").click();break;case\"addvideolayer\":S.nextNewLayerToPosition(f),e(\"#button_add_layer_video\").click();break;case\"addbuttonlayer\":S.nextNewLayerToPosition(f),e(\"#button_add_layer_button\").click();break;case\"addshapelayer\":S.nextNewLayerToPosition(f),e(\"#button_add_layer_shape\").click();break;case\"addobjectlayer\":S.nextNewLayerToPosition(f),e(\"#button_add_layer_svg\").click()}!1===e.isEmptyObject(l)&&S.updateLayer(S.selectedLayerSerial,l),i&&S.updateLayerFormFields(S.selectedLayerSerial),c&&z.rebuildLayerIdle(a),s&&O.toggleMenuOff()}else e(document.getElementById(t.getAttribute(\"data-delegate\"))).click()}var p,f,k,g,x,v,w,L,C,V,O=this,S=new Object,z=new Object,A=\"context-menu__link\",T=0;O.stylecache={},O.init=function(t,a){S=t,z=a,x=document.querySelector(\"#context-menu\"),v=x.querySelectorAll(\".context-menu__item\"),s(),e(\".context-submenu\").perfectScrollbar({wheelPropagation:!1,suppressScrollX:!0}),e(\".context-submenu\").each(function(){e(this).on(\"mouseenter\",function(){e(this).perfectScrollbar(\"update\")})}),e(\"body\").on(\"mouseenter\",\".ctx-dyn-avl-list-item\",function(){e(\".layer_due_list_element_selected\").removeClass(\"layer_due_list_element_selected\"),e(\"#slide_layer_\"+e(this).data(\"serial\")).addClass(\"layer_due_list_element_selected\")}),e(\"body\").on(\"mouseleave\",\".ctx-dyn-avl-list-item\",function(){e(\".layer_due_list_element_selected\").removeClass(\"layer_due_list_element_selected\")}),e(\"body\").on(\"click\",\".ctx-td-switcher\",function(){e(this).toggleClass(\"ctx-td-s-off\")}),e(\"body\").on(\"click\",\".ctx-td-option-selector\",function(){var t=e(this);t.parent().find(\".selected\").removeClass(\"selected\"),t.addClass(\"selected\")})},O.toggleMenuOn=function(e){t.TweenLite.fromTo(x,.2,{x:10,autoAlpha:0},{x:0,autoAlpha:1,display:\"block\",ease:t.Power2.easeInOut,delay:.2}),1!==T&&(T=1),\"layer\"===e?-1!=S.selectedLayerSerial?_():u():\"background\"===e&&y()},O.toggleMenuOff=function(){0!==T&&(T=0,t.TweenLite.to(x,.2,{y:25,autoAlpha:0}))}}});","Nwdthemes_Revslider/admin/assets/js/settings.min.js":"define(\"settings\",[\"jquery\",\"tipsy\",\"themepunchTools\"],function(e,t,n){var o=new function(){var t={},i=this;this.getSettingsObject=function(t){for(var n,o,i,c,s=new Object,a=document.getElementById(t),r=a.elements.length,d=0;d<r;d++){var l=a.elements[d];if(\"##NAME##[]\"!=l.name&&!e(l).hasClass(\"rs-ingore-save\")){switch(n=l.name,o=l.value,i=l.type,e(l).hasClass(\"wp-editor-area\")&&(i=\"editor\"),c=!0,i){case\"checkbox\":if(void 0!==a.elements[d].getAttribute(\"data-useval\")&&null!==a.elements[d].getAttribute(\"data-useval\")){if(!a.elements[d].checked)continue;o=a.elements[d].value}else o=void 0!==a.elements[d].getAttribute(\"data-unchecked\")&&null!==a.elements[d].getAttribute(\"data-unchecked\")?a.elements[d].checked?o:a.elements[d].getAttribute(\"data-unchecked\"):a.elements[d].checked;break;case\"radio\":0==a.elements[d].checked&&(c=!1);break;case\"editor\":\"undefined\"!=typeof tiynMCE&&null!=tinyMCE.get(n)&&(o=tinyMCE.get(n).getContent());break;case\"select-multiple\":(o=e(l).val())&&(o=o.toString())}1==c&&void 0!=n&&(n.indexOf(\"[]\")>-1?(\"object\"!=typeof s[n=n.replace(\"[]\",\"\")]&&(s[n]=[]),s[n][Object.keys(s[n]).length]=o):s[n]=o)}}return s};var c=function(){if(\"undefined\"!=typeof g_settingsObj)for(key in g_settingsObj)if(g_settingsObj.hasOwnProperty(key)){var e=g_settingsObj[key];for(controlKey in e.controls)e.controls.hasOwnProperty(controlKey)&&(t[controlKey]=e.controls[controlKey])}},s=function(t){e(\"#\"+t+\" .unite-postbox .inside\").slideUp(\"fast\"),e(\"#\"+t+\" .unite-postbox h3\").addClass(\"box_closed\")};i.initAccordion=function(t){e(\"#\"+t+\" .unite-postbox h3\").click(function(){var n=e(this);n.hasClass(\"box_closed\")?(s(t),n.removeClass(\"box_closed\").siblings(\".inside\").slideDown(\"fast\")):n.addClass(\"box_closed\").siblings(\".inside\").slideUp(\"fast\")})};var a=function(){e(\".button-image-select\").click(function(){var t=this.id.replace(\"_button\",\"\");require([\"admin\"],function(n){n.openAddImageDialog(\"Choose Image\",function(o,i){e(\"#\"+t).val(o);var c=n.getUrlShowImage(i,100,70,!0);if(e(\"#\"+t+\"_button_preview\").html(\"<div style=\\\"width:100px;height:70px;background:url('\"+c+\"'); background-position:center center; background-size:cover;\\\"></div>\"),e(\".show_on_thumbnail_exist\").show(),\"checked\"==e(\"#thumb_for_admin\").prop(\"checked\")){var s=e(\"#slide_thumb_button_preview div\").css(\"background-image\");e(\"#slide_selector .list_slide_links li.selected .slide-media-container\").css({\"background-image\":s,backgroundSize:\"cover\",backgroundPosition:\"center center\"})}})})}),e(\".button-image-remove\").click(function(){var t=this.id.replace(\"_button_remove\",\"\");e(\"#\"+t).val(\"\"),e(\"#\"+t+\"_button_preview\").html(\"\"),e(\".show_on_thumbnail_exist\").hide()}),e(\".button-image-select-video\").click(function(){require([\"admin\"],function(t){t.openAddImageDialog(\"Choose Image\",function(n,o){e(\"#input_video_preview\").val(n);var i=t.getUrlShowImage(o,200,150,!0);e(\"#video-thumbnail-preview\").css({backgroundImage:\"url(\"+i+\")\"})})})}),e(\".button-image-remove-video\").click(function(){e(\"#input_video_preview\").val(\"\"),\"none\"!=e(\"#video_block_vimeo\").css(\"display\")&&e(\"#button_vimeo_search\").trigger(\"click\"),\"none\"!=e(\"#video_block_youtube\").css(\"display\")&&e(\"#button_youtube_search\").trigger(\"click\")}),e(\".button-image-select-html5-video\").click(function(){e(\".ui-dialog.ui-widget,.ui-widget-overlay\").hide(),require([\"admin\"],function(t){t.openAddImageDialog(\"Choose Image\",function(t,n){e(\".ui-dialog.ui-widget,.ui-widget-overlay\").show(),e(\"#html5_url_poster\").val(t)})})})},r=function(){e(\".list_settings li .setting_text\").tipsy({gravity:\"e\",delayIn:70}),e(\".tipsy_enabled_top\").tipsy({gravity:\"s\",delayIn:70}),e(\".tipsy_enabled_top_left\").tipsy({gravity:\"se\",delayIn:70}),e(\".button-primary\").tipsy({gravity:\"s\",delayIn:70}),e('input[type=\"checkbox\"]').change(function(){o.onoffStatus(e(this))}),c(),a(),e(\"body\").on(\"click\",\".rs-close-preview\",function(){var t=e(\"#rs-preview-form\");t.action=g_urlAjaxActions,e(\"#preview-slide-data\").val(\"empty_output\"),e(\"#preview_sliderid\").val(\"empty_output\"),e(\"#rs-preview-wrapper\").hide(),t.submit()}),e(document).keyup(function(t){27==t.keyCode&&e(\".rs-close-preview\").click()}),e(window).resize(function(){e(\".rs-preview-width\").text(e(\".rs-frame-preview-wrapper\").width()),e(\".rs-preview-height\").text(e(\".rs-frame-preview-wrapper\").height())})};i.createModernOnOff=function(){e(\".tp-moderncheckbox\").each(function(){var t=e(this);t.wrap('<div class=\"tp-onoffbutton\"><span class=\"tp-onoff-onstate\">On</span><span class=\"tp-onoff-offstate\">Off</span></div>'),t.change(function(){var t=e(this);t.hasClass(\"changedbyclick\")||i.onoffStatus(t)})}),e(\".tp-modernonoffboxes\").each(function(){var t=e(this);t.wrap('<div class=\"tp-onoffbutton tp-onoffbasedontwo\"><span class=\"tp-onoff-onstate\">On</span><span class=\"tp-onoff-offstate\">Off</span></div>');var n=t.find('input[value=\"on\"]'),o=t.find('input[value=\"off\"]');n.change(function(){n.hasClass(\"changedbyclick\")||i.onoffStatusBasedOnTwo(n,o)}),o.change(function(){n.hasClass(\"changedbyclick\")||i.onoffStatusBasedOnTwo(n,o)}),i.onoffStatusBasedOnTwo(n,o)}),e(\".tp-onoffbutton\").each(function(){e(this).click(function(){var t=e(this);if(t.hasClass(\"tp-onoffbasedontwo\")){var n=t.find('input[value=\"on\"]'),o=t.find('input[value=\"off\"]');n.addClass(\"changedbyclick\"),setTimeout(function(){n.removeClass(\"changedbyclick\")},200),void 0===n.prop(\"checked\")||0==n.prop(\"checked\")||\"\"==n.prop(\"checked\")?(n.attr(\"checked\",\"checked\"),o.attr(\"checked\",!1)):(n.attr(\"checked\",!1),o.attr(\"checked\",\"checked\")),n.trigger(\"change\"),o.trigger(\"change\"),i.onoffStatusBasedOnTwo(n,o)}else inp=t.find(\"input\"),inp.addClass(\"changedbyclick\"),setTimeout(function(){inp.removeClass(\"changedbyclick\")},200),void 0===inp.prop(\"checked\")||0==inp.prop(\"checked\")||\"\"==inp.prop(\"checked\")?inp.attr(\"checked\",\"checked\"):inp.attr(\"checked\",!1),inp.trigger(\"change\"),i.onoffStatus(inp)})})},i.onoffStatus=function(e){var t=e.closest(\".tp-onoffbutton\"),o=t.find(\".tp-onoff-onstate\"),i=t.find(\".tp-onoff-offstate\");void 0===e.prop(\"checked\")||0==e.prop(\"checked\")||\"\"==e.prop(\"checked\")?(n.TweenLite.to(o,.2,{left:\"50px\"}),n.TweenLite.to(i,.2,{left:\"0px\"})):(n.TweenLite.to(o,.2,{left:\"0px\"}),n.TweenLite.to(i,.2,{left:\"-50px\"}))},i.onoffStatusBasedOnTwo=function(e,t){var o=e.closest(\".tp-onoffbutton\"),i=o.find(\".tp-onoff-onstate\"),c=o.find(\".tp-onoff-offstate\");void 0===e.prop(\"checked\")||0==e.prop(\"checked\")||\"\"==e.prop(\"checked\")?(n.TweenLite.to(i,.2,{left:\"50px\"}),n.TweenLite.to(c,.2,{left:\"0px\"})):(n.TweenLite.to(i,.2,{left:\"0px\"}),n.TweenLite.to(c,.2,{left:\"-50px\"}))},e(document).ready(function(){r()})};return o});","Nwdthemes_Revslider/admin/assets/js/jquery.tipsy.js":"\r\n// tipsy, facebook style tooltips for jquery\r\n// version 1.0.0a\r\n// (c) 2008-2010 jason frame [jason@onehackoranother.com]\r\n// releated under the MIT license\r\n\r\n(function($) {\r\n    \r\n    function fixTitle($ele) {\r\n        if ($ele.attr('title') || typeof($ele.attr('original-title')) != 'string') {\r\n            $ele.attr('original-title', $ele.attr('title') || '').removeAttr('title');\r\n        }\r\n    }\r\n    \r\n    function Tipsy(element, options) {\r\n        this.$element = $(element);\r\n        this.options = options;\r\n        this.enabled = true;\r\n        fixTitle(this.$element);\r\n    }\r\n    \r\n    Tipsy.prototype = {\r\n        show: function() {\r\n            var title = this.getTitle();\r\n            if (title && this.enabled) {\r\n                var $tip = this.tip();\r\n                \r\n                $tip.find('.tipsy-inner')[this.options.html ? 'html' : 'text'](title);\r\n                $tip[0].className = 'tipsy'; // reset classname in case of dynamic gravity\r\n                $tip.remove().css({top: 0, left: 0, visibility: 'hidden', display: 'block'}).appendTo(document.body);\r\n                \r\n                var pos = $.extend({}, this.$element.offset(), {\r\n                    width: this.$element[0].offsetWidth,\r\n                    height: this.$element[0].offsetHeight\r\n                });\r\n                \r\n                var actualWidth = $tip[0].offsetWidth, actualHeight = $tip[0].offsetHeight;\r\n                var gravity = (typeof this.options.gravity == 'function')\r\n                                ? this.options.gravity.call(this.$element[0])\r\n                                : this.options.gravity;\r\n                \r\n                var tp;\r\n                switch (gravity.charAt(0)) {\r\n                    case 'n':\r\n                        tp = {top: pos.top + pos.height + this.options.offset, left: pos.left + pos.width / 2 - actualWidth / 2};\r\n                        break;\r\n                    case 's':\r\n                        tp = {top: pos.top - actualHeight - this.options.offset, left: pos.left + pos.width / 2 - actualWidth / 2};\r\n                        break;\r\n                    case 'e':\r\n                        tp = {top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left - actualWidth - this.options.offset};\r\n                        break;\r\n                    case 'w':\r\n                        tp = {top: pos.top + pos.height / 2 - actualHeight / 2, left: pos.left + pos.width + this.options.offset};\r\n                        break;\r\n                }\r\n                \r\n                if (gravity.length == 2) {\r\n                    if (gravity.charAt(1) == 'w') {\r\n                        tp.left = pos.left + pos.width / 2 - 15;\r\n                    } else {\r\n                        tp.left = pos.left + pos.width / 2 - actualWidth + 15;\r\n                    }\r\n                }\r\n                \r\n                $tip.css(tp).addClass('tipsy-' + gravity);\r\n                \r\n                if (this.options.fade) {\r\n                    $tip.stop().css({opacity: 0, display: 'block', visibility: 'visible'}).animate({opacity: this.options.opacity});\r\n                } else {\r\n                    $tip.css({visibility: 'visible', opacity: this.options.opacity});\r\n                }\r\n            }\r\n        },\r\n        \r\n        hide: function() {\r\n            if (this.options.fade) {\r\n                this.tip().stop().fadeOut(function() { $(this).remove(); });\r\n            } else {\r\n                this.tip().remove();\r\n            }\r\n        },\r\n        \r\n        getTitle: function() {\r\n            var title, $e = this.$element, o = this.options;\r\n            fixTitle($e);\r\n            var title, o = this.options;\r\n            if (typeof o.title == 'string') {\r\n                title = $e.attr(o.title == 'title' ? 'original-title' : o.title);\r\n            } else if (typeof o.title == 'function') {\r\n                title = o.title.call($e[0]);\r\n            }\r\n            title = ('' + title).replace(/(^\\s*|\\s*$)/, \"\");\r\n            return title || o.fallback;\r\n        },\r\n        \r\n        tip: function() {\r\n            if (!this.$tip) {\r\n                this.$tip = $('<div class=\"tipsy\"></div>').html('<div class=\"tipsy-arrow\"></div><div class=\"tipsy-inner\"/></div>');\r\n            }\r\n            return this.$tip;\r\n        },\r\n        \r\n        validate: function() {\r\n            if (!this.$element[0].parentNode) {\r\n                this.hide();\r\n                this.$element = null;\r\n                this.options = null;\r\n            }\r\n        },\r\n        \r\n        enable: function() { this.enabled = true; },\r\n        disable: function() { this.enabled = false; },\r\n        toggleEnabled: function() { this.enabled = !this.enabled; }\r\n    };\r\n    \r\n    $.fn.tipsy = function(options) {\r\n        \r\n        if (options === true) {\r\n            return this.data('tipsy');\r\n        } else if (typeof options == 'string') {\r\n            return this.data('tipsy')[options]();\r\n        }\r\n        \r\n        options = $.extend({}, $.fn.tipsy.defaults, options);\r\n        \r\n        function get(ele) {\r\n            var tipsy = $.data(ele, 'tipsy');\r\n            if (!tipsy) {\r\n                tipsy = new Tipsy(ele, $.fn.tipsy.elementOptions(ele, options));\r\n                $.data(ele, 'tipsy', tipsy);\r\n            }\r\n            return tipsy;\r\n        }\r\n        \r\n        function enter() {\r\n            var tipsy = get(this);\r\n            tipsy.hoverState = 'in';\r\n            if (options.delayIn == 0) {\r\n                tipsy.show();\r\n            } else {\r\n                setTimeout(function() { if (tipsy.hoverState == 'in') tipsy.show(); }, options.delayIn);\r\n            }\r\n        };\r\n        \r\n        function leave() {\r\n            var tipsy = get(this);\r\n            tipsy.hoverState = 'out';\r\n            if (options.delayOut == 0) {\r\n                tipsy.hide();\r\n            } else {\r\n                setTimeout(function() { if (tipsy.hoverState == 'out') tipsy.hide(); }, options.delayOut);\r\n            }\r\n        };\r\n        \r\n        if (!options.live) this.each(function() { get(this); });\r\n        \r\n        if (options.trigger != 'manual') {\r\n            var binder   = options.live ? 'live' : 'bind',\r\n                eventIn  = options.trigger == 'hover' ? 'mouseenter' : 'focus',\r\n                eventOut = options.trigger == 'hover' ? 'mouseleave' : 'blur';\r\n            this[binder](eventIn, enter)[binder](eventOut, leave);\r\n        }\r\n        \r\n        return this;\r\n        \r\n    };\r\n    \r\n    $.fn.tipsy.defaults = {\r\n        delayIn: 0,\r\n        delayOut: 0,\r\n        fade: false,\r\n        fallback: '',\r\n        gravity: 'n',\r\n        html: false,\r\n        live: false,\r\n        offset: 0,\r\n        opacity: 0.8,\r\n        title: 'title',\r\n        trigger: 'hover'\r\n    };\r\n    \r\n    // Overwrite this method to provide options on a per-element basis.\r\n    // For example, you could store the gravity in a 'tipsy-gravity' attribute:\r\n    // return $.extend({}, options, {gravity: $(ele).attr('tipsy-gravity') || 'n' });\r\n    // (remember - do not modify 'options' in place!)\r\n    $.fn.tipsy.elementOptions = function(ele, options) {\r\n        return $.metadata ? $.extend({}, options, $(ele).metadata()) : options;\r\n    };\r\n    \r\n    $.fn.tipsy.autoNS = function() {\r\n        return $(this).offset().top > ($(document).scrollTop() + $(window).height() / 2) ? 's' : 'n';\r\n    };\r\n    \r\n    $.fn.tipsy.autoWE = function() {\r\n        return $(this).offset().left > ($(document).scrollLeft() + $(window).width() / 2) ? 'e' : 'w';\r\n    };\r\n    \r\n})(jQuery);\r\n","Nwdthemes_Revslider/admin/assets/js/admin.min.js":"define(\"admin\",[\"jquery\",\"galleryBrowser\",\"rev_lang\",\"loading\",\"themepunchTools\",\"settings\"],function(g,e,b,w,k,y){var x=new function(){var l=this,n=null,o=null,r=null,s=null,i=[],u=null,c=null,t=null,d=!1;l.showInfo=function(e){var o='<i class=\"eg-icon-info\"></i>';\"warning\"==e.type&&(o='<i class=\"eg-icon-cancel\"></i>'),\"success\"==e.type&&(o='<i class=\"eg-icon-ok\"></i>'),e.showdelay=null!=e.showdelay?e.showdelay:0,e.hidedelay=null!=e.hidedelay?e.hidedelay:0,0==g(\"#eg-toolbox-wrapper\").length&&g(\"#viewWrapper\").append('<div id=\"eg-toolbox-wrapper\"></div>'),g(\"#eg-toolbox-wrapper\").append('<div class=\"eg-toolbox newadded\">'+o+e.content+\"</div>\");var i=g(\"#eg-toolbox-wrapper\").find(\".eg-toolbox.newadded\");i.removeClass(\"newadded\"),k.TweenLite.fromTo(i,.5,{y:-50,autoAlpha:0,transformOrigin:\"50% 50%\",transformPerspective:900,rotationX:-90},{autoAlpha:1,y:0,rotationX:0,ease:k.Back.easeOut,delay:e.showdelay}),\"event\"!=e.hideon?(i.click(function(){k.TweenLite.to(i,.3,{x:200,ease:k.Power3.easeInOut,autoAlpha:0,onComplete:function(){i.remove()}})}),0!=e.hidedelay&&\"click\"!=e.hideon&&k.TweenLite.to(i,.3,{x:200,ease:k.Power3.easeInOut,autoAlpha:0,delay:e.hidedelay+e.showdelay,onComplete:function(){i.remove()}})):g(\"#eg-toolbox-wrapper\").on(e.event,function(){k.TweenLite.to(i,.3,{x:200,ease:k.Power3.easeInOut,autoAlpha:0,onComplete:function(){i.remove()}})})},l.htmlspecialchars=function(e){return e.replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\").replace(/'/g,\"&#039;\")},l.getAbsolutePos=function(e){var o=curtop=0;if(e.offsetParent)for(o=e.offsetLeft,curtop=e.offsetTop;e=e.offsetParent;)o+=e.offsetLeft,curtop+=e.offsetTop;return[o,curtop]},l.stripslashes=function(e){return(e+\"\").replace(/\\\\(.?)/g,function(e,o){switch(o){case\"\\\\\":return\"\\\\\";case\"0\":return\"\\0\";case\"\":return\"\";default:return o}})},l.strToBool=function(e){return null!=e&&(\"string\"==typeof e&&\"true\"==(e=e.toLowerCase()))},l.setColorPickerCallback=function(e){t=e},l.onColorPickerMoveEvent=function(e){\"function\"==typeof t&&t(e)},l.stripTags=function(e,i){i=(((i||\"\")+\"\").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join(\"\");return e.replace(/<!--[\\s\\S]*?-->|<\\?(?:php)?[\\s\\S]*?\\?>/gi,\"\").replace(/<\\/?([a-z][a-z0-9]*)\\b[^>]*>/gi,function(e,o){return-1<i.indexOf(\"<\"+o.toLowerCase()+\">\")?e:\"\"})},l.rgb2hex=function(e){if(-1==e.search(\"rgb\")||\"\"==g.trim(e))return e;function o(e){return(\"0\"+parseInt(e).toString(16)).slice(-2)}-1<e.indexOf(\"-moz\")&&(delete(a=e.split(\" \"))[0],e=g.trim(a.join(\" \")));if(2<e.split(\")\").length){for(var i=\"\",t=e.split(\")\"),d=0;d<t.length-1;d++){var a;t[d]+=\")\",4==(a=t[d].split(\",\")).length?(e=a[0]+\",\"+a[1]+\",\"+a[2],e+=\")\"):e=t[d],i+=\"#\"+o((e=(e=g.trim(e)).match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+))?\\)$/))[1])+o(e[2])+o(e[3])+\" \"}return i}return 4==(a=e.split(\",\")).length&&(e=a[0]+\",\"+a[1]+\",\"+a[2],e+=\")\"),\"#\"+o((e=e.match(/^rgba?\\((\\d+),\\s*(\\d+),\\s*(\\d+)(?:,\\s*(\\d+))?\\)$/))[1])+o(e[2])+o(e[3])},l.getTransparencyFromRgba=function(e,o){var i=e.split(\",\");return 4==i.length&&((o=void 0===o||o)?i[3].replace(/[^\\d.]/g,\"\"):100*i[3].replace(/[^\\d.]/g,\"\"))},l.debug=function(e){g(\"#div_debug\").show().html(e)},l.trace=function(e,o){o&&1==o&&console.clear(),console.log(e)},l.showErrorMessage=function(e){l.showInfo({content:e,type:\"warning\",showdelay:0,hidedelay:3,hideon:\"\",event:\"\"}),v()};l.setErrorMessageID=function(e){n=e},l.setSuccessMessageID=function(e){o=e};this.hideSuccessMessage=function(){o?(g(\"#\"+o).hide(),o=null):g(\"#success_message\").slideUp(\"slow\").fadeOut(\"slow\"),v()},this.setAjaxLoaderID=function(e){r=e};var _=function(){r&&(g(\"#\"+r).hide(),r=null)};this.setAjaxHideButtonID=function(e){s=e};var v=function(){if(s){var e=s.split(\",\");if(1<e.length)for(var o=0;o<e.length;o++)g(\"#\"+e[o]).show();else g(\"#\"+s).show();s=null}};l.ajaxRequest=function(i,e,t,d,a){var o={action:g_uniteDirPlugin+\"_ajax_action\",client_action:i,nonce:g_revNonce,form_key:window.FORM_KEY,data:e};null!==n?(g(\"#\"+n).hide(),n=null):g(\"#error_message\").hide(),r&&g(\"#\"+r).show(),function(){if(s){var e=s.split(\",\");if(1<e.length)for(var o=0;o<e.length;o++)g(\"#\"+e[o]).hide();else g(\"#\"+s).hide()}}(),void 0===d&&w({fadeIn:300,text:b.please_wait_a_moment}),g.ajax({type:\"post\",url:ajaxurl,dataType:\"json\",data:o,success:function(e){if(void 0===d&&e&&!e.is_redirect&&w({fadeOut:300}),_(),!e)return l.showErrorMessage(\"Empty ajax response!\"),!1;if(-1==e)return l.showErrorMessage(\"ajax error!!!\"),!1;if(0==e)return l.showErrorMessage(\"ajax error, action: <b>\"+i+\"</b> not found\"),!1;if(null==e.success)return l.showErrorMessage(\"The 'success' param is a must!\"),!1;if(0==e.success){if(void 0===a)return l.showErrorMessage(e.message),!1;\"function\"==typeof t&&t(e)}else\"function\"==typeof t&&t(e),e.message&&(o=e.message,l.showInfo({content:o,type:\"success\",showdelay:0,hidedelay:1,hideon:\"\",event:\"\"}),v()),e.is_redirect&&(location.href=e.redirect_url);var o},error:function(e,o,i){void 0===d&&w({fadeOut:300}),_(),\"parsererror\"==o&&l.debug(e.responseText),l.showErrorMessage(\"Ajax Error!!! \"+o)}})};var a=function(e,o,i,t){MediabrowserUtility.openDialog(revMageImageUploadUrl.replace(\"file_type\",t||\"image\"),!1,!1,e,{},o)};l.openAddImageDialog=function(e,o,i){e||(e=b.select_image),a(e,o)},l.openAddVideoDialog=function(e,o,i){e||(e=b.select_image),a(e,o,0,\"video\")},l.loadCssFile=function(e,o,i){var t=Math.floor(1e5*Math.random()+1);i||(e+=\"?rand=\"+t),o&&g(\"#\"+o).remove(),g(\"head\").append(\"<link>\");var d=g(\"head\").children(\":last\");d.attr({rel:\"stylesheet\",type:\"text/css\",href:e}),o&&d.attr({id:o})},l.getUrlShowImage=function(e,o,i,t){var d=g_urlAjaxShowImage.replace(\"-image-\",e);return o&&(d=d.replace(\"-width-\",o)),i&&(d=d.replace(\"-height-\",i)),t&&1==t&&(d=d.replace(\"-type-\",\"exact\")),d};var p=function(e){if(!e)return g(\"#video_content\").html(\"\"),!1;var o=e.thumb_medium,i='<div class=\"video-thumbnail-all-wrapper\">';i+='<div class=\"video-thumbnail-preview-wrapper\"><div id=\"video-thumbnail-preview\" style=\"background-size:cover; background-position:center center; background-image:url('+(\"\"!=g.trim(g(\"#input_video_preview\").val())?g(\"#input_video_preview\").val():o.url)+\"); width:\"+o.width+\"px; height:\"+o.height+'px;display:inline-block;vertical-align:bottom\"></div></div>',i+='<div class=\"video-content-description\">',i+='<div class=\"video-content-title\">'+e.title+\"</div>\",void 0!==e.desc_small&&(i+=e.desc_small),i+=\"</div>\",i+=\"</div>\",g(\"#video_content\").html(i)};l.onYoutubeCallback=function(e){g(\"#youtube_loader\").hide();var o={};if(o.id=g(\"#youtube_id\").val(),o.id=g.trim(o.id),o.video_type=\"youtube\",e[0].width<=129||e[0].height<=96){if(-1!=e[0].src.indexOf(\"/sddefault.jpg\"))return e[0].src=e[0].src.replace(\"sddefault.jpg\",\"hqdefault.jpg\"),!1;o.title=\"YouTube: \"+b.maybe_wrong_yt_id}else o.title=\"YouTube\";o.author=\"YouTube\",o.link=\"\",o.description=\"\",o.desc_small=\"\",200<o.description.length&&(o.desc_small=o.description.slice(0,200)+\"...\"),o.thumb_small={url:e[0].src,width:200,height:150},o.thumb_medium={url:e[0].src,width:320,height:240},o.thumb_big={url:e[0].src,width:e[0].width,height:e[0].height},o.thumb_very_big={url:e[0].src.replace(\"sddefault.jpg\",\"maxresdefault.jpg\"),width:e[0].width,height:e[0].height},o.video_width=e[0].width,o.video_height=e[0].height,p(o);var i=g(\"#input_video_arguments\");\"\"==i.val()&&i.val(i.data(\"youtube\")),u=o,g(\"#video_dialog_tabs\").removeClass(\"disabled\"),d=!0,g(\"#button-video-add\").show()},l.initVideoDef=function(){g(\".button-image-select-video-default\").click(function(){if(void 0===u)return!1;switch(u.video_type){case\"vimeo\":g(\"#input_video_preview\").val(u.thumb_medium.url),g(\"#video-thumbnail-preview\").css({backgroundImage:\"url(\"+u.thumb_medium.url+\")\"});break;case\"youtube\":g(\"#input_video_preview\").val(u.thumb_big.url),g(\"#video-thumbnail-preview\").css({backgroundImage:\"url(\"+u.thumb_big.url+\")\"})}}),g(\".button-image-select-video-max\").click(function(){if(void 0===u)return!1;switch(u.video_type){case\"vimeo\":g(\"#input_video_preview\").val(u.thumb_large.url),g(\"#video-thumbnail-preview\").css({backgroundImage:\"url(\"+u.thumb_large.url+\")\"});break;case\"youtube\":g(\"#input_video_preview\").val(u.thumb_very_big.url),g(\"#video-thumbnail-preview\").css({backgroundImage:\"url(\"+u.thumb_very_big.url+\")\"})}})},l.onVimeoCallback=function(e){g(\"#vimeo_loader\").hide();e=e[0];var o={video_type:\"vimeo\"};o.id=e.id,o.id=g.trim(o.id),o.title=e.title,o.link=e.url,o.author=e.user_name,o.description=e.description,200<o.description.length&&(o.desc_small=o.description.slice(0,200)+\"...\"),o.thumb_large={url:e.thumbnail_large,width:640,height:360},o.thumb_medium={url:e.thumbnail_medium,width:200,height:150},o.thumb_small={url:e.thumbnail_small,width:100,height:75},o.video_with=640,o.video_height=360,p(o);var i=g(\"#input_video_arguments\");\"\"==i.val()&&i.val(i.data(\"vimeo\")),u=o,g(\"#video_dialog_tabs\").removeClass(\"disabled\"),d=!0,g(\"#button-video-add\").show()},l.videoDialogOnError=function(){if(1==d)return g(\"#video_radio_audio\").is(\":checked\")?g(\"#button-audio-add\").show():g(\"#button-video-add\").show(),d=!1;g(\"#button-video-add\").hide(),g(\"#button-audio-add\").hide(),g(\"#youtube_loader\").hide(),g(\"#vimeo_loader\").hide();var e=\"<div class='video-content-error'>\"+b.video_not_found+\"</div>\";g(\"#video_content\").html(e)};var h=function(){1==g(\"#input_video_fullwidth\").is(\":checked\")?g(\"#video_full_screen_settings\").show():(g(\"#input_video_cover\").prop(\"checked\",!1),g(\"#video_full_screen_settings\").hide()),1==g(\"#input_video_cover\").is(\":checked\")?g(\"#input_video_ratio_lbl, #input_video_ratio, #input_video_dotted_overlay_lbl, #input_video_dotted_overlay\").show():g(\"#input_video_ratio_lbl, #input_video_ratio, #input_video_dotted_overlay_lbl, #input_video_dotted_overlay\").hide(),y.onoffStatus(g(\"#input_video_fullwidth\")),y.onoffStatus(g(\"#input_video_cover\"))};l.openVideoDialog=function(e,o,i){c=e;var t=g(\"#dialog_video\"),d={Close:function(){t.dialog(\"close\")}};\"audio\"==i?function(e){if(g(\"#button-audio-add\").text(g(\"#button-audio-add\").data(\"textadd\")),g(\"#video_radio_audio\").attr(\"checked\",!0),g(\"#video_type_chooser\").hide(),g(\"#video_block_youtube\").hide(),g(\"#video_block_vimeo\").hide(),g(\"#video_block_html5\").hide(),g(\"#video_block_audio\").show(),g(\".rs-hide-on-audio\").hide(),g(\".rs-show-on-audio\").show(),!e)return g(\"#video_content\").html(\"\");var o=e.thumb_medium,i='<div class=\"video-thumbnail-all-wrapper\">';i+='<div class=\"video-thumbnail-preview-wrapper\"><div id=\"video-thumbnail-preview\" style=\"background-size:cover; background-position:center center; background-image:url('+(\"\"!=g.trim(g(\"#input_video_preview\").val())?g(\"#input_video_preview\").val():o.url)+\"); width:\"+o.width+\"px; height:\"+o.height+'px;display:inline-block;vertical-align:bottom\"></div></div>',i+='<div class=\"video-content-description\">',i+='<div class=\"video-content-title\">'+e.title+\"</div>\",void 0!==e.desc_small&&(i+=e.desc_small),i+=\"</div>\",i+=\"</div>\",g(\"#video_content\").html(i)}(!1):(p(!1),g(\"#video_block_youtube\").show(),g(\"#video_block_audio\").hide(),g(\"#video_radio_youtube\").attr(\"checked\",!0),g(\".rs-hide-on-audio\").show(),g(\".rs-show-on-audio\").hide(),g(\"#video_type_chooser\").show(),g(\"#video_type_chooser input[type=radio]:checked\").trigger(\"click\")),g(\"#youtube_id,#vimeo_id\").prop(\"disabled\",\"\").removeClass(\"input-disabled\"),g(\"#html5_url_poster\").val(\"\"),g(\"#html5_url_mp4\").val(\"\"),g(\"#html5_url_webm\").val(\"\"),g(\"#html5_url_ogv\").val(\"\"),g(\"#html5_url_audio\").val(\"\"),g(\"#input_video_arguments\").val(\"\"),g(\"#select_video_autoplay option[value='false']\").attr(\"selected\",!0),g(\"#input_video_nextslide\").prop(\"checked\",\"\"),g(\"#input_video_force_rewind\").prop(\"checked\",\"\"),g(\"#input_video_fullwidth\").prop(\"checked\",\"\"),g(\"#input_video_control\").prop(\"checked\",\"\"),g(\"#input_video_mute\").prop(\"checked\",\"\"),g(\"#input_disable_on_mobile\").prop(\"checked\",\"\"),g(\"#input_video_show_cover_pause\").prop(\"checked\",\"\"),g(\"#input_video_large_controls\").prop(\"checked\",!0),g(\"#input_video_leave_fs_on_pause\").prop(\"checked\",!0),g(\"#input_video_cover\").prop(\"checked\",\"\"),g(\"#input_video_stopallvideo\").prop(\"checked\",\"\"),g(\"#input_video_allowfullscreen\").prop(\"checked\",\"\"),g(\"#input_video_dotted_overlay option[value='none']\").attr(\"selected\",!0),g(\"#input_video_ratio option[value='16:9']\").attr(\"selected\",!0),g('#input_video_preload option[value=\"auto\"]').attr(\"selected\",!0),g('#input_video_preload_wait option[value=\"5\"]').attr(\"selected\",!0),g('#input_video_speed option[value=\"1\"]').attr(\"selected\",!0),g('#input_video_loop option[value=\"none\"]').attr(\"selected\",!0),g(\"#input_video_preview\").val(\"\"),g(\"#input_use_poster_on_mobile\").prop(\"checked\",\"\"),g(\"#input_video_show_visibility\").prop(\"checked\",\"\"),g(\"#input_video_play_inline\").prop(\"checked\",\"\"),g(\"#input_video_start_at\").val(\"\"),g(\"#input_video_end_at\").val(\"\"),g(\"#input_video_volume\").val(\"100\"),y.onoffStatus(g(\"#input_video_nextslide\")),y.onoffStatus(g(\"#input_video_force_rewind\")),y.onoffStatus(g(\"#input_video_fullwidth\")),y.onoffStatus(g(\"#input_video_control\")),y.onoffStatus(g(\"#input_video_mute\")),y.onoffStatus(g(\"#input_disable_on_mobile\")),y.onoffStatus(g(\"#input_video_cover\")),y.onoffStatus(g(\"#input_video_stopallvideo\")),y.onoffStatus(g(\"#input_video_allowfullscreen\")),y.onoffStatus(g(\"#input_use_poster_on_mobile\")),y.onoffStatus(g(\"#input_video_show_cover_pause\")),y.onoffStatus(g(\"#input_video_large_controls\")),y.onoffStatus(g(\"#input_video_leave_fs_on_pause\")),y.onoffStatus(g(\"#input_video_show_visibility\")),y.onoffStatus(g(\"#input_video_play_inline\")),g(\"#button-video-add\").hide(),g(\"#button-audio-add\").hide(),g(\"#video_dialog_tabs\").hasClass(\"disabled\")||g(\"#video_dialog_tabs\").addClass(\"disabled\"),g(\"#youtube_id\").val(\"\"),g(\"#vimeo_id\").val(\"\"),g(\"#fullscreenvideofun\").hide();var a=g(\"#button-video-add\");a.text(a.data(\"textadd\"));var l=g(\"#button-audio-add\");l.text(l.data(\"textadd\")),t.dialog({buttons:d,minWidth:830,minHeight:500,modal:!0,dialogClass:\"tpdialogs\",create:function(e){g(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")}}),o&&f(o),h()};var f=function(e){switch(e.id=g.trim(e.id),e.video_type){case\"youtube\":g(\"#video-dialog-wrap\").removeClass(\"html5select\"),g(\"#video_radio_youtube\").trigger(\"click\"),g(\"#youtube_id\").val(e.id),g(\"#fullscreenvideofun\").hide();break;case\"vimeo\":g(\"#video-dialog-wrap\").removeClass(\"html5select\"),g(\"#video_radio_vimeo\").trigger(\"click\"),g(\"#vimeo_id\").val(e.id),g(\"#fullscreenvideofun\").hide();break;case\"html5\":g(\"#video-dialog-wrap\").addClass(\"html5select\"),g(\"#html5_url_poster\").val(e.urlPoster),g(\"#html5_url_mp4\").val(e.urlMp4),g(\"#html5_url_webm\").val(e.urlWebm),g(\"#html5_url_ogv\").val(e.urlOgv),g(\"#video_radio_html5\").trigger(\"click\"),g(\"#fullscreenvideofun\").show();break;case\"streamvimeo\":g(\"#video-dialog-wrap\").removeClass(\"html5select\"),g(\"#video_radio_streamvimeo\").trigger(\"click\");break;case\"streamyoutube\":g(\"#video-dialog-wrap\").removeClass(\"html5select\"),g(\"#video_radio_streamyoutube\").trigger(\"click\");break;case\"streaminstagram\":g(\"#video-dialog-wrap\").removeClass(\"html5select\"),g(\"#video_radio_streaminstagram\").trigger(\"click\");break;case\"audio\":g(\"#html5_url_audio\").val(e.urlAudio),g(\"#rev-html5-options\").hide()}if(g(\"#input_video_arguments\").val(e.args),g(\"#input_video_preview\").val(e.previewimage),e.use_poster_on_mobile&&1==e.use_poster_on_mobile?g(\"#input_use_poster_on_mobile\").prop(\"checked\",\"checked\"):g(\"#input_use_poster_on_mobile\").prop(\"checked\",\"\"),e.video_show_visibility&&1==e.video_show_visibility?g(\"#input_video_show_visibility\").prop(\"checked\",\"checked\"):g(\"#input_video_show_visibility\").prop(\"checked\",\"\"),e.video_play_inline&&1==e.video_play_inline?g(\"#input_video_play_inline\").prop(\"checked\",\"checked\"):g(\"#input_video_play_inline\").prop(\"checked\",\"\"),e.autoplayonlyfirsttime&&1==e.autoplayonlyfirsttime&&(e.autoplay=\"1sttime\"),e.autoplay)switch(e.autoplay){case\"true\":case!0:g('#select_video_autoplay option[value=\"true\"]').attr(\"selected\",!0);break;case!1:case\"false\":g('#select_video_autoplay option[value=\"false\"]').attr(\"selected\",!0);break;default:g('#select_video_autoplay option[value=\"'+e.autoplay+'\"]').attr(\"selected\",!0)}e.nextslide&&1==e.nextslide?g(\"#input_video_nextslide\").prop(\"checked\",\"checked\"):g(\"#input_video_nextslide\").prop(\"checked\",\"\"),e.forcerewind&&1==e.forcerewind?g(\"#input_video_force_rewind\").prop(\"checked\",\"checked\"):g(\"#input_video_force_rewind\").prop(\"checked\",\"\"),e.fullwidth&&1==e.fullwidth?g(\"#input_video_fullwidth\").prop(\"checked\",\"checked\"):g(\"#input_video_fullwidth\").prop(\"checked\",\"\"),e.controls&&1==e.controls?g(\"#input_video_control\").prop(\"checked\",\"checked\"):g(\"#input_video_control\").prop(\"checked\",\"\"),e.mute&&1==e.mute?g(\"#input_video_mute\").prop(\"checked\",\"checked\"):g(\"#input_video_mute\").prop(\"checked\",\"\"),e.disable_on_mobile&&1==e.disable_on_mobile?g(\"#input_disable_on_mobile\").prop(\"checked\",\"checked\"):g(\"#input_disable_on_mobile\").prop(\"checked\",\"\"),e.cover&&1==e.cover?g(\"#input_video_cover\").prop(\"checked\",\"checked\"):g(\"#input_video_cover\").prop(\"checked\",\"\"),e.stopallvideo&&1==e.stopallvideo?g(\"#input_video_stopallvideo\").prop(\"checked\",\"checked\"):g(\"#input_video_stopallvideo\").prop(\"checked\",\"\"),e.allowfullscreen&&1==e.allowfullscreen?g(\"#input_video_allowfullscreen\").prop(\"checked\",\"checked\"):g(\"#input_video_allowfullscreen\").prop(\"checked\",\"\"),e.preload&&g(\"#input_video_preload option\").each(function(){g(this).val()==e.preload&&g(this).attr(\"selected\",!0)}),e.preload_audio&&g(\"#input_audio_preload option\").each(function(){g(this).val()==e.preload_audio&&g(this).attr(\"selected\",!0)}),e.preload_wait&&g(\"#input_video_preload_wait option\").each(function(){g(this).val()==e.preload_wait&&g(this).attr(\"selected\",!0)}),e.videospeed&&g(\"#input_video_speed option\").each(function(){g(this).val()==e.videospeed&&g(this).attr(\"selected\",!0)}),e.dotted&&g(\"#input_video_dotted_overlay option\").each(function(){g(this).val()==e.dotted&&g(this).attr(\"selected\",!0)}),e.ratio&&g(\"#input_video_ratio option\").each(function(){g(this).val()==e.ratio&&g(this).attr(\"selected\",!0)}),e.videoloop&&(1==e.videoloop?g('#input_video_loop option[value=\"loop\"]').attr(\"selected\",!0):g(\"#input_video_loop option\").each(function(){g(this).val()==e.videoloop&&g(this).attr(\"selected\",!0)}));var o=g(\"#button-video-add\");o.text(o.data(\"textupdate\"));var i=g(\"#button-audio-add\");switch(i.text(i.data(\"textupdate\")),e.video_type){case\"youtube\":g(\"#button_youtube_search\").trigger(\"click\");break;case\"vimeo\":g(\"#button_vimeo_search\").trigger(\"click\")}e.show_cover_pause&&1==e.show_cover_pause?g(\"#input_video_show_cover_pause\").prop(\"checked\",\"checked\"):g(\"#input_video_show_cover_pause\").prop(\"checked\",\"\"),void 0!==e.large_controls&&0==e.large_controls?g(\"#input_video_large_controls\").prop(\"checked\",\"\"):g(\"#input_video_large_controls\").prop(\"checked\",\"checked\"),void 0!==e.leave_on_pause&&0==e.leave_on_pause?g(\"#input_video_leave_fs_on_pause\").prop(\"checked\",\"\"):g(\"#input_video_leave_fs_on_pause\").prop(\"checked\",\"checked\"),g(\"#input_video_start_at\").val(e.start_at),g(\"#input_video_end_at\").val(e.end_at),g(\"#input_video_volume\").val(e.volume),y.onoffStatus(g(\"#input_video_nextslide\")),y.onoffStatus(g(\"#input_video_force_rewind\")),y.onoffStatus(g(\"#input_video_fullwidth\")),y.onoffStatus(g(\"#input_video_control\")),y.onoffStatus(g(\"#input_video_mute\")),y.onoffStatus(g(\"#input_disable_on_mobile\")),y.onoffStatus(g(\"#input_video_cover\")),y.onoffStatus(g(\"#input_video_stopallvideo\")),y.onoffStatus(g(\"#input_video_allowfullscreen\")),y.onoffStatus(g(\"#input_use_poster_on_mobile\")),y.onoffStatus(g(\"#input_video_show_cover_pause\")),y.onoffStatus(g(\"#input_video_large_controls\")),y.onoffStatus(g(\"#input_video_leave_fs_on_pause\")),y.onoffStatus(g(\"#input_video_show_visibility\")),y.onoffStatus(g(\"#input_video_play_inline\")),\"audio\"===e.video_type?(g(\"#button-video-add\").hide(),g(\"#button-audio-add\").show()):(g(\"#button-video-add\").show(),g(\"#button-audio-add\").hide()),g(\"#video_dialog_tabs\").removeClass(\"disabled\"),g(\"#reset_video_dialog_tab\").click()},m=function(e){return e.args=g(\"#input_video_arguments\").val(),e.previewimage=g(\"#input_video_preview\").val(),e.autoplay=g(\"#select_video_autoplay option:selected\").val(),e.use_poster_on_mobile=g(\"#input_use_poster_on_mobile\").is(\":checked\"),e.video_show_visibility=g(\"#input_video_show_visibility\").is(\":checked\"),e.video_play_inline=g(\"#input_video_play_inline\").is(\":checked\"),e.nextslide=g(\"#input_video_nextslide\").is(\":checked\"),e.forcerewind=g(\"#input_video_force_rewind\").is(\":checked\"),e.fullwidth=g(\"#input_video_fullwidth\").is(\":checked\"),e.controls=g(\"#input_video_control\").is(\":checked\"),e.mute=g(\"#input_video_mute\").is(\":checked\"),e.disable_on_mobile=g(\"#input_disable_on_mobile\").is(\":checked\"),e.cover=g(\"#input_video_cover\").is(\":checked\"),e.stopallvideo=g(\"#input_video_stopallvideo\").is(\":checked\"),e.allowfullscreen=g(\"#input_video_allowfullscreen\").is(\":checked\"),e.dotted=g(\"#input_video_dotted_overlay option:selected\").val(),e.preload=g(\"#input_video_preload option:selected\").val(),e.preload_audio=g(\"#input_audio_preload option:selected\").val(),e.preload_wait=g(\"#input_video_preload_wait option:selected\").val(),e.videospeed=g(\"#input_video_speed option:selected\").val(),e.ratio=g(\"#input_video_ratio option:selected\").val(),e.videoloop=g(\"#input_video_loop option:selected\").val(),e.show_cover_pause=g(\"#input_video_show_cover_pause\").is(\":checked\"),e.start_at=g(\"#input_video_start_at\").val(),e.end_at=g(\"#input_video_end_at\").val(),e.volume=g(\"#input_video_volume\").val(),e.large_controls=g(\"#input_video_large_controls\").is(\":checked\"),e.leave_on_pause=g(\"#input_video_leave_fs_on_pause\").is(\":checked\"),e},e=function(){g(\"#video_radio_youtube\").prop(\"checked\",!0),g(\"#video_radio_vimeo\").click(function(){g(\"#video_block_youtube\").hide(),g(\"#video_block_html5\").hide(),g(\"#rev-html5-options\").hide(),g(\"#rev-youtube-options\").hide(),g(\"#rev-playsinline-options\").hide(),g(\"#video_block_vimeo\").show(),g(\"#preview-image-video-wrap\").show(),g(\"#video-dialog-wrap\").removeClass(\"html5select\"),g(\"#fullscreenvideofun\").hide(),g(\".video-volume\").show(),g(\".hide-for-vimeo\").hide()}),g(\"#video_radio_youtube\").click(function(){g(\"#video_block_vimeo\").hide(),g(\"#video_block_html5\").hide(),g(\"#rev-html5-options\").hide(),g(\"#rev-youtube-options\").show(),g(\"#rev-playsinline-options\").show(),g(\"#video_block_youtube\").show(),g(\"#preview-image-video-wrap\").show(),g(\"#video-dialog-wrap\").removeClass(\"html5select\"),g(\"#fullscreenvideofun\").hide(),g(\".video-volume\").show(),g(\".hide-for-vimeo\").show()}),g(\"#video_radio_html5\").click(function(){g(\"#video_block_vimeo\").hide(),g(\"#video_block_youtube\").hide(),g(\"#video_block_html5\").show(),g(\"#rev-youtube-options\").hide(),g(\"#rev-playsinline-options\").show(),g(\"#rev-html5-options\").show(),g(\"#video_content\").hide(),g(\"#preview-image-video-wrap\").hide(),g(\"#video-dialog-wrap\").addClass(\"html5select\"),g(\"#fullscreenvideofun\").show(),g(\".video-volume\").show(),g(\".hide-for-vimeo\").show()}),g(\"#video_radio_streamyoutube\").click(function(){g(\"#video_block_youtube\").hide(),g(\"#video_block_vimeo\").hide(),g(\"#video_block_html5\").hide(),g(\"#rev-html5-options\").hide(),g(\"#rev-youtube-options\").hide(),g(\"#rev-playsinline-options\").hide(),g(\"#preview-image-video-wrap\").show(),g(\"#video-dialog-wrap\").removeClass(\"html5select\"),g(\"#fullscreenvideofun\").hide(),g(\"#video_dialog_tabs\").removeClass(\"disabled\"),g(\"#button-video-add\").show(),g(\".video-volume\").show(),g(\".hide-for-vimeo\").show()}),g(\"#video_radio_streamvimeo\").click(function(){g(\"#video_block_youtube\").hide(),g(\"#video_block_vimeo\").hide(),g(\"#video_block_html5\").hide(),g(\"#rev-html5-options\").hide(),g(\"#rev-youtube-options\").show(),g(\"#rev-playsinline-options\").show(),g(\"#preview-image-video-wrap\").show(),g(\"#video-dialog-wrap\").removeClass(\"html5select\"),g(\"#fullscreenvideofun\").hide(),g(\"#video_dialog_tabs\").removeClass(\"disabled\"),g(\"#button-video-add\").show(),g(\".video-volume\").show(),g(\".hide-for-vimeo\").hide()}),g(\"#video_radio_streaminstagram\").click(function(){g(\"#video_block_youtube\").hide(),g(\"#video_block_vimeo\").hide(),g(\"#video_block_html5\").hide(),g(\"#rev-html5-options\").hide(),g(\"#rev-youtube-options\").hide(),g(\"#rev-playsinline-options\").hide(),g(\"#preview-image-video-wrap\").show(),g(\"#video-dialog-wrap\").removeClass(\"html5select\"),g(\"#fullscreenvideofun\").hide(),g(\"#video_dialog_tabs\").removeClass(\"disabled\"),g(\"#button-video-add\").show(),g(\".video-volume\").hide(),g(\".hide-for-vimeo\").show()}),g(\"#input_video_cover\").change(function(){g(this).is(\":checked\")&&(g(\"#input_video_fullwidth\").is(\":checked\")||g(\"#input_video_fullwidth\").prop(\"checked\",!0),y.onoffStatus(g(\"#input_video_fullwidth\"))),h()}),g(\"#input_video_fullwidth\").change(function(){g(this).is(\":checked\")?g(\"#video_full_screen_settings\").show():g(\"#video_full_screen_settings\").hide()}),g(\"#button_youtube_search\").click(function(){p(!1),g(\"#youtube_loader\").show();var e=g(\"#youtube_id\").val();e=function(e){var o=(e=g.trim(e)).split(\"v=\")[1];if(o){var i=o.indexOf(\"&\");-1!=i&&(o=o.substring(0,i))}else o=-1!=e.indexOf(\"youtu.be/\")?e.split(\"youtu.be/\")[1]:e;return o}(e=g.trim(e)),g(\"#youtube_id\").val(e);var o=new Image;o.onload=function(){var e=g(this);x.onYoutubeCallback(e)},o.src=\"https://img.youtube.com/vi/\"+e+\"/maxresdefault.jpg\",g(\"#video_content\").show(),setTimeout(\"UniteAdminRev.videoDialogOnError()\",2e3)}),g(\"#button-video-add, #button-audio-add\").click(function(){var e=g(\"#video_radio_html5\").prop(\"checked\"),o=g(\"#video_radio_audio\").prop(\"checked\"),i=g(\"#video_radio_streamyoutube\").prop(\"checked\"),t=g(\"#video_radio_streamvimeo\").prop(\"checked\"),d=g(\"#video_radio_streaminstagram\").prop(\"checked\");if(g(\"#video_content\").hide(),e)(a={video_type:\"html5\"}).urlPoster=g(\"#html5_url_poster\").val(),a.urlMp4=g(\"#html5_url_mp4\").val(),a.urlWebm=g(\"#html5_url_webm\").val(),a.urlOgv=g(\"#html5_url_ogv\").val(),a.video_width=480,a.video_height=360,a=m(a),\"function\"==typeof c&&c(a),g(\"#dialog_video\").dialog(\"close\");else if(i){a=m(a={video_type:\"streamyoutube\",video_width:480,video_height:360}),\"function\"==typeof c&&c(a),g(\"#dialog_video\").dialog(\"close\")}else if(t){a=m(a={video_type:\"streamvimeo\",video_width:480,video_height:360}),\"function\"==typeof c&&c(a),g(\"#dialog_video\").dialog(\"close\")}else if(d){a=m(a={video_type:\"streaminstagram\",video_width:480,video_height:360}),\"function\"==typeof c&&c(a),g(\"#dialog_video\").dialog(\"close\")}else if(o){var a;(a={video_type:\"audio\"}).urlAudio=g(\"#html5_url_audio\").val(),a.video_width=200,a.video_height=34,a=m(a),\"function\"==typeof c&&c(a),g(\"#dialog_video\").dialog(\"close\")}else{if(!u)return!1;u=m(u),\"function\"==typeof c&&c(u),g(\"#dialog_video\").dialog(\"close\")}try{UniteLayersRev.setLayerSelected(selectedLayerSerial,!0)}catch(e){}}),g(\"#html5_url_ogv, #html5_url_webm, #html5_url_mp4\").on(\"change\",function(){g(\"#video_dialog_tabs\").removeClass(\"disabled\"),g(\"#button-video-add\").show(),g(\"#button-audio-add\").hide()}),g(\"#html5_url_audio\").on(\"change\",function(){g(\"#video_dialog_tabs\").removeClass(\"disabled\"),g(\"#button-video-add\").hide(),g(\"#button-audio-add\").show()}),g(\"#button_vimeo_search\").click(function(){p(!1),g(\"#vimeo_loader\").show(),g(\"#video_content\").show();var e,o,i=g(\"#vimeo_id\").val();i=g.trim(i),e=i,o=(e=g.trim(e)).replace(/[^0-9]+/g,\"\");var t=\"//www.vimeo.com/api/v2/video/\"+(i=o=g.trim(o))+\".json?callback=UniteAdminRev.onVimeoCallback\";g.getScript(t),setTimeout(\"UniteAdminRev.videoDialogOnError()\",2e3)}),g(\"#input_video_fullwidth\").change(h)};l.setMultipleTextKey=function(e,o){i[e]=o},l.getMultipleTextKey=function(e){return i[e]};l.parseCssMultiAttribute=function(e){if(\"\"==e)return!1;var o=e.split(\" \"),i=[];switch(o.length){case 1:i[0]=o[0],i[1]=o[0],i[2]=o[0],i[3]=o[0];break;case 2:i[0]=o[0],i[1]=o[1],i[2]=o[0],i[3]=o[1];break;case 3:i[0]=o[0],i[1]=o[1],i[2]=o[2],i[3]=o[1];break;case 4:i[0]=o[0],i[1]=o[1],i[2]=o[2],i[3]=o[3];break;case 0:default:return!1}return i},l.convertHexToRGB=function(e){return[(e=parseInt(-1<e.indexOf(\"#\")?e.substring(1):e,16))>>16,(65280&e)>>8,255&e]},l.initGoogleFonts=function(){g(\"#eg-font-setting-change\").click(function(){x.ajaxRequest(\"change_google_fonts_settings\",{setting:g('input[name=\"load_fonts_place\"]:checked').val()},function(e){})}),g(\"#eg-font-add\").click(function(){g(\"#font-dialog-wrap\").dialog({modal:!0,draggable:!1,resizable:!1,width:470,height:320,closeOnEscape:!0,dialogClass:\"tpdialogs\",create:function(e){g(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")},buttons:[{text:\"Add Font\",click:function(){var e={};if(e.handle=l.sanitize_input(g('input[name=\"eg-font-handle\"]').val()),e.url=g('input[name=\"eg-font-url\"]').val(),e.handle.length<3||e.url.length<3)return alert(b.handle_at_least_three_chars),!1;x.ajaxRequest(\"add_google_fonts\",e,function(e){})}}]})}),g(\"body\").on(\"click\",\".eg-font-edit\",function(){if(confirm(b.really_change_font_sett)){var e={},o=g(this);e.handle=o.closest(\".inside\").find('input[name=\"esg-font-handle[]\"]').val(),e.url=o.closest(\".inside\").find('input[name=\"esg-font-url[]\"]').val(),x.ajaxRequest(\"edit_google_fonts\",e,function(e){})}}),g(\"body\").on(\"click\",\".eg-font-delete\",function(){if(confirm(b.really_delete_font)){var e={},o=g(this);e.handle=o.closest(\".inside\").find('input[name=\"esg-font-handle[]\"]').val(),x.ajaxRequest(\"remove_google_fonts\",e,function(e){1==e.success&&o.closest(\".postbox.eg-postbox\").remove()})}})},l.sanitize_input=function(e){return e.replace(/ /g,\"-\").replace(/[^-0-9a-zA-Z_-]/g,\"\")},l.sanitize_input_lc=function(e){return e.replace(/ /g,\"-\").replace(/[^-0-9a-z_-]/g,\"\")},l.initAccordion=function(){g(\".postbox-arrow\").each(function(e){g(this).closest(\"h3\").click(function(){var e=g(this);e.hasClass(\"box-closed\")?(g(\".postbox-arrow\").each(function(){var e=g(this).closest(\"h3\");e.closest(\".postbox\").find(\".inside\").slideUp(\"fast\"),e.addClass(\"box-closed\")}),e.closest(\".postbox\").find(\".inside\").slideDown(\"fast\"),e.removeClass(\"box-closed\")):(e.closest(\".postbox\").find(\".inside\").slideUp(\"fast\"),e.addClass(\"box-closed\"))})})},l.return_ajaxurl_param=function(){return-1===ajaxurl.indexOf(\"?\")?\"?\":\"&\"},l.duplicateObject=function(e,o){return l.removePrototypeMethods(void 0!==o&&o?g.extend(!0,{},e):g.extend({},e))},l.duplicateObjectDeep=function(e){return l.duplicateObject(e,!0)},l.removePrototypeMethods=function(e){for(var o in e)e.hasOwnProperty(o)?\"Object\"!=typeof e[o]&&\"Array\"!=typeof e[o]||(e[o]=l.removePrototypeMethods(e[o])):delete e[o];return e},g(document).ready(function(){g(\"body\").addClass(\"wp-core-ui\"),e(),g(\".button_save_general_settings\").click(function(){var e=y.getSettingsObject(\"form_general_settings\");g(\"#loader_general_settings\").show(),x.ajaxRequest(\"update_general_settings\",e,function(){})}),g(\"#trigger_font_deletion\").click(function(){confirm(\"This will update all downloaded Google Fonts\")&&x.ajaxRequest(\"trigger_font_deletion\",{},function(e){})}),g(\"body\").on(\"click\",\".remove_multiple_text\",function(){g(\"#\"+g(this).data(\"remove\")).remove(),g(this).parent().remove()}),g(\".multiple_text_add\").click(function(){var e=g(this).data(\"name\"),o=l.getMultipleTextKey(e)+1,i=g(\".\"+e+\"_TEMPLATE\").html();i=i.replace(/##ID##/gi,e+\"_\"+o).replace(/##NAME##/gi,e),g(\"#\"+e+\"_row .setting_input\").append(i),l.setMultipleTextKey(e,o)}),g(\"#rs-validation-activate\").click(function(){var e={code:g('input[name=\"rs-validation-token\"]').val().replace(/[^0-9a-z-]/gi,\"\")};x.ajaxRequest(\"activate_purchase_code\",e,function(e){0==e.success?g(\"#register-wrong-purchase-code\").click():void 0!==e.error&&\"exist\"==e.error&&l.showErrorMessage(e.msg)},void 0,!0)}),g(\"#rs-validation-deactivate\").click(function(){x.ajaxRequest(\"deactivate_purchase_code\",\"\")})})};return window.UniteAdminRev=x});","Nwdthemes_Revslider/admin/assets/js/rev_addon-admin.js":"\r\n(function( $ ) {\r\n\t$(document).ready(function(){\r\n\t\t//hover toggles buttons\r\n\r\n\r\n\t\t//click event to install plugin\r\n\t\t\t$(\".rs-addon-not-installed\").click(function(){\r\n\t\t\t\tshowWaitAMinute({fadeIn:300,text:rev_slider_addon.please_wait_a_moment});\r\n\t\t\t\t$this = $(this);\r\n\t\t\t\t//console.log(\"install process\");\r\n\t\t\t\t$.ajax({\r\n\t\t\t\turl : rev_slider_addon.ajax_url,\r\n\t\t\t\ttype : 'post',\r\n\t\t\t\tdata : {\r\n\t\t\t\t\taction : 'install_plugin',\r\n\t\t\t\t\tnonce: \t$('#ajax_rev_slider_addon_nonce').text(),// The security nonce\r\n                    form_key:window.FORM_KEY,\r\n\t\t\t\t\tplugin: $this.data(\"plugin\")\r\n\t\t\t\t},\r\n\t\t\t\tsuccess : function( response ) {\r\n\t\t\t\t\tswitch(response){\r\n\t\t\t\t\t\tcase \"0\":\r\n                                showWaitAMinute({fadeOut:300,text:rev_slider_addon.please_wait_a_moment});\r\n                                UniteAdminRev.showErrorMessage(\"Something went wrong!\");\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"1\":\r\n\t\t\t\t\t\t\t\tlocation.reload();\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"-1\":\r\n                                showWaitAMinute({fadeOut:300,text:rev_slider_addon.please_wait_a_moment});\r\n                                UniteAdminRev.showErrorMessage(\"Nonce missing!\");\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror : function ( response ){\r\n                    showWaitAMinute({fadeOut:300,text:rev_slider_addon.please_wait_a_moment});\r\n                    UniteAdminRev.showErrorMessage(\"Something went wrong!\");\r\n\t\t\t\t}\r\n\t\t\t}); // End Ajax\r\n\t\t}); // End Click\r\n\r\n\t\t//click event to activate plugin\r\n\t\t\t$(\".rs-addon-not-activated\").click(function(){\r\n\t\t\t\tshowWaitAMinute({fadeIn:300,text:rev_slider_addon.please_wait_a_moment});\r\n\t\t\t\t\r\n\t\t\t\t$this = $(this);\r\n\t\t\t\t$.ajax({\r\n\t\t\t\turl : rev_slider_addon.ajax_url,\r\n\t\t\t\ttype : 'post',\r\n\t\t\t\tdata : {\r\n\t\t\t\t\taction : 'activate_plugin',\r\n\t\t\t\t\tnonce: \t$('#ajax_rev_slider_addon_nonce').text(),// The security nonce\r\n                    form_key:window.FORM_KEY,\r\n\t\t\t\t\tplugin: $this.data(\"plugin\")\r\n\t\t\t\t},\r\n\t\t\t\tsuccess : function( response ) {\r\n\t\t\t\t\tswitch(response){\r\n\t\t\t\t\t\tcase \"0\":\r\n\t\t\t\t\t\t\t\tconsole.log(\"Something Went Wrong\");\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"1\":\r\n\t\t\t\t\t\t\t\tconsole.log(\"Plugin activated\");\r\n\t\t\t\t\t\t\t\t location.reload();\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"-1\":\r\n\t\t\t\t\t\t\t\tconsole.log(\"Nonce missing\");\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror : function ( response ){\r\n\t\t\t\t\tconsole.log('Ajax Error');\r\n\t\t\t\t}\r\n\t\t\t}); // End Ajax\r\n\t\t}); // End Click\r\n\r\n\t\t//click event to deactivate plugin\r\n\t\t$(\".rs-dash-deactivate-addon\").click(function(){\r\n\t\t\t\tshowWaitAMinute({fadeIn:300,text:rev_slider_addon.please_wait_a_moment});\r\n\t\t\t\t$this = $(this);\r\n\t\t\t\t$.ajax({\r\n\t\t\t\turl : rev_slider_addon.ajax_url,\r\n\t\t\t\ttype : 'post',\r\n\t\t\t\tdata : {\r\n\t\t\t\t\taction : 'deactivate_plugin',\r\n\t\t\t\t\tnonce: \t$('#ajax_rev_slider_addon_nonce').text(),// The security nonce\r\n                    form_key:window.FORM_KEY,\r\n\t\t\t\t\tplugin: $this.data(\"plugin\")\r\n\t\t\t\t},\r\n\t\t\t\tsuccess : function( response ) {\r\n\t\t\t\t\tswitch(response){\r\n\t\t\t\t\t\tcase \"0\":\r\n\t\t\t\t\t\t\t\tconsole.log(\"Something Went Wrong\");\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"1\":\r\n\t\t\t\t\t\t\t\tconsole.log(\"Plugin deactivated\");\r\n\t\t\t\t\t\t\t\tlocation.reload();\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"-1\":\r\n\t\t\t\t\t\t\t\tconsole.log(\"Nonce missing\");\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terror : function ( response ){\r\n\t\t\t\t}\r\n\t\t\t}); // End Ajax\r\n\t\t}); // End Click\r\n\t});// End Document ready\r\n\r\n})( jQuery );\r\n\r\n\r\nif (showWaitAMinute===undefined)\r\n\tfunction showWaitAMinute(obj) {\r\n\t\tvar wm = jQuery('#waitaminute');\r\n\t\t// SHOW AND HIDE WITH DELAY\r\n\t\tif (obj.delay!=undefined) {\r\n\r\n\t\t\tpunchgs.TweenLite.to(wm,0.3,{autoAlpha:1,ease:punchgs.Power3.easeInOut});\r\n\t\t\tpunchgs.TweenLite.set(wm,{display:\"block\"});\r\n\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tpunchgs.TweenLite.to(wm,0.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut,onComplete:function() {\r\n\t\t\t\t\tpunchgs.TweenLite.set(wm,{display:\"block\"});\r\n\t\t\t\t}});\r\n\t\t\t},obj.delay)\r\n\t\t}\r\n\r\n\t\t// SHOW IT\r\n\t\tif (obj.fadeIn != undefined) {\r\n\t\t\tpunchgs.TweenLite.to(wm,obj.fadeIn/1000,{autoAlpha:1,ease:punchgs.Power3.easeInOut});\r\n\t\t\tpunchgs.TweenLite.set(wm,{display:\"block\"});\r\n\t\t}\r\n\r\n\t\t// HIDE IT\r\n\t\tif (obj.fadeOut != undefined) {\r\n\r\n\t\t\tpunchgs.TweenLite.to(wm,obj.fadeOut/1000,{autoAlpha:0,ease:punchgs.Power3.easeInOut,onComplete:function() {\r\n\t\t\t\t\tpunchgs.TweenLite.set(wm,{display:\"block\"});\r\n\t\t\t\t}});\r\n\t\t}\r\n\r\n\t\t// CHANGE TEXT\r\n\t\tif (obj.text != undefined) {\r\n\t\t\tswitch (obj.text) {\r\n\t\t\t\tcase \"progress1\":\r\n\r\n\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\twm.html('<div class=\"waitaminute-message\"><i class=\"eg-icon-emo-coffee\"></i><br>'+obj.text+'</div>');\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","Nwdthemes_Revslider/admin/assets/js/edit_layers_timeline.min.js":"define(\"editLayersTimeline\",[\"jquery\",\"themepunchTools\",\"settings\",\"admin\"],function(jQuery,punchgs,RevSliderSettings,UniteAdminRev){if(window.AudioContext=window.AudioContext||window.webkitAudioContext,window.AudioContext)var audioContext=new AudioContext,audiosource=audioContext.createBufferSource();else audiosource=null;var tpLayerTimelinesRev=new function(){var t=this,u=new Object,sortMode=\"time\",__ctime,__ctimeb,__ctimei,__coffset=0;function checkAvailableAutoTimes(){var e=jQuery(\".mastertimer-timeline-selector-row.selected\").length;jQuery(\".autotiming-action\").addClass(\"notclickable\"),e>1?jQuery(\".autotiming-action\").removeClass(\"notclickable\"):1==e&&(jQuery(\".autotiming-action-3\").removeClass(\"notclickable\"),jQuery(\".autotiming-action-4\").removeClass(\"notclickable\"),jQuery(\".autotiming-action-5\").removeClass(\"notclickable\"),jQuery(\".autotiming-action-6\").removeClass(\"notclickable\"))}function addIconFunction(){jQuery(\"#tp-addiconbutton, .addbutton-icon\").click(function(){jQuery(\"#dialog_insert_icon\").dialog({width:491,height:500,dialogClass:\"tpdialogs\",resize:function(){var e=jQuery(\"#dialog_insert_icon\");e.css({width:e.parent().width()-30,height:e.parent().height()-60})},modal:!0,create:function(e,t){var a=jQuery(e.target),r=document.styleSheets,i=jQuery(\"#dialog_insert_icon\");i.parent().css({padding:\"0px\",border:\"none\",borderRadius:\"0px\"}),i.parent().find(\".ui-dialog-titlebar.ui-widget-header.ui-corner-all.ui-helper-clearfix.ui-draggable-handle\").addClass(\"tp-slider-new-dialog-title\"),r&&jQuery.each(r,function(e,t){var r=!1,i=\"\";try{null!==t.cssRules&null!=t.cssRules&&jQuery.each(t.cssRules,function(e,t){t&&null!==t&&\"null\"!==t&&null!=t.selectorText&&jQuery.each(rs_icon_sets,function(e,a){if(t.selectorText.split(a).length>1&&t.cssText.split(\"content\").length>1){var s=t.selectorText.split(\"::before\")[0].split(\":before\")[0];null!=s&&null!=(s=s.split(\".\")[1])&&(0==r&&(r=!0,i='<ul class=\"tp-icon-preview-list lastaddediconset\">'),i=i+'<li><i class=\"'+s+'\"></i></li>')}})})}catch(e){}if(r){i+=\"</ul>\",a.append(i);var s=a.find(\".lastaddediconset\").find(\"li\").first().find(\"i\");a.find(\".lastaddediconset\").prepend(\"<h3>\"+s.css(\"fontFamily\")+\"</h3>\").removeClass(\"lastaddediconset\")}}),a.on(\"click\",\"li\",function(){jQuery(\"#dialog_addbutton\").length>0&&\"none\"!==jQuery(\"#dialog_addbutton\").closest(\".tpdialogs\").css(\"display\")?jQuery(\".addbutton-icon:visible\").length>0?(jQuery(\".addbutton-icon\").html(jQuery(this).html()),jQuery(\"#dialog_insert_icon\").dialog(\"close\"),setExampleButtons()):(jQuery(\".lasteditedlayertext\").length>0?jQuery(\".lasteditedlayertext\").val(jQuery(\".lasteditedlayertext\").val()+jQuery(this).html()).blur().focus():jQuery(\"#layer_text\").val(jQuery(\"#layer_text\").val()+jQuery(this).html()).blur().focus(),jQuery(\"#dialog_insert_icon\").dialog(\"close\")):(jQuery(\".lasteditedlayertext\").length>0?jQuery(\".lasteditedlayertext\").val(jQuery(\".lasteditedlayertext\").val()+jQuery(this).html()).blur().focus():jQuery(\".layer_text\").val(jQuery(\"#layer_text\").val()+jQuery(this).html()).blur().focus(),jQuery(\"#dialog_insert_icon\").dialog(\"close\")),u.updateLayerFromFields()})}})})}function reBlurFocus(e,t,a){jQuery(\"#rs-animation-tab-button\").hasClass(\"selected\")||jQuery(\"#rs-loopanimation-tab-button\").hasClass(\"selected\")||(t=Number(t)+e,t=Math.round(100*t)/100,a.val(t),jQuery(\":focus\").blur(),a.focus())}function basicClicksAndHovers(){jQuery(\".rs-staticcustomstylechange\").change(function(){t.rebuildLayerIdle(jQuery(\".slide_layer.layer_selected\"))}),jQuery(\".rs-layer-settings-tabs li\").click(function(){var e=jQuery(this);\"#rs-animation-tab-button\"!=e.attr(\"id\")&&0==e.closest(\"#rs-animation-tab-button\").length&&\"#rs-loopanimation-tab-button\"!=e.attr(\"id\")&&0==e.closest(\"#rs-loopanimation-tab-button\").length?(t.stopAllLayerAnimation(),setTimeout(function(){u.removeCurrentLayerRotatable(),u.makeCurrentLayerRotatable(),jQuery(\"#hide_layer_content_editor\").click()},19)):jQuery(this).hasClass(\"selected\")||(t.stopAllLayerAnimation(),\"#rs-animation-tab-button\"==e.attr(\"id\")||0!=e.closest(\"#rs-animation-tab-button\").length?(t.animateCurrentSelectedLayer(3),u.removeCurrentLayerRotatable(),jQuery(\"#hide_layer_content_editor\").click()):(t.callCaptionLoops(),u.removeCurrentLayerRotatable(),jQuery(\"#hide_layer_content_editor\").click()))}),jQuery(\"#divLayers\").click(function(){t.stopAllLayerAnimation(),u.removeCurrentLayerRotatable(),setTimeout(function(){t.checkAnimationTab()&&t.animateCurrentSelectedLayer(4),t.checkLoopTab()&&t.callCaptionLoops()},19)}),jQuery(\"#layeranimation-playpause\").click(function(){var e=jQuery(this);e.hasClass(\"inpause\")?(e.removeClass(\"inpause\"),t.checkAnimationTab()&&(t.stopAllLayerAnimation(),t.animateCurrentSelectedLayer(5),u.removeCurrentLayerRotatable())):(e.addClass(\"inpause\"),t.stopAllLayerAnimation())}),jQuery(\"#loopanimation-playpause\").click(function(){var e=jQuery(this);e.hasClass(\"inpause\")?(e.removeClass(\"inpause\"),t.checkLoopTab()&&(t.stopAllLayerAnimation(),t.callCaptionLoops(),u.removeCurrentLayerRotatable())):(e.addClass(\"inpause\"),t.stopAllLayerAnimation())}),jQuery(\"#rs-style-tab-button\").click(function(){setTimeout(function(){jQuery(\".slide_layer\").each(function(){t.rebuildLayerIdle(jQuery(this));var e=jQuery(this).find(\".innerslide_layer\").first();if(e.length>0&&null!=e.data(\"hoveranim\")){var a=e.data(\"hoveranim\");a.seek(a.endTime())}})},19)}),jQuery(\"#toggle-idle-hover\").click(function(){setTimeout(function(){t.rebuildLayerIdle(jQuery(\".slide_layer.layer_selected\"))},19)}),jQuery(\"#style_form_wrapper\").on(\"colorchanged\",function(){t.rebuildLayerIdle(jQuery(\".slide_layer.layer_selected\"))})}function preparePeviewAnimations(){jQuery(\".rs-inoutanimationfield\").on(\"change\",function(){t.checkAnimationTab()&&(t.stopAllLayerAnimation(),setTimeout(function(){t.animateCurrentSelectedLayer(50)},19))})}function prepareLoopAnimations(){jQuery(\".rs-loopanimationfield\").on(\"change\",function(){t.checkLoopTab()&&(t.stopAllLayerAnimation(),setTimeout(function(){t.callCaptionLoops()},19))})}t.timelinetype=\"absolute\",t.mainMaxTimeLeft=0,t.layout=\"desktop\",t.timercorrectur=0,t.init=function(e){var a;u=e,g_rebuildTimer=999,g_slideTime=u.getMaintime(),g_keyTimer=0,t.mainMaxTimeLeft=jQuery(\"#mastertimer-maxtime\").position().left,initSlideDuration(),initSortbox(),initMasterTimer(),preparePeviewAnimations(),prepareLoopAnimations(),showHideTimeines(),basicClicksAndHovers(),addIconFunction(),t.addToSortbox(),jQuery(\"#slide_transition, #slot_amount, #transition_rotation\").change(function(){setFakeAnim()}),jQuery(window).resize(function(){clearTimeout(a),a=setTimeout(function(){t.resetSlideAnimations(!1)},250)});var r=!1;jQuery(\"#thelayer-editor-wrapper\").hover(function(){r=!0},function(){r=!1}),jQuery(\"#fake-select-title-wrapper\").click(function(){jQuery(\"#slide-animation-settings-content-tab\").click(),jQuery(\"html,body\").animate({scrollTop:-100+jQuery(\"#slide-animation-settings-content-tab\").offset().top},200)}),jQuery(\".slide-trans-menu-element\").each(function(){var e=jQuery(this);e.text(e.text().toLowerCase()),e.click(function(){var e=jQuery(this);jQuery(\".slide-trans-menu-element\").removeClass(\"selected\"),e.addClass(\"selected\"),jQuery(\".slide-trans-checkelement\").hide(),jQuery(\".\"+e.data(\"reference\")).show()})}),jQuery(\".slide-trans-menu-element\").first().click();\"undefined\"!=typeof choosen_slide_transition&&function(){var e=jQuery(\".slide-trans-cur-ul\");for(var t in choosen_slide_transition)if(choosen_slide_transition.hasOwnProperty(t)){var a=\"\";a+=' data-duration=\"'+transition_settings.duration[t]+'\"',a+=' data-ease_in=\"'+transition_settings.ease_in[t]+'\"',a+=' data-ease_out=\"'+transition_settings.ease_out[t]+'\"',a+=' data-rotation=\"'+transition_settings.rotation[t]+'\"',a+=' data-slot=\"'+transition_settings.slot[t]+'\"',e.append('<li value=\"'+choosen_slide_transition[t]+'\"'+a+' class=\"justaddedtrans draggable-trans-element\">'+jQuery('input[name=\"slide_transition[]\"][value=\"'+choosen_slide_transition[t]+'\"]').parent().text()+'<i class=\"remove-trans-from-list eg-icon-cancel\"></i></li>'),jQuery(\".justaddedtrans\").data(\"animval\",choosen_slide_transition[t]),jQuery(\".justaddedtrans\").removeClass(\"justaddedtrans\")}setFakeAnim()}();var i=new punchgs.TimelineLite,s=jQuery(\"#form_slide_params\").offset();jQuery(\"body\").on(\"click\",\".remove-trans-from-list\",function(){var e=jQuery(this).parent(),t=e.data(\"animval\"),a=!1;return jQuery(\".slide-trans-checkelement\").each(function(){var e=jQuery(this).find(\"input\");e.val()==t&&(e.removeAttr(\"checked\"),a=!0)}),a&&jQuery(\".remove-trans-from-list\").length>1?(e.remove(),jQuery(\".slide-trans-cur-ul li:first-child\").click()):alert(rev_lang.cant_remove_last_transition),!1}),jQuery(\".slide-trans-checkelement\").on(\"mouseover\",function(e){var t=jQuery(this).find('input[name=\"slide_transition[]\"]'),a=jQuery(\".slide-trans-example-inner .slotholder\"),r=jQuery(\".slide-trans-example-inner .oldslotholder\"),o=jQuery(\".slide-trans-example\");a.find(\".slot\").each(function(){jQuery(this).remove()}),r.find(\".slot\").each(function(){jQuery(this).remove()}),i.kill(),punchgs.TweenLite.set(a,{clearProps:\"transform\"}),punchgs.TweenLite.set(r,{clearProps:\"transform\"}),punchgs.TweenLite.set(a.find(\".defaultimg\"),{clearProps:\"transform\",autoAlpha:1}),punchgs.TweenLite.set(r.find(\".defaultimg\"),{clearProps:\"transform\",autoAlpha:1}),(i=slideAnimation(a,r,t.val(),i,!0)).pause(.001),punchgs.TweenLite.to(o,.2,{top:e.pageY-s.top,overwrite:\"all\",autoAlpha:1,ease:punchgs.Power3.easeInOut,onComplete:function(){setTimeout(function(){i.play()},100)}})}),jQuery(\".slide-trans-checkelement\").on(\"mouseleave\",function(){clearTimeout(void 0);jQuery(this).find('input[name=\"slide_transition[]\"]'),jQuery(\".slide-trans-example-inner .slotholder\"),jQuery(\".slide-trans-example-inner .oldslotholder\");punchgs.TweenLite.to(jQuery(\".slide-trans-example\"),.2,{autoAlpha:0,delay:.2})}),jQuery('input[name=\"slide_transition[]\"]').on(\"change\",function(){if(jQuery(this).is(\":checked\")){' data-duration=\"default\"',' data-ease_in=\"default\"',' data-ease_out=\"default\"',' data-rotation=\"0\"',' data-slot=\"default\"',jQuery(\".slide-trans-cur-ul\").append('<li value=\"'+jQuery(this).val()+'\" data-duration=\"default\" data-ease_in=\"default\" data-ease_out=\"default\" data-rotation=\"0\" data-slot=\"default\" class=\"justaddedtrans draggable-trans-element\">'+jQuery(this).parent().text()+'<i class=\"remove-trans-from-list eg-icon-cancel\"></i></li>'),jQuery(\".justaddedtrans\").data(\"animval\",jQuery(this).val()),jQuery(\".justaddedtrans\").removeClass(\"justaddedtrans\")}else jQuery(\".remove-trans-from-list\").length>1?(jQuery(\".slide-trans-cur-ul\").find(\"li:data[value=\"+jQuery(this).val()+\"]\").remove(),jQuery(\".slide-trans-cur-ul li:first-child\").click()):(jQuery(this).attr(\"checked\",!0),alert(rev_lang.cant_remove_last_transition));setFakeAnim()}),jQuery(\"body\").on(\"click\",\".slide-trans-cur-ul li\",function(){jQuery(\".slide-trans-cur-ul li\").each(function(){jQuery(this).removeClass(\"selected\")}),jQuery(this).addClass(\"selected\"),jQuery('input[name=\"slot_amount\"]').val(jQuery(this).data(\"slot\")),jQuery('input[name=\"transition_rotation\"]').val(jQuery(this).data(\"rotation\")),jQuery('input[name=\"transition_duration\"]').val(jQuery(this).data(\"duration\")),jQuery('select[name=\"transition_ease_in\"] option[value=\"'+jQuery(this).data(\"ease_in\")+'\"]').attr(\"selected\",!0),jQuery('select[name=\"transition_ease_out\"] option[value=\"'+jQuery(this).data(\"ease_out\")+'\"]').attr(\"selected\",!0)}),jQuery(\".slide-trans-cur-ul li:first-child\").click(),jQuery('input[name=\"slot_amount\"]').change(function(){jQuery(\".slide-trans-cur-ul li.selected\").data(\"slot\",jQuery(this).val())}),jQuery('input[name=\"transition_rotation\"]').change(function(){jQuery(\".slide-trans-cur-ul li.selected\").data(\"rotation\",jQuery(this).val())}),jQuery(\"#transition_duration\").change(function(){jQuery(\".slide-trans-cur-ul li.selected\").data(\"duration\",jQuery(this).val()),setSlideTransitionTimerBar()}),jQuery(\"#delay\").change(function(){t.mainMaxTimeLeft=this.value/10,t.setSlideTransitionTimerBar()}),jQuery('select[name=\"transition_ease_in\"]').change(function(){jQuery(\".slide-trans-cur-ul li.selected\").data(\"ease_in\",jQuery(this).val())}),jQuery('select[name=\"transition_ease_out\"]').change(function(){jQuery(\".slide-trans-cur-ul li.selected\").data(\"ease_out\",jQuery(this).val())}),jQuery(\".slide-trans-cur-ul\").sortable({containment:\".slide-trans-cur-selected\",stop:function(){setTimeout(function(){setFakeAnim()},200)}}),jQuery(\"#abs_rel_timeline\").on(\"change\",function(){t.timelinetype=jQuery(this).val(),t.updateAllLayerTimeline()}),jQuery(document).on(\"keydown\",function(e){var t=jQuery(\"input:focus\").length>0;if(e.ctrlKey||e.metaKey||e.shiftKey)switch(String.fromCharCode(e.which).toLowerCase()){case\"s\":e.shiftKey||(e.preventDefault(),jQuery(\"#button_save_static_slide-tb\").length>0?jQuery(\"#button_save_static_slide-tb\").click():jQuery(\"#button_save_slide-tb\").click());break;case\"z\":!e.metaKey&&!e.ctrlKey||t||(e.preventDefault(),e.shiftKey?u.oneStepRedo():u.oneStepUndo());break;case\"y\":!e.ctrlKey&&!e.metaKey||t||(e.preventDefault(),u.oneStepRedo())}}),jQuery(\"body\").on(\"keydown keyup\",function(e){if(jQuery(\"#layer_text\").is(\":focus\"))return!0;if(jQuery(\"#layer_text_toggle\").is(\":focus\"))return!0;var t=e.keyCode?e.keyCode:e.which,a=null!=jQuery(document.activeElement).data(\"steps\")?parseFloat(jQuery(document.activeElement).data(\"steps\")):1;Number(parseInt(jQuery(\"#layer_left\").val(),0)),Number(parseInt(jQuery(\"#layer_top\").val(),0));switch(e.shiftKey&&(a*=10),jQuery(document.activeElement).get(0).tagName.toLowerCase()){case\"INPUT\":case\"input\":var i=parseFloat(jQuery(document.activeElement).val());if(null!=jQuery(document.activeElement).data(\"suffix\")&&!jQuery(document.activeElement).data(\"suffix\").match(/auto/g)&&(i=Number(i),jQuery.isNumeric(i)))switch(t){case 38:return\"keyup\"==e.type&&reBlurFocus(a,i,jQuery(document.activeElement)),!1;case 40:return\"keyup\"==e.type&&reBlurFocus(-a,i,jQuery(document.activeElement)),!1}break;case\"textarea\":return!0;default:switch(t){case 8:case 46:e.preventDefault(),\"keydown\"==e.type&&(jQuery(\"#button_delete_layer\").click(),window.deletecalled=!0)}if(r)switch(t){case 40:return\"keyup\"==e.type?setTimeout(function(){u.updateMovedLayers()},50):u.adjustSelectedLayerPositions(\"top\",a),!1;case 38:return\"keyup\"==e.type?setTimeout(function(){u.updateMovedLayers()},50):u.adjustSelectedLayerPositions(\"top\",-1*a),!1;case 37:return\"keyup\"==e.type?setTimeout(function(){u.updateMovedLayers()},50):u.adjustSelectedLayerPositions(\"left\",-1*a),!1;case 39:return\"keyup\"==e.type?setTimeout(function(){u.updateMovedLayers()},50):u.adjustSelectedLayerPositions(\"left\",a),!1}}}),t.deepSelection(),jQuery(\".input-deepselects\").each(function(){var e=jQuery(this);e.wrap('<span class=\"inp-deep-wrapper\"></span>'),e.parent().append('<div class=\"inp-deep-list\"></div>');var t=e.parent().find(\".inp-deep-list\"),a='<span class=\"inp-deep-listitems\">',r=e.data(\"reverse\"),i=e.data(\"deepwidth\"),s=null!=e.data(\"selects\")?e.data(\"selects\").split(\"||\"):\"\",o=null!=e.data(\"svalues\")?e.data(\"svalues\").split(\"||\"):\"\",n=null!=e.data(\"icons\")?e.data(\"icons\").split(\"||\"):\"\",l=e.attr(\"id\");void 0!==i&&punchgs.TweenLite.set(t,{minWidth:i+\"px\"}),\"on\"==r&&(a=a+\"<span class='reverse_input_wrapper'><span class='reverse_input_text'>Direction Auto Reverse</span><input class='reverse_input_check tp-moderncheckbox' name='\"+l+\"_reverse' id='\"+l+\"_reverse' type='checkbox'></span>\"),void 0!==s&&\"\"!=s&&jQuery.each(s,function(e){var t=o[e]||\"\",r=s[e]||\"\";e=n[e]||\"\";a=a+\"<span class='inp-deep-prebutton' data-val='\"+t+\"'><i class='eg-icon-\"+e+\"'></i>\"+r+\"</span>\"}),a+=\"</span>\",t.append(a),\"on\"==r&&RevSliderSettings.onoffStatus(jQuery('input[name=\"'+l+'_reverse\"]'))}),jQuery(\"body\").on(\"click\",\".inp-deep-prebutton\",function(){var e=jQuery(this),t=e.closest(\".inp-deep-wrapper\").find(\"input\");t.val(e.data(\"val\")),t.blur(),t.focus(),t.trigger(\"change\")}),jQuery(\"body\").on(\"click\",\".input-deepselects\",function(){jQuery(this).closest(\".inp-deep-wrapper\").find(\".inp-deep-list\").addClass(\"visible\"),jQuery(this).closest(\".inp-deep-wrapper\").addClass(\"selected-deep-wrapper\")}),jQuery(\".inp-deep-wrapper\").on(\"mouseleave\",function(){jQuery(this).find(\".inp-deep-list\").removeClass(\"visible\"),jQuery(this).removeClass(\"selected-deep-wrapper\")}),jQuery('input[name=\"masking-start\"]').on(\"change\",function(){\"checked\"===jQuery(this).attr(\"checked\")?jQuery(\".mask-start-settings\").show():jQuery(\".mask-start-settings\").hide()}),jQuery('input[name=\"masking-end\"]').on(\"change\",function(){\"checked\"===jQuery(this).attr(\"checked\")?jQuery(\".mask-end-settings\").show():jQuery(\".mask-end-settings\").hide()}),jQuery(\"body\").on(\"click\",\".show_timeline_helper\",function(){var e=jQuery(this),t=e.closest(\"li\"),a=e.closest(\".timeline_frame\"),r=jQuery(\"#timline-manual-dialog\"),i=a.position().left,s=(t.width(),a.data(\"frameindex\")),o=u.getLayerByUniqueId(t.data(\"uniqueid\")),n=o.frames[\"frame_\"+s].time,l=o.frames[\"frame_\"+s].speed;r.appendTo(t),i=(i=999===s?i-r.width()+a.width()-20:0===s?i:i-r.width()/2+10)<20?20:i,r.css({left:i}),jQuery(\"#clayer_start_time\").val(n),jQuery(\"#clayer_start_speed\").val(l),r.data(\"frameindex\",s),r.data(\"uniqueid\",o.unique_id),r.show()}),jQuery(\"body\").on(\"click\",\"#timline-manual-closer\",function(){var e=jQuery(\"#timline-manual-dialog\");e.hide(),e.appendTo(jQuery(\"#thelayer-editor-wrapper\"))}),jQuery(\"body\").on(\"click\",\"#timline-manual-apply\",function(){jQuery(this);var e=jQuery(\"#timline-manual-dialog\"),a=e.data(\"frameindex\"),r=document.getElementById(\"tl_\"+e.data(\"uniqueid\")+\"_frame_\"+a),i=u.getLayerByUniqueId(e.data(\"uniqueid\")),s={frames:{}};t.recordFrameStatus(r),s.frames[\"frame_\"+a]={},s.frames[\"frame_\"+a].time=jQuery(\"#clayer_start_time\").val(),s.frames[\"frame_\"+a].speed=jQuery(\"#clayer_start_speed\").val(),e.hide(),e.appendTo(jQuery(\"#thelayer-editor-wrapper\")),u.updateLayer(i.serial,s),t.updateLayerTimeline(i),t.updateTLFrame(r,\"trigger\"),t.updateAllSelectedLayerTimeline(r),t.updateAllLayerTimeline()}),jQuery(\"body\").on(\"click\",\"#timing-all-onoff-checkbox\",function(){\"checked\"!=jQuery(this).attr(\"checked\")||jQuery(\".mastertimer-timeline-selector-row.selected\").length==jQuery(\".layer-on-timeline-selector\").length?(jQuery(\".mastertimer-timeline-selector-row.selected\").removeClass(\"selected\"),jQuery(\".layer-on-timeline-selector\").removeAttr(\"checked\")):(jQuery(\".layer-on-timeline-selector\").attr(\"checked\",\"checked\"),jQuery(\".sortable_elements .mastertimer-timeline-selector-row\").addClass(\"selected\")),t.checkMultipleSelectedItems(),checkAvailableAutoTimes()}),jQuery(\"body\").on(\"click\",\".list-of-layer-links\",function(){jQuery(this).toggleClass(\"showmenow\")}),jQuery(\"body\").on(\"click\",\".timing-layer-link-type-element\",function(){var e=jQuery(this).data(\"linktype\");u.selectedLayers=[],jQuery(\".layer-on-timeline-selector\").each(function(){var t=jQuery(this),a=t.closest(\".mastertimer-layer\").data(\"uniqueid\"),r=u.getLayerByUniqueId(a);r.groupLink==e?(t.attr(\"checked\",\"checked\"),u.selectedLayers.push(a),r.references.htmlLayer.addClass(\"multiplelayerselected\")):(t.removeAttr(\"checked\",\"checked\"),r.references.htmlLayer.removeClass(\"multiplelayerselected\"))})}),jQuery(\"body\").on(\"change\",\".layer-on-timeline-selector\",function(){t.checkMultipleSelectedItems()})},t.deepSelection=function(e){jQuery(\".input-deepselects\").each(function(){var e=jQuery(this);if(!e.hasClass(\"deepselection_ready\")){e.addClass(\"deepselection_ready\"),e.wrap('<span class=\"inp-deep-wrapper\"></span>'),e.parent().append('<span class=\"inp-deep-list\"></span>');var t=e.parent().find(\".inp-deep-list\"),a='<span class=\"inp-deep-listitems\">',r=e.data(\"reverse\"),i=e.data(\"deepwidth\"),s=null!=e.data(\"selects\")?e.data(\"selects\").split(\"||\"):\"\",o=null!=e.data(\"svalues\")?e.data(\"svalues\").split(\"||\"):\"\",n=null!=e.data(\"icons\")?e.data(\"icons\").split(\"||\"):\"\",l=e.attr(\"id\");void 0!==i&&punchgs.TweenLite.set(t,{minWidth:i+\"px\"}),\"on\"==r&&(a=a+\"<span class='reverse_input_wrapper'><span class='reverse_input_text'>Direction Auto Reverse</span><input class='reverse_input_check tp-moderncheckbox' name='\"+l+\"_reverse' id='\"+l+\"_reverse' type='checkbox'></span>\"),void 0!==s&&\"\"!=s&&jQuery.each(s,function(e){var t=o[e]||\"\",r=s[e]||\"\";e=n[e]||\"\";a=a+\"<span class='inp-deep-prebutton' data-val='\"+t+\"'><i class='eg-icon-\"+e+\"'></i>\"+r+\"</span>\"}),a+=\"</span>\",t.append(a),\"on\"==r&&RevSliderSettings.onoffStatus(jQuery('input[name=\"'+l+'_reverse\"]')),e.parent().on(\"mouseleave\",function(){jQuery(this).find(\".inp-deep-list\").removeClass(\"visible\"),jQuery(this).removeClass(\"selected-deep-wrapper\")})}}),!0!==e&&(jQuery(\"body\").on(\"click\",\".inp-deep-prebutton\",function(){var e=jQuery(this),t=e.closest(\".inp-deep-wrapper\").find(\"input\");t.val(e.data(\"val\")),t.blur(),t.focus(),t.trigger(\"change\")}),jQuery(\"body\").on(\"click\",\".input-deepselects\",function(){jQuery(this).closest(\".inp-deep-wrapper\").find(\".inp-deep-list\").addClass(\"visible\"),jQuery(this).closest(\".inp-deep-wrapper\").addClass(\"selected-deep-wrapper\")}))},t.checkMultipleSelectedItems=function(e){u.selectedLayers=[],jQuery(\".layer-on-timeline-selector\").each(function(){var t=jQuery(this),a=u.getLayerByUniqueId(t.closest(\".mastertimer-layer\").data(\"uniqueid\"));t.attr(\"checked\")&&!0!==e?(a.references.htmlLayer.addClass(\"multiplelayerselected\"),u.selectedLayers.push(a.unique_id)):(t.removeAttr(\"checked\"),a.references.htmlLayer.removeClass(\"multiplelayerselected\"))})},t.compareLayerEndsVSSlideEnd=function(){var e=10*t.mainMaxTimeLeft;jQuery.each(u.arrLayers,function(t,a){(a.endWithSlide||e<a.frames.frame_999.time-a.frames.frame_999.speed)&&(a.frames.frame_999.time=e+a.frames.frame_999.speed)}),t.updateAllLayerTimeline()},t.resetIdleSelector=function(){jQuery(\"#toggle-idle-hover\").addClass(\"idleisselected\").removeClass(\"hoverisselected\"),jQuery(\"#tp-idle-state-advanced-style\").show(),jQuery(\"#tp-hover-state-advanced-style\").hide()},t.checkAnimationTab=function(){return!jQuery(\"#layeranimation-playpause\").hasClass(\"inpause\")&&jQuery(\"#rs-animation-tab-button\").hasClass(\"selected\")},t.checkLoopTab=function(){return!jQuery(\"#loopanimation-playpause\").hasClass(\"inpause\")&&jQuery(\"#rs-loopanimation-tab-button\").hasClass(\"selected\")},t.stopAllLayerAnimation=function(){document.getElementById(\"mastertimer-playpause-wrapper\").innerHTML='<i class=\"eg-icon-play\"></i><span>PLAY</span>',punchgs.TweenLite.set(document.getElementsByClassName(\"tp-mask-wrap\"),{clearProps:\"transform\",overwrite:\"all\"}),jQuery(\".tp-showmask\").removeClass(\"tp-showmask\");for(var e=document.getElementsByClassName(\"innerslide_layer\"),a=0;a<e.length;a++){var r=jQuery(e[a]);if((e[a].parentNode.classList.contains(\"rs-preview-inside-looper\")||e[a].parentNode.parentNode.classList.contains(\"rs-preview-inside-looper\"))&&r.unwrap(),null!=r.data(\"tl\")){var i=r.data(\"tl\");i.clear(),i.kill();try{r.data(\"mySplitText\")&&r.data(\"mySplitText\").revert()}catch(e){}punchgs.TweenLite.set(r[0].parentNode,{autoAlpha:1}),t.rebuildLayerIdle(r.closest(\".slide_layer\")),u.removeCurrentLayerRotatable()}}punchgs.TweenLite.set(document.getElementById(\"startanim_wrapper\"),{autoAlpha:0}),punchgs.TweenLite.set(document.getElementById(\"endanim_wrapper\"),{autoAlpha:0})},t.callCaptionLoops=function(){t.stopAllLayerAnimation();var e=jQuery(\".slide_layer.layer_selected\"),a=e.find(\".innerslide_layer\").first();if(0==a.length)return!1;var r=u.getSerialFromID(e.attr(\"id\"));params=u.getLayer(r),loopanim=params.loop_animation,a.closest(\".rs-preview-inside-looper\").length>0&&a.unwrap(),a.wrap('<div class=\"rs-preview-inside-looper\" style=\"width:100%;height:100%;position:relative\"></div>');var i=e.find(\".rs-preview-inside-looper\"),s=params.loop_startdeg,o=params.loop_enddeg,n=params.loop_speed,l=params.loop_xorigin+\"% \"+params.loop_yorigin+\"%\",d=params.loop_easing,c=params.loop_angle,m=parseInt(params.loop_radius,0),p=params.loop_xstart,f=params.loop_ystart,y=params.loop_xend,h=params.loop_yend,g=params.loop_zoomstart,v=params.loop_zoomend;factor=1;var _=new punchgs.TimelineLite;switch(_.pause(),loopanim){case\"rs-pendulum\":_.add(punchgs.TweenLite.fromTo(i,n,{force3D:\"auto\",rotation:s,transformOrigin:l},{rotation:o,ease:d})),_.add(punchgs.TweenLite.fromTo(i,n,{force3D:\"auto\",rotation:o},{rotation:s,ease:d,onComplete:function(){_.restart()}}));break;case\"rs-rotate\":_.add(punchgs.TweenLite.fromTo(i,n,{force3D:\"auto\",rotation:s,transformOrigin:l},{rotation:o,ease:d,onComplete:function(){_.restart()}}));break;case\"rs-slideloop\":_.add(punchgs.TweenLite.fromTo(i,n,{force3D:\"auto\",x:p,y:f},{x:y,y:h,ease:d})),_.add(punchgs.TweenLite.fromTo(i,n,{force3D:\"auto\",x:y,y:h},{x:p,y:f,onComplete:function(){_.restart()}}));break;case\"rs-pulse\":_.add(punchgs.TweenLite.fromTo(i,n,{force3D:\"auto\",scale:g},{scale:v,ease:d})),_.add(punchgs.TweenLite.fromTo(i,n,{force3D:\"auto\",scale:v},{scale:g,onComplete:function(){_.restart()}}));break;case\"rs-wave\":var b={a:0,ang:c,element:i,unit:m,xoffset:0+(parseInt(params.loop_xorigin,0)/100-.5)*i.width(),yoffset:-1*m+(parseInt(params.loop_yorigin,0)/100-.5)*i.height()},w=parseInt(c,0);_.add(punchgs.TweenLite.fromTo(b,n,{a:0+w},{a:360+w,force3D:\"auto\",ease:punchgs.Linear.easeNone,onUpdate:function(){var e=b.a*(Math.PI/180),t=b.yoffset+b.unit*(1-Math.sin(e)),a=b.xoffset+Math.cos(e)*b.unit;punchgs.TweenLite.to(b.element,.1,{force3D:\"auto\",x:a,y:t})},onComplete:function(){_.restart()}}))}_.play(),e.data(\"tl\",_)},t.rebuildLayerIdle=function(e,a,r){if(a=null==a?50:a,r=null!=r&&r,0==g_rebuildTimer&&(a=0,g_rebuildTimer=999),null==e||0==jQuery(e).length||e[0].classList.contains(\"layer-deleted\"))return!1;var i=jQuery(e);clearTimeout(i.data(\"idlerebuildtimer\")),t.rebuildLayerIdleProgress(e);var s=u.getSerialFromID(e.attr(\"id\")),o=u.getLayer(s,r),n=e.find(\".tp-caption img\");if(u.updateHtmlLayerPosition(!1,o,u.getVal(o,\"top\"),u.getVal(o,\"left\"),u.getVal(o,\"align_hor\"),u.getVal(o,\"align_vert\")),n.length>0&&!jQuery(n).hasClass(\"loaded\")){jQuery(n).addClass(\"loaded\");var l=new Image;l.onload=function(){o.originalWidth=this.width,o.originalHeight=this.height,u.updateHtmlLayerPosition(!1,o,u.getVal(o,\"top\"),u.getVal(o,\"left\"),u.getVal(o,\"align_hor\"),u.getVal(o,\"align_vert\"))},l.onerror=function(){n[0].src=o.image_url=g_revslider_url+\"/admin/assets/images/tp-brokenimage.png\",u.updateHtmlLayerPosition(!1,o,u.getVal(o,\"top\"),u.getVal(o,\"left\"),u.getVal(o,\"align_hor\"),u.getVal(o,\"align_vert\"))},l.onabort=function(){u.updateHtmlLayerPosition(!1,o,u.getVal(o,\"top\"),u.getVal(o,\"left\"),u.getVal(o,\"align_hor\"),u.getVal(o,\"align_vert\"))},l.src=n[0].src}else u.updateHtmlLayerCorners(o),u.updateCrossIconPosition(o);return u.extendSlideHeightBasedOnRows(),!0},t.rebuildLayerIdleProgress=function(caption){if(void 0!==caption){var is_demo=caption.attr(\"id\")!==caption.attr(\"id\").replace(\"demo_layer_\");if(null==caption||0==jQuery(caption).length)return!1;var id=u.getSerialFromID(caption.attr(\"id\")),params=u.getLayer(id,is_demo);if(null==params||0==params)return!1;punchgs.TweenLite.set(caption.find(\".tp-mask-wrap\"),{clearProps:\"all\",visibility:\"visible\",opacity:1}),\"column\"===params.type&&punchgs.TweenLite.set(caption.find(\".column_background\").first(),{clearProps:\"all\",visibility:\"visible\",opacity:1});var inlayer=jQuery(caption[0].getElementsByClassName(\"innerslide_layer\")[0]),deform=params.deformation,deformidle=params.deformation,deformhover=params[\"deformation-hover\"],ss=params.static_styles,fontcolor=u.getVal(ss,\"color\"),fonttrans=deform[\"color-transparency\"],bgcolor=deform[\"background-color\"],bgtrans=deform[\"background-transparency\"],bordercolor=deform[\"border-color\"],bordertrans=deform[\"border-transparency\"];if(\"audio\"==params.type)return params.video_data.video_show_visibility?caption.addClass(\"invisible-audio\"):caption.removeClass(\"invisible-audio\"),!1;if(is_demo&&params.alias,null!=inlayer.data(\"mySplitText\")){try{inlayer.data(\"mySplitText\").revert()}catch(e){}\"text\"!=params.type&&\"button\"!=params.type||(inlayer[0].innerHTML=params.text,u.makeCurrentLayerRotatable()),inlayer.removeData(\"mySplitText\")}if(Number(bgtrans)<1){var rgb=UniteAdminRev.convertHexToRGB(bgcolor);bgcolor=\"rgba(\"+rgb[0]+\",\"+rgb[1]+\",\"+rgb[2]+\",\"+bgtrans+\")\"}if(Number(bordertrans)<1){var rgb=UniteAdminRev.convertHexToRGB(bordercolor);bordercolor=\"rgba(\"+rgb[0]+\",\"+rgb[1]+\",\"+rgb[2]+\",\"+bordertrans+\")\"}if(Number(fonttrans)<1){var rgb=UniteAdminRev.convertHexToRGB(fontcolor);fontcolor=\"rgba(\"+rgb[0]+\",\"+rgb[1]+\",\"+rgb[2]+\",\"+fonttrans+\")\"}var mwidth=u.getVal(params,\"max_width\"),mheight=u.getVal(params,\"max_height\"),cmode=u.getVal(params,\"cover_mode\"),loc_position=\"absolute\";switch(params.type){case\"image\":mwidth=u.getVal(params,\"scaleX\"),mheight=u.getVal(params,\"scaleY\");break;case\"video\":mwidth=!0===params.video_data.cover||!0===params.video_data.fullwidth?\"100%\":u.getVal(params,\"video_width\"),mheight=!0===params.video_data.cover||!0===params.video_data.fullwidth?\"100%\":u.getVal(params,\"video_height\"),caption.find(\".slide_layer_video\").css({width:parseInt(mwidth,0)+\"px\",height:parseInt(mheight,0)+\"px\"});break;case\"row\":mwidth=\"100%\",\"bottom\"===u.getVal(params,\"align_vert\")?caption[0].style.position=\"absolute\":caption[0].style.position=\"relative\",\"mobile\"===params.column_break_at&&\"mobile\"===t.layout||\"tablet\"===params.column_break_at&&(\"tablet\"===t.layout||\"mobile\"===t.layout)||\"notebook\"===params.column_break_at&&\"desktop\"!==t.layout?caption.addClass(\"rev_breakcolumns\"):caption.removeClass(\"rev_breakcolumns\");break;case\"column\":mwidth=100*eval(params.column_size)+\"%\",mheight=\"auto\",caption[0].style.position=\"relative\",caption[0].style.display=\"table_cell\",caption[0].style.minHeight=parseInt(u.getVal(params,\"min_height\"),0)+\"px\",caption[0].cb=void 0===caption[0].cb?caption.find(\".column_background\"):caption[0].cb,void 0!==params.bgimage_url&&params.bgimage_url.length>0?caption[0].cb.css({backgroundImage:\"url('\"+params.bgimage_url+\"')\",backgroundSize:params.layer_bg_size,backgroundPosition:params.layer_bg_position,backgroundRepeat:params.layer_bg_repeat,backgroundColor:bgcolor}):caption[0].cb.css({backgroundImage:\"\",backgroundColor:bgcolor});break;case\"group\":switch(mwidth){case\"#1/1#\":mwidth=\"100%\";break;case\"#1/2#\":mwidth=\"50%\";break;case\"#1/3#\":mwidth=\"33.333333%\";break;case\"#2/3#\":mwidth=\"66.666666%\";break;case\"#1/4#\":mwidth=\"25%\";break;case\"#3/4#\":mwidth=\"75%\";break;case\"#1/5#\":mwidth=\"20%\";break;case\"#2/5#\":mwidth=\"40%\";break;case\"#3/5#\":mwidth=\"60%\";break;case\"#4/5#\":mwidth=\"80%\";break;case\"#1/6#\":mwidth=\"16.666666%\";break;case\"#4/6#\":mwidth=\"66.666666%\";break;case\"#5/6#\":mwidth=\"83.333333%\"}}void 0!==deform.overflow&&\"group\"===params.type||(deform.overflow=\"visible\"),null==mwidth&&(mwidth=\"\"),null==mheight&&(mheight=\"\"),-1!==params.p_uid&&\"column\"===u.getObjLayerType(params.p_uid)?punchgs.TweenLite.set(caption,{position:\"relative\",display:u.getVal(params,\"display\"),top:\"auto\",left:\"auto\",right:\"auto\",bottom:\"auto\"}):\"column\"===params.type?punchgs.TweenLite.set(caption,{position:\"absolute\",display:\"table-cell\"}):punchgs.TweenLite.set(caption,{position:\"absolute\",display:\"block\"}),\"column\"===params.type&&(bgcolor=\"transparent\"),mwidth=void 0===cmode||\"custom\"===cmode?jQuery.isNumeric(mwidth)?mwidth+\"px\":mwidth.match(/px/g)?parseInt(mwidth,0)+\"px\":mwidth.match(/%/g)?parseFloat(mwidth)+\"%\":mwidth:\"fullwidth\"===cmode||\"cover\"===cmode||\"cover-proportional\"===cmode?\"100%\":mwidth,mheight=void 0===cmode||\"custom\"===cmode?jQuery.isNumeric(mheight)?mheight+\"px\":mheight.match(/px/g)?parseInt(mheight,0)+\"px\":mheight.match(/%/g)?parseFloat(mheight,0)+\"%\":mheight:\"fullheight\"===cmode||\"cover\"===cmode||\"cover-proportional\"===cmode?\"100%\":mheight,caption[0].style.width=mwidth,caption[0].style.height=mheight;var fw=parseInt(u.getVal(ss,\"font-weight\"),0)||400,bgimage=\"\";punchgs.TweenLite.set(inlayer,{clearProps:\"all\",visibility:\"visible\",opacity:1}),void 0!==params.bgimage_url&&params.bgimage_url.length>0&&\"column\"!==params.type?inlayer.css({backgroundImage:\"url('\"+params.bgimage_url+\"')\",backgroundSize:params.layer_bg_size,backgroundPosition:params.layer_bg_position,backgroundRepeat:params.layer_bg_repeat}):inlayer.css({backgroundImage:\"\",backgroundSize:params.layer_bg_size,backgroundPosition:params.layer_bg_position,backgroundRepeat:params.layer_bg_repeat});var inlay_object_anim={z:deform.z,scaleX:parseFloat(deform.scalex),scaleY:parseFloat(deform.scaley),textAlign:u.getVal(params,\"text-align\"),rotationX:parseFloat(deform.xrotate),rotationY:parseFloat(deform.yrotate),rotationZ:parseFloat(params[\"2d_rotation\"]),skewX:parseFloat(deform.skewx),skewY:parseFloat(deform.skewy),transformPerspective:parseFloat(deform.pers),transformOrigin:params.layer_2d_origin_x+\"% \"+params.layer_2d_origin_y+\"%\",autoAlpha:deform.opacity,paddingTop:parseInt(u.getVal(params,\"padding\")[0],0)+\"px\",paddingRight:parseInt(u.getVal(params,\"padding\")[1],0)+\"px\",paddingBottom:parseInt(u.getVal(params,\"padding\")[2],0)+\"px\",paddingLeft:parseInt(u.getVal(params,\"padding\")[3],0)+\"px\",fontSize:parseInt(u.getVal(ss,\"font-size\"),0)+\"px\",lineHeight:parseInt(u.getVal(ss,\"line-height\"),0)+\"px\",fontWeight:fw,color:fontcolor,letterSpacing:parseInt(u.getVal(ss,\"letter-spacing\"),0)+\"px\",fontStyle:deformidle[\"font-style\"],textDecoration:deform[\"text-decoration\"],textTransform:deform[\"text-transform\"],borderColor:bordercolor,borderRadius:deform[\"border-radius\"][0]+\" \"+deform[\"border-radius\"][1]+\" \"+deform[\"border-radius\"][2]+\" \"+deform[\"border-radius\"][3],borderWidth:deform[\"border-width\"][0]+\" \"+deform[\"border-width\"][1]+\" \"+deform[\"border-width\"][2]+\" \"+deform[\"border-width\"][3],borderStyle:deform[\"border-style\"],whiteSpace:u.getVal(params,\"whitespace\"),maxWidth:\"100%\",maxHeight:\"100%\"};if(bgcolor.indexOf(\"gradient\")>=0?inlay_object_anim.background=bgcolor:inlay_object_anim.backgroundColor=bgcolor,void 0!==deform.blurfilter&&parseInt(deform.blurfilter,0)>0||void 0!==deformhover.blurfilter&&parseInt(deformhover.blurfilter,0)>0){var bf=\"blur(\"+parseInt(deform.blurfilter,0)+\"px)\";inlay_object_anim[\"-webkit-filter\"]=bf,inlay_object_anim.filter=bf}if(void 0!==deform.grayscalefilter&&parseInt(deform.grayscalefilter,0)>0||void 0!==deformhover.grayscalefilter&&parseInt(deformhover.grayscalefilter,0)>0){var gf=\"grayscale(\"+parseInt(deform.grayscalefilter,0)+\"%)\";inlay_object_anim[\"-webkit-filter\"]=void 0===inlay_object_anim[\"-webkit-filter\"]?gf:inlay_object_anim[\"-webkit-filter\"]+\" \"+gf,inlay_object_anim.filter=void 0===inlay_object_anim.filter?gf:inlay_object_anim.filter+\" \"+gf}switch(deformidle[\"font-family\"]&&(inlay_object_anim.fontFamily=deformidle[\"font-family\"]),\"group\"===params.type&&punchgs.TweenLite.set(inlayer.find(\".tp_layer_group_inner_wrapper\").first(),{overflow:deform.overflow}),void 0!==params.layer_blend_mode&&jQuery.inArray(params.type,[\"image\",\"shape\",\"text\",\"svg\"]>=0)&&punchgs.TweenLite.set(inlayer.closest(\".slide_layer\"),{mixBlendMode:params.layer_blend_mode}),params.type){case\"shape\":case\"svg\":punchgs.TweenLite.set(caption,{marginTop:parseInt(u.getVal(params,\"margin\")[0],0)+\"px\",marginRight:parseInt(u.getVal(params,\"margin\")[1],0)+\"px\",marginBottom:parseInt(u.getVal(params,\"margin\")[2],0)+\"px\",marginLeft:parseInt(u.getVal(params,\"margin\")[3],0)+\"px\"});break;case\"column\":punchgs.TweenLite.set(caption.find(\".column_background\"),{borderTopWidth:parseInt(u.getVal(params,\"margin\")[0],0)+\"px\",borderRightWidth:parseInt(u.getVal(params,\"margin\")[1],0)+\"px\",borderBottomWidth:parseInt(u.getVal(params,\"margin\")[2],0)+\"px\",borderLeftWidth:parseInt(u.getVal(params,\"margin\")[3],0)+\"px\"}),inlay_object_anim.marginTop=parseInt(u.getVal(params,\"margin\")[0],0)+\"px\",inlay_object_anim.marginRight=parseInt(u.getVal(params,\"margin\")[1],0)+\"px\",inlay_object_anim.marginBottom=parseInt(u.getVal(params,\"margin\")[2],0)+\"px\",inlay_object_anim.marginLeft=parseInt(u.getVal(params,\"margin\")[3],0)+\"px\";break;default:punchgs.TweenLite.set(caption,{marginTop:parseInt(u.getVal(params,\"margin\")[0],0)+\"px\",marginRight:parseInt(u.getVal(params,\"margin\")[1],0)+\"px\",marginBottom:parseInt(u.getVal(params,\"margin\")[2],0)+\"px\",marginLeft:parseInt(u.getVal(params,\"margin\")[3],0)+\"px\"})}if(\"image\"===params.type&&(params.scaleProportional?(punchgs.TweenLite.set(inlayer.find(\"img\"),{width:\"100%\",height:\"auto\"}),inlay_object_anim.width=\"100%\",inlay_object_anim.height=\"auto\"):(punchgs.TweenLite.set(inlayer.find(\"img\"),{width:\"100%\",height:\"100%\"}),inlay_object_anim.width=\"100%\",inlay_object_anim.height=\"100%\")),\"video\"===params.type&&(punchgs.TweenLite.set(inlayer.find(\".slide_layer_video\"),{width:\"100%\",height:\"100%\"}),inlay_object_anim.width=\"100%\",inlay_object_anim.height=\"100%\"),\"svg\"===params.type&&null!=params.svg){var svgstrokecolor=params.svg[\"svgstroke-color\"]||\"transparent\",svgstroketrans=params.svg[\"svgstroke-transparency\"]||0,svgstrokewidth=params.svg[\"svgstroke-width\"]||0,svgstrokedasharray=params.svg[\"svgstroke-dasharray\"]||0,svgstrokedashoffset=params.svg[\"svgstroke-dashoffset\"]||0;if(Number(svgstroketrans)<1){var rgb=UniteAdminRev.convertHexToRGB(svgstrokecolor);svgstrokecolor=\"rgba(\"+rgb[0]+\",\"+rgb[1]+\",\"+rgb[2]+\",\"+svgstroketrans+\")\"}punchgs.TweenLite.set(inlayer.find(\"svg\"),{fill:fontcolor,stroke:svgstrokecolor,strokeWidth:svgstrokewidth,strokeDasharray:svgstrokedasharray,strokeDashoffset:svgstrokedashoffset}),punchgs.TweenLite.set(inlayer.find(\"svg path\"),{fill:fontcolor})}if(punchgs.TweenLite.set(inlayer,inlay_object_anim),null!=params.inline&&null!=params.inline.idle&&jQuery.each(params.inline.idle,function(e,t){inlayer.css(e,t)}),!0===params.hover){deform=params[\"deformation-hover\"];var fontcolor=deform.color,fonttrans=deform[\"color-transparency\"],bgcolor=deform[\"background-color\"],bgtrans=deform[\"background-transparency\"],bordercolor=deform[\"border-color\"],bordertrans=deform[\"border-transparency\"];if(Number(bgtrans)<1){var rgb=UniteAdminRev.convertHexToRGB(bgcolor);bgcolor=\"rgba(\"+rgb[0]+\",\"+rgb[1]+\",\"+rgb[2]+\",\"+bgtrans+\")\"}if(Number(bordertrans)<1){var rgb=UniteAdminRev.convertHexToRGB(bordercolor);bordercolor=\"rgba(\"+rgb[0]+\",\"+rgb[1]+\",\"+rgb[2]+\",\"+bordertrans+\")\"}if(Number(fonttrans)<1){var rgb=UniteAdminRev.convertHexToRGB(fontcolor);fontcolor=\"rgba(\"+rgb[0]+\",\"+rgb[1]+\",\"+rgb[2]+\",\"+fonttrans+\")\"}var tl=new punchgs.TimelineLite;tl.pause();var hoverspeed=parseFloat(deform.speed)/1e3;hoverspeed=0===hoverspeed?.001:hoverspeed;var hover_object_anim={scaleX:parseFloat(deform.scalex),scaleY:parseFloat(deform.scaley),rotationX:parseFloat(deform.xrotate),rotationY:parseFloat(deform.yrotate),rotationZ:parseFloat(deform[\"2d_rotation\"]),skewX:parseFloat(deform.skewx),skewY:parseFloat(deform.skewy),autoAlpha:deform.opacity,color:fontcolor,backgroundColor:bgcolor,textDecoration:deform[\"text-decoration\"],borderColor:bordercolor,borderRadius:parseInt(deform[\"border-radius\"][0],0)+\"px \"+parseInt(deform[\"border-radius\"][1],0)+\"px \"+parseInt(deform[\"border-radius\"][2],0)+\"px \"+parseInt(deform[\"border-radius\"][3],0)+\"px\",borderWidth:parseInt(deform[\"border-width\"][0],0)+\"px \"+parseInt(deform[\"border-width\"][1],0)+\"px \"+parseInt(deform[\"border-width\"][2],0)+\"px \"+parseInt(deform[\"border-width\"][3],0)+\"px\",borderStyle:deform[\"border-style\"],onComplete:function(){params.inline&&null!=params.inline.hover&&jQuery.each(params.inline.hover,function(e,t){inlayer.css(e,t)})},ease:deform.easing};if(void 0!==deform.blurfilter&&parseInt(deform.blurfilter,0)>0||void 0!==deformidle.blurfilter&&parseInt(deformidle.blurfilter,0)>0){var bf=\"blur(\"+parseInt(deform.blurfilter,0)+\"px)\";hover_object_anim[\"-webkit-filter\"]=bf,hover_object_anim.filter=bf}if(void 0!==deform.grayscalefilter&&parseInt(deform.grayscalefilter,0)>0||void 0!==deformidle.grayscalefilter&&parseInt(deformidle.grayscalefilter,0)>0){var gf=\"grayscale(\"+parseInt(deform.grayscalefilter,0)+\"%)\";hover_object_anim[\"-webkit-filter\"]=void 0===hover_object_anim[\"-webkit-filter\"]?gf:hover_object_anim[\"-webkit-filter\"]+\" \"+gf,hover_object_anim.filter=void 0===hover_object_anim.filter?gf:hover_object_anim.filter+\" \"+gf}if(tl.add(punchgs.TweenLite.to(inlayer,hoverspeed,hover_object_anim)),\"svg\"===params.type&&null!=params.svg){var svgstrokecolor=params.svg[\"svgstroke-hover-color\"]||\"transparent\",svgstroketrans=params.svg[\"svgstroke-hover-transparency\"]||0,svgstrokewidth=params.svg[\"svgstroke-hover-width\"]||0,svgstrokedasharray=params.svg[\"svgstroke-hover-dasharray\"]||0,svgstrokedashoffset=params.svg[\"svgstroke-hover-dashoffset\"]||0;if(Number(svgstroketrans)<1){var rgb=UniteAdminRev.convertHexToRGB(svgstrokecolor);svgstrokecolor=\"rgba(\"+rgb[0]+\",\"+rgb[1]+\",\"+rgb[2]+\",\"+svgstroketrans+\")\"}tl.add(punchgs.TweenLite.to(inlayer.find(\"svg\"),hoverspeed,{fill:fontcolor,stroke:svgstrokecolor,strokeWidth:svgstrokewidth,strokeDasharray:svgstrokedasharray,strokeDashoffset:svgstrokedashoffset,ease:deform.easing}),0)}inlayer.data(\"hoveranim\",tl),void 0!==caption.data(\"hoverexist\")&&!1!==caption.data(\"hoverexist\")||(caption.hover(function(){if(jQuery(\"#rs-style-tab-button\").hasClass(\"selected\")&&jQuery(\"#toggle-idle-hover\").hasClass(\"idleisselected\")){var e=jQuery(this).find(\".innerslide_layer\").first();if(e.length>0&&null!=e.data(\"hoveranim\"))e.data(\"hoveranim\").play(0)}},function(){if(jQuery(\"#rs-style-tab-button\").hasClass(\"selected\")&&jQuery(\"#toggle-idle-hover\").hasClass(\"idleisselected\")){var e=jQuery(this).find(\".innerslide_layer\").first();if(e.length>0&&null!=e.data(\"hoveranim\"))e.data(\"hoveranim\").reverse()}}),caption.data(\"hoverexist\",!0)),document.getElementById(\"toggle-idle-hover\").classList.contains(\"hoverisselected\")?tl.seek(tl.endTime()):(tl.seek(0),tl.pause(0),setTimeout(function(){tl.pause(0)},109))}else caption.unbind(\"hover\"),caption.data(\"hoverexist\",!1)}},t.animateCurrentSelectedLayer=function(e){u.removeCurrentLayerRotatable();var t=jQuery(\".slide_layer.layer_selected\").find(\".innerslide_layer\").first();if(0==t.length)return!1;if(null==t.data(\"tl\"))var a=new punchgs.TimelineLite;else a=t.data(\"tl\");a.clear(),a.kill(),a.pause(),t.data(\"inanim\",theLayerInAnimation(t)),t.data(\"outanim\",theLayerOutAnimation(t)),a.addLabel(\"inanimation\"),a.add(t.data(\"inanim\"),\"=+0.2\"),a.addLabel(\"outanimation\"),a.add(punchgs.TweenLite.fromTo(jQuery(\"#startanim_timerunner\"),1,{x:0,y:0},{y:41}),\"outanimation\"),a.add(punchgs.TweenLite.fromTo(jQuery(\"#startanim_timerunnerbox\"),1,{x:0,y:0},{y:41}),\"outanimation\"),a.add(punchgs.TweenLite.fromTo(jQuery(\"#endanim_timerunnerbox\"),1,{x:0,y:-41},{x:0,y:0}),\"outanimation\"),a.add(punchgs.TweenLite.fromTo(jQuery(\"#endanim_timerunner\"),1,{x:0,y:-41},{y:0}),\"outanimation\"),a.add(punchgs.TweenLite.set(jQuery(\"#endanim_wrapper\"),{width:67,autoAlpha:1}),\"outanimation\"),a.add(t.data(\"outanim\")),a.eventCallback(\"onComplete\",function(){a.restart()}),a.play(),t.data(\"tl\",a)};var checkAnimValue=function(e,t,a,r){var i=e,s=t;if(jQuery.isNumeric(parseFloat(i)))return parseFloat(i);if(void 0===i||\"inherit\"===i)return s;if(i.split(\"{\").length>1){var o=i.split(\",\");return max=o[1].split(\"}\")[0],o=o[0].split(\"{\")[1],i=Math.random()*(max-o)+o}var n=jQuery(\"#divLayers\").width(),l=jQuery(\"#divLayers\").height(),d=a.closest(\".slide_layer\"),u=d.width(),c=d.height(),m=d.position();if(i.match(/%]/g))i=i.split(\"[\")[1].split(\"]\")[0],\"horizontal\"==r?i=u*parseInt(i,0)/100:\"vertical\"==r&&(i=c*parseInt(i,0)/100);else switch(i.toLowerCase()){case\"top\":case\"stage_top\":i=0-c-m.top;break;case\"bottom\":case\"stage_bottom\":i=l;break;case\"stage_left\":case\"left\":i=0-u-m.left;break;case\"right\":case\"stage_right\":i=n;break;case\"center\":case\"stage_center\":i=n/2-m.left-u/2;break;case\"middle\":case\"stage_middle\":i=l/2-m.top-c/2;break;case\"layer_top\":i=0-c;break;case\"layer_bottom\":i=c;break;case\"layer_left\":i=0-u;break;case\"layer_right\":i=u;break;case\"layer_center\":i=u/2;break;case\"layer_middle\":i=c/2}return i};function theLayerInAnimation(e){var t=e.closest(\".slide_layer\"),a=u.getSerialFromID(t.attr(\"id\")),r=UniteAdminRev.duplicateObjectDeep(u.getLayer(a));0==t.children(\".tp-mask-wrap\").length&&t.wrapInner('<div style=\"width:100%;height:100%;position:relative;\" class=\"tp-mask-wrap\"></div>');var i=t.find(\".tp-mask-wrap\"),s=(r.animation,t.hasClass(\"slide_layer_type_column\")?t.find(\".column_background\").first():void 0),o=r.frames.frame_0.speed/1e3,n=r.frames.frame_0.easing,l=r.frames.frame_0.splitdelay/100,d=r.frames.frame_0.split,c=r.frames.frame_999.split,m=e,p=new Object,f=new Object;if(p.transx=0,p.transy=0,p.transz=0,p.rotatex=0,p.rotatey=0,p.rotatez=0,p.scalex=1,p.scaley=1,p.skewx=0,p.skewy=0,p.opac=0,p.tper=parseFloat(r.deformation.pers),p.origin=\"center,center\",f.transx=0,f.transy=0,f.transz=parseFloat(r.deformation.z),f.rotatex=parseFloat(r.deformation.xrotate),f.rotatey=parseFloat(r.deformation.yrotate),f.rotatez=parseFloat(r[\"2d_rotation\"]),f.scalex=parseFloat(r.deformation.scalex),f.scaley=parseFloat(r.deformation.scaley),f.skewx=parseFloat(r.deformation.skewx),f.skewy=parseFloat(r.deformation.skewy),f.opac=parseFloat(r.deformation.opacity),f.tper=parseFloat(r.deformation.pers),p[\"-webkit-filter\"]=\"\",p.filter=\"\",f[\"-webkit-filter\"]=\"\",f.filter=\"\",void 0!==r.deformation.blurfilter&&parseInt(r.deformation.blurfilter,0)>0||void 0!==r.blurfilter_start&&parseInt(r.blurfilter_start,0)>0){var y=\"blur(\"+parseInt(r.deformation.blurfilter,0)+\"px)\",h=\"inherit\"===r.blurfilter_start?y:\"blur(\"+parseInt(r.blurfilter_start,0)+\"px)\";p[\"-webkit-filter\"]=h,p.filter=h,f[\"-webkit-filter\"]=y,f.filter=y}if(void 0!==r.deformation.grayscalefilter&&parseInt(r.deformation.grayscalefilter,0)>0||void 0!==r.grayscalefilter_start&&parseInt(r.grayscalefilter_start,0)>0){var g=\"grayscale(\"+parseInt(r.deformation.grayscalefilter,0)+\"%)\",v=\"inherit\"===r.grayscalefilter_start?g:\"grayscale(\"+parseInt(r.grayscalefilter_start,0)+\"%)\";p[\"-webkit-filter\"]=\"\"===p[\"-webkit-filter\"]?v:p[\"-webkit-filter\"]+\" \"+v,p.filter=\"\"===p.filter?v:p.filter+\" \"+v,f[\"-webkit-filter\"]=\"\"===f[\"-webkit-filter\"]?g:f[\"-webkit-filter\"]+\" \"+g,f.filter=\"\"===f.filter?g:f.filter+\" \"+g}var _=r.layer_2d_origin_x+\"%\"+\" \"+(r.layer_2d_origin_y+\"%\");if(null!=e.data(\"mySplitText\")&&(\"none\"!=d||\"none\"!=c))try{e.data(\"mySplitText\").revert()}catch(e){}switch(\"chars\"==d||\"words\"==d||\"lines\"==d||\"chars\"==c||\"words\"==c||\"lines\"==c?e.find(\"a\").length>0?e.data(\"mySplitText\",new SplitText(e.find(\"a\"),{type:\"lines,words,chars\"})):e.data(\"mySplitText\",new SplitText(e,{type:\"lines,words,chars\"})):e.data(\"mySplitText\",\"none\"),d){case\"chars\":m=e.data(\"mySplitText\").chars;break;case\"words\":m=e.data(\"mySplitText\").words;break;case\"lines\":m=e.data(\"mySplitText\").lines}m.length;punchgs.TweenLite.killTweensOf(e,!1),punchgs.TweenLite.killTweensOf(m,!1),punchgs.TweenLite.set(i,{clearProps:\"transform\"}),punchgs.TweenLite.set(e,{clearProps:\"transform\"}),punchgs.TweenLite.set(m,{clearProps:\"transform\"});var b=new punchgs.TimelineLite,w=new punchgs.TimelineLite;if(m!=e&&b.add(punchgs.TweenLite.set(e,{scaleX:f.scalex,scaleY:f.scaley,rotationX:f.rotatex,rotationY:f.rotatey,rotationZ:f.rotatez,x:f.transx,y:f.transy,z:f.transz+1,skewX:f.skewx,skewY:f.skewy,transformPerspective:f.tper,transformOrigin:_,autoAlpha:f.opac,overwrite:\"all\"})),e.data(\"timer\")&&clearTimeout(e.data(\"timer\")),e.data(\"timera\")&&clearTimeout(e.data(\"timera\")),p.transx=checkAnimValue(r.x_start,f.transx,e,\"horizontal\"),p.transy=checkAnimValue(r.y_start,f.transy,e,\"vertical\"),p.transz=checkAnimValue(r.z_start,f.transz,e),p.rotatex=checkAnimValue(r.x_rotate_start,f.rotatex,e),p.rotatey=checkAnimValue(r.y_rotate_start,f.rotatey,e),p.rotatez=checkAnimValue(r.z_rotate_start,f.rotatez,e),p.scalex=checkAnimValue(r.scale_x_start,f.scalex,e),p.scaley=checkAnimValue(r.scale_y_start,f.scaley,e),p.skewx=checkAnimValue(r.skew_x_start,f.skewx,e),p.skewy=checkAnimValue(r.skew_y_start,f.skewy,e),p.opac=checkAnimValue(r.opacity_start,f.opac,e),p.tper=r.deformation.pers,b.add(w.set(m,{clearProps:\"transform\"}),0),b.add(w.staggerFromTo(m,o,{scaleX:p.scalex,scaleY:p.scaley,rotationX:p.rotatex,rotationY:p.rotatey,rotationZ:p.rotatez,x:p.transx,y:p.transy,z:p.transz,skewX:p.skewx,skewY:p.skewy,transformPerspective:p.tper,transformOrigin:_,autoAlpha:p.opac,\"-webkit-filter\":p[\"-webkit-filter\"],filter:p.filter},{scaleX:f.scalex,scaleY:f.scaley,rotationX:f.rotatex,rotationY:f.rotatey,rotationZ:f.rotatez,x:f.transx,y:f.transy,z:f.transz,skewX:f.skewx,skewY:Number(f.skewy),transformPerspective:f.tper,transformOrigin:_,ease:n,autoAlpha:f.opac,overwrite:\"all\",force3D:\"auto\",\"-webkit-filter\":f[\"-webkit-filter\"],filter:f.filter},l)),null!=s&&b.add(punchgs.TweenLite.fromTo(s,o,{scaleX:p.scalex,scaleY:p.scaley,rotationX:p.rotatex,rotationY:p.rotatey,rotationZ:p.rotatez,x:p.transx,y:p.transy,z:p.transz,skewX:p.skewx,skewY:p.skewy,transformPerspective:p.tper,transformOrigin:_,autoAlpha:p.opac},{scaleX:f.scalex,scaleY:f.scaley,rotationX:f.rotatex,rotationY:f.rotatey,rotationZ:f.rotatez,x:f.transx,y:f.transy,z:f.transz,skewX:f.skewx,skewY:Number(f.skewy),transformPerspective:f.tper,transformOrigin:_,ease:n,autoAlpha:f.opac,overwrite:\"all\",force3D:\"auto\"}),0),r.mask_start||b.add(punchgs.TweenLite.set(i,{overflow:\"visible\"}),0),r.mask_start){var k=new Object;k.x=checkAnimValue(r.mask_x_start,r.mask_x_start,e,\"horizontal\"),k.y=checkAnimValue(r.mask_y_start,r.mask_y_start,e,\"vertical\"),b.add(punchgs.TweenLite.fromTo(i,o,{overflow:\"hidden\",x:k.x,y:k.y},{x:0,y:0,ease:n}),0)}return r.mask_start||r.mask_end?i.addClass(\"tp-showmask\"):i.removeClass(\"tp-showmask\"),e.data(\"startanimobj\",p),b.add(punchgs.TweenLite.fromTo(jQuery(\"#startanim_wrapper\"),w.totalDuration(),{autoAlpha:1,width:0},{width:67,ease:n}),0),m!=e&&b.add(punchgs.TweenLite.fromTo(e.parent(),.2,{autoAlpha:0},{autoAlpha:1}),0),b}function theLayerOutAnimation(e){var t=e.closest(\".slide_layer\"),a=u.getSerialFromID(t.attr(\"id\")),r=UniteAdminRev.duplicateObjectDeep(u.getLayer(a)),i=t.find(\".tp-mask-wrap\"),s=t.hasClass(\"slide_layer_type_column\")?t.find(\".column_background\").first():void 0,o=r.frames.frame_999.animation,n=r.frames.frame_999.speed/1e3,l=r.frames.frame_999.easing,d=r.frames.frame_999.splitdelay/100,c=r.frames.frame_999.split,m=e;if(theanim=new Object,theresult=new Object,originx=r.layer_2d_origin_x+\"%\",originy=r.layer_2d_origin_y+\"%\",origin=originx+\" \"+originy,l=\"nothing\"==l?r.frames.frame_999.easing:l,theanim.transx=0,theanim.transy=0,theanim.transz=0,theanim.rotatex=0,theanim.rotatey=0,theanim.rotatez=0,theanim.scalex=1,theanim.scaley=1,theanim.skewx=0,theanim.skewy=0,theanim.opac=0,theanim.tper=parseFloat(r.deformation.pers),theresult.transx=0,theresult.transy=0,theresult.transz=parseFloat(r.deformation.z),theresult.rotatex=parseFloat(r.deformation.xrotate),theresult.rotatey=parseFloat(r.deformation.yrotate),theresult.rotatez=parseFloat(r[\"2d_rotation\"]),theresult.scalex=parseFloat(r.deformation.scalex),theresult.scaley=parseFloat(r.deformation.scaley),theresult.skewx=parseFloat(r.deformation.skewx),theresult.skewy=parseFloat(r.deformation.skewy),theresult.opac=parseFloat(r.deformation.opacity),theresult.tper=parseFloat(r.deformation.pers),theanim[\"-webkit-filter\"]=\"\",theanim.filter=\"\",theresult[\"-webkit-filter\"]=\"\",theresult.filter=\"\",void 0!==r.deformation.blurfilter&&parseInt(r.deformation.blurfilter,0)>0||void 0!==r.blurfilter_start&&parseInt(r.blurfilter_start,0)>0){var p=\"blur(\"+parseInt(r.deformation.blurfilter,0)+\"px)\",f=\"inherit\"===r.blurfilter_end?p:\"blur(\"+parseInt(r.blurfilter_end,0)+\"px)\";theanim[\"-webkit-filter\"]=f,theanim.filter=f,theresult[\"-webkit-filter\"]=p,theresult.filter=p}if(void 0!==r.deformation.grayscalefilter&&parseInt(r.deformation.grayscalefilter,0)>0||void 0!==r.grayscalefilter_end&&parseInt(r.grayscalefilter_end,0)>0){var y=\"grayscale(\"+parseInt(r.deformation.grayscalefilter,0)+\"%)\",h=\"inherit\"===r.grayscalefilter_end?y:\"grayscale(\"+parseInt(r.grayscalefilter_end,0)+\"%)\";theanim[\"-webkit-filter\"]=\"\"===theanim[\"-webkit-filter\"]?h:theanim[\"-webkit-filter\"]+\" \"+h,theanim.filter=\"\"===theanim.filter?h:theanim.filter+\" \"+h,theresult[\"-webkit-filter\"]=\"\"===theresult[\"-webkit-filter\"]?y:theresult[\"-webkit-filter\"]+\" \"+y,theresult.filter=\"\"===theresult.filter?y:theresult.filter+\" \"+y}switch(c){case\"chars\":m=e.data(\"mySplitText\").chars;break;case\"words\":m=e.data(\"mySplitText\").words;break;case\"lines\":m=e.data(\"mySplitText\").lines}m.length;var g=new punchgs.TimelineLite,v=new punchgs.TimelineLite;if(null==o&&(o=\"auto\"),r.mask_end&&(\"auto\"!==o||r.mask_start)||g.add(punchgs.TweenLite.set(i,{overflow:\"visible\"})),\"auto\"===o)theanim=e.data(\"startanimobj\");else{r.mask_end||\"auto\"===o&&r.mask_start;theanim.transx=checkAnimValue(r.x_end,theresult.transx,e,\"horizontal\"),theanim.transy=checkAnimValue(r.y_end,theresult.transy,e,\"vertical\"),theanim.transz=checkAnimValue(r.z_end,theresult.transz,e),theanim.rotatex=checkAnimValue(r.x_rotate_end,theresult.rotatex,e),theanim.rotatey=checkAnimValue(r.y_rotate_end,theresult.rotatey,e),theanim.rotatez=checkAnimValue(r.z_rotate_end,theresult.rotatez,e),theanim.scalex=checkAnimValue(r.scale_x_end,theresult.scalex,e),theanim.scaley=checkAnimValue(r.scale_y_end,theresult.scaley,e),theanim.skewx=checkAnimValue(r.skew_x_end,theresult.skewx,e),theanim.skewy=checkAnimValue(r.skew_y_end,theresult.skewy,e),theanim.opac=checkAnimValue(r.opacity_end,theresult.opac,e),theanim.tper=r.deformation.pers}if(g.add(v.staggerTo(m,.001,{\"-webkit-filter\":theresult[\"-webkit-filter\"],filter:theresult.filter},d-.001)),g.add(v.staggerTo(m,n,{scaleX:theanim.scalex,scaleY:theanim.scaley,rotationX:theanim.rotatex,rotationY:theanim.rotatey,rotationZ:theanim.rotatez,x:theanim.transx,y:theanim.transy,z:theanim.transz+1,skewX:theanim.skewx,skewY:theanim.skewy,opacity:theanim.opac,transformPerspective:theanim.tper,transformOrigin:origin,ease:l,\"-webkit-filter\":theanim[\"-webkit-filter\"],filter:theanim.filter},d)),null!=s&&g.add(punchgs.TweenLite.to(s,n,{scaleX:theanim.scalex,scaleY:theanim.scaley,rotationX:theanim.rotatex,rotationY:theanim.rotatey,rotationZ:theanim.rotatez,x:theanim.transx,y:theanim.transy,z:theanim.transz+1,skewX:theanim.skewx,skewY:theanim.skewy,opacity:theanim.opac,transformPerspective:theanim.tper,transformOrigin:origin,ease:l},d),0),r.mask_end)(_=new Object).x=checkAnimValue(r.mask_x_end,r.mask_x_end,e),_.y=checkAnimValue(r.mask_y_end,r.mask_y_end,e),g.add(punchgs.TweenLite.to(i,n,{x:_.x,y:_.y,ease:l,overflow:\"hidden\"},d),0);else if(\"auto\"===o&&r.mask_start){var _;(_=new Object).x=checkAnimValue(r.mask_x_start,r.mask_x_start,e),_.y=checkAnimValue(r.mask_y_start,r.mask_y_start,e),g.add(punchgs.TweenLite.to(i,n,{x:_.x,y:_.y,ease:l},d),0)}return g.add(punchgs.TweenLite.fromTo(jQuery(\"#endanim_timerunnerbox\"),v.totalDuration(),{x:0},{x:-67,ease:l}),0),g.add(punchgs.TweenLite.fromTo(jQuery(\"#endanim_timerunner\"),v.totalDuration(),{x:0},{x:-67,ease:l}),0),m!=e&&g.add(punchgs.TweenLite.fromTo(e.parent(),.2,{autoAlpha:1},{autoAlpha:0}),v.totalDuration()-.2),g}var initSlideDuration=function(){var e=jQuery(\"#delay\").val();null!=e&&0!=e&&\"undefined\"!=e||(e=g_slideTime),jQuery(\"#mastertimer-maxtime\").css({left:e/10})};t.masterTimerPositionChange=function(e){var a,r=jQuery(document.getElementById(\"mastertimer-position\")),i=(r[0].getBoundingClientRect().left-document.getElementById(\"master-rightheader\").getBoundingClientRect().left+t.timercorrectur)/100,s=jQuery(document.getElementById(\"divbgholder\")).data(\"slidetimeline\");if(r[0].className=r[0].classList.contains(\"hovering\")?r[0].className:r[0].className+\" hovering\",i<=0&&(\"wasnotidle\"==r.data(\"wasidle\")||null==r.data(\"wasidle\"))&&(t.stopAllLayerAnimation(),r.data(\"wasidle\",\"wasidle\"),null!=r.data(\"tl\")&&r.data(\"tl\").kill(),null!=s&&(s.stop(),s.seek(1e5)),t.allLayerToIdle()),i>0&&(\"wasidle\"==r.data(\"wasidle\")||null==r.data(\"wasidle\"))&&(r.data(\"wasidle\",\"wasnotidle\"),createGlobalTimeline(!0),document.getElementById(\"mastertimer-playpause-wrapper\").innerHTML='<i class=\"eg-icon-play\"></i><span>PLAY</span>',r[0].className=r[0].classList.contains(\"inaction\")?r[0].className:r[0].className+\" inaction\"),i>0&&\"wasnotidle\"==r.data(\"wasidle\")){e&&createGlobalTimeline(!1);var o=r.data(\"tl\");o.stop(),s.stop(),o.seek(i),s.seek(i)}i>0?((a=document.getElementById(\"mastertimer-poscurtime\")).className=a.classList.contains(\"movedalready\")?a.className:a.className+\" movedalready\",a.innerHTML=t.convToTime(100*i),r.removeClass(\"timerinidle\")):(a=document.getElementById(\"mastertimer-poscurtime\")).classList.contains(\"movedalready\")&&(a.innerHTML=\"Idle\",r.addClass(\"timerinidle\"));r.trigger(\"poschanged\")},t.convToTime=function(e){var t=Math.floor(e/6e3),a=Math.floor(Math.ceil(e-6e3*t)/100),r=Math.round(e-100*a-6e3*t);return 0==t?t=\"00\":t<10&&(t=\"0\"+t.toString()),0==a?a=\"00\":a<10&&(a=\"0\"+a.toString()),0==r?r=\"00\":r<10&&(r=\"0\"+r.toString()),t.toString()+\":\"+a.toString()+\".\"+r.toString()},t.allLayerToIdle=function(e){var a=null!=e&&null!=e.type?\"slide_layer_type_\"+e.type:\"slide_layer\";elements=document.getElementsByClassName(a);for(var r=0;r<elements.length;r++)t.rebuildLayerIdle(jQuery(elements[r]))};var initMasterTimer=function(){jQuery(\"#master-rightheader\");function e(){__coffset=parseInt(jQuery(\"#layers-right\").offset().left,0)}jQuery(\"#mastertimer-position\").on(\"poschanged\",function(){var e=jQuery(this),a=Math.round(e.position().left+t.timercorrectur),r=t.convToTime(a);a<0&&(r=\"IDLE\"),document.getElementById(\"master-timer-time\").innerHTML=r}),jQuery(\"#mastertimer-backtoidle\").click(function(){jQuery(\"#mastertimer-position\").removeClass(\"inaction\"),document.getElementById(\"mastertimer-playpause-wrapper\").innerHTML='<i class=\"eg-icon-play\"></i><span>PLAY</span>',document.getElementById(\"master-timer-time\").innerHTML=\"IDLE\",t.stopAllLayerAnimation();var e=jQuery(\"#mastertimer-position\"),a=jQuery(\"#divbgholder\").data(\"slidetimeline\");e.css({left:\"-15px\"}),null!=e.data(\"tl\")&&e.data(\"tl\").kill(),null!=a&&(a.stop(),a.seek(1e5)),t.allLayerToIdle()}),jQuery(\"#divLayers\").hover(function(){var e=jQuery(document.getElementById(\"mastertimer-position\")),a=document.getElementById(\"mastertimer-playpause-wrapper\"),r=jQuery(document.getElementById(\"divbgholder\")).data(\"slidetimeline\");null!=e.data(\"tl\")&&e.data(\"tl\").stop(),null!=r&&(r.stop(),r.seek(1e5)),e.removeClass(\"inaction\"),a.innerHTML='<i class=\"eg-icon-play\"></i><span>PLAY</span>',e.hasClass(\"hovering\")&&(e.removeClass(\"hovering\"),t.stopAllLayerAnimation(),t.allLayerToIdle(),jQuery(\"#layeranimation-playpause\").hasClass(\"inpuase\")||t.checkAnimationTab()&&t.animateCurrentSelectedLayer(1),jQuery(\"#loopanimation-playpause\").hasClass(\"inpuase\")||t.checkLoopTab()&&t.animateCurrentSelectedLayer(2))}),jQuery(\"#mastertimer-wrapper\").hover(function(){jQuery(this).hasClass(\"overme\")||(jQuery(this).addClass(\"overme\"),t.masterTimerPositionChange(!0))},function(){jQuery(this).removeClass(\"overme\")}),jQuery(\"#mastertimer-position\").draggable({axis:\"x\",start:function(e,a){punchgs.TweenLite.set(document.getElementById(\"mastertimer-curtime\"),{autoAlpha:0,x:-3,y:-10}),punchgs.TweenLite.set(document.getElementById(\"mastertimer-curtime-b\"),{autoAlpha:0}),t.deactivatePerfectScrollBars()},drag:function(e,a){a.position.left=Math.max(-15,a.position.left),t.masterTimerPositionChange(!1)},stop:function(e,t){punchgs.TweenLite.set(document.getElementById(\"mastertimer-curtime\"),{autoAlpha:1,x:-1,y:0,ease:punchgs.Power2.easeInOut}),punchgs.TweenLite.set(document.getElementById(\"mastertimer-curtime-b\"),{autoAlpha:1})}}),jQuery(\"#mastertimer-linear\").click(function(e){var a=jQuery(\"#mastertimer-linear\").offset().left,r=jQuery(\"#master-rightheader\").scrollLeft();jQuery(\"#mastertimer-position\").css({left:e.pageX-a+r+\"px\"}),t.masterTimerPositionChange()}),jQuery(\"#mastertimer-maxtime\").draggable({axis:\"x\",containment:\"#master-rightheader\",create:function(e,a){t.mainMaxTimeLeft=jQuery(\"#mastertimer-maxtime\").position().left,document.getElementById(\"mastertimer-maxcurtime\").innerHTML=t.convToTime(t.mainMaxTimeLeft),t.setIdleZones()},start:function(e,a){punchgs.TweenLite.set(document.getElementById(\"mastertimer-curtime\"),{autoAlpha:0,x:-3,y:-10}),punchgs.TweenLite.set(document.getElementById(\"mastertimer-curtime-b\"),{autoAlpha:0}),document.getElementById(\"mastertimer-maxcurtime\").innerHTML=t.convToTime(t.mainMaxTimeLeft),t.setIdleZones(),t.deactivatePerfectScrollBars()},drag:function(e,a){t.mainMaxTimeLeft=a.position.left,document.getElementById(\"mastertimer-maxcurtime\").innerHTML=t.convToTime(t.mainMaxTimeLeft),document.getElementById(\"delay\").value=10*t.mainMaxTimeLeft,t.setIdleZones(),t.compareLayerEndsVSSlideEnd()},stop:function(e,a){punchgs.TweenLite.set(document.getElementById(\"mastertimer-curtime\"),{autoAlpha:1,x:-1,y:0,ease:punchgs.Power2.easeInOut}),punchgs.TweenLite.set(document.getElementById(\"mastertimer-curtime-b\"),{autoAlpha:1}),t.mainMaxTimeLeft=a.position.left,document.getElementById(\"mastertimer-maxcurtime\").innerHTML=t.convToTime(t.mainMaxTimeLeft),document.getElementById(\"delay\").value=10*t.mainMaxTimeLeft,t.setIdleZones(),g_slideTime=10*t.mainMaxTimeLeft,u.setMaintime(g_slideTime),t.compareLayerEndsVSSlideEnd(),t.rerenderAllAudioMap()}}),__ctime=jQuery(\"#mastertimer-curtime\"),__ctimeb=jQuery(\"#mastertimer-curtime-b\"),__ctimei=jQuery(\"#mastertimer-curtimeinner\"),jQuery(window).resize(function(){e()}),e(),__ctime.data(\"offset\",0),jQuery(\".master-rightcell\").on(\"mousemove\",function(e){var a=e.pageX-__coffset-jQuery(document.getElementById(\"master-rightheader\")).data(\"left\");0==__ctime.data(\"offset\")&&(punchgs.TweenLite.set(__ctime,{left:a}),punchgs.TweenLite.set(__ctimeb,{left:a+15}),__ctimei[0].innerHTML=t.convToTime(a-10))}),jQuery(\"#mastertimer-playpause-wrapper\").click(function(){var e=jQuery(this);if(punchgs.TweenLite.to(jQuery(\"#mastertimer-poscurtime\"),.3,{autoAlpha:0,x:-3,y:-10,ease:punchgs.Power2.easeInOut}),e.find(\".eg-icon-pause\").length>0){document.getElementById(\"mastertimer-playpause-wrapper\").innerHTML='<i class=\"eg-icon-play\"></i><span>PLAY</span>',t.stopAllLayerAnimation(),null!=(a=jQuery(\"#mastertimer-position\")).data(\"tl\")&&a.data(\"tl\").kill()}else{createGlobalTimeline(!0),document.getElementById(\"mastertimer-playpause-wrapper\").innerHTML='<i class=\"eg-icon-pause\"></i><span>PAUSE</span>',jQuery(\"#mastertimer-position\").addClass(\"inaction\");var a,r=(a=jQuery(\"#mastertimer-position\")).data(\"tl\"),i=jQuery(\"#divbgholder\").data(\"slidetimeline\"),s=a.position().left/100;r.play(s),i.play(s),jQuery(\"#divbgholder\").data(\"slidetimeline\").play(s),r.eventCallback(\"onComplete\",function(){r.play(0),i.play(0)}),r.eventCallback(\"onUpdate\",function(){a.css({left:100*r.time()}),a.trigger(\"poschanged\")})}})};function createGlobalTimeline(e,a){e&&t.stopAllLayerAnimation();var r=jQuery(\"#mastertimer-position\");null!=r.data(\"tl\")&&r.data(\"tl\").kill();var i=new punchgs.TimelineLite;i.pause(),jQuery(\" .slide_layer .innerslide_layer\").each(function(){var e=jQuery(this);e.data(\"inanim\",theLayerInAnimation(e)),e.data(\"outanim\",theLayerOutAnimation(e));var t=u.getSerialFromID(e.closest(\".slide_layer\").attr(\"id\"));params=u.getLayer(t),i.add(e.data(\"inanim\"),params.frames.frame_0.time/1e3);var a=params.frames.frame_999.endspeed;null==a&&(a=params.frames.frame_0.speed),i.add(e.data(\"outanim\"),params.frames.frame_999.time/1e3)}),r.data(\"tl\",i)}t.setIdleZones=function(){for(var e=document.getElementsByClassName(\"slide-idle-section\"),a=0;a<e.length;a++)e[a].style.left=t.mainMaxTimeLeft+15+\"px\"};var setFakeAnim=function(){var e=jQuery(\".slide-trans-cur-ul li\").first(),t=e.data(\"animval\"),a=e.text();return\"random-selected\"!=t&&\"random\"!=t&&\"random-static\"!=t&&\"random-premium\"!=t||(t=\"fade\",a=\"Fade\"),document.getElementById(\"fake-select-label\").innerHTML='\"'+a+'\"',jQuery(\"#fake-select-label\").data(\"valu\",t),removeAllSlots(),slideAnimation(),!0,!1};t.setSlideTransitionTimerBar=function(){var e=document.getElementById(\"slide_in_sort_time\"),a=e.getElementsByClassName(\"timeline_frame\")[0],r=e.getElementsByClassName(\"timeline_full\")[0],i=document.getElementById(\"transition_duration\")?document.getElementById(\"transition_duration\").value:0;e.getElementsByClassName(\"duration_cont\")[0].innerHTML=i,jQuery.isNumeric(i)||(i=500),punchgs.TweenLite.set(a,{width:i/10}),punchgs.TweenLite.set(r,{left:15,width:t.mainMaxTimeLeft})};var addSlideToSortbox=function(){t.setSlideTransitionTimerBar();var e=document.getElementById(\"slide_in_sort_time\"),a=e.getElementsByClassName(\"timeline_frame\")[0],r=e.getElementsByClassName(\"duration_cont\")[0];jQuery(a).resizable({minWidth:0,handles:\"e\",start:function(e,t){},stop:function(e,a){document.getElementById(\"transition_duration\").value=10*a.size.width,r.innerHTML=10*a.size.width,jQuery(\".slide-trans-cur-ul li.selected\").data(\"duration\",10*a.size.width),t.resetSlideAnimations(!0)},resize:function(e,t){document.getElementById(\"transition_duration\").value=10*t.size.width,jQuery(\".slide-trans-cur-ul li.selected\").data(\"duration\",10*t.size.width),r.innerHTML=10*t.size.width}})};function loadMusicTimeLine(e,t){if(null===audioContext||!AudioContext)return!1;var a=new XMLHttpRequest,r=e.references.sorttable.timeline;a.open(\"GET\",t,!0),a.responseType=\"arraybuffer\",a.onreadystatechange=function(t){4==a.readyState&&(200==a.status?audioContext.decodeAudioData(a.response,function(t){t,r.data(\"audiobuffer\",t),displayAudioBuffer(e,t)},onDecodeError):console.log(\"error during the load.Wrong url or cross origin issue\"))},a.send()}function onDecodeError(){alert(\"error while decoding your Audio file.\")}function getStartSec(e){return null==e?-1:\"\"==e?-1:\" \"==e?-1:jQuery.isNumeric(e)?e:e.split(\":\").length>1?60*parseInt(e.split(\":\")[0],0)+parseInt(e.split(\":\")[1],0):e}function displayAudioBuffer(e,a){try{var r=e.references.sorttable.timeline,i=a.getChannelData(0),s=(r.find(\".timeline_full\"),a.duration),o=(e.video_data.start_at,getStartSec(e.video_data.start_at)),n=getStartSec(e.video_data.end_at);o=-1==o?0:o,n=-1==n?999999999:n,o/=60,n=(n/=60)>a.duration?a.duration:n,o*=a.sampleRate,s=((n*=a.sampleRate)-o)/a.sampleRate*100,r.find(\"canvas\").remove();var l=document.createElement(\"canvas\");l.width=t.mainMaxTimeLeft,l.height=19,r.append('<div class=\"timeline_audio\"></div>'),r.find(\".timeline_audio\").append(l);var d=r.find(\"canvas\");punchgs.TweenLite.set(d,{zIndex:2,top:3,left:0,position:\"absolute\"});var u=l.getContext(\"2d\");i.length;u.save(),u.fillStyle=\"transparent\",u.fillRect(0,0,s,19),u.strokeStyle=\"#333\",u.translate(0,9.5),u.globalAlpha=.5;for(var c=n-o,m=0;m<n-o;m+=200){var p=Math.floor(s*m/c),f=19*i[o+m];u.beginPath(),u.moveTo(p,0),u.lineTo(p+1,f),u.stroke(),0}if(\"none\"!=e.video_data.videoloop){var y=u.getImageData(0,0,s,19),h=t.mainMaxTimeLeft/s;for(m=0;m<h;m++)u.putImageData(y,m*s,0)}u.restore(),audio=jQuery(e.references.sorttable.timeline[0]).find(\".timeline_audio\"),void 0!==audio&&audio.length>0&&punchgs.TweenLite.set(audio,{left:15+e.frames.frame_0.time/10,width:(e.frames.frame_999.time-e.frames.frame_0.time+e.frames.frame_999.split_extratime+e.frames.frame_999.speed)/10})}catch(n){console.log(\"Drawing of Audio Map failed !\")}}t.rerenderAllAudioMap=function(){jQuery.each(u.arrLayers,function(e,a){\"audio\"==a.type&&t.drawAudioMap(a)})},t.drawAudioMap=function(e){var t=e.references.sorttable.timeline;if(t.data(\"lastaudio\")==e.video_data.urlAudio&&null!=t.data(\"audiobuffer\")?displayAudioBuffer(e,t.data(\"audiobuffer\")):loadMusicTimeLine(e,e.video_data.urlAudio),t.data(\"lastaudio\",e.video_data.urlAudio),!AudioContext)return console.log(\"Audio Map cannot be drawn  in your Browser. Try a recent Chrome or Firefox. \"),!1},t.addToSortbox=function(e,a){if(1===document.getElementById(\"layers-right-ul\").children.length&&addSlideToSortbox(),void 0===e)return!1;t.isLayerVisible(a.references.htmlLayer);var r=\"\",i=\"\",s=t.getSortboxText(a.alias),o=Number(a.order)+5,n=\"\",l=\"\",d=void 0!==a.groupLink?a.groupLink:0;switch(a.type){case\"group\":r=\" sortable_elements sortable_group\",i=\" droppable_sortable_group\";break;case\"row\":r=\"  sortable_elements sortable_group sortable_row\",i=\" droppable_sortable_row\";break;case\"column\":r=\" sortable_elements sortable_column\",i=\" droppable_sortable_column\";break;default:r=\" sortable_elements sortable_layers\"}switch(a.deleted&&(r+=\" layer-deleted\"),n+='<li data-uniqueid=\"'+a.unique_id+'\" id=\"layer_sort_'+e+'\" data-type=\"'+a.type+'\" class=\"mastertimer-layer ui-state-default'+r+'\" data-grouptype=\"'+a.grouptype+'\" data-pid=\"'+a.p_uid+'\">',n+='    <div class=\"layer_sort_inner_wrapper '+i+'\">',n+='        <span class=\"mastertimer-timeline-selector-row tipsy_enabled_top\" title=\"Select Layer in Timeline\">',n+='            <input data-uniqueid=\"'+a.unique_id+'\"  id=\"lots_id_'+a.unique_id+'\" class=\"layer-on-timeline-selector\" style=\"margin:0px\" type=\"checkbox\"/>',n+=\"        </span>\",n+='        <span data-uniqueid=\"'+a.unique_id+'\" class=\"list-of-layer-links tipsy_enabled_top\" title=\"Choose Layers Group Link\">',n+='            <span class=\"layer-link-type-element layer-link-type-element-cs layer-link-type-'+d+'\"></span>',n+='            <span class=\"list-of-layer-links-inner\">',n+='                <span data-linktype=\"1\" class=\"layer-link-type-element layer-link-type-1\"></span>',n+='                <span data-linktype=\"2\" class=\"layer-link-type-element layer-link-type-2\"></span>',n+='                <span data-linktype=\"3\" class=\"layer-link-type-element layer-link-type-3\"></span>',n+='                <span data-linktype=\"4\" class=\"layer-link-type-element layer-link-type-4\"></span>',n+='                <span data-linktype=\"5\" class=\"layer-link-type-element layer-link-type-5\"></span>',n+='                <span data-linktype=\"0\" class=\"layer-link-type-element layer-link-type-0\"></span>',n+=\"            </span>\",n+=\"        </span>\",\"column\"!=a.type?\"row\"!==a.type?(n+='        <span  class=\"mastertimer-timeline-zindex-row tipsy_enabled_top\" title=\"z-Index\">',n+='\\t\\t\\t<i style=\"margin-left:15px;margin-right:0px;\" class=\"layersortclass eg-icon-sort\"></i>',n+='\\t\\t\\t<span class=\"sortbox_depth\" title=\"z-Index\">'+o+\"</span>\",n+=\"\\t\\t</span>\"):n+='    <span  class=\"mastertimer-timeline-zindex-row tipsy_enabled_top\" style=\"cursor:default !important\" title=\"z-Index\"></span>':n+='     <span class=\"column_sort_row_spacer\"></span>',n+='        <span class=\"mastertimer-timeline-tillendcontainer\" style=\"\">',n+='            <span data-uniqueid=\"'+a.unique_id+'\" data-serial=\"'+e+'\" class=\"till_slideend tipsy_enabled_top \" title=\"Wait till Slides End / Custom End\"><i class=\"eg-icon-back-in-time\"></i><i class=\"eg-icon-download-2\"></i></span>',n+=\"\\t\\t</span>\",n+='\\t\\t<span class=\"sort-hover-part layer_sort_layer_text_field\">',n+='\\t\\t\\t<span class=\"sortbox_text\"><i class=\"layertypeclass ',a.type){case\"group\":n+=\"fa-icon-object-group\";break;case\"row\":n+=\"rs-icon-layergroup\";break;case\"column\":n+=\"rs-icon-layercolumns\";break;case\"text\":n+=\"rs-icon-layerfont\";break;case\"image\":n+=\"rs-icon-layerimage\";break;case\"video\":n+=\"rs-icon-layervideo\";break;case\"audio\":n+=\"rs-icon-layeraudio\";break;case\"button\":n+=\"rs-icon-layerbutton\";break;case\"shape\":n+=\"rs-icon-layershape\";break;case\"svg\":n+=\"rs-icon-layersvg\"}n+='\"></i>',n+='\\t\\t\\t\\t<input class=\"timer-layer-text\" style=\"margin-top:-1px !important\" type=\"text\" enabled value=\"'+s+'\">',n+=\"\\t\\t\\t</span>\",n+=\"\\t\\t</span>\",\"group\"!=a.type&&\"row\"!=a.type&&\"column\"!=a.type||(n+='        <span class=\"sort_group_collapser\"><i class=\"eg-icon-down-dir\"></i><i class=\"eg-icon-right-dir\"></i></span>'),\"column\"!=a.type&&(n+='\\t\\t<span class=\"timer-manual-edit\"><i class=\"eg-icon-pencil\"></i></span>'),n+=\"\\t</div>\",\"group\"!=a.type&&\"row\"!=a.type||(n+='<ul id=\"sortable_group_'+a.unique_id+'\" class=\"sortable_groups_wrap sgw_def\"></ul>'),\"column\"==a.type&&(n+='<ul id=\"sortable_columns_'+a.unique_id+'\" class=\"sortable_layers_in_columns sgw_def\"></ul>'),n+=\"</li>\";var u=\"\";null!=a.p_uid&&-1!==a.p_uid&&\"row\"!==a.type&&\"group\"!==a.type&&(u=\" quick_in_group\"),\"row\"===a.type&&(u+=\" quick_in_row\"),l+='<li id=\"layer_quicksort_'+e+'\" data-serial=\"'+e+'\" class=\"quicksortlayer ui-state-default layer-toolbar-li'+u+'\">';var c='<span class=\"quick-edit-toolbar-in-list\">';switch(a.type){case\"text\":l+='<span class=\"layer-short-tool revdarkgray layer-title-with-icon\"><i class=\"rs-icon-layerfont_n\"></i>',c+='<span id=\"button_edit_layer_'+e+'\" class=\"button_edit_layer layer-short-tool revblue\"><i class=\"eg-icon-pencil\"></i></span>',c+='<span id=\"button_reset_size_'+e+'\" class=\"button_reset_size layer-short-tool revblue\"><i class=\"eg-icon-resize-normal\"></i></span>';break;case\"group\":l+='<span class=\"layer-short-tool revdarkgray layer-title-with-icon\"><i class=\"fa-icon-object-group\"></i>',c+='<span  class=\"layer-short-tool revdarkgray\"></span>',c+='<span  class=\"layer-short-tool revdarkgray\"></span>';break;case\"row\":l+='<span class=\"layer-short-tool revdarkgray layer-title-with-icon\"><i class=\"rs-icon-layergroup_n\"></i>',c+='<span  class=\"layer-short-tool revdarkgray\"></span>',c+='<span  class=\"layer-short-tool revdarkgray\"></span>';break;case\"column\":l+='<span class=\"layer-short-tool revdarkgray layer-title-with-icon\"><i class=\"rs-icon-layercolumns_n\"></i>',c+='<span  class=\"layer-short-tool revdarkgray\"></span>',c+='<span  class=\"layer-short-tool revdarkgray\"></span>',c+='<span  class=\"layer-short-tool revdarkgray\"></span>',c+='<span  class=\"layer-short-tool revdarkgray\"></span>';break;case\"shape\":l+='<span class=\"layer-short-tool revdarkgray layer-title-with-icon\"><i class=\"rs-icon-layershape_n\"></i>',c+='<span id=\"button_edit_shape_'+e+'\" class=\"button_edit_shape layer-short-tool revblue\"><i class=\"eg-icon-pencil\"></i></span>',c+='<span  class=\"layer-short-tool revdarkgray\"></span>';break;case\"button\":l+='<span class=\"layer-short-tool revdarkgray layer-title-with-icon\"><i class=\"rs-icon-layerbutton_n\"></i>',c+='<span id=\"button_edit_layer_'+e+'\" class=\"button_edit_layer layer-short-tool revblue\"><i class=\"eg-icon-pencil\"></i></span>',c+='<span id=\"button_reset_size_'+e+'\" class=\"button_reset_size layer-short-tool revblue\"><i class=\"eg-icon-resize-normal\"></i></span>';break;case\"image\":l+='<span class=\"layer-short-tool revdarkgray layer-title-with-icon\"><i class=\"rs-icon-layerimage_n\"></i>',c+='<span  id=\"button_change_image_source_'+e+'\" class=\"button_change_image_source layer-short-tool revblue\"><i class=\"eg-icon-pencil\"></i></span>',c+='<span id=\"button_reset_size_'+e+'\" class=\"button_reset_size layer-short-tool revblue\"><i class=\"eg-icon-resize-normal\"></i></span>';break;case\"video\":l+='<span class=\"layer-short-tool revdarkgray layer-title-with-icon\"><i class=\"rs-icon-layervideo_n\"></i>',c+='<span  id=\"button_change_video_settings_'+e+'\" class=\"button_change_video_settings layer-short-tool revblue\"><i class=\"eg-icon-pencil\"></i></span>',c+='<span  class=\"layer-short-tool revdarkgray\"></span>';break;case\"audio\":l+='<span class=\"layer-short-tool revdarkgray layer-title-with-icon\"><i class=\"rs-icon-layeraudio_n\"></i>',c+='<span  id=\"button_changeaudio_settings_'+e+'\" class=\"button_change_audio_settings layer-short-tool revblue\"><i class=\"eg-icon-pencil\"></i></span>',c+='<span  class=\"layer-short-tool revdarkgray\"></span>',r=\" layer-sort-audio-item\";break;case\"svg\":l+='<span class=\"layer-short-tool revdarkgray layer-title-with-icon\"><i class=\"rs-icon-layersvg_n\"></i>',c+='<span  id=\"button_changesvg_settings_'+e+'\" class=\"button_change_svg_settings layer-short-tool revblue\"><i class=\"eg-icon-pencil\"></i></span>',c+='<span  class=\"layer-short-tool revdarkgray\"></span>'}l+='<input type=\"text\" class=\"layer-title-in-list\" value=\"'+s+'\"></span>',l+=c,\"column\"!==a.type&&(l+='<span id=\"button_delete_layer_'+e+'\" class=\"button_delete_layer layer-short-tool revred\"><i class=\"rs-lighttrash\"></i></span>',l+='<span id=\"button_duplicate_layer_'+e+'\" class=\"button_duplicate_layer layer-short-tool revyellow\" data-isstatic=\"\"><i class=\"rs-lightcopy\"></i></span>'),l+='<span style=\"display:block;float:none;clear:both\"></span></span>',l+='<span class=\"quick-layer-view layer-short-tool revdarkgray in-on\"><i class=\"eg-icon-eye\"></i></span>',l+='<span class=\"quick-layer-lock layer-short-tool revdarkgray\"><i class=\"eg-icon-lock-open\"></i></span>',l+='<div style=\"clear:both;display:block\"></div>',l+=\"</li>\",document.getElementById(\"quick-layers-list-id\").childNodes.length>1&&(document.getElementById(\"nolayersavailable\").style.display=\"none\");var m=\"\",p=\"logical_o\"===a.grouptype?\" hide_timeline\":\"\";m+='<li data-uniqueid=\"'+a.unique_id+'\" data-serial=\"'+e+'\" id=\"layer_sort_time_'+e+'\" class=\"sortable_elements mastertimer-layer ui-state-default'+r+p+'\" data-grouptype=\"'+a.grouptype+'\" data-pid=\"'+a.p_uid+'\">',m+='        <div class=\"timeline_full\"></div>',m+='  <div class=\"timeline\">',m+='      <div class=\"timeline-relative-marker trm-groupandrowmarker\"></div>',m+='        <div data-frameindex=\"0\" id=\"tl_'+a.unique_id+'_frame_0\" class=\"timeline_frame tf_startframe tl_layer_frame\" data-uniqueid=\"'+a.unique_id+'\" data-serial=\"'+e+'\" style=\"z-index:50;\">',m+='             <span class=\"timebefore_cont\"></span>',m+='            <div class=\"tl_speed_wrapper\">',m+='                <div class=\"tlf_speed\"><span class=\"duration_cont\"></span></div>',m+='                <div class=\"tlf_splitdelay\"></div>',m+=\"            </div>\",m+='            <span class=\"show_timeline_helper\">EDIT</span>',m+=\"        </div>\",m+='        <div data-frameindex=\"999\" id=\"tl_'+a.unique_id+'_frame_999\" class=\"timeline_frame tf_endframe tl_layer_frame\" data-uniqueid=\"'+a.unique_id+'\" data-serial=\"'+e+'\" style=\"z-index:48;\">',m+='             <span class=\"timebefore_cont\"></span>',m+='            <div class=\"tl_speed_wrapper\">',m+='                <div class=\"tlf_speed\"><span class=\"duration_cont\"></span></div>',m+='                <div class=\"tlf_splitdelay\"></div>',m+=\"            </div>\",m+='            <span class=\"show_timeline_helper\">EDIT</span>',m+=\"        </div>\",m+=\" </div>\",m+=' <div class=\"slide-idle-section\"></div>',m+=\"</li>\";var f=!0;\"row\"===a.type&&document.getElementById(\"layers-left-ul\").getElementsByClassName(\"sortable_row\").length>0&&(f=!1,document.getElementById(\"layers-left-ul\").getElementsByClassName(\"sortable_row\")[0].insertAdjacentHTML(\"afterend\",n),document.getElementById(\"quick-layers-list-id\").getElementsByClassName(\"quick_in_row\")[0].insertAdjacentHTML(\"afterend\",l),document.getElementById(\"layers-right-ul\").getElementsByClassName(\"sortable_row\")[0].insertAdjacentHTML(\"afterend\",m)),f&&(document.getElementById(\"layers-left-ul\").insertAdjacentHTML(\"beforeend\",n),document.getElementById(\"quick-layers-list-id\").insertAdjacentHTML(\"beforeend\",l),document.getElementById(\"layers-right-ul\").insertAdjacentHTML(\"beforeend\",m)),jQuery(\"#layer_quicksort_\"+e).on(\"mouseenter\",function(e){jQuery(\".layer_due_list_element_selected\").removeClass(\"layer_due_list_element_selected\"),jQuery(\"#slide_layer_\"+jQuery(this).data(\"serial\")).addClass(\"layer_due_list_element_selected\")}),jQuery(\"#layer_quicksort_\"+e).on(\"mouseleave\",function(e){jQuery(\".layer_due_list_element_selected\").removeClass(\"layer_due_list_element_selected\")}),jQuery(\"#layers-left .tipsy_enabled_top\").tipsy({gravity:\"s\",delayIn:70}),reinitSortBox();var y=document.getElementById(\"layer_sort_time_\"+e),h=jQuery(y),g=y.getElementsByClassName(\"timeline\")[0];jQuery(g);a.references.sorttable=void 0===a.references.sorttable?{}:a.references.sorttable,a.references.sorttable.layer=jQuery(document.getElementById(\"layer_sort_\"+e)),a.references.sorttable.timeline=h,a.references.quicklayer=jQuery(document.getElementById(\"layer_quicksort_\"+e)),\"audio\"==a.type&&(h.data(\"objref\",a),t.drawAudioMap(a),h.on(\"mousemove\",function(e){try{var t=jQuery(this),a=t.data(\"objref\"),r=t.data(\"serial\"),i=jQuery(\"#slide_layer_\"+r+\" audio\")[0];if(!t.hasClass(\"ui-state-hover\"))return!1;clearTimeout(t.data(\"audiopreview\")),t.find(\".audio-progress\").remove(),i.pause(),t.data(\"audiopreview\",setTimeout(function(){var r=t.find(\".timeline_full\"),s=r.position().left,o=r.width(),n=e.pageX-t.offset().left,l=n-s;if(!(n<s||n>s+o)){t.find(\".audio-progress\").remove(),t.append('<div class=\"audio-progress\"></div>');var d=t.find(\".audio-progress\"),u=getStartSec(a.video_data.start_at),c=getStartSec(a.video_data.end_at);u=-1==u?0:u,c=-1==c?999999999:c,u/=60;var m=(c=(c/=60)>i.duration?i.duration:c)-u,p=Math.floor(l/(100*m));l>100*m&&(l-=100*m*p),l>0&&(restw=100*(m-l/100),punchgs.TweenLite.fromTo(d,m-l/100,{left:s+l+p*(100*m),transformOrigin:\"0% 50%\",width:restw,scaleX:0},{scale:1,ease:punchgs.Linear.easeNone,onUpdate:function(){},onComplete:function(){i.pause()}})),l>0&&(i.play(),i.currentTime=l/100)}},400))}catch(e){}}),h.on(\"mouseleave\",function(e){try{var t=jQuery(this),a=t.data(\"serial\"),r=jQuery(\"#slide_layer_\"+a+\" audio\")[0];clearTimeout(t.data(\"audiopreview\")),t.find(\".audio-progress\").remove(),r.pause()}catch(e){}}));for(var v=y.getElementsByClassName(\"timeline_frame\"),_=0;_<v.length;_++)jQuery(v[_]).resizable({handles:\"e,w\",minWidth:1,create:function(e,a){var r=this;t.setTLFrame(r),setTimeout(function(){t.frameLimitations(r)},25)},start:function(e,a){t.deactivatePerfectScrollBars(),t.updateTLFrame(this,\"trigger\",void 0,a.size.width)},resize:function(e,a){t.updateTLFrame(this,\"trigger\",void 0,a.size.width)},stop:function(e,a){t.updateTLFrame(this,\"trigger\")}}),jQuery(v[_]).draggable({axis:\"x\",start:function(e,a){t.recordFrameStatus(this,a)},drag:function(e,a){t.frameLimitations(this,a),t.updateTLFrame(this,\"trigger\"),t.updateAllSelectedLayerTimeline(this)},stop:function(e,a){t.frameLimitations(this,a),t.updateTLFrame(this,\"trigger\"),t.updateAllSelectedLayerTimeline(this)}});t.resetTimeLineHeight(),t.setIdleZones()},t.deactivatePerfectScrollBars=function(){jQuery(\".revolution-template-groups\").perfectScrollbar(\"destroy\")},t.activatePerfectScrollBars=function(){jQuery(\".revolution-template-groups\").perfectScrollbar()};var checkTillSlideEnd=function(e){var a=10*t.mainMaxTimeLeft,r=document.getElementById(\"layer_sort_\"+e.serial);e.frames.frame_999.time>=a?(e.endWithSlide=!0,r.classList.contains(\"tillendon\")||(r.className+=\" tillendon\")):(e.endWithSlide=!1,jQuery(r).removeClass(\"tillendon\"))};t.setTLFrame=function(e){var a=e.getElementsByClassName(\"tlf_speed\")[0],r=e.getElementsByClassName(\"tlf_splitdelay\")[0],i=e.getElementsByClassName(\"duration_cont\")[0],s=e.getElementsByClassName(\"timebefore_cont\")[0],o=e.parentNode.parentNode.getElementsByClassName(\"timeline-relative-marker\")[0],n=(e=jQuery(e),u.getLayerByUniqueId(e.data(\"uniqueid\"))),l=u.checkLayerTriggered(n),d=u.getObjectLength(n.frames);n.frames.frame_0.time=Math.max(0,n.frames.frame_0.time),n.frames.frame_999.time=Math.min(10*t.mainMaxTimeLeft,n.frames.frame_999.time);var c=e.data(\"frameindex\"),m=n.frames[\"frame_\"+c].speed,p=n.frames[\"frame_\"+c].time,f=getSplitCounts(n.text,n.frames[\"frame_\"+c].split,n.frames[\"frame_\"+c].splitdelay),y=p;if(n.frames[\"frame_\"+c].split_extratime=f,0!==f?(punchgs.TweenLite.set(a,{width:m/10-f}),punchgs.TweenLite.set(r,{width:f})):(punchgs.TweenLite.set(a,{width:m/10}),punchgs.TweenLite.set(r,{width:0})),punchgs.TweenLite.set(e,{left:p/10,width:f+m/10}),i.innerHTML=m,void 0!==n.p_uid&&-1!==n.p_uid&&void 0!==u.getLayerByUniqueId(n.p_uid)&&\"object\"==typeof u.getLayerByUniqueId(n.p_uid)){var h=u.getLayerByUniqueId(n.p_uid);o.style.display=\"block\",o.style.width=h.frames.frame_0.time/10-1+\"px\",y=p-h.frames.frame_0.time}else if(o.style.display=\"none\",o.style.width=\"0px\",0!==c){var g=999===c?n.frames[\"frame_\"+(d-2)]:n.frames[\"frame_\"+(c-1)];void 0!==g&&(y=p-(g.time+g.speed+10*g.split_extratime))}p==10*t.mainMaxTimeLeft&&(s.innerHTML='<span class=\"wait_slide_end\">WAIT</span>'),n.frames[\"frame_\"+c].time_relative=y,0==c&&l.in&&(s.innerHTML='<span class=\"triggered_layer_on_timeline\">a</span>'),999==c&&l.out&&(s.innerHTML='<span class=\"triggered_layer_on_timeline\">a</span>'),t.updateFullTime(n),checkTillSlideEnd(n)},t.updateTLFrame=function(e,a,r,i){t.recordFrameStatusForce&&t.recordFrameStatus(e);var s=u.getCurrentLayer().serial,o=e.getElementsByClassName(\"tlf_speed\")[0],n=e.getElementsByClassName(\"tlf_splitdelay\")[0],l=e.getElementsByClassName(\"duration_cont\")[0],d=e.getElementsByClassName(\"timebefore_cont\")[0],c=e.parentNode.parentNode.getElementsByClassName(\"timeline-relative-marker\")[0],m=(e=jQuery(e),u.getLayerByUniqueId(e.data(\"uniqueid\"))),p={frames:{}},f=u.getObjectLength(m.frames),y=u.checkLayerTriggered(m);if(fi=e.data(\"frameindex\"),speed=10*e.outerWidth(),time=10*e.position().left,splitdelay=getSplitCounts(m.text,m.frames[\"frame_\"+fi].split,m.frames[\"frame_\"+fi].splitdelay),currentframe=m.frames[\"frame_\"+fi],updateTimerText=!0,timedif=time,p.frames[\"frame_\"+fi]={},speed-10*splitdelay<0&&(speed=10*splitdelay,punchgs.TweenLite.set(e,{width:splitdelay})),0!==splitdelay?(punchgs.TweenLite.set(o,{width:speed/10-splitdelay}),punchgs.TweenLite.set(n,{width:splitdelay})):punchgs.TweenLite.set(o,{width:speed/10}),l.innerHTML=speed,(time==10*t.mainMaxTimeLeft||0==fi&&y.in||999==fi&&y.out)&&(updateTimerText=!1),void 0!==m.p_uid&&-1!==m.p_uid&&void 0!==u.getLayerByUniqueId(m.p_uid)&&\"object\"==typeof u.getLayerByUniqueId(m.p_uid)){var h=u.getLayerByUniqueId(m.p_uid);timedif=time-h.frames.frame_0.time,c.style.display=\"block\"}else if(c.style.display=\"none\",c.style.width=\"0px\",0!==fi){var g=999===fi?m.frames[\"frame_\"+(f-2)]:m.frames[\"frame_\"+(fi-1)];g&&(timedif=time-(g.time+g.speed+10*g.split_extratime))}if(time==10*t.mainMaxTimeLeft&&(d.innerHTML='<span class=\"wait_slide_end\">WAIT</span>'),0==fi&&y.in&&(d.innerHTML='<span class=\"triggered_layer_on_timeline\">a</span>'),999==fi&&y.out&&(d.innerHTML='<span class=\"triggered_layer_on_timeline\">a</span>'),currentframe.time_relative=timedif,p.frames[\"frame_\"+fi].speed=speed-10*splitdelay,p.frames[\"frame_\"+fi].time=time,p.frames[\"frame_\"+fi].time_relative=timedif,p.frames[\"frame_\"+fi].split_extratime=splitdelay,m.serial==s&&(0===fi&&(document.getElementById(\"layer_speed\").value=p.frames.frame_0.speed),999===fi&&(document.getElementById(\"layer_endspeed\").value=p.frames.frame_999.speed)),\"trigger\"!==a&&(currentframe.speed=p.frames[\"frame_\"+fi].speed,currentframe.time=p.frames[\"frame_\"+fi].time),0===fi&&(\"row\"===m.type||\"column\"===m.type||\"group\"==m.type)){for(var v=u.getLayersInGroup(m.unique_id),_=0;_<v.columns.length;_++){(c=v.columns[_].references.sorttable.timeline[0].getElementsByClassName(\"timeline-relative-marker\")[0]).style.width=time/10-1+\"px\"}for(_=0;_<v.layers.length;_++){c=v.layers[_].references.sorttable.timeline[0].getElementsByClassName(\"timeline-relative-marker\")[0];if(\"row\"===m.type){var b=document.getElementById(\"tl_\"+v.layers[_].p_uid+\"_frame_0\");null!=b&&(c.style.width=b.style.left)}else c.style.width=time/10-1+\"px\"}}if(999!==fi){var w=fi+1>=f-1?999:fi+1,k=m.frames[\"frame_\"+w];null!=k&&(k.time_relative=k.time-(currentframe.time+currentframe.speed+10*currentframe.split_extratime),p.frames[\"frame_\"+w]={time_relative:k.time_relative})}\"trigger\"==a?u.updateLayer(m.serial,p):currentframe.split_extratime=p.frames[\"frame_\"+fi].split_extratime,t.frameLimitations(e,!1,r,{update:updateTimerText,triggered:y,timecont:d}),t.updateFullTime(m),checkTillSlideEnd(m)},t.addLayersColumnsToSelectedElements=function(e,t){var a=u.getLayersInGroup(e.unique_id);if(\"row\"===e.type||\"column\"==e.type||\"group\"===e.type){for(var r=0;r<=a.layers.length-1;r++){var i=a.layers[r].unique_id;if(-1==jQuery.inArray(i,u.selectedLayers)&&-1==jQuery.inArray(i,u.currentGroupElements)){var s=document.getElementById(\"tl_\"+i+\"_frame_\"+t);u.currentGroupElementsPositionLeftReset.push(parseInt(s.style.left,0)),u.currentGroupElements.push(i)}}if(\"row\"===e.type)for(r=0;r<=a.columns.length-1;r++){i=a.columns[r].unique_id;if(-1==jQuery.inArray(i,u.selectedLayers)&&-1==jQuery.inArray(i,u.currentGroupElements)){s=document.getElementById(\"tl_\"+i+\"_frame_\"+t);u.currentGroupElementsPositionLeftReset.push(parseInt(s.style.left,0)),u.currentGroupElements.push(i)}}}return!0},t.recordFrameStatus=function(e,a){var r=(e=jQuery(e)).data(\"frameindex\"),i=u.getLayerByUniqueId(e.data(\"uniqueid\"));i.positionLeftReset=void 0!==a?a.position.left:e.position().left,u.selectedLayersPositionLeftReset=[],u.currentGroupElements=[],u.currentGroupElementsPositionLeftReset=[];for(var s=0;s<=u.selectedLayers.length-1;s++){var o=u.selectedLayers[s],n=-1!==o?u.getLayerByUniqueId(o):-1,l=document.getElementById(\"tl_\"+o+\"_frame_\"+r);u.selectedLayersPositionLeftReset.push(parseInt(l.style.left,0)),-1!==n&&t.addLayersColumnsToSelectedElements(n,0)}t.addLayersColumnsToSelectedElements(i,0),t.recordFrameStatusForce=!1},t.frameLimitations=function(e,a,r,i){t.recordFrameStatusForce&&t.recordFrameStatus(e);e=jQuery(e);var s=u.getLayerByUniqueId(e.data(\"uniqueid\")),o=e.prev(),n=e.next(),l=n.data(\"frameindex\"),d=e.data(\"frameindex\"),c=void 0!==a&&!1!==a?a.position.left:e.position().left,m=e.outerWidth(),p=u.getObjectLength(s.frames),f=s.frames[\"frame_\"+d];if(o.length>0&&(c=Math.max(o.position().left+o.outerWidth(),c)),c=Math.max(0,c),n.length>0&&999!==d&&(c=Math.min(n.position().left-m,c)),c=Math.min(t.mainMaxTimeLeft,c),void 0!==i&&i.update){var y=0;if(void 0!==s.p_uid&&0===d&&-1!==s.p_uid&&void 0!==u.getLayerByUniqueId(s.p_uid)&&\"object\"==typeof u.getLayerByUniqueId(s.p_uid))y=10*c-u.getLayerByUniqueId(s.p_uid).frames.frame_0.time;else if(0!==d){var h=999===d?s.frames[\"frame_\"+(p-2)]:s.frames[\"frame_\"+(d-1)];h&&(y=10*c-(h.time+h.speed+10*h.split_extratime))}\"absolute\"===t.timelinetype?i.timecont.innerHTML=10*c:i.timecont.innerHTML=y}if(999!==d&&\"absolute\"!==t.timelinetype){var g=s.frames[\"frame_\"+l];g.time_relative=g.time-(f.time+10*f.split_extratime+f.speed),n.find(\".timebefore_cont\").html(g.time_relative)}if(void 0!==a&&!1!==a&&(a.position.left=c),punchgs.TweenLite.set(e,{left:c}),u.selectedLayers.length>0&&!r||null!=u.currentGroupElements&&u.currentGroupElements.length>0&&!r){for(var v=c-s.positionLeftReset,_=0;_<=u.selectedLayers.length-1;_++){if((b=u.selectedLayers[_])!=s.unique_id)document.getElementById(\"tl_\"+b+\"_frame_\"+d).style.left=u.selectedLayersPositionLeftReset[_]+v+\"px\",t.updateFullTime(u.getLayerByUniqueId(b),u.selectedLayersPositionLeftReset[_]+v)}if(0===d&&void 0!==u.currentGroupElements&&u.currentGroupElements.length>0)for(_=0;_<=u.currentGroupElements.length-1;_++){var b;if((b=u.currentGroupElements[_])!=s.unique_id)document.getElementById(\"tl_\"+b+\"_frame_\"+d).style.left=u.currentGroupElementsPositionLeftReset[_]+v+\"px\",t.updateFullTime(u.getLayerByUniqueId(b),u.currentGroupElementsPositionLeftReset[_]+v)}}t.updateFullTime(s),checkTillSlideEnd(s)},t.updateFullTime=function(e,t){var a=e.references.sorttable.timeline[0].getElementsByClassName(\"timeline_full\")[0],r=jQuery(e.references.sorttable.timeline[0]).find(\".timeline_audio\"),i=10*((t=void 0===t?15+e.frames.frame_0.time/10:t+15)-15);punchgs.TweenLite.set(a,{left:t,width:(e.frames.frame_999.time-i+e.frames.frame_999.split_extratime+e.frames.frame_999.speed)/10}),void 0!==r&&r.length>0&&punchgs.TweenLite.set(r,{left:t,width:(e.frames.frame_999.time-i+e.frames.frame_999.split_extratime+e.frames.frame_999.speed)/10})},t.updateLayerTimeline=function(e){for(var a=e.references.sorttable.timeline[0].getElementsByClassName(\"timeline_frame\"),r=0;r<a.length;r++)t.setTLFrame(a[r]),t.updateTLFrame(a[r],!1,!0)},t.updateCurrentLayerTimeline=function(){for(var e=document.getElementById(\"layer_sort_time_\"+u.getCurrentLayer().serial).getElementsByClassName(\"timeline_frame\"),a=0;a<e.length;a++)t.setTLFrame(e[a],!1,!0)},t.updateAllLayerTimeline=function(){for(var e=document.getElementsByClassName(\"timeline_frame tl_layer_frame\"),a=0;a<e.length;a++)t.updateTLFrame(e[a],!1,!0)},t.updateAllSelectedLayerTimeline=function(e){var a=(e=jQuery(e)).data(\"uniqueid\"),r=e.data(\"frameindex\");if(u.selectedLayers.length>0)for(var i=0;i<=u.selectedLayers.length-1;i++){(s=u.selectedLayers[i])!=a&&t.updateTLFrame(document.getElementById(\"tl_\"+s+\"_frame_\"+r),!1,!0)}if(0===r&&void 0!==u.currentGroupElements&&u.currentGroupElements.length>0)for(i=0;i<=u.currentGroupElements.length-1;i++){var s;(s=u.currentGroupElements[i])!=a&&t.updateTLFrame(document.getElementById(\"tl_\"+s+\"_frame_\"+r),!1,!0)}},t.showTimeLineDirectInput=function(e){jQuery(\"#clayer_start_time\").val(e.time),jQuery(\"#clayer_start_speed\").val(e.speed)},t.manageTimeLineDirectInput=function(){jQuery(\"#clayer_start_time, #clayer_end_time\").on(\"change blur\",function(){var e=t.getLayer(selectedLayerSerial);e.time=jQuery(\"#clayer_start_time\").val(),e.frames.frame_999.time=jQuery(\"#clayer_end_time\").val(),e.speed=jQuery(\"#clayer_start_speed\").val(),e.frames.frame_999.speed=jQuery(\"#clayer_end_speed\").val(),jQuery(\"#layer_speed\").val(e.speed),jQuery(\"#layer_endspeed\").val(e.frames.frame_999.speed),t.updateLayerFromFields(),u.updateCurrentLayerTimeline()})};var msToSec=function(e){var t=Math.floor(e/1e3),a=t+\".\";return(e-=1e3*t)<100&&(a+=\"0\"),a+=Math.round(e/10)},getSplitCounts=function(e,t,a){if(null==e)return 0;var r=new Object;switch(ht=jQuery(\"<div>\"+e+\"</div>\"),w=1,r.c=ht.text().replace(/ /g,\"\").length,r.w=e.split(\" \").length,r.l=e.split(\"<br\").length,t){case\"chars\":w=r.c;break;case\"words\":w=r.w;break;case\"lines\":w=r.l}return(w-1)*a},showHideTimeines=function(){jQuery(\"#button_sort_timing\").click(function(){var e=jQuery(this);e.hasClass(\"off\")?(e.removeClass(\"off\"),e.find(\".onoff\").html(\"- on\"),punchgs.TweenLite.to(jQuery(\".sortlist .timeline\"),.5,{autoAlpha:.5,overwrite:\"auto\"})):(punchgs.TweenLite.to(jQuery(\".sortlist .timeline\"),.5,{autoAlpha:0,overwrite:\"auto\"}),e.addClass(\"off\"),e.find(\".onoff\").html(\"- off\"))})};t.deleteLayerFromSortbox=function(e){var a=t.getHtmlSortItemFromSerial(e),r=t.getHtmlSortTimeItemFromSerial(e),i=t.getHtmlQuickTimeItemFromSerial(e);try{a.remove(),r.remove(),i.remove()}catch(e){}jQuery(\".quick-layers-list li\").length<2&&jQuery(\".nolayersavailable\").show()},t.unselectSortboxItems=function(){jQuery(\".sortlist li,#layers-right li, .quick-layers-list li\").removeClass(\"ui-state-hover\").addClass(\"ui-state-default\")},t.organiseGroupsAndLayer=function(e,a,r){var i=a?u.arrLayersDemo:u.arrLayers,s=!1;for(var o in i)if(i.hasOwnProperty(o)){var n=i[o];if(\"group\"!=n.type&&\"row\"!=n.type&&null!=n.p_uid&&-1!=n.p_uid){var l=a?null:n.references.sorttable.layer,d=u.getLayerByUniqueId(n.p_uid),c=!a&&d?d.references.sorttable.layer[0].getElementsByClassName(\"sgw_def\")[0]:void 0,m=n.references.htmlLayer,p=d?d.references.htmlLayer:void 0;if(p&&m&&!p[0].contains(m[0])){var f=p[0].getElementsByClassName(\"tp_layer_group_inner_wrapper\")[0];if(void 0!==f&&void 0!==m[0])if(\"column\"!==n.type){var y,h=99999;for(var g in i)if(i.hasOwnProperty(g)){var v=i[g];n.p_uid===v.p_uid&&void 0!==v.references.htmlLayer&&void 0!==v.groupOrder&&v.groupOrder>n.groupOrder&&v.groupOrder<h&&(h=v.groupOrder,!1,y=v.references.htmlLayer)}void 0!==y&&h<99999&&y[0].parentNode==f?f.insertBefore(m[0],y[0]):f.appendChild(m[0])}else f.appendChild(m[0])}a||e||void 0===c||c.contains(l[0])||(s=!0,c.appendChild(l[0])),a||void 0!==c||\"column\"!==n.type||u.deleteLayer(n.serial)}else{n.p_uid=-1;m=n.references.htmlLayer,l=a?null:n.references.sorttable.layer;if(\"row\"===n.type){var _,b=\"row-zone-\"+u.getVal(n,\"align_vert\"),w=99999,k=document.getElementById(b);for(var L in i)if(i.hasOwnProperty(L)){\"row\"===(v=i[L]).type&&v.unique_id!==n.unique_id&&u.getVal(n,\"align_vert\")===u.getVal(v,\"align_vert\")&&void 0!==v.references.htmlLayer&&void 0!==v.groupOrder&&v.groupOrder>=n.groupOrder&&v.groupOrder<w&&(w=v.groupOrder,!1,_=v.references.htmlLayer)}void 0!==_&&w<99999&&_[0].parentNode==k?k.insertBefore(m[0],_[0]):k.appendChild(m[0]),u.checkRowZoneContents()}else\"divLayers\"!=m[0].parentNode.id&&document.getElementById(\"divLayers\").appendChild(m[0]);a||\"layers-left-ul\"==l[0].parentNode.id||(document.getElementById(\"layers-left-ul\").insertBefore(l[0],document.getElementById(\"last_drop_zone_layers\")),s=!0)}}u.setMiddleRowZone(),s&&t.updateOrderFromSortbox(r)},t.updateOrderFromSortbox=function(e){for(l in u.arrLayers)if(u.arrLayers.hasOwnProperty(l)){if(\"column\"!=(d=u.arrLayers[l]).type&&\"row\"!=d.type&&\"group\"!=d.type){var a=d.references.sorttable.layer,r=a[0].parentNode.parentNode.classList.contains(\"sortable_column\"),i=a[0].parentNode.parentNode.classList.contains(\"sortable_group\"),s=-1;if(!r&&!i||\"layers-left-ul\"==a[0].parentNode.parentNode.id);else{var o=jQuery(a[0].parentNode.parentNode);if(!r)a.data(\"pid\",o.data(\"uniqueid\")),\"row\"===o.data(\"type\")&&(0==(o=a.prev()).length&&(o=a.next()),o[0].getElementsByClassName(\"sortable_layers_in_columns\")[0].appendChild(a[0]));s=o.data(\"uniqueid\")}a.data(\"pid\",s),a.attr(\"pid\",s),d.p_uid!=s&&(d.p_uid=s,u.add_layer_change())}}for(var n=jQuery(\"#layers-left-ul\").sortable(\"toArray\",{attribute:\"data-uniqueid\"}),l=0;l<n.length;l++){var d=u.getLayerByUniqueId(n[l]),c=l+5;u.arrLayers[d.serial].order=l,u.arrLayers[d.serial].zIndex=c,d.references.sorttable.layer[0].getElementsByClassName(\"sortbox_depth\")[0]&&(d.references.sorttable.layer[0].getElementsByClassName(\"sortbox_depth\")[0].innerHTML=c),document.getElementById(\"layers-right-ul\").appendChild(d.references.sorttable.timeline[0]),document.getElementById(\"quick-layers-list-id\").appendChild(d.references.quicklayer[0]),-1!=d.p_uid&&void 0!==d.p_uid&&\"row\"!==d.type&&\"group\"!==d.type?d.references.quicklayer.addClass(\"quick_in_group\"):d.references.quicklayer.removeClass(\"quick_in_group\")}t.updateZIndexByOrder(),1!=e&&t.updateAllLayerTimeline()},t.resetTimeLineHeight=function(){var e=document.getElementById(\"layers-right-ul\").clientHeight;punchgs.TweenLite.set(jQuery(\"#mastertimer-position\"),{height:e+40})},t.timeLineTableDimensionUpdate=function(){clearTimeout(timeline_timer),timeline_timer=setTimeout(function(){t.resetTimeLineHeight();var e=30*(jQuery(\"#layers-right ul li\").length+1)-30*(jQuery(\"#layers-right ul li.layer-deleted\").length+1);punchgs.TweenLite.set(jQuery(\".layers-wrapper\"),{height:e+3}),punchgs.TweenLite.set(jQuery(\"#mastertimer-wrapper\"),{height:e+3}),jQuery(\".master-rightcell .layers-wrapper, .master-leftcell .layers-wrapper, #divLayers-wrapper, .quick-layers-list\").perfectScrollbar(\"update\")},50)},t.updateZIndexByOrder=function(){for(var e in u.arrLayers)if(u.arrLayers.hasOwnProperty(e)){var t=u.arrLayers[e],a={zIndex:void 0!==t.order?t.order+5:5};void 0!==t.order&&punchgs.TweenLite.set(t.references.htmlLayer,{zIndex:Number(t.order)+100}),u.updateLayer(t.serial,a,!1,!0)}};var shiftOrder=function(e){for(key in u.arrLayers)if(u.arrLayers.hasOwnProperty(key)){var t=u.arrLayers[key];t.order>=e&&(t.order=Number(t.order)+1,u.arrLayers[key]=t)}};t.getSortboxText=function(e){sorboxTextSize=20;var t=void 0===e?\"NoText\":UniteAdminRev.stripTags(e);return t.length<2&&(t=UniteAdminRev.htmlspecialchars(e)),t.length>sorboxTextSize&&(t=t.slice(0,sorboxTextSize)+\"...\"),t},t.redrawSortbox=function(e){null==e&&(e=sortMode),emptySortbox();var a=getLayersSorted(\"depth\");if(0==a.length)return!1;for(var r=0;r<a.length;r++){var i=a[r];t.addToSortbox(i.serial,i)}-1!=u.selectedLayerSerial&&t.setSortboxItemSelected(u.selectedLayerSerial)};var reinitSortBox=function(e){jQuery(\"#last_drop_zone_layers\").appendTo(\"#layers-left-ul\"),e&&jQuery(\".layer_sortbox ul\").sortable({refreshPositions:!0,placeholder:\"silent-placeholder\",cancel:\"#slide_in_sort, input\",handle:\".mastertimer-timeline-zindex-row\",items:\".sortable_elements\",connectWith:\"#layers-left-ul, .sortable_groups_wrap, .sortable_layers_in_columns\",update:function(e,a){var r=jQuery(a.item);r.hasClass(\"sortable_row\")&&jQuery(this).sortable(\"cancel\");var i=r.parent(),s=i.closest(\".sortable_group\"),o=jQuery(\"#layers-left-ul\");if(!i.hasClass(\"sortable_groups_wrap\")&&!i.hasClass(\"sortable_layers_in_columns\")||r.hasClass(\"sortable_layers\")||(r.index()<i.children().length/2?r.insertBefore(s):r.insertAfter(s)),\"layers-left-ul\"===i.attr(\"id\")||\"layers-left-ul\"===i.parent().attr(\"id\")||r.hasClass(\"sortable_group\")){var n=o.find(\".sortable_row\"),l=n.first().index(),d=n.last().index(),u=r.index();u>l&&u<d&&r.insertAfter(n.last())}onSortboxSorted(),t.organiseGroupsAndLayer()}}),jQuery(\".droppable_sortable_group,.droppable_sortable_row, .droppable_sortable_column\").droppable({tolerance:\"intersect\",greedy:!0,over:function(e){jQuery(e.target).addClass(\"readytodrop\")},out:function(e){jQuery(e.target).removeClass(\"readytodrop\")},drop:function(e,a){jQuery(\"#layers-left-ul\");jQuery(e.target).removeClass(\"readytodrop\");var r,i=jQuery(e.target).attr(\"class\"),s=jQuery(e.srcElement).closest(\".sortable_elements.sortable_layers\");if(!s.length)return!1;i.indexOf(\"droppable_sortable_group\")>=0&&(r=jQuery(e.target).closest(\"li.sortable_group\").find(\".sortable_groups_wrap\")),i.indexOf(\"droppable_sortable_row\")>=0&&(r=jQuery(e.target).closest(\"li.sortable_group.sortable_row\").find(\".sortable_layers_in_columns\").first()),i.indexOf(\"droppable_sortable_column\")>=0&&(r=jQuery(e.target).closest(\"li.sortable_column\").find(\".sortable_layers_in_columns\").first()),setTimeout(function(){s.appendTo(r),onSortboxSorted(),t.organiseGroupsAndLayer()},50)}})},initSortbox=function(){t.redrawSortbox(),reinitSortBox(!0),jQuery(\"body\").delegate(\".layer_sort_inner_wrapper\",\"mousedown\",function(e){var t=jQuery(this).closest(\".sortable_elements\");if(t.hasClass(\"ui-state-hover\"))return!0;if(!t.hasClass(\"mastertimer-slide\")){var a=u.getSerialFromSortID(t.attr(\"id\"));return u.setLayerSelected(a),!1}}),jQuery(\"body\").on(\"click\",\".sort_group_collapser\",function(e){var t=jQuery(this),a=t.closest(\".sortable_column\"),r=a.length?a:t.closest(\".sortable_group\"),i=a.length?r.find(\".sortable_layers_in_columns\"):r.find(\".sortable_groups_wrap\");t.toggleClass(\"collapsed\"),t.hasClass(\"collapsed\")?i.css({maxHeight:\"0px\",overflow:\"hidden\"}):i.css({maxHeight:\"none\",overflow:\"visible\"}),i.find(\".sortable_elements\").each(function(e,a){var r=(a=jQuery(a)).data(\"uniqueid\");t.hasClass(\"collapsed\")?jQuery('#layers-right-ul li[data-uniqueid=\"'+r+'\"]').addClass(\"unvisibletimeline\"):jQuery('#layers-right-ul li[data-uniqueid=\"'+r+'\"]').removeClass(\"unvisibletimeline\")})}),jQuery(\"#layers-right\").delegate(\"li\",\"mousedown\",function(e){var a=jQuery(this);if(t.recordFrameStatusForce=!0,a.hasClass(\"ui-state-hover\"))return!0;if(!a.hasClass(\"mastertimer-slide\")){var r=u.getSerialFromSortID(this.id);return u.setLayerSelected(r),!1}}),jQuery(\".quick-layer-all-lock\").click(function(){var e=jQuery(this).find(\"i\");e.hasClass(\"eg-icon-lock\")?(jQuery(\".quick-layer-lock i\").each(function(){jQuery(this).removeClass(\"eg-icon-lock-open\").addClass(\"eg-icon-lock\")}),e.addClass(\"eg-icon-lock-open\").removeClass(\"eg-icon-lock\"),u.lockAllLayers()):(jQuery(\".quick-layer-lock i\").each(function(){jQuery(this).removeClass(\"eg-icon-lock\").addClass(\"eg-icon-lock-open\")}),e.removeClass(\"eg-icon-lock-open\").addClass(\"eg-icon-lock\"),u.unlockAllLayers())}),jQuery(\".quick-layer-all-view\").click(function(){var e=jQuery(this).find(\"i\");e.hasClass(\"eg-icon-eye\")?(jQuery(\".quick-layer-view i\").each(function(){jQuery(this).addClass(\"eg-icon-eye\").removeClass(\"eg-icon-eye-off\")}),e.removeClass(\"eg-icon-eye\").addClass(\"eg-icon-eye-off\"),u.showAllLayers()):(jQuery(\".quick-layer-view i\").each(function(){jQuery(this).removeClass(\"eg-icon-eye\").addClass(\"eg-icon-eye-off\")}),e.addClass(\"eg-icon-eye\").removeClass(\"eg-icon-eye-off\"),u.hideAllLayers())}),jQuery(\".sortlist\").delegate(\".till_slideend\",\"mousedown\",function(e){var a=jQuery(this),r=a.closest(\"li\"),i=a.data(\"serial\"),s=u.getLayer(i),o=10*t.mainMaxTimeLeft;r.hasClass(\"tillendon\")?(r.removeClass(\"tillendon\"),s.frames.frame_999.time=s.frames.frame_999.time-200,t.updateLayerTimeline(s)):(r.addClass(\"tillendon\"),s.frames.frame_999.time=o,t.updateLayerTimeline(s))})},getLayersSorted=function(e){null==e&&(e=\"time\");var t=[];for(key in u.arrLayers)if(u.arrLayers.hasOwnProperty(key)){var a=u.arrLayers[key];a.serial=key,t.push(a)}return 0==t.length?t:(t.sort(function(t,a){switch(e){case\"time\":if(Number(t.time)==Number(a.time))return t.order==a.order?0:t.order>a.order?1:-1;if(Number(t.time)>Number(a.time))return 1;break;case\"depth\":if(t.order==a.order)return 0;if(t.order>a.order)return 1;break;default:trace(\"wrong sort type: \"+e)}return-1}),t)};t.hideLayer=function(e,a){if(void 0!==e.references&&void 0!==e.references.htmlLayer){var r=e.references.htmlLayer;r.css({visibility:\"hidden\"}),r.addClass(\"currently_not_visible\"),e.isDemo||setSortboxItemHidden(e.serial),1!=a&&t.isAllLayersHidden()&&jQuery(\"#button_sort_visibility\").addClass(\"e-disabled\")}},t.showLayer=function(e,t){if(void 0!==e.references&&void 0!==e.references.htmlLayer){var a=e.references.htmlLayer;a.css({visibility:\"visible\"}),a.removeClass(\"currently_not_visible\"),e.isDemo||setSortboxItemVisible(e.serial),1!=t&&jQuery(\"#button_sort_visibility\").removeClass(\"e-disabled\")}},t.isLayerVisible=function(e){var t=!0;return null!=e&&e[0].classList.contains(\"currently_not_visible\")&&(t=!1),t},t.isAllLayersHidden=function(){var e=0;for(serial in u.arrLayers)if(u.arrLayers.hasOwnProperty(serial)){if(void 0!==u.arrLayers[e]&&1==t.isLayerVisible(u.arrLayers[e].references.htmlLayer))return!1;e++}return!0},t.isLayerLocked=function(e){return e.hasClass(\"layer_on_lock\")},t.lockLayer=function(e){setSortboxItemLocked(e),u.getHtmlLayerFromSerial(e).addClass(\"layer_on_lock\")},t.unlockLayer=function(e){setSortboxItemUnlocked(e),u.getHtmlLayerFromSerial(e).removeClass(\"layer_on_lock\")},t.setSortboxItemSelected=function(e){var a=t.getHtmlSortItemFromSerial(e),r=t.getHtmlSortTimeItemFromSerial(e),i=t.getHtmlQuickTimeItemFromSerial(e);t.unselectSortboxItems(),a&&a.removeClass(\"ui-state-default\").addClass(\"ui-state-hover\"),r&&r.removeClass(\"ui-state-default\").addClass(\"ui-state-hover\"),i&&i.removeClass(\"ui-state-default\").addClass(\"ui-state-hover\")};var setSortboxItemHidden=function(e){var a=t.getHtmlSortItemFromSerial(e),r=t.getHtmlSortTimeItemFromSerial(e),i=t.getHtmlQuickTimeItemFromSerial(e);a&&a.addClass(\"sortitem-hidden\"),r&&r.addClass(\"sortitem-hidden\"),i&&(i.addClass(\"sortitem-hidden\"),i.find(\".eg-icon-eye\").addClass(\"eg-icon-eye-off\").removeClass(\"eg-icon-eye\"),i.find(\".quick-layer-view\").addClass(\"in-off\"))},setSortboxItemVisible=function(e){var a=t.getHtmlSortItemFromSerial(e),r=t.getHtmlSortTimeItemFromSerial(e),i=t.getHtmlQuickTimeItemFromSerial(e);a&&a.removeClass(\"sortitem-hidden\"),r&&r.removeClass(\"sortitem-hidden\"),i&&i.removeClass(\"sortitem-hidden\")},setSortboxItemLocked=function(e){var a=t.getHtmlSortItemFromSerial(e),r=t.getHtmlSortTimeItemFromSerial(e),i=t.getHtmlQuickTimeItemFromSerial(e);a&&a.addClass(\"sortitem-locked\"),r&&r.addClass(\"sortitem-locked\"),i&&i.addClass(\"sortitem-locked\")},setSortboxItemUnlocked=function(e){var a=t.getHtmlSortItemFromSerial(e),r=t.getHtmlSortTimeItemFromSerial(e),i=t.getHtmlQuickTimeItemFromSerial(e);a&&a.removeClass(\"sortitem-locked\"),r&&r.removeClass(\"sortitem-locked\"),i&&i.removeClass(\"sortitem-locked\")};t.getHtmlSortItemFromSerial=function(e){var t=jQuery(\"#layer_sort_\"+e);return 0==t.length?(UniteAdminRev.showErrorMessage(\"Html sort field with serial: \"+e+\" not found!\"),!1):t},t.getHtmlSortTimeItemFromSerial=function(e){var t=jQuery(\"#layer_sort_time_\"+e);return 0==t.length?(UniteAdminRev.showErrorMessage(\"Html sort field with serial: \"+e+\" not found!\"),!1):t},t.getHtmlQuickTimeItemFromSerial=function(e){var t=jQuery(\"#layer_quicksort_\"+e);return 0==t.length?(UniteAdminRev.showErrorMessage(\"Html sort field with serial: \"+e+\" not found!\"),!1):t};var emptySortbox=function(){jQuery(\".sortlist ul\").find(\".sortable_elements\").remove(),jQuery(\"#layers-right ul\").find(\".sortable_elements\").remove()},onSortboxSorted=function(){t.updateOrderFromSortbox()},prepareOneSlide=function(e,t,a,r,i,s){var o=e,n=(o.find(\".defaultimg\"),o.data(\"zoomstart\"),o.data(\"rotationstart\"),o.find(\".defaultimg\").css(\"backgroundImage\")),l=o.find(\".defaultimg\").css(\"backgroundColor\"),d=0,u=o.find(\".defaultimg\").css(\"backgroundSize\"),c=o.find(\".defaultimg\").css(\"backgroundRepeat\"),m=o.find(\".defaultimg\").css(\"backgroundPosition\");n=(n=n.replace('\"',\"\")).replace('\"',\"\"),null==u&&(u=\"cover\"),null==c&&(c=\"no-repeat\"),null==m&&(m=\"center center\");i=null!=i?i:jQuery(\"#divbgholder\").width(),s=null!=s?s:jQuery(\"#divbgholder\").height();t.slotw=Math.ceil(i/t.slots),t.sloth=Math.ceil(s/t.slots);var p=0,f=0,y=0;p=t.sloth>t.slotw?t.sloth:t.slotw,t.slotw=p,t.sloth=p;f=0,y=0;switch(r){case\"box\":for(var h=0;h<t.slots;h++){y=0;for(var g=0;g<t.slots;g++)o.append('<div class=\"slot\" style=\"position:absolute;top:'+(0+y)+\"px;left:\"+(0+f)+\"px;width:\"+p+\"px;height:\"+p+'px;overflow:hidden;\"><div class=\"slotslide\" data-x=\"'+f+'\" data-y=\"'+y+'\" style=\"position:absolute;top:0px;left:0px;width:'+p+\"px;height:\"+p+'px;overflow:hidden;\"><div class=\"slotslidebg\" style=\"position:absolute;top:'+(0-y)+\"px;left:\"+(0-f)+\"px;width:\"+i+\"px;height:\"+s+\"px;background-color:\"+l+\";background-image:\"+n+\";background-repeat:\"+c+\";background-size:\"+u+\";background-position:\"+m+';\"></div></div></div>'),y+=p;f+=p}break;case\"vertical\":case\"horizontal\":if(\"horizontal\"==r){if(!a)d=0-t.slotw;for(g=0;g<t.slots;g++)o.append('<div class=\"slot\" style=\"position:absolute;top:0px;left:'+(0+g*t.slotw)+\"px;overflow:hidden;width:\"+(t.slotw+.6)+\"px;height:\"+s+'px\"><div class=\"slotslide\" style=\"position:absolute;top:0px;left:'+d+\"px;width:\"+(t.slotw+.6)+\"px;height:\"+s+'px;overflow:hidden;\"><div class=\"slotslidebg\" style=\"background-color:'+l+\";position:absolute;top:0px;left:\"+(0-g*t.slotw)+\"px;width:\"+i+\"px;height:\"+s+\"px;background-image:\"+n+\";background-repeat:\"+c+\";background-size:\"+u+\";background-position:\"+m+';\"></div></div></div>')}else{if(!a)d=0-t.sloth;for(g=0;g<t.slots+2;g++)o.append('<div class=\"slot\" style=\"position:absolute;top:'+(0+g*t.sloth)+\"px;left:0px;overflow:hidden;width:\"+i+\"px;height:\"+t.sloth+'px\"><div class=\"slotslide\" style=\"position:absolute;top:'+d+\"px;left:0px;width:\"+i+\"px;height:\"+t.sloth+'px;overflow:hidden;\"><div class=\"slotslidebg\" style=\"background-color:'+l+\";position:absolute;top:\"+(0-g*t.sloth)+\"px;left:0px;width:\"+i+\"px;height:\"+s+\"px;background-image:\"+n+\";background-repeat:\"+c+\";background-size:\"+u+\";background-position:\"+m+';\"></div></div></div>')}}},slideAnimation=function(e,t,a,r,i){if(null!=e){var s=e,o=t,n=new Object;(l=new Object).width=e.width(),l.height=e.height()}else{var l;e=s=jQuery(\"#divbgholder\").find(\".slotholder\"),t=o=jQuery(\"#divbgholder\").find(\".oldslotholder\"),n=new Object,a=jQuery(\"#fake-select-label\").data(\"valu\");(l=new Object).width=jQuery(\"#divbgholder\").width(),l.height=jQuery(\"#divbgholder\").height()}\"slidingoverlayvertical\"==a&&(a=\"slidingoverlayup\"),\"slidingoverlayhorizontal\"==a&&(a=\"slidingoverlayleft\"),\"slideoverhorizontal\"==a&&(a=\"slideoverleft\"),\"slideoververtical\"==a&&(a=\"slideoverup\"),\"slideremovehorizontal\"==a&&(a=\"slideremoveleft\"),\"slideremovevertical\"==a&&(a=\"slideremoveup\"),\"slidehorizontal\"==a&&(a=\"slideleft\"),\"slidevertical\"==a&&(a=\"slideup\"),\"parallaxhorizontal\"==a&&(a=\"parallaxtoleft\"),\"parallaxvertical\"==a&&(a=\"parallaxtotop\");var d=punchgs.Power1.easeIn,u=punchgs.Power1.easeOut,c=punchgs.Power1.easeInOut,m=punchgs.Power2.easeIn,p=punchgs.Power2.easeOut,f=punchgs.Power2.easeInOut,y=(punchgs.Power3.easeIn,punchgs.Power3.easeOut),h=punchgs.Power3.easeInOut,g=0,v=1,_=0,b=0,w=new Array,k=[[\"boxslide\",0,1,10,0,\"box\",!1,null,0,u,u,500,6],[\"boxfade\",1,0,10,0,\"box\",!1,null,1,c,c,700,5],[\"slotslide-horizontal\",2,0,0,200,\"horizontal\",!0,!1,2,f,f,700,3],[\"slotslide-vertical\",3,0,0,200,\"vertical\",!0,!1,3,f,f,700,3],[\"curtain-1\",4,3,0,0,\"horizontal\",!0,!0,4,u,u,300,5],[\"curtain-2\",5,3,0,0,\"horizontal\",!0,!0,5,u,u,300,5],[\"curtain-3\",6,3,25,0,\"horizontal\",!0,!0,6,u,u,300,5],[\"slotzoom-horizontal\",7,0,0,400,\"horizontal\",!0,!0,7,u,u,300,7],[\"slotzoom-vertical\",8,0,0,0,\"vertical\",!0,!0,8,p,p,500,8],[\"slotfade-horizontal\",9,0,0,500,\"horizontal\",!0,null,9,p,p,500,25],[\"slotfade-vertical\",10,0,0,500,\"vertical\",!0,null,10,p,p,500,25],[\"fade\",11,0,1,300,\"horizontal\",!0,null,11,f,f,1e3,1],[\"crossfade\",11,1,1,300,\"horizontal\",!0,null,11,f,f,1e3,1],[\"fadethroughdark\",11,2,1,300,\"horizontal\",!0,null,11,f,f,1e3,1],[\"fadethroughlight\",11,3,1,300,\"horizontal\",!0,null,11,f,f,1e3,1],[\"fadethroughtransparent\",11,4,1,300,\"horizontal\",!0,null,11,f,f,1e3,1],[\"slideleft\",12,0,1,0,\"horizontal\",!0,!0,12,h,h,1e3,1],[\"slideup\",13,0,1,0,\"horizontal\",!0,!0,13,h,h,1e3,1],[\"slidedown\",14,0,1,0,\"horizontal\",!0,!0,14,h,h,1e3,1],[\"slideright\",15,0,1,0,\"horizontal\",!0,!0,15,h,h,1e3,1],[\"slideoverleft\",12,7,1,0,\"horizontal\",!0,!0,12,h,h,1e3,1],[\"slideoverup\",13,7,1,0,\"horizontal\",!0,!0,13,h,h,1e3,1],[\"slideoverdown\",14,7,1,0,\"horizontal\",!0,!0,14,h,h,1e3,1],[\"slideoverright\",15,7,1,0,\"horizontal\",!0,!0,15,h,h,1e3,1],[\"slideremoveleft\",12,8,1,0,\"horizontal\",!0,!0,12,h,h,1e3,1],[\"slideremoveup\",13,8,1,0,\"horizontal\",!0,!0,13,h,h,1e3,1],[\"slideremovedown\",14,8,1,0,\"horizontal\",!0,!0,14,h,h,1e3,1],[\"slideremoveright\",15,8,1,0,\"horizontal\",!0,!0,15,h,h,1e3,1],[\"papercut\",16,0,0,600,\"\",null,null,16,h,h,1e3,2],[\"3dcurtain-horizontal\",17,0,20,100,\"vertical\",!1,!0,17,c,c,500,7],[\"3dcurtain-vertical\",18,0,10,100,\"horizontal\",!1,!0,18,c,c,500,5],[\"cubic\",19,0,20,600,\"horizontal\",!1,!0,19,h,h,500,1],[\"cube\",19,0,20,600,\"horizontal\",!1,!0,20,h,h,500,1],[\"flyin\",20,0,4,600,\"vertical\",!1,!0,21,y,h,500,1],[\"turnoff\",21,0,1,500,\"horizontal\",!1,!0,22,h,h,500,1],[\"incube\",22,0,20,200,\"horizontal\",!1,!0,23,f,f,500,1],[\"cubic-horizontal\",23,0,20,500,\"vertical\",!1,!0,24,p,p,500,1],[\"cube-horizontal\",23,0,20,500,\"vertical\",!1,!0,25,p,p,500,1],[\"incube-horizontal\",24,0,20,500,\"vertical\",!1,!0,26,f,f,500,1],[\"turnoff-vertical\",25,0,1,200,\"horizontal\",!1,!0,27,f,f,500,1],[\"fadefromright\",12,1,1,0,\"horizontal\",!0,!0,28,f,f,1e3,1],[\"fadefromleft\",15,1,1,0,\"horizontal\",!0,!0,29,f,f,1e3,1],[\"fadefromtop\",14,1,1,0,\"horizontal\",!0,!0,30,f,f,1e3,1],[\"fadefrombottom\",13,1,1,0,\"horizontal\",!0,!0,31,f,f,1e3,1],[\"fadetoleftfadefromright\",12,2,1,0,\"horizontal\",!0,!0,32,f,f,1e3,1],[\"fadetorightfadefromleft\",15,2,1,0,\"horizontal\",!0,!0,33,f,f,1e3,1],[\"fadetobottomfadefromtop\",14,2,1,0,\"horizontal\",!0,!0,34,f,f,1e3,1],[\"fadetotopfadefrombottom\",13,2,1,0,\"horizontal\",!0,!0,35,f,f,1e3,1],[\"parallaxtoright\",12,3,1,0,\"horizontal\",!0,!0,36,f,m,1500,1],[\"parallaxtoleft\",15,3,1,0,\"horizontal\",!0,!0,37,f,m,1500,1],[\"parallaxtotop\",14,3,1,0,\"horizontal\",!0,!0,38,f,d,1500,1],[\"parallaxtobottom\",13,3,1,0,\"horizontal\",!0,!0,39,f,d,1500,1],[\"scaledownfromright\",12,4,1,0,\"horizontal\",!0,!0,40,f,m,1e3,1],[\"scaledownfromleft\",15,4,1,0,\"horizontal\",!0,!0,41,f,m,1e3,1],[\"scaledownfromtop\",14,4,1,0,\"horizontal\",!0,!0,42,f,m,1e3,1],[\"scaledownfrombottom\",13,4,1,0,\"horizontal\",!0,!0,43,f,m,1e3,1],[\"zoomout\",13,5,1,0,\"horizontal\",!0,!0,44,f,m,1e3,1],[\"zoomin\",13,6,1,0,\"horizontal\",!0,!0,45,f,m,1e3,1],[\"slidingoverlayup\",27,0,1,0,\"horizontal\",!0,!0,47,c,u,2e3,1],[\"slidingoverlaydown\",28,0,1,0,\"horizontal\",!0,!0,48,c,u,2e3,1],[\"slidingoverlayright\",30,0,1,0,\"horizontal\",!0,!0,49,c,u,2e3,1],[\"slidingoverlayleft\",29,0,1,0,\"horizontal\",!0,!0,50,c,u,2e3,1],[\"notransition\",26,0,1,0,\"horizontal\",!0,null,46,f,m,1e3,1]];\"random-selected\"!=a&&\"random\"!=a&&\"random-static\"!=a&&\"random-premium\"!=a||(a=11),k&&jQuery.each(k,function(e,t){t[0]!=a&&t[8]!=a||(g=t[1],v=t[2],_=b),b+=1});var L=jQuery(\"#transition_duration\").val();g>30&&(g=30),g<0&&(g=0),w=k[_];var x=new punchgs.TimelineLite;x.add(punchgs.TweenLite.set(e.find(\".defaultimg\"),{autoAlpha:0})),x.pause(),x.add(punchgs.TweenLite.set(t,{autoAlpha:1,force3D:\"auto\",zIndex:0}),0),x.add(punchgs.TweenLite.set(e,{autoAlpha:1,force3D:\"auto\",zIndex:1}),0),l.slots=jQuery(\"#slot_amount\").val(),l.rotate=jQuery(\"#transition_rotation\").val(),L=(L=\"default\"===L?w[11]:\"random\"===L?Math.round(1e3*Math.random()+300):null!=L?parseInt(L,0):w[11])>l.delay?l.delay:L,L+=w[4],l.slots=null==l.slots||\"default\"==l.slots?w[12]:\"random\"==l.slots?Math.round(12*Math.random()+4):w[12],l.slots=l.slots<1?\"boxslide\"==a?Math.round(6*Math.random()+3):\"flyin\"==a?Math.round(4*Math.random()+1):l.slots:l.slots,l.slots=(4==g||5==g||6==g)&&l.slots<3?3:l.slots,l.slots=0!=w[3]?Math.min(l.slots,w[3]):l.slots,l.slots=9==g?l.width/20:10==g?l.height/20:l.slots,l.rotate=null==l.rotate||\"default\"==l.rotate?0:999==l.rotate||\"random\"==l.rotate?Math.round(360*Math.random()):l.rotate,l.rotate=!jQuery.support.transition||l.ie||l.ie9?0:l.rotate,l.slotw=Math.ceil(l.width/jQuery(\"#slot_amount\").val()),l.sloth=Math.ceil(l.height/jQuery(\"#slot_amount\").val()),null!=w[7]&&prepareOneSlide(t,l,w[7],w[5],l.width,l.height),null!=w[6]&&prepareOneSlide(e,l,w[6],w[5],l.width,l.height);var j=jQuery(\"select[name=transition_ease_in]\").val(),T=jQuery(\"select[name=transition_ease_out]\").val();if(j=\"default\"===j?w[9]||punchgs.Power2.easeInOut:j||w[9]||punchgs.Power2.easeInOut,T=\"default\"===T?w[10]||punchgs.Power2.easeInOut:T||w[10]||punchgs.Power2.easeInOut,0==g){var Q=Math.ceil(l.height/l.sloth),I=0;e.find(\".slotslide\").each(function(e){var t=jQuery(this);(I+=1)==Q&&(I=0),x.add(punchgs.TweenLite.from(t,L/600,{opacity:0,top:0-l.sloth,left:0-l.slotw,rotation:l.rotate,force3D:\"auto\",ease:j}),(15*e+30*I)/1500)})}if(1==g){var C;e.find(\".slotslide\").each(function(e){var t=jQuery(this),a=Math.random()*L+300,r=500*Math.random()+200;a+r>C&&(C=r+r,e),x.add(punchgs.TweenLite.from(t,a/1e3,{autoAlpha:0,force3D:\"auto\",rotation:l.rotate,ease:j}),r/1e3)})}if(2==g){var A=new punchgs.TimelineLite;t.find(\".slotslide\").each(function(){var e=jQuery(this);A.add(punchgs.TweenLite.to(e,L/1e3,{left:l.slotw,ease:j,force3D:\"auto\",rotation:0-l.rotate}),0),x.add(A,0)}),e.find(\".slotslide\").each(function(){var e=jQuery(this);A.add(punchgs.TweenLite.from(e,L/1e3,{left:0-l.slotw,ease:j,force3D:\"auto\",rotation:l.rotate}),0),x.add(A,0)})}if(3==g){A=new punchgs.TimelineLite;t.find(\".slotslide\").each(function(){var e=jQuery(this);A.add(punchgs.TweenLite.to(e,L/1e3,{top:l.sloth,ease:j,rotation:l.rotate,force3D:\"auto\",transformPerspective:600}),0),x.add(A,0)}),e.find(\".slotslide\").each(function(){var e=jQuery(this);A.add(punchgs.TweenLite.from(e,L/1e3,{top:0-l.sloth,rotation:l.rotate,ease:T,force3D:\"auto\",transformPerspective:600}),0),x.add(A,0)})}if(4==g||5==g){setTimeout(function(){t.find(\".defaultimg\").css({opacity:0})},100);var S=L/1e3;A=new punchgs.TimelineLite;t.find(\".slotslide\").each(function(e){var t=jQuery(this),a=e*S/l.slots;5==g&&(a=(l.slots-e-1)*S/l.slots/1.5),A.add(punchgs.TweenLite.to(t,3*S,{transformPerspective:600,force3D:\"auto\",top:0+l.height,opacity:.5,rotation:l.rotate,ease:j,delay:a}),0),x.add(A,0)}),e.find(\".slotslide\").each(function(e){var t=jQuery(this),a=e*S/l.slots;5==g&&(a=(l.slots-e-1)*S/l.slots/1.5),A.add(punchgs.TweenLite.from(t,3*S,{top:0-l.height,opacity:.5,rotation:l.rotate,force3D:\"auto\",ease:punchgs.eo,delay:a}),0),x.add(A,0)})}if(6==g){l.slots<2&&(l.slots=2),l.slots%2&&(l.slots=l.slots+1);A=new punchgs.TimelineLite;setTimeout(function(){t.find(\".defaultimg\").css({opacity:0})},100),t.find(\".slotslide\").each(function(e){var t=jQuery(this);if(e+1<l.slots/2)var a=90*(e+2);else a=90*(2+l.slots-e);A.add(punchgs.TweenLite.to(t,(L+a)/1e3,{top:0+l.height,opacity:1,force3D:\"auto\",rotation:l.rotate,ease:j}),0),x.add(A,0)}),e.find(\".slotslide\").each(function(e){var t=jQuery(this);if(e+1<l.slots/2)var a=90*(e+2);else a=90*(2+l.slots-e);A.add(punchgs.TweenLite.from(t,(L+a)/1e3,{top:0-l.height,opacity:1,force3D:\"auto\",rotation:l.rotate,ease:T}),0),x.add(A,0)})}if(7==g){(L*=2)>l.delay&&(L=l.delay);A=new punchgs.TimelineLite;setTimeout(function(){t.find(\".defaultimg\").css({opacity:0})},100),t.find(\".slotslide\").each(function(){var e=jQuery(this).find(\"div\");A.add(punchgs.TweenLite.to(e,L/1e3,{left:0-l.slotw/2+\"px\",top:0-l.height/2+\"px\",width:2*l.slotw+\"px\",height:2*l.height+\"px\",opacity:0,rotation:l.rotate,force3D:\"auto\",ease:j}),0),x.add(A,0)}),e.find(\".slotslide\").each(function(e){var t=jQuery(this).find(\"div\");A.add(punchgs.TweenLite.fromTo(t,L/1e3,{left:0,top:0,opacity:0,transformPerspective:600},{left:0-e*l.slotw+\"px\",ease:T,force3D:\"auto\",top:\"0px\",width:l.width,height:l.height,opacity:1,rotation:0,delay:.1}),0),x.add(A,0)})}if(8==g){(L*=3)>l.delay&&(L=l.delay);A=new punchgs.TimelineLite;t.find(\".slotslide\").each(function(){var e=jQuery(this).find(\"div\");A.add(punchgs.TweenLite.to(e,L/1e3,{left:0-l.width/2+\"px\",top:0-l.sloth/2+\"px\",width:2*l.width+\"px\",height:2*l.sloth+\"px\",force3D:\"auto\",ease:j,opacity:0,rotation:l.rotate}),0),x.add(A,0)}),e.find(\".slotslide\").each(function(t){var a=jQuery(this).find(\"div\");A.add(punchgs.TweenLite.fromTo(a,L/1e3,{left:0,top:0,opacity:0,force3D:\"auto\"},{left:\"0px\",top:0-t*l.sloth+\"px\",width:e.find(\".defaultimg\").data(\"neww\")+\"px\",height:e.find(\".defaultimg\").data(\"newh\")+\"px\",opacity:1,ease:T,rotation:0}),0),x.add(A,0)})}if(9==g||10==g){e.find(\".slotslide\").each(function(e){var t=jQuery(this);0,x.add(punchgs.TweenLite.fromTo(t,L/1e3,{autoAlpha:0,force3D:\"auto\",transformPerspective:600},{autoAlpha:1,ease:j,delay:5*e/1e3}),0)})}if(11==g||26==g){var z=2==v?\"#000000\":3==v?\"#ffffff\":\"transparent\";if(26==g&&(L=0),i)switch(x.add(punchgs.TweenLite.set(e.parent(),{backgroundColor:z,force3D:\"auto\"}),0),v){case 0:x.add(punchgs.TweenLite.fromTo(t,L/1e3,{autoAlpha:0,zIndex:1},{autoAlpha:1,zIndex:1,force3D:\"auto\",ease:j}),0),x.add(punchgs.TweenLite.set(e,{autoAlpha:1,force3D:\"auto\",zIndex:0}),0);break;case 1:x.add(punchgs.TweenLite.fromTo(t,L/1e3,{autoAlpha:0},{autoAlpha:1,force3D:\"auto\",ease:j}),0),x.add(punchgs.TweenLite.fromTo(e,L/1e3,{autoAlpha:1},{autoAlpha:0,force3D:\"auto\",ease:j}),0);break;case 2:case 3:case 4:x.add(punchgs.TweenLite.fromTo(e,L/2e3,{autoAlpha:1},{autoAlpha:0,force3D:\"auto\",ease:j}),0),x.add(punchgs.TweenLite.set(t,{autoAlpha:0,force3D:\"auto\"}),0),x.add(punchgs.TweenLite.fromTo(t,L/2e3,{autoAlpha:0},{autoAlpha:1,force3D:\"auto\",ease:j}),L/2e3)}else e.find(\".slotslide\").each(function(e){var t=jQuery(this);x.add(punchgs.TweenLite.fromTo(t,L/1e3,{autoAlpha:0},{autoAlpha:1,force3D:\"auto\",ease:j}),0)})}if(27==g||28==g||29==g||30==g){var B=e.find(\".slot\"),E=27==g||28==g?1:2,M=27==g||29==g?\"-100%\":\"+100%\",F=27==g||29==g?\"+100%\":\"-100%\",P=27==g||29==g?\"-80%\":\"80%\",D=27==g||29==g?\"80%\":\"-80%\",q=27==g||29==g?\"10%\":\"-10%\",O={overwrite:\"all\"},N={autoAlpha:0,zIndex:1,force3D:\"auto\",ease:punchgs.Power1.easeInOut},H={position:\"inherit\",autoAlpha:0,overwrite:\"all\"},V={autoAlpha:1,force3D:\"auto\",ease:punchgs.Power1.easeOut},R={overwrite:\"all\",zIndex:2},Y={autoAlpha:1,force3D:\"auto\",overwrite:\"all\",ease:punchgs.Power1.easeInOut},X={overwrite:\"all\",zIndex:2},U={autoAlpha:1,force3D:\"auto\",ease:punchgs.Power1.easeInOut},G=1==E?\"y\":\"x\";O[G]=\"0px\",N[G]=M,H[G]=q,V[G]=\"0%\",R[G]=F,Y[G]=M,X[G]=P,U[G]=D,B.append('<span style=\"background-color:rgba(0,0,0,0.6);width:100%;height:100%;position:absolute;top:0px;left:0px;display:block;z-index:2\"></span>'),x.add(punchgs.TweenLite.fromTo(t,L/1e3,O,N),0),x.add(punchgs.TweenLite.fromTo(e.find(\".defaultimg\"),L/2e3,H,V),L/2e3),x.add(punchgs.TweenLite.fromTo(B,L/1e3,R,Y),0),x.add(punchgs.TweenLite.fromTo(B.find(\".slotslide div\"),L/1e3,X,U),0)}if(12==g||13==g||14==g||15==g){(L=L)>l.delay&&(L=l.delay),setTimeout(function(){punchgs.TweenLite.set(t.find(\".defaultimg\"),{autoAlpha:0})},100);var W=l.width,Z=l.height,K=e.find(\".slotslide\"),J=0,$=0,ee=1,te=1,ae=1,re=L/1e3,ie=re;\"fullwidth\"!=l.sliderLayout&&\"fullscreen\"!=l.sliderLayout||(W=K.width(),Z=K.height()),12==g?J=W:15==g?J=0-W:13==g?$=Z:14==g&&($=0-Z),1==v&&(ee=0),2==v&&(ee=0),3==v&&(re=L/1300),4!=v&&5!=v||(te=.6),6==v&&(te=1.4),5!=v&&6!=v||(ae=1.4,ee=0,W=0,Z=0,J=0,$=0),6==v&&(ae=.6);7==v&&(W=0,Z=0);var se=e.find(\".slotslide\"),oe=t.find(\".slotslide\");if(x.add(punchgs.TweenLite.set(o,{zIndex:15}),0),x.add(punchgs.TweenLite.set(s,{zIndex:20}),0),8==v?(x.add(punchgs.TweenLite.set(o,{zIndex:20}),0),x.add(punchgs.TweenLite.set(s,{zIndex:15}),0),x.add(punchgs.TweenLite.set(se,{left:0,top:0,scale:1,opacity:1,rotation:0,ease:j,force3D:\"auto\"}),0)):x.add(punchgs.TweenLite.from(se,re,{left:J,top:$,scale:ae,opacity:ee,rotation:l.rotate,ease:j,force3D:\"auto\"}),0),4!=v&&5!=v||(W=0,Z=0),1!=v)switch(g){case 12:x.add(punchgs.TweenLite.to(oe,ie,{left:0-W+\"px\",force3D:\"auto\",scale:te,opacity:ee,rotation:l.rotate,ease:T}),0);break;case 15:x.add(punchgs.TweenLite.to(oe,ie,{left:W+\"px\",force3D:\"auto\",scale:te,opacity:ee,rotation:l.rotate,ease:T}),0);break;case 13:x.add(punchgs.TweenLite.to(oe,ie,{top:0-Z+\"px\",force3D:\"auto\",scale:te,opacity:ee,rotation:l.rotate,ease:T}),0);break;case 14:x.add(punchgs.TweenLite.to(oe,ie,{top:Z+\"px\",force3D:\"auto\",scale:te,opacity:ee,rotation:l.rotate,ease:T}),0)}}if(16==g){A=new punchgs.TimelineLite;x.add(punchgs.TweenLite.set(o,{position:\"absolute\",\"z-index\":20}),0),x.add(punchgs.TweenLite.set(s,{position:\"absolute\",\"z-index\":15}),0),o.wrapInner('<div class=\"tp-half-one\" style=\"position:relative; width:100%;height:100%\"></div>'),o.find(\".tp-half-one\").clone(!0).appendTo(o).addClass(\"tp-half-two\"),o.find(\".tp-half-two\").removeClass(\"tp-half-one\");W=l.width,Z=l.height;\"on\"==l.autoHeight&&(Z=n.height()),o.find(\".tp-half-one .defaultimg\").wrap('<div class=\"tp-papercut\" style=\"width:'+W+\"px;height:\"+Z+'px;\"></div>'),o.find(\".tp-half-two .defaultimg\").wrap('<div class=\"tp-papercut\" style=\"width:'+W+\"px;height:\"+Z+'px;\"></div>'),o.find(\".tp-half-two .defaultimg\").css({position:\"absolute\",top:\"-50%\"}),o.find(\".tp-half-two .tp-caption\").wrapAll('<div style=\"position:absolute;top:-50%;left:0px;\"></div>'),x.add(punchgs.TweenLite.set(o.find(\".tp-half-two\"),{width:W,height:Z,overflow:\"hidden\",zIndex:15,position:\"absolute\",top:Z/2,left:\"0px\",transformPerspective:600,transformOrigin:\"center bottom\"}),0),x.add(punchgs.TweenLite.set(o.find(\".tp-half-one\"),{width:W,height:Z/2,overflow:\"visible\",zIndex:10,position:\"absolute\",top:\"0px\",left:\"0px\",transformPerspective:600,transformOrigin:\"center top\"}),0);o.find(\".defaultimg\");var ne=Math.round(20*Math.random()-10),le=Math.round(20*Math.random()-10),de=Math.round(20*Math.random()-10),ue=.4*Math.random()-.2,ce=.4*Math.random()-.2,me=1*Math.random()+1,pe=1*Math.random()+1,fe=.3*Math.random()+.3;x.add(punchgs.TweenLite.set(o.find(\".tp-half-one\"),{overflow:\"hidden\"}),0),x.add(punchgs.TweenLite.fromTo(o.find(\".tp-half-one\"),L/800,{width:W,height:Z/2,position:\"absolute\",top:\"0px\",left:\"0px\",force3D:\"auto\",transformOrigin:\"center top\"},{scale:me,rotation:ne,y:0-Z-Z/4,autoAlpha:0,ease:j}),0),x.add(punchgs.TweenLite.fromTo(o.find(\".tp-half-two\"),L/800,{width:W,height:Z,overflow:\"hidden\",position:\"absolute\",top:Z/2,left:\"0px\",force3D:\"auto\",transformOrigin:\"center bottom\"},{scale:pe,rotation:le,y:Z+Z/4,ease:j,autoAlpha:0,onComplete:function(){punchgs.TweenLite.set(o,{position:\"absolute\",\"z-index\":15}),punchgs.TweenLite.set(s,{position:\"absolute\",\"z-index\":20}),o.find(\".tp-half-one\").length>0&&(o.find(\".tp-half-one .defaultimg\").unwrap(),o.find(\".tp-half-one .slotholder\").unwrap()),o.find(\".tp-half-two\").remove()}}),0),A.add(punchgs.TweenLite.set(e.find(\".defaultimg\"),{autoAlpha:1}),0),null!=o.html()&&x.add(punchgs.TweenLite.fromTo(s,(L-200)/1e3,{scale:fe,x:l.width/4*ue,y:Z/4*ce,rotation:de,force3D:\"auto\",transformOrigin:\"center center\",ease:T},{autoAlpha:1,scale:1,x:0,y:0,rotation:0}),0),x.add(A,0)}if(17==g&&e.find(\".slotslide\").each(function(e){var t=jQuery(this);x.add(punchgs.TweenLite.fromTo(t,L/800,{opacity:0,rotationY:0,scale:.9,rotationX:-110,force3D:\"auto\",transformPerspective:600,transformOrigin:\"center center\"},{opacity:1,top:0,left:0,scale:1,rotation:0,rotationX:0,force3D:\"auto\",rotationY:0,ease:j,delay:.06*e}),0)}),18==g&&e.find(\".slotslide\").each(function(e){var t=jQuery(this);x.add(punchgs.TweenLite.fromTo(t,L/500,{autoAlpha:0,rotationY:110,scale:.9,rotationX:10,force3D:\"auto\",transformPerspective:600,transformOrigin:\"center center\"},{autoAlpha:1,top:0,left:0,scale:1,rotation:0,rotationX:0,force3D:\"auto\",rotationY:0,ease:j,delay:.06*e}),0)}),19==g||22==g){A=new punchgs.TimelineLite;x.add(punchgs.TweenLite.set(o,{zIndex:20}),0),x.add(punchgs.TweenLite.set(s,{zIndex:20}),0),setTimeout(function(){t.find(\".defaultimg\").css({opacity:0})},100);var ye=90,he=(ee=1,\"center center \");ye=-90,19==g?(he=he+\"-\"+l.height/2,ee=0):he+=l.height/2,punchgs.TweenLite.set(n,{transformStyle:\"flat\",backfaceVisibility:\"hidden\",transformPerspective:600}),e.find(\".slotslide\").each(function(e){var t=jQuery(this);A.add(punchgs.TweenLite.fromTo(t,L/1e3,{transformStyle:\"flat\",backfaceVisibility:\"hidden\",left:0,rotationY:l.rotate,z:10,top:0,scale:1,force3D:\"auto\",transformPerspective:600,transformOrigin:he,rotationX:ye},{left:0,rotationY:0,top:0,z:0,scale:1,force3D:\"auto\",rotationX:0,delay:50*e/1e3,ease:j}),0),A.add(punchgs.TweenLite.to(t,.1,{autoAlpha:1,delay:50*e/1e3}),0),x.add(A)}),t.find(\".slotslide\").each(function(e){var t=jQuery(this),a=-90;a=90,A.add(punchgs.TweenLite.fromTo(t,L/1e3,{transformStyle:\"flat\",backfaceVisibility:\"hidden\",autoAlpha:1,rotationY:0,top:0,z:0,scale:1,force3D:\"auto\",transformPerspective:600,transformOrigin:he,rotationX:0},{autoAlpha:1,rotationY:l.rotate,top:0,z:10,scale:1,rotationX:a,delay:50*e/1e3,force3D:\"auto\",ease:T}),0),x.add(A)}),x.add(punchgs.TweenLite.set(o,{zIndex:18}),0)}if(20==g){setTimeout(function(){t.find(\".defaultimg\").css({opacity:0})},100);var ge=-l.width,ye=80,he=\"20% 70% -\"+l.height/2;e.find(\".slotslide\").each(function(e){var t=jQuery(this),a=50*e/1e3;x.add(punchgs.TweenLite.fromTo(t,L/1e3,{left:ge,rotationX:40,z:-600,opacity:ee,top:0,scale:1,force3D:\"auto\",transformPerspective:600,transformOrigin:he,transformStyle:\"flat\",rotationY:ye},{left:0,rotationX:0,opacity:1,top:0,z:0,scale:1,rotationY:0,delay:a,ease:j}),0)}),t.find(\".slotslide\").each(function(e){var t=jQuery(this),a=50*e/1e3;a=e>0?a+L/9e3:0;var r=l.width/2,i=-30,s=\"80% 70% -\"+l.height/2;T=punchgs.Power2.easeInOut,x.add(punchgs.TweenLite.fromTo(t,L/1e3,{opacity:1,rotationX:0,top:0,z:0,scale:1,left:0,force3D:\"auto\",transformPerspective:600,transformOrigin:s,transformStyle:\"flat\",rotationY:0},{opacity:1,rotationX:20,top:0,z:-600,left:r,force3D:\"auto\",rotationY:i,delay:a,ease:T}),0)})}if(21==g||25==g){setTimeout(function(){t.find(\".defaultimg\").css({opacity:0})},100);ye=90,ge=-l.width;var ve=-ye;if(25==g){var he=\"center top 0\";ye=l.rotate}else{he=\"left center 0\";ve=l.rotate}e.find(\".slotslide\").each(function(e){var t=jQuery(this),a=L/1.5/3;x.add(punchgs.TweenLite.fromTo(t,2*a/1e3,{left:0,transformStyle:\"flat\",rotationX:ve,z:0,autoAlpha:0,top:0,scale:1,force3D:\"auto\",transformPerspective:1200,transformOrigin:he,rotationY:ye},{left:0,rotationX:0,top:0,z:0,autoAlpha:1,scale:1,rotationY:0,force3D:\"auto\",delay:a/1e3,ease:j}),0)}),ge=l.width,ye=-90,25==g?(he=\"center bottom 0\",ve=-ye,ye=l.rotate):(he=\"right center 0\",ve=l.rotate),t.find(\".slotslide\").each(function(e){var t=jQuery(this);x.add(punchgs.TweenLite.fromTo(t,L/1e3,{left:0,transformStyle:\"flat\",rotationX:0,z:0,autoAlpha:1,top:0,scale:1,force3D:\"auto\",transformPerspective:1200,transformOrigin:he,rotationY:0},{left:0,rotationX:ve,top:0,z:0,autoAlpha:1,force3D:\"auto\",scale:1,rotationY:ye,ease:T}),0)})}if(23==g||24==g){setTimeout(function(){t.find(\".defaultimg\").css({opacity:0})},100);ye=-90,ee=1;if(ye=90,23==g){he=\"center center -\"+l.width/2;ee=0}else he=\"center center \"+l.width/2;punchgs.TweenLite.set(n,{transformStyle:\"preserve-3d\",backfaceVisibility:\"hidden\",perspective:2500}),e.find(\".slotslide\").each(function(e){var t=jQuery(this);x.add(punchgs.TweenLite.fromTo(t,L/1e3,{left:0,rotationX:l.rotate,force3D:\"auto\",opacity:ee,top:0,scale:1,transformPerspective:1200,transformOrigin:he,rotationY:ye},{left:0,rotationX:0,autoAlpha:1,top:0,z:0,scale:1,rotationY:0,delay:50*e/500,ease:j}),0)}),ye=90,ye=-90,t.find(\".slotslide\").each(function(e){var t=jQuery(this);x.add(punchgs.TweenLite.fromTo(t,L/1e3,{left:0,rotationX:0,top:0,z:0,scale:1,force3D:\"auto\",transformStyle:\"flat\",transformPerspective:1200,transformOrigin:he,rotationY:0},{left:0,rotationX:l.rotate,top:0,scale:1,rotationY:ye,delay:50*e/500,ease:T}),0),23==g&&x.add(punchgs.TweenLite.fromTo(t,L/2e3,{autoAlpha:1},{autoAlpha:0,delay:50*e/500+L/3e3,ease:T}),0)})}if(x.add(punchgs.TweenLite.set(e.find(\".defaultimg\"),{autoAlpha:1})),x.add(punchgs.TweenLite.set(e.find(\".slot\"),{autoAlpha:0})),x.seek(1e5),null!=r)return x;jQuery(\"#divbgholder\").data(\"slidetimeline\",x)},removeAllSlots=function(){null!=jQuery(\"#divbgholder\").data(\"slidetimeline\")&&(jQuery(\"#divbgholder\").data(\"slidetimeline\").kill(),jQuery(\"#divbgholder\").find(\".slot\").each(function(){jQuery(this).remove()}))};t.resetSlideAnimations=function(e){removeAllSlots(),slideAnimation();var t=jQuery(\"#divbgholder\").data(\"slidetimeline\"),a=jQuery(\"#mastertimer-position\").position().left/100;null!=t&&(t.stop(),e&&t.seek(a))}};return tpLayerTimelinesRev});","Nwdthemes_Revslider/admin/assets/js/rev_admin.js":"define(\"revAdmin\",[\"jquery\",\"settings\",\"admin\",\"rsCodeMirror\",\"rev_lang\",\"loading\",\"editLayers\",\"editLayersTimeline\",\"perfectScrollbar\"],function(j,S,I,D,q,O,R,z){var E={},A=[],P=!1,B=new function(){var s=this,n=null,e=function(t){j(\"#button_save_slider,#button_save_slider_t\").click(function(){var e={params:S.getSettingsObject(\"form_slider_params\"),main:S.getSettingsObject(\"form_slider_main\"),template:j(\"#revslider_template\").val()};\"update_slider\"==t&&(e.sliderid=j(\"#sliderid\").val(),e.params.custom_css=rev_cm_custom_css.getValue(),e.params.custom_javascript=rev_cm_custom_js.getValue(),I.setAjaxLoaderID(\"loader_update, #loader_update_t\"),I.setAjaxHideButtonID(\"button_save_slider,button_save_slider_t\"),I.setSuccessMessageID(\"update_slider_success,#update_slider_success_t\")),I.ajaxRequest(t,e)})};s.initLayerPreview=function(){j(\"#button_preview_slider-tb\").click(function(){var e=j(\"#sliderid\").val();p(e)})};var t=function(){var e=j(\"#alias\").val(),t='{{block class=\"Nwdthemes\\\\Revslider\\\\Block\\\\Revslider\" alias=\"'+e+'\"}}';\"\"==e&&(t=q.wrong_alias),j(\"#shortcode\").val(t)},i=!1,a=!(s.load_slider_template_html=function(){return i?(j(\"#template_area\").addClass(\"show\"),j(\"#template_area\").trigger(\"showitnow\")):I.ajaxRequest(\"load_template_store_sliders\",{},function(e){e.success&&(j(\".revolution-template-groups\").html(e.html),j(\"#template_area\").addClass(\"show\"),j(\"#template_area\").trigger(\"showitnow\"),initTemplateSliders(),i=!0)}),!0});s.load_slide_template_html=function(){return a?(j(\"#template_area\").addClass(\"show\"),j(\".revolution-template-groups\").perfectScrollbar(),scrollTA()):I.ajaxRequest(\"load_template_store_slides\",{},function(e){e.success&&(j(\".revolution-basic-templates\").html(e.html),a=!0,templateSelectorHandling(),j(\"#template_area\").addClass(\"show\"),j(\".revolution-template-groups\").perfectScrollbar(),scrollTA())}),!0};var l=function(e,t,i,a){j('input[name=\"width\"]').attr(\"disabled\",!1),j('input[name=\"height\"]').attr(\"disabled\",!1),\"normal\"!=a&&\"full\"!=a||j(\"#layout-preshow\").removeClass(\"lp-fullscreenalign\"),e?(j(\"#responsitive_row\").removeClass(\"disabled\"),j(\"#responsitive_row input\").prop(\"disabled\",\"\")):(j(\"#responsitive_row\").addClass(\"disabled\"),j(\"#responsitive_row input\").prop(\"disabled\",\"disabled\")),t?(j(\"#auto_height_row\").removeClass(\"disabled\"),j(\"#layout-preshow\").removeClass(\"lp-fullscreenalign\")):j(\"#auto_height_row\").addClass(\"disabled\"),\"normal\"==a&&0==e&&0==t&&0==i?j(\".rs-hide-on-fixed\").hide():j(\".rs-hide-on-fixed\").show(),i?(j(\".rs-show-on-fullscreen\").show(),j(\".rs-hide-on-fullscreen\").hide(),\"on\"==j('input[name=\"full_screen_align_force\"]:checked').val()&&j(\"#layout-preshow\").addClass(\"lp-fullscreenalign\"),j(\"#full_screen_align_force_row\").removeClass(\"disabled\"),j(\"#fullscreen_offset_container_row\").removeClass(\"disabled\")):(j(\".rs-show-on-fullscreen\").hide(),j(\".rs-hide-on-fullscreen\").show(),j(\"#full_screen_align_force_row\").addClass(\"disabled\"),j(\"#fullscreen_offset_container_row\").addClass(\"disabled\")),i||t?j(\"#force_full_width_row\").removeClass(\"disabled\"):j(\"#force_full_width_row\").addClass(\"disabled\"),j(\"#layout-preshow\").removeClass(\"lp-fixed\"),j(\"#layout-preshow\").removeClass(\"lp-custom\"),j(\"#layout-preshow\").removeClass(\"lp-autoresponsive\"),j(\"#layout-preshow\").removeClass(\"lp-fullscreen\"),e?j(\"#layout-preshow\").addClass(\"lp-custom\"):t?j(\"#layout-preshow\").addClass(\"lp-autoresponsive\"):i?j(\"#layout-preshow\").addClass(\"lp-fullscreen\"):j(\"#layout-preshow\").addClass(\"lp-fixed\")},o=function(e,r){j(\"#\"+e).change(function(){var e=j(this).val(),o=[];j(\"#\"+r+\" option\").each(function(){1==j(this).prop(\"selected\")&&o.push(j(this).val())}),j(\"#\"+r).empty(),j(e).each(function(e,t){var i=n[t];for(var a in i)if(i.hasOwnProperty(a)){var s=i[a],l=new Option(s,a);0==a.indexOf(\"option_disabled\")?j(l).prop(\"disabled\",\"disabled\"):-1!==j.inArray(j(l).val(),o)&&j(l).prop(\"selected\",\"selected\"),j(\"#\"+r).append(l)}})}),j(\"#\"+e).change()},r=function(){_(),j(\"#slider_type_1\").click(function(){l(!1,!1,!1,\"normal\")}),j(\"#slider_type_2\").click(function(){l(!0,!1,!1,\"normal\")}),j(\"#slider_type_3\").click(function(){l(!1,!0,!1,\"full\")}),j(\"#slider_type_4\").click(function(){l(!1,!1,!0,\"screen\")}),j('input[name=\"full_screen_align_force\"]').click(function(){\"on\"==j(this).val()?j(\"#layout-preshow\").addClass(\"lp-fullscreenalign\"):j(\"#layout-preshow\").removeClass(\"lp-fullscreenalign\")}),j('input[name=\"auto_height\"]').click(function(){\"on\"==j(this).val()?j(\"#layout-preshow\").addClass(\"lp-autoheight\"):j(\"#layout-preshow\").removeClass(\"lp-autoheight\")}),j('input[name=\"force_full_width\"]').click(function(){\"on\"==j(this).val()?j(\"#layout-preshow\").addClass(\"lp-fullwidth\"):j(\"#layout-preshow\").removeClass(\"lp-fullwidth\")}),j('input[name=\"full_screen_align_force\"]:checked').click(),j('input[name=\"auto_height\"]:checked').click(),j('input[name=\"force_full_width\"]:checked').click(),n=j.parseJSON(g_jsonTaxWithCats),o(\"post_types\",\"post_category\"),o(\"product_types\",\"product_category\"),j(\"#fetch_type\").change(function(){switch(j(\".rs-post-type-wrap\").hide(),j(\".rs-post-order-setting\").show(),j(\"#post_sortby_row\").show(),j(this).val()){case\"cat_tag\":j(\".rs-post-type-wrap\").show();break;case\"related\":break;case\"popular\":case\"recent\":j(\".rs-post-order-setting\").hide();break;case\"next_prev\":j(\"#post_sortby_row\").hide()}}),j(\"#fetch_type option:selected\").change(),j(\"input[name='source_type']\").click(function(){\"posts\"==j(this).val()?(j(\"#toolbox_wrapper\").hide(),j(\"#slider_type_row\").hide(),j(\"#slider_type_row\").prev().hide(),j(\"#fullscreen_offset_container_row\").hide(),j(\"#full_screen_align_force_row\").hide(),j(\"#slider_size_row\").hide(),j(\"#auto_height_row\").hide(),j(\"#force_full_width_row\").hide(),j(\"#responsitive_row\").hide(),j(\"#responsitive_row\").next().hide()):(j(\".settings_panel_right\").show(),j(\"#toolbox_wrapper\").show(),j(\"#slider_type_row\").show(),j(\"#slider_type_row\").prev().show(),j(\"#fullscreen_offset_container_row\").show(),j(\"#full_screen_align_force_row\").show(),j(\"#slider_size_row\").show(),j(\"#auto_height_row\").show(),j(\"#force_full_width_row\").show(),j(\"#responsitive_row\").show(),j(\"#responsitive_row\").next().show(),j(\"#layout-preshow\").show()),\"specific_posts\"==j(this).val()&&j('#fetch_type option[value=\"cat_tag\"]').attr(\"selected\",\"selected\"),j(\"#fetch_type option:selected\").change(),j(\".rs-settings-wrapper\").hide(),\"posts\"==j(this).val()||\"specific_posts\"==j(this).val()||\"woocommerce\"==j(this).val()?(j(\"#rs-post-settings-wrapper\").show(),j(\".rs-specific-posts-wrap\").hide(),j(\".rs-woocommerce-product-wrap\").hide(),j(\".rs-post-types-wrapper\").hide(),j(\".rs-show-for-wc\").hide(),j(\".rs-hide-for-wc\").show(),\"posts\"==j(this).val()?(j(\".rs-post-types-wrapper\").show(),j(\".rs-specific-posts-wrap\").hide()):\"specific_posts\"==j(this).val()?(j(\".rs-post-types-wrapper\").hide(),j(\".rs-specific-posts-wrap\").show()):\"woocommerce\"==j(this).val()&&(j(\".rs-woocommerce-product-wrap\").show(),j(\".rs-show-for-wc\").show(),j(\".rs-hide-for-wc\").hide())):(j(\"#rs-post-settings-wrapper\").hide(),j(\"#rs-\"+j(this).val()+\"-settings-wrapper\").show(),\"facebook\"==j(this).val()&&j('select[name=\"facebook-type-source\"]').change(),\"instagram\"==j(this).val()&&j('select[name=\"instagram-type\"]').change(),\"photosets\"==j(\"select[name=flickr-type]\").val()&&\"flickr\"==j(\"input[name=source_type]:checked\").val()&&j(\"input[name=flickr-user-url]\").change(),\"youtube\"==j(\"input[name=source_type]:checked\").val()&&\"playlist\"==j(\"select[name='youtube-type-source']\").val()&&j(\"input[name=youtube-channel-id]\").change())}),j(\".rs-settings-wrapper\").hide(),j(\"#source_type_1\").is(\":checked\")||j(\"#source_type_2\").is(\":checked\")?(j(\"#rs-post-settings-wrapper\").show(),j(\"#source_type_1\").is(\":checked\")?(j(\".rs-post-types-wrapper\").show(),j(\".rs-specific-posts-wrap\").hide()):(j(\".rs-post-types-wrapper\").hide(),j(\".rs-specific-posts-wrap\").show())):(j(\"#rs-post-settings-wrapper\").hide(),j(\"input[name=source_type]:checked\").click()),j(\"#source_type_1\").is(\":checked\")&&(j(\"#toolbox_wrapper\").hide(),j(\"#slider_type_row\").hide(),j(\"#slider_type_row\").prev().hide(),j(\"#fullscreen_offset_container_row\").hide(),j(\"#full_screen_align_force_row\").hide(),j(\"#slider_size_row\").hide(),j(\"#auto_height_row\").hide(),j(\"#force_full_width_row\").hide(),j(\"#responsitive_row\").hide(),j(\"#responsitive_row\").next().hide()),j(document).ready(function(){j('input[name=\"slider_type\"]:checked').click(),j('select[name=\"navigation_style\"]').change(function(){switch(j(this).val()){case\"preview1\":case\"preview2\":case\"preview3\":case\"preview4\":j(\"#leftarrow_align_hor_row\").hide(),j(\"#leftarrow_align_vert_row\").hide(),j(\"#leftarrow_offset_hor_row\").hide(),j(\"#leftarrow_offset_vert_row\").hide(),j(\"#rightarrow_align_hor_row\").hide(),j(\"#rightarrow_align_vert_row\").hide(),j(\"#rightarrow_offset_hor_row\").hide(),j(\"#rightarrow_offset_vert_row\").hide(),j(\"#navigation_arrows_row\").hide();break;default:j(\"#navigaion_type\").change(),j(\"#navigation_arrows\").change()}}),j(\"#navigation_arrows\").on(\"change\",function(){switch(j(this).val()){case\"nexttobullets\":case\"solo\":var e=j('select[name=\"navigation_style\"]').val();\"preview1\"!=e&&\"preview2\"!=e&&\"preview3\"!=e&&\"preview4\"!=e&&(j(\"#leftarrow_align_hor_row\").show(),j(\"#leftarrow_align_vert_row\").show(),j(\"#leftarrow_offset_hor_row\").show(),j(\"#leftarrow_offset_vert_row\").show(),j(\"#rightarrow_align_hor_row\").show(),j(\"#rightarrow_align_vert_row\").show(),j(\"#rightarrow_offset_hor_row\").show(),j(\"#rightarrow_offset_vert_row\").show());break;default:j(\"#leftarrow_align_hor_row\").hide(),j(\"#leftarrow_align_vert_row\").hide(),j(\"#leftarrow_offset_hor_row\").hide(),j(\"#leftarrow_offset_vert_row\").hide(),j(\"#rightarrow_align_hor_row\").hide(),j(\"#rightarrow_align_vert_row\").hide(),j(\"#rightarrow_offset_hor_row\").hide(),j(\"#rightarrow_offset_vert_row\").hide()}}),j('select[name=\"navigation_style\"] option:selected').change(),j(\"#navigation_type\").change(function(){switch(j(this).val()){case\"bullet\":case\"thumb\":var e=j('select[name=\"navigation_style\"]').val();\"preview1\"!=e&&\"preview2\"!=e&&\"preview3\"!=e&&\"preview4\"!=e&&j(\"#navigation_arrows_row\").show();break;default:j(\"#navigation_arrows_row\").hide()}}),j(\"#navigation_style\").change()}),j(\"body\").on(\"change\",'select[name=\"facebook-type-source\"]',function(){var e=j(this).val();\"timeline\"==e?(j(\"#facebook-album-wrap\").hide(),j(\"#facebook-timeline-wrap\").show()):(j(\"#facebook-timeline-wrap\").hide(),j(\"#facebook-album-wrap\").show(),j(\"input[name=facebook-page-url]\").change()),j(\"input[name=facebook-type-source]\").val(e)}),\"facebook\"==j(\"input[name=source_type]:checked\").val()&&j('select[name=\"facebook-type-source\"]').change(),j(\"input[name=facebook-page-url]\").change(function(){if(\"album\"==j(\"select[name='facebook-type-source']\").val()){var e={url:j(\"input[name=facebook-page-url]\").val(),album:j(\"input[name=facebook-album]\").val(),app_id:j(\"input[name=facebook-app-id]\").val(),app_secret:j(\"input[name=facebook-app-secret]\").val()};\"\"!=j(\"input[name=facebook-page-url]\").val()?I.ajaxRequest(\"get_facebook_photosets\",e,function(e){j(\"select[name=facebook-album-select]\").html(e.html),j(\"select[name=facebook-album-select]\").change()}):(j(\"select[name=facebook-album-select]\").html(\"\"),j(\"select[name=facebook-album-select]\").change())}}),\"facebook\"==j(\"input[name=source_type]:checked\").val()&&j(\"input[name=facebook-page-url]\").change(),j(\"select[name=facebook-album-select]\").change(function(){j(\"input[name=facebook-album]\").val(j(\"select[name=facebook-album-select]\").val())}),j(\"select[name=flickr-type]\").change(function(){switch(j(this).val()){case\"publicphotos\":j(\"#flickr-photosets-wrap,#flickr-gallery-url-wrap,#flickr-group-url-wrap\").hide(),j(\"#flickr-publicphotos-url-wrap\").show();break;case\"gallery\":j(\"#flickr-publicphotos-url-wrap,#flickr-photosets-wrap,#flickr-group-url-wrap\").hide(),j(\"#flickr-gallery-url-wrap\").show();break;case\"photosets\":j(\"#flickr-gallery-url-wrap,#flickr-group-url-wrap\").hide(),j(\"#flickr-publicphotos-url-wrap,#flickr-photosets-wrap\").show();break;case\"group\":j(\"#flickr-publicphotos-url-wrap,#flickr-photosets-wrap,#flickr-gallery-url-wrap\").hide(),j(\"#flickr-group-url-wrap\").show()}}),j(\"select[name=flickr-type]\").change(),j(\"input[name=flickr-user-url],select[name=flickr-type]\").change(function(){if(\"photosets\"==j(\"select[name=flickr-type]\").val())if(\"\"!=j(\"input[name=flickr-user-url]\").val()&&\"\"!=j(\"input[name=flickr-api-key]\").val()){var e={url:j(\"input[name=flickr-user-url]\").val(),key:j(\"input[name=flickr-api-key]\").val(),count:j(\"input[name=flickr-count]\").val(),set:j(\"input[name=flickr-photoset]\").val()};I.ajaxRequest(\"get_flickr_photosets\",e,function(e){j(\"select[name=flickr-photoset-select]\").html(e.data.html),j(\"select[name=flickr-photoset-select]\").change()})}else j(\"select[name=flickr-photoset-select]\").html(response.data.html),j(\"input[name=flickr-photoset]\").val(\"\")}),\"photosets\"==j(\"select[name=flickr-type]\").val()&&\"flickr\"==j(\"input[name=source_type]:checked\").val()&&j(\"input[name=flickr-user-url]\").change(),j(\"select[name=flickr-photoset-select]\").change(function(){j(\"input[name=flickr-photoset]\").val(j(\"select[name=flickr-photoset-select]\").val())}),j(\"select[name=youtube-playlist-select]\").change(function(){j(\"input[name=youtube-playlist]\").val(j(\"select[name=youtube-playlist-select]\").val())}),j(\"input[name=youtube-channel-id]\").change(function(){if(\"playlist\"==j(\"select[name='youtube-type-source']\").val()){var e={api:j(\"input[name=youtube-api]\").val(),id:j(\"input[name=youtube-channel-id]\").val(),playlist:j(\"input[name=youtube-playlist]\").val()};\"\"!=j(\"input[name=youtube-channel-id]\").val()?I.ajaxRequest(\"get_youtube_playlists\",e,function(e){j(\"select[name=youtube-playlist-select]\").html(e.data.html),j(\"select[name=youtube-playlist-select]\").change()}):j(\"select[name=youtube-playlist-select]\").html(\"\")}}),j(\"select[name=youtube-type-source]\").change(function(){\"playlist\"!=j(this).val()?j(\"#youtube-playlist-wrap\").hide():(j(\"#youtube-playlist-wrap\").show(),\"youtube\"==j(\"input[name=source_type]:checked\").val()&&\"\"!=j(\"input[name=youtube-channel-id]\").val()&&\"playlist\"==j('select[name=\"youtube-type-source\"]').val()&&j(\"input[name=youtube-channel-id]\").change())}),j(\"select[name=youtube-type-source]\").change(),j(\"select[name=vimeo-type-source]\").change(function(){var e=j(this).val();j(\".source-vimeo\").hide(),j(\"#vimeo-\"+e+\"-wrap\").show()}),j(\"select[name=vimeo-type-source]\").change(),j(\"body\").on(\"change\",'select[name=\"instagram-type\"]',function(){var e=j(this).val();j(this).parent().find(\"div\").hide(),j(\"#instagram_\"+e).show()}),\"instagram\"==j(\"input[name=source_type]:checked\").val()&&j('select[name=\"instagram-type\"]').change(),j(\"body\").on(\"click\",'input[name=\"loop_slide\"]',function(){\"noloop\"==j(this).val()&&(j('#navigaion_type option[value=\"none\"]').attr(\"selected\",!0),j('#navigation_arrows option[value=\"none\"]').attr(\"selected\",!0),j(\"#navigaion_type\").change(),j(\"#navigation_arrows\").change(),I.showInfo({type:\"info\",hideon:\"\",event:\"\",content:q.nav_bullet_arrows_to_none,hidedelay:3}))}),j(\"#enable_advanced_sizes\").click(function(){j(\".rev-advanced-sizes-wrap\").show(),j(\"#rev-enable-advanced-sizes\").hide(),j('input[name=\"advanced-responsive-sizes\"]').val(\"true\"),j(\".rev-desktop-naming\").html(\"Desktop\")}),j(\"#disable_advanced_sizes\").click(function(){j(\".rev-advanced-sizes-wrap\").hide(),j(\"#rev-enable-advanced-sizes\").show(),j('input[name=\"advanced-responsive-sizes\"]').val(\"false\"),j(\".rev-desktop-naming\").html(\"\")})};function d(){var e=j(\"#spinner_color\").val(),t=j(\"#use_spinner\");0!=t.val()&&5!=t.val()||(e=\"#ffffff\");var i=j(\"#spinner_preview .tp-loader.tp-demo\");i.hasClass(\"spinner0\")||i.hasClass(\"spinner1\")||i.hasClass(\"spinner2\")?i.css({backgroundColor:e}):i.find(\"div\").css({backgroundColor:e})}function c(e,t){var i=j(\"#use_spinner\");e.find(\".tp-loader\").remove(),e.append('<div class=\"tp-loader tp-demo\"><div class=\"dot1\"></div><div class=\"dot2\"></div><div class=\"bounce1\"></div><div class=\"bounce2\"></div><div class=\"bounce3\"></div></div>'),e.find(\".tp-demo\").addClass(\"spinner\"+i.val()),\"-1\"==i.val()||0==i.val()||5==i.val()?j(\"#spinner_color_row\").css({display:\"none\"}):j(\"#spinner_color_row\").css({display:\"block\"}),d()}this.initSpinnerAdmin=function(){j(\"#use_spinner_row\").parent().prepend('<div id=\"spinner_preview\"></div>');var e=j(\"#spinner_preview\"),t=j(\"#use_spinner\"),i=j(\"#spinner_color\"),a=i.val();c(e),t.on(\"change\",function(){c(e,!0)}),setInterval(function(){a!=i.val()&&(d(),oldocl=i.val())},300)},this.initAddSliderView=function(){r(),j(\"#title\").focus(),e(\"create_slider\"),l(!1,!1,!1,\"normal\"),this.initSpinnerAdmin()},this.initEditSliderView=function(){r(),e(\"update_slider\"),j(\"#button_delete_slider, #button_delete_slider_t\").click(function(){if(0==confirm(q.really_want_to_delete+\" '\"+j(\"#title\").val()+\"' ?\"))return!0;var e={sliderid:j(\"#sliderid\").val()};I.ajaxRequest(\"delete_slider\",e)}),j(\"#api_wrapper .api-input\").click(function(){j(this).select().focus()}),j(\"#link_show_api\").click(function(){j(\"#api_wrapper\").show(),j(\"#link_show_api\").addClass(\"button-selected\"),j(\"#toolbox_wrapper\").hide(),j(\"#link_show_toolbox\").removeClass(\"button-selected\")}),j(\"#link_show_toolbox\").click(function(){j(\"#toolbox_wrapper\").show(),j(\"#link_show_toolbox\").addClass(\"button-selected\"),j(\"#api_wrapper\").hide(),j(\"#link_show_api\").removeClass(\"button-selected\")}),j(\"#button_export_slider\").click(function(){var e=j(\"#sliderid\").val(),t=j('input[name=\"export_dummy_images\"]').is(\":checked\"),i=ajaxurl+I.return_ajaxurl_param()+\"action=\"+g_uniteDirPlugin+\"_ajax_action&client_action=export_slider&dummy=\"+t+\"&nonce=\"+g_revNonce;i+=\"&sliderid=\"+e,location.href=i}),j(\"#button_preview_slider, #button_preview_slider_t\").click(function(){var e=j(\"#sliderid\").val();p(e)}),j(\"#button_replace_url\").click(function(){if(0==confirm(q.sure_to_replace_urls))return!1;var e={sliderid:j(\"#sliderid\").val(),url_from:j(\"#replace_url_from\").val(),url_to:j(\"#replace_url_to\").val(),replace_all:j(\"[name=replace_url_all]:checked\").val()};I.setAjaxLoaderID(\"loader_replace_url\"),I.setAjaxHideButtonID(\"button_replace_url\"),I.setSuccessMessageID(\"replace_url_success\"),I.ajaxRequest(\"replace_image_urls\",e)}),j('input[name=\"slider_type\"]').each(function(){j(this).is(\":checked\")&&j(this).click()}),j(\"#reset_slide_button\").click(function(){if(\"0.5\"==j(this).css(\"opacity\"))return!1;if(0==confirm(q.set_settings_on_all_slider))return!1;var e={sliderid:j(\"#sliderid\").val()};j('input[name=\"reset-slide_transition\"]').is(\":checked\")&&(e.slide_transition=j('select[name=\"def-slide_transition\"] option:selected').val()),j('input[name=\"reset-transition_duration\"]').is(\":checked\")&&(e.transition_duration=j('input[name=\"def-transition_duration\"]').val()),j('input[name=\"reset-image_source_type\"]').is(\":checked\")&&(e.image_source_type=j('select[name=\"def-image_source_type\"] option:selected').val()),j('input[name=\"reset-background_fit\"]').is(\":checked\")&&(e.bg_fit=j(\"#def-background_fit option:selected\").val(),\"percentage\"==e.bg_fit&&(e.bg_fit_x=j('input[name=\"def-bg_fit_x\"]').val(),e.bg_fit_y=j('input[name=\"def-bg_fit_y\"]').val())),j('input[name=\"reset-bg_position\"]').is(\":checked\")&&(e.bg_position=j('select[name=\"def-bg_position\"] option:selected').val(),\"percentage\"==e.bg_position&&(e.bg_position_x=j('input[name=\"def-bg_position_x\"]').val(),e.bg_position_y=j('input[name=\"def-bg_position_y\"]').val())),j('input[name=\"reset-bg_repeat\"]').is(\":checked\")&&(e.bg_repeat=j('select[name=\"def-bg_repeat\"] option:selected').val()),j('input[name=\"reset-kenburn_effect\"]').is(\":checked\")&&(e.kenburn_effect=j('input[name=\"def-kenburn_effect\"]').is(\":checked\")?\"on\":\"off\"),j('input[name=\"reset-kb_start_fit\"]').is(\":checked\")&&(e.kb_start_fit=j('input[name=\"def-kb_start_fit\"]').val()),j('input[name=\"reset-kb_easing\"]').is(\":checked\")&&(e.kb_easing=j('select[name=\"def-kb_easing\"] option:selected').val()),j('input[name=\"reset-kb_end_fit\"]').is(\":checked\")&&(e.kb_end_fit=j('input[name=\"def-kb_end_fit\"]').val()),j('input[name=\"reset-kb_duration\"]').is(\":checked\")&&(e.kb_duration=j('input[name=\"def-kb_duration\"]').val()),j('input[name=\"reset-kb_start_offset_x\"]').is(\":checked\")&&(e.kb_start_offset_x=j('input[name=\"def-kb_start_offset_x\"]').val()),j('input[name=\"reset-kb_start_offset_y\"]').is(\":checked\")&&(e.kb_start_offset_y=j('input[name=\"def-kb_start_offset_y\"]').val()),j('input[name=\"reset-kb_end_offset_x\"]').is(\":checked\")&&(e.kb_end_offset_x=j('input[name=\"def-kb_end_offset_x\"]').val()),j('input[name=\"reset-kb_end_offset_y\"]').is(\":checked\")&&(e.kb_end_offset_y=j('input[name=\"def-kb_end_offset_y\"]').val()),j('input[name=\"reset-kb_start_rotate\"]').is(\":checked\")&&(e.kb_start_rotate=j('input[name=\"def-kb_start_rotate\"]').val()),j('input[name=\"reset-kb_end_rotate\"]').is(\":checked\")&&(e.kb_end_rotate=j('input[name=\"def-kb_end_rotate\"]').val()),I.ajaxRequest(\"reset_slide_settings\",e)}),j(\".rs-reset-slide-setting\").change(function(){j(\"#reset_slide_button\").css(\"opacity\",\"0.5\"),j(\".rs-reset-slide-setting\").each(function(){if(j(this).is(\":checked\"))return j(\"#reset_slide_button\").css(\"opacity\",\"1\"),!0})}),j(\".rs-reset-slide-setting\").change(),j(\".tp-moderncheckbox\").each(function(){S.onoffStatus(j(this))}),this.initSpinnerAdmin()};var _=function(){j(\"#shortcode\").focus(function(){this.select()}),j(\"#shortcode\").click(function(){this.select()}),j(\"#alias\").change(function(){t()}),j(\"#alias\").keyup(function(){t()}),t()};this.initNewsletterRoutine=function(){j(\"#subscribe-to-newsletter\").click(function(){var e={email:j('input[name=\"rs-email\"]').val()};I.ajaxRequest(\"subscribe_to_newsletter\",e)}),j(\"#activate-unsubscribe\").click(function(){j(\".subscribe-newsletter-wrap\").hide(),j(\"#activate-unsubscribe\").hide(),j(\".unsubscribe-newsletter-wrap\").show(),j(\"#unsubscribe-text\").show(),j(\"#subscribe-text\").hide()}),j(\"#cancel-unsubscribe\").click(function(){j(\".subscribe-newsletter-wrap\").show(),j(\"#activate-unsubscribe\").show(),j(\".unsubscribe-newsletter-wrap\").hide(),j(\"#unsubscribe-text\").hide(),j(\"#subscribe-text\").show()}),j(\"#unsubscribe-to-newsletter\").click(function(){var e={email:j('input[name=\"rs-email\"]').val()};I.ajaxRequest(\"unsubscribe_to_newsletter\",e)})},this.initSlidersListView=function(){var n;j(\"body\").on(\"click\",\".rs-reload-shop\",function(){O({fadeIn:300,text:q.please_wait_a_moment}),location.href=window.location.href+(-1==window.location.href.indexOf(\"?\")?\"?\":\"&\")+\"update_shop\"}),j(\"body\").on(\"click\",\".template_slider_item_reimport, .install_template_slider\",function(){var e=j(this);if(j(\"#import_dialog_box\").data(\"requested_slide\",e.data(\"title\")),e.hasClass(\"deny_download\"))return alert(q.this_template_requires_version+\" \"+e.data(\"versionneed\")+\" \"+q.of_slider_revolution),!1;var t={};return t.zip=e.data(\"zipname\"),t.uid=e.data(\"uid\"),t.package=\"false\",j(\"#dialog_import_template_slider_from\").dialog({modal:!0,resizable:!1,dialogClass:\"tpdialogs\",create:function(e){j(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")},buttons:{Local:function(){if(RS_DEMO)return alert(q.not_available_in_demo),!1;j(\".input_import_slider\").val(\"\"),j(\".rs-import-slider-button\").hide(),j(\".rs-zip-name\").text(t.zip),j(\".rs-uid\").val(t.uid),j(\".rs-package\").val(t.package),j(\"#dialog_import_template_slider\").dialog({modal:!0,resizable:!1,width:600,height:450,closeOnEscape:!0,dialogClass:\"tpdialogs\",create:function(e){j(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")},buttons:{Close:function(){j(this).dialog(\"close\")}}}),j(this).dialog(\"close\")},Online:function(){rs_plugin_validated?rs_single_page_creation?j(\"#dialog_import_template_slider_page_template\").dialog({modal:!0,resizable:!1,title:\"Create Blank Demo Page\",width:450,height:200,closeOnEscape:!0,dialogClass:\"tpdialogs\",create:function(e){j(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")},buttons:{Yes:function(){i(t,\"true\"),j(this).dialog(\"close\"),j(\"#dialog_import_template_slider_from\").dialog(\"close\")},No:function(){i(t,\"false\"),j(this).dialog(\"close\"),j(\"#dialog_import_template_slider_from\").dialog(\"close\")}}}):(i(t,\"false\"),j(\"#dialog_import_template_slider_from\").dialog(\"close\")):j(\"#regsiter-to-access-store-none\").click()}}}),j(\"#close-template\").click(),!1}),j(\"body\").on(\"click\",\".template_slider_item_reimport_package, .install_template_slider_package\",function(){if(j(this).hasClass(\"deny_download\"))return alert(q.this_template_requires_version+\" \"+j(this).data(\"versionneed\")+\" \"+q.of_slider_revolution),!1;var e={};return e.zip=j(this).data(\"zipname\"),e.uid=j(this).data(\"uid\"),e.package=\"true\",rs_plugin_validated?rs_pack_page_creation?j(\"#dialog_import_template_slider_page_template\").dialog({modal:!0,resizable:!1,title:\"Create Blank Demo Page\",width:450,height:200,closeOnEscape:!0,dialogClass:\"tpdialogs\",create:function(e){j(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")},buttons:{Yes:function(){i(e,\"true\"),j(this).dialog(\"close\")},No:function(){i(e,\"false\"),j(this).dialog(\"close\")}}}):i(e,\"false\"):alert(q.this_feature_only_if_activated),j(\"#close-template\").click(),!1});var i=function(s,l){if(j(\"#import_dialog_box\").html(\"\"),j(\"#dialog_import_template_slider_info\").dialog({modal:!0,resizable:!1,width:450,minHeight:350,dialogClass:\"tpdialogs\",open:function(e,t){var i=j(e.target).parent(),a=i.find(\".ui-dialog-titlebar\");i.attr(\"id\",\"tp_import_sliders\"),a.attr(\"id\",\"tp_import_sliders_title\"),n=j(\".ui-dialog-titlebar-close\",t.dialog),j(\".ui-dialog-titlebar-close\",t.dialog).hide()}}),void 0!==s.package&&void 0!==slider_package_uids[s.uid]){for(var e in s[\"page-creation\"]=!1,delete s.package,E={},A=[],slider_package_uids[s.uid])if(slider_package_uids[s.uid].hasOwnProperty(e))for(var t in slider_package_uids[s.uid][e])slider_package_uids[s.uid][e].hasOwnProperty(t)&&(E[e]={uid:slider_package_uids[s.uid][e][t],sid:t,status:0});var o=0,r=setInterval(function(){30==++o&&j(\"#import_dialog_box_action\").append('<div class=\"import_failure\">'+q.download_install_takes_longer+\"</div>\"),60==o&&(j(\"#import_dialog_box\").append(q.download_failed_check_server),j(\"#import_dialog_box\").append(\"<div>\"+q.aborting_import+\"</div>\"),j(\"#import_dialog_box_action\").html(\"\"),void 0!==n&&n.show(),clearInterval(r));var e=0,t=1,i=!0;for(var a in E)E.hasOwnProperty(a)&&(1===E[a].status&&(e=1),2!==E[a].status&&(i=!1),2===E[a].status&&t++);if(t<=Object.keys(E).length?j(\"#install-slider-counter\").css({width:t/Object.keys(E).length*100+\"%\"}):j(\"#install-slider-counter\").width(\"100%\"),0===e)for(var a in o=0,E)if(E.hasOwnProperty(a)&&0===E[a].status){s.uid=E[a].uid,j(\"#import_dialog_box_action\").html(slider_package_names[E[a].uid].name),E[a].status=1,I.ajaxRequest(\"import_slider_online_template_slidersview_new\",s,function(e){if(E[a].status=2,void 0!==e.slider_id&&0<e.slider_id&&A.push(e.slider_id),!1!==e.view&&(P=e.view),0<e.error.length)for(var t in e.error)e.error.hasOwnProperty(t)&&j(\"#import_dialog_box\").append(\"<div>\"+e.error[t]+\"</div>\")},!0);break}i&&(clearInterval(r),\"true\"===l?(j(\"#import_dialog_box\").append(\"<div>\"+q.create_draft+\"</div>\"),I.ajaxRequest(\"create_draft_page\",{slider_ids:A},function(e){!1!==e.open?(j(\"#import_dialog_box\").append(\"<div>\"+q.draft_created+\"</div>\"),window.open(e.open,\"_blank\")):j(\"#import_dialog_box\").append(\"<div>\"+q.draft_not_created+\"</div>\"),j(\"#import_dialog_box\").append(\"<div>\"+q.slider_import_success_reload+\"</div>\"),!1!==P&&(location.href=P)},!0)):(j(\"#import_dialog_box\").append(\"<div>\"+q.slider_import_success_reload+\"</div>\"),!1!==P&&(location.href=P)))},1e3)}else{s[\"page-creation\"]=l;var i=j(\"#import_dialog_box\").data(\"requested_slide\");j(\"#import_dialog_box\").append(\"<div>\"+i+\"</div>\"),I.ajaxRequest(\"import_slider_online_template_slidersview_new\",s,function(e){if(j(\"#import_dialog_box_action\").html(\"\"),0<e.error.length)for(var t in e.error)e.error.hasOwnProperty(t)&&j(\"#import_dialog_box\").append('<div class=\"import_failure\">'+e.error[t]+\"</div>\");else{for(var t in e.success)e.success.hasOwnProperty(t)&&j(\"#install-slider-counter\").css({width:\"100%\"});!1!==e.open&&(j(\"#import_dialog_box\").append(\"<div>\"+q.draft_created+\"</div>\"),window.open(e.open,\"_blank\")),!1!==e.view&&(j(\"#import_dialog_box\").append(\"<div>\"+q.slider_import_success_reload+\"</div>\"),location.href=e.view)}},!0,!1)}};s.get_title_by_uid=function(e){var t=j('.template_slide_item_img[data-uid=\"'+e+'\"]').data(\"title\");return null==t&&(t=j('.install_template_slider[data-uid=\"'+e+'\"]').data(\"title\")),null==t&&(t=j('.template_slider_item_import[data-uid=\"'+e+'\"]').data(\"title\")),null==t&&(t=j('.install_template_slider_package[data-uid=\"'+e+'\"]').data(\"title\")),t},j(\"body\").on(\"click\",\".add_template_slider_item\",function(){var e=j(this).data(\"sliderid\");j(\"#dialog_duplicate_slider\").dialog({modal:!0,resizable:!1,title:\"Import\",width:250,height:200,closeOnEscape:!0,dialogClass:\"tpdialogs tpdialogs_z\",create:function(e){j(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")},buttons:{Close:function(){j(this).dialog(\"close\")},Import:function(){if(\"\"==j(\"#rs-duplicate-animation\").val())return!1;I.ajaxRequest(\"duplicate_slider\",{sliderid:e,title:j(\"#rs-duplicate-animation\").val()},function(e){j(\"#close-template\").click()})}}})}),j(\"body\").on(\"click\",\".add_template_slider_item_package\",function(){var e=j(this).data(\"uid\");j(\"#dialog_duplicate_slider_package\").dialog({modal:!0,resizable:!1,title:\"Import Package\",width:250,height:200,closeOnEscape:!0,dialogClass:\"tpdialogs\",create:function(e){j(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")},buttons:{Close:function(){j(this).dialog(\"close\")},\"Import Package\":function(){if(\"\"==j(\"#rs-duplicate-prefix\").val())return!1;I.ajaxRequest(\"duplicate_slider_package\",{slideruid:e,title:j(\"#rs-duplicate-prefix\").val()},function(e){j(\"#close-template\").click()})}}})}),j(\".input_import_slider\").change(function(){\"\"!==j(this).val()?j(\".rev-import-slider-button\").show():j(\".rev-import-slider-button\").hide()}),j(\"#form-import-slider-local, #form-import-online-slider-local\").submit(function(e){var t=j(this).find('input[name=\"import_file\"]').val().split(\"\\\\\").pop();j(\"#dialog_import_slider\").hasClass(\"ui-dialog-content\")&&j(\"#dialog_import_slider\").dialog(\"close\"),j(\"#dialog_import_template_slider\").hasClass(\"ui-dialog-content\")&&j(\"#dialog_import_template_slider\").dialog(\"close\"),j(\"#dialog_import_template_slider_info\").dialog({modal:!0,resizable:!1,width:450,minHeight:350,dialogClass:\"tpdialogs\",open:function(e,t){var i=j(e.target).parent(),a=i.find(\".ui-dialog-titlebar\");i.attr(\"id\",\"tp_import_sliders\"),a.attr(\"id\",\"tp_import_sliders_title\"),j(\".ui-dialog-titlebar-close\",t.dialog).hide()}}),j(\"#import_dialog_box\").html(\"\"),j(\"#import_dialog_box\").append(\"<div>\"+t+\"</div>\");var i=0,a=setInterval(function(){30==++i&&j(\"#import_dialog_box_action\").append(q.download_install_takes_longer),60==i&&(j(\"#import_dialog_box\").append(q.download_failed_check_server),j(\"#import_dialog_box\").append(\"<div>\"+q.aborting_import+\"</div>\"),j(\"#import_dialog_box_action\").html(\"\"),void 0!==n&&n.show(),clearInterval(a))},1e3)}),j(\"#button_import_template_slider, #button_import_template_slider_b\").click(function(){s.load_slider_template_html()}),j(\"#button_import_slider\").click(function(){if(RS_DEMO)return alert(q.not_available_in_demo),!1;j(\".rev-import-slider-button\").hide(),j(\".input_import_slider\").val(\"\"),j(\"#dialog_import_slider form\").on(\"submit\",function(){return j(\".rev-import-slider-button\").val(j(\".rev-import-slider-button\").data(\"loading\")).attr(\"disabled\",\"disabled\"),j(this).on(\"submit\",function(){return!1}),!0}),j(\"#dialog_import_slider\").dialog({modal:!0,resizable:!1,width:600,height:400,closeOnEscape:!0,dialogClass:\"tpdialogs\",create:function(e){j(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")},buttons:{Close:function(){j(this).dialog(\"close\")}}})}),j(\".button_delete_slider\").click(function(){var e=this.id.replace(\"button_delete_\",\"\"),t=j(\"#slider_title_\"+e).text();if(0==confirm(q.really_want_to_delete+\" '\"+t+\"' ?\"))return!1;I.ajaxRequest(\"delete_slider_stay\",{sliderid:e},function(){j('li[data-id=\"'+e+'\"]').remove()})}),j(\".button_duplicate_slider\").click(function(){var e=this.id.replace(\"button_duplicate_\",\"\");j(\"#dialog_duplicate_slider\").dialog({modal:!0,resizable:!1,width:250,height:200,closeOnEscape:!0,dialogClass:\"tpdialogs\",create:function(e){j(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")},buttons:{Close:function(){j(this).dialog(\"close\")},Duplicate:function(){if(\"\"==j(\"#rs-duplicate-animation\").val())return!1;I.ajaxRequest(\"duplicate_slider\",{sliderid:e,title:j(\"#rs-duplicate-animation\").val()},function(e){})}}})}),j(\".rev-toogle-fav\").click(function(){var t=this.id.replace(\"reg-toggle-id-\",\"\");I.ajaxRequest(\"toggle_favorite\",{id:t},function(){var e=j(\"#reg-toggle-id-\"+t).find(\"i\");e.hasClass(\"eg-icon-star-empty\")?(e.removeClass(\"eg-icon-star-empty\"),e.addClass(\"eg-icon-star\")):(e.removeClass(\"eg-icon-star\"),e.addClass(\"eg-icon-star-empty\"))})}),j(\".button_slider_preview\").click(function(){var e=this.id.replace(\"button_preview_\",\"\");p(e)}),j(\".export_slider_overview\").click(function(){var e=this.id.replace(\"export_slider_\",\"\"),t=ajaxurl+I.return_ajaxurl_param()+\"action=\"+g_uniteDirPlugin+\"_ajax_action&client_action=export_slider&dummy=\"+!1+\"&nonce=\"+g_revNonce;t+=\"&sliderid=\"+e,location.href=t}),j(\"body\").on(\"click\",\".rs-embed-slider\",function(){var e=j(this).closest(\"li.tls-slide\").find(\".tls-alias\").text();j(\".rs-dialog-embed-slider\").find(\".rs-example-alias\").text(e),j(\".rs-dialog-embed-slider\").find(\".rs-example-alias-1\").text('{{block class=\"Nwdthemes\\\\Revslider\\\\Block\\\\Revslider\" alias=\"'+e+'\"}}'),j(\".rs-dialog-embed-slider\").dialog({modal:!0,resizable:!1,minWidth:850,minHeight:300,closeOnEscape:!0,dialogClass:\"tpdialogs\",create:function(e){j(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")}})}),j(\".export_slider_standalone\").click(function(){var e=this.id.replace(\"export_slider_standalone_\",\"\"),t=ajaxurl+I.return_ajaxurl_param()+\"action=\"+g_uniteDirPlugin+\"_ajax_action&client_action=preview_slider&only_markup=true&dummy=\"+!1+\"&nonce=\"+g_revNonce;t+=\"&sliderid=\"+e,location.href=t})};var p=function(e){var t=j(\"#rs-preview-form\");j(\"#rs-client-action\").val(\"preview_slider\"),j(\"#preview_sliderid\").val(e),j(\"#preview_slider_markup\").val(\"false\"),t.submit(),j(\"#rs-preview-wrapper\").show(),j(window).trigger(\"resize\")},u=function(e,i){var t,a=(t=[],e.find(\".icon_slide_lang\").each(function(){var e=j(this).data(\"lang\");t.push(e)}),t),s=0;return j(\"#langs_float_wrapper li.item_lang\").each(function(){var e=j(this),t=e.data(\"lang\");j.inArray(t,a);\"add\"!=i&&j(\"#langs_float_wrapper li.operation_sap\").hide(),-1==j.inArray(t,a)?(s++,e.show(),\"add\"!=i&&j(\"#langs_float_wrapper li.operation_sap\").show()):e.hide()}),s};s.initSlidesListViewPosts=function(t){f(t),j(\"#select_sortby\").change(function(){j(\"#slides_top_loader\").show();var e={};e.sliderID=t,e.sortby=j(this).val(),I.ajaxRequest(\"update_posts_sortby\",e,function(){j(\"#slides_top_loader\").html(\"Updated, reloading page...\"),location.reload(!0)})}),j(\".button_delete_slide\").click(function(){var e={slideID:j(this).data(\"slideid\"),sliderID:t};if(0==confirm(g_messageDeleteSlide))return!1;I.ajaxRequest(\"delete_slide\",e)})};var f=function(s){j(\"#list_slides\").sortable({axis:\"y\",handle:\".col-handle\",update:function(){!function(e){var t=j(\"#list_slides\").sortable(\"toArray\"),a=[],s=0;j(t).each(function(e,t){var i=t.replace(\"slidelist_item_\",\"\");a.push(i),s++,j(\"#slidelist_item_\"+i+\" .order-text\").text(s)});var i={arrIDs:a,sliderID:e};j(\"#saving_indicator\").show(),I.ajaxRequest(\"update_slides_order\",i,function(){j(\"#saving_indicator\").hide()}),j(\"#select_sortby\").val(\"menu_order\")}(s)}}),j(\"#list_slides .icon_state\").click(function(){var t=j(this),i=t.siblings(\".state_loader\"),e=t.data(\"slideid\"),a={slider_id:s,slide_id:e};t.hide(),i.show(),I.ajaxRequest(\"toggle_slide_state\",a,function(e){t.show(),i.hide(),\"published\"==e.state?t.removeClass(\"state_unpublished\").addClass(\"state_published\").prop(\"title\",\"Unpublish Slide\"):t.removeClass(\"state_published\").addClass(\"state_unpublished\").prop(\"title\",\"Publish Slide\")})}),j(\".col-image .slide_image\").click(function(){var a=this.id.replace(\"slide_image_\",\"\");I.openAddImageDialog(g_messageChangeImage,function(e,t){var i={slider_id:s,slide_id:a,url_image:e,image_id:t};I.ajaxRequest(\"change_slide_image\",i)})}).tipsy({gravity:\"s\",delayIn:70})};s.initSlidesListView=function(o){f(o),j(\"#button_new_slide, #button_new_slide_top\").click(function(){var e=j(\"#button_new_slide\").data(\"dialogtitle\");I.openAddImageDialog(e,function(e){var t={sliderid:o,obj:e};I.ajaxRequest(\"add_slide\",t)},!0)}),j(\"#button_new_slide_transparent, #button_new_slide_transparent_top\").click(function(){j(this).hide(),j(\".new_trans_slide_loader\").show();var e={sliderid:o};I.ajaxRequest(\"add_slide\",e)}),j(\".button_duplicate_slide\").click(function(){var e={slideID:this.id.replace(\"button_duplicate_slide_\",\"\"),sliderID:o};I.ajaxRequest(\"duplicate_slide\",e)}),j(\".button_copy_slide\").click(function(){if(j(this).hasClass(\"button-disabled\"))return!1;var e=j(\"#dialog_copy_move\"),t=(e.data(\"textclose\"),e.data(\"textupdate\")),l=j(this),i={};i[t]=function(){var e=l.attr(\"id\").replace(\"button_copy_slide_\",\"\"),t=j(\"#selectSliders\").val(),i=\"copy\";j(\"#radio_move\").prop(\"checked\")&&(i=\"move\");var a={slideID:e,sliderID:o,targetSliderID:t,operation:i},s=l.siblings(\".loader_copy\");l.hide(),s.show(),I.ajaxRequest(\"copy_move_slide\",a),j(this).dialog(\"close\")},j(\"#dialog_copy_move\").dialog({modal:!0,resizable:!1,width:400,height:300,closeOnEscape:!0,create:function(e){j(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")},dialogClass:\"tpdialogs\",buttons:i})}),j(\".button_delete_slide\").click(function(){var e={slideID:j(this).data(\"slideid\"),sliderID:o};if(0==confirm(\"Delete this slide?\"))return!1;var t=j(this),i=t.siblings(\".loader_delete\");t.hide(),i.show(),I.ajaxRequest(\"delete_slide\",e)}),j(\"#list_slides .icon_slide_preview\").click(function(){var e=j(this).data(\"slideid\");h(e,!1)})},s.saveEditSlide=function(e,t){t||(t=!1),z.updateZIndexByOrder(),R.setRowZoneOrders(),z.organiseGroupsAndLayer();var i=R.getLayers(),a={};for(key in i)i.hasOwnProperty(key)&&!0!==i[key].layer_unavailable&&!0!==i[key].deleted&&(a[key]=I.duplicateObject(i[key]),void 0!==a[key].layer_unavailable&&delete a[key].layer_unavailable,void 0!==a[key].deleted&&delete a[key].deleted,void 0!==a[key].references&&delete a[key].references,void 0!==a[key].createdOnInit&&delete a[key].createdOnInit);JSON&&JSON.stringify&&(a=JSON.stringify(a));var l={slideid:e,layers:a};if(l.params=S.getSettingsObject(\"form_slide_params\"),!t){l.params.slide_bg_color=j(\"#slide_bg_color\").val(),l.params.slide_bg_external=j(\"#slide_bg_external\").val(),l.params.bg_fit=j(\"#slide_bg_fit\").val(),l.params.bg_fit_x=j(\"input[name='bg_fit_x']\").val(),l.params.bg_fit_y=j(\"input[name='bg_fit_y']\").val(),l.params.bg_repeat=j(\"#slide_bg_repeat\").val(),l.params.bg_position=j(\"#slide_bg_position\").val(),l.params.bg_position_x=j(\"input[name='bg_position_x']\").val(),l.params.bg_position_y=j(\"input[name='bg_position_y']\").val(),l.params.bg_end_position_x=j(\"input[name='bg_end_position_x']\").val(),l.params.bg_end_position_y=j(\"input[name='bg_end_position_y']\").val();var s=g();if(\"object\"==typeof s&&!j.isEmptyObject(s))for(key in s)s.hasOwnProperty(key)&&(l.params[key]=s[key]);l.params.kenburn_effect=j(\"input[name='kenburn_effect']\").is(\":checked\")?\"on\":\"off\",l.params.kb_start_fit=j(\"input[name='kb_start_fit']\").val(),l.params.kb_end_fit=j(\"input[name='kb_end_fit']\").val(),l.params.bg_end_position=j(\"select[name='bg_end_position']\").val(),l.params.kb_duration=j(\"input[name='kb_duration']\").val(),l.params.kb_easing=j(\"select[name='kb_easing']\").val(),l.params.slide_transition=[],l.params.slot_amount=[],l.params.transition_rotation=[],l.params.transition_duration=[],l.params.transition_ease_in=[],l.params.transition_ease_out=[],j(\".slide-trans-cur-ul li\").each(function(){l.params.slide_transition.push(j(this).data(\"animval\")),l.params.slot_amount.push(j(this).data(\"slot\")),l.params.transition_rotation.push(j(this).data(\"rotation\")),l.params.transition_duration.push(j(this).data(\"duration\")),l.params.transition_ease_in.push(j(this).data(\"ease_in\")),l.params.transition_ease_out.push(j(this).data(\"ease_out\"))});var o=j(\".bgsrcchanger:checked\").val();if((\"vimeo\"==o||\"html5\"==o||\"youtube\"==o)&&!(void 0!==l.params.image_id&&0!=parseInt(l.params.image_id)&&\"\"!=l.params.image_id||void 0!==l.params.image_url&&\"\"!=l.params.image_url))return alert(q.cover_image_needs_to_be_set),!1;switch(j('input[name=\"rs-gallery-type\"]').val()){case\"gallery\":break;case\"posts\":case\"woocommerce\":case\"facebook\":case\"twitter\":case\"instagram\":case\"flickr\":case\"youtube\":case\"vimeo\":l.params.image_url=\"\"}}l.settings={};var r=[];j(\"#hor-css-linear .helplines\").each(function(){r.push(j(this).css(\"left\"))});var n=[];j(\"#ver-css-linear .helplines\").each(function(){n.push(j(this).css(\"top\"))}),l.settings.hor_lines=r,l.settings.ver_lines=n,j.each(R.addon_callbacks,function(e,t){var i=t.callback,a=t.environment,s=t.function_position;\"saveEditSlide\"===a&&\"data\"==s&&(l=i(l))}),l.obj_favorites=favoriteObjectsList,t?(I.setAjaxHideButtonID(\"button_save_static_slide,button_save_static_slide-tb\"),I.setAjaxLoaderID(\"loader_update\"),I.setSuccessMessageID(\"update_slide_success\"),I.ajaxRequest(\"update_static_slide\",l)):(I.setAjaxHideButtonID(\"button_save_slide,button_save_slide-tb\"),I.setAjaxLoaderID(\"loader_update\"),I.setSuccessMessageID(\"update_slide_success\"),I.ajaxRequest(\"update_slide\",l))},this.initEditSlideView=function(t,_,i){j(\"body\").on(\"click\",\".rs-reload-shop\",function(){confirm(q.unsaved_data_will_be_lost_proceed)&&(O({fadeIn:300,text:q.please_wait_a_moment}),location.href=window.location.href+(-1==window.location.href.indexOf(\"?\")?\"?\":\"&\")+\"update_shop\")}),j(\"body\").on(\"click\",\".install_template_slide\",function(){var e=j(this);if(j(\"#import_dialog_box\").data(\"requested_slide\",e.data(\"title\")),e.hasClass(\"deny_download\"))return alert(q.this_template_requires_version+\" \"+e.data(\"versionneed\")+\" \"+q.of_slider_revolution),!1;confirm(q.unsaved_data_will_be_lost_proceed)&&(j(\".rs-zip-name\").text(e.data(\"zipname\")),j(\".rs-uid\").val(e.data(\"uid\")),j(\".rs-slide-number\").val(e.data(\"slidenumber\")),j(\".rs-slider-id\").val(_),i?j(\".rs-slide-id\").val(\"static_\"+_):j(\".rs-slide-id\").val(t),j(\"#dialog_import_template_slide_from\").dialog({modal:!0,resizable:!1,dialogClass:\"tpdialogs\",create:function(e){j(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")},buttons:{Local:function(){j(\".input_import_slider\").val(\"\"),j(\".rs-import-slider-button\").hide(),j(\"#dialog_import_template_slide\").dialog({modal:!0,resizable:!1,width:600,height:350,closeOnEscape:!0,dialogClass:\"tpdialogs\",create:function(e){j(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")},buttons:{Close:function(){j(this).dialog(\"close\")}}})},Online:function(){rs_plugin_validated?(O({fadeIn:300,text:q.please_wait_a_moment}),a(),j(\"#rs-import-slide-template-from-server\").submit(),j(this).dialog(\"close\")):alert(q.this_feature_only_if_activated)}}}),j(\"#close-template\").click())}),j(\"#dialog_import_template_slide\").submit(function(e){a()});var a=function(){j(\"#import_dialog_box\").html(\"\"),j(\"#dialog_import_template_slide_info\").dialog({modal:!0,resizable:!1,width:450,minHeight:350,open:function(e,t){var i=j(e.target).parent(),a=i.find(\".ui-dialog-titlebar\");i.attr(\"id\",\"tp_import_sliders\"),a.attr(\"id\",\"tp_import_sliders_title\"),installclosebutton=j(\".ui-dialog-titlebar-close\",t.dialog),j(\".ui-dialog-titlebar-close\",t.dialog).hide()}});var e=0;j(\"#import_dialog_box\").append(j(\"#import_dialog_box\").data(\"requested_slide\"));var t=setInterval(function(){60==++e&&j(\"#import_dialog_box_action\").append(q.download_install_takes_longer),90==e&&(j(\"#import_dialog_box\").append(q.download_failed_check_server),j(\"#import_dialog_box\").append(\"<div>\"+q.aborting_import+\"</div>\"),j(\"#import_dialog_box_action\").html(\"\"),clearInterval(t))},1e3)};j(\".tp-accordion\").click(function(){var e=j(this);e.hasClass(\"tpa-closed\")?(e.parent().parent().parent().find(\".tp-closeifotheropen\").each(function(){j(this).slideUp(300),j(this).parent().find(\".tp-accordion\").addClass(\"tpa-closed\").addClass(\"box_closed\").find(\".postbox-arrow2\").html(\"+\")}),e.parent().find(\".toggled-content\").slideDown(300),e.removeClass(\"tpa-closed\").removeClass(\"box_closed\"),e.find(\".postbox-arrow2\").html(\"-\")):(e.parent().find(\".toggled-content\").slideUp(300),e.addClass(\"tpa-closed\").addClass(\"box_closed\"),e.find(\".postbox-arrow2\").html(\"+\"))}),j(\".mw960\").each(function(){var e=j(\"#divLayers\").width();e<960&&(e=960),j(this).css({maxWidth:e+\"px\"})}),j(\"#button_sort_depth\").on(\"click\",function(){j(\".layer_sortbox\").addClass(\"depthselected\"),j(\".layer_sortbox\").removeClass(\"timeselected\")}),j(\"#button_sort_time\").on(\"click\",function(){j(\".layer_sortbox\").removeClass(\"depthselected\"),j(\".layer_sortbox\").addClass(\"timeselected\")}),j(\"#link_add_slide\").click(function(){var e={sliderid:_};j(\"#loader_add_slide\").show(),I.ajaxRequest(\"add_slide_fromslideview\",e)}),j(\"#link_add_bulk_slide\").click(function(){I.openAddImageDialog(q.add_bulk_slides,function(e){var t={sliderid:_,obj:e};I.ajaxRequest(\"add_bulk_slide\",t)},!0)}),j(\"body\").on(\"click\",\".add_template_slide_item, .add_user_template_slide_item\",function(){if(confirm(q.unsaved_data_will_be_lost_proceed)){var e={slider_id:_};e.slide_id=j(this).data(\"slideid\"),e.redirect_id=i?\"static_\"+_:t,I.ajaxRequest(\"copy_slide_to_slider\",e,function(){j(\"#close-template\").click()})}}),j(\"body\").on(\"click\",\".delete_user_template_slide_item\",function(){if(confirm(q.delete_user_slide)){var e={slider_id:_};e.slide_id=j(this).data(\"slideid\"),j(this).closest(\".template_group_wrappers\").remove(),I.ajaxRequest(\"delete_template_slide\",e,function(){})}}),j(\"#button_save_slide\").click(function(){s.saveEditSlide(t),R.set_save_needed(!1)}),j(\"#button_save_slide-tb\").click(function(){s.saveEditSlide(t),R.set_save_needed(!1)}),j(\"#button_save_static_slide\").click(function(){s.saveEditSlide(t,!0),R.set_save_needed(!1)}),j(\"#button_save_static_slide-tb\").click(function(){s.saveEditSlide(t,!0),R.set_save_needed(!1)}),j(\"#button_change_image\").click(function(){I.openAddImageDialog(q.select_slide_img,function(e,t){null==t&&(t=\"\"),j(\"#divbgholder\").css(\"background-image\",\"url(\"+e+\")\"),j(\"#slide_selector .list_slide_links li.selected .slide-media-container \").css(\"background-image\",\"url(\"+e+\")\"),j(\"#image_url\").val(e),j(\"#image_id\").val(t),R.changeSlotBGs(),j(\".bgsrcchanger:checked\").click(),j('input[name=\"kenburn_effect\"]').is(\":checked\")&&j('input[name=\"kb_start_fit\"]').change()})}),j(\".button_change_video\").click(function(){var i=j(this).data(\"inptarget\");j(\".ui-dialog.ui-widget:visible,.ui-widget-overlay:visible\").addClass(\"temporaryHidden\").hide(),I.openAddVideoDialog(q.select_slide_video,function(e,t){j(\".temporaryHidden\").removeClass(\"temporaryHidden\").show(),j('input[name=\"'+i+'\"]').val(e),j(\"#\"+i).trigger(\"change\")})}),j(\"#link_hide_options\").click(function(){1==j(\"#slide_params_holder\").is(\":visible\")?(j(\"#slide_params_holder\").hide(\"slow\"),j(this).text(q.show_slide_opt).addClass(\"link-selected\")):(j(\"#slide_params_holder\").show(\"slow\"),j(this).text(q.hide_slide_opt).removeClass(\"link-selected\"))}),j(\"#button_preview_slide\").click(function(){h(t,!0)}),j(\"#button_preview_slide-tb\").click(function(){h(t,!0)}),j(\"#radio_back_image, #radio_back_trans, #radio_back_solid, #radio_back_external, #radio_back_youtube, #radio_back_htmlvideo\").click(function(){var e=j(\"#background_type\").val(),t=j(this).data(\"bgtype\");if(e==t)return!0;\"image\"==t?j(\"#button_change_image\").removeClass(\"button-disabled\"):j(\"#button_change_external\").addClass(\"button-disabled\"),\"solid\"==t?j(\"#slide_bg_color\").removeClass(\"disabled\").prop(\"disabled\",\"\"):j(\"#slide_bg_color\").addClass(\"disabled\").prop(\"disabled\",\"disabled\"),\"external\"==t?(j(\"#slide_bg_external\").removeClass(\"disabled\").prop(\"disabled\",\"\"),j(\"#button_change_image\").removeClass(\"button-disabled\"),j(\"#button_change_external\").removeClass(\"button-disabled\")):(j(\"#slide_bg_external\").addClass(\"disabled\").prop(\"disabled\",\"disabled\"),j(\"#button_change_external\").addClass(\"button-disabled\")),j(\"#background_type\").val(t),m(t)}),j(\"#button_change_external\").click(function(){var e=j(\"#radio_back_external:checked\").data(\"bgtype\");\"external\"==e&&(j(\"#slide_bg_external\").removeClass(\"disabled\").prop(\"disabled\",\"\"),j(\"#button_change_image\").removeClass(\"button-disabled\"),m(e),j('input[name=\"kenburn_effect\"]').is(\":checked\")&&j('input[name=\"kb_start_fit\"]').change(),R.changeSlotBGs())}),I.setColorPickerCallback(function(){if(\"solid\"==j(\"#background_type\").val()){var e=j(\"#slide_bg_color\").val();j(\"#divbgholder\").css(\"background-color\",e),j(\"#slide_selector .list_slide_links li.selected .slide-media-container \").css({backgroundColor:e})}}),j(\"#title\").on(\"input\",function(e){j(\".slide_title\").text(j(\"#title\").val())}),j(\".list_slide_links\").sortable({items:\"li:not(.eg-drag-disabled)\",update:function(){e(_)}});var e=function(e){var t=j(\".list_slide_links\").sortable(\"toArray\"),a=[];j(t).each(function(e,t){var i=t.replace(\"slidelist_item_\",\"\");a.push(i)});var i={arrIDs:a,sliderID:e};j(\"#loader_add_slide\").show(),I.ajaxRequest(\"update_slides_order\",i,function(){j(\"#loader_add_slide\").hide()})};j(\".inputDatePicker\").datepicker({dateFormat:\"dd-mm-yy 00:00\"}),j(\"#button_delete_slide\").click(function(){var e={slideID:t,sliderID:_};if(0==confirm(g_messageDeleteSlide))return!1;I.ajaxRequest(\"delete_slide\",e)}),\"false\"==j('input[name=\"load_googlefont\"]:checked').val()&&(j(\"#load_googlefont_row\").siblings(\".spanSettingsStaticText\").remove(),j(\"#load_googlefont_row\").remove(),j(\"#google_font_row\").remove(),j(\"#load_googlefont\").closest(\".postbox.unite-postbox\").hide()),j(\"body\").on(\"click\",\".slide-remove\",function(){var e=j(this).closest(\"li\").attr(\"id\").replace(\"slidelist_item_\",\"\"),t={slideID:e,sliderID:_};if(0==confirm(\"Delete this slide?\"))return!1;var i=j(this),a=i.siblings(\".loader_delete\");i.hide(),a.show();var s=j(this).closest(\"li\"),l=curSlideID==e?\"delete_slide\":\"delete_slide_stay\";I.ajaxRequest(l,t,function(e){s.remove()})}),j(\"body\").on(\"click\",\".slide-published.pubclickable, .slide-unpublished.pubclickable\",function(){var t=j(this).closest(\"li\"),i=t.attr(\"id\").replace(\"slidelist_item_\",\"\"),e={slider_id:_,slide_id:i};return objButton=j(this),t.find(\".slide-published\").fadeOut(200),t.find(\".slide-unpublished\").fadeOut(200),I.ajaxRequest(\"toggle_slide_state\",e,function(e){\"published\"==e.state?(t.find(\".slide-published\").removeClass(\"pubclickable\").fadeIn(200),t.find(\".slide-unpublished\").addClass(\"pubclickable\").fadeIn(200),curSlideID==i&&j('select[name=\"state\"] option[value=\"published\"]').attr(\"selected\",!0)):(t.find(\".slide-published\").addClass(\"pubclickable\").fadeIn(200),t.find(\".slide-unpublished\").removeClass(\"pubclickable\").fadeIn(200),curSlideID==i&&j('select[name=\"state\"] option[value=\"unpublished\"]').attr(\"selected\",!0))}),!1}),j(\"body\").on(\"click\",\".slide-hero-unpublished.pubclickable\",function(){var t=j(this).closest(\"li\"),i=j(this).closest(\"ul\"),e=t.attr(\"id\").replace(\"slidelist_item_\",\"\"),a={slider_id:_,slide_id:e};return objButton=j(this),I.ajaxRequest(\"toggle_hero_slide\",a,function(e){i.find(\".slide-hero-published\").removeClass(\"slide-hero-published\").addClass(\"slide-hero-unpublished\").addClass(\"pubclickable\"),t.find(\".slide-hero-unpublished\").removeClass(\"pubclickable\").removeClass(\"slide-hero-unpublished\").addClass(\"slide-hero-published\")}),!1}),j(\"body\").on(\"click\",\".slide-duplicate\",function(){var s=j(this).closest(\"li\"),l=s.attr(\"id\").replace(\"slidelist_item_\",\"\"),o=j(this);o.hide();var e={slideID:l,sliderID:_};I.ajaxRequest(\"duplicate_slide_stay\",e,function(e){if(o.show(),1==e.success){var t=s.clone(!0).insertAfter(s);t.attr(\"id\",\"slidelist_item_\"+e.id),t.hasClass(\"selected\")&&(t.removeClass(\"selected\"),j('<a href=\"#\" class=\"slide-link-toolbar-button slide-moveto\"><span class=\"\"><i class=\"eg-icon-forward\"></i><span>'+q.copy_move+\"</span></span></a>\").insertAfter(t.find(\".slide-remove\")));var i=t.find(\"a\").first().attr(\"href\");i=\"javascript:void(0)\"==i?\"?page=revslider&view=slide&id=\"+e.id:i.replace(\"id=\"+l,\"id=\"+e.id),t.find(\"a\").first().attr(\"href\",i);var a=0;j(\".list_slide_links li\").each(function(){j(this).find(\".slide-link-nr\").text(\"#\"+a),a++})}})}),j(\"body\").on(\"click\",\".slide-moveto\",function(){var s=j(this).closest(\"li\"),l=j(this),e=j(\"#dialog_copy_move\"),t=(e.data(\"textclose\"),e.data(\"textupdate\")),i=(l=j(this),{});i[t]=function(){var e=s.attr(\"id\").replace(\"slidelist_item_\",\"\"),t=j(\"#selectSliders\").val(),i=\"copy\";(j(\"#radio_move\").prop(\"checked\")||1==j(\"#radio_move\").prop(\"checked\"))&&(i=\"move\");var a={slideID:e,sliderID:_,targetSliderID:t,operation:i};l.siblings(\".loader_copy\");l.hide(),I.ajaxRequest(\"copy_move_slide_stay\",a,function(e){l.show(),\"move\"==i&&s.remove()}),j(this).dialog(\"close\")},j(\"#dialog_copy_move\").dialog({modal:!0,resizable:!1,width:400,height:300,closeOnEscape:!0,dialogClass:\"tpdialogs\",create:function(e){j(e.target).parent().find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")},buttons:i})}),j(\"body\").on(\"click\",\".slide-add-as-template\",function(){if(confirm(q.unsaved_changes_will_not_be_added)){var e=j(this).closest(\"li\"),t=prompt(q.please_enter_a_slide_title,e.find(\".slidetitleinput\").val()),i=j('input[name=\"rs-grid-width\"]').val(),a=j('input[name=\"rs-grid-height\"]').val(),s=e.attr(\"id\").replace(\"slidelist_item_\",\"\"),l={width:i,height:a};if(null!=t){var o=j(this);o.hide();var r={slideID:s,title:t,settings:l};I.ajaxRequest(\"add_slide_to_template\",r,function(e){o.show(),j(\"#template_area\").replaceWith(e.HTML),templateSelectorHandling()})}}}),j(\"#rev_lang_list\").delegate(\".icon_slide_lang, .icon_slide_lang_add\",\"click\",function(e){e.stopPropagation();var t=I.getAbsolutePos(this),i=t[0]-135,a=t[1]-60,s=j(this),l=s.data(\"operation\"),o=s.data(\"isparent\");\"add\"==l?j(\"#langs_float_wrapper .item_operation\").hide():(j(\"#langs_float_wrapper .item_operation\").show(),1==o&&j(\"#langs_float_wrapper .item_operation.operation_delete\").hide());var r=s.parents(\".list_slide_icons\");u(r,l),j(\"#langs_float_wrapper\").show().css({left:i,top:a}),j(\"#langs_float_wrapper\").data(\"iconid\",this.id)}),j(\"body\").click(function(){j(\"#langs_float_wrapper\").hide()}),j(\"#slides_langs_float li a\").click(function(){var e=j(this),t=e.data(\"lang\"),i=j(\"#langs_float_wrapper\").data(\"iconid\");if(!i)return!0;var a=j(\"#\"+i),s=a.parents(\".list_slide_icons\"),l=e.data(\"operation\");null!=l&&l||(l=a.data(\"operation\")),null!=l&&l||(l=\"update\");var o=a.data(\"lang\"),r=a.data(\"slideid\"),n=a.data(\"origid\");if(o==t)return!0;if(\"preview\"!=l&&(a.siblings(\".icon_lang_loader\").show(),a.hide()),\"edit\"==l){var d=g_patternViewSlide.replace(\"[slideid]\",r);return location.href=d,!0}if(\"preview\"==l)return p(_),!0;\"delete\"!=l&&\"update\"!=l||(n=r);var c={sliderid:_,slideid:n,lang:t,operation:l};I.ajaxRequest(\"slide_lang_operation\",c,function(e){switch(a.siblings(\".icon_lang_loader\").hide(),e.operation){case\"update\":a.attr(\"src\",e.url_icon),a.attr(\"title\",e.title),a.data(\"lang\",t),a.show(),n==curSlideID&&(j('select[name=\"lang\"] option[value=\"'+t+'\"]').attr(\"selected\",!0),j('select[name=\"lang\"]').change());break;case\"add\":a.show(),a.parent().before(e.html),1==e.isAll&&s.find(\".icon_slide_lang_add\").hide();break;case\"delete\":a.parent().remove(),s.find(\".icon_slide_lang_add\").show()}})}),j(\".tp-moderncheckbox\").each(function(){S.onoffStatus(j(this))}),S.onoffStatus(j('input[name=\"hideslideonmobile\"]')),S.onoffStatus(j('input[name=\"stream_do_cover\"]')),S.onoffStatus(j('input[name=\"stream_do_cover_both\"]')),S.onoffStatus(j('input[name=\"kenburn_effect\"]')),S.onoffStatus(j('input[name=\"save_performance\"]')),S.onoffStatus(j('input[name=\"video_force_cover\"]')),S.onoffStatus(j('input[name=\"video_nextslide\"]')),S.onoffStatus(j('input[name=\"video_allowfullscreen\"]')),S.onoffStatus(j('input[name=\"video_force_rewind\"]')),S.onoffStatus(j('input[name=\"video_mute\"]')),S.onoffStatus(j('input[name=\"thumb_for_admin\"]')),j(\"#video_force_cover\").change(function(){j(this).is(\":checked\")?j(\"#video_dotted_overlay_wrap\").show():j(\"#video_dotted_overlay_wrap\").hide()}),j(\"#video_force_cover\").change()};var h=function(e,t){void 0===t&&(t=!0);var i=j(\"#rs-preview-form\"),a={slideid:e};if(1==t){a.params=S.getSettingsObject(\"form_slide_params\"),a.params.slide_bg_color=j(\"#slide_bg_color\").val(),a.params.slide_bg_external=j(\"#slide_bg_external\").val(),a.params.bg_fit=j(\"#slide_bg_fit\").val(),a.params.bg_fit_x=j(\"input[name='bg_fit_x']\").val(),a.params.bg_fit_y=j(\"input[name='bg_fit_y']\").val(),a.params.bg_repeat=j(\"#slide_bg_repeat\").val(),a.params.bg_position=j(\"#slide_bg_position\").val(),a.params.bg_position_x=j(\"input[name='bg_position_x']\").val(),a.params.bg_position_y=j(\"input[name='bg_position_y']\").val(),a.params.bg_end_position_x=j(\"input[name='bg_end_position_x']\").val(),a.params.bg_end_position_y=j(\"input[name='bg_end_position_y']\").val(),a.params.kenburn_effect=j(\"input[name='kenburn_effect']\").is(\":checked\")?\"on\":\"off\",a.params.kb_start_fit=j(\"input[name='kb_start_fit']\").val(),a.params.kb_end_fit=j(\"input[name='kb_end_fit']\").val(),a.params.bg_end_position=j(\"select[name='bg_end_position']\").val(),a.params.kb_duration=j(\"input[name='kb_duration']\").val(),a.params.kb_easing=j(\"select[name='kb_easing']\").val();var s=R.getLayers(),l={};for(key in s)s.hasOwnProperty(key)&&!0!==s[key].layer_unavailable&&!0!==s[key].deleted&&(l[key]=I.duplicateObject(s[key]),void 0!==l[key].layer_unavailable&&delete l[key].layer_unavailable,void 0!==l[key].deleted&&delete l[key].deleted,void 0!==l[key].references&&delete l[key].references,void 0!==l[key].createdOnInit&&delete l[key].createdOnInit);a.layers=l}var o=JSON.stringify(a);j(\"#preview-slide-data\").val(o),j(\"#rs-client-action\").val(\"preview_slide\"),i.submit(),j(\"#rs-preview-wrapper\").show(),j(window).trigger(\"resize\")},m=function(e){switch(e){case\"image\":var t=j(\"#image_url\").val();j(\"#divbgholder\").css(\"background-image\",\"url('\"+t+\"')\"),j(\"#divbgholder\").css(\"background-color\",\"transparent\"),j(\"#divbgholder\").removeClass(\"trans_bg\"),j('input[name=\"kenburn_effect\"]').is(\":checked\")&&j('input[name=\"kb_start_fit\"]').change();break;case\"trans\":j(\"#divbgholder\").css(\"background-image\",\"none\"),j(\"#divbgholder\").css(\"background-color\",\"transparent\"),j(\"#divbgholder\").addClass(\"trans_bg\");break;case\"solid\":j(\"#divbgholder\").css(\"background-image\",\"none\"),j(\"#divbgholder\").removeClass(\"trans_bg\");var i=j(\"#slide_bg_color\").val();j(\"#divbgholder\").css(\"background-color\",i),j(\"#slide_selector .list_slide_links li.selected .slide-media-container \").css({backgroundColor:i});break;case\"external\":t=j(\"#slide_bg_external\").val();j(\"#divbgholder\").css(\"background-image\",\"url('\"+t+\"')\"),j(\"#divbgholder\").css(\"background-color\",\"transparent\"),j(\"#divbgholder\").removeClass(\"trans_bg\"),j('input[name=\"kenburn_effect\"]').is(\":checked\")&&j('input[name=\"kb_start_fit\"]').change();break;case\"youtube\":case\"html5\":t=j(\"#image_url\").val();j(\"#divbgholder\").css(\"background-image\",\"url('\"+t+\"')\"),j(\"#divbgholder\").css(\"background-color\",\"transparent\"),j(\"#divbgholder\").removeClass(\"trans_bg\")}},g=function(){var e=new Object;return e.bg_fit=j(\"#slide_bg_fit\").val(),\"percentage\"==e.bg_fit&&(e.bg_fit_x=j('input[name=\"bg_fit_x\"]').val(),e.bg_fit_y=j('input[name=\"bg_fit_y\"]').val()),e.bg_position=j(\"#slide_bg_position\").val(),\"percentage\"==e.bg_position&&(e.bg_position_x=j('input[name=\"bg_position_x\"]').val(),e.bg_position_y=j('input[name=\"bg_position_y\"]').val()),e.bg_end_position=j(\"#slide_bg_end_position\").val(),\"percentage\"==e.bg_end_position&&(e.bg_end_position_x=j('input[name=\"bg_end_position_x\"]').val(),e.bg_end_position_y=j('input[name=\"bg_end_position_y\"]').val()),e.bg_repeat=j(\"#slide_bg_repeat\").val(),e},v=null,b=null,w=null,k=null,y=null;s.setStaticCssCaptionsUrl=function(e){y=e},s.getUrlStaticCssCaptions=function(){return y},s.initGlobalStyles=function(){x(),C()},s.setCodeMirrorStaticEditor=function(){b=D.fromTextArea(document.getElementById(\"textarea_edit_static\"),{lineNumbers:!0})},s.setCodeMirrorSliderEditor=function(){w=D.fromTextArea(document.getElementById(\"textarea_show_slider_styles\"),{lineNumbers:!0})},s.setCodeMirrorSliderEditorJS=function(){k=D.fromTextArea(document.getElementById(\"textarea_show_slider_javascript\"),{lineNumbers:!0})},s.setCodeMirrorDynamicEditor=function(){null!=document.getElementById(\"textarea_show_dynamic_styles\")&&(v=D.fromTextArea(document.getElementById(\"textarea_show_dynamic_styles\"),{lineNumbers:!0,readOnly:!0}))};var x=function(){j(\"#css-static-accordion\").accordion({heightStyle:\"content\",activate:function(e,t){null!=w&&w.refresh(),null!=k&&k.refresh(),null!=b&&b.refresh(),null!=v&&v.refresh()}})},C=function(){j(\"#button_edit_css_global\").click(function(){j(\"#css-static-accordion\").accordion({active:1}),I.ajaxRequest(\"get_slider_custom_css_js\",{slider_id:curSliderID},function(e){var t=e.css,i=e.js;null!=w?w.setValue(t):(j(\"#textarea_show_slider_styles\").val(t),setTimeout(function(){B.setCodeMirrorSliderEditor()},500)),null!=k?k.setValue(i):(j(\"#textarea_show_slider_javascript\").val(i),setTimeout(function(){B.setCodeMirrorSliderEditorJS()},500))},!1),I.ajaxRequest(\"get_static_css\",\"\",function(e){var t=e.data;null!=b?b.setValue(t):(j(\"#textarea_edit_static\").val(t),setTimeout(function(){B.setCodeMirrorStaticEditor()},500))}),I.ajaxRequest(\"get_dynamic_css\",\"\",function(e){var t=e.data;null!=v?v.setValue(t):(j(\"#textarea_show_dynamic_styles\").val(t),setTimeout(function(){B.setCodeMirrorDynamicEditor()},500))}),j(\"#css_slider_editor_wrap\").dialog({modal:!0,dialogClass:\"tpdialogs\",resizable:!1,minWidth:1024,minHeight:500,closeOnEscape:!0,create:function(e){},open:function(){j(this).closest(\".ui-dialog\").addClass(\"tp-css-editor-dialog\"),j(this).closest(\".ui-dialog\").find(\".ui-dialog-titlebar\").addClass(\"tp-slider-new-dialog-title\")},buttons:{Save:function(){var e={};e.css=null!=w?w.getValue():j(\"#textarea_show_slider_styles\").val(),e.js=null!=k?k.getValue():j(\"#textarea_show_slider_javascript\").val(),e.slider_id=curSliderID,I.ajaxRequest(\"update_slider_custom_css_js\",e,function(e){}),j(this).dialog(\"close\")}}})}),j(\".show_global_styles\").click(function(){x(),j(\"#css_static_editor_wrap\").dialog({modal:!0,resizable:!1,minWidth:1224,minHeight:600,closeOnEscape:!0,dialogClass:\"tpdialogs tp-css-editor-dialog tp-depricated-dialog\",buttons:{\"Empty Global Styles\":function(){if(!confirm(q.really_clear_global_styles))return!1;data=\"\",I.ajaxRequest(\"update_static_css\",data,function(e){null!=b?b.setValue(\"\"):j(\"#textarea_edit_static\").val(\"\")})},Cancel:function(){j(this).dialog(\"close\")}}})})}};return B});","Nwdthemes_Revslider/admin/assets/js/codemirror/rs_codemirror.js":"require(['codemirror', 'cmMatchHighlighter', 'cmSearchCursor', 'cmCss', 'cmXml'], function(CodeMirror) {\r\n});","Nwdthemes_Revslider/admin/assets/js/codemirror/css.js":"CodeMirror.defineMode(\"css\", function(config) {\r\n  var indentUnit = config.indentUnit, type;\r\n  \r\n  var atMediaTypes = keySet([\r\n    \"all\", \"aural\", \"braille\", \"handheld\", \"print\", \"projection\", \"screen\",\r\n    \"tty\", \"tv\", \"embossed\"\r\n  ]);\r\n  \r\n  var atMediaFeatures = keySet([\r\n    \"width\", \"min-width\", \"max-width\", \"height\", \"min-height\", \"max-height\",\r\n    \"device-width\", \"min-device-width\", \"max-device-width\", \"device-height\",\r\n    \"min-device-height\", \"max-device-height\", \"aspect-ratio\",\r\n    \"min-aspect-ratio\", \"max-aspect-ratio\", \"device-aspect-ratio\",\r\n    \"min-device-aspect-ratio\", \"max-device-aspect-ratio\", \"color\", \"min-color\",\r\n    \"max-color\", \"color-index\", \"min-color-index\", \"max-color-index\",\r\n    \"monochrome\", \"min-monochrome\", \"max-monochrome\", \"resolution\",\r\n    \"min-resolution\", \"max-resolution\", \"scan\", \"grid\"\r\n  ]);\r\n\r\n  var propertyKeywords = keySet([\r\n    \"align-content\", \"align-items\", \"align-self\", \"alignment-adjust\",\r\n    \"alignment-baseline\", \"anchor-point\", \"animation\", \"animation-delay\",\r\n    \"animation-direction\", \"animation-duration\", \"animation-iteration-count\",\r\n    \"animation-name\", \"animation-play-state\", \"animation-timing-function\",\r\n    \"appearance\", \"azimuth\", \"backface-visibility\", \"background\",\r\n    \"background-attachment\", \"background-clip\", \"background-color\",\r\n    \"background-image\", \"background-origin\", \"background-position\",\r\n    \"background-repeat\", \"background-size\", \"baseline-shift\", \"binding\",\r\n    \"bleed\", \"bookmark-label\", \"bookmark-level\", \"bookmark-state\",\r\n    \"bookmark-target\", \"border\", \"border-bottom\", \"border-bottom-color\",\r\n    \"border-bottom-left-radius\", \"border-bottom-right-radius\",\r\n    \"border-bottom-style\", \"border-bottom-width\", \"border-collapse\",\r\n    \"border-color\", \"border-image\", \"border-image-outset\",\r\n    \"border-image-repeat\", \"border-image-slice\", \"border-image-source\",\r\n    \"border-image-width\", \"border-left\", \"border-left-color\",\r\n    \"border-left-style\", \"border-left-width\", \"border-radius\", \"border-right\",\r\n    \"border-right-color\", \"border-right-style\", \"border-right-width\",\r\n    \"border-spacing\", \"border-style\", \"border-top\", \"border-top-color\",\r\n    \"border-top-left-radius\", \"border-top-right-radius\", \"border-top-style\",\r\n    \"border-top-width\", \"border-width\", \"bottom\", \"box-decoration-break\",\r\n    \"box-shadow\", \"box-sizing\", \"break-after\", \"break-before\", \"break-inside\",\r\n    \"caption-side\", \"clear\", \"clip\", \"color\", \"color-profile\", \"column-count\",\r\n    \"column-fill\", \"column-gap\", \"column-rule\", \"column-rule-color\",\r\n    \"column-rule-style\", \"column-rule-width\", \"column-span\", \"column-width\",\r\n    \"columns\", \"content\", \"counter-increment\", \"counter-reset\", \"crop\", \"cue\",\r\n    \"cue-after\", \"cue-before\", \"cursor\", \"direction\", \"display\",\r\n    \"dominant-baseline\", \"drop-initial-after-adjust\",\r\n    \"drop-initial-after-align\", \"drop-initial-before-adjust\",\r\n    \"drop-initial-before-align\", \"drop-initial-size\", \"drop-initial-value\",\r\n    \"elevation\", \"empty-cells\", \"fit\", \"fit-position\", \"flex\", \"flex-basis\",\r\n    \"flex-direction\", \"flex-flow\", \"flex-grow\", \"flex-shrink\", \"flex-wrap\",\r\n    \"float\", \"float-offset\", \"font\", \"font-feature-settings\", \"font-family\",\r\n    \"font-kerning\", \"font-language-override\", \"font-size\", \"font-size-adjust\",\r\n    \"font-stretch\", \"font-style\", \"font-synthesis\", \"font-variant\",\r\n    \"font-variant-alternates\", \"font-variant-caps\", \"font-variant-east-asian\",\r\n    \"font-variant-ligatures\", \"font-variant-numeric\", \"font-variant-position\",\r\n    \"font-weight\", \"grid-cell\", \"grid-column\", \"grid-column-align\",\r\n    \"grid-column-sizing\", \"grid-column-span\", \"grid-columns\", \"grid-flow\",\r\n    \"grid-row\", \"grid-row-align\", \"grid-row-sizing\", \"grid-row-span\",\r\n    \"grid-rows\", \"grid-template\", \"hanging-punctuation\", \"height\", \"hyphens\",\r\n    \"icon\", \"image-orientation\", \"image-rendering\", \"image-resolution\",\r\n    \"inline-box-align\", \"justify-content\", \"left\", \"letter-spacing\",\r\n    \"line-break\", \"line-height\", \"line-stacking\", \"line-stacking-ruby\",\r\n    \"line-stacking-shift\", \"line-stacking-strategy\", \"list-style\",\r\n    \"list-style-image\", \"list-style-position\", \"list-style-type\", \"margin\",\r\n    \"margin-bottom\", \"margin-left\", \"margin-right\", \"margin-top\",\r\n    \"marker-offset\", \"marks\", \"marquee-direction\", \"marquee-loop\",\r\n    \"marquee-play-count\", \"marquee-speed\", \"marquee-style\", \"max-height\",\r\n    \"max-width\", \"min-height\", \"min-width\", \"move-to\", \"nav-down\", \"nav-index\",\r\n    \"nav-left\", \"nav-right\", \"nav-up\", \"opacity\", \"order\", \"orphans\", \"outline\",\r\n    \"outline-color\", \"outline-offset\", \"outline-style\", \"outline-width\",\r\n    \"overflow\", \"overflow-style\", \"overflow-wrap\", \"overflow-x\", \"overflow-y\",\r\n    \"padding\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"padding-top\",\r\n    \"page\", \"page-break-after\", \"page-break-before\", \"page-break-inside\",\r\n    \"page-policy\", \"pause\", \"pause-after\", \"pause-before\", \"perspective\",\r\n    \"perspective-origin\", \"pitch\", \"pitch-range\", \"play-during\", \"position\",\r\n    \"presentation-level\", \"punctuation-trim\", \"quotes\", \"rendering-intent\",\r\n    \"resize\", \"rest\", \"rest-after\", \"rest-before\", \"richness\", \"right\",\r\n    \"rotation\", \"rotation-point\", \"ruby-align\", \"ruby-overhang\",\r\n    \"ruby-position\", \"ruby-span\", \"size\", \"speak\", \"speak-as\", \"speak-header\",\r\n    \"speak-numeral\", \"speak-punctuation\", \"speech-rate\", \"stress\", \"string-set\",\r\n    \"tab-size\", \"table-layout\", \"target\", \"target-name\", \"target-new\",\r\n    \"target-position\", \"text-align\", \"text-align-last\", \"text-decoration\",\r\n    \"text-decoration-color\", \"text-decoration-line\", \"text-decoration-skip\",\r\n    \"text-decoration-style\", \"text-emphasis\", \"text-emphasis-color\",\r\n    \"text-emphasis-position\", \"text-emphasis-style\", \"text-height\",\r\n    \"text-indent\", \"text-justify\", \"text-outline\", \"text-shadow\",\r\n    \"text-space-collapse\", \"text-transform\", \"text-underline-position\",\r\n    \"text-wrap\", \"top\", \"transform\", \"transform-origin\", \"transform-style\",\r\n    \"transition\", \"transition-delay\", \"transition-duration\",\r\n    \"transition-property\", \"transition-timing-function\", \"unicode-bidi\",\r\n    \"vertical-align\", \"visibility\", \"voice-balance\", \"voice-duration\",\r\n    \"voice-family\", \"voice-pitch\", \"voice-range\", \"voice-rate\", \"voice-stress\",\r\n    \"voice-volume\", \"volume\", \"white-space\", \"widows\", \"width\", \"word-break\",\r\n    \"word-spacing\", \"word-wrap\", \"z-index\"\r\n  ]);\r\n\r\n  var colorKeywords = keySet([\r\n    \"black\", \"silver\", \"gray\", \"white\", \"maroon\", \"red\", \"purple\", \"fuchsia\",\r\n    \"green\", \"lime\", \"olive\", \"yellow\", \"navy\", \"blue\", \"teal\", \"aqua\"\r\n  ]);\r\n  \r\n  var valueKeywords = keySet([\r\n    \"above\", \"absolute\", \"activeborder\", \"activecaption\", \"afar\",\r\n    \"after-white-space\", \"ahead\", \"alias\", \"all\", \"all-scroll\", \"alternate\",\r\n    \"always\", \"amharic\", \"amharic-abegede\", \"antialiased\", \"appworkspace\",\r\n    \"arabic-indic\", \"armenian\", \"asterisks\", \"auto\", \"avoid\", \"background\",\r\n    \"backwards\", \"baseline\", \"below\", \"bidi-override\", \"binary\", \"bengali\",\r\n    \"blink\", \"block\", \"block-axis\", \"bold\", \"bolder\", \"border\", \"border-box\",\r\n    \"both\", \"bottom\", \"break-all\", \"break-word\", \"button\", \"button-bevel\",\r\n    \"buttonface\", \"buttonhighlight\", \"buttonshadow\", \"buttontext\", \"cambodian\",\r\n    \"capitalize\", \"caps-lock-indicator\", \"caption\", \"captiontext\", \"caret\",\r\n    \"cell\", \"center\", \"checkbox\", \"circle\", \"cjk-earthly-branch\",\r\n    \"cjk-heavenly-stem\", \"cjk-ideographic\", \"clear\", \"clip\", \"close-quote\",\r\n    \"col-resize\", \"collapse\", \"compact\", \"condensed\", \"contain\", \"content\",\r\n    \"content-box\", \"context-menu\", \"continuous\", \"copy\", \"cover\", \"crop\",\r\n    \"cross\", \"crosshair\", \"currentcolor\", \"cursive\", \"dashed\", \"decimal\",\r\n    \"decimal-leading-zero\", \"default\", \"default-button\", \"destination-atop\",\r\n    \"destination-in\", \"destination-out\", \"destination-over\", \"devanagari\",\r\n    \"disc\", \"discard\", \"document\", \"dot-dash\", \"dot-dot-dash\", \"dotted\",\r\n    \"double\", \"down\", \"e-resize\", \"ease\", \"ease-in\", \"ease-in-out\", \"ease-out\",\r\n    \"element\", \"ellipsis\", \"embed\", \"end\", \"ethiopic\", \"ethiopic-abegede\",\r\n    \"ethiopic-abegede-am-et\", \"ethiopic-abegede-gez\", \"ethiopic-abegede-ti-er\",\r\n    \"ethiopic-abegede-ti-et\", \"ethiopic-halehame-aa-er\",\r\n    \"ethiopic-halehame-aa-et\", \"ethiopic-halehame-am-et\",\r\n    \"ethiopic-halehame-gez\", \"ethiopic-halehame-om-et\",\r\n    \"ethiopic-halehame-sid-et\", \"ethiopic-halehame-so-et\",\r\n    \"ethiopic-halehame-ti-er\", \"ethiopic-halehame-ti-et\",\r\n    \"ethiopic-halehame-tig\", \"ew-resize\", \"expanded\", \"extra-condensed\",\r\n    \"extra-expanded\", \"fantasy\", \"fast\", \"fill\", \"fixed\", \"flat\", \"footnotes\",\r\n    \"forwards\", \"from\", \"geometricPrecision\", \"georgian\", \"graytext\", \"groove\",\r\n    \"gujarati\", \"gurmukhi\", \"hand\", \"hangul\", \"hangul-consonant\", \"hebrew\",\r\n    \"help\", \"hidden\", \"hide\", \"higher\", \"highlight\", \"highlighttext\",\r\n    \"hiragana\", \"hiragana-iroha\", \"horizontal\", \"hsl\", \"hsla\", \"icon\", \"ignore\",\r\n    \"inactiveborder\", \"inactivecaption\", \"inactivecaptiontext\", \"infinite\",\r\n    \"infobackground\", \"infotext\", \"inherit\", \"initial\", \"inline\", \"inline-axis\",\r\n    \"inline-block\", \"inline-table\", \"inset\", \"inside\", \"intrinsic\", \"invert\",\r\n    \"italic\", \"justify\", \"kannada\", \"katakana\", \"katakana-iroha\", \"khmer\",\r\n    \"landscape\", \"lao\", \"large\", \"larger\", \"left\", \"level\", \"lighter\",\r\n    \"line-through\", \"linear\", \"lines\", \"list-item\", \"listbox\", \"listitem\",\r\n    \"local\", \"logical\", \"loud\", \"lower\", \"lower-alpha\", \"lower-armenian\",\r\n    \"lower-greek\", \"lower-hexadecimal\", \"lower-latin\", \"lower-norwegian\",\r\n    \"lower-roman\", \"lowercase\", \"ltr\", \"malayalam\", \"match\",\r\n    \"media-controls-background\", \"media-current-time-display\",\r\n    \"media-fullscreen-button\", \"media-mute-button\", \"media-play-button\",\r\n    \"media-return-to-realtime-button\", \"media-rewind-button\",\r\n    \"media-seek-back-button\", \"media-seek-forward-button\", \"media-slider\",\r\n    \"media-sliderthumb\", \"media-time-remaining-display\", \"media-volume-slider\",\r\n    \"media-volume-slider-container\", \"media-volume-sliderthumb\", \"medium\",\r\n    \"menu\", \"menulist\", \"menulist-button\", \"menulist-text\",\r\n    \"menulist-textfield\", \"menutext\", \"message-box\", \"middle\", \"min-intrinsic\",\r\n    \"mix\", \"mongolian\", \"monospace\", \"move\", \"multiple\", \"myanmar\", \"n-resize\",\r\n    \"narrower\", \"navy\", \"ne-resize\", \"nesw-resize\", \"no-close-quote\", \"no-drop\",\r\n    \"no-open-quote\", \"no-repeat\", \"none\", \"normal\", \"not-allowed\", \"nowrap\",\r\n    \"ns-resize\", \"nw-resize\", \"nwse-resize\", \"oblique\", \"octal\", \"open-quote\",\r\n    \"optimizeLegibility\", \"optimizeSpeed\", \"oriya\", \"oromo\", \"outset\",\r\n    \"outside\", \"overlay\", \"overline\", \"padding\", \"padding-box\", \"painted\",\r\n    \"paused\", \"persian\", \"plus-darker\", \"plus-lighter\", \"pointer\", \"portrait\",\r\n    \"pre\", \"pre-line\", \"pre-wrap\", \"preserve-3d\", \"progress\", \"push-button\",\r\n    \"radio\", \"read-only\", \"read-write\", \"read-write-plaintext-only\", \"relative\",\r\n    \"repeat\", \"repeat-x\", \"repeat-y\", \"reset\", \"reverse\", \"rgb\", \"rgba\",\r\n    \"ridge\", \"right\", \"round\", \"row-resize\", \"rtl\", \"run-in\", \"running\",\r\n    \"s-resize\", \"sans-serif\", \"scroll\", \"scrollbar\", \"se-resize\", \"searchfield\",\r\n    \"searchfield-cancel-button\", \"searchfield-decoration\",\r\n    \"searchfield-results-button\", \"searchfield-results-decoration\",\r\n    \"semi-condensed\", \"semi-expanded\", \"separate\", \"serif\", \"show\", \"sidama\",\r\n    \"single\", \"skip-white-space\", \"slide\", \"slider-horizontal\",\r\n    \"slider-vertical\", \"sliderthumb-horizontal\", \"sliderthumb-vertical\", \"slow\",\r\n    \"small\", \"small-caps\", \"small-caption\", \"smaller\", \"solid\", \"somali\",\r\n    \"source-atop\", \"source-in\", \"source-out\", \"source-over\", \"space\", \"square\",\r\n    \"square-button\", \"start\", \"static\", \"status-bar\", \"stretch\", \"stroke\",\r\n    \"sub\", \"subpixel-antialiased\", \"super\", \"sw-resize\", \"table\",\r\n    \"table-caption\", \"table-cell\", \"table-column\", \"table-column-group\",\r\n    \"table-footer-group\", \"table-header-group\", \"table-row\", \"table-row-group\",\r\n    \"telugu\", \"text\", \"text-bottom\", \"text-top\", \"textarea\", \"textfield\", \"thai\",\r\n    \"thick\", \"thin\", \"threeddarkshadow\", \"threedface\", \"threedhighlight\",\r\n    \"threedlightshadow\", \"threedshadow\", \"tibetan\", \"tigre\", \"tigrinya-er\",\r\n    \"tigrinya-er-abegede\", \"tigrinya-et\", \"tigrinya-et-abegede\", \"to\", \"top\",\r\n    \"transparent\", \"ultra-condensed\", \"ultra-expanded\", \"underline\", \"up\",\r\n    \"upper-alpha\", \"upper-armenian\", \"upper-greek\", \"upper-hexadecimal\",\r\n    \"upper-latin\", \"upper-norwegian\", \"upper-roman\", \"uppercase\", \"urdu\", \"url\",\r\n    \"vertical\", \"vertical-text\", \"visible\", \"visibleFill\", \"visiblePainted\",\r\n    \"visibleStroke\", \"visual\", \"w-resize\", \"wait\", \"wave\", \"white\", \"wider\",\r\n    \"window\", \"windowframe\", \"windowtext\", \"x-large\", \"x-small\", \"xor\",\r\n    \"xx-large\", \"xx-small\", \"yellow\"\r\n  ]);\r\n\r\n  function keySet(array) { var keys = {}; for (var i = 0; i < array.length; ++i) keys[array[i]] = true; return keys; }\r\n  function ret(style, tp) {type = tp; return style;}\r\n\r\n  function tokenBase(stream, state) {\r\n    var ch = stream.next();\r\n    if (ch == \"@\") {stream.eatWhile(/[\\w\\\\\\-]/); return ret(\"def\", stream.current());}\r\n    else if (ch == \"/\" && stream.eat(\"*\")) {\r\n      state.tokenize = tokenCComment;\r\n      return tokenCComment(stream, state);\r\n    }\r\n    else if (ch == \"<\" && stream.eat(\"!\")) {\r\n      state.tokenize = tokenSGMLComment;\r\n      return tokenSGMLComment(stream, state);\r\n    }\r\n    else if (ch == \"=\") ret(null, \"compare\");\r\n    else if ((ch == \"~\" || ch == \"|\") && stream.eat(\"=\")) return ret(null, \"compare\");\r\n    else if (ch == \"\\\"\" || ch == \"'\") {\r\n      state.tokenize = tokenString(ch);\r\n      return state.tokenize(stream, state);\r\n    }\r\n    else if (ch == \"#\") {\r\n      stream.eatWhile(/[\\w\\\\\\-]/);\r\n      return ret(\"atom\", \"hash\");\r\n    }\r\n    else if (ch == \"!\") {\r\n      stream.match(/^\\s*\\w*/);\r\n      return ret(\"keyword\", \"important\");\r\n    }\r\n    else if (/\\d/.test(ch)) {\r\n      stream.eatWhile(/[\\w.%]/);\r\n      return ret(\"number\", \"unit\");\r\n    }\r\n    else if (ch === \"-\") {\r\n      if (/\\d/.test(stream.peek())) {\r\n        stream.eatWhile(/[\\w.%]/);\r\n        return ret(\"number\", \"unit\");\r\n      } else if (stream.match(/^[^-]+-/)) {\r\n        return ret(\"meta\", type);\r\n      }\r\n    }\r\n    else if (/[,+>*\\/]/.test(ch)) {\r\n      return ret(null, \"select-op\");\r\n    }\r\n    else if (ch == \".\" && stream.match(/^-?[_a-z][_a-z0-9-]*/i)) {\r\n      return ret(\"qualifier\", type);\r\n    }\r\n    else if (ch == \":\") {\r\n      return ret(\"operator\", ch);\r\n    }\r\n    else if (/[;{}\\[\\]\\(\\)]/.test(ch)) {\r\n      return ret(null, ch);\r\n    }\r\n    else {\r\n      stream.eatWhile(/[\\w\\\\\\-]/);\r\n      return ret(\"property\", \"variable\");\r\n    }\r\n  }\r\n\r\n  function tokenCComment(stream, state) {\r\n    var maybeEnd = false, ch;\r\n    while ((ch = stream.next()) != null) {\r\n      if (maybeEnd && ch == \"/\") {\r\n        state.tokenize = tokenBase;\r\n        break;\r\n      }\r\n      maybeEnd = (ch == \"*\");\r\n    }\r\n    return ret(\"comment\", \"comment\");\r\n  }\r\n\r\n  function tokenSGMLComment(stream, state) {\r\n    var dashes = 0, ch;\r\n    while ((ch = stream.next()) != null) {\r\n      if (dashes >= 2 && ch == \">\") {\r\n        state.tokenize = tokenBase;\r\n        break;\r\n      }\r\n      dashes = (ch == \"-\") ? dashes + 1 : 0;\r\n    }\r\n    return ret(\"comment\", \"comment\");\r\n  }\r\n\r\n  function tokenString(quote) {\r\n    return function(stream, state) {\r\n      var escaped = false, ch;\r\n      while ((ch = stream.next()) != null) {\r\n        if (ch == quote && !escaped)\r\n          break;\r\n        escaped = !escaped && ch == \"\\\\\";\r\n      }\r\n      if (!escaped) state.tokenize = tokenBase;\r\n      return ret(\"string\", \"string\");\r\n    };\r\n  }\r\n\r\n  return {\r\n    startState: function(base) {\r\n      return {tokenize: tokenBase,\r\n              baseIndent: base || 0,\r\n              stack: []};\r\n    },\r\n\r\n    token: function(stream, state) {\r\n      \r\n      // Use these terms when applicable (see http://www.xanthir.com/blog/b4E50)\r\n      // \r\n      // rule** or **ruleset:\r\n      // A selector + braces combo, or an at-rule.\r\n      // \r\n      // declaration block:\r\n      // A sequence of declarations.\r\n      // \r\n      // declaration:\r\n      // A property + colon + value combo.\r\n      // \r\n      // property value:\r\n      // The entire value of a property.\r\n      // \r\n      // component value:\r\n      // A single piece of a property value. Like the 5px in\r\n      // text-shadow: 0 0 5px blue;. Can also refer to things that are\r\n      // multiple terms, like the 1-4 terms that make up the background-size\r\n      // portion of the background shorthand.\r\n      // \r\n      // term:\r\n      // The basic unit of author-facing CSS, like a single number (5),\r\n      // dimension (5px), string (\"foo\"), or function. Officially defined\r\n      //  by the CSS 2.1 grammar (look for the 'term' production)\r\n      // \r\n      // \r\n      // simple selector:\r\n      // A single atomic selector, like a type selector, an attr selector, a\r\n      // class selector, etc.\r\n      // \r\n      // compound selector:\r\n      // One or more simple selectors without a combinator. div.example is\r\n      // compound, div > .example is not.\r\n      // \r\n      // complex selector:\r\n      // One or more compound selectors chained with combinators.\r\n      // \r\n      // combinator:\r\n      // The parts of selectors that express relationships. There are four\r\n      // currently - the space (descendant combinator), the greater-than\r\n      // bracket (child combinator), the plus sign (next sibling combinator),\r\n      // and the tilda (following sibling combinator).\r\n      // \r\n      // sequence of selectors:\r\n      // One or more of the named type of selector chained with commas.\r\n\r\n      if (stream.eatSpace()) return null;\r\n      var style = state.tokenize(stream, state);\r\n\r\n      // Changing style returned based on context\r\n      var context = state.stack[state.stack.length-1];\r\n      if (style == \"property\") {\r\n        if (context == \"propertyValue\"){\r\n          if (valueKeywords[stream.current()]) {\r\n            style = \"string-2\";\r\n          } else if (colorKeywords[stream.current()]) {\r\n            style = \"keyword\";\r\n          } else {\r\n            style = \"variable-2\";\r\n          }\r\n        } else if (context == \"rule\") {\r\n          if (!propertyKeywords[stream.current()]) {\r\n            style += \" error\";\r\n          }\r\n        } else if (!context || context == \"@media{\") {\r\n          style = \"tag\";\r\n        } else if (context == \"@media\") {\r\n          if (atMediaTypes[stream.current()]) {\r\n            style = \"attribute\"; // Known attribute\r\n          } else if (/^(only|not)$/i.test(stream.current())) {\r\n            style = \"keyword\";\r\n          } else if (stream.current().toLowerCase() == \"and\") {\r\n            style = \"error\"; // \"and\" is only allowed in @mediaType\r\n          } else if (atMediaFeatures[stream.current()]) {\r\n            style = \"error\"; // Known property, should be in @mediaType(\r\n          } else {\r\n            // Unknown, expecting keyword or attribute, assuming attribute\r\n            style = \"attribute error\";\r\n          }\r\n        } else if (context == \"@mediaType\") {\r\n          if (atMediaTypes[stream.current()]) {\r\n            style = \"attribute\";\r\n          } else if (stream.current().toLowerCase() == \"and\") {\r\n            style = \"operator\";\r\n          } else if (/^(only|not)$/i.test(stream.current())) {\r\n            style = \"error\"; // Only allowed in @media\r\n          } else if (atMediaFeatures[stream.current()]) {\r\n            style = \"error\"; // Known property, should be in parentheses\r\n          } else {\r\n            // Unknown attribute or property, but expecting property (preceded\r\n            // by \"and\"). Should be in parentheses\r\n            style = \"error\";\r\n          }\r\n        } else if (context == \"@mediaType(\") {\r\n          if (propertyKeywords[stream.current()]) {\r\n            // do nothing, remains \"property\"\r\n          } else if (atMediaTypes[stream.current()]) {\r\n            style = \"error\"; // Known property, should be in parentheses\r\n          } else if (stream.current().toLowerCase() == \"and\") {\r\n            style = \"operator\";\r\n          } else if (/^(only|not)$/i.test(stream.current())) {\r\n            style = \"error\"; // Only allowed in @media\r\n          } else {\r\n            style += \" error\";\r\n          }\r\n        } else {\r\n          style = \"error\";\r\n        }\r\n      } else if (style == \"atom\") {\r\n        if(!context || context == \"@media{\") {\r\n          style = \"builtin\";\r\n        } else if (context == \"propertyValue\") {\r\n          if (!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(stream.current())) {\r\n            style += \" error\";\r\n          }\r\n        } else {\r\n          style = \"error\";\r\n        }\r\n      } else if (context == \"@media\" && type == \"{\") {\r\n        style = \"error\";\r\n      }\r\n\r\n      // Push/pop context stack\r\n      if (type == \"{\") {\r\n        if (context == \"@media\" || context == \"@mediaType\") {\r\n          state.stack.pop();\r\n          state.stack[state.stack.length-1] = \"@media{\";\r\n        }\r\n        else state.stack.push(\"rule\");\r\n      }\r\n      else if (type == \"}\") {\r\n        state.stack.pop();\r\n        if (context == \"propertyValue\") state.stack.pop();\r\n      }\r\n      else if (type == \"@media\") state.stack.push(\"@media\");\r\n      else if (context == \"@media\" && /\\b(keyword|attribute)\\b/.test(style))\r\n        state.stack.push(\"@mediaType\");\r\n      else if (context == \"@mediaType\" && stream.current() == \",\") state.stack.pop();\r\n      else if (context == \"@mediaType\" && type == \"(\") state.stack.push(\"@mediaType(\");\r\n      else if (context == \"@mediaType(\" && type == \")\") state.stack.pop();\r\n      else if (context == \"rule\" && type == \":\") state.stack.push(\"propertyValue\");\r\n      else if (context == \"propertyValue\" && type == \";\") state.stack.pop();\r\n      return style;\r\n    },\r\n\r\n    indent: function(state, textAfter) {\r\n      var n = state.stack.length;\r\n      if (/^\\}/.test(textAfter))\r\n        n -= state.stack[state.stack.length-1] == \"propertyValue\" ? 2 : 1;\r\n      return state.baseIndent + n * indentUnit;\r\n    },\r\n\r\n    electricChars: \"}\"\r\n  };\r\n});\r\n\r\nCodeMirror.defineMIME(\"text/css\", \"css\");\r\n","Nwdthemes_Revslider/admin/assets/js/codemirror/xml.js":"// CodeMirror, copyright (c) by Marijn Haverbeke and others\r\n// Distributed under an MIT license: http://codemirror.net/LICENSE\r\n\r\n(function(mod) {\r\n  /*if (typeof exports == \"object\" && typeof module == \"object\") // CommonJS\r\n    mod(require(\"../../lib/codemirror\"));\r\n  else if (typeof define == \"function\" && define.amd) // AMD\r\n    define([\"../../lib/codemirror\"], mod);\r\n  else // Plain browser env*/\r\n    mod(CodeMirror);\r\n})(function(CodeMirror) {\r\n\"use strict\";\r\n\r\nCodeMirror.defineMode(\"xml\", function(config, parserConfig) {\r\n  var indentUnit = config.indentUnit;\r\n  var multilineTagIndentFactor = parserConfig.multilineTagIndentFactor || 1;\r\n  var multilineTagIndentPastTag = parserConfig.multilineTagIndentPastTag;\r\n  if (multilineTagIndentPastTag == null) multilineTagIndentPastTag = true;\r\n\r\n  var Kludges = parserConfig.htmlMode ? {\r\n    autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\r\n                      'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\r\n                      'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\r\n                      'track': true, 'wbr': true, 'menuitem': true},\r\n    implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\r\n                       'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\r\n                       'th': true, 'tr': true},\r\n    contextGrabbers: {\r\n      'dd': {'dd': true, 'dt': true},\r\n      'dt': {'dd': true, 'dt': true},\r\n      'li': {'li': true},\r\n      'option': {'option': true, 'optgroup': true},\r\n      'optgroup': {'optgroup': true},\r\n      'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\r\n            'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\r\n            'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\r\n            'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\r\n            'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\r\n      'rp': {'rp': true, 'rt': true},\r\n      'rt': {'rp': true, 'rt': true},\r\n      'tbody': {'tbody': true, 'tfoot': true},\r\n      'td': {'td': true, 'th': true},\r\n      'tfoot': {'tbody': true},\r\n      'th': {'td': true, 'th': true},\r\n      'thead': {'tbody': true, 'tfoot': true},\r\n      'tr': {'tr': true}\r\n    },\r\n    doNotIndent: {\"pre\": true},\r\n    allowUnquoted: true,\r\n    allowMissing: true,\r\n    caseFold: true\r\n  } : {\r\n    autoSelfClosers: {},\r\n    implicitlyClosed: {},\r\n    contextGrabbers: {},\r\n    doNotIndent: {},\r\n    allowUnquoted: false,\r\n    allowMissing: false,\r\n    caseFold: false\r\n  };\r\n  var alignCDATA = parserConfig.alignCDATA;\r\n\r\n  // Return variables for tokenizers\r\n  var type, setStyle;\r\n\r\n  function inText(stream, state) {\r\n    function chain(parser) {\r\n      state.tokenize = parser;\r\n      return parser(stream, state);\r\n    }\r\n\r\n    var ch = stream.next();\r\n    if (ch == \"<\") {\r\n      if (stream.eat(\"!\")) {\r\n        if (stream.eat(\"[\")) {\r\n          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\r\n          else return null;\r\n        } else if (stream.match(\"--\")) {\r\n          return chain(inBlock(\"comment\", \"-->\"));\r\n        } else if (stream.match(\"DOCTYPE\", true, true)) {\r\n          stream.eatWhile(/[\\w\\._\\-]/);\r\n          return chain(doctype(1));\r\n        } else {\r\n          return null;\r\n        }\r\n      } else if (stream.eat(\"?\")) {\r\n        stream.eatWhile(/[\\w\\._\\-]/);\r\n        state.tokenize = inBlock(\"meta\", \"?>\");\r\n        return \"meta\";\r\n      } else {\r\n        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\r\n        state.tokenize = inTag;\r\n        return \"tag bracket\";\r\n      }\r\n    } else if (ch == \"&\") {\r\n      var ok;\r\n      if (stream.eat(\"#\")) {\r\n        if (stream.eat(\"x\")) {\r\n          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\r\n        } else {\r\n          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\r\n        }\r\n      } else {\r\n        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\r\n      }\r\n      return ok ? \"atom\" : \"error\";\r\n    } else {\r\n      stream.eatWhile(/[^&<]/);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  function inTag(stream, state) {\r\n    var ch = stream.next();\r\n    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\r\n      state.tokenize = inText;\r\n      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\r\n      return \"tag bracket\";\r\n    } else if (ch == \"=\") {\r\n      type = \"equals\";\r\n      return null;\r\n    } else if (ch == \"<\") {\r\n      state.tokenize = inText;\r\n      state.state = baseState;\r\n      state.tagName = state.tagStart = null;\r\n      var next = state.tokenize(stream, state);\r\n      return next ? next + \" tag error\" : \"tag error\";\r\n    } else if (/[\\'\\\"]/.test(ch)) {\r\n      state.tokenize = inAttribute(ch);\r\n      state.stringStartCol = stream.column();\r\n      return state.tokenize(stream, state);\r\n    } else {\r\n      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\r\n      return \"word\";\r\n    }\r\n  }\r\n\r\n  function inAttribute(quote) {\r\n    var closure = function(stream, state) {\r\n      while (!stream.eol()) {\r\n        if (stream.next() == quote) {\r\n          state.tokenize = inTag;\r\n          break;\r\n        }\r\n      }\r\n      return \"string\";\r\n    };\r\n    closure.isInAttribute = true;\r\n    return closure;\r\n  }\r\n\r\n  function inBlock(style, terminator) {\r\n    return function(stream, state) {\r\n      while (!stream.eol()) {\r\n        if (stream.match(terminator)) {\r\n          state.tokenize = inText;\r\n          break;\r\n        }\r\n        stream.next();\r\n      }\r\n      return style;\r\n    };\r\n  }\r\n  function doctype(depth) {\r\n    return function(stream, state) {\r\n      var ch;\r\n      while ((ch = stream.next()) != null) {\r\n        if (ch == \"<\") {\r\n          state.tokenize = doctype(depth + 1);\r\n          return state.tokenize(stream, state);\r\n        } else if (ch == \">\") {\r\n          if (depth == 1) {\r\n            state.tokenize = inText;\r\n            break;\r\n          } else {\r\n            state.tokenize = doctype(depth - 1);\r\n            return state.tokenize(stream, state);\r\n          }\r\n        }\r\n      }\r\n      return \"meta\";\r\n    };\r\n  }\r\n\r\n  function Context(state, tagName, startOfLine) {\r\n    this.prev = state.context;\r\n    this.tagName = tagName;\r\n    this.indent = state.indented;\r\n    this.startOfLine = startOfLine;\r\n    if (Kludges.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\r\n      this.noIndent = true;\r\n  }\r\n  function popContext(state) {\r\n    if (state.context) state.context = state.context.prev;\r\n  }\r\n  function maybePopContext(state, nextTagName) {\r\n    var parentTagName;\r\n    while (true) {\r\n      if (!state.context) {\r\n        return;\r\n      }\r\n      parentTagName = state.context.tagName;\r\n      if (!Kludges.contextGrabbers.hasOwnProperty(parentTagName) ||\r\n          !Kludges.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\r\n        return;\r\n      }\r\n      popContext(state);\r\n    }\r\n  }\r\n\r\n  function baseState(type, stream, state) {\r\n    if (type == \"openTag\") {\r\n      state.tagStart = stream.column();\r\n      return tagNameState;\r\n    } else if (type == \"closeTag\") {\r\n      return closeTagNameState;\r\n    } else {\r\n      return baseState;\r\n    }\r\n  }\r\n  function tagNameState(type, stream, state) {\r\n    if (type == \"word\") {\r\n      state.tagName = stream.current();\r\n      setStyle = \"tag\";\r\n      return attrState;\r\n    } else {\r\n      setStyle = \"error\";\r\n      return tagNameState;\r\n    }\r\n  }\r\n  function closeTagNameState(type, stream, state) {\r\n    if (type == \"word\") {\r\n      var tagName = stream.current();\r\n      if (state.context && state.context.tagName != tagName &&\r\n          Kludges.implicitlyClosed.hasOwnProperty(state.context.tagName))\r\n        popContext(state);\r\n      if (state.context && state.context.tagName == tagName) {\r\n        setStyle = \"tag\";\r\n        return closeState;\r\n      } else {\r\n        setStyle = \"tag error\";\r\n        return closeStateErr;\r\n      }\r\n    } else {\r\n      setStyle = \"error\";\r\n      return closeStateErr;\r\n    }\r\n  }\r\n\r\n  function closeState(type, _stream, state) {\r\n    if (type != \"endTag\") {\r\n      setStyle = \"error\";\r\n      return closeState;\r\n    }\r\n    popContext(state);\r\n    return baseState;\r\n  }\r\n  function closeStateErr(type, stream, state) {\r\n    setStyle = \"error\";\r\n    return closeState(type, stream, state);\r\n  }\r\n\r\n  function attrState(type, _stream, state) {\r\n    if (type == \"word\") {\r\n      setStyle = \"attribute\";\r\n      return attrEqState;\r\n    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\r\n      var tagName = state.tagName, tagStart = state.tagStart;\r\n      state.tagName = state.tagStart = null;\r\n      if (type == \"selfcloseTag\" ||\r\n          Kludges.autoSelfClosers.hasOwnProperty(tagName)) {\r\n        maybePopContext(state, tagName);\r\n      } else {\r\n        maybePopContext(state, tagName);\r\n        state.context = new Context(state, tagName, tagStart == state.indented);\r\n      }\r\n      return baseState;\r\n    }\r\n    setStyle = \"error\";\r\n    return attrState;\r\n  }\r\n  function attrEqState(type, stream, state) {\r\n    if (type == \"equals\") return attrValueState;\r\n    if (!Kludges.allowMissing) setStyle = \"error\";\r\n    return attrState(type, stream, state);\r\n  }\r\n  function attrValueState(type, stream, state) {\r\n    if (type == \"string\") return attrContinuedState;\r\n    if (type == \"word\" && Kludges.allowUnquoted) {setStyle = \"string\"; return attrState;}\r\n    setStyle = \"error\";\r\n    return attrState(type, stream, state);\r\n  }\r\n  function attrContinuedState(type, stream, state) {\r\n    if (type == \"string\") return attrContinuedState;\r\n    return attrState(type, stream, state);\r\n  }\r\n\r\n  return {\r\n    startState: function() {\r\n      return {tokenize: inText,\r\n              state: baseState,\r\n              indented: 0,\r\n              tagName: null, tagStart: null,\r\n              context: null};\r\n    },\r\n\r\n    token: function(stream, state) {\r\n      if (!state.tagName && stream.sol())\r\n        state.indented = stream.indentation();\r\n\r\n      if (stream.eatSpace()) return null;\r\n      type = null;\r\n      var style = state.tokenize(stream, state);\r\n      if ((style || type) && style != \"comment\") {\r\n        setStyle = null;\r\n        state.state = state.state(type || style, stream, state);\r\n        if (setStyle)\r\n          style = setStyle == \"error\" ? style + \" error\" : setStyle;\r\n      }\r\n      return style;\r\n    },\r\n\r\n    indent: function(state, textAfter, fullLine) {\r\n      var context = state.context;\r\n      // Indent multi-line strings (e.g. css).\r\n      if (state.tokenize.isInAttribute) {\r\n        if (state.tagStart == state.indented)\r\n          return state.stringStartCol + 1;\r\n        else\r\n          return state.indented + indentUnit;\r\n      }\r\n      if (context && context.noIndent) return CodeMirror.Pass;\r\n      if (state.tokenize != inTag && state.tokenize != inText)\r\n        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\r\n      // Indent the starts of attribute names.\r\n      if (state.tagName) {\r\n        if (multilineTagIndentPastTag)\r\n          return state.tagStart + state.tagName.length + 2;\r\n        else\r\n          return state.tagStart + indentUnit * multilineTagIndentFactor;\r\n      }\r\n      if (alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\r\n      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\r\n      if (tagAfter && tagAfter[1]) { // Closing tag spotted\r\n        while (context) {\r\n          if (context.tagName == tagAfter[2]) {\r\n            context = context.prev;\r\n            break;\r\n          } else if (Kludges.implicitlyClosed.hasOwnProperty(context.tagName)) {\r\n            context = context.prev;\r\n          } else {\r\n            break;\r\n          }\r\n        }\r\n      } else if (tagAfter) { // Opening tag spotted\r\n        while (context) {\r\n          var grabbers = Kludges.contextGrabbers[context.tagName];\r\n          if (grabbers && grabbers.hasOwnProperty(tagAfter[2]))\r\n            context = context.prev;\r\n          else\r\n            break;\r\n        }\r\n      }\r\n      while (context && !context.startOfLine)\r\n        context = context.prev;\r\n      if (context) return context.indent + indentUnit;\r\n      else return 0;\r\n    },\r\n\r\n    electricInput: /<\\/[\\s\\w:]+>$/,\r\n    blockCommentStart: \"<!--\",\r\n    blockCommentEnd: \"-->\",\r\n\r\n    configuration: parserConfig.htmlMode ? \"html\" : \"xml\",\r\n    helperType: parserConfig.htmlMode ? \"html\" : \"xml\"\r\n  };\r\n});\r\n\r\nCodeMirror.defineMIME(\"text/xml\", \"xml\");\r\nCodeMirror.defineMIME(\"application/xml\", \"xml\");\r\nif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\r\n  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\r\n\r\n});\r\n","Nwdthemes_Revslider/admin/assets/js/codemirror/codemirror.js":"// CodeMirror version 2.35\r\n//\r\n// All functions that need access to the editor's state live inside\r\n// the CodeMirror function. Below that, at the bottom of the file,\r\n// some utilities are defined.\r\n\r\n// CodeMirror is the only global var we claim\r\nwindow.CodeMirror = (function() {\r\n  \"use strict\";\r\n  // This is the function that produces an editor instance. Its\r\n  // closure is used to store the editor state.\r\n  function CodeMirror(place, givenOptions) {\r\n    // Determine effective options based on given values and defaults.\r\n    var options = {}, defaults = CodeMirror.defaults;\r\n    for (var opt in defaults)\r\n      if (defaults.hasOwnProperty(opt))\r\n        options[opt] = (givenOptions && givenOptions.hasOwnProperty(opt) ? givenOptions : defaults)[opt];\r\n\r\n    var input = elt(\"textarea\", null, null, \"position: absolute; padding: 0; width: 1px; height: 1em\");\r\n    input.setAttribute(\"wrap\", \"off\"); input.setAttribute(\"autocorrect\", \"off\"); input.setAttribute(\"autocapitalize\", \"off\");\r\n    // Wraps and hides input textarea\r\n    var inputDiv = elt(\"div\", [input], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\r\n    // The empty scrollbar content, used solely for managing the scrollbar thumb.\r\n    var scrollbarInner = elt(\"div\", null, \"CodeMirror-scrollbar-inner\");\r\n    // The vertical scrollbar. Horizontal scrolling is handled by the scroller itself.\r\n    var scrollbar = elt(\"div\", [scrollbarInner], \"CodeMirror-scrollbar\");\r\n    // DIVs containing the selection and the actual code\r\n    var lineDiv = elt(\"div\"), selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: -1\");\r\n    // Blinky cursor, and element used to ensure cursor fits at the end of a line\r\n    var cursor = elt(\"pre\", \"\\u00a0\", \"CodeMirror-cursor\"), widthForcer = elt(\"pre\", \"\\u00a0\", \"CodeMirror-cursor\", \"visibility: hidden\");\r\n    // Used to measure text size\r\n    var measure = elt(\"div\", null, null, \"position: absolute; width: 100%; height: 0px; overflow: hidden; visibility: hidden;\");\r\n    var lineSpace = elt(\"div\", [measure, cursor, widthForcer, selectionDiv, lineDiv], null, \"position: relative; z-index: 0\");\r\n    var gutterText = elt(\"div\", null, \"CodeMirror-gutter-text\"), gutter = elt(\"div\", [gutterText], \"CodeMirror-gutter\");\r\n    // Moved around its parent to cover visible view\r\n    var mover = elt(\"div\", [gutter, elt(\"div\", [lineSpace], \"CodeMirror-lines\")], null, \"position: relative\");\r\n    // Set to the height of the text, causes scrolling\r\n    var sizer = elt(\"div\", [mover], null, \"position: relative\");\r\n    // Provides scrolling\r\n    var scroller = elt(\"div\", [sizer], \"CodeMirror-scroll\");\r\n    scroller.setAttribute(\"tabIndex\", \"-1\");\r\n    // The element in which the editor lives.\r\n    var wrapper = elt(\"div\", [inputDiv, scrollbar, scroller], \"CodeMirror\" + (options.lineWrapping ? \" CodeMirror-wrap\" : \"\"));\r\n    if (place.appendChild) place.appendChild(wrapper); else place(wrapper);\r\n\r\n    themeChanged(); keyMapChanged();\r\n    // Needed to hide big blue blinking cursor on Mobile Safari\r\n    if (ios) input.style.width = \"0px\";\r\n    if (!webkit) scroller.draggable = true;\r\n    lineSpace.style.outline = \"none\";\r\n    if (options.tabindex != null) input.tabIndex = options.tabindex;\r\n    if (options.autofocus) focusInput();\r\n    if (!options.gutter && !options.lineNumbers) gutter.style.display = \"none\";\r\n    // Needed to handle Tab key in KHTML\r\n    if (khtml) inputDiv.style.height = \"1px\", inputDiv.style.position = \"absolute\";\r\n\r\n    // Check for OS X >= 10.7. This has transparent scrollbars, so the\r\n    // overlaying of one scrollbar with another won't work. This is a\r\n    // temporary hack to simply turn off the overlay scrollbar. See\r\n    // issue #727.\r\n    if (mac_geLion) { scrollbar.style.zIndex = -2; scrollbar.style.visibility = \"hidden\"; }\r\n    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\r\n    else if (ie_lt8) scrollbar.style.minWidth = \"18px\";\r\n\r\n    // Delayed object wrap timeouts, making sure only one is active. blinker holds an interval.\r\n    var poll = new Delayed(), highlight = new Delayed(), blinker;\r\n\r\n    // mode holds a mode API object. doc is the tree of Line objects,\r\n    // frontier is the point up to which the content has been parsed,\r\n    // and history the undo history (instance of History constructor).\r\n    var mode, doc = new BranchChunk([new LeafChunk([new Line(\"\")])]), frontier = 0, focused;\r\n    loadMode();\r\n    // The selection. These are always maintained to point at valid\r\n    // positions. Inverted is used to remember that the user is\r\n    // selecting bottom-to-top.\r\n    var sel = {from: {line: 0, ch: 0}, to: {line: 0, ch: 0}, inverted: false};\r\n    // Selection-related flags. shiftSelecting obviously tracks\r\n    // whether the user is holding shift.\r\n    var shiftSelecting, lastClick, lastDoubleClick, lastScrollTop = 0, draggingText,\r\n        overwrite = false, suppressEdits = false, pasteIncoming = false;\r\n    // Variables used by startOperation/endOperation to track what\r\n    // happened during the operation.\r\n    var updateInput, userSelChange, changes, textChanged, selectionChanged,\r\n        gutterDirty, callbacks;\r\n    // Current visible range (may be bigger than the view window).\r\n    var displayOffset = 0, showingFrom = 0, showingTo = 0, lastSizeC = 0;\r\n    // bracketHighlighted is used to remember that a bracket has been\r\n    // marked.\r\n    var bracketHighlighted;\r\n    // Tracks the maximum line length so that the horizontal scrollbar\r\n    // can be kept static when scrolling.\r\n    var maxLine = getLine(0), updateMaxLine = false, maxLineChanged = true;\r\n    var pollingFast = false; // Ensures slowPoll doesn't cancel fastPoll\r\n    var goalColumn = null;\r\n\r\n    // Initialize the content.\r\n    operation(function(){setValue(options.value || \"\"); updateInput = false;})();\r\n    var history = new History();\r\n\r\n    // Register our event handlers.\r\n    connect(scroller, \"mousedown\", operation(onMouseDown));\r\n    connect(scroller, \"dblclick\", operation(onDoubleClick));\r\n    connect(lineSpace, \"selectstart\", e_preventDefault);\r\n    // Gecko browsers fire contextmenu *after* opening the menu, at\r\n    // which point we can't mess with it anymore. Context menu is\r\n    // handled in onMouseDown for Gecko.\r\n    if (!gecko) connect(scroller, \"contextmenu\", onContextMenu);\r\n    connect(scroller, \"scroll\", onScrollMain);\r\n    connect(scrollbar, \"scroll\", onScrollBar);\r\n    connect(scrollbar, \"mousedown\", function() {if (focused) setTimeout(focusInput, 0);});\r\n    var resizeHandler = connect(window, \"resize\", function() {\r\n      if (wrapper.parentNode) updateDisplay(true);\r\n      else resizeHandler();\r\n    }, true);\r\n    connect(input, \"keyup\", operation(onKeyUp));\r\n    connect(input, \"input\", fastPoll);\r\n    connect(input, \"keydown\", operation(onKeyDown));\r\n    connect(input, \"keypress\", operation(onKeyPress));\r\n    connect(input, \"focus\", onFocus);\r\n    connect(input, \"blur\", onBlur);\r\n\r\n    function drag_(e) {\r\n      if (options.onDragEvent && options.onDragEvent(instance, addStop(e))) return;\r\n      e_stop(e);\r\n    }\r\n    if (options.dragDrop) {\r\n      connect(scroller, \"dragstart\", onDragStart);\r\n      connect(scroller, \"dragenter\", drag_);\r\n      connect(scroller, \"dragover\", drag_);\r\n      connect(scroller, \"drop\", operation(onDrop));\r\n    }\r\n    connect(scroller, \"paste\", function(){focusInput(); fastPoll();});\r\n    connect(input, \"paste\", function(){pasteIncoming = true; fastPoll();});\r\n    connect(input, \"cut\", operation(function(){\r\n      if (!options.readOnly) replaceSelection(\"\");\r\n    }));\r\n\r\n    // Needed to handle Tab key in KHTML\r\n    if (khtml) connect(sizer, \"mouseup\", function() {\r\n        if (document.activeElement == input) input.blur();\r\n        focusInput();\r\n    });\r\n\r\n    // IE throws unspecified error in certain cases, when\r\n    // trying to access activeElement before onload\r\n    var hasFocus; try { hasFocus = (document.activeElement == input); } catch(e) { }\r\n    if (hasFocus || options.autofocus) setTimeout(onFocus, 20);\r\n    else onBlur();\r\n\r\n    function isLine(l) {return l >= 0 && l < doc.size;}\r\n    // The instance object that we'll return. Mostly calls out to\r\n    // local functions in the CodeMirror function. Some do some extra\r\n    // range checking and/or clipping. operation is used to wrap the\r\n    // call so that changes it makes are tracked, and the display is\r\n    // updated afterwards.\r\n    var instance = wrapper.CodeMirror = {\r\n      getValue: getValue,\r\n      setValue: operation(setValue),\r\n      getSelection: getSelection,\r\n      replaceSelection: operation(replaceSelection),\r\n      focus: function(){window.focus(); focusInput(); onFocus(); fastPoll();},\r\n      setOption: function(option, value) {\r\n        var oldVal = options[option];\r\n        options[option] = value;\r\n        if (option == \"mode\" || option == \"indentUnit\") loadMode();\r\n        else if (option == \"readOnly\" && value == \"nocursor\") {onBlur(); input.blur();}\r\n        else if (option == \"readOnly\" && !value) {resetInput(true);}\r\n        else if (option == \"theme\") themeChanged();\r\n        else if (option == \"lineWrapping\" && oldVal != value) operation(wrappingChanged)();\r\n        else if (option == \"tabSize\") updateDisplay(true);\r\n        else if (option == \"keyMap\") keyMapChanged();\r\n        else if (option == \"tabindex\") input.tabIndex = value;\r\n        if (option == \"lineNumbers\" || option == \"gutter\" || option == \"firstLineNumber\" ||\r\n            option == \"theme\" || option == \"lineNumberFormatter\") {\r\n          gutterChanged();\r\n          updateDisplay(true);\r\n        }\r\n      },\r\n      getOption: function(option) {return options[option];},\r\n      getMode: function() {return mode;},\r\n      undo: operation(undo),\r\n      redo: operation(redo),\r\n      indentLine: operation(function(n, dir) {\r\n        if (typeof dir != \"string\") {\r\n          if (dir == null) dir = options.smartIndent ? \"smart\" : \"prev\";\r\n          else dir = dir ? \"add\" : \"subtract\";\r\n        }\r\n        if (isLine(n)) indentLine(n, dir);\r\n      }),\r\n      indentSelection: operation(indentSelected),\r\n      historySize: function() {return {undo: history.done.length, redo: history.undone.length};},\r\n      clearHistory: function() {history = new History();},\r\n      setHistory: function(histData) {\r\n        history = new History();\r\n        history.done = histData.done;\r\n        history.undone = histData.undone;\r\n      },\r\n      getHistory: function() {\r\n        function cp(arr) {\r\n          for (var i = 0, nw = [], nwelt; i < arr.length; ++i) {\r\n            nw.push(nwelt = []);\r\n            for (var j = 0, elt = arr[i]; j < elt.length; ++j) {\r\n              var old = [], cur = elt[j];\r\n              nwelt.push({start: cur.start, added: cur.added, old: old});\r\n              for (var k = 0; k < cur.old.length; ++k) old.push(hlText(cur.old[k]));\r\n            }\r\n          }\r\n          return nw;\r\n        }\r\n        return {done: cp(history.done), undone: cp(history.undone)};\r\n      },\r\n      matchBrackets: operation(function(){matchBrackets(true);}),\r\n      getTokenAt: operation(function(pos) {\r\n        pos = clipPos(pos);\r\n        return getLine(pos.line).getTokenAt(mode, getStateBefore(pos.line), options.tabSize, pos.ch);\r\n      }),\r\n      getStateAfter: function(line) {\r\n        line = clipLine(line == null ? doc.size - 1: line);\r\n        return getStateBefore(line + 1);\r\n      },\r\n      cursorCoords: function(start, mode) {\r\n        if (start == null) start = sel.inverted;\r\n        return this.charCoords(start ? sel.from : sel.to, mode);\r\n      },\r\n      charCoords: function(pos, mode) {\r\n        pos = clipPos(pos);\r\n        if (mode == \"local\") return localCoords(pos, false);\r\n        if (mode == \"div\") return localCoords(pos, true);\r\n        return pageCoords(pos);\r\n      },\r\n      coordsChar: function(coords) {\r\n        var off = eltOffset(lineSpace);\r\n        return coordsChar(coords.x - off.left, coords.y - off.top);\r\n      },\r\n      markText: operation(markText),\r\n      setBookmark: setBookmark,\r\n      findMarksAt: findMarksAt,\r\n      setMarker: operation(addGutterMarker),\r\n      clearMarker: operation(removeGutterMarker),\r\n      setLineClass: operation(setLineClass),\r\n      hideLine: operation(function(h) {return setLineHidden(h, true);}),\r\n      showLine: operation(function(h) {return setLineHidden(h, false);}),\r\n      onDeleteLine: function(line, f) {\r\n        if (typeof line == \"number\") {\r\n          if (!isLine(line)) return null;\r\n          line = getLine(line);\r\n        }\r\n        (line.handlers || (line.handlers = [])).push(f);\r\n        return line;\r\n      },\r\n      lineInfo: lineInfo,\r\n      getViewport: function() { return {from: showingFrom, to: showingTo};},\r\n      addWidget: function(pos, node, scroll, vert, horiz) {\r\n        pos = localCoords(clipPos(pos));\r\n        var top = pos.yBot, left = pos.x;\r\n        node.style.position = \"absolute\";\r\n        sizer.appendChild(node);\r\n        if (vert == \"over\") top = pos.y;\r\n        else if (vert == \"near\") {\r\n          var vspace = Math.max(scroller.offsetHeight, doc.height * textHeight()),\r\n              hspace = Math.max(sizer.clientWidth, lineSpace.clientWidth) - paddingLeft();\r\n          if (pos.yBot + node.offsetHeight > vspace && pos.y > node.offsetHeight)\r\n            top = pos.y - node.offsetHeight;\r\n          if (left + node.offsetWidth > hspace)\r\n            left = hspace - node.offsetWidth;\r\n        }\r\n        node.style.top = (top + paddingTop()) + \"px\";\r\n        node.style.left = node.style.right = \"\";\r\n        if (horiz == \"right\") {\r\n          left = sizer.clientWidth - node.offsetWidth;\r\n          node.style.right = \"0px\";\r\n        } else {\r\n          if (horiz == \"left\") left = 0;\r\n          else if (horiz == \"middle\") left = (sizer.clientWidth - node.offsetWidth) / 2;\r\n          node.style.left = (left + paddingLeft()) + \"px\";\r\n        }\r\n        if (scroll)\r\n          scrollIntoView(left, top, left + node.offsetWidth, top + node.offsetHeight);\r\n      },\r\n\r\n      lineCount: function() {return doc.size;},\r\n      clipPos: clipPos,\r\n      getCursor: function(start) {\r\n        if (start == null) start = sel.inverted;\r\n        return copyPos(start ? sel.from : sel.to);\r\n      },\r\n      somethingSelected: function() {return !posEq(sel.from, sel.to);},\r\n      setCursor: operation(function(line, ch, user) {\r\n        if (ch == null && typeof line.line == \"number\") setCursor(line.line, line.ch, user);\r\n        else setCursor(line, ch, user);\r\n      }),\r\n      setSelection: operation(function(from, to, user) {\r\n        (user ? setSelectionUser : setSelection)(clipPos(from), clipPos(to || from));\r\n      }),\r\n      getLine: function(line) {if (isLine(line)) return getLine(line).text;},\r\n      getLineHandle: function(line) {if (isLine(line)) return getLine(line);},\r\n      setLine: operation(function(line, text) {\r\n        if (isLine(line)) replaceRange(text, {line: line, ch: 0}, {line: line, ch: getLine(line).text.length});\r\n      }),\r\n      removeLine: operation(function(line) {\r\n        if (isLine(line)) replaceRange(\"\", {line: line, ch: 0}, clipPos({line: line+1, ch: 0}));\r\n      }),\r\n      replaceRange: operation(replaceRange),\r\n      getRange: function(from, to, lineSep) {return getRange(clipPos(from), clipPos(to), lineSep);},\r\n\r\n      triggerOnKeyDown: operation(onKeyDown),\r\n      execCommand: function(cmd) {return commands[cmd](instance);},\r\n      // Stuff used by commands, probably not much use to outside code.\r\n      moveH: operation(moveH),\r\n      deleteH: operation(deleteH),\r\n      moveV: operation(moveV),\r\n      toggleOverwrite: function() {\r\n        if(overwrite){\r\n          overwrite = false;\r\n          cursor.className = cursor.className.replace(\" CodeMirror-overwrite\", \"\");\r\n        } else {\r\n          overwrite = true;\r\n          cursor.className += \" CodeMirror-overwrite\";\r\n        }\r\n      },\r\n\r\n      posFromIndex: function(off) {\r\n        var lineNo = 0, ch;\r\n        doc.iter(0, doc.size, function(line) {\r\n          var sz = line.text.length + 1;\r\n          if (sz > off) { ch = off; return true; }\r\n          off -= sz;\r\n          ++lineNo;\r\n        });\r\n        return clipPos({line: lineNo, ch: ch});\r\n      },\r\n      indexFromPos: function (coords) {\r\n        if (coords.line < 0 || coords.ch < 0) return 0;\r\n        var index = coords.ch;\r\n        doc.iter(0, coords.line, function (line) {\r\n          index += line.text.length + 1;\r\n        });\r\n        return index;\r\n      },\r\n      scrollTo: function(x, y) {\r\n        if (x != null) scroller.scrollLeft = x;\r\n        if (y != null) scrollbar.scrollTop = scroller.scrollTop = y;\r\n        updateDisplay([]);\r\n      },\r\n      getScrollInfo: function() {\r\n        return {x: scroller.scrollLeft, y: scrollbar.scrollTop,\r\n                height: scrollbar.scrollHeight, width: scroller.scrollWidth};\r\n      },\r\n      setSize: function(width, height) {\r\n        function interpret(val) {\r\n          val = String(val);\r\n          return /^\\d+$/.test(val) ? val + \"px\" : val;\r\n        }\r\n        if (width != null) wrapper.style.width = interpret(width);\r\n        if (height != null) scroller.style.height = interpret(height);\r\n        instance.refresh();\r\n      },\r\n\r\n      operation: function(f){return operation(f)();},\r\n      compoundChange: function(f){return compoundChange(f);},\r\n      refresh: function(){\r\n        updateDisplay(true, null, lastScrollTop);\r\n        if (scrollbar.scrollHeight > lastScrollTop)\r\n          scrollbar.scrollTop = lastScrollTop;\r\n      },\r\n      getInputField: function(){return input;},\r\n      getWrapperElement: function(){return wrapper;},\r\n      getScrollerElement: function(){return scroller;},\r\n      getGutterElement: function(){return gutter;}\r\n    };\r\n\r\n    function getLine(n) { return getLineAt(doc, n); }\r\n    function updateLineHeight(line, height) {\r\n      gutterDirty = true;\r\n      var diff = height - line.height;\r\n      for (var n = line; n; n = n.parent) n.height += diff;\r\n    }\r\n\r\n    function lineContent(line, wrapAt) {\r\n      if (!line.styles)\r\n        line.highlight(mode, line.stateAfter = getStateBefore(lineNo(line)), options.tabSize);\r\n      return line.getContent(options.tabSize, wrapAt, options.lineWrapping);\r\n    }\r\n\r\n    function setValue(code) {\r\n      var top = {line: 0, ch: 0};\r\n      updateLines(top, {line: doc.size - 1, ch: getLine(doc.size-1).text.length},\r\n                  splitLines(code), top, top);\r\n      updateInput = true;\r\n    }\r\n    function getValue(lineSep) {\r\n      var text = [];\r\n      doc.iter(0, doc.size, function(line) { text.push(line.text); });\r\n      return text.join(lineSep || \"\\n\");\r\n    }\r\n\r\n    function onScrollBar(e) {\r\n      if (scrollbar.scrollTop != lastScrollTop) {\r\n        lastScrollTop = scroller.scrollTop = scrollbar.scrollTop;\r\n        updateDisplay([]);\r\n      }\r\n    }\r\n\r\n    function onScrollMain(e) {\r\n      if (options.fixedGutter && gutter.style.left != scroller.scrollLeft + \"px\")\r\n        gutter.style.left = scroller.scrollLeft + \"px\";\r\n      if (scroller.scrollTop != lastScrollTop) {\r\n        lastScrollTop = scroller.scrollTop;\r\n        if (scrollbar.scrollTop != lastScrollTop)\r\n          scrollbar.scrollTop = lastScrollTop;\r\n        updateDisplay([]);\r\n      }\r\n      if (options.onScroll) options.onScroll(instance);\r\n    }\r\n\r\n    function onMouseDown(e) {\r\n      setShift(e_prop(e, \"shiftKey\"));\r\n      // Check whether this is a click in a widget\r\n      for (var n = e_target(e); n != wrapper; n = n.parentNode)\r\n        if (n.parentNode == sizer && n != mover) return;\r\n\r\n      // See if this is a click in the gutter\r\n      for (var n = e_target(e); n != wrapper; n = n.parentNode)\r\n        if (n.parentNode == gutterText) {\r\n          if (options.onGutterClick)\r\n            options.onGutterClick(instance, indexOf(gutterText.childNodes, n) + showingFrom, e);\r\n          return e_preventDefault(e);\r\n        }\r\n\r\n      var start = posFromMouse(e);\r\n\r\n      switch (e_button(e)) {\r\n      case 3:\r\n        if (gecko) onContextMenu(e);\r\n        return;\r\n      case 2:\r\n        if (start) setCursor(start.line, start.ch, true);\r\n        setTimeout(focusInput, 20);\r\n        e_preventDefault(e);\r\n        return;\r\n      }\r\n      // For button 1, if it was clicked inside the editor\r\n      // (posFromMouse returning non-null), we have to adjust the\r\n      // selection.\r\n      if (!start) {if (e_target(e) == scroller) e_preventDefault(e); return;}\r\n\r\n      if (!focused) onFocus();\r\n\r\n      var now = +new Date, type = \"single\";\r\n      if (lastDoubleClick && lastDoubleClick.time > now - 400 && posEq(lastDoubleClick.pos, start)) {\r\n        type = \"triple\";\r\n        e_preventDefault(e);\r\n        setTimeout(focusInput, 20);\r\n        selectLine(start.line);\r\n      } else if (lastClick && lastClick.time > now - 400 && posEq(lastClick.pos, start)) {\r\n        type = \"double\";\r\n        lastDoubleClick = {time: now, pos: start};\r\n        e_preventDefault(e);\r\n        var word = findWordAt(start);\r\n        setSelectionUser(word.from, word.to);\r\n      } else { lastClick = {time: now, pos: start}; }\r\n\r\n      function dragEnd(e2) {\r\n        if (webkit) scroller.draggable = false;\r\n        draggingText = false;\r\n        up(); drop();\r\n        if (Math.abs(e.clientX - e2.clientX) + Math.abs(e.clientY - e2.clientY) < 10) {\r\n          e_preventDefault(e2);\r\n          setCursor(start.line, start.ch, true);\r\n          focusInput();\r\n        }\r\n      }\r\n      var last = start, going;\r\n      if (options.dragDrop && dragAndDrop && !options.readOnly && !posEq(sel.from, sel.to) &&\r\n          !posLess(start, sel.from) && !posLess(sel.to, start) && type == \"single\") {\r\n        // Let the drag handler handle this.\r\n        if (webkit) scroller.draggable = true;\r\n        var up = connect(document, \"mouseup\", operation(dragEnd), true);\r\n        var drop = connect(scroller, \"drop\", operation(dragEnd), true);\r\n        draggingText = true;\r\n        // IE's approach to draggable\r\n        if (scroller.dragDrop) scroller.dragDrop();\r\n        return;\r\n      }\r\n      e_preventDefault(e);\r\n      if (type == \"single\") setCursor(start.line, start.ch, true);\r\n\r\n      var startstart = sel.from, startend = sel.to;\r\n\r\n      function doSelect(cur) {\r\n        if (type == \"single\") {\r\n          setSelectionUser(start, cur);\r\n        } else if (type == \"double\") {\r\n          var word = findWordAt(cur);\r\n          if (posLess(cur, startstart)) setSelectionUser(word.from, startend);\r\n          else setSelectionUser(startstart, word.to);\r\n        } else if (type == \"triple\") {\r\n          if (posLess(cur, startstart)) setSelectionUser(startend, clipPos({line: cur.line, ch: 0}));\r\n          else setSelectionUser(startstart, clipPos({line: cur.line + 1, ch: 0}));\r\n        }\r\n      }\r\n\r\n      function extend(e) {\r\n        var cur = posFromMouse(e, true);\r\n        if (cur && !posEq(cur, last)) {\r\n          if (!focused) onFocus();\r\n          last = cur;\r\n          doSelect(cur);\r\n          updateInput = false;\r\n          var visible = visibleLines();\r\n          if (cur.line >= visible.to || cur.line < visible.from)\r\n            going = setTimeout(operation(function(){extend(e);}), 150);\r\n        }\r\n      }\r\n\r\n      function done(e) {\r\n        clearTimeout(going);\r\n        var cur = posFromMouse(e);\r\n        if (cur) doSelect(cur);\r\n        e_preventDefault(e);\r\n        focusInput();\r\n        updateInput = true;\r\n        move(); up();\r\n      }\r\n      var move = connect(document, \"mousemove\", operation(function(e) {\r\n        clearTimeout(going);\r\n        e_preventDefault(e);\r\n        if (!ie && !e_button(e)) done(e);\r\n        else extend(e);\r\n      }), true);\r\n      var up = connect(document, \"mouseup\", operation(done), true);\r\n    }\r\n    function onDoubleClick(e) {\r\n      for (var n = e_target(e); n != wrapper; n = n.parentNode)\r\n        if (n.parentNode == gutterText) return e_preventDefault(e);\r\n      e_preventDefault(e);\r\n    }\r\n    function onDrop(e) {\r\n      if (options.onDragEvent && options.onDragEvent(instance, addStop(e))) return;\r\n      e_preventDefault(e);\r\n      var pos = posFromMouse(e, true), files = e.dataTransfer.files;\r\n      if (!pos || options.readOnly) return;\r\n      if (files && files.length && window.FileReader && window.File) {\r\n        var n = files.length, text = Array(n), read = 0;\r\n        var loadFile = function(file, i) {\r\n          var reader = new FileReader;\r\n          reader.onload = function() {\r\n            text[i] = reader.result;\r\n            if (++read == n) {\r\n              pos = clipPos(pos);\r\n              operation(function() {\r\n                var end = replaceRange(text.join(\"\"), pos, pos);\r\n                setSelectionUser(pos, end);\r\n              })();\r\n            }\r\n          };\r\n          reader.readAsText(file);\r\n        };\r\n        for (var i = 0; i < n; ++i) loadFile(files[i], i);\r\n      } else {\r\n        // Don't do a replace if the drop happened inside of the selected text.\r\n        if (draggingText && !(posLess(pos, sel.from) || posLess(sel.to, pos))) return;\r\n        try {\r\n          var text = e.dataTransfer.getData(\"Text\");\r\n          if (text) {\r\n            compoundChange(function() {\r\n              var curFrom = sel.from, curTo = sel.to;\r\n              setSelectionUser(pos, pos);\r\n              if (draggingText) replaceRange(\"\", curFrom, curTo);\r\n              replaceSelection(text);\r\n              focusInput();\r\n            });\r\n          }\r\n        }\r\n        catch(e){}\r\n      }\r\n    }\r\n    function onDragStart(e) {\r\n      var txt = getSelection();\r\n      e.dataTransfer.setData(\"Text\", txt);\r\n\r\n      // Use dummy image instead of default browsers image.\r\n      if (e.dataTransfer.setDragImage)\r\n        e.dataTransfer.setDragImage(elt('img'), 0, 0);\r\n    }\r\n\r\n    function doHandleBinding(bound, dropShift) {\r\n      if (typeof bound == \"string\") {\r\n        bound = commands[bound];\r\n        if (!bound) return false;\r\n      }\r\n      var prevShift = shiftSelecting;\r\n      try {\r\n        if (options.readOnly) suppressEdits = true;\r\n        if (dropShift) shiftSelecting = null;\r\n        bound(instance);\r\n      } catch(e) {\r\n        if (e != Pass) throw e;\r\n        return false;\r\n      } finally {\r\n        shiftSelecting = prevShift;\r\n        suppressEdits = false;\r\n      }\r\n      return true;\r\n    }\r\n    var maybeTransition;\r\n    function handleKeyBinding(e) {\r\n      // Handle auto keymap transitions\r\n      var startMap = getKeyMap(options.keyMap), next = startMap.auto;\r\n      clearTimeout(maybeTransition);\r\n      if (next && !isModifierKey(e)) maybeTransition = setTimeout(function() {\r\n        if (getKeyMap(options.keyMap) == startMap) {\r\n          options.keyMap = (next.call ? next.call(null, instance) : next);\r\n        }\r\n      }, 50);\r\n\r\n      var name = keyNames[e_prop(e, \"keyCode\")], handled = false;\r\n      var flipCtrlCmd = opera && mac;\r\n      if (name == null || e.altGraphKey) return false;\r\n      if (e_prop(e, \"altKey\")) name = \"Alt-\" + name;\r\n      if (e_prop(e, flipCtrlCmd ? \"metaKey\" : \"ctrlKey\")) name = \"Ctrl-\" + name;\r\n      if (e_prop(e, flipCtrlCmd ? \"ctrlKey\" : \"metaKey\")) name = \"Cmd-\" + name;\r\n\r\n      var stopped = false;\r\n      function stop() { stopped = true; }\r\n\r\n      if (e_prop(e, \"shiftKey\")) {\r\n        handled = lookupKey(\"Shift-\" + name, options.extraKeys, options.keyMap,\r\n                            function(b) {return doHandleBinding(b, true);}, stop)\r\n               || lookupKey(name, options.extraKeys, options.keyMap, function(b) {\r\n                 if (typeof b == \"string\" && /^go[A-Z]/.test(b)) return doHandleBinding(b);\r\n               }, stop);\r\n      } else {\r\n        handled = lookupKey(name, options.extraKeys, options.keyMap, doHandleBinding, stop);\r\n      }\r\n      if (stopped) handled = false;\r\n      if (handled) {\r\n        e_preventDefault(e);\r\n        restartBlink();\r\n        if (ie) { e.oldKeyCode = e.keyCode; e.keyCode = 0; }\r\n      }\r\n      return handled;\r\n    }\r\n    function handleCharBinding(e, ch) {\r\n      var handled = lookupKey(\"'\" + ch + \"'\", options.extraKeys,\r\n                              options.keyMap, function(b) { return doHandleBinding(b, true); });\r\n      if (handled) {\r\n        e_preventDefault(e);\r\n        restartBlink();\r\n      }\r\n      return handled;\r\n    }\r\n\r\n    var lastStoppedKey = null;\r\n    function onKeyDown(e) {\r\n      if (!focused) onFocus();\r\n      if (ie && e.keyCode == 27) { e.returnValue = false; }\r\n      if (pollingFast) { if (readInput()) pollingFast = false; }\r\n      if (options.onKeyEvent && options.onKeyEvent(instance, addStop(e))) return;\r\n      var code = e_prop(e, \"keyCode\");\r\n      // IE does strange things with escape.\r\n      setShift(code == 16 || e_prop(e, \"shiftKey\"));\r\n      // First give onKeyEvent option a chance to handle this.\r\n      var handled = handleKeyBinding(e);\r\n      if (opera) {\r\n        lastStoppedKey = handled ? code : null;\r\n        // Opera has no cut event... we try to at least catch the key combo\r\n        if (!handled && code == 88 && e_prop(e, mac ? \"metaKey\" : \"ctrlKey\"))\r\n          replaceSelection(\"\");\r\n      }\r\n    }\r\n    function onKeyPress(e) {\r\n      if (pollingFast) readInput();\r\n      if (options.onKeyEvent && options.onKeyEvent(instance, addStop(e))) return;\r\n      var keyCode = e_prop(e, \"keyCode\"), charCode = e_prop(e, \"charCode\");\r\n      if (opera && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return;}\r\n      if (((opera && (!e.which || e.which < 10)) || khtml) && handleKeyBinding(e)) return;\r\n      var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\r\n      if (options.electricChars && mode.electricChars && options.smartIndent && !options.readOnly) {\r\n        if (mode.electricChars.indexOf(ch) > -1)\r\n          setTimeout(operation(function() {indentLine(sel.to.line, \"smart\");}), 75);\r\n      }\r\n      if (handleCharBinding(e, ch)) return;\r\n      fastPoll();\r\n    }\r\n    function onKeyUp(e) {\r\n      if (options.onKeyEvent && options.onKeyEvent(instance, addStop(e))) return;\r\n      if (e_prop(e, \"keyCode\") == 16) shiftSelecting = null;\r\n    }\r\n\r\n    function onFocus() {\r\n      if (options.readOnly == \"nocursor\") return;\r\n      if (!focused) {\r\n        if (options.onFocus) options.onFocus(instance);\r\n        focused = true;\r\n        if (scroller.className.search(/\\bCodeMirror-focused\\b/) == -1)\r\n          scroller.className += \" CodeMirror-focused\";\r\n      }\r\n      slowPoll();\r\n      restartBlink();\r\n    }\r\n    function onBlur() {\r\n      if (focused) {\r\n        if (options.onBlur) options.onBlur(instance);\r\n        focused = false;\r\n        if (bracketHighlighted)\r\n          operation(function(){\r\n            if (bracketHighlighted) { bracketHighlighted(); bracketHighlighted = null; }\r\n          })();\r\n        scroller.className = scroller.className.replace(\" CodeMirror-focused\", \"\");\r\n      }\r\n      clearInterval(blinker);\r\n      setTimeout(function() {if (!focused) shiftSelecting = null;}, 150);\r\n    }\r\n\r\n    // Replace the range from from to to by the strings in newText.\r\n    // Afterwards, set the selection to selFrom, selTo.\r\n    function updateLines(from, to, newText, selFrom, selTo) {\r\n      if (suppressEdits) return;\r\n      var old = [];\r\n      doc.iter(from.line, to.line + 1, function(line) {\r\n        old.push(newHL(line.text, line.markedSpans));\r\n      });\r\n      if (history) {\r\n        history.addChange(from.line, newText.length, old);\r\n        while (history.done.length > options.undoDepth) history.done.shift();\r\n      }\r\n      var lines = updateMarkedSpans(hlSpans(old[0]), hlSpans(lst(old)), from.ch, to.ch, newText);\r\n      updateLinesNoUndo(from, to, lines, selFrom, selTo);\r\n    }\r\n    function unredoHelper(from, to) {\r\n      if (!from.length) return;\r\n      var set = from.pop(), out = [];\r\n      for (var i = set.length - 1; i >= 0; i -= 1) {\r\n        var change = set[i];\r\n        var replaced = [], end = change.start + change.added;\r\n        doc.iter(change.start, end, function(line) { replaced.push(newHL(line.text, line.markedSpans)); });\r\n        out.push({start: change.start, added: change.old.length, old: replaced});\r\n        var pos = {line: change.start + change.old.length - 1,\r\n                   ch: editEnd(hlText(lst(replaced)), hlText(lst(change.old)))};\r\n        updateLinesNoUndo({line: change.start, ch: 0}, {line: end - 1, ch: getLine(end-1).text.length},\r\n                          change.old, pos, pos);\r\n      }\r\n      updateInput = true;\r\n      to.push(out);\r\n    }\r\n    function undo() {unredoHelper(history.done, history.undone);}\r\n    function redo() {unredoHelper(history.undone, history.done);}\r\n\r\n    function updateLinesNoUndo(from, to, lines, selFrom, selTo) {\r\n      if (suppressEdits) return;\r\n      var recomputeMaxLength = false, maxLineLength = maxLine.text.length;\r\n      if (!options.lineWrapping)\r\n        doc.iter(from.line, to.line + 1, function(line) {\r\n          if (!line.hidden && line.text.length == maxLineLength) {recomputeMaxLength = true; return true;}\r\n        });\r\n      if (from.line != to.line || lines.length > 1) gutterDirty = true;\r\n\r\n      var nlines = to.line - from.line, firstLine = getLine(from.line), lastLine = getLine(to.line);\r\n      var lastHL = lst(lines);\r\n\r\n      // First adjust the line structure\r\n      if (from.ch == 0 && to.ch == 0 && hlText(lastHL) == \"\") {\r\n        // This is a whole-line replace. Treated specially to make\r\n        // sure line objects move the way they are supposed to.\r\n        var added = [], prevLine = null;\r\n        for (var i = 0, e = lines.length - 1; i < e; ++i)\r\n          added.push(new Line(hlText(lines[i]), hlSpans(lines[i])));\r\n        lastLine.update(lastLine.text, hlSpans(lastHL));\r\n        if (nlines) doc.remove(from.line, nlines, callbacks);\r\n        if (added.length) doc.insert(from.line, added);\r\n      } else if (firstLine == lastLine) {\r\n        if (lines.length == 1) {\r\n          firstLine.update(firstLine.text.slice(0, from.ch) + hlText(lines[0]) + firstLine.text.slice(to.ch), hlSpans(lines[0]));\r\n        } else {\r\n          for (var added = [], i = 1, e = lines.length - 1; i < e; ++i)\r\n            added.push(new Line(hlText(lines[i]), hlSpans(lines[i])));\r\n          added.push(new Line(hlText(lastHL) + firstLine.text.slice(to.ch), hlSpans(lastHL)));\r\n          firstLine.update(firstLine.text.slice(0, from.ch) + hlText(lines[0]), hlSpans(lines[0]));\r\n          doc.insert(from.line + 1, added);\r\n        }\r\n      } else if (lines.length == 1) {\r\n        firstLine.update(firstLine.text.slice(0, from.ch) + hlText(lines[0]) + lastLine.text.slice(to.ch), hlSpans(lines[0]));\r\n        doc.remove(from.line + 1, nlines, callbacks);\r\n      } else {\r\n        var added = [];\r\n        firstLine.update(firstLine.text.slice(0, from.ch) + hlText(lines[0]), hlSpans(lines[0]));\r\n        lastLine.update(hlText(lastHL) + lastLine.text.slice(to.ch), hlSpans(lastHL));\r\n        for (var i = 1, e = lines.length - 1; i < e; ++i)\r\n          added.push(new Line(hlText(lines[i]), hlSpans(lines[i])));\r\n        if (nlines > 1) doc.remove(from.line + 1, nlines - 1, callbacks);\r\n        doc.insert(from.line + 1, added);\r\n      }\r\n      if (options.lineWrapping) {\r\n        var perLine = Math.max(5, scroller.clientWidth / charWidth() - 3);\r\n        doc.iter(from.line, from.line + lines.length, function(line) {\r\n          if (line.hidden) return;\r\n          var guess = Math.ceil(line.text.length / perLine) || 1;\r\n          if (guess != line.height) updateLineHeight(line, guess);\r\n        });\r\n      } else {\r\n        doc.iter(from.line, from.line + lines.length, function(line) {\r\n          var l = line.text;\r\n          if (!line.hidden && l.length > maxLineLength) {\r\n            maxLine = line; maxLineLength = l.length; maxLineChanged = true;\r\n            recomputeMaxLength = false;\r\n          }\r\n        });\r\n        if (recomputeMaxLength) updateMaxLine = true;\r\n      }\r\n\r\n      // Adjust frontier, schedule worker\r\n      frontier = Math.min(frontier, from.line);\r\n      startWorker(400);\r\n\r\n      var lendiff = lines.length - nlines - 1;\r\n      // Remember that these lines changed, for updating the display\r\n      changes.push({from: from.line, to: to.line + 1, diff: lendiff});\r\n      if (options.onChange) {\r\n        // Normalize lines to contain only strings, since that's what\r\n        // the change event handler expects\r\n        for (var i = 0; i < lines.length; ++i)\r\n          if (typeof lines[i] != \"string\") lines[i] = lines[i].text;\r\n        var changeObj = {from: from, to: to, text: lines};\r\n        if (textChanged) {\r\n          for (var cur = textChanged; cur.next; cur = cur.next) {}\r\n          cur.next = changeObj;\r\n        } else textChanged = changeObj;\r\n      }\r\n\r\n      // Update the selection\r\n      function updateLine(n) {return n <= Math.min(to.line, to.line + lendiff) ? n : n + lendiff;}\r\n      setSelection(clipPos(selFrom), clipPos(selTo),\r\n                   updateLine(sel.from.line), updateLine(sel.to.line));\r\n    }\r\n\r\n    function needsScrollbar() {\r\n      var realHeight = doc.height * textHeight() + 2 * paddingTop();\r\n      return realHeight * .99 > scroller.offsetHeight ? realHeight : false;\r\n    }\r\n\r\n    function updateVerticalScroll(scrollTop) {\r\n      var scrollHeight = needsScrollbar();\r\n      scrollbar.style.display = scrollHeight ? \"block\" : \"none\";\r\n      if (scrollHeight) {\r\n        scrollbarInner.style.height = sizer.style.minHeight = scrollHeight + \"px\";\r\n        scrollbar.style.height = scroller.clientHeight + \"px\";\r\n        if (scrollTop != null) {\r\n          scrollbar.scrollTop = scroller.scrollTop = scrollTop;\r\n          // 'Nudge' the scrollbar to work around a Webkit bug where,\r\n          // in some situations, we'd end up with a scrollbar that\r\n          // reported its scrollTop (and looked) as expected, but\r\n          // *behaved* as if it was still in a previous state (i.e.\r\n          // couldn't scroll up, even though it appeared to be at the\r\n          // bottom).\r\n          if (webkit) setTimeout(function() {\r\n            if (scrollbar.scrollTop != scrollTop) return;\r\n            scrollbar.scrollTop = scrollTop + (scrollTop ? -1 : 1);\r\n            scrollbar.scrollTop = scrollTop;\r\n          }, 0);\r\n        }\r\n      } else {\r\n        sizer.style.minHeight = \"\";\r\n      }\r\n      // Position the mover div to align with the current virtual scroll position\r\n      mover.style.top = displayOffset * textHeight() + \"px\";\r\n    }\r\n\r\n    function computeMaxLength() {\r\n      maxLine = getLine(0); maxLineChanged = true;\r\n      var maxLineLength = maxLine.text.length;\r\n      doc.iter(1, doc.size, function(line) {\r\n        var l = line.text;\r\n        if (!line.hidden && l.length > maxLineLength) {\r\n          maxLineLength = l.length; maxLine = line;\r\n        }\r\n      });\r\n      updateMaxLine = false;\r\n    }\r\n\r\n    function replaceRange(code, from, to) {\r\n      from = clipPos(from);\r\n      if (!to) to = from; else to = clipPos(to);\r\n      code = splitLines(code);\r\n      function adjustPos(pos) {\r\n        if (posLess(pos, from)) return pos;\r\n        if (!posLess(to, pos)) return end;\r\n        var line = pos.line + code.length - (to.line - from.line) - 1;\r\n        var ch = pos.ch;\r\n        if (pos.line == to.line)\r\n          ch += lst(code).length - (to.ch - (to.line == from.line ? from.ch : 0));\r\n        return {line: line, ch: ch};\r\n      }\r\n      var end;\r\n      replaceRange1(code, from, to, function(end1) {\r\n        end = end1;\r\n        return {from: adjustPos(sel.from), to: adjustPos(sel.to)};\r\n      });\r\n      return end;\r\n    }\r\n    function replaceSelection(code, collapse) {\r\n      replaceRange1(splitLines(code), sel.from, sel.to, function(end) {\r\n        if (collapse == \"end\") return {from: end, to: end};\r\n        else if (collapse == \"start\") return {from: sel.from, to: sel.from};\r\n        else return {from: sel.from, to: end};\r\n      });\r\n    }\r\n    function replaceRange1(code, from, to, computeSel) {\r\n      var endch = code.length == 1 ? code[0].length + from.ch : lst(code).length;\r\n      var newSel = computeSel({line: from.line + code.length - 1, ch: endch});\r\n      updateLines(from, to, code, newSel.from, newSel.to);\r\n    }\r\n\r\n    function getRange(from, to, lineSep) {\r\n      var l1 = from.line, l2 = to.line;\r\n      if (l1 == l2) return getLine(l1).text.slice(from.ch, to.ch);\r\n      var code = [getLine(l1).text.slice(from.ch)];\r\n      doc.iter(l1 + 1, l2, function(line) { code.push(line.text); });\r\n      code.push(getLine(l2).text.slice(0, to.ch));\r\n      return code.join(lineSep || \"\\n\");\r\n    }\r\n    function getSelection(lineSep) {\r\n      return getRange(sel.from, sel.to, lineSep);\r\n    }\r\n\r\n    function slowPoll() {\r\n      if (pollingFast) return;\r\n      poll.set(options.pollInterval, function() {\r\n        readInput();\r\n        if (focused) slowPoll();\r\n      });\r\n    }\r\n    function fastPoll() {\r\n      var missed = false;\r\n      pollingFast = true;\r\n      function p() {\r\n        var changed = readInput();\r\n        if (!changed && !missed) {missed = true; poll.set(60, p);}\r\n        else {pollingFast = false; slowPoll();}\r\n      }\r\n      poll.set(20, p);\r\n    }\r\n\r\n    // Previnput is a hack to work with IME. If we reset the textarea\r\n    // on every change, that breaks IME. So we look for changes\r\n    // compared to the previous content instead. (Modern browsers have\r\n    // events that indicate IME taking place, but these are not widely\r\n    // supported or compatible enough yet to rely on.)\r\n    var prevInput = \"\";\r\n    function readInput() {\r\n      if (!focused || hasSelection(input) || options.readOnly) return false;\r\n      var text = input.value;\r\n      if (text == prevInput) return false;\r\n      if (!nestedOperation) startOperation();\r\n      shiftSelecting = null;\r\n      var same = 0, l = Math.min(prevInput.length, text.length);\r\n      while (same < l && prevInput[same] == text[same]) ++same;\r\n      if (same < prevInput.length)\r\n        sel.from = {line: sel.from.line, ch: sel.from.ch - (prevInput.length - same)};\r\n      else if (overwrite && posEq(sel.from, sel.to) && !pasteIncoming)\r\n        sel.to = {line: sel.to.line, ch: Math.min(getLine(sel.to.line).text.length, sel.to.ch + (text.length - same))};\r\n      replaceSelection(text.slice(same), \"end\");\r\n      if (text.length > 1000) { input.value = prevInput = \"\"; }\r\n      else prevInput = text;\r\n      if (!nestedOperation) endOperation();\r\n      pasteIncoming = false;\r\n      return true;\r\n    }\r\n    function resetInput(user) {\r\n      if (!posEq(sel.from, sel.to)) {\r\n        prevInput = \"\";\r\n        input.value = getSelection();\r\n        if (focused) selectInput(input);\r\n      } else if (user) prevInput = input.value = \"\";\r\n    }\r\n\r\n    function focusInput() {\r\n      if (options.readOnly != \"nocursor\") input.focus();\r\n    }\r\n\r\n    function scrollCursorIntoView() {\r\n      var coords = calculateCursorCoords();\r\n      scrollIntoView(coords.x, coords.y, coords.x, coords.yBot);\r\n      if (!focused) return;\r\n      var box = sizer.getBoundingClientRect(), doScroll = null;\r\n      if (coords.y + box.top < 0) doScroll = true;\r\n      else if (coords.y + box.top + textHeight() > (window.innerHeight || document.documentElement.clientHeight)) doScroll = false;\r\n      if (doScroll != null) {\r\n        var hidden = cursor.style.display == \"none\";\r\n        if (hidden) {\r\n          cursor.style.display = \"\";\r\n          cursor.style.left = coords.x + \"px\";\r\n          cursor.style.top = (coords.y - displayOffset) + \"px\";\r\n        }\r\n        cursor.scrollIntoView(doScroll);\r\n        if (hidden) cursor.style.display = \"none\";\r\n      }\r\n    }\r\n    function calculateCursorCoords() {\r\n      var cursor = localCoords(sel.inverted ? sel.from : sel.to);\r\n      var x = options.lineWrapping ? Math.min(cursor.x, lineSpace.offsetWidth) : cursor.x;\r\n      return {x: x, y: cursor.y, yBot: cursor.yBot};\r\n    }\r\n    function scrollIntoView(x1, y1, x2, y2) {\r\n      var scrollPos = calculateScrollPos(x1, y1, x2, y2);\r\n      if (scrollPos.scrollLeft != null) {scroller.scrollLeft = scrollPos.scrollLeft;}\r\n      if (scrollPos.scrollTop != null) {scrollbar.scrollTop = scroller.scrollTop = scrollPos.scrollTop;}\r\n    }\r\n    function calculateScrollPos(x1, y1, x2, y2) {\r\n      var pl = paddingLeft(), pt = paddingTop();\r\n      y1 += pt; y2 += pt; x1 += pl; x2 += pl;\r\n      var screen = scroller.clientHeight, screentop = scrollbar.scrollTop, result = {};\r\n      var docBottom = needsScrollbar() || Infinity;\r\n      var atTop = y1 < pt + 10, atBottom = y2 + pt > docBottom - 10;\r\n      if (y1 < screentop) result.scrollTop = atTop ? 0 : Math.max(0, y1);\r\n      else if (y2 > screentop + screen) result.scrollTop = (atBottom ? docBottom : y2) - screen;\r\n\r\n      var screenw = scroller.clientWidth, screenleft = scroller.scrollLeft;\r\n      var gutterw = options.fixedGutter ? gutter.clientWidth : 0;\r\n      var atLeft = x1 < gutterw + pl + 10;\r\n      if (x1 < screenleft + gutterw || atLeft) {\r\n        if (atLeft) x1 = 0;\r\n        result.scrollLeft = Math.max(0, x1 - 10 - gutterw);\r\n      } else if (x2 > screenw + screenleft - 3) {\r\n        result.scrollLeft = x2 + 10 - screenw;\r\n      }\r\n      return result;\r\n    }\r\n\r\n    function visibleLines(scrollTop) {\r\n      var lh = textHeight(), top = (scrollTop != null ? scrollTop : scrollbar.scrollTop) - paddingTop();\r\n      var fromHeight = Math.max(0, Math.floor(top / lh));\r\n      var toHeight = Math.ceil((top + scroller.clientHeight) / lh);\r\n      return {from: lineAtHeight(doc, fromHeight),\r\n              to: lineAtHeight(doc, toHeight)};\r\n    }\r\n    // Uses a set of changes plus the current scroll position to\r\n    // determine which DOM updates have to be made, and makes the\r\n    // updates.\r\n    function updateDisplay(changes, suppressCallback, scrollTop) {\r\n      if (!scroller.clientWidth) {\r\n        showingFrom = showingTo = displayOffset = 0;\r\n        return;\r\n      }\r\n      // Compute the new visible window\r\n      // If scrollTop is specified, use that to determine which lines\r\n      // to render instead of the current scrollbar position.\r\n      var visible = visibleLines(scrollTop);\r\n      // Bail out if the visible area is already rendered and nothing changed.\r\n      if (changes !== true && changes.length == 0 && visible.from > showingFrom && visible.to < showingTo) {\r\n        updateVerticalScroll(scrollTop);\r\n        return;\r\n      }\r\n      var from = Math.max(visible.from - 100, 0), to = Math.min(doc.size, visible.to + 100);\r\n      if (showingFrom < from && from - showingFrom < 20) from = showingFrom;\r\n      if (showingTo > to && showingTo - to < 20) to = Math.min(doc.size, showingTo);\r\n\r\n      // Create a range of theoretically intact lines, and punch holes\r\n      // in that using the change info.\r\n      var intact = changes === true ? [] :\r\n        computeIntact([{from: showingFrom, to: showingTo, domStart: 0}], changes);\r\n      // Clip off the parts that won't be visible\r\n      var intactLines = 0;\r\n      for (var i = 0; i < intact.length; ++i) {\r\n        var range = intact[i];\r\n        if (range.from < from) {range.domStart += (from - range.from); range.from = from;}\r\n        if (range.to > to) range.to = to;\r\n        if (range.from >= range.to) intact.splice(i--, 1);\r\n        else intactLines += range.to - range.from;\r\n      }\r\n      if (intactLines == to - from && from == showingFrom && to == showingTo) {\r\n        updateVerticalScroll(scrollTop);\r\n        return;\r\n      }\r\n      intact.sort(function(a, b) {return a.domStart - b.domStart;});\r\n\r\n      var th = textHeight(), gutterDisplay = gutter.style.display;\r\n      lineDiv.style.display = \"none\";\r\n      patchDisplay(from, to, intact);\r\n      lineDiv.style.display = gutter.style.display = \"\";\r\n\r\n      var different = from != showingFrom || to != showingTo || lastSizeC != scroller.clientHeight + th;\r\n      // This is just a bogus formula that detects when the editor is\r\n      // resized or the font size changes.\r\n      if (different) lastSizeC = scroller.clientHeight + th;\r\n      if (from != showingFrom || to != showingTo && options.onViewportChange)\r\n        setTimeout(function(){\r\n          if (options.onViewportChange) options.onViewportChange(instance, from, to);\r\n        });\r\n      showingFrom = from; showingTo = to;\r\n      displayOffset = heightAtLine(doc, from);\r\n      startWorker(100);\r\n\r\n      // Since this is all rather error prone, it is honoured with the\r\n      // only assertion in the whole file.\r\n      if (lineDiv.childNodes.length != showingTo - showingFrom)\r\n        throw new Error(\"BAD PATCH! \" + JSON.stringify(intact) + \" size=\" + (showingTo - showingFrom) +\r\n                        \" nodes=\" + lineDiv.childNodes.length);\r\n\r\n      function checkHeights() {\r\n        var curNode = lineDiv.firstChild, heightChanged = false;\r\n        doc.iter(showingFrom, showingTo, function(line) {\r\n          // Work around bizarro IE7 bug where, sometimes, our curNode\r\n          // is magically replaced with a new node in the DOM, leaving\r\n          // us with a reference to an orphan (nextSibling-less) node.\r\n          if (!curNode) return;\r\n          if (!line.hidden) {\r\n            var height = Math.round(curNode.offsetHeight / th) || 1;\r\n            if (line.height != height) {\r\n              updateLineHeight(line, height);\r\n              gutterDirty = heightChanged = true;\r\n            }\r\n          }\r\n          curNode = curNode.nextSibling;\r\n        });\r\n        return heightChanged;\r\n      }\r\n\r\n      if (options.lineWrapping) checkHeights();\r\n\r\n      gutter.style.display = gutterDisplay;\r\n      if (different || gutterDirty) {\r\n        // If the gutter grew in size, re-check heights. If those changed, re-draw gutter.\r\n        updateGutter() && options.lineWrapping && checkHeights() && updateGutter();\r\n      }\r\n      updateVerticalScroll(scrollTop);\r\n      updateSelection();\r\n      if (!suppressCallback && options.onUpdate) options.onUpdate(instance);\r\n      return true;\r\n    }\r\n\r\n    function computeIntact(intact, changes) {\r\n      for (var i = 0, l = changes.length || 0; i < l; ++i) {\r\n        var change = changes[i], intact2 = [], diff = change.diff || 0;\r\n        for (var j = 0, l2 = intact.length; j < l2; ++j) {\r\n          var range = intact[j];\r\n          if (change.to <= range.from && change.diff)\r\n            intact2.push({from: range.from + diff, to: range.to + diff,\r\n                          domStart: range.domStart});\r\n          else if (change.to <= range.from || change.from >= range.to)\r\n            intact2.push(range);\r\n          else {\r\n            if (change.from > range.from)\r\n              intact2.push({from: range.from, to: change.from, domStart: range.domStart});\r\n            if (change.to < range.to)\r\n              intact2.push({from: change.to + diff, to: range.to + diff,\r\n                            domStart: range.domStart + (change.to - range.from)});\r\n          }\r\n        }\r\n        intact = intact2;\r\n      }\r\n      return intact;\r\n    }\r\n\r\n    function patchDisplay(from, to, intact) {\r\n      function killNode(node) {\r\n        var tmp = node.nextSibling;\r\n        node.parentNode.removeChild(node);\r\n        return tmp;\r\n      }\r\n      // The first pass removes the DOM nodes that aren't intact.\r\n      if (!intact.length) removeChildren(lineDiv);\r\n      else {\r\n        var domPos = 0, curNode = lineDiv.firstChild, n;\r\n        for (var i = 0; i < intact.length; ++i) {\r\n          var cur = intact[i];\r\n          while (cur.domStart > domPos) {curNode = killNode(curNode); domPos++;}\r\n          for (var j = 0, e = cur.to - cur.from; j < e; ++j) {curNode = curNode.nextSibling; domPos++;}\r\n        }\r\n        while (curNode) curNode = killNode(curNode);\r\n      }\r\n      // This pass fills in the lines that actually changed.\r\n      var nextIntact = intact.shift(), curNode = lineDiv.firstChild, j = from;\r\n      doc.iter(from, to, function(line) {\r\n        if (nextIntact && nextIntact.to == j) nextIntact = intact.shift();\r\n        if (!nextIntact || nextIntact.from > j) {\r\n          if (line.hidden) var lineElement = elt(\"pre\");\r\n          else {\r\n            var lineElement = lineContent(line);\r\n            if (line.className) lineElement.className = line.className;\r\n            // Kludge to make sure the styled element lies behind the selection (by z-index)\r\n            if (line.bgClassName) {\r\n              var pre = elt(\"pre\", \"\\u00a0\", line.bgClassName, \"position: absolute; left: 0; right: 0; top: 0; bottom: 0; z-index: -2\");\r\n              lineElement = elt(\"div\", [pre, lineElement], null, \"position: relative\");\r\n            }\r\n          }\r\n          lineDiv.insertBefore(lineElement, curNode);\r\n        } else {\r\n          curNode = curNode.nextSibling;\r\n        }\r\n        ++j;\r\n      });\r\n    }\r\n\r\n    function updateGutter() {\r\n      if (!options.gutter && !options.lineNumbers) return;\r\n      var hText = mover.offsetHeight, hEditor = scroller.clientHeight;\r\n      gutter.style.height = (hText - hEditor < 2 ? hEditor : hText) + \"px\";\r\n      var fragment = document.createDocumentFragment(), i = showingFrom, normalNode;\r\n      doc.iter(showingFrom, Math.max(showingTo, showingFrom + 1), function(line) {\r\n        if (line.hidden) {\r\n          fragment.appendChild(elt(\"pre\"));\r\n        } else {\r\n          var marker = line.gutterMarker;\r\n          var text = options.lineNumbers ? options.lineNumberFormatter(i + options.firstLineNumber) : null;\r\n          if (marker && marker.text)\r\n            text = marker.text.replace(\"%N%\", text != null ? text : \"\");\r\n          else if (text == null)\r\n            text = \"\\u00a0\";\r\n          var markerElement = fragment.appendChild(elt(\"pre\", null, marker && marker.style));\r\n          markerElement.innerHTML = text;\r\n          for (var j = 1; j < line.height; ++j) {\r\n            markerElement.appendChild(elt(\"br\"));\r\n            markerElement.appendChild(document.createTextNode(\"\\u00a0\"));\r\n          }\r\n          if (!marker) normalNode = i;\r\n        }\r\n        ++i;\r\n      });\r\n      gutter.style.display = \"none\";\r\n      removeChildrenAndAdd(gutterText, fragment);\r\n      // Make sure scrolling doesn't cause number gutter size to pop\r\n      if (normalNode != null && options.lineNumbers) {\r\n        var node = gutterText.childNodes[normalNode - showingFrom];\r\n        var minwidth = String(doc.size).length, val = eltText(node.firstChild), pad = \"\";\r\n        while (val.length + pad.length < minwidth) pad += \"\\u00a0\";\r\n        if (pad) node.insertBefore(document.createTextNode(pad), node.firstChild);\r\n      }\r\n      gutter.style.display = \"\";\r\n      var resized = Math.abs((parseInt(lineSpace.style.marginLeft) || 0) - gutter.offsetWidth) > 2;\r\n      lineSpace.style.marginLeft = gutter.offsetWidth + \"px\";\r\n      gutterDirty = false;\r\n      return resized;\r\n    }\r\n    function updateSelection() {\r\n      var collapsed = posEq(sel.from, sel.to);\r\n      var fromPos = localCoords(sel.from, true);\r\n      var toPos = collapsed ? fromPos : localCoords(sel.to, true);\r\n      var headPos = sel.inverted ? fromPos : toPos, th = textHeight();\r\n      var wrapOff = eltOffset(wrapper), lineOff = eltOffset(lineDiv);\r\n      inputDiv.style.top = Math.max(0, Math.min(scroller.offsetHeight, headPos.y + lineOff.top - wrapOff.top)) + \"px\";\r\n      inputDiv.style.left = Math.max(0, Math.min(scroller.offsetWidth, headPos.x + lineOff.left - wrapOff.left)) + \"px\";\r\n      if (collapsed) {\r\n        cursor.style.top = headPos.y + \"px\";\r\n        cursor.style.left = (options.lineWrapping ? Math.min(headPos.x, lineSpace.offsetWidth) : headPos.x) + \"px\";\r\n        cursor.style.display = \"\";\r\n        selectionDiv.style.display = \"none\";\r\n      } else {\r\n        var sameLine = fromPos.y == toPos.y, fragment = document.createDocumentFragment();\r\n        var clientWidth = lineSpace.clientWidth || lineSpace.offsetWidth;\r\n        var clientHeight = lineSpace.clientHeight || lineSpace.offsetHeight;\r\n        var add = function(left, top, right, height) {\r\n          var rstyle = quirksMode ? \"width: \" + (!right ? clientWidth : clientWidth - right - left) + \"px\"\r\n                                  : \"right: \" + right + \"px\";\r\n          fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", \"position: absolute; left: \" + left +\r\n                                   \"px; top: \" + top + \"px; \" + rstyle + \"; height: \" + height + \"px\"));\r\n        };\r\n        if (sel.from.ch && fromPos.y >= 0) {\r\n          var right = sameLine ? clientWidth - toPos.x : 0;\r\n          add(fromPos.x, fromPos.y, right, th);\r\n        }\r\n        var middleStart = Math.max(0, fromPos.y + (sel.from.ch ? th : 0));\r\n        var middleHeight = Math.min(toPos.y, clientHeight) - middleStart;\r\n        if (middleHeight > 0.2 * th)\r\n          add(0, middleStart, 0, middleHeight);\r\n        if ((!sameLine || !sel.from.ch) && toPos.y < clientHeight - .5 * th)\r\n          add(0, toPos.y, clientWidth - toPos.x, th);\r\n        removeChildrenAndAdd(selectionDiv, fragment);\r\n        cursor.style.display = \"none\";\r\n        selectionDiv.style.display = \"\";\r\n      }\r\n    }\r\n\r\n    function setShift(val) {\r\n      if (val) shiftSelecting = shiftSelecting || (sel.inverted ? sel.to : sel.from);\r\n      else shiftSelecting = null;\r\n    }\r\n    function setSelectionUser(from, to) {\r\n      var sh = shiftSelecting && clipPos(shiftSelecting);\r\n      if (sh) {\r\n        if (posLess(sh, from)) from = sh;\r\n        else if (posLess(to, sh)) to = sh;\r\n      }\r\n      setSelection(from, to);\r\n      userSelChange = true;\r\n    }\r\n    // Update the selection. Last two args are only used by\r\n    // updateLines, since they have to be expressed in the line\r\n    // numbers before the update.\r\n    function setSelection(from, to, oldFrom, oldTo) {\r\n      goalColumn = null;\r\n      if (oldFrom == null) {oldFrom = sel.from.line; oldTo = sel.to.line;}\r\n      if (posEq(sel.from, from) && posEq(sel.to, to)) return;\r\n      if (posLess(to, from)) {var tmp = to; to = from; from = tmp;}\r\n\r\n      // Skip over hidden lines.\r\n      if (from.line != oldFrom) {\r\n        var from1 = skipHidden(from, oldFrom, sel.from.ch);\r\n        // If there is no non-hidden line left, force visibility on current line\r\n        if (!from1) setLineHidden(from.line, false);\r\n        else from = from1;\r\n      }\r\n      if (to.line != oldTo) to = skipHidden(to, oldTo, sel.to.ch);\r\n\r\n      if (posEq(from, to)) sel.inverted = false;\r\n      else if (posEq(from, sel.to)) sel.inverted = false;\r\n      else if (posEq(to, sel.from)) sel.inverted = true;\r\n\r\n      if (options.autoClearEmptyLines && posEq(sel.from, sel.to)) {\r\n        var head = sel.inverted ? from : to;\r\n        if (head.line != sel.from.line && sel.from.line < doc.size) {\r\n          var oldLine = getLine(sel.from.line);\r\n          if (/^\\s+$/.test(oldLine.text))\r\n            setTimeout(operation(function() {\r\n              if (oldLine.parent && /^\\s+$/.test(oldLine.text)) {\r\n                var no = lineNo(oldLine);\r\n                replaceRange(\"\", {line: no, ch: 0}, {line: no, ch: oldLine.text.length});\r\n              }\r\n            }, 10));\r\n        }\r\n      }\r\n\r\n      sel.from = from; sel.to = to;\r\n      selectionChanged = true;\r\n    }\r\n    function skipHidden(pos, oldLine, oldCh) {\r\n      function getNonHidden(dir) {\r\n        var lNo = pos.line + dir, end = dir == 1 ? doc.size : -1;\r\n        while (lNo != end) {\r\n          var line = getLine(lNo);\r\n          if (!line.hidden) {\r\n            var ch = pos.ch;\r\n            if (toEnd || ch > oldCh || ch > line.text.length) ch = line.text.length;\r\n            return {line: lNo, ch: ch};\r\n          }\r\n          lNo += dir;\r\n        }\r\n      }\r\n      var line = getLine(pos.line);\r\n      var toEnd = pos.ch == line.text.length && pos.ch != oldCh;\r\n      if (!line.hidden) return pos;\r\n      if (pos.line >= oldLine) return getNonHidden(1) || getNonHidden(-1);\r\n      else return getNonHidden(-1) || getNonHidden(1);\r\n    }\r\n    function setCursor(line, ch, user) {\r\n      var pos = clipPos({line: line, ch: ch || 0});\r\n      (user ? setSelectionUser : setSelection)(pos, pos);\r\n    }\r\n\r\n    function clipLine(n) {return Math.max(0, Math.min(n, doc.size-1));}\r\n    function clipPos(pos) {\r\n      if (pos.line < 0) return {line: 0, ch: 0};\r\n      if (pos.line >= doc.size) return {line: doc.size-1, ch: getLine(doc.size-1).text.length};\r\n      var ch = pos.ch, linelen = getLine(pos.line).text.length;\r\n      if (ch == null || ch > linelen) return {line: pos.line, ch: linelen};\r\n      else if (ch < 0) return {line: pos.line, ch: 0};\r\n      else return pos;\r\n    }\r\n\r\n    function findPosH(dir, unit) {\r\n      var end = sel.inverted ? sel.from : sel.to, line = end.line, ch = end.ch;\r\n      var lineObj = getLine(line);\r\n      function findNextLine() {\r\n        for (var l = line + dir, e = dir < 0 ? -1 : doc.size; l != e; l += dir) {\r\n          var lo = getLine(l);\r\n          if (!lo.hidden) { line = l; lineObj = lo; return true; }\r\n        }\r\n      }\r\n      function moveOnce(boundToLine) {\r\n        if (ch == (dir < 0 ? 0 : lineObj.text.length)) {\r\n          if (!boundToLine && findNextLine()) ch = dir < 0 ? lineObj.text.length : 0;\r\n          else return false;\r\n        } else ch += dir;\r\n        return true;\r\n      }\r\n      if (unit == \"char\") moveOnce();\r\n      else if (unit == \"column\") moveOnce(true);\r\n      else if (unit == \"word\") {\r\n        var sawWord = false;\r\n        for (;;) {\r\n          if (dir < 0) if (!moveOnce()) break;\r\n          if (isWordChar(lineObj.text.charAt(ch))) sawWord = true;\r\n          else if (sawWord) {if (dir < 0) {dir = 1; moveOnce();} break;}\r\n          if (dir > 0) if (!moveOnce()) break;\r\n        }\r\n      }\r\n      return {line: line, ch: ch};\r\n    }\r\n    function moveH(dir, unit) {\r\n      var pos = dir < 0 ? sel.from : sel.to;\r\n      if (shiftSelecting || posEq(sel.from, sel.to)) pos = findPosH(dir, unit);\r\n      setCursor(pos.line, pos.ch, true);\r\n    }\r\n    function deleteH(dir, unit) {\r\n      if (!posEq(sel.from, sel.to)) replaceRange(\"\", sel.from, sel.to);\r\n      else if (dir < 0) replaceRange(\"\", findPosH(dir, unit), sel.to);\r\n      else replaceRange(\"\", sel.from, findPosH(dir, unit));\r\n      userSelChange = true;\r\n    }\r\n    function moveV(dir, unit) {\r\n      var dist = 0, pos = localCoords(sel.inverted ? sel.from : sel.to, true);\r\n      if (goalColumn != null) pos.x = goalColumn;\r\n      if (unit == \"page\") {\r\n        var screen = Math.min(scroller.clientHeight, window.innerHeight || document.documentElement.clientHeight);\r\n        var target = coordsChar(pos.x, pos.y + screen * dir);\r\n      } else if (unit == \"line\") {\r\n        var th = textHeight();\r\n        var target = coordsChar(pos.x, pos.y + .5 * th + dir * th);\r\n      }\r\n      if (unit == \"page\") scrollbar.scrollTop += localCoords(target, true).y - pos.y;\r\n      setCursor(target.line, target.ch, true);\r\n      goalColumn = pos.x;\r\n    }\r\n\r\n    function findWordAt(pos) {\r\n      var line = getLine(pos.line).text;\r\n      var start = pos.ch, end = pos.ch;\r\n      if (line) {\r\n        if (pos.after === false || end == line.length) --start; else ++end;\r\n        var startChar = line.charAt(start);\r\n        var check = isWordChar(startChar) ? isWordChar :\r\n                    /\\s/.test(startChar) ? function(ch) {return /\\s/.test(ch);} :\r\n                    function(ch) {return !/\\s/.test(ch) && isWordChar(ch);};\r\n        while (start > 0 && check(line.charAt(start - 1))) --start;\r\n        while (end < line.length && check(line.charAt(end))) ++end;\r\n      }\r\n      return {from: {line: pos.line, ch: start}, to: {line: pos.line, ch: end}};\r\n    }\r\n    function selectLine(line) {\r\n      setSelectionUser({line: line, ch: 0}, clipPos({line: line + 1, ch: 0}));\r\n    }\r\n    function indentSelected(mode) {\r\n      if (posEq(sel.from, sel.to)) return indentLine(sel.from.line, mode);\r\n      var e = sel.to.line - (sel.to.ch ? 0 : 1);\r\n      for (var i = sel.from.line; i <= e; ++i) indentLine(i, mode);\r\n    }\r\n\r\n    function indentLine(n, how) {\r\n      if (!how) how = \"add\";\r\n      if (how == \"smart\") {\r\n        if (!mode.indent) how = \"prev\";\r\n        else var state = getStateBefore(n);\r\n      }\r\n\r\n      var line = getLine(n), curSpace = line.indentation(options.tabSize),\r\n          curSpaceString = line.text.match(/^\\s*/)[0], indentation;\r\n      if (how == \"smart\") {\r\n        indentation = mode.indent(state, line.text.slice(curSpaceString.length), line.text);\r\n        if (indentation == Pass) how = \"prev\";\r\n      }\r\n      if (how == \"prev\") {\r\n        if (n) indentation = getLine(n-1).indentation(options.tabSize);\r\n        else indentation = 0;\r\n      }\r\n      else if (how == \"add\") indentation = curSpace + options.indentUnit;\r\n      else if (how == \"subtract\") indentation = curSpace - options.indentUnit;\r\n      indentation = Math.max(0, indentation);\r\n      var diff = indentation - curSpace;\r\n\r\n      var indentString = \"\", pos = 0;\r\n      if (options.indentWithTabs)\r\n        for (var i = Math.floor(indentation / options.tabSize); i; --i) {pos += options.tabSize; indentString += \"\\t\";}\r\n      if (pos < indentation) indentString += spaceStr(indentation - pos);\r\n\r\n      if (indentString != curSpaceString)\r\n        replaceRange(indentString, {line: n, ch: 0}, {line: n, ch: curSpaceString.length});\r\n      line.stateAfter = null;\r\n    }\r\n\r\n    function loadMode() {\r\n      mode = CodeMirror.getMode(options, options.mode);\r\n      doc.iter(0, doc.size, function(line) { line.stateAfter = null; });\r\n      frontier = 0;\r\n      startWorker(100);\r\n    }\r\n    function gutterChanged() {\r\n      var visible = options.gutter || options.lineNumbers;\r\n      gutter.style.display = visible ? \"\" : \"none\";\r\n      if (visible) gutterDirty = true;\r\n      else lineDiv.parentNode.style.marginLeft = 0;\r\n    }\r\n    function wrappingChanged(from, to) {\r\n      if (options.lineWrapping) {\r\n        wrapper.className += \" CodeMirror-wrap\";\r\n        var perLine = scroller.clientWidth / charWidth() - 3;\r\n        doc.iter(0, doc.size, function(line) {\r\n          if (line.hidden) return;\r\n          var guess = Math.ceil(line.text.length / perLine) || 1;\r\n          if (guess != 1) updateLineHeight(line, guess);\r\n        });\r\n        lineSpace.style.minWidth = widthForcer.style.left = \"\";\r\n      } else {\r\n        wrapper.className = wrapper.className.replace(\" CodeMirror-wrap\", \"\");\r\n        computeMaxLength();\r\n        doc.iter(0, doc.size, function(line) {\r\n          if (line.height != 1 && !line.hidden) updateLineHeight(line, 1);\r\n        });\r\n      }\r\n      changes.push({from: 0, to: doc.size});\r\n    }\r\n    function themeChanged() {\r\n      scroller.className = scroller.className.replace(/\\s*cm-s-\\S+/g, \"\") +\r\n        options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\r\n    }\r\n    function keyMapChanged() {\r\n      var style = keyMap[options.keyMap].style;\r\n      wrapper.className = wrapper.className.replace(/\\s*cm-keymap-\\S+/g, \"\") +\r\n        (style ? \" cm-keymap-\" + style : \"\");\r\n    }\r\n\r\n    function TextMarker(type, style) { this.lines = []; this.type = type; if (style) this.style = style; }\r\n    TextMarker.prototype.clear = operation(function() {\r\n      var min, max;\r\n      for (var i = 0; i < this.lines.length; ++i) {\r\n        var line = this.lines[i];\r\n        var span = getMarkedSpanFor(line.markedSpans, this);\r\n        if (span.from != null) min = lineNo(line);\r\n        if (span.to != null) max = lineNo(line);\r\n        line.markedSpans = removeMarkedSpan(line.markedSpans, span);\r\n      }\r\n      if (min != null) changes.push({from: min, to: max + 1});\r\n      this.lines.length = 0;\r\n      this.explicitlyCleared = true;\r\n    });\r\n    TextMarker.prototype.find = function() {\r\n      var from, to;\r\n      for (var i = 0; i < this.lines.length; ++i) {\r\n        var line = this.lines[i];\r\n        var span = getMarkedSpanFor(line.markedSpans, this);\r\n        if (span.from != null || span.to != null) {\r\n          var found = lineNo(line);\r\n          if (span.from != null) from = {line: found, ch: span.from};\r\n          if (span.to != null) to = {line: found, ch: span.to};\r\n        }\r\n      }\r\n      if (this.type == \"bookmark\") return from;\r\n      return from && {from: from, to: to};\r\n    };\r\n\r\n    function markText(from, to, className, options) {\r\n      from = clipPos(from); to = clipPos(to);\r\n      var marker = new TextMarker(\"range\", className);\r\n      if (options) for (var opt in options) if (options.hasOwnProperty(opt))\r\n        marker[opt] = options[opt];\r\n      var curLine = from.line;\r\n      doc.iter(curLine, to.line + 1, function(line) {\r\n        var span = {from: curLine == from.line ? from.ch : null,\r\n                    to: curLine == to.line ? to.ch : null,\r\n                    marker: marker};\r\n        line.markedSpans = (line.markedSpans || []).concat([span]);\r\n        marker.lines.push(line);\r\n        ++curLine;\r\n      });\r\n      changes.push({from: from.line, to: to.line + 1});\r\n      return marker;\r\n    }\r\n\r\n    function setBookmark(pos) {\r\n      pos = clipPos(pos);\r\n      var marker = new TextMarker(\"bookmark\"), line = getLine(pos.line);\r\n      history.addChange(pos.line, 1, [newHL(line.text, line.markedSpans)], true);\r\n      var span = {from: pos.ch, to: pos.ch, marker: marker};\r\n      line.markedSpans = (line.markedSpans || []).concat([span]);\r\n      marker.lines.push(line);\r\n      return marker;\r\n    }\r\n\r\n    function findMarksAt(pos) {\r\n      pos = clipPos(pos);\r\n      var markers = [], spans = getLine(pos.line).markedSpans;\r\n      if (spans) for (var i = 0; i < spans.length; ++i) {\r\n        var span = spans[i];\r\n        if ((span.from == null || span.from <= pos.ch) &&\r\n            (span.to == null || span.to >= pos.ch))\r\n          markers.push(span.marker);\r\n      }\r\n      return markers;\r\n    }\r\n\r\n    function addGutterMarker(line, text, className) {\r\n      if (typeof line == \"number\") line = getLine(clipLine(line));\r\n      line.gutterMarker = {text: text, style: className};\r\n      gutterDirty = true;\r\n      return line;\r\n    }\r\n    function removeGutterMarker(line) {\r\n      if (typeof line == \"number\") line = getLine(clipLine(line));\r\n      line.gutterMarker = null;\r\n      gutterDirty = true;\r\n    }\r\n\r\n    function changeLine(handle, op) {\r\n      var no = handle, line = handle;\r\n      if (typeof handle == \"number\") line = getLine(clipLine(handle));\r\n      else no = lineNo(handle);\r\n      if (no == null) return null;\r\n      if (op(line, no)) changes.push({from: no, to: no + 1});\r\n      else return null;\r\n      return line;\r\n    }\r\n    function setLineClass(handle, className, bgClassName) {\r\n      return changeLine(handle, function(line) {\r\n        if (line.className != className || line.bgClassName != bgClassName) {\r\n          line.className = className;\r\n          line.bgClassName = bgClassName;\r\n          return true;\r\n        }\r\n      });\r\n    }\r\n    function setLineHidden(handle, hidden) {\r\n      return changeLine(handle, function(line, no) {\r\n        if (line.hidden != hidden) {\r\n          line.hidden = hidden;\r\n          if (!options.lineWrapping) {\r\n            if (hidden && line.text.length == maxLine.text.length) {\r\n              updateMaxLine = true;\r\n            } else if (!hidden && line.text.length > maxLine.text.length) {\r\n              maxLine = line; updateMaxLine = false;\r\n            }\r\n          }\r\n          updateLineHeight(line, hidden ? 0 : 1);\r\n          var fline = sel.from.line, tline = sel.to.line;\r\n          if (hidden && (fline == no || tline == no)) {\r\n            var from = fline == no ? skipHidden({line: fline, ch: 0}, fline, 0) : sel.from;\r\n            var to = tline == no ? skipHidden({line: tline, ch: 0}, tline, 0) : sel.to;\r\n            // Can't hide the last visible line, we'd have no place to put the cursor\r\n            if (!to) return;\r\n            setSelection(from, to);\r\n          }\r\n          return (gutterDirty = true);\r\n        }\r\n      });\r\n    }\r\n\r\n    function lineInfo(line) {\r\n      if (typeof line == \"number\") {\r\n        if (!isLine(line)) return null;\r\n        var n = line;\r\n        line = getLine(line);\r\n        if (!line) return null;\r\n      } else {\r\n        var n = lineNo(line);\r\n        if (n == null) return null;\r\n      }\r\n      var marker = line.gutterMarker;\r\n      return {line: n, handle: line, text: line.text, markerText: marker && marker.text,\r\n              markerClass: marker && marker.style, lineClass: line.className, bgClass: line.bgClassName};\r\n    }\r\n\r\n    function measureLine(line, ch) {\r\n      if (ch == 0) return {top: 0, left: 0};\r\n      var pre = lineContent(line, ch);\r\n      removeChildrenAndAdd(measure, pre);\r\n      var anchor = pre.anchor;\r\n      var top = anchor.offsetTop, left = anchor.offsetLeft;\r\n      // Older IEs report zero offsets for spans directly after a wrap\r\n      if (ie && top == 0 && left == 0) {\r\n        var backup = elt(\"span\", \"x\");\r\n        anchor.parentNode.insertBefore(backup, anchor.nextSibling);\r\n        top = backup.offsetTop;\r\n      }\r\n      return {top: top, left: left};\r\n    }\r\n    function localCoords(pos, inLineWrap) {\r\n      var x, lh = textHeight(), y = lh * (heightAtLine(doc, pos.line) - (inLineWrap ? displayOffset : 0));\r\n      if (pos.ch == 0) x = 0;\r\n      else {\r\n        var sp = measureLine(getLine(pos.line), pos.ch);\r\n        x = sp.left;\r\n        if (options.lineWrapping) y += Math.max(0, sp.top);\r\n      }\r\n      return {x: x, y: y, yBot: y + lh};\r\n    }\r\n    // Coords must be lineSpace-local\r\n    function coordsChar(x, y) {\r\n      var th = textHeight(), cw = charWidth(), heightPos = displayOffset + Math.floor(y / th);\r\n      if (heightPos < 0) return {line: 0, ch: 0};\r\n      var lineNo = lineAtHeight(doc, heightPos);\r\n      if (lineNo >= doc.size) return {line: doc.size - 1, ch: getLine(doc.size - 1).text.length};\r\n      var lineObj = getLine(lineNo), text = lineObj.text;\r\n      var tw = options.lineWrapping, innerOff = tw ? heightPos - heightAtLine(doc, lineNo) : 0;\r\n      if (x <= 0 && innerOff == 0) return {line: lineNo, ch: 0};\r\n      var wrongLine = false;\r\n      function getX(len) {\r\n        var sp = measureLine(lineObj, len);\r\n        if (tw) {\r\n          var off = Math.round(sp.top / th);\r\n          wrongLine = off != innerOff;\r\n          return Math.max(0, sp.left + (off - innerOff) * scroller.clientWidth);\r\n        }\r\n        return sp.left;\r\n      }\r\n      var from = 0, fromX = 0, to = text.length, toX;\r\n      // Guess a suitable upper bound for our search.\r\n      var estimated = Math.min(to, Math.ceil((x + innerOff * scroller.clientWidth * .9) / cw));\r\n      for (;;) {\r\n        var estX = getX(estimated);\r\n        if (estX <= x && estimated < to) estimated = Math.min(to, Math.ceil(estimated * 1.2));\r\n        else {toX = estX; to = estimated; break;}\r\n      }\r\n      if (x > toX) return {line: lineNo, ch: to};\r\n      // Try to guess a suitable lower bound as well.\r\n      estimated = Math.floor(to * 0.8); estX = getX(estimated);\r\n      if (estX < x) {from = estimated; fromX = estX;}\r\n      // Do a binary search between these bounds.\r\n      for (;;) {\r\n        if (to - from <= 1) {\r\n          var after = x - fromX < toX - x;\r\n          return {line: lineNo, ch: after ? from : to, after: after};\r\n        }\r\n        var middle = Math.ceil((from + to) / 2), middleX = getX(middle);\r\n        if (middleX > x) {to = middle; toX = middleX; if (wrongLine) toX += 1000; }\r\n        else {from = middle; fromX = middleX;}\r\n      }\r\n    }\r\n    function pageCoords(pos) {\r\n      var local = localCoords(pos, true), off = eltOffset(lineSpace);\r\n      return {x: off.left + local.x, y: off.top + local.y, yBot: off.top + local.yBot};\r\n    }\r\n\r\n    var cachedHeight, cachedHeightFor, measurePre;\r\n    function textHeight() {\r\n      if (measurePre == null) {\r\n        measurePre = elt(\"pre\");\r\n        for (var i = 0; i < 49; ++i) {\r\n          measurePre.appendChild(document.createTextNode(\"x\"));\r\n          measurePre.appendChild(elt(\"br\"));\r\n        }\r\n        measurePre.appendChild(document.createTextNode(\"x\"));\r\n      }\r\n      var offsetHeight = lineDiv.clientHeight;\r\n      if (offsetHeight == cachedHeightFor) return cachedHeight;\r\n      cachedHeightFor = offsetHeight;\r\n      removeChildrenAndAdd(measure, measurePre.cloneNode(true));\r\n      cachedHeight = measure.firstChild.offsetHeight / 50 || 1;\r\n      removeChildren(measure);\r\n      return cachedHeight;\r\n    }\r\n    var cachedWidth, cachedWidthFor = 0;\r\n    function charWidth() {\r\n      if (scroller.clientWidth == cachedWidthFor) return cachedWidth;\r\n      cachedWidthFor = scroller.clientWidth;\r\n      var anchor = elt(\"span\", \"x\");\r\n      var pre = elt(\"pre\", [anchor]);\r\n      removeChildrenAndAdd(measure, pre);\r\n      return (cachedWidth = anchor.offsetWidth || 10);\r\n    }\r\n    function paddingTop() {return lineSpace.offsetTop;}\r\n    function paddingLeft() {return lineSpace.offsetLeft;}\r\n\r\n    function posFromMouse(e, liberal) {\r\n      var offW = eltOffset(scroller, true), x, y;\r\n      // Fails unpredictably on IE[67] when mouse is dragged around quickly.\r\n      try { x = e.clientX; y = e.clientY; } catch (e) { return null; }\r\n      // This is a mess of a heuristic to try and determine whether a\r\n      // scroll-bar was clicked or not, and to return null if one was\r\n      // (and !liberal).\r\n      if (!liberal && (x - offW.left > scroller.clientWidth || y - offW.top > scroller.clientHeight))\r\n        return null;\r\n      var offL = eltOffset(lineSpace, true);\r\n      return coordsChar(x - offL.left, y - offL.top);\r\n    }\r\n    var detectingSelectAll;\r\n    function onContextMenu(e) {\r\n      var pos = posFromMouse(e), scrollPos = scrollbar.scrollTop;\r\n      if (!pos || opera) return; // Opera is difficult.\r\n      if (posEq(sel.from, sel.to) || posLess(pos, sel.from) || !posLess(pos, sel.to))\r\n        operation(setCursor)(pos.line, pos.ch);\r\n\r\n      var oldCSS = input.style.cssText;\r\n      inputDiv.style.position = \"absolute\";\r\n      input.style.cssText = \"position: fixed; width: 30px; height: 30px; top: \" + (e.clientY - 5) +\r\n        \"px; left: \" + (e.clientX - 5) + \"px; z-index: 1000; background: white; \" +\r\n        \"border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\r\n      focusInput();\r\n      resetInput(true);\r\n      // Adds \"Select all\" to context menu in FF\r\n      if (posEq(sel.from, sel.to)) input.value = prevInput = \" \";\r\n\r\n      function rehide() {\r\n        inputDiv.style.position = \"relative\";\r\n        input.style.cssText = oldCSS;\r\n        if (ie_lt9) scrollbar.scrollTop = scrollPos;\r\n        slowPoll();\r\n\r\n        // Try to detect the user choosing select-all \r\n        if (input.selectionStart != null) {\r\n          clearTimeout(detectingSelectAll);\r\n          var extval = input.value = \" \" + (posEq(sel.from, sel.to) ? \"\" : input.value), i = 0;\r\n          prevInput = \" \";\r\n          input.selectionStart = 1; input.selectionEnd = extval.length;\r\n          detectingSelectAll = setTimeout(function poll(){\r\n            if (prevInput == \" \" && input.selectionStart == 0)\r\n              operation(commands.selectAll)(instance);\r\n            else if (i++ < 10) detectingSelectAll = setTimeout(poll, 500);\r\n            else resetInput();\r\n          }, 200);\r\n        }\r\n      }\r\n\r\n      if (gecko) {\r\n        e_stop(e);\r\n        var mouseup = connect(window, \"mouseup\", function() {\r\n          mouseup();\r\n          setTimeout(rehide, 20);\r\n        }, true);\r\n      } else {\r\n        setTimeout(rehide, 50);\r\n      }\r\n    }\r\n\r\n    // Cursor-blinking\r\n    function restartBlink() {\r\n      clearInterval(blinker);\r\n      var on = true;\r\n      cursor.style.visibility = \"\";\r\n      blinker = setInterval(function() {\r\n        cursor.style.visibility = (on = !on) ? \"\" : \"hidden\";\r\n      }, options.cursorBlinkRate);\r\n    }\r\n\r\n    var matching = {\"(\": \")>\", \")\": \"(<\", \"[\": \"]>\", \"]\": \"[<\", \"{\": \"}>\", \"}\": \"{<\"};\r\n    function matchBrackets(autoclear) {\r\n      var head = sel.inverted ? sel.from : sel.to, line = getLine(head.line), pos = head.ch - 1;\r\n      var match = (pos >= 0 && matching[line.text.charAt(pos)]) || matching[line.text.charAt(++pos)];\r\n      if (!match) return;\r\n      var ch = match.charAt(0), forward = match.charAt(1) == \">\", d = forward ? 1 : -1, st = line.styles;\r\n      for (var off = pos + 1, i = 0, e = st.length; i < e; i+=2)\r\n        if ((off -= st[i].length) <= 0) {var style = st[i+1]; break;}\r\n\r\n      var stack = [line.text.charAt(pos)], re = /[(){}[\\]]/;\r\n      function scan(line, from, to) {\r\n        if (!line.text) return;\r\n        var st = line.styles, pos = forward ? 0 : line.text.length - 1, cur;\r\n        for (var i = forward ? 0 : st.length - 2, e = forward ? st.length : -2; i != e; i += 2*d) {\r\n          var text = st[i];\r\n          if (st[i+1] != style) {pos += d * text.length; continue;}\r\n          for (var j = forward ? 0 : text.length - 1, te = forward ? text.length : -1; j != te; j += d, pos+=d) {\r\n            if (pos >= from && pos < to && re.test(cur = text.charAt(j))) {\r\n              var match = matching[cur];\r\n              if (match.charAt(1) == \">\" == forward) stack.push(cur);\r\n              else if (stack.pop() != match.charAt(0)) return {pos: pos, match: false};\r\n              else if (!stack.length) return {pos: pos, match: true};\r\n            }\r\n          }\r\n        }\r\n      }\r\n      for (var i = head.line, e = forward ? Math.min(i + 100, doc.size) : Math.max(-1, i - 100); i != e; i+=d) {\r\n        var line = getLine(i), first = i == head.line;\r\n        var found = scan(line, first && forward ? pos + 1 : 0, first && !forward ? pos : line.text.length);\r\n        if (found) break;\r\n      }\r\n      if (!found) found = {pos: null, match: false};\r\n      var style = found.match ? \"CodeMirror-matchingbracket\" : \"CodeMirror-nonmatchingbracket\";\r\n      var one = markText({line: head.line, ch: pos}, {line: head.line, ch: pos+1}, style),\r\n          two = found.pos != null && markText({line: i, ch: found.pos}, {line: i, ch: found.pos + 1}, style);\r\n      var clear = operation(function(){one.clear(); two && two.clear();});\r\n      if (autoclear) setTimeout(clear, 800);\r\n      else bracketHighlighted = clear;\r\n    }\r\n\r\n    // Finds the line to start with when starting a parse. Tries to\r\n    // find a line with a stateAfter, so that it can start with a\r\n    // valid state. If that fails, it returns the line with the\r\n    // smallest indentation, which tends to need the least context to\r\n    // parse correctly.\r\n    function findStartLine(n) {\r\n      var minindent, minline;\r\n      for (var search = n, lim = n - 40; search > lim; --search) {\r\n        if (search == 0) return 0;\r\n        var line = getLine(search-1);\r\n        if (line.stateAfter) return search;\r\n        var indented = line.indentation(options.tabSize);\r\n        if (minline == null || minindent > indented) {\r\n          minline = search - 1;\r\n          minindent = indented;\r\n        }\r\n      }\r\n      return minline;\r\n    }\r\n    function getStateBefore(n) {\r\n      var pos = findStartLine(n), state = pos && getLine(pos-1).stateAfter;\r\n      if (!state) state = startState(mode);\r\n      else state = copyState(mode, state);\r\n      doc.iter(pos, n, function(line) {\r\n        line.process(mode, state, options.tabSize);\r\n        line.stateAfter = (pos == n - 1 || pos % 5 == 0) ? copyState(mode, state) : null;\r\n      });\r\n      return state;\r\n    }\r\n    function highlightWorker() {\r\n      if (frontier >= showingTo) return;\r\n      var end = +new Date + options.workTime, state = copyState(mode, getStateBefore(frontier));\r\n      var startFrontier = frontier;\r\n      doc.iter(frontier, showingTo, function(line) {\r\n        if (frontier >= showingFrom) { // Visible\r\n          line.highlight(mode, state, options.tabSize);\r\n          line.stateAfter = copyState(mode, state);\r\n        } else {\r\n          line.process(mode, state, options.tabSize);\r\n          line.stateAfter = frontier % 5 == 0 ? copyState(mode, state) : null;\r\n        }\r\n        ++frontier;\r\n        if (+new Date > end) {\r\n          startWorker(options.workDelay);\r\n          return true;\r\n        }\r\n      });\r\n      if (showingTo > startFrontier && frontier >= showingFrom)\r\n        operation(function() {changes.push({from: startFrontier, to: frontier});})();\r\n    }\r\n    function startWorker(time) {\r\n      if (frontier < showingTo)\r\n        highlight.set(time, highlightWorker);\r\n    }\r\n\r\n    // Operations are used to wrap changes in such a way that each\r\n    // change won't have to update the cursor and display (which would\r\n    // be awkward, slow, and error-prone), but instead updates are\r\n    // batched and then all combined and executed at once.\r\n    function startOperation() {\r\n      updateInput = userSelChange = textChanged = null;\r\n      changes = []; selectionChanged = false; callbacks = [];\r\n    }\r\n    function endOperation() {\r\n      if (updateMaxLine) computeMaxLength();\r\n      if (maxLineChanged && !options.lineWrapping) {\r\n        var cursorWidth = widthForcer.offsetWidth, left = measureLine(maxLine, maxLine.text.length).left;\r\n        if (!ie_lt8) {\r\n          widthForcer.style.left = left + \"px\";\r\n          lineSpace.style.minWidth = (left + cursorWidth) + \"px\";\r\n        }\r\n        maxLineChanged = false;\r\n      }\r\n      var newScrollPos, updated;\r\n      if (selectionChanged) {\r\n        var coords = calculateCursorCoords();\r\n        newScrollPos = calculateScrollPos(coords.x, coords.y, coords.x, coords.yBot);\r\n      }\r\n      if (changes.length || newScrollPos && newScrollPos.scrollTop != null)\r\n        updated = updateDisplay(changes, true, newScrollPos && newScrollPos.scrollTop);\r\n      if (!updated) {\r\n        if (selectionChanged) updateSelection();\r\n        if (gutterDirty) updateGutter();\r\n      }\r\n      if (newScrollPos) scrollCursorIntoView();\r\n      if (selectionChanged) restartBlink();\r\n\r\n      if (focused && (updateInput === true || (updateInput !== false && selectionChanged)))\r\n        resetInput(userSelChange);\r\n\r\n      if (selectionChanged && options.matchBrackets)\r\n        setTimeout(operation(function() {\r\n          if (bracketHighlighted) {bracketHighlighted(); bracketHighlighted = null;}\r\n          if (posEq(sel.from, sel.to)) matchBrackets(false);\r\n        }), 20);\r\n      var sc = selectionChanged, cbs = callbacks; // these can be reset by callbacks\r\n      if (textChanged && options.onChange && instance)\r\n        options.onChange(instance, textChanged);\r\n      if (sc && options.onCursorActivity)\r\n        options.onCursorActivity(instance);\r\n      for (var i = 0; i < cbs.length; ++i) cbs[i](instance);\r\n      if (updated && options.onUpdate) options.onUpdate(instance);\r\n    }\r\n    var nestedOperation = 0;\r\n    function operation(f) {\r\n      return function() {\r\n        if (!nestedOperation++) startOperation();\r\n        try {var result = f.apply(this, arguments);}\r\n        finally {if (!--nestedOperation) endOperation();}\r\n        return result;\r\n      };\r\n    }\r\n\r\n    function compoundChange(f) {\r\n      history.startCompound();\r\n      try { return f(); } finally { history.endCompound(); }\r\n    }\r\n\r\n    for (var ext in extensions) if (extensions.hasOwnProperty(ext))\r\n      if (extensions.propertyIsEnumerable(ext) &&\r\n          !instance.propertyIsEnumerable(ext))\r\n        instance[ext] = extensions[ext];\r\n    for (var i = 0; i < initHooks.length; ++i) initHooks[i](instance);\r\n    return instance;\r\n  } // (end of function CodeMirror)\r\n\r\n  // The default configuration options.\r\n  CodeMirror.defaults = {\r\n    value: \"\",\r\n    mode: null,\r\n    theme: \"default\",\r\n    indentUnit: 2,\r\n    indentWithTabs: false,\r\n    smartIndent: true,\r\n    tabSize: 4,\r\n    keyMap: \"default\",\r\n    extraKeys: null,\r\n    electricChars: true,\r\n    autoClearEmptyLines: false,\r\n    onKeyEvent: null,\r\n    onDragEvent: null,\r\n    lineWrapping: false,\r\n    lineNumbers: false,\r\n    gutter: false,\r\n    fixedGutter: false,\r\n    firstLineNumber: 1,\r\n    readOnly: false,\r\n    dragDrop: true,\r\n    onChange: null,\r\n    onCursorActivity: null,\r\n    onViewportChange: null,\r\n    onGutterClick: null,\r\n    onUpdate: null,\r\n    onFocus: null, onBlur: null, onScroll: null,\r\n    matchBrackets: false,\r\n    cursorBlinkRate: 530,\r\n    workTime: 100,\r\n    workDelay: 200,\r\n    pollInterval: 100,\r\n    undoDepth: 40,\r\n    tabindex: null,\r\n    autofocus: null,\r\n    lineNumberFormatter: function(integer) { return integer; }\r\n  };\r\n\r\n  var ios = /AppleWebKit/.test(navigator.userAgent) && /Mobile\\/\\w+/.test(navigator.userAgent);\r\n  var mac = ios || /Mac/.test(navigator.platform);\r\n  var win = /Win/.test(navigator.platform);\r\n\r\n  // Known modes, by name and by MIME\r\n  var modes = CodeMirror.modes = {}, mimeModes = CodeMirror.mimeModes = {};\r\n  CodeMirror.defineMode = function(name, mode) {\r\n    if (!CodeMirror.defaults.mode && name != \"null\") CodeMirror.defaults.mode = name;\r\n    if (arguments.length > 2) {\r\n      mode.dependencies = [];\r\n      for (var i = 2; i < arguments.length; ++i) mode.dependencies.push(arguments[i]);\r\n    }\r\n    modes[name] = mode;\r\n  };\r\n  CodeMirror.defineMIME = function(mime, spec) {\r\n    mimeModes[mime] = spec;\r\n  };\r\n  CodeMirror.resolveMode = function(spec) {\r\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec))\r\n      spec = mimeModes[spec];\r\n    else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec))\r\n      return CodeMirror.resolveMode(\"application/xml\");\r\n    if (typeof spec == \"string\") return {name: spec};\r\n    else return spec || {name: \"null\"};\r\n  };\r\n  CodeMirror.getMode = function(options, spec) {\r\n    var spec = CodeMirror.resolveMode(spec);\r\n    var mfactory = modes[spec.name];\r\n    if (!mfactory) return CodeMirror.getMode(options, \"text/plain\");\r\n    var modeObj = mfactory(options, spec);\r\n    if (modeExtensions.hasOwnProperty(spec.name)) {\r\n      var exts = modeExtensions[spec.name];\r\n      for (var prop in exts) if (exts.hasOwnProperty(prop)) modeObj[prop] = exts[prop];\r\n    }\r\n    modeObj.name = spec.name;\r\n    return modeObj;\r\n  };\r\n  CodeMirror.listModes = function() {\r\n    var list = [];\r\n    for (var m in modes) if (modes.hasOwnProperty(m))\r\n      if (modes.propertyIsEnumerable(m)) list.push(m);\r\n    return list;\r\n  };\r\n  CodeMirror.listMIMEs = function() {\r\n    var list = [];\r\n    for (var m in mimeModes) if (mimeModes.hasOwnProperty(m))\r\n      if (mimeModes.propertyIsEnumerable(m)) list.push({mime: m, mode: mimeModes[m]});\r\n    return list;\r\n  };\r\n\r\n  var extensions = CodeMirror.extensions = {};\r\n  CodeMirror.defineExtension = function(name, func) {\r\n    extensions[name] = func;\r\n  };\r\n\r\n  var initHooks = [];\r\n  CodeMirror.defineInitHook = function(f) {initHooks.push(f);};\r\n\r\n  var modeExtensions = CodeMirror.modeExtensions = {};\r\n  CodeMirror.extendMode = function(mode, properties) {\r\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\r\n    for (var prop in properties) if (properties.hasOwnProperty(prop))\r\n      exts[prop] = properties[prop];\r\n  };\r\n\r\n  var commands = CodeMirror.commands = {\r\n    selectAll: function(cm) {cm.setSelection({line: 0, ch: 0}, {line: cm.lineCount() - 1});},\r\n    killLine: function(cm) {\r\n      var from = cm.getCursor(true), to = cm.getCursor(false), sel = !posEq(from, to);\r\n      if (!sel && cm.getLine(from.line).length == from.ch) cm.replaceRange(\"\", from, {line: from.line + 1, ch: 0});\r\n      else cm.replaceRange(\"\", from, sel ? to : {line: from.line});\r\n    },\r\n    deleteLine: function(cm) {var l = cm.getCursor().line; cm.replaceRange(\"\", {line: l, ch: 0}, {line: l});},\r\n    undo: function(cm) {cm.undo();},\r\n    redo: function(cm) {cm.redo();},\r\n    goDocStart: function(cm) {cm.setCursor(0, 0, true);},\r\n    goDocEnd: function(cm) {cm.setSelection({line: cm.lineCount() - 1}, null, true);},\r\n    goLineStart: function(cm) {cm.setCursor(cm.getCursor().line, 0, true);},\r\n    goLineStartSmart: function(cm) {\r\n      var cur = cm.getCursor();\r\n      var text = cm.getLine(cur.line), firstNonWS = Math.max(0, text.search(/\\S/));\r\n      cm.setCursor(cur.line, cur.ch <= firstNonWS && cur.ch ? 0 : firstNonWS, true);\r\n    },\r\n    goLineEnd: function(cm) {cm.setSelection({line: cm.getCursor().line}, null, true);},\r\n    goLineUp: function(cm) {cm.moveV(-1, \"line\");},\r\n    goLineDown: function(cm) {cm.moveV(1, \"line\");},\r\n    goPageUp: function(cm) {cm.moveV(-1, \"page\");},\r\n    goPageDown: function(cm) {cm.moveV(1, \"page\");},\r\n    goCharLeft: function(cm) {cm.moveH(-1, \"char\");},\r\n    goCharRight: function(cm) {cm.moveH(1, \"char\");},\r\n    goColumnLeft: function(cm) {cm.moveH(-1, \"column\");},\r\n    goColumnRight: function(cm) {cm.moveH(1, \"column\");},\r\n    goWordLeft: function(cm) {cm.moveH(-1, \"word\");},\r\n    goWordRight: function(cm) {cm.moveH(1, \"word\");},\r\n    delCharLeft: function(cm) {cm.deleteH(-1, \"char\");},\r\n    delCharRight: function(cm) {cm.deleteH(1, \"char\");},\r\n    delWordLeft: function(cm) {cm.deleteH(-1, \"word\");},\r\n    delWordRight: function(cm) {cm.deleteH(1, \"word\");},\r\n    indentAuto: function(cm) {cm.indentSelection(\"smart\");},\r\n    indentMore: function(cm) {cm.indentSelection(\"add\");},\r\n    indentLess: function(cm) {cm.indentSelection(\"subtract\");},\r\n    insertTab: function(cm) {cm.replaceSelection(\"\\t\", \"end\");},\r\n    defaultTab: function(cm) {\r\n      if (cm.somethingSelected()) cm.indentSelection(\"add\");\r\n      else cm.replaceSelection(\"\\t\", \"end\");\r\n    },\r\n    transposeChars: function(cm) {\r\n      var cur = cm.getCursor(), line = cm.getLine(cur.line);\r\n      if (cur.ch > 0 && cur.ch < line.length - 1)\r\n        cm.replaceRange(line.charAt(cur.ch) + line.charAt(cur.ch - 1),\r\n                        {line: cur.line, ch: cur.ch - 1}, {line: cur.line, ch: cur.ch + 1});\r\n    },\r\n    newlineAndIndent: function(cm) {\r\n      cm.replaceSelection(\"\\n\", \"end\");\r\n      cm.indentLine(cm.getCursor().line);\r\n    },\r\n    toggleOverwrite: function(cm) {cm.toggleOverwrite();}\r\n  };\r\n\r\n  var keyMap = CodeMirror.keyMap = {};\r\n  keyMap.basic = {\r\n    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\r\n    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\r\n    \"Delete\": \"delCharRight\", \"Backspace\": \"delCharLeft\", \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\r\n    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\"\r\n  };\r\n  // Note that the save and find-related commands aren't defined by\r\n  // default. Unknown commands are simply ignored.\r\n  keyMap.pcDefault = {\r\n    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\r\n    \"Ctrl-Home\": \"goDocStart\", \"Alt-Up\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Down\": \"goDocEnd\",\r\n    \"Ctrl-Left\": \"goWordLeft\", \"Ctrl-Right\": \"goWordRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\r\n    \"Ctrl-Backspace\": \"delWordLeft\", \"Ctrl-Delete\": \"delWordRight\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\r\n    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\r\n    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\r\n    fallthrough: \"basic\"\r\n  };\r\n  keyMap.macDefault = {\r\n    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\r\n    \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goWordLeft\",\r\n    \"Alt-Right\": \"goWordRight\", \"Cmd-Left\": \"goLineStart\", \"Cmd-Right\": \"goLineEnd\", \"Alt-Backspace\": \"delWordLeft\",\r\n    \"Ctrl-Alt-Backspace\": \"delWordRight\", \"Alt-Delete\": \"delWordRight\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\r\n    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\r\n    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\",\r\n    fallthrough: [\"basic\", \"emacsy\"]\r\n  };\r\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\r\n  keyMap.emacsy = {\r\n    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\r\n    \"Alt-F\": \"goWordRight\", \"Alt-B\": \"goWordLeft\", \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\",\r\n    \"Ctrl-V\": \"goPageUp\", \"Shift-Ctrl-V\": \"goPageDown\", \"Ctrl-D\": \"delCharRight\", \"Ctrl-H\": \"delCharLeft\",\r\n    \"Alt-D\": \"delWordRight\", \"Alt-Backspace\": \"delWordLeft\", \"Ctrl-K\": \"killLine\", \"Ctrl-T\": \"transposeChars\"\r\n  };\r\n\r\n  function getKeyMap(val) {\r\n    if (typeof val == \"string\") return keyMap[val];\r\n    else return val;\r\n  }\r\n  function lookupKey(name, extraMap, map, handle, stop) {\r\n    function lookup(map) {\r\n      map = getKeyMap(map);\r\n      var found = map[name];\r\n      if (found === false) {\r\n        if (stop) stop();\r\n        return true;\r\n      }\r\n      if (found != null && handle(found)) return true;\r\n      if (map.nofallthrough) {\r\n        if (stop) stop();\r\n        return true;\r\n      }\r\n      var fallthrough = map.fallthrough;\r\n      if (fallthrough == null) return false;\r\n      if (Object.prototype.toString.call(fallthrough) != \"[object Array]\")\r\n        return lookup(fallthrough);\r\n      for (var i = 0, e = fallthrough.length; i < e; ++i) {\r\n        if (lookup(fallthrough[i])) return true;\r\n      }\r\n      return false;\r\n    }\r\n    if (extraMap && lookup(extraMap)) return true;\r\n    return lookup(map);\r\n  }\r\n  function isModifierKey(event) {\r\n    var name = keyNames[e_prop(event, \"keyCode\")];\r\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\";\r\n  }\r\n  CodeMirror.isModifierKey = isModifierKey;\r\n\r\n  CodeMirror.fromTextArea = function(textarea, options) {\r\n    if (!options) options = {};\r\n    options.value = textarea.value;\r\n    if (!options.tabindex && textarea.tabindex)\r\n      options.tabindex = textarea.tabindex;\r\n    // Set autofocus to true if this textarea is focused, or if it has\r\n    // autofocus and no other element is focused.\r\n    if (options.autofocus == null) {\r\n      var hasFocus = document.body;\r\n      // doc.activeElement occasionally throws on IE\r\n      try { hasFocus = document.activeElement; } catch(e) {}\r\n      options.autofocus = hasFocus == textarea ||\r\n        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\r\n    }\r\n\r\n    function save() {textarea.value = instance.getValue();}\r\n    if (textarea.form) {\r\n      // Deplorable hack to make the submit method do the right thing.\r\n      var rmSubmit = connect(textarea.form, \"submit\", save, true);\r\n      if (typeof textarea.form.submit == \"function\") {\r\n        var realSubmit = textarea.form.submit;\r\n        textarea.form.submit = function wrappedSubmit() {\r\n          save();\r\n          textarea.form.submit = realSubmit;\r\n          textarea.form.submit();\r\n          textarea.form.submit = wrappedSubmit;\r\n        };\r\n      }\r\n    }\r\n\r\n    textarea.style.display = \"none\";\r\n    var instance = CodeMirror(function(node) {\r\n      textarea.parentNode.insertBefore(node, textarea.nextSibling);\r\n    }, options);\r\n    instance.save = save;\r\n    instance.getTextArea = function() { return textarea; };\r\n    instance.toTextArea = function() {\r\n      save();\r\n      textarea.parentNode.removeChild(instance.getWrapperElement());\r\n      textarea.style.display = \"\";\r\n      if (textarea.form) {\r\n        rmSubmit();\r\n        if (typeof textarea.form.submit == \"function\")\r\n          textarea.form.submit = realSubmit;\r\n      }\r\n    };\r\n    return instance;\r\n  };\r\n\r\n  var gecko = /gecko\\/\\d{7}/i.test(navigator.userAgent);\r\n  var ie = /MSIE \\d/.test(navigator.userAgent);\r\n  var ie_lt8 = /MSIE [1-7]\\b/.test(navigator.userAgent);\r\n  var ie_lt9 = /MSIE [1-8]\\b/.test(navigator.userAgent);\r\n  var quirksMode = ie && document.documentMode == 5;\r\n  var webkit = /WebKit\\//.test(navigator.userAgent);\r\n  var chrome = /Chrome\\//.test(navigator.userAgent);\r\n  var opera = /Opera\\//.test(navigator.userAgent);\r\n  var safari = /Apple Computer/.test(navigator.vendor);\r\n  var khtml = /KHTML\\//.test(navigator.userAgent);\r\n  var mac_geLion = /Mac OS X 10\\D([7-9]|\\d\\d)\\D/.test(navigator.userAgent);\r\n\r\n  // Utility functions for working with state. Exported because modes\r\n  // sometimes need to do this.\r\n  function copyState(mode, state) {\r\n    if (state === true) return state;\r\n    if (mode.copyState) return mode.copyState(state);\r\n    var nstate = {};\r\n    for (var n in state) if (state.hasOwnProperty(n)) {\r\n      var val = state[n];\r\n      if (val instanceof Array) val = val.concat([]);\r\n      nstate[n] = val;\r\n    }\r\n    return nstate;\r\n  }\r\n  CodeMirror.copyState = copyState;\r\n  function startState(mode, a1, a2) {\r\n    return mode.startState ? mode.startState(a1, a2) : true;\r\n  }\r\n  CodeMirror.startState = startState;\r\n  CodeMirror.innerMode = function(mode, state) {\r\n    while (mode.innerMode) {\r\n      var info = mode.innerMode(state);\r\n      state = info.state;\r\n      mode = info.mode;\r\n    }\r\n    return info || {mode: mode, state: state};\r\n  };\r\n\r\n  // The character stream used by a mode's parser.\r\n  function StringStream(string, tabSize) {\r\n    this.pos = this.start = 0;\r\n    this.string = string;\r\n    this.tabSize = tabSize || 8;\r\n  }\r\n  StringStream.prototype = {\r\n    eol: function() {return this.pos >= this.string.length;},\r\n    sol: function() {return this.pos == 0;},\r\n    peek: function() {return this.string.charAt(this.pos) || undefined;},\r\n    next: function() {\r\n      if (this.pos < this.string.length)\r\n        return this.string.charAt(this.pos++);\r\n    },\r\n    eat: function(match) {\r\n      var ch = this.string.charAt(this.pos);\r\n      if (typeof match == \"string\") var ok = ch == match;\r\n      else var ok = ch && (match.test ? match.test(ch) : match(ch));\r\n      if (ok) {++this.pos; return ch;}\r\n    },\r\n    eatWhile: function(match) {\r\n      var start = this.pos;\r\n      while (this.eat(match)){}\r\n      return this.pos > start;\r\n    },\r\n    eatSpace: function() {\r\n      var start = this.pos;\r\n      while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) ++this.pos;\r\n      return this.pos > start;\r\n    },\r\n    skipToEnd: function() {this.pos = this.string.length;},\r\n    skipTo: function(ch) {\r\n      var found = this.string.indexOf(ch, this.pos);\r\n      if (found > -1) {this.pos = found; return true;}\r\n    },\r\n    backUp: function(n) {this.pos -= n;},\r\n    column: function() {return countColumn(this.string, this.start, this.tabSize);},\r\n    indentation: function() {return countColumn(this.string, null, this.tabSize);},\r\n    match: function(pattern, consume, caseInsensitive) {\r\n      if (typeof pattern == \"string\") {\r\n        var cased = function(str) {return caseInsensitive ? str.toLowerCase() : str;};\r\n        if (cased(this.string).indexOf(cased(pattern), this.pos) == this.pos) {\r\n          if (consume !== false) this.pos += pattern.length;\r\n          return true;\r\n        }\r\n      } else {\r\n        var match = this.string.slice(this.pos).match(pattern);\r\n        if (match && match.index > 0) return null;\r\n        if (match && consume !== false) this.pos += match[0].length;\r\n        return match;\r\n      }\r\n    },\r\n    current: function(){return this.string.slice(this.start, this.pos);}\r\n  };\r\n  CodeMirror.StringStream = StringStream;\r\n\r\n  function MarkedSpan(from, to, marker) {\r\n    this.from = from; this.to = to; this.marker = marker;\r\n  }\r\n\r\n  function getMarkedSpanFor(spans, marker) {\r\n    if (spans) for (var i = 0; i < spans.length; ++i) {\r\n      var span = spans[i];\r\n      if (span.marker == marker) return span;\r\n    }\r\n  }\r\n\r\n  function removeMarkedSpan(spans, span) {\r\n    var r;\r\n    for (var i = 0; i < spans.length; ++i)\r\n      if (spans[i] != span) (r || (r = [])).push(spans[i]);\r\n    return r;\r\n  }\r\n\r\n  function markedSpansBefore(old, startCh, endCh) {\r\n    if (old) for (var i = 0, nw; i < old.length; ++i) {\r\n      var span = old[i], marker = span.marker;\r\n      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\r\n      if (startsBefore || marker.type == \"bookmark\" && span.from == startCh && span.from != endCh) {\r\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh);\r\n        (nw || (nw = [])).push({from: span.from,\r\n                                to: endsAfter ? null : span.to,\r\n                                marker: marker});\r\n      }\r\n    }\r\n    return nw;\r\n  }\r\n\r\n  function markedSpansAfter(old, endCh) {\r\n    if (old) for (var i = 0, nw; i < old.length; ++i) {\r\n      var span = old[i], marker = span.marker;\r\n      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\r\n      if (endsAfter || marker.type == \"bookmark\" && span.from == endCh) {\r\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh);\r\n        (nw || (nw = [])).push({from: startsBefore ? null : span.from - endCh,\r\n                                to: span.to == null ? null : span.to - endCh,\r\n                                marker: marker});\r\n      }\r\n    }\r\n    return nw;\r\n  }\r\n\r\n  function updateMarkedSpans(oldFirst, oldLast, startCh, endCh, newText) {\r\n    if (!oldFirst && !oldLast) return newText;\r\n    // Get the spans that 'stick out' on both sides\r\n    var first = markedSpansBefore(oldFirst, startCh);\r\n    var last = markedSpansAfter(oldLast, endCh);\r\n\r\n    // Next, merge those two ends\r\n    var sameLine = newText.length == 1, offset = lst(newText).length + (sameLine ? startCh : 0);\r\n    if (first) {\r\n      // Fix up .to properties of first\r\n      for (var i = 0; i < first.length; ++i) {\r\n        var span = first[i];\r\n        if (span.to == null) {\r\n          var found = getMarkedSpanFor(last, span.marker);\r\n          if (!found) span.to = startCh;\r\n          else if (sameLine) span.to = found.to == null ? null : found.to + offset;\r\n        }\r\n      }\r\n    }\r\n    if (last) {\r\n      // Fix up .from in last (or move them into first in case of sameLine)\r\n      for (var i = 0; i < last.length; ++i) {\r\n        var span = last[i];\r\n        if (span.to != null) span.to += offset;\r\n        if (span.from == null) {\r\n          var found = getMarkedSpanFor(first, span.marker);\r\n          if (!found) {\r\n            span.from = offset;\r\n            if (sameLine) (first || (first = [])).push(span);\r\n          }\r\n        } else {\r\n          span.from += offset;\r\n          if (sameLine) (first || (first = [])).push(span);\r\n        }\r\n      }\r\n    }\r\n\r\n    var newMarkers = [newHL(newText[0], first)];\r\n    if (!sameLine) {\r\n      // Fill gap with whole-line-spans\r\n      var gap = newText.length - 2, gapMarkers;\r\n      if (gap > 0 && first)\r\n        for (var i = 0; i < first.length; ++i)\r\n          if (first[i].to == null)\r\n            (gapMarkers || (gapMarkers = [])).push({from: null, to: null, marker: first[i].marker});\r\n      for (var i = 0; i < gap; ++i)\r\n        newMarkers.push(newHL(newText[i+1], gapMarkers));\r\n      newMarkers.push(newHL(lst(newText), last));\r\n    }\r\n    return newMarkers;\r\n  }\r\n\r\n  // hl stands for history-line, a data structure that can be either a\r\n  // string (line without markers) or a {text, markedSpans} object.\r\n  function hlText(val) { return typeof val == \"string\" ? val : val.text; }\r\n  function hlSpans(val) {\r\n    if (typeof val == \"string\") return null;\r\n    var spans = val.markedSpans, out = null;\r\n    for (var i = 0; i < spans.length; ++i) {\r\n      if (spans[i].marker.explicitlyCleared) { if (!out) out = spans.slice(0, i); }\r\n      else if (out) out.push(spans[i]);\r\n    }\r\n    return !out ? spans : out.length ? out : null;\r\n  }\r\n  function newHL(text, spans) { return spans ? {text: text, markedSpans: spans} : text; }\r\n\r\n  function detachMarkedSpans(line) {\r\n    var spans = line.markedSpans;\r\n    if (!spans) return;\r\n    for (var i = 0; i < spans.length; ++i) {\r\n      var lines = spans[i].marker.lines;\r\n      var ix = indexOf(lines, line);\r\n      lines.splice(ix, 1);\r\n    }\r\n    line.markedSpans = null;\r\n  }\r\n\r\n  function attachMarkedSpans(line, spans) {\r\n    if (!spans) return;\r\n    for (var i = 0; i < spans.length; ++i)\r\n      var marker = spans[i].marker.lines.push(line);\r\n    line.markedSpans = spans;\r\n  }\r\n\r\n  // When measuring the position of the end of a line, different\r\n  // browsers require different approaches. If an empty span is added,\r\n  // many browsers report bogus offsets. Of those, some (Webkit,\r\n  // recent IE) will accept a space without moving the whole span to\r\n  // the next line when wrapping it, others work with a zero-width\r\n  // space.\r\n  var eolSpanContent = \" \";\r\n  if (gecko || (ie && !ie_lt8)) eolSpanContent = \"\\u200b\";\r\n  else if (opera) eolSpanContent = \"\";\r\n\r\n  // Line objects. These hold state related to a line, including\r\n  // highlighting info (the styles array).\r\n  function Line(text, markedSpans) {\r\n    this.text = text;\r\n    this.height = 1;\r\n    attachMarkedSpans(this, markedSpans);\r\n  }\r\n  Line.prototype = {\r\n    update: function(text, markedSpans) {\r\n      this.text = text;\r\n      this.stateAfter = this.styles = null;\r\n      detachMarkedSpans(this);\r\n      attachMarkedSpans(this, markedSpans);\r\n    },\r\n    // Run the given mode's parser over a line, update the styles\r\n    // array, which contains alternating fragments of text and CSS\r\n    // classes.\r\n    highlight: function(mode, state, tabSize) {\r\n      var stream = new StringStream(this.text, tabSize), st = this.styles || (this.styles = []);\r\n      var pos = st.length = 0;\r\n      if (this.text == \"\" && mode.blankLine) mode.blankLine(state);\r\n      while (!stream.eol()) {\r\n        var style = mode.token(stream, state), substr = stream.current();\r\n        stream.start = stream.pos;\r\n        if (pos && st[pos-1] == style) {\r\n          st[pos-2] += substr;\r\n        } else if (substr) {\r\n          st[pos++] = substr; st[pos++] = style;\r\n        }\r\n        // Give up when line is ridiculously long\r\n        if (stream.pos > 5000) {\r\n          st[pos++] = this.text.slice(stream.pos); st[pos++] = null;\r\n          break;\r\n        }\r\n      }\r\n    },\r\n    process: function(mode, state, tabSize) {\r\n      var stream = new StringStream(this.text, tabSize);\r\n      if (this.text == \"\" && mode.blankLine) mode.blankLine(state);\r\n      while (!stream.eol() && stream.pos <= 5000) {\r\n        mode.token(stream, state);\r\n        stream.start = stream.pos;\r\n      }\r\n    },\r\n    // Fetch the parser token for a given character. Useful for hacks\r\n    // that want to inspect the mode state (say, for completion).\r\n    getTokenAt: function(mode, state, tabSize, ch) {\r\n      var txt = this.text, stream = new StringStream(txt, tabSize);\r\n      while (stream.pos < ch && !stream.eol()) {\r\n        stream.start = stream.pos;\r\n        var style = mode.token(stream, state);\r\n      }\r\n      return {start: stream.start,\r\n              end: stream.pos,\r\n              string: stream.current(),\r\n              className: style || null,\r\n              state: state};\r\n    },\r\n    indentation: function(tabSize) {return countColumn(this.text, null, tabSize);},\r\n    // Produces an HTML fragment for the line, taking selection,\r\n    // marking, and highlighting into account.\r\n    getContent: function(tabSize, wrapAt, compensateForWrapping) {\r\n      var first = true, col = 0, specials = /[\\t\\u0000-\\u0019\\u200b\\u2028\\u2029\\uFEFF]/g;\r\n      var pre = elt(\"pre\");\r\n      function span_(html, text, style) {\r\n        if (!text) return;\r\n        // Work around a bug where, in some compat modes, IE ignores leading spaces\r\n        if (first && ie && text.charAt(0) == \" \") text = \"\\u00a0\" + text.slice(1);\r\n        first = false;\r\n        if (!specials.test(text)) {\r\n          col += text.length;\r\n          var content = document.createTextNode(text);\r\n        } else {\r\n          var content = document.createDocumentFragment(), pos = 0;\r\n          while (true) {\r\n            specials.lastIndex = pos;\r\n            var m = specials.exec(text);\r\n            var skipped = m ? m.index - pos : text.length - pos;\r\n            if (skipped) {\r\n              content.appendChild(document.createTextNode(text.slice(pos, pos + skipped)));\r\n              col += skipped;\r\n            }\r\n            if (!m) break;\r\n            pos += skipped + 1;\r\n            if (m[0] == \"\\t\") {\r\n              var tabWidth = tabSize - col % tabSize;\r\n              content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\r\n              col += tabWidth;\r\n            } else {\r\n              var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\r\n              token.title = \"\\\\u\" + m[0].charCodeAt(0).toString(16);\r\n              content.appendChild(token);\r\n              col += 1;\r\n            }\r\n          }\r\n        }\r\n        if (style) html.appendChild(elt(\"span\", [content], style));\r\n        else html.appendChild(content);\r\n      }\r\n      var span = span_;\r\n      if (wrapAt != null) {\r\n        var outPos = 0, anchor = pre.anchor = elt(\"span\");\r\n        span = function(html, text, style) {\r\n          var l = text.length;\r\n          if (wrapAt >= outPos && wrapAt < outPos + l) {\r\n            var cut = wrapAt - outPos;\r\n            if (cut) {\r\n              span_(html, text.slice(0, cut), style);\r\n              // See comment at the definition of spanAffectsWrapping\r\n              if (compensateForWrapping) {\r\n                var view = text.slice(cut - 1, cut + 1);\r\n                if (spanAffectsWrapping.test(view)) html.appendChild(elt(\"wbr\"));\r\n                else if (!ie_lt8 && /\\w\\w/.test(view)) html.appendChild(document.createTextNode(\"\\u200d\"));\r\n              }\r\n            }\r\n            html.appendChild(anchor);\r\n            span_(anchor, opera ? text.slice(cut, cut + 1) : text.slice(cut), style);\r\n            if (opera) span_(html, text.slice(cut + 1), style);\r\n            wrapAt--;\r\n            outPos += l;\r\n          } else {\r\n            outPos += l;\r\n            span_(html, text, style);\r\n            if (outPos == wrapAt && outPos == len) {\r\n              setTextContent(anchor, eolSpanContent);\r\n              html.appendChild(anchor);\r\n            }\r\n            // Stop outputting HTML when gone sufficiently far beyond measure\r\n            else if (outPos > wrapAt + 10 && /\\s/.test(text)) span = function(){};\r\n          }\r\n        };\r\n      }\r\n\r\n      var st = this.styles, allText = this.text, marked = this.markedSpans;\r\n      var len = allText.length;\r\n      function styleToClass(style) {\r\n        if (!style) return null;\r\n        return \"cm-\" + style.replace(/ +/g, \" cm-\");\r\n      }\r\n      if (!allText && wrapAt == null) {\r\n        span(pre, \" \");\r\n      } else if (!marked || !marked.length) {\r\n        for (var i = 0, ch = 0; ch < len; i+=2) {\r\n          var str = st[i], style = st[i+1], l = str.length;\r\n          if (ch + l > len) str = str.slice(0, len - ch);\r\n          ch += l;\r\n          span(pre, str, styleToClass(style));\r\n        }\r\n      } else {\r\n        marked.sort(function(a, b) { return a.from - b.from; });\r\n        var pos = 0, i = 0, text = \"\", style, sg = 0;\r\n        var nextChange = marked[0].from || 0, marks = [], markpos = 0;\r\n        var advanceMarks = function() {\r\n          var m;\r\n          while (markpos < marked.length &&\r\n                 ((m = marked[markpos]).from == pos || m.from == null)) {\r\n            if (m.marker.type == \"range\") marks.push(m);\r\n            ++markpos;\r\n          }\r\n          nextChange = markpos < marked.length ? marked[markpos].from : Infinity;\r\n          for (var i = 0; i < marks.length; ++i) {\r\n            var to = marks[i].to;\r\n            if (to == null) to = Infinity;\r\n            if (to == pos) marks.splice(i--, 1);\r\n            else nextChange = Math.min(to, nextChange);\r\n          }\r\n        };\r\n        var m = 0;\r\n        while (pos < len) {\r\n          if (nextChange == pos) advanceMarks();\r\n          var upto = Math.min(len, nextChange);\r\n          while (true) {\r\n            if (text) {\r\n              var end = pos + text.length;\r\n              var appliedStyle = style;\r\n              for (var j = 0; j < marks.length; ++j) {\r\n                var mark = marks[j];\r\n                appliedStyle = (appliedStyle ? appliedStyle + \" \" : \"\") + mark.marker.style;\r\n                if (mark.marker.endStyle && mark.to === Math.min(end, upto)) appliedStyle += \" \" + mark.marker.endStyle;\r\n                if (mark.marker.startStyle && mark.from === pos) appliedStyle += \" \" + mark.marker.startStyle;\r\n              }\r\n              span(pre, end > upto ? text.slice(0, upto - pos) : text, appliedStyle);\r\n              if (end >= upto) {text = text.slice(upto - pos); pos = upto; break;}\r\n              pos = end;\r\n            }\r\n            text = st[i++]; style = styleToClass(st[i++]);\r\n          }\r\n        }\r\n      }\r\n      return pre;\r\n    },\r\n    cleanUp: function() {\r\n      this.parent = null;\r\n      detachMarkedSpans(this);\r\n    }\r\n  };\r\n\r\n  // Data structure that holds the sequence of lines.\r\n  function LeafChunk(lines) {\r\n    this.lines = lines;\r\n    this.parent = null;\r\n    for (var i = 0, e = lines.length, height = 0; i < e; ++i) {\r\n      lines[i].parent = this;\r\n      height += lines[i].height;\r\n    }\r\n    this.height = height;\r\n  }\r\n  LeafChunk.prototype = {\r\n    chunkSize: function() { return this.lines.length; },\r\n    remove: function(at, n, callbacks) {\r\n      for (var i = at, e = at + n; i < e; ++i) {\r\n        var line = this.lines[i];\r\n        this.height -= line.height;\r\n        line.cleanUp();\r\n        if (line.handlers)\r\n          for (var j = 0; j < line.handlers.length; ++j) callbacks.push(line.handlers[j]);\r\n      }\r\n      this.lines.splice(at, n);\r\n    },\r\n    collapse: function(lines) {\r\n      lines.splice.apply(lines, [lines.length, 0].concat(this.lines));\r\n    },\r\n    insertHeight: function(at, lines, height) {\r\n      this.height += height;\r\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\r\n      for (var i = 0, e = lines.length; i < e; ++i) lines[i].parent = this;\r\n    },\r\n    iterN: function(at, n, op) {\r\n      for (var e = at + n; at < e; ++at)\r\n        if (op(this.lines[at])) return true;\r\n    }\r\n  };\r\n  function BranchChunk(children) {\r\n    this.children = children;\r\n    var size = 0, height = 0;\r\n    for (var i = 0, e = children.length; i < e; ++i) {\r\n      var ch = children[i];\r\n      size += ch.chunkSize(); height += ch.height;\r\n      ch.parent = this;\r\n    }\r\n    this.size = size;\r\n    this.height = height;\r\n    this.parent = null;\r\n  }\r\n  BranchChunk.prototype = {\r\n    chunkSize: function() { return this.size; },\r\n    remove: function(at, n, callbacks) {\r\n      this.size -= n;\r\n      for (var i = 0; i < this.children.length; ++i) {\r\n        var child = this.children[i], sz = child.chunkSize();\r\n        if (at < sz) {\r\n          var rm = Math.min(n, sz - at), oldHeight = child.height;\r\n          child.remove(at, rm, callbacks);\r\n          this.height -= oldHeight - child.height;\r\n          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\r\n          if ((n -= rm) == 0) break;\r\n          at = 0;\r\n        } else at -= sz;\r\n      }\r\n      if (this.size - n < 25) {\r\n        var lines = [];\r\n        this.collapse(lines);\r\n        this.children = [new LeafChunk(lines)];\r\n        this.children[0].parent = this;\r\n      }\r\n    },\r\n    collapse: function(lines) {\r\n      for (var i = 0, e = this.children.length; i < e; ++i) this.children[i].collapse(lines);\r\n    },\r\n    insert: function(at, lines) {\r\n      var height = 0;\r\n      for (var i = 0, e = lines.length; i < e; ++i) height += lines[i].height;\r\n      this.insertHeight(at, lines, height);\r\n    },\r\n    insertHeight: function(at, lines, height) {\r\n      this.size += lines.length;\r\n      this.height += height;\r\n      for (var i = 0, e = this.children.length; i < e; ++i) {\r\n        var child = this.children[i], sz = child.chunkSize();\r\n        if (at <= sz) {\r\n          child.insertHeight(at, lines, height);\r\n          if (child.lines && child.lines.length > 50) {\r\n            while (child.lines.length > 50) {\r\n              var spilled = child.lines.splice(child.lines.length - 25, 25);\r\n              var newleaf = new LeafChunk(spilled);\r\n              child.height -= newleaf.height;\r\n              this.children.splice(i + 1, 0, newleaf);\r\n              newleaf.parent = this;\r\n            }\r\n            this.maybeSpill();\r\n          }\r\n          break;\r\n        }\r\n        at -= sz;\r\n      }\r\n    },\r\n    maybeSpill: function() {\r\n      if (this.children.length <= 10) return;\r\n      var me = this;\r\n      do {\r\n        var spilled = me.children.splice(me.children.length - 5, 5);\r\n        var sibling = new BranchChunk(spilled);\r\n        if (!me.parent) { // Become the parent node\r\n          var copy = new BranchChunk(me.children);\r\n          copy.parent = me;\r\n          me.children = [copy, sibling];\r\n          me = copy;\r\n        } else {\r\n          me.size -= sibling.size;\r\n          me.height -= sibling.height;\r\n          var myIndex = indexOf(me.parent.children, me);\r\n          me.parent.children.splice(myIndex + 1, 0, sibling);\r\n        }\r\n        sibling.parent = me.parent;\r\n      } while (me.children.length > 10);\r\n      me.parent.maybeSpill();\r\n    },\r\n    iter: function(from, to, op) { this.iterN(from, to - from, op); },\r\n    iterN: function(at, n, op) {\r\n      for (var i = 0, e = this.children.length; i < e; ++i) {\r\n        var child = this.children[i], sz = child.chunkSize();\r\n        if (at < sz) {\r\n          var used = Math.min(n, sz - at);\r\n          if (child.iterN(at, used, op)) return true;\r\n          if ((n -= used) == 0) break;\r\n          at = 0;\r\n        } else at -= sz;\r\n      }\r\n    }\r\n  };\r\n\r\n  function getLineAt(chunk, n) {\r\n    while (!chunk.lines) {\r\n      for (var i = 0;; ++i) {\r\n        var child = chunk.children[i], sz = child.chunkSize();\r\n        if (n < sz) { chunk = child; break; }\r\n        n -= sz;\r\n      }\r\n    }\r\n    return chunk.lines[n];\r\n  }\r\n  function lineNo(line) {\r\n    if (line.parent == null) return null;\r\n    var cur = line.parent, no = indexOf(cur.lines, line);\r\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\r\n      for (var i = 0, e = chunk.children.length; ; ++i) {\r\n        if (chunk.children[i] == cur) break;\r\n        no += chunk.children[i].chunkSize();\r\n      }\r\n    }\r\n    return no;\r\n  }\r\n  function lineAtHeight(chunk, h) {\r\n    var n = 0;\r\n    outer: do {\r\n      for (var i = 0, e = chunk.children.length; i < e; ++i) {\r\n        var child = chunk.children[i], ch = child.height;\r\n        if (h < ch) { chunk = child; continue outer; }\r\n        h -= ch;\r\n        n += child.chunkSize();\r\n      }\r\n      return n;\r\n    } while (!chunk.lines);\r\n    for (var i = 0, e = chunk.lines.length; i < e; ++i) {\r\n      var line = chunk.lines[i], lh = line.height;\r\n      if (h < lh) break;\r\n      h -= lh;\r\n    }\r\n    return n + i;\r\n  }\r\n  function heightAtLine(chunk, n) {\r\n    var h = 0;\r\n    outer: do {\r\n      for (var i = 0, e = chunk.children.length; i < e; ++i) {\r\n        var child = chunk.children[i], sz = child.chunkSize();\r\n        if (n < sz) { chunk = child; continue outer; }\r\n        n -= sz;\r\n        h += child.height;\r\n      }\r\n      return h;\r\n    } while (!chunk.lines);\r\n    for (var i = 0; i < n; ++i) h += chunk.lines[i].height;\r\n    return h;\r\n  }\r\n\r\n  // The history object 'chunks' changes that are made close together\r\n  // and at almost the same time into bigger undoable units.\r\n  function History() {\r\n    this.time = 0;\r\n    this.done = []; this.undone = [];\r\n    this.compound = 0;\r\n    this.closed = false;\r\n  }\r\n  History.prototype = {\r\n    addChange: function(start, added, old) {\r\n      this.undone.length = 0;\r\n      var time = +new Date, cur = lst(this.done), last = cur && lst(cur);\r\n      var dtime = time - this.time;\r\n\r\n      if (cur && !this.closed && this.compound) {\r\n        cur.push({start: start, added: added, old: old});\r\n      } else if (dtime > 400 || !last || this.closed ||\r\n                 last.start > start + old.length || last.start + last.added < start) {\r\n        this.done.push([{start: start, added: added, old: old}]);\r\n        this.closed = false;\r\n      } else {\r\n        var startBefore = Math.max(0, last.start - start),\r\n            endAfter = Math.max(0, (start + old.length) - (last.start + last.added));\r\n        for (var i = startBefore; i > 0; --i) last.old.unshift(old[i - 1]);\r\n        for (var i = endAfter; i > 0; --i) last.old.push(old[old.length - i]);\r\n        if (startBefore) last.start = start;\r\n        last.added += added - (old.length - startBefore - endAfter);\r\n      }\r\n      this.time = time;\r\n    },\r\n    startCompound: function() {\r\n      if (!this.compound++) this.closed = true;\r\n    },\r\n    endCompound: function() {\r\n      if (!--this.compound) this.closed = true;\r\n    }\r\n  };\r\n\r\n  function stopMethod() {e_stop(this);}\r\n  // Ensure an event has a stop method.\r\n  function addStop(event) {\r\n    if (!event.stop) event.stop = stopMethod;\r\n    return event;\r\n  }\r\n\r\n  function e_preventDefault(e) {\r\n    if (e.preventDefault) e.preventDefault();\r\n    else e.returnValue = false;\r\n  }\r\n  function e_stopPropagation(e) {\r\n    if (e.stopPropagation) e.stopPropagation();\r\n    else e.cancelBubble = true;\r\n  }\r\n  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\r\n  CodeMirror.e_stop = e_stop;\r\n  CodeMirror.e_preventDefault = e_preventDefault;\r\n  CodeMirror.e_stopPropagation = e_stopPropagation;\r\n\r\n  function e_target(e) {return e.target || e.srcElement;}\r\n  function e_button(e) {\r\n    var b = e.which;\r\n    if (b == null) {\r\n      if (e.button & 1) b = 1;\r\n      else if (e.button & 2) b = 3;\r\n      else if (e.button & 4) b = 2;\r\n    }\r\n    if (mac && e.ctrlKey && b == 1) b = 3;\r\n    return b;\r\n  }\r\n\r\n  // Allow 3rd-party code to override event properties by adding an override\r\n  // object to an event object.\r\n  function e_prop(e, prop) {\r\n    var overridden = e.override && e.override.hasOwnProperty(prop);\r\n    return overridden ? e.override[prop] : e[prop];\r\n  }\r\n\r\n  // Event handler registration. If disconnect is true, it'll return a\r\n  // function that unregisters the handler.\r\n  function connect(node, type, handler, disconnect) {\r\n    if (typeof node.addEventListener == \"function\") {\r\n      node.addEventListener(type, handler, false);\r\n      if (disconnect) return function() {node.removeEventListener(type, handler, false);};\r\n    } else {\r\n      var wrapHandler = function(event) {handler(event || window.event);};\r\n      node.attachEvent(\"on\" + type, wrapHandler);\r\n      if (disconnect) return function() {node.detachEvent(\"on\" + type, wrapHandler);};\r\n    }\r\n  }\r\n  CodeMirror.connect = connect;\r\n\r\n  function Delayed() {this.id = null;}\r\n  Delayed.prototype = {set: function(ms, f) {clearTimeout(this.id); this.id = setTimeout(f, ms);}};\r\n\r\n  var Pass = CodeMirror.Pass = {toString: function(){return \"CodeMirror.Pass\";}};\r\n\r\n  // Detect drag-and-drop\r\n  var dragAndDrop = function() {\r\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\r\n    // couldn't get it to work yet.\r\n    if (ie_lt9) return false;\r\n    var div = elt('div');\r\n    return \"draggable\" in div || \"dragDrop\" in div;\r\n  }();\r\n\r\n  // Feature-detect whether newlines in textareas are converted to \\r\\n\r\n  var lineSep = function () {\r\n    var te = elt(\"textarea\");\r\n    te.value = \"foo\\nbar\";\r\n    if (te.value.indexOf(\"\\r\") > -1) return \"\\r\\n\";\r\n    return \"\\n\";\r\n  }();\r\n\r\n  // For a reason I have yet to figure out, some browsers disallow\r\n  // word wrapping between certain characters *only* if a new inline\r\n  // element is started between them. This makes it hard to reliably\r\n  // measure the position of things, since that requires inserting an\r\n  // extra span. This terribly fragile set of regexps matches the\r\n  // character combinations that suffer from this phenomenon on the\r\n  // various browsers.\r\n  var spanAffectsWrapping = /^$/; // Won't match any two-character string\r\n  if (gecko) spanAffectsWrapping = /$'/;\r\n  else if (safari) spanAffectsWrapping = /\\-[^ \\-?]|\\?[^ !'\\\"\\),.\\-\\/:;\\?\\]\\}]/;\r\n  else if (chrome) spanAffectsWrapping = /\\-[^ \\-\\.?]|\\?[^ \\-\\.?\\]\\}:;!'\\\"\\),\\/]|[\\.!\\\"#&%\\)*+,:;=>\\]|\\}~][\\(\\{\\[<]|\\$'/;\r\n\r\n  // Counts the column offset in a string, taking tabs into account.\r\n  // Used mostly to find indentation.\r\n  function countColumn(string, end, tabSize) {\r\n    if (end == null) {\r\n      end = string.search(/[^\\s\\u00a0]/);\r\n      if (end == -1) end = string.length;\r\n    }\r\n    for (var i = 0, n = 0; i < end; ++i) {\r\n      if (string.charAt(i) == \"\\t\") n += tabSize - (n % tabSize);\r\n      else ++n;\r\n    }\r\n    return n;\r\n  }\r\n\r\n  function eltOffset(node, screen) {\r\n    // Take the parts of bounding client rect that we are interested in so we are able to edit if need be,\r\n    // since the returned value cannot be changed externally (they are kept in sync as the element moves within the page)\r\n    try { var box = node.getBoundingClientRect(); box = { top: box.top, left: box.left }; }\r\n    catch(e) { box = {top: 0, left: 0}; }\r\n    if (!screen) {\r\n      // Get the toplevel scroll, working around browser differences.\r\n      if (window.pageYOffset == null) {\r\n        var t = document.documentElement || document.body.parentNode;\r\n        if (t.scrollTop == null) t = document.body;\r\n        box.top += t.scrollTop; box.left += t.scrollLeft;\r\n      } else {\r\n        box.top += window.pageYOffset; box.left += window.pageXOffset;\r\n      }\r\n    }\r\n    return box;\r\n  }\r\n\r\n  function eltText(node) {\r\n    return node.textContent || node.innerText || node.nodeValue || \"\";\r\n  }\r\n\r\n  var spaceStrs = [\"\"];\r\n  function spaceStr(n) {\r\n    while (spaceStrs.length <= n)\r\n      spaceStrs.push(lst(spaceStrs) + \" \");\r\n    return spaceStrs[n];\r\n  }\r\n\r\n  function lst(arr) { return arr[arr.length-1]; }\r\n\r\n  function selectInput(node) {\r\n    if (ios) { // Mobile Safari apparently has a bug where select() is broken.\r\n      node.selectionStart = 0;\r\n      node.selectionEnd = node.value.length;\r\n    } else node.select();\r\n  }\r\n\r\n  // Operations on {line, ch} objects.\r\n  function posEq(a, b) {return a.line == b.line && a.ch == b.ch;}\r\n  function posLess(a, b) {return a.line < b.line || (a.line == b.line && a.ch < b.ch);}\r\n  function copyPos(x) {return {line: x.line, ch: x.ch};}\r\n\r\n  function elt(tag, content, className, style) {\r\n    var e = document.createElement(tag);\r\n    if (className) e.className = className;\r\n    if (style) e.style.cssText = style;\r\n    if (typeof content == \"string\") setTextContent(e, content);\r\n    else if (content) for (var i = 0; i < content.length; ++i) e.appendChild(content[i]);\r\n    return e;\r\n  }\r\n  function removeChildren(e) {\r\n    e.innerHTML = \"\";\r\n    return e;\r\n  }\r\n  function removeChildrenAndAdd(parent, e) {\r\n    removeChildren(parent).appendChild(e);\r\n  }\r\n  function setTextContent(e, str) {\r\n    if (ie_lt9) {\r\n      e.innerHTML = \"\";\r\n      e.appendChild(document.createTextNode(str));\r\n    } else e.textContent = str;\r\n  }\r\n\r\n  // Used to position the cursor after an undo/redo by finding the\r\n  // last edited character.\r\n  function editEnd(from, to) {\r\n    if (!to) return 0;\r\n    if (!from) return to.length;\r\n    for (var i = from.length, j = to.length; i >= 0 && j >= 0; --i, --j)\r\n      if (from.charAt(i) != to.charAt(j)) break;\r\n    return j + 1;\r\n  }\r\n\r\n  function indexOf(collection, elt) {\r\n    if (collection.indexOf) return collection.indexOf(elt);\r\n    for (var i = 0, e = collection.length; i < e; ++i)\r\n      if (collection[i] == elt) return i;\r\n    return -1;\r\n  }\r\n  function isWordChar(ch) {\r\n    return /\\w/.test(ch) || ch.toUpperCase() != ch.toLowerCase() || /[\\u4E00-\\u9FA5]/.test(ch);\r\n  }\r\n\r\n  // See if \"\".split is the broken IE version, if so, provide an\r\n  // alternative way to split lines.\r\n  var splitLines = \"\\n\\nb\".split(/\\n/).length != 3 ? function(string) {\r\n    var pos = 0, result = [], l = string.length;\r\n    while (pos <= l) {\r\n      var nl = string.indexOf(\"\\n\", pos);\r\n      if (nl == -1) nl = string.length;\r\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\r\n      var rt = line.indexOf(\"\\r\");\r\n      if (rt != -1) {\r\n        result.push(line.slice(0, rt));\r\n        pos += rt + 1;\r\n      } else {\r\n        result.push(line);\r\n        pos = nl + 1;\r\n      }\r\n    }\r\n    return result;\r\n  } : function(string){return string.split(/\\r\\n?|\\n/);};\r\n  CodeMirror.splitLines = splitLines;\r\n\r\n  var hasSelection = window.getSelection ? function(te) {\r\n    try { return te.selectionStart != te.selectionEnd; }\r\n    catch(e) { return false; }\r\n  } : function(te) {\r\n    try {var range = te.ownerDocument.selection.createRange();}\r\n    catch(e) {}\r\n    if (!range || range.parentElement() != te) return false;\r\n    return range.compareEndPoints(\"StartToEnd\", range) != 0;\r\n  };\r\n\r\n  CodeMirror.defineMode(\"null\", function() {\r\n    return {token: function(stream) {stream.skipToEnd();}};\r\n  });\r\n  CodeMirror.defineMIME(\"text/plain\", \"null\");\r\n\r\n  var keyNames = {3: \"Enter\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\r\n                  19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\r\n                  36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\r\n                  46: \"Delete\", 59: \";\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\", 109: \"-\", 107: \"=\", 127: \"Delete\",\r\n                  186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\r\n                  221: \"]\", 222: \"'\", 63276: \"PageUp\", 63277: \"PageDown\", 63275: \"End\", 63273: \"Home\",\r\n                  63234: \"Left\", 63232: \"Up\", 63235: \"Right\", 63233: \"Down\", 63302: \"Insert\", 63272: \"Delete\"};\r\n  CodeMirror.keyNames = keyNames;\r\n  (function() {\r\n    // Number keys\r\n    for (var i = 0; i < 10; i++) keyNames[i + 48] = String(i);\r\n    // Alphabetic keys\r\n    for (var i = 65; i <= 90; i++) keyNames[i] = String.fromCharCode(i);\r\n    // Function keys\r\n    for (var i = 1; i <= 12; i++) keyNames[i + 111] = keyNames[i + 63235] = \"F\" + i;\r\n  })();\r\n\r\n  CodeMirror.version = \"2.35\";\r\n\r\n  return CodeMirror;\r\n})();\r\n","Nwdthemes_Revslider/admin/assets/js/codemirror/util/xml-hint.js":"\r\n(function() {\r\n\r\n    CodeMirror.xmlHints = [];\r\n\r\n    CodeMirror.xmlHint = function(cm, simbol) {\r\n\r\n        if(simbol.length > 0) {\r\n            var cursor = cm.getCursor();\r\n            cm.replaceSelection(simbol);\r\n            cursor = {line: cursor.line, ch: cursor.ch + 1};\r\n            cm.setCursor(cursor);\r\n        }\r\n\r\n        // dirty hack for simple-hint to receive getHint event on space\r\n        var getTokenAt = editor.getTokenAt;\r\n\r\n        editor.getTokenAt = function() { return 'disabled'; };\r\n        CodeMirror.simpleHint(cm, getHint);\r\n\r\n        editor.getTokenAt = getTokenAt;\r\n    };\r\n\r\n    var getHint = function(cm) {\r\n\r\n        var cursor = cm.getCursor();\r\n\r\n        if (cursor.ch > 0) {\r\n\r\n            var text = cm.getRange({line: 0, ch: 0}, cursor);\r\n            var typed = '';\r\n            var simbol = '';\r\n            for(var i = text.length - 1; i >= 0; i--) {\r\n                if(text[i] == ' ' || text[i] == '<') {\r\n                    simbol = text[i];\r\n                    break;\r\n                }\r\n                else {\r\n                    typed = text[i] + typed;\r\n                }\r\n            }\r\n\r\n            text = text.slice(0, text.length - typed.length);\r\n\r\n            var path = getActiveElement(cm, text) + simbol;\r\n            var hints = CodeMirror.xmlHints[path];\r\n\r\n            if(typeof hints === 'undefined')\r\n                hints = [''];\r\n            else {\r\n                hints = hints.slice(0);\r\n                for (var i = hints.length - 1; i >= 0; i--) {\r\n                    if(hints[i].indexOf(typed) != 0)\r\n                        hints.splice(i, 1);\r\n                }\r\n            }\r\n\r\n            return {\r\n                list: hints,\r\n                from: { line: cursor.line, ch: cursor.ch - typed.length },\r\n                to: cursor\r\n            };\r\n        };\r\n    };\r\n\r\n    var getActiveElement = function(codeMirror, text) {\r\n\r\n        var element = '';\r\n\r\n        if(text.length >= 0) {\r\n\r\n            var regex = new RegExp('<([^!?][^\\\\s/>]*).*?>', 'g');\r\n\r\n            var matches = [];\r\n            var match;\r\n            while ((match = regex.exec(text)) != null) {\r\n                matches.push({\r\n                    tag: match[1],\r\n                    selfclose: (match[0].slice(match[0].length - 2) === '/>')\r\n                });\r\n            }\r\n\r\n            for (var i = matches.length - 1, skip = 0; i >= 0; i--) {\r\n\r\n                var item = matches[i];\r\n\r\n                if (item.tag[0] == '/')\r\n                {\r\n                    skip++;\r\n                }\r\n                else if (item.selfclose == false)\r\n                {\r\n                    if (skip > 0)\r\n                    {\r\n                        skip--;\r\n                    }\r\n                    else\r\n                    {\r\n                        element = '<' + item.tag + '>' + element;\r\n                    }\r\n                }\r\n            }\r\n\r\n            element += getOpenTag(text);\r\n        }\r\n\r\n        return element;\r\n    };\r\n\r\n    var getOpenTag = function(text) {\r\n\r\n        var open = text.lastIndexOf('<');\r\n        var close = text.lastIndexOf('>');\r\n\r\n        if (close < open)\r\n        {\r\n            text = text.slice(open);\r\n\r\n            if(text != '<') {\r\n\r\n                var space = text.indexOf(' ');\r\n                if(space < 0)\r\n                    space = text.indexOf('\\t');\r\n                if(space < 0)\r\n                    space = text.indexOf('\\n');\r\n\r\n                if (space < 0)\r\n                    space = text.length;\r\n\r\n                return text.slice(0, space);\r\n            }\r\n        }\r\n\r\n        return '';\r\n    };\r\n\r\n})();\r\n","Nwdthemes_Revslider/admin/assets/js/codemirror/util/match-highlighter.js":"// Define match-highlighter commands. Depends on searchcursor.js\r\n// Use by attaching the following function call to the onCursorActivity event:\r\n\t//myCodeMirror.matchHighlight(minChars);\r\n// And including a special span.CodeMirror-matchhighlight css class (also optionally a separate one for .CodeMirror-focused -- see demo matchhighlighter.html)\r\n\r\n(function() {\r\n  var DEFAULT_MIN_CHARS = 2;\r\n  \r\n  function MatchHighlightState() {\r\n\tthis.marked = [];\r\n  }\r\n  function getMatchHighlightState(cm) {\r\n\treturn cm._matchHighlightState || (cm._matchHighlightState = new MatchHighlightState());\r\n  }\r\n  \r\n  function clearMarks(cm) {\r\n\tvar state = getMatchHighlightState(cm);\r\n\tfor (var i = 0; i < state.marked.length; ++i)\r\n\t\tstate.marked[i].clear();\r\n\tstate.marked = [];\r\n  }\r\n  \r\n  function markDocument(cm, className, minChars) {\r\n    clearMarks(cm);\r\n\tminChars = (typeof minChars !== 'undefined' ? minChars : DEFAULT_MIN_CHARS);\r\n\tif (cm.somethingSelected() && cm.getSelection().replace(/^\\s+|\\s+$/g, \"\").length >= minChars) {\r\n\t\tvar state = getMatchHighlightState(cm);\r\n\t\tvar query = cm.getSelection();\r\n\t\tcm.operation(function() {\r\n\t\t\tif (cm.lineCount() < 2000) { // This is too expensive on big documents.\r\n\t\t\t  for (var cursor = cm.getSearchCursor(query); cursor.findNext();) {\r\n\t\t\t\t//Only apply matchhighlight to the matches other than the one actually selected\r\n\t\t\t\tif (!(cursor.from().line === cm.getCursor(true).line && cursor.from().ch === cm.getCursor(true).ch))\r\n\t\t\t\t\tstate.marked.push(cm.markText(cursor.from(), cursor.to(), className));\r\n\t\t\t  }\r\n\t\t\t}\r\n\t\t  });\r\n\t}\r\n  }\r\n\r\n  CodeMirror.defineExtension(\"matchHighlight\", function(className, minChars) {\r\n    markDocument(this, className, minChars);\r\n  });\r\n})();\r\n","Nwdthemes_Revslider/admin/assets/js/codemirror/util/runmode.js":"CodeMirror.runMode = function(string, modespec, callback, options) {\r\n  function esc(str) {\r\n    return str.replace(/[<&]/g, function(ch) { return ch == \"<\" ? \"&lt;\" : \"&amp;\"; });\r\n  }\r\n\r\n  var mode = CodeMirror.getMode(CodeMirror.defaults, modespec);\r\n  var isNode = callback.nodeType == 1;\r\n  var tabSize = (options && options.tabSize) || CodeMirror.defaults.tabSize;\r\n  if (isNode) {\r\n    var node = callback, accum = [], col = 0;\r\n    callback = function(text, style) {\r\n      if (text == \"\\n\") {\r\n        accum.push(\"<br>\");\r\n        col = 0;\r\n        return;\r\n      }\r\n      var escaped = \"\";\r\n      // HTML-escape and replace tabs\r\n      for (var pos = 0;;) {\r\n        var idx = text.indexOf(\"\\t\", pos);\r\n        if (idx == -1) {\r\n          escaped += esc(text.slice(pos));\r\n          col += text.length - pos;\r\n          break;\r\n        } else {\r\n          col += idx - pos;\r\n          escaped += esc(text.slice(pos, idx));\r\n          var size = tabSize - col % tabSize;\r\n          col += size;\r\n          for (var i = 0; i < size; ++i) escaped += \" \";\r\n          pos = idx + 1;\r\n        }\r\n      }\r\n\r\n      if (style) \r\n        accum.push(\"<span class=\\\"cm-\" + esc(style) + \"\\\">\" + escaped + \"</span>\");\r\n      else\r\n        accum.push(escaped);\r\n    };\r\n  }\r\n  var lines = CodeMirror.splitLines(string), state = CodeMirror.startState(mode);\r\n  for (var i = 0, e = lines.length; i < e; ++i) {\r\n    if (i) callback(\"\\n\");\r\n    var stream = new CodeMirror.StringStream(lines[i]);\r\n    while (!stream.eol()) {\r\n      var style = mode.token(stream, state);\r\n      callback(stream.current(), style, i, stream.start);\r\n      stream.start = stream.pos;\r\n    }\r\n  }\r\n  if (isNode)\r\n    node.innerHTML = accum.join(\"\");\r\n};\r\n","Nwdthemes_Revslider/admin/assets/js/codemirror/util/formatting.js":"// ============== Formatting extensions ============================\r\n(function() {\r\n  // Define extensions for a few modes\r\n  CodeMirror.extendMode(\"css\", {\r\n    commentStart: \"/*\",\r\n    commentEnd: \"*/\",\r\n    wordWrapChars: [\";\", \"\\\\{\", \"\\\\}\"],\r\n    autoFormatLineBreaks: function (text) {\r\n      return text.replace(new RegExp(\"(;|\\\\{|\\\\})([^\\r\\n])\", \"g\"), \"$1\\n$2\");\r\n    }\r\n  });\r\n\r\n  function jsNonBreakableBlocks(text) {\r\n    var nonBreakableRegexes = [/for\\s*?\\((.*?)\\)/,\r\n                               /\\\"(.*?)(\\\"|$)/,\r\n                               /\\'(.*?)(\\'|$)/,\r\n                               /\\/\\*(.*?)(\\*\\/|$)/,\r\n                               /\\/\\/.*/];\r\n    var nonBreakableBlocks = [];\r\n    for (var i = 0; i < nonBreakableRegexes.length; i++) {\r\n      var curPos = 0;\r\n      while (curPos < text.length) {\r\n        var m = text.substr(curPos).match(nonBreakableRegexes[i]);\r\n        if (m != null) {\r\n          nonBreakableBlocks.push({\r\n            start: curPos + m.index,\r\n            end: curPos + m.index + m[0].length\r\n          });\r\n          curPos += m.index + Math.max(1, m[0].length);\r\n        }\r\n        else { // No more matches\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    nonBreakableBlocks.sort(function (a, b) {\r\n      return a.start - b.start;\r\n    });\r\n\r\n    return nonBreakableBlocks;\r\n  }\r\n\r\n  CodeMirror.extendMode(\"javascript\", {\r\n    commentStart: \"/*\",\r\n    commentEnd: \"*/\",\r\n    wordWrapChars: [\";\", \"\\\\{\", \"\\\\}\"],\r\n\r\n    autoFormatLineBreaks: function (text) {\r\n      var curPos = 0;\r\n      var reLinesSplitter = /(;|\\{|\\})([^\\r\\n;])/g;\r\n      var nonBreakableBlocks = jsNonBreakableBlocks(text);\r\n      if (nonBreakableBlocks != null) {\r\n        var res = \"\";\r\n        for (var i = 0; i < nonBreakableBlocks.length; i++) {\r\n          if (nonBreakableBlocks[i].start > curPos) { // Break lines till the block\r\n            res += text.substring(curPos, nonBreakableBlocks[i].start).replace(reLinesSplitter, \"$1\\n$2\");\r\n            curPos = nonBreakableBlocks[i].start;\r\n          }\r\n          if (nonBreakableBlocks[i].start <= curPos\r\n              && nonBreakableBlocks[i].end >= curPos) { // Skip non-breakable block\r\n            res += text.substring(curPos, nonBreakableBlocks[i].end);\r\n            curPos = nonBreakableBlocks[i].end;\r\n          }\r\n        }\r\n        if (curPos < text.length)\r\n          res += text.substr(curPos).replace(reLinesSplitter, \"$1\\n$2\");\r\n        return res;\r\n      } else {\r\n        return text.replace(reLinesSplitter, \"$1\\n$2\");\r\n      }\r\n    }\r\n  });\r\n\r\n  CodeMirror.extendMode(\"xml\", {\r\n    commentStart: \"<!--\",\r\n    commentEnd: \"-->\",\r\n    wordWrapChars: [\">\"],\r\n\r\n    autoFormatLineBreaks: function (text) {\r\n      var lines = text.split(\"\\n\");\r\n      var reProcessedPortion = new RegExp(\"(^\\\\s*?<|^[^<]*?)(.+)(>\\\\s*?$|[^>]*?$)\");\r\n      var reOpenBrackets = new RegExp(\"<\", \"g\");\r\n      var reCloseBrackets = new RegExp(\"(>)([^\\r\\n])\", \"g\");\r\n      for (var i = 0; i < lines.length; i++) {\r\n        var mToProcess = lines[i].match(reProcessedPortion);\r\n        if (mToProcess != null && mToProcess.length > 3) { // The line starts with whitespaces and ends with whitespaces\r\n          lines[i] = mToProcess[1]\r\n            + mToProcess[2].replace(reOpenBrackets, \"\\n$&\").replace(reCloseBrackets, \"$1\\n$2\")\r\n            + mToProcess[3];\r\n          continue;\r\n        }\r\n      }\r\n      return lines.join(\"\\n\");\r\n    }\r\n  });\r\n\r\n  function localModeAt(cm, pos) {\r\n    return CodeMirror.innerMode(cm.getMode(), cm.getTokenAt(pos).state).mode;\r\n  }\r\n\r\n  function enumerateModesBetween(cm, line, start, end) {\r\n    var outer = cm.getMode(), text = cm.getLine(line);\r\n    if (end == null) end = text.length;\r\n    if (!outer.innerMode) return [{from: start, to: end, mode: outer}];\r\n    var state = cm.getTokenAt({line: line, ch: start}).state;\r\n    var mode = CodeMirror.innerMode(outer, state).mode;\r\n    var found = [], stream = new CodeMirror.StringStream(text);\r\n    stream.pos = stream.start = start;\r\n    for (;;) {\r\n      outer.token(stream, state);\r\n      var curMode = CodeMirror.innerMode(outer, state).mode;\r\n      if (curMode != mode) {\r\n        var cut = stream.start;\r\n        // Crappy heuristic to deal with the fact that a change in\r\n        // mode can occur both at the end and the start of a token,\r\n        // and we don't know which it was.\r\n        if (mode.name == \"xml\" && text.charAt(stream.pos - 1) == \">\") cut = stream.pos;\r\n        found.push({from: start, to: cut, mode: mode});\r\n        start = cut;\r\n        mode = curMode;\r\n      }\r\n      if (stream.pos >= end) break;\r\n      stream.start = stream.pos;\r\n    }\r\n    if (start < end) found.push({from: start, to: end, mode: mode});\r\n    return found;\r\n  }\r\n\r\n  // Comment/uncomment the specified range\r\n  CodeMirror.defineExtension(\"commentRange\", function (isComment, from, to) {\r\n    var curMode = localModeAt(this, from), cm = this;\r\n    this.operation(function() {\r\n      if (isComment) { // Comment range\r\n        cm.replaceRange(curMode.commentEnd, to);\r\n        cm.replaceRange(curMode.commentStart, from);\r\n        if (from.line == to.line && from.ch == to.ch) // An empty comment inserted - put cursor inside\r\n          cm.setCursor(from.line, from.ch + curMode.commentStart.length);\r\n      } else { // Uncomment range\r\n        var selText = cm.getRange(from, to);\r\n        var startIndex = selText.indexOf(curMode.commentStart);\r\n        var endIndex = selText.lastIndexOf(curMode.commentEnd);\r\n        if (startIndex > -1 && endIndex > -1 && endIndex > startIndex) {\r\n          // Take string till comment start\r\n          selText = selText.substr(0, startIndex)\r\n          // From comment start till comment end\r\n            + selText.substring(startIndex + curMode.commentStart.length, endIndex)\r\n          // From comment end till string end\r\n            + selText.substr(endIndex + curMode.commentEnd.length);\r\n        }\r\n        cm.replaceRange(selText, from, to);\r\n      }\r\n    });\r\n  });\r\n\r\n  // Applies automatic mode-aware indentation to the specified range\r\n  CodeMirror.defineExtension(\"autoIndentRange\", function (from, to) {\r\n    var cmInstance = this;\r\n    this.operation(function () {\r\n      for (var i = from.line; i <= to.line; i++) {\r\n        cmInstance.indentLine(i, \"smart\");\r\n      }\r\n    });\r\n  });\r\n\r\n  // Applies automatic formatting to the specified range\r\n  CodeMirror.defineExtension(\"autoFormatRange\", function (from, to) {\r\n    var cm = this;\r\n    cm.operation(function () {\r\n      for (var cur = from.line, end = to.line; cur <= end; ++cur) {\r\n        var f = {line: cur, ch: cur == from.line ? from.ch : 0};\r\n        var t = {line: cur, ch: cur == end ? to.ch : null};\r\n        var modes = enumerateModesBetween(cm, cur, f.ch, t.ch), mangled = \"\";\r\n        var text = cm.getRange(f, t);\r\n        for (var i = 0; i < modes.length; ++i) {\r\n          var part = modes.length > 1 ? text.slice(modes[i].from, modes[i].to) : text;\r\n          if (mangled) mangled += \"\\n\";\r\n          if (modes[i].mode.autoFormatLineBreaks) {\r\n            mangled += modes[i].mode.autoFormatLineBreaks(part);\r\n          } else mangled += text;\r\n        }\r\n        if (mangled != text) {\r\n          for (var count = 0, pos = mangled.indexOf(\"\\n\"); pos != -1; pos = mangled.indexOf(\"\\n\", pos + 1), ++count) {}\r\n          cm.replaceRange(mangled, f, t);\r\n          cur += count;\r\n          end += count;\r\n        }\r\n      }\r\n      for (var cur = from.line + 1; cur <= end; ++cur)\r\n        cm.indentLine(cur, \"smart\");\r\n      cm.setSelection(from, cm.getCursor(false));\r\n    });\r\n  });\r\n})();\r\n","Nwdthemes_Revslider/admin/assets/js/codemirror/util/loadmode.js":"(function() {\r\n  if (!CodeMirror.modeURL) CodeMirror.modeURL = \"../mode/%N/%N.js\";\r\n\r\n  var loading = {};\r\n  function splitCallback(cont, n) {\r\n    var countDown = n;\r\n    return function() { if (--countDown == 0) cont(); };\r\n  }\r\n  function ensureDeps(mode, cont) {\r\n    var deps = CodeMirror.modes[mode].dependencies;\r\n    if (!deps) return cont();\r\n    var missing = [];\r\n    for (var i = 0; i < deps.length; ++i) {\r\n      if (!CodeMirror.modes.hasOwnProperty(deps[i]))\r\n        missing.push(deps[i]);\r\n    }\r\n    if (!missing.length) return cont();\r\n    var split = splitCallback(cont, missing.length);\r\n    for (var i = 0; i < missing.length; ++i)\r\n      CodeMirror.requireMode(missing[i], split);\r\n  }\r\n\r\n  CodeMirror.requireMode = function(mode, cont) {\r\n    if (typeof mode != \"string\") mode = mode.name;\r\n    if (CodeMirror.modes.hasOwnProperty(mode)) return ensureDeps(mode, cont);\r\n    if (loading.hasOwnProperty(mode)) return loading[mode].push(cont);\r\n\r\n    var script = document.createElement(\"script\");\r\n    script.src = CodeMirror.modeURL.replace(/%N/g, mode);\r\n    var others = document.getElementsByTagName(\"script\")[0];\r\n    others.parentNode.insertBefore(script, others);\r\n    var list = loading[mode] = [cont];\r\n    var count = 0, poll = setInterval(function() {\r\n      if (++count > 100) return clearInterval(poll);\r\n      if (CodeMirror.modes.hasOwnProperty(mode)) {\r\n        clearInterval(poll);\r\n        loading[mode] = null;\r\n        ensureDeps(mode, function() {\r\n          for (var i = 0; i < list.length; ++i) list[i]();\r\n        });\r\n      }\r\n    }, 200);\r\n  };\r\n\r\n  CodeMirror.autoLoadMode = function(instance, mode) {\r\n    if (!CodeMirror.modes.hasOwnProperty(mode))\r\n      CodeMirror.requireMode(mode, function() {\r\n        instance.setOption(\"mode\", instance.getOption(\"mode\"));\r\n      });\r\n  };\r\n}());\r\n","Nwdthemes_Revslider/admin/assets/js/codemirror/util/dialog.js":"// Open simple dialogs on top of an editor. Relies on dialog.css.\r\n\r\n(function() {\r\n  function dialogDiv(cm, template) {\r\n    var wrap = cm.getWrapperElement();\r\n    var dialog = wrap.insertBefore(document.createElement(\"div\"), wrap.firstChild);\r\n    dialog.className = \"CodeMirror-dialog\";\r\n    dialog.innerHTML = '<div>' + template + '</div>';\r\n    return dialog;\r\n  }\r\n\r\n  CodeMirror.defineExtension(\"openDialog\", function(template, callback) {\r\n    var dialog = dialogDiv(this, template);\r\n    var closed = false, me = this;\r\n    function close() {\r\n      if (closed) return;\r\n      closed = true;\r\n      dialog.parentNode.removeChild(dialog);\r\n    }\r\n    var inp = dialog.getElementsByTagName(\"input\")[0], button;\r\n    if (inp) {\r\n      CodeMirror.connect(inp, \"keydown\", function(e) {\r\n        if (e.keyCode == 13 || e.keyCode == 27) {\r\n          CodeMirror.e_stop(e);\r\n          close();\r\n          me.focus();\r\n          if (e.keyCode == 13) callback(inp.value);\r\n        }\r\n      });\r\n      inp.focus();\r\n      CodeMirror.connect(inp, \"blur\", close);\r\n    } else if (button = dialog.getElementsByTagName(\"button\")[0]) {\r\n      CodeMirror.connect(button, \"click\", function() {\r\n        close();\r\n        me.focus();\r\n      });\r\n      button.focus();\r\n      CodeMirror.connect(button, \"blur\", close);\r\n    }\r\n    return close;\r\n  });\r\n\r\n  CodeMirror.defineExtension(\"openConfirm\", function(template, callbacks) {\r\n    var dialog = dialogDiv(this, template);\r\n    var buttons = dialog.getElementsByTagName(\"button\");\r\n    var closed = false, me = this, blurring = 1;\r\n    function close() {\r\n      if (closed) return;\r\n      closed = true;\r\n      dialog.parentNode.removeChild(dialog);\r\n      me.focus();\r\n    }\r\n    buttons[0].focus();\r\n    for (var i = 0; i < buttons.length; ++i) {\r\n      var b = buttons[i];\r\n      (function(callback) {\r\n        CodeMirror.connect(b, \"click\", function(e) {\r\n          CodeMirror.e_preventDefault(e);\r\n          close();\r\n          if (callback) callback(me);\r\n        });\r\n      })(callbacks[i]);\r\n      CodeMirror.connect(b, \"blur\", function() {\r\n        --blurring;\r\n        setTimeout(function() { if (blurring <= 0) close(); }, 200);\r\n      });\r\n      CodeMirror.connect(b, \"focus\", function() { ++blurring; });\r\n    }\r\n  });\r\n})();","Nwdthemes_Revslider/admin/assets/js/codemirror/util/runmode-standalone.js":"/* Just enough of CodeMirror to run runMode under node.js */\r\n\r\nfunction splitLines(string){ return string.split(/\\r?\\n|\\r/); };\r\n\r\nfunction StringStream(string) {\r\n  this.pos = this.start = 0;\r\n  this.string = string;\r\n}\r\nStringStream.prototype = {\r\n  eol: function() {return this.pos >= this.string.length;},\r\n  sol: function() {return this.pos == 0;},\r\n  peek: function() {return this.string.charAt(this.pos) || null;},\r\n  next: function() {\r\n    if (this.pos < this.string.length)\r\n      return this.string.charAt(this.pos++);\r\n  },\r\n  eat: function(match) {\r\n    var ch = this.string.charAt(this.pos);\r\n    if (typeof match == \"string\") var ok = ch == match;\r\n    else var ok = ch && (match.test ? match.test(ch) : match(ch));\r\n    if (ok) {++this.pos; return ch;}\r\n  },\r\n  eatWhile: function(match) {\r\n    var start = this.pos;\r\n    while (this.eat(match)){}\r\n    return this.pos > start;\r\n  },\r\n  eatSpace: function() {\r\n    var start = this.pos;\r\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) ++this.pos;\r\n    return this.pos > start;\r\n  },\r\n  skipToEnd: function() {this.pos = this.string.length;},\r\n  skipTo: function(ch) {\r\n    var found = this.string.indexOf(ch, this.pos);\r\n    if (found > -1) {this.pos = found; return true;}\r\n  },\r\n  backUp: function(n) {this.pos -= n;},\r\n  column: function() {return this.start;},\r\n  indentation: function() {return 0;},\r\n  match: function(pattern, consume, caseInsensitive) {\r\n    if (typeof pattern == \"string\") {\r\n      function cased(str) {return caseInsensitive ? str.toLowerCase() : str;}\r\n      if (cased(this.string).indexOf(cased(pattern), this.pos) == this.pos) {\r\n        if (consume !== false) this.pos += pattern.length;\r\n        return true;\r\n      }\r\n    }\r\n    else {\r\n      var match = this.string.slice(this.pos).match(pattern);\r\n      if (match && consume !== false) this.pos += match[0].length;\r\n      return match;\r\n    }\r\n  },\r\n  current: function(){return this.string.slice(this.start, this.pos);}\r\n};\r\nexports.StringStream = StringStream;\r\n\r\nexports.startState = function(mode, a1, a2) {\r\n  return mode.startState ? mode.startState(a1, a2) : true;\r\n};\r\n\r\nvar modes = exports.modes = {}, mimeModes = exports.mimeModes = {};\r\nexports.defineMode = function(name, mode) { modes[name] = mode; };\r\nexports.defineMIME = function(mime, spec) { mimeModes[mime] = spec; };\r\nexports.getMode = function(options, spec) {\r\n  if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec))\r\n    spec = mimeModes[spec];\r\n  if (typeof spec == \"string\")\r\n    var mname = spec, config = {};\r\n  else if (spec != null)\r\n    var mname = spec.name, config = spec;\r\n  var mfactory = modes[mname];\r\n  if (!mfactory) throw new Error(\"Unknown mode: \" + spec);\r\n  return mfactory(options, config || {});\r\n};\r\n\r\nexports.runMode = function(string, modespec, callback) {\r\n  var mode = exports.getMode({indentUnit: 2}, modespec);\r\n  var lines = splitLines(string), state = exports.startState(mode);\r\n  for (var i = 0, e = lines.length; i < e; ++i) {\r\n    if (i) callback(\"\\n\");\r\n    var stream = new exports.StringStream(lines[i]);\r\n    while (!stream.eol()) {\r\n      var style = mode.token(stream, state);\r\n      callback(stream.current(), style, i, stream.start);\r\n      stream.start = stream.pos;\r\n    }\r\n  }\r\n};\r\n","Nwdthemes_Revslider/admin/assets/js/codemirror/util/closetag.js":"/**\r\n * Tag-closer extension for CodeMirror.\r\n *\r\n * This extension adds a \"closeTag\" utility function that can be used with key bindings to \r\n * insert a matching end tag after the \">\" character of a start tag has been typed.  It can\r\n * also complete \"</\" if a matching start tag is found.  It will correctly ignore signal\r\n * characters for empty tags, comments, CDATA, etc.\r\n *\r\n * The function depends on internal parser state to identify tags.  It is compatible with the\r\n * following CodeMirror modes and will ignore all others:\r\n * - htmlmixed\r\n * - xml\r\n *\r\n * See demos/closetag.html for a usage example.\r\n * \r\n * @author Nathan Williams <nathan@nlwillia.net>\r\n * Contributed under the same license terms as CodeMirror.\r\n */\r\n(function() {\r\n\t/** Option that allows tag closing behavior to be toggled.  Default is true. */\r\n\tCodeMirror.defaults['closeTagEnabled'] = true;\r\n\t\r\n\t/** Array of tag names to add indentation after the start tag for.  Default is the list of block-level html tags. */\r\n\tCodeMirror.defaults['closeTagIndent'] = ['applet', 'blockquote', 'body', 'button', 'div', 'dl', 'fieldset', 'form', 'frameset', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'html', 'iframe', 'layer', 'legend', 'object', 'ol', 'p', 'select', 'table', 'ul'];\r\n\r\n\t/** Array of tag names where an end tag is forbidden. */\r\n\tCodeMirror.defaults['closeTagVoid'] = ['area', 'base', 'br', 'col', 'command', 'embed', 'hr', 'img', 'input', 'keygen', 'link', 'meta', 'param', 'source', 'track', 'wbr'];\r\n\r\n\tfunction innerState(cm, state) {\r\n\t\treturn CodeMirror.innerMode(cm.getMode(), state).state;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Call during key processing to close tags.  Handles the key event if the tag is closed, otherwise throws CodeMirror.Pass.\r\n\t * - cm: The editor instance.\r\n\t * - ch: The character being processed.\r\n\t * - indent: Optional.  An array of tag names to indent when closing.  Omit or pass true to use the default indentation tag list defined in the 'closeTagIndent' option.\r\n\t *   Pass false to disable indentation.  Pass an array to override the default list of tag names.\r\n\t * - vd: Optional.  An array of tag names that should not be closed.  Omit to use the default void (end tag forbidden) tag list defined in the 'closeTagVoid' option.  Ignored in xml mode.\r\n\t */\r\n\tCodeMirror.defineExtension(\"closeTag\", function(cm, ch, indent, vd) {\r\n\t\tif (!cm.getOption('closeTagEnabled')) {\r\n\t\t\tthrow CodeMirror.Pass;\r\n\t\t}\r\n\t\t\r\n\t\t/*\r\n\t\t * Relevant structure of token:\r\n\t\t *\r\n\t\t * htmlmixed\r\n\t\t * \t\tclassName\r\n\t\t * \t\tstate\r\n\t\t * \t\t\thtmlState\r\n\t\t * \t\t\t\ttype\r\n\t\t *\t\t\t\ttagName\r\n\t\t * \t\t\t\tcontext\r\n\t\t * \t\t\t\t\ttagName\r\n\t\t * \t\t\tmode\r\n\t\t * \r\n\t\t * xml\r\n\t\t * \t\tclassName\r\n\t\t * \t\tstate\r\n\t\t * \t\t\ttagName\r\n\t\t * \t\t\ttype\r\n\t\t */\r\n\t\t\r\n\t\tvar pos = cm.getCursor();\r\n\t\tvar tok = cm.getTokenAt(pos);\r\n\t\tvar state = innerState(cm, tok.state);\r\n\r\n\t\tif (state) {\r\n\t\t\t\r\n\t\t\tif (ch == '>') {\r\n\t\t\t\tvar type = state.type;\r\n\t\t\t\t\r\n\t\t\t\tif (tok.className == 'tag' && type == 'closeTag') {\r\n\t\t\t\t\tthrow CodeMirror.Pass; // Don't process the '>' at the end of an end-tag.\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\tcm.replaceSelection('>'); // Mode state won't update until we finish the tag.\r\n\t\t\t\tpos = {line: pos.line, ch: pos.ch + 1};\r\n\t\t\t\tcm.setCursor(pos);\r\n\t\t\r\n\t\t\t\ttok = cm.getTokenAt(cm.getCursor());\r\n\t\t\t\tstate = innerState(cm, tok.state);\r\n\t\t\t\tif (!state) throw CodeMirror.Pass;\r\n\t\t\t\tvar type = state.type;\r\n\r\n\t\t\t\tif (tok.className == 'tag' && type != 'selfcloseTag') {\r\n\t\t\t\t\tvar tagName = state.tagName;\r\n\t\t\t\t\tif (tagName.length > 0 && shouldClose(cm, vd, tagName)) {\r\n\t\t\t\t\t\tinsertEndTag(cm, indent, pos, tagName);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// Undo the '>' insert and allow cm to handle the key instead.\r\n\t\t\t\tcm.setSelection({line: pos.line, ch: pos.ch - 1}, pos);\r\n\t\t\t\tcm.replaceSelection(\"\");\r\n\t\t\t\r\n\t\t\t} else if (ch == '/') {\r\n\t\t\t\tif (tok.className == 'tag' && tok.string == '<') {\r\n\t\t\t\t\tvar ctx = state.context, tagName = ctx ? ctx.tagName : '';\r\n\t\t\t\t\tif (tagName.length > 0) {\r\n\t\t\t\t\t\tcompleteEndTag(cm, pos, tagName);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t}\r\n\t\t\r\n\t\tthrow CodeMirror.Pass; // Bubble if not handled\r\n\t});\r\n\r\n\tfunction insertEndTag(cm, indent, pos, tagName) {\r\n\t\tif (shouldIndent(cm, indent, tagName)) {\r\n\t\t\tcm.replaceSelection('\\n\\n</' + tagName + '>', 'end');\r\n\t\t\tcm.indentLine(pos.line + 1);\r\n\t\t\tcm.indentLine(pos.line + 2);\r\n\t\t\tcm.setCursor({line: pos.line + 1, ch: cm.getLine(pos.line + 1).length});\r\n\t\t} else {\r\n\t\t\tcm.replaceSelection('</' + tagName + '>');\r\n\t\t\tcm.setCursor(pos);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction shouldIndent(cm, indent, tagName) {\r\n\t\tif (typeof indent == 'undefined' || indent == null || indent == true) {\r\n\t\t\tindent = cm.getOption('closeTagIndent');\r\n\t\t}\r\n\t\tif (!indent) {\r\n\t\t\tindent = [];\r\n\t\t}\r\n\t\treturn indexOf(indent, tagName.toLowerCase()) != -1;\r\n\t}\r\n\t\r\n\tfunction shouldClose(cm, vd, tagName) {\r\n\t\tif (cm.getOption('mode') == 'xml') {\r\n\t\t\treturn true; // always close xml tags\r\n\t\t}\r\n\t\tif (typeof vd == 'undefined' || vd == null) {\r\n\t\t\tvd = cm.getOption('closeTagVoid');\r\n\t\t}\r\n\t\tif (!vd) {\r\n\t\t\tvd = [];\r\n\t\t}\r\n\t\treturn indexOf(vd, tagName.toLowerCase()) == -1;\r\n\t}\r\n\t\r\n\t// C&P from codemirror.js...would be nice if this were visible to utilities.\r\n\tfunction indexOf(collection, elt) {\r\n\t\tif (collection.indexOf) return collection.indexOf(elt);\r\n\t\tfor (var i = 0, e = collection.length; i < e; ++i)\r\n\t\t\tif (collection[i] == elt) return i;\r\n\t\treturn -1;\r\n\t}\r\n\r\n\tfunction completeEndTag(cm, pos, tagName) {\r\n\t\tcm.replaceSelection('/' + tagName + '>');\r\n\t\tcm.setCursor({line: pos.line, ch: pos.ch + tagName.length + 2 });\r\n\t}\r\n\t\r\n})();\r\n","Nwdthemes_Revslider/admin/assets/js/codemirror/util/search.js":"// Define search commands. Depends on dialog.js or another\r\n// implementation of the openDialog method.\r\n\r\n// Replace works a little oddly -- it will do the replace on the next\r\n// Ctrl-G (or whatever is bound to findNext) press. You prevent a\r\n// replace by making sure the match is no longer selected when hitting\r\n// Ctrl-G.\r\n\r\n(function() {\r\n  function SearchState() {\r\n    this.posFrom = this.posTo = this.query = null;\r\n    this.marked = [];\r\n  }\r\n  function getSearchState(cm) {\r\n    return cm._searchState || (cm._searchState = new SearchState());\r\n  }\r\n  function getSearchCursor(cm, query, pos) {\r\n    // Heuristic: if the query string is all lowercase, do a case insensitive search.\r\n    return cm.getSearchCursor(query, pos, typeof query == \"string\" && query == query.toLowerCase());\r\n  }\r\n  function dialog(cm, text, shortText, f) {\r\n    if (cm.openDialog) cm.openDialog(text, f);\r\n    else f(prompt(shortText, \"\"));\r\n  }\r\n  function confirmDialog(cm, text, shortText, fs) {\r\n    if (cm.openConfirm) cm.openConfirm(text, fs);\r\n    else if (confirm(shortText)) fs[0]();\r\n  }\r\n  function parseQuery(query) {\r\n    var isRE = query.match(/^\\/(.*)\\/([a-z]*)$/);\r\n    return isRE ? new RegExp(isRE[1], isRE[2].indexOf(\"i\") == -1 ? \"\" : \"i\") : query;\r\n  }\r\n  var queryDialog =\r\n    'Search: <input type=\"text\" style=\"width: 10em\"/> <span style=\"color: #888\">(Use /re/ syntax for regexp search)</span>';\r\n  function doSearch(cm, rev) {\r\n    var state = getSearchState(cm);\r\n    if (state.query) return findNext(cm, rev);\r\n    dialog(cm, queryDialog, \"Search for:\", function(query) {\r\n      cm.operation(function() {\r\n        if (!query || state.query) return;\r\n        state.query = parseQuery(query);\r\n        if (cm.lineCount() < 2000) { // This is too expensive on big documents.\r\n          for (var cursor = getSearchCursor(cm, state.query); cursor.findNext();)\r\n            state.marked.push(cm.markText(cursor.from(), cursor.to(), \"CodeMirror-searching\"));\r\n        }\r\n        state.posFrom = state.posTo = cm.getCursor();\r\n        findNext(cm, rev);\r\n      });\r\n    });\r\n  }\r\n  function findNext(cm, rev) {cm.operation(function() {\r\n    var state = getSearchState(cm);\r\n    var cursor = getSearchCursor(cm, state.query, rev ? state.posFrom : state.posTo);\r\n    if (!cursor.find(rev)) {\r\n      cursor = getSearchCursor(cm, state.query, rev ? {line: cm.lineCount() - 1} : {line: 0, ch: 0});\r\n      if (!cursor.find(rev)) return;\r\n    }\r\n    cm.setSelection(cursor.from(), cursor.to());\r\n    state.posFrom = cursor.from(); state.posTo = cursor.to();\r\n  });}\r\n  function clearSearch(cm) {cm.operation(function() {\r\n    var state = getSearchState(cm);\r\n    if (!state.query) return;\r\n    state.query = null;\r\n    for (var i = 0; i < state.marked.length; ++i) state.marked[i].clear();\r\n    state.marked.length = 0;\r\n  });}\r\n\r\n  var replaceQueryDialog =\r\n    'Replace: <input type=\"text\" style=\"width: 10em\"/> <span style=\"color: #888\">(Use /re/ syntax for regexp search)</span>';\r\n  var replacementQueryDialog = 'With: <input type=\"text\" style=\"width: 10em\"/>';\r\n  var doReplaceConfirm = \"Replace? <button>Yes</button> <button>No</button> <button>Stop</button>\";\r\n  function replace(cm, all) {\r\n    dialog(cm, replaceQueryDialog, \"Replace:\", function(query) {\r\n      if (!query) return;\r\n      query = parseQuery(query);\r\n      dialog(cm, replacementQueryDialog, \"Replace with:\", function(text) {\r\n        if (all) {\r\n          cm.compoundChange(function() { cm.operation(function() {\r\n            for (var cursor = getSearchCursor(cm, query); cursor.findNext();) {\r\n              if (typeof query != \"string\") {\r\n                var match = cm.getRange(cursor.from(), cursor.to()).match(query);\r\n                cursor.replace(text.replace(/\\$(\\d)/, function(w, i) {return match[i];}));\r\n              } else cursor.replace(text);\r\n            }\r\n          });});\r\n        } else {\r\n          clearSearch(cm);\r\n          var cursor = getSearchCursor(cm, query, cm.getCursor());\r\n          function advance() {\r\n            var start = cursor.from(), match;\r\n            if (!(match = cursor.findNext())) {\r\n              cursor = getSearchCursor(cm, query);\r\n              if (!(match = cursor.findNext()) ||\r\n                  (start && cursor.from().line == start.line && cursor.from().ch == start.ch)) return;\r\n            }\r\n            cm.setSelection(cursor.from(), cursor.to());\r\n            confirmDialog(cm, doReplaceConfirm, \"Replace?\",\r\n                          [function() {doReplace(match);}, advance]);\r\n          }\r\n          function doReplace(match) {\r\n            cursor.replace(typeof query == \"string\" ? text :\r\n                           text.replace(/\\$(\\d)/, function(w, i) {return match[i];}));\r\n            advance();\r\n          }\r\n          advance();\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  CodeMirror.commands.find = function(cm) {clearSearch(cm); doSearch(cm);};\r\n  CodeMirror.commands.findNext = doSearch;\r\n  CodeMirror.commands.findPrev = function(cm) {doSearch(cm, true);};\r\n  CodeMirror.commands.clearSearch = clearSearch;\r\n  CodeMirror.commands.replace = replace;\r\n  CodeMirror.commands.replaceAll = function(cm) {replace(cm, true);};\r\n})();\r\n","Nwdthemes_Revslider/admin/assets/js/codemirror/util/foldcode.js":"// the tagRangeFinder function is\r\n//   Copyright (C) 2011 by Daniel Glazman <daniel@glazman.org>\r\n// released under the MIT license (../../LICENSE) like the rest of CodeMirror\r\nCodeMirror.tagRangeFinder = function(cm, line, hideEnd) {\r\n  var nameStartChar = \"A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\";\r\n  var nameChar = nameStartChar + \"\\-\\:\\.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040\";\r\n  var xmlNAMERegExp = new RegExp(\"^[\" + nameStartChar + \"][\" + nameChar + \"]*\");\r\n\r\n  var lineText = cm.getLine(line);\r\n  var found = false;\r\n  var tag = null;\r\n  var pos = 0;\r\n  while (!found) {\r\n    pos = lineText.indexOf(\"<\", pos);\r\n    if (-1 == pos) // no tag on line\r\n      return;\r\n    if (pos + 1 < lineText.length && lineText[pos + 1] == \"/\") { // closing tag\r\n      pos++;\r\n      continue;\r\n    }\r\n    // ok we weem to have a start tag\r\n    if (!lineText.substr(pos + 1).match(xmlNAMERegExp)) { // not a tag name...\r\n      pos++;\r\n      continue;\r\n    }\r\n    var gtPos = lineText.indexOf(\">\", pos + 1);\r\n    if (-1 == gtPos) { // end of start tag not in line\r\n      var l = line + 1;\r\n      var foundGt = false;\r\n      var lastLine = cm.lineCount();\r\n      while (l < lastLine && !foundGt) {\r\n        var lt = cm.getLine(l);\r\n        var gt = lt.indexOf(\">\");\r\n        if (-1 != gt) { // found a >\r\n          foundGt = true;\r\n          var slash = lt.lastIndexOf(\"/\", gt);\r\n          if (-1 != slash && slash < gt) {\r\n            var str = lineText.substr(slash, gt - slash + 1);\r\n            if (!str.match( /\\/\\s*\\>/ )) { // yep, that's the end of empty tag\r\n              if (hideEnd === true) l++;\r\n              return l;\r\n            }\r\n          }\r\n        }\r\n        l++;\r\n      }\r\n      found = true;\r\n    }\r\n    else {\r\n      var slashPos = lineText.lastIndexOf(\"/\", gtPos);\r\n      if (-1 == slashPos) { // cannot be empty tag\r\n        found = true;\r\n        // don't continue\r\n      }\r\n      else { // empty tag?\r\n        // check if really empty tag\r\n        var str = lineText.substr(slashPos, gtPos - slashPos + 1);\r\n        if (!str.match( /\\/\\s*\\>/ )) { // finally not empty\r\n          found = true;\r\n          // don't continue\r\n        }\r\n      }\r\n    }\r\n    if (found) {\r\n      var subLine = lineText.substr(pos + 1);\r\n      tag = subLine.match(xmlNAMERegExp);\r\n      if (tag) {\r\n        // we have an element name, wooohooo !\r\n        tag = tag[0];\r\n        // do we have the close tag on same line ???\r\n        if (-1 != lineText.indexOf(\"</\" + tag + \">\", pos)) // yep\r\n        {\r\n          found = false;\r\n        }\r\n        // we don't, so we have a candidate...\r\n      }\r\n      else\r\n        found = false;\r\n    }\r\n    if (!found)\r\n      pos++;\r\n  }\r\n\r\n  if (found) {\r\n    var startTag = \"(\\\\<\\\\/\" + tag + \"\\\\>)|(\\\\<\" + tag + \"\\\\>)|(\\\\<\" + tag + \"\\\\s)|(\\\\<\" + tag + \"$)\";\r\n    var startTagRegExp = new RegExp(startTag, \"g\");\r\n    var endTag = \"</\" + tag + \">\";\r\n    var depth = 1;\r\n    var l = line + 1;\r\n    var lastLine = cm.lineCount();\r\n    while (l < lastLine) {\r\n      lineText = cm.getLine(l);\r\n      var match = lineText.match(startTagRegExp);\r\n      if (match) {\r\n        for (var i = 0; i < match.length; i++) {\r\n          if (match[i] == endTag)\r\n            depth--;\r\n          else\r\n            depth++;\r\n          if (!depth) {\r\n            if (hideEnd === true) l++;\r\n            return l;\r\n          }\r\n        }\r\n      }\r\n      l++;\r\n    }\r\n    return;\r\n  }\r\n};\r\n\r\nCodeMirror.braceRangeFinder = function(cm, line, hideEnd) {\r\n  var lineText = cm.getLine(line), at = lineText.length, startChar, tokenType;\r\n  for (;;) {\r\n    var found = lineText.lastIndexOf(\"{\", at);\r\n    if (found < 0) break;\r\n    tokenType = cm.getTokenAt({line: line, ch: found}).className;\r\n    if (!/^(comment|string)/.test(tokenType)) { startChar = found; break; }\r\n    at = found - 1;\r\n  }\r\n  if (startChar == null || lineText.lastIndexOf(\"}\") > startChar) return;\r\n  var count = 1, lastLine = cm.lineCount(), end;\r\n  outer: for (var i = line + 1; i < lastLine; ++i) {\r\n    var text = cm.getLine(i), pos = 0;\r\n    for (;;) {\r\n      var nextOpen = text.indexOf(\"{\", pos), nextClose = text.indexOf(\"}\", pos);\r\n      if (nextOpen < 0) nextOpen = text.length;\r\n      if (nextClose < 0) nextClose = text.length;\r\n      pos = Math.min(nextOpen, nextClose);\r\n      if (pos == text.length) break;\r\n      if (cm.getTokenAt({line: i, ch: pos + 1}).className == tokenType) {\r\n        if (pos == nextOpen) ++count;\r\n        else if (!--count) { end = i; break outer; }\r\n      }\r\n      ++pos;\r\n    }\r\n  }\r\n  if (end == null || end == line + 1) return;\r\n  if (hideEnd === true) end++;\r\n  return end;\r\n};\r\n\r\nCodeMirror.indentRangeFinder = function(cm, line) {\r\n  var tabSize = cm.getOption(\"tabSize\");\r\n  var myIndent = cm.getLineHandle(line).indentation(tabSize), last;\r\n  for (var i = line + 1, end = cm.lineCount(); i < end; ++i) {\r\n    var handle = cm.getLineHandle(i);\r\n    if (!/^\\s*$/.test(handle.text)) {\r\n      if (handle.indentation(tabSize) <= myIndent) break;\r\n      last = i;\r\n    }\r\n  }\r\n  if (!last) return null;\r\n  return last + 1;\r\n};\r\n\r\nCodeMirror.newFoldFunction = function(rangeFinder, markText, hideEnd) {\r\n  var folded = [];\r\n  if (markText == null) markText = '<div style=\"position: absolute; left: 2px; color:#600\">&#x25bc;</div>%N%';\r\n\r\n  function isFolded(cm, n) {\r\n    for (var i = 0; i < folded.length; ++i) {\r\n      var start = cm.lineInfo(folded[i].start);\r\n      if (!start) folded.splice(i--, 1);\r\n      else if (start.line == n) return {pos: i, region: folded[i]};\r\n    }\r\n  }\r\n\r\n  function expand(cm, region) {\r\n    cm.clearMarker(region.start);\r\n    for (var i = 0; i < region.hidden.length; ++i)\r\n      cm.showLine(region.hidden[i]);\r\n  }\r\n\r\n  return function(cm, line) {\r\n    cm.operation(function() {\r\n      var known = isFolded(cm, line);\r\n      if (known) {\r\n        folded.splice(known.pos, 1);\r\n        expand(cm, known.region);\r\n      } else {\r\n        var end = rangeFinder(cm, line, hideEnd);\r\n        if (end == null) return;\r\n        var hidden = [];\r\n        for (var i = line + 1; i < end; ++i) {\r\n          var handle = cm.hideLine(i);\r\n          if (handle) hidden.push(handle);\r\n        }\r\n        var first = cm.setMarker(line, markText);\r\n        var region = {start: first, hidden: hidden};\r\n        cm.onDeleteLine(first, function() { expand(cm, region); });\r\n        folded.push(region);\r\n      }\r\n    });\r\n  };\r\n};\r\n","Nwdthemes_Revslider/admin/assets/js/codemirror/util/javascript-hint.js":"(function () {\r\n  function forEach(arr, f) {\r\n    for (var i = 0, e = arr.length; i < e; ++i) f(arr[i]);\r\n  }\r\n  \r\n  function arrayContains(arr, item) {\r\n    if (!Array.prototype.indexOf) {\r\n      var i = arr.length;\r\n      while (i--) {\r\n        if (arr[i] === item) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    return arr.indexOf(item) != -1;\r\n  }\r\n\r\n  function scriptHint(editor, keywords, getToken) {\r\n    // Find the token at the cursor\r\n    var cur = editor.getCursor(), token = getToken(editor, cur), tprop = token;\r\n    // If it's not a 'word-style' token, ignore the token.\r\n\t\tif (!/^[\\w$_]*$/.test(token.string)) {\r\n      token = tprop = {start: cur.ch, end: cur.ch, string: \"\", state: token.state,\r\n                       className: token.string == \".\" ? \"property\" : null};\r\n    }\r\n    // If it is a property, find out what it is a property of.\r\n    while (tprop.className == \"property\") {\r\n      tprop = getToken(editor, {line: cur.line, ch: tprop.start});\r\n      if (tprop.string != \".\") return;\r\n      tprop = getToken(editor, {line: cur.line, ch: tprop.start});\r\n      if (tprop.string == ')') {\r\n        var level = 1;\r\n        do {\r\n          tprop = getToken(editor, {line: cur.line, ch: tprop.start});\r\n          switch (tprop.string) {\r\n          case ')': level++; break;\r\n          case '(': level--; break;\r\n          default: break;\r\n          }\r\n        } while (level > 0);\r\n        tprop = getToken(editor, {line: cur.line, ch: tprop.start});\r\n\t\t\t\tif (tprop.className == 'variable')\r\n\t\t\t\t\ttprop.className = 'function';\r\n\t\t\t\telse return; // no clue\r\n      }\r\n      if (!context) var context = [];\r\n      context.push(tprop);\r\n    }\r\n    return {list: getCompletions(token, context, keywords),\r\n            from: {line: cur.line, ch: token.start},\r\n            to: {line: cur.line, ch: token.end}};\r\n  }\r\n\r\n  CodeMirror.javascriptHint = function(editor) {\r\n    return scriptHint(editor, javascriptKeywords,\r\n                      function (e, cur) {return e.getTokenAt(cur);});\r\n  };\r\n\r\n  function getCoffeeScriptToken(editor, cur) {\r\n  // This getToken, it is for coffeescript, imitates the behavior of\r\n  // getTokenAt method in javascript.js, that is, returning \"property\"\r\n  // type and treat \".\" as indepenent token.\r\n    var token = editor.getTokenAt(cur);\r\n    if (cur.ch == token.start + 1 && token.string.charAt(0) == '.') {\r\n      token.end = token.start;\r\n      token.string = '.';\r\n      token.className = \"property\";\r\n    }\r\n    else if (/^\\.[\\w$_]*$/.test(token.string)) {\r\n      token.className = \"property\";\r\n      token.start++;\r\n      token.string = token.string.replace(/\\./, '');\r\n    }\r\n    return token;\r\n  }\r\n\r\n  CodeMirror.coffeescriptHint = function(editor) {\r\n    return scriptHint(editor, coffeescriptKeywords, getCoffeeScriptToken);\r\n  };\r\n\r\n  var stringProps = (\"charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight \" +\r\n                     \"toUpperCase toLowerCase split concat match replace search\").split(\" \");\r\n  var arrayProps = (\"length concat join splice push pop shift unshift slice reverse sort indexOf \" +\r\n                    \"lastIndexOf every some filter forEach map reduce reduceRight \").split(\" \");\r\n  var funcProps = \"prototype apply call bind\".split(\" \");\r\n  var javascriptKeywords = (\"break case catch continue debugger default delete do else false finally for function \" +\r\n                  \"if in instanceof new null return switch throw true try typeof var void while with\").split(\" \");\r\n  var coffeescriptKeywords = (\"and break catch class continue delete do else extends false finally for \" +\r\n                  \"if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes\").split(\" \");\r\n\r\n  function getCompletions(token, context, keywords) {\r\n    var found = [], start = token.string;\r\n    function maybeAdd(str) {\r\n      if (str.indexOf(start) == 0 && !arrayContains(found, str)) found.push(str);\r\n    }\r\n    function gatherCompletions(obj) {\r\n      if (typeof obj == \"string\") forEach(stringProps, maybeAdd);\r\n      else if (obj instanceof Array) forEach(arrayProps, maybeAdd);\r\n      else if (obj instanceof Function) forEach(funcProps, maybeAdd);\r\n      for (var name in obj) if (obj.hasOwnProperty(name)) maybeAdd(name);\r\n    }\r\n\r\n    if (context) {\r\n      // If this is a property, see if it belongs to some object we can\r\n      // find in the current environment.\r\n      var obj = context.pop(), base;\r\n      if (obj.className == \"variable\")\r\n        base = window[obj.string];\r\n      else if (obj.className == \"string\")\r\n        base = \"\";\r\n      else if (obj.className == \"atom\")\r\n        base = 1;\r\n      else if (obj.className == \"function\") {\r\n        if (window.jQuery != null && (obj.string == '$' || obj.string == 'jQuery') &&\r\n            (typeof window.jQuery == 'function'))\r\n          base = window.jQuery();\r\n        else if (window._ != null && (obj.string == '_') && (typeof window._ == 'function'))\r\n          base = window._();\r\n      }\r\n      while (base != null && context.length)\r\n        base = base[context.pop().string];\r\n      if (base != null) gatherCompletions(base);\r\n    }\r\n    else {\r\n      // If not, just look in the window object and any local scope\r\n      // (reading into JS mode internals to get at the local variables)\r\n      for (var v = token.state.localVars; v; v = v.next) maybeAdd(v.name);\r\n      gatherCompletions(window);\r\n      forEach(keywords, maybeAdd);\r\n    }\r\n    return found;\r\n  }\r\n})();\r\n","Nwdthemes_Revslider/admin/assets/js/codemirror/util/searchcursor.js":"(function(){\r\n  function SearchCursor(cm, query, pos, caseFold) {\r\n    this.atOccurrence = false; this.cm = cm;\r\n    if (caseFold == null && typeof query == \"string\") caseFold = false;\r\n\r\n    pos = pos ? cm.clipPos(pos) : {line: 0, ch: 0};\r\n    this.pos = {from: pos, to: pos};\r\n\r\n    // The matches method is filled in based on the type of query.\r\n    // It takes a position and a direction, and returns an object\r\n    // describing the next occurrence of the query, or null if no\r\n    // more matches were found.\r\n    if (typeof query != \"string\") { // Regexp match\r\n      if (!query.global) query = new RegExp(query.source, query.ignoreCase ? \"ig\" : \"g\");\r\n      this.matches = function(reverse, pos) {\r\n        if (reverse) {\r\n          query.lastIndex = 0;\r\n          var line = cm.getLine(pos.line).slice(0, pos.ch), match = query.exec(line), start = 0;\r\n          while (match) {\r\n            start += match.index + 1;\r\n\t    line = line.slice(start);\r\n            query.lastIndex = 0;\r\n            var newmatch = query.exec(line);\r\n            if (newmatch) match = newmatch;\r\n            else break;\r\n          }\r\n          start--;\r\n        } else {\r\n          query.lastIndex = pos.ch;\r\n          var line = cm.getLine(pos.line), match = query.exec(line),\r\n          start = match && match.index;\r\n        }\r\n        if (match)\r\n          return {from: {line: pos.line, ch: start},\r\n                  to: {line: pos.line, ch: start + match[0].length},\r\n                  match: match};\r\n      };\r\n    } else { // String query\r\n      if (caseFold) query = query.toLowerCase();\r\n      var fold = caseFold ? function(str){return str.toLowerCase();} : function(str){return str;};\r\n      var target = query.split(\"\\n\");\r\n      // Different methods for single-line and multi-line queries\r\n      if (target.length == 1)\r\n        this.matches = function(reverse, pos) {\r\n          var line = fold(cm.getLine(pos.line)), len = query.length, match;\r\n          if (reverse ? (pos.ch >= len && (match = line.lastIndexOf(query, pos.ch - len)) != -1)\r\n              : (match = line.indexOf(query, pos.ch)) != -1)\r\n            return {from: {line: pos.line, ch: match},\r\n                    to: {line: pos.line, ch: match + len}};\r\n        };\r\n      else\r\n        this.matches = function(reverse, pos) {\r\n          var ln = pos.line, idx = (reverse ? target.length - 1 : 0), match = target[idx], line = fold(cm.getLine(ln));\r\n          var offsetA = (reverse ? line.indexOf(match) + match.length : line.lastIndexOf(match));\r\n          if (reverse ? offsetA >= pos.ch || offsetA != match.length\r\n              : offsetA <= pos.ch || offsetA != line.length - match.length)\r\n            return;\r\n          for (;;) {\r\n            if (reverse ? !ln : ln == cm.lineCount() - 1) return;\r\n            line = fold(cm.getLine(ln += reverse ? -1 : 1));\r\n            match = target[reverse ? --idx : ++idx];\r\n            if (idx > 0 && idx < target.length - 1) {\r\n              if (line != match) return;\r\n              else continue;\r\n            }\r\n            var offsetB = (reverse ? line.lastIndexOf(match) : line.indexOf(match) + match.length);\r\n            if (reverse ? offsetB != line.length - match.length : offsetB != match.length)\r\n              return;\r\n            var start = {line: pos.line, ch: offsetA}, end = {line: ln, ch: offsetB};\r\n            return {from: reverse ? end : start, to: reverse ? start : end};\r\n          }\r\n        };\r\n    }\r\n  }\r\n\r\n  SearchCursor.prototype = {\r\n    findNext: function() {return this.find(false);},\r\n    findPrevious: function() {return this.find(true);},\r\n\r\n    find: function(reverse) {\r\n      var self = this, pos = this.cm.clipPos(reverse ? this.pos.from : this.pos.to);\r\n      function savePosAndFail(line) {\r\n        var pos = {line: line, ch: 0};\r\n        self.pos = {from: pos, to: pos};\r\n        self.atOccurrence = false;\r\n        return false;\r\n      }\r\n\r\n      for (;;) {\r\n        if (this.pos = this.matches(reverse, pos)) {\r\n          this.atOccurrence = true;\r\n          return this.pos.match || true;\r\n        }\r\n        if (reverse) {\r\n          if (!pos.line) return savePosAndFail(0);\r\n          pos = {line: pos.line-1, ch: this.cm.getLine(pos.line-1).length};\r\n        }\r\n        else {\r\n          var maxLine = this.cm.lineCount();\r\n          if (pos.line == maxLine - 1) return savePosAndFail(maxLine);\r\n          pos = {line: pos.line+1, ch: 0};\r\n        }\r\n      }\r\n    },\r\n\r\n    from: function() {if (this.atOccurrence) return this.pos.from;},\r\n    to: function() {if (this.atOccurrence) return this.pos.to;},\r\n\r\n    replace: function(newText) {\r\n      var self = this;\r\n      if (this.atOccurrence)\r\n        self.pos.to = this.cm.replaceRange(newText, self.pos.from, self.pos.to);\r\n    }\r\n  };\r\n\r\n  CodeMirror.defineExtension(\"getSearchCursor\", function(query, pos, caseFold) {\r\n    return new SearchCursor(this, query, pos, caseFold);\r\n  });\r\n})();\r\n","Nwdthemes_Revslider/admin/assets/js/codemirror/util/simple-hint.js":"(function() {\r\n  CodeMirror.simpleHint = function(editor, getHints, givenOptions) {\r\n    // Determine effective options based on given values and defaults.\r\n    var options = {}, defaults = CodeMirror.simpleHint.defaults;\r\n    for (var opt in defaults)\r\n      if (defaults.hasOwnProperty(opt))\r\n        options[opt] = (givenOptions && givenOptions.hasOwnProperty(opt) ? givenOptions : defaults)[opt];\r\n    \r\n    function collectHints(previousToken) {\r\n      // We want a single cursor position.\r\n      if (editor.somethingSelected()) return;\r\n\r\n      var tempToken = editor.getTokenAt(editor.getCursor());\r\n\r\n      // Don't show completions if token has changed and the option is set.\r\n      if (options.closeOnTokenChange && previousToken != null &&\r\n          (tempToken.start != previousToken.start || tempToken.className != previousToken.className)) {\r\n        return;\r\n      }\r\n\r\n      var result = getHints(editor);\r\n      if (!result || !result.list.length) return;\r\n      var completions = result.list;\r\n      function insert(str) {\r\n        editor.replaceRange(str, result.from, result.to);\r\n      }\r\n      // When there is only one completion, use it directly.\r\n      if (options.completeSingle && completions.length == 1) {\r\n        insert(completions[0]);\r\n        return true;\r\n      }\r\n\r\n      // Build the select widget\r\n      var complete = document.createElement(\"div\");\r\n      complete.className = \"CodeMirror-completions\";\r\n      var sel = complete.appendChild(document.createElement(\"select\"));\r\n      // Opera doesn't move the selection when pressing up/down in a\r\n      // multi-select, but it does properly support the size property on\r\n      // single-selects, so no multi-select is necessary.\r\n      if (!window.opera) sel.multiple = true;\r\n      for (var i = 0; i < completions.length; ++i) {\r\n        var opt = sel.appendChild(document.createElement(\"option\"));\r\n        opt.appendChild(document.createTextNode(completions[i]));\r\n      }\r\n      sel.firstChild.selected = true;\r\n      sel.size = Math.min(10, completions.length);\r\n      var pos = options.alignWithWord ? editor.charCoords(result.from) : editor.cursorCoords();\r\n      complete.style.left = pos.x + \"px\";\r\n      complete.style.top = pos.yBot + \"px\";\r\n      document.body.appendChild(complete);\r\n      // If we're at the edge of the screen, then we want the menu to appear on the left of the cursor.\r\n      var winW = window.innerWidth || Math.max(document.body.offsetWidth, document.documentElement.offsetWidth);\r\n      if(winW - pos.x < sel.clientWidth)\r\n        complete.style.left = (pos.x - sel.clientWidth) + \"px\";\r\n      // Hack to hide the scrollbar.\r\n      if (completions.length <= 10)\r\n        complete.style.width = (sel.clientWidth - 1) + \"px\";\r\n\r\n      var done = false;\r\n      function close() {\r\n        if (done) return;\r\n        done = true;\r\n        complete.parentNode.removeChild(complete);\r\n      }\r\n      function pick() {\r\n        insert(completions[sel.selectedIndex]);\r\n        close();\r\n        setTimeout(function(){editor.focus();}, 50);\r\n      }\r\n      CodeMirror.connect(sel, \"blur\", close);\r\n      CodeMirror.connect(sel, \"keydown\", function(event) {\r\n        var code = event.keyCode;\r\n        // Enter\r\n        if (code == 13) {CodeMirror.e_stop(event); pick();}\r\n        // Escape\r\n        else if (code == 27) {CodeMirror.e_stop(event); close(); editor.focus();}\r\n        else if (code != 38 && code != 40 && code != 33 && code != 34 && !CodeMirror.isModifierKey(event)) {\r\n          close(); editor.focus();\r\n          // Pass the event to the CodeMirror instance so that it can handle things like backspace properly.\r\n          editor.triggerOnKeyDown(event);\r\n          // Don't show completions if the code is backspace and the option is set.\r\n          if (!options.closeOnBackspace || code != 8) {\r\n            setTimeout(function(){collectHints(tempToken);}, 50);\r\n          }\r\n        }\r\n      });\r\n      CodeMirror.connect(sel, \"dblclick\", pick);\r\n\r\n      sel.focus();\r\n      // Opera sometimes ignores focusing a freshly created node\r\n      if (window.opera) setTimeout(function(){if (!done) sel.focus();}, 100);\r\n      return true;\r\n    }\r\n    return collectHints();\r\n  };\r\n  CodeMirror.simpleHint.defaults = {\r\n    closeOnBackspace: true,\r\n    closeOnTokenChange: false,\r\n    completeSingle: true,\r\n    alignWithWord: true\r\n  };\r\n})();\r\n","Nwdthemes_Revslider/admin/assets/js/codemirror/util/pig-hint.js":"(function () {\r\n  function forEach(arr, f) {\r\n    for (var i = 0, e = arr.length; i < e; ++i) f(arr[i]);\r\n  }\r\n  \r\n  function arrayContains(arr, item) {\r\n    if (!Array.prototype.indexOf) {\r\n      var i = arr.length;\r\n      while (i--) {\r\n        if (arr[i] === item) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    return arr.indexOf(item) != -1;\r\n  }\r\n\r\n  function scriptHint(editor, keywords, getToken) {\r\n    // Find the token at the cursor\r\n    var cur = editor.getCursor(), token = getToken(editor, cur), tprop = token;\r\n    // If it's not a 'word-style' token, ignore the token.\r\n\r\n    if (!/^[\\w$_]*$/.test(token.string)) {\r\n        token = tprop = {start: cur.ch, end: cur.ch, string: \"\", state: token.state,\r\n                         className: token.string == \":\" ? \"pig-type\" : null};\r\n    }\r\n      \r\n    if (!context) var context = [];\r\n    context.push(tprop);\r\n    \r\n    var completionList = getCompletions(token, context); \r\n    completionList = completionList.sort();\r\n    //prevent autocomplete for last word, instead show dropdown with one word\r\n    if(completionList.length == 1) {\r\n      completionList.push(\" \");\r\n    }\r\n\r\n    return {list: completionList,\r\n              from: {line: cur.line, ch: token.start},\r\n              to: {line: cur.line, ch: token.end}};\r\n  }\r\n  \r\n  CodeMirror.pigHint = function(editor) {\r\n    return scriptHint(editor, pigKeywordsU, function (e, cur) {return e.getTokenAt(cur);});\r\n  };\r\n \r\n function toTitleCase(str) {\r\n    return str.replace(/(?:^|\\s)\\w/g, function(match) {\r\n        return match.toUpperCase();\r\n    });\r\n }\r\n  \r\n  var pigKeywords = \"VOID IMPORT RETURNS DEFINE LOAD FILTER FOREACH ORDER CUBE DISTINCT COGROUP \"\r\n  + \"JOIN CROSS UNION SPLIT INTO IF OTHERWISE ALL AS BY USING INNER OUTER ONSCHEMA PARALLEL \"\r\n  + \"PARTITION GROUP AND OR NOT GENERATE FLATTEN ASC DESC IS STREAM THROUGH STORE MAPREDUCE \"\r\n  + \"SHIP CACHE INPUT OUTPUT STDERROR STDIN STDOUT LIMIT SAMPLE LEFT RIGHT FULL EQ GT LT GTE LTE \" \r\n  + \"NEQ MATCHES TRUE FALSE\";\r\n  var pigKeywordsU = pigKeywords.split(\" \");\r\n  var pigKeywordsL = pigKeywords.toLowerCase().split(\" \");\r\n  \r\n  var pigTypes = \"BOOLEAN INT LONG FLOAT DOUBLE CHARARRAY BYTEARRAY BAG TUPLE MAP\";\r\n  var pigTypesU = pigTypes.split(\" \");\r\n  var pigTypesL = pigTypes.toLowerCase().split(\" \");\r\n  \r\n  var pigBuiltins = \"ABS ACOS ARITY ASIN ATAN AVG BAGSIZE BINSTORAGE BLOOM BUILDBLOOM CBRT CEIL \" \r\n  + \"CONCAT COR COS COSH COUNT COUNT_STAR COV CONSTANTSIZE CUBEDIMENSIONS DIFF DISTINCT DOUBLEABS \"\r\n  + \"DOUBLEAVG DOUBLEBASE DOUBLEMAX DOUBLEMIN DOUBLEROUND DOUBLESUM EXP FLOOR FLOATABS FLOATAVG \"\r\n  + \"FLOATMAX FLOATMIN FLOATROUND FLOATSUM GENERICINVOKER INDEXOF INTABS INTAVG INTMAX INTMIN \"\r\n  + \"INTSUM INVOKEFORDOUBLE INVOKEFORFLOAT INVOKEFORINT INVOKEFORLONG INVOKEFORSTRING INVOKER \"\r\n  + \"ISEMPTY JSONLOADER JSONMETADATA JSONSTORAGE LAST_INDEX_OF LCFIRST LOG LOG10 LOWER LONGABS \"\r\n  + \"LONGAVG LONGMAX LONGMIN LONGSUM MAX MIN MAPSIZE MONITOREDUDF NONDETERMINISTIC OUTPUTSCHEMA  \"\r\n  + \"PIGSTORAGE PIGSTREAMING RANDOM REGEX_EXTRACT REGEX_EXTRACT_ALL REPLACE ROUND SIN SINH SIZE \"\r\n  + \"SQRT STRSPLIT SUBSTRING SUM STRINGCONCAT STRINGMAX STRINGMIN STRINGSIZE TAN TANH TOBAG \"\r\n  + \"TOKENIZE TOMAP TOP TOTUPLE TRIM TEXTLOADER TUPLESIZE UCFIRST UPPER UTF8STORAGECONVERTER\";  \r\n  var pigBuiltinsU = pigBuiltins.split(\" \").join(\"() \").split(\" \");  \r\n  var pigBuiltinsL = pigBuiltins.toLowerCase().split(\" \").join(\"() \").split(\" \");   \r\n  var pigBuiltinsC = (\"BagSize BinStorage Bloom BuildBloom ConstantSize CubeDimensions DoubleAbs \"\r\n  + \"DoubleAvg DoubleBase DoubleMax DoubleMin DoubleRound DoubleSum FloatAbs FloatAvg FloatMax \"\r\n  + \"FloatMin FloatRound FloatSum GenericInvoker IntAbs IntAvg IntMax IntMin IntSum \"\r\n  + \"InvokeForDouble InvokeForFloat InvokeForInt InvokeForLong InvokeForString Invoker \"\r\n  + \"IsEmpty JsonLoader JsonMetadata JsonStorage LongAbs LongAvg LongMax LongMin LongSum MapSize \"\r\n  + \"MonitoredUDF Nondeterministic OutputSchema PigStorage PigStreaming StringConcat StringMax \"\r\n  + \"StringMin StringSize TextLoader TupleSize Utf8StorageConverter\").split(\" \").join(\"() \").split(\" \");\r\n                    \r\n  function getCompletions(token, context) {\r\n    var found = [], start = token.string;\r\n    function maybeAdd(str) {\r\n      if (str.indexOf(start) == 0 && !arrayContains(found, str)) found.push(str);\r\n    }\r\n    \r\n    function gatherCompletions(obj) {\r\n      if(obj == \":\") {\r\n        forEach(pigTypesL, maybeAdd);\r\n      }\r\n      else {\r\n        forEach(pigBuiltinsU, maybeAdd);\r\n        forEach(pigBuiltinsL, maybeAdd);\r\n        forEach(pigBuiltinsC, maybeAdd);\r\n        forEach(pigTypesU, maybeAdd);\r\n        forEach(pigTypesL, maybeAdd);\r\n        forEach(pigKeywordsU, maybeAdd);\r\n        forEach(pigKeywordsL, maybeAdd);\r\n      }\r\n    }\r\n\r\n    if (context) {\r\n      // If this is a property, see if it belongs to some object we can\r\n      // find in the current environment.\r\n      var obj = context.pop(), base;\r\n\r\n      if (obj.className == \"pig-word\") \r\n          base = obj.string;\r\n      else if(obj.className == \"pig-type\")\r\n          base = \":\" + obj.string;\r\n        \r\n      while (base != null && context.length)\r\n        base = base[context.pop().string];\r\n      if (base != null) gatherCompletions(base);\r\n    }\r\n    return found;\r\n  }\r\n})();\r\n","Nwdthemes_Revslider/admin/assets/js/codemirror/util/multiplex.js":"CodeMirror.multiplexingMode = function(outer /*, others */) {\r\n  // Others should be {open, close, mode [, delimStyle]} objects\r\n  var others = Array.prototype.slice.call(arguments, 1);\r\n  var n_others = others.length;\r\n\r\n  function indexOf(string, pattern, from) {\r\n    if (typeof pattern == \"string\") return string.indexOf(pattern, from);\r\n    var m = pattern.exec(from ? string.slice(from) : string);\r\n    return m ? m.index + from : -1;\r\n  }\r\n\r\n  return {\r\n    startState: function() {\r\n      return {\r\n        outer: CodeMirror.startState(outer),\r\n        innerActive: null,\r\n        inner: null\r\n      };\r\n    },\r\n\r\n    copyState: function(state) {\r\n      return {\r\n        outer: CodeMirror.copyState(outer, state.outer),\r\n        innerActive: state.innerActive,\r\n        inner: state.innerActive && CodeMirror.copyState(state.innerActive.mode, state.inner)\r\n      };\r\n    },\r\n\r\n    token: function(stream, state) {\r\n      if (!state.innerActive) {\r\n        var cutOff = Infinity, oldContent = stream.string;\r\n        for (var i = 0; i < n_others; ++i) {\r\n          var other = others[i];\r\n          var found = indexOf(oldContent, other.open, stream.pos);\r\n          if (found == stream.pos) {\r\n            stream.match(other.open);\r\n            state.innerActive = other;\r\n            state.inner = CodeMirror.startState(other.mode, outer.indent ? outer.indent(state.outer, \"\") : 0);\r\n            return other.delimStyle;\r\n          } else if (found != -1 && found < cutOff) {\r\n            cutOff = found;\r\n          }\r\n        }\r\n        if (cutOff != Infinity) stream.string = oldContent.slice(0, cutOff);\r\n        var outerToken = outer.token(stream, state.outer);\r\n        if (cutOff != Infinity) stream.string = oldContent;\r\n        return outerToken;\r\n      } else {\r\n        var curInner = state.innerActive, oldContent = stream.string;\r\n        var found = indexOf(oldContent, curInner.close, stream.pos);\r\n        if (found == stream.pos) {\r\n          stream.match(curInner.close);\r\n          state.innerActive = state.inner = null;\r\n          return curInner.delimStyle;\r\n        }\r\n        if (found > -1) stream.string = oldContent.slice(0, found);\r\n        var innerToken = curInner.mode.token(stream, state.inner);\r\n        if (found > -1) stream.string = oldContent;\r\n        var cur = stream.current(), found = cur.indexOf(curInner.close);\r\n        if (found > -1) stream.backUp(cur.length - found);\r\n        return innerToken;\r\n      }\r\n    },\r\n    \r\n    indent: function(state, textAfter) {\r\n      var mode = state.innerActive ? state.innerActive.mode : outer;\r\n      if (!mode.indent) return CodeMirror.Pass;\r\n      return mode.indent(state.innerActive ? state.inner : state.outer, textAfter);\r\n    },\r\n\r\n    electricChars: outer.electricChars,\r\n\r\n    innerMode: function(state) {\r\n      return state.inner ? {state: state.inner, mode: state.innerActive.mode} : {state: state.outer, mode: outer};\r\n    }\r\n  };\r\n};\r\n","Nwdthemes_Revslider/admin/assets/js/codemirror/util/overlay.js":"// Utility function that allows modes to be combined. The mode given\r\n// as the base argument takes care of most of the normal mode\r\n// functionality, but a second (typically simple) mode is used, which\r\n// can override the style of text. Both modes get to parse all of the\r\n// text, but when both assign a non-null style to a piece of code, the\r\n// overlay wins, unless the combine argument was true, in which case\r\n// the styles are combined.\r\n\r\n// overlayParser is the old, deprecated name\r\nCodeMirror.overlayMode = CodeMirror.overlayParser = function(base, overlay, combine) {\r\n  return {\r\n    startState: function() {\r\n      return {\r\n        base: CodeMirror.startState(base),\r\n        overlay: CodeMirror.startState(overlay),\r\n        basePos: 0, baseCur: null,\r\n        overlayPos: 0, overlayCur: null\r\n      };\r\n    },\r\n    copyState: function(state) {\r\n      return {\r\n        base: CodeMirror.copyState(base, state.base),\r\n        overlay: CodeMirror.copyState(overlay, state.overlay),\r\n        basePos: state.basePos, baseCur: null,\r\n        overlayPos: state.overlayPos, overlayCur: null\r\n      };\r\n    },\r\n\r\n    token: function(stream, state) {\r\n      if (stream.start == state.basePos) {\r\n        state.baseCur = base.token(stream, state.base);\r\n        state.basePos = stream.pos;\r\n      }\r\n      if (stream.start == state.overlayPos) {\r\n        stream.pos = stream.start;\r\n        state.overlayCur = overlay.token(stream, state.overlay);\r\n        state.overlayPos = stream.pos;\r\n      }\r\n      stream.pos = Math.min(state.basePos, state.overlayPos);\r\n      if (stream.eol()) state.basePos = state.overlayPos = 0;\r\n\r\n      if (state.overlayCur == null) return state.baseCur;\r\n      if (state.baseCur != null && combine) return state.baseCur + \" \" + state.overlayCur;\r\n      else return state.overlayCur;\r\n    },\r\n    \r\n    indent: base.indent && function(state, textAfter) {\r\n      return base.indent(state.base, textAfter);\r\n    },\r\n    electricChars: base.electricChars,\r\n\r\n    innerMode: function(state) { return {state: state.base, mode: base}; },\r\n    \r\n    blankLine: function(state) {\r\n      if (base.blankLine) base.blankLine(state.base);\r\n      if (overlay.blankLine) overlay.blankLine(state.overlay);\r\n    }\r\n  };\r\n};\r\n"}
}});
