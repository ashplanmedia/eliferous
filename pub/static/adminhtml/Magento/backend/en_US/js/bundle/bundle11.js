require.config({"config": {
        "jsbuild":{"Nwdthemes_Revslider/admin/assets/js/source/edit_layers_timeline.js":"define(\r\n    'editLayersTimeline',\r\n    ['jquery', 'themepunchTools', 'settings', 'admin'],\r\n    function(jQuery, punchgs, RevSliderSettings, UniteAdminRev) {\r\n\r\n        // AUDIO CONTEXT\r\n        window.AudioContext = window.AudioContext || window.webkitAudioContext ;\r\n        if (window.AudioContext) {\r\n            var audioContext = new AudioContext(),\r\n                audiosource = audioContext.createBufferSource();     // creates a sound source\r\n        } else {\r\n            audiosource = null;\r\n        }\r\n\r\n        /*****************************************************\r\n         -\tTHE  TIME LINE AND ANIMATION FUNCTIONS \t-\r\n         *****************************************************/\r\n\r\n        var tpLayerTimelinesRev = new function() {\r\n            var t = this,\r\n                u = new Object(),\r\n                sortMode = \"time\",\r\n                __ctime,\r\n                __ctimeb,\r\n                __ctimei,\r\n                __coffset = 0;\r\n\r\n            t.timelinetype = \"absolute\";\r\n            t.mainMaxTimeLeft = 0;\r\n            t.layout = \"desktop\";\r\n            t.timercorrectur = 0;\r\n\r\n            /***********************************************************\r\n             -    INITIALISE THE TIMELINE AND ANIMATION ELEMENTS    -\r\n             ***********************************************************/\r\n\r\n            t.init = function (UniteLayersRev) {\r\n\r\n                u = UniteLayersRev;\r\n                g_rebuildTimer = 999;\r\n                g_slideTime = u.getMaintime();\r\n                g_keyTimer = 0;\r\n\r\n                t.mainMaxTimeLeft = jQuery('#mastertimer-maxtime').position().left;\r\n\r\n                initSlideDuration();\r\n                initSortbox();\r\n                initMasterTimer();\r\n                preparePeviewAnimations();\r\n                prepareLoopAnimations();\r\n                showHideTimeines();\r\n                basicClicksAndHovers();\r\n                addIconFunction();\r\n\r\n                t.addToSortbox();\r\n                //jQuery('.master-rightcell .layers-wrapper, .master-leftcell .layers-wrapper, #divLayers-wrapper').perfectScrollbar(\"update\");\r\n\r\n                jQuery('#slide_transition, #slot_amount, #transition_rotation').change(function () {\r\n\r\n                    setFakeAnim();\r\n                });\r\n\r\n\r\n                var timer;\r\n                jQuery(window).resize(function () {\r\n                    clearTimeout(timer);\r\n                    timer = setTimeout(function () {\r\n                        t.resetSlideAnimations(false);\r\n                    }, 250);\r\n                });\r\n                var keyboardallowed = false;\r\n\r\n                jQuery('#thelayer-editor-wrapper').hover(function () {\r\n\r\n                    keyboardallowed = true;\r\n\r\n                }, function () {\r\n                    keyboardallowed = false;\r\n                });\r\n\r\n\r\n                jQuery('#fake-select-title-wrapper').click(function () {\r\n                    jQuery('#slide-animation-settings-content-tab').click();\r\n                    jQuery('html,body').animate({scrollTop: (-100 + jQuery('#slide-animation-settings-content-tab').offset().top)}, 200);\r\n                });\r\n\r\n                jQuery('.slide-trans-menu-element').each(function () {\r\n                    var b = jQuery(this);\r\n                    b.text(b.text().toLowerCase());\r\n                    b.click(function () {\r\n                        var b = jQuery(this);\r\n                        jQuery('.slide-trans-menu-element').removeClass(\"selected\");\r\n                        b.addClass(\"selected\");\r\n                        jQuery('.slide-trans-checkelement').hide();\r\n                        jQuery(\".\" + b.data('reference')).show();\r\n                    });\r\n                });\r\n\r\n                jQuery('.slide-trans-menu-element').first().click();\r\n\r\n                var createListOfTrans = function () {\r\n                    var c = jQuery('.slide-trans-cur-ul');\r\n                    for (var key in choosen_slide_transition) if (choosen_slide_transition.hasOwnProperty(key)) {\r\n                        var data_string = '';\r\n                        data_string += ' data-duration=\"' + transition_settings['duration'][key] + '\"';\r\n                        data_string += ' data-ease_in=\"' + transition_settings['ease_in'][key] + '\"';\r\n                        data_string += ' data-ease_out=\"' + transition_settings['ease_out'][key] + '\"';\r\n                        data_string += ' data-rotation=\"' + transition_settings['rotation'][key] + '\"';\r\n                        data_string += ' data-slot=\"' + transition_settings['slot'][key] + '\"';\r\n\r\n                        c.append('<li value=\"' + choosen_slide_transition[key] + '\"' + data_string + ' class=\"justaddedtrans draggable-trans-element\">' + jQuery('input[name=\"slide_transition[]\"][value=\"' + choosen_slide_transition[key] + '\"]').parent().text() + '<i class=\"remove-trans-from-list eg-icon-cancel\"></i></li>');\r\n                        jQuery('.justaddedtrans').data('animval', choosen_slide_transition[key]);\r\n                        jQuery('.justaddedtrans').removeClass(\"justaddedtrans\");\r\n                    }\r\n\r\n                    setFakeAnim();\r\n                };\r\n\r\n                if (typeof(choosen_slide_transition) !== 'undefined') { //if not exists, then we are at static slide\r\n                    createListOfTrans();\r\n                }\r\n\r\n                var etl = new punchgs.TimelineLite(),\r\n                    ord = 0,\r\n                    sto = jQuery('#form_slide_params').offset(),\r\n                    tou;\r\n\r\n                jQuery('body').on('click', '.remove-trans-from-list', function () {\r\n                    var t = jQuery(this),\r\n                        li = t.parent(),\r\n                        v = li.data('animval'),\r\n                        found = false;\r\n\r\n                    jQuery('.slide-trans-checkelement').each(function () {\r\n                        var d = jQuery(this),\r\n                            inp = d.find('input');\r\n\r\n                        if (inp.val() == v) {\r\n                            inp.removeAttr('checked');\r\n                            found = true;\r\n                        }\r\n                    });\r\n                    if (found && jQuery('.remove-trans-from-list').length > 1) {\r\n                        li.remove();\r\n                        jQuery('.slide-trans-cur-ul li:first-child').click();\r\n                    } else {\r\n                        alert(rev_lang.cant_remove_last_transition);\r\n                    }\r\n\r\n                    return false;\r\n\r\n                });\r\n\r\n                jQuery('.slide-trans-checkelement').on(\"mouseover\", function (e) {\r\n\r\n                    var inp = jQuery(this).find('input[name=\"slide_transition[]\"]'),\r\n                        a = jQuery('.slide-trans-example-inner .slotholder'),\r\n                        b = jQuery('.slide-trans-example-inner .oldslotholder'),\r\n                        examp = jQuery('.slide-trans-example');\r\n\r\n\r\n                    a.find('.slot').each(function () {\r\n                        jQuery(this).remove();\r\n                    });\r\n                    b.find('.slot').each(function () {\r\n                        jQuery(this).remove();\r\n                    });\r\n                    etl.kill()\r\n                    punchgs.TweenLite.set(a, {clearProps: \"transform\"});\r\n                    punchgs.TweenLite.set(b, {clearProps: \"transform\"});\r\n                    punchgs.TweenLite.set(a.find('.defaultimg'), {clearProps: \"transform\", autoAlpha: 1});\r\n                    punchgs.TweenLite.set(b.find('.defaultimg'), {clearProps: \"transform\", autoAlpha: 1});\r\n\r\n                    etl = slideAnimation(a, b, inp.val(), etl, true);\r\n                    etl.pause(0.001);\r\n                    punchgs.TweenLite.to(examp, 0.2, {\r\n                        top: (e.pageY - sto.top),\r\n                        overwrite: \"all\",\r\n                        autoAlpha: 1,\r\n                        ease: punchgs.Power3.easeInOut,\r\n                        onComplete: function () {\r\n                            setTimeout(function () {\r\n                                etl.play();\r\n                            }, 100);\r\n                        }\r\n                    });\r\n\r\n\r\n                });\r\n\r\n                jQuery('.slide-trans-checkelement').on(\"mouseleave\", function () {\r\n                    clearTimeout(tou);\r\n                    var inp = jQuery(this).find('input[name=\"slide_transition[]\"]'),\r\n                        a = jQuery('.slide-trans-example-inner .slotholder'),\r\n                        b = jQuery('.slide-trans-example-inner .oldslotholder');\r\n\r\n                    punchgs.TweenLite.to(jQuery('.slide-trans-example'), 0.2, {autoAlpha: 0, delay: 0.2});\r\n                });\r\n\r\n                jQuery('input[name=\"slide_transition[]\"]').on(\"change\", function () {\r\n                    if (jQuery(this).is(\":checked\")) {\r\n                        var data_string = '';\r\n                        data_string += ' data-duration=\"default\"';\r\n                        data_string += ' data-ease_in=\"default\"';\r\n                        data_string += ' data-ease_out=\"default\"';\r\n                        data_string += ' data-rotation=\"0\"';\r\n                        data_string += ' data-slot=\"default\"';\r\n\r\n                        jQuery('.slide-trans-cur-ul').append('<li value=\"' + jQuery(this).val() + '\"' + data_string + ' class=\"justaddedtrans draggable-trans-element\">' + jQuery(this).parent().text() + '<i class=\"remove-trans-from-list eg-icon-cancel\"></i></li>')\r\n                        jQuery('.justaddedtrans').data('animval', jQuery(this).val());\r\n                        jQuery('.justaddedtrans').removeClass(\"justaddedtrans\");\r\n                    } else {\r\n                        if (jQuery('.remove-trans-from-list').length > 1) {\r\n                            jQuery('.slide-trans-cur-ul').find('li:data[value=' + jQuery(this).val() + ']').remove();\r\n                            jQuery('.slide-trans-cur-ul li:first-child').click();\r\n                        } else {\r\n                            jQuery(this).attr('checked', true);\r\n                            alert(rev_lang.cant_remove_last_transition);\r\n                        }\r\n\r\n                    }\r\n\r\n                    setFakeAnim();\r\n                });\r\n\r\n                jQuery('body').on('click', '.slide-trans-cur-ul li', function () {\r\n                    jQuery('.slide-trans-cur-ul li').each(function () {\r\n                        jQuery(this).removeClass('selected');\r\n                    });\r\n\r\n                    jQuery(this).addClass('selected');\r\n\r\n                    jQuery('input[name=\"slot_amount\"]').val(jQuery(this).data('slot'));\r\n                    jQuery('input[name=\"transition_rotation\"]').val(jQuery(this).data('rotation'));\r\n                    jQuery('input[name=\"transition_duration\"]').val(jQuery(this).data('duration'));\r\n                    jQuery('select[name=\"transition_ease_in\"] option[value=\"' + jQuery(this).data('ease_in') + '\"]').attr('selected', true);\r\n                    jQuery('select[name=\"transition_ease_out\"] option[value=\"' + jQuery(this).data('ease_out') + '\"]').attr('selected', true);\r\n                });\r\n\r\n                jQuery('.slide-trans-cur-ul li:first-child').click();\r\n\r\n                jQuery('input[name=\"slot_amount\"]').change(function () {\r\n                    jQuery('.slide-trans-cur-ul li.selected').data('slot', jQuery(this).val());\r\n                });\r\n                jQuery('input[name=\"transition_rotation\"]').change(function () {\r\n                    jQuery('.slide-trans-cur-ul li.selected').data('rotation', jQuery(this).val());\r\n                });\r\n                jQuery('#transition_duration').change(function(){            \r\n                    jQuery('.slide-trans-cur-ul li.selected').data('duration', jQuery(this).val());\r\n                    setSlideTransitionTimerBar();\r\n                });\r\n                jQuery('#delay').change(function(){\r\n                    t.mainMaxTimeLeft = this.value / 10;\r\n                    t.setSlideTransitionTimerBar();\r\n                });\r\n                jQuery('select[name=\"transition_ease_in\"]').change(function () {\r\n                    jQuery('.slide-trans-cur-ul li.selected').data('ease_in', jQuery(this).val());\r\n                });\r\n                jQuery('select[name=\"transition_ease_out\"]').change(function () {\r\n                    jQuery('.slide-trans-cur-ul li.selected').data('ease_out', jQuery(this).val());\r\n                });\r\n\r\n                jQuery('.slide-trans-cur-ul').sortable({\r\n                    containment: \".slide-trans-cur-selected\",\r\n                    stop: function () {\r\n                        setTimeout(function () {\r\n                            setFakeAnim();\r\n                        }, 200);\r\n                    }\r\n                })\r\n\r\n\r\n                jQuery('#abs_rel_timeline').on('change', function () {\r\n                    t.timelinetype = jQuery(this).val();\r\n                    t.updateAllLayerTimeline();\r\n                })\r\n\r\n                // END OF MAIN TRANSITION SELECTOR\r\n                jQuery(document).on('keydown', function (event) {\r\n                    var noinputfocus = jQuery('input:focus').length > 0;\r\n\r\n                    if (event.ctrlKey || event.metaKey || event.shiftKey) {\r\n                        switch (String.fromCharCode(event.which).toLowerCase()) {\r\n                            case 's':\r\n                                if (!event.shiftKey) {\r\n                                    event.preventDefault();\r\n                                    if (jQuery('#button_save_static_slide-tb').length > 0)\r\n                                        jQuery('#button_save_static_slide-tb').click();\r\n                                    else\r\n                                        jQuery('#button_save_slide-tb').click();\r\n                                }\r\n                                break;\r\n                            case 'z':\r\n                                if ((event.metaKey || event.ctrlKey) && !noinputfocus) {\r\n                                    event.preventDefault();\r\n                                    if (event.shiftKey)\r\n                                        u.oneStepRedo();\r\n                                    else\r\n                                        u.oneStepUndo();\r\n                                }\r\n                                break;\r\n                            case 'y':\r\n                                if ((event.ctrlKey || event.metaKey) && !noinputfocus) {\r\n                                    event.preventDefault();\r\n                                    u.oneStepRedo();\r\n                                }\r\n                                break;\r\n\r\n                        }\r\n                    }\r\n                    switch (event) {\r\n\r\n                    }\r\n                });\r\n\r\n                jQuery(\"body\").on(\"keydown keyup\", function (e) {\r\n\r\n\r\n                    if (jQuery('#layer_text').is(\":focus\")) return true;\r\n                    if (jQuery('#layer_text_toggle').is(\":focus\")) return true;\r\n\r\n                    var code = (e.keyCode ? e.keyCode : e.which),\r\n                        dist = jQuery(document.activeElement).data('steps') != undefined ? parseFloat(jQuery(document.activeElement).data('steps')) : 1,\r\n                        x = Number(parseInt(jQuery('#layer_left').val(), 0)),\r\n                        y = Number(parseInt(jQuery('#layer_top').val(), 0));\r\n\r\n                    if (e.shiftKey) dist = dist * 10;\r\n\r\n\r\n                    switch (jQuery(document.activeElement).get(0).tagName.toLowerCase()) {\r\n                        case \"INPUT\":\r\n                        case \"input\":\r\n                            var cv = parseFloat(jQuery(document.activeElement).val());\r\n\r\n                            if (jQuery(document.activeElement).data('suffix') != undefined && !jQuery(document.activeElement).data('suffix').match(/auto/g)) {\r\n                                cv = Number(cv);\r\n                                if (jQuery.isNumeric(cv))\r\n                                    switch (code) {\r\n                                        case 38:\r\n                                            if (e.type == \"keyup\") reBlurFocus(dist, cv, jQuery(document.activeElement));\r\n                                            return false;\r\n                                            break;\r\n                                        case 40:\r\n                                            if (e.type == \"keyup\") reBlurFocus(-dist, cv, jQuery(document.activeElement));\r\n                                            return false;\r\n                                            break;\r\n                                    }\r\n                            }\r\n                            break;\r\n                        case \"textarea\":\r\n                            return true;\r\n                            break;\r\n                        default:\r\n\r\n                            switch (code) {\r\n                                case 8:\r\n                                case 46:\r\n                                    e.preventDefault();\r\n                                    if (e.type == \"keydown\") {\r\n                                        jQuery('#button_delete_layer').click();\r\n                                        window.deletecalled = true;\r\n                                    }\r\n                                    break;\r\n                            }\r\n\r\n                            if (keyboardallowed)\r\n                                switch (code) {\r\n\r\n                                    case 40:\r\n                                        if (e.type == \"keyup\")\r\n                                            setTimeout(function () {\r\n                                                u.updateMovedLayers()\r\n                                            }, 50);\r\n                                        else\r\n                                            u.adjustSelectedLayerPositions(\"top\", dist);\r\n                                        return false;\r\n                                        break;\r\n                                    case 38:\r\n                                        if (e.type == \"keyup\")\r\n                                            setTimeout(function () {\r\n                                                u.updateMovedLayers();\r\n                                            }, 50);\r\n                                        else\r\n                                            u.adjustSelectedLayerPositions(\"top\", -1 * dist);\r\n                                        return false;\r\n                                        break;\r\n                                    case 37:\r\n                                        if (e.type == \"keyup\")\r\n                                            setTimeout(function () {\r\n                                                u.updateMovedLayers();\r\n                                            }, 50);\r\n                                        else\r\n                                            u.adjustSelectedLayerPositions(\"left\", -1 * dist);\r\n                                        return false;\r\n                                        break;\r\n                                    case 39:\r\n                                        if (e.type == \"keyup\")\r\n                                            setTimeout(function () {\r\n                                                u.updateMovedLayers();\r\n                                            }, 50);\r\n                                        else\r\n                                            u.adjustSelectedLayerPositions(\"left\", dist);\r\n                                        return false;\r\n                                        break;\r\n                                }\r\n\r\n                            break;\r\n                    }\r\n                });\r\n\r\n                t.deepSelection();\r\n\r\n                // DEEP LINK INPUT FIELD ADD ONS\r\n                jQuery('.input-deepselects').each(function () {\r\n                    var inp = jQuery(this);\r\n                    inp.wrap('<span class=\"inp-deep-wrapper\"></span>');\r\n                    inp.parent().append('<div class=\"inp-deep-list\"></div>');\r\n                    var dl = inp.parent().find('.inp-deep-list'),\r\n                        txt = '<span class=\"inp-deep-listitems\">',\r\n                        rev = inp.data('reverse'),\r\n                        minw = inp.data('deepwidth'),\r\n                        list = inp.data('selects') != undefined ? inp.data('selects').split(\"||\") : \"\",\r\n                        vals = inp.data('svalues') != undefined ? inp.data('svalues').split(\"||\") : \"\",\r\n                        icos = inp.data('icons') != undefined ? inp.data('icons').split(\"||\") : \"\",\r\n                        id = inp.attr('id');\r\n\r\n                    if (minw !== undefined)\r\n                        punchgs.TweenLite.set(dl, {minWidth: minw + \"px\"});\r\n\r\n                    if (rev == \"on\") {\r\n                        txt = txt + \"<span class='reverse_input_wrapper'><span class='reverse_input_text'>Direction Auto Reverse</span><input class='reverse_input_check tp-moderncheckbox' name='\" + id + \"_reverse' id='\" + id + \"_reverse' type='checkbox'></span>\";\r\n                    }\r\n                    if (list !== undefined && list != \"\") {\r\n                        jQuery.each(list, function (i) {\r\n                            var v = vals[i] || \"\",\r\n                                l = list[i] || \"\",\r\n                                i = icos[i] || \"\";\r\n                            txt = txt + \"<span class='inp-deep-prebutton' data-val='\" + v + \"'><i class='eg-icon-\" + i + \"'></i>\" + l + \"</span>\";\r\n                        });\r\n                    }\r\n                    txt = txt + \"</span>\";\r\n\r\n                    dl.append(txt);\r\n                    if (rev == \"on\") {\r\n                        RevSliderSettings.onoffStatus(jQuery('input[name=\"' + id + '_reverse\"]'));\r\n                    }\r\n                })\r\n\r\n                jQuery('body').on('click', '.inp-deep-prebutton', function () {\r\n                    var btn = jQuery(this),\r\n                        inp = btn.closest('.inp-deep-wrapper').find('input');\r\n                    inp.val(btn.data('val'));\r\n                    inp.blur();\r\n                    inp.focus();\r\n                    inp.trigger(\"change\");\r\n                });\r\n\r\n                jQuery('body').on('click', '.input-deepselects', function () {\r\n                    jQuery(this).closest('.inp-deep-wrapper').find('.inp-deep-list').addClass(\"visible\");\r\n                    jQuery(this).closest('.inp-deep-wrapper').addClass(\"selected-deep-wrapper\");\r\n                })\r\n\r\n                jQuery('.inp-deep-wrapper').on('mouseleave', function () {\r\n                    jQuery(this).find('.inp-deep-list').removeClass(\"visible\");\r\n                    jQuery(this).removeClass(\"selected-deep-wrapper\");\r\n                });\r\n\r\n\r\n                // SHOW HIDE MASKING PARAMETERS\r\n                jQuery('input[name=\"masking-start\"]').on(\"change\", function () {\r\n                    if (jQuery(this).attr('checked') === \"checked\")\r\n                        jQuery('.mask-start-settings').show();\r\n                    else\r\n                        jQuery('.mask-start-settings').hide();\r\n                })\r\n\r\n                jQuery('input[name=\"masking-end\"]').on(\"change\", function () {\r\n                    if (jQuery(this).attr('checked') === \"checked\")\r\n                        jQuery('.mask-end-settings').show();\r\n                    else\r\n                        jQuery('.mask-end-settings').hide();\r\n                });\r\n\r\n\r\n                // OPEN QUICK TIME LINE INPUT FIELDS\r\n                jQuery('body').on('click', '.show_timeline_helper', function () {\r\n                    var btn = jQuery(this),\r\n                        li = btn.closest('li'),\r\n                        tf = btn.closest('.timeline_frame'),\r\n                        d = jQuery('#timline-manual-dialog'),\r\n                        pl = tf.position().left,\r\n                        lw = li.width(),\r\n                        fi = tf.data('frameindex'),\r\n                        objLayer = u.getLayerByUniqueId(li.data('uniqueid')),\r\n                        st = objLayer.frames[\"frame_\" + fi].time,\r\n                        sp = objLayer.frames[\"frame_\" + fi].speed;\r\n\r\n\r\n                    d.appendTo(li);\r\n                    pl = fi === 999 ? (pl - d.width() + tf.width() - 20) : fi === 0 ? pl : (pl - d.width() / 2) + 10;\r\n                    pl = pl < 20 ? 20 : pl;\r\n                    d.css({left: pl});\r\n\r\n                    // Update Frame Start and Speed in Quick Editor\r\n\r\n                    jQuery('#clayer_start_time').val(st)\r\n                    jQuery('#clayer_start_speed').val(sp)\r\n                    d.data('frameindex', fi);\r\n                    d.data('uniqueid', objLayer.unique_id);\r\n                    d.show();\r\n                })\r\n\r\n                // CLOSE QUICK TIME LINE INPUT FIELDS\r\n                jQuery('body').on('click', '#timline-manual-closer', function () {\r\n                    var d = jQuery('#timline-manual-dialog');\r\n                    d.hide();\r\n                    d.appendTo(jQuery('#thelayer-editor-wrapper'));\r\n                });\r\n\r\n                jQuery('body').on('click', '#timline-manual-apply', function () {\r\n\r\n                    var btn = jQuery(this),\r\n                        d = jQuery('#timline-manual-dialog'),\r\n                        fi = d.data('frameindex'),\r\n                        frame = document.getElementById(\"tl_\" + d.data('uniqueid') + \"_frame_\" + fi),\r\n                        objLayer = u.getLayerByUniqueId(d.data('uniqueid')),\r\n                        objUpdate = {frames: {}};\r\n\r\n                    t.recordFrameStatus(frame);\r\n\r\n                    objUpdate.frames[\"frame_\" + fi] = {};\r\n\r\n                    objUpdate.frames[\"frame_\" + fi].time = jQuery('#clayer_start_time').val();\r\n                    objUpdate.frames[\"frame_\" + fi].speed = jQuery('#clayer_start_speed').val();\r\n\r\n                    d.hide();\r\n                    d.appendTo(jQuery('#thelayer-editor-wrapper'));\r\n                    u.updateLayer(objLayer.serial, objUpdate);\r\n                    t.updateLayerTimeline(objLayer);\r\n\r\n                    t.updateTLFrame(frame, \"trigger\");\r\n                    t.updateAllSelectedLayerTimeline(frame);\r\n\r\n                    t.updateAllLayerTimeline();      //PERFORMANCE WIN, ONLY CALL IF LAYER IS A GROUP OR COLUMN ETC...\r\n                });\r\n\r\n                // SELECT / DESELECT ALL LAYERS\r\n                jQuery('body').on('click', '#timing-all-onoff-checkbox', function () {\r\n                    var b = jQuery(this),\r\n                        objUpdate = {};\r\n\r\n                    if (b.attr('checked') != \"checked\" || jQuery('.mastertimer-timeline-selector-row.selected').length == jQuery('.layer-on-timeline-selector').length) {\r\n                        jQuery('.mastertimer-timeline-selector-row.selected').removeClass(\"selected\");\r\n                        jQuery('.layer-on-timeline-selector').removeAttr('checked');\r\n                    } else {\r\n                        jQuery('.layer-on-timeline-selector').attr('checked', 'checked');\r\n                        jQuery('.sortable_elements .mastertimer-timeline-selector-row').addClass(\"selected\");\r\n                    }\r\n                    t.checkMultipleSelectedItems();\r\n                    checkAvailableAutoTimes();\r\n                });\r\n\r\n                jQuery('body').on('click', '.list-of-layer-links', function () {\r\n                    jQuery(this).toggleClass(\"showmenow\");\r\n                });\r\n\r\n                jQuery('body').on('click', '.timing-layer-link-type-element', function () {\r\n                    var ltype = jQuery(this).data('linktype'),\r\n                        objUpdate = {};\r\n                    u.selectedLayers = [];\r\n                    jQuery('.layer-on-timeline-selector').each(function () {\r\n                        var inp = jQuery(this),\r\n                            uniqueid = inp.closest('.mastertimer-layer').data('uniqueid'),\r\n                            objLayer = u.getLayerByUniqueId(uniqueid);\r\n\r\n                        if (objLayer.groupLink == ltype) {\r\n                            inp.attr('checked', 'checked');\r\n                            u.selectedLayers.push(uniqueid);\r\n                            objLayer.references.htmlLayer.addClass(\"multiplelayerselected\");\r\n                        } else {\r\n                            inp.removeAttr('checked', 'checked');\r\n                            objLayer.references.htmlLayer.removeClass(\"multiplelayerselected\");\r\n                        }\r\n                    });\r\n                });\r\n                jQuery('body').on('change', '.layer-on-timeline-selector', function () {\r\n                    t.checkMultipleSelectedItems()\r\n                });\r\n            }\r\n\r\n\r\n            t.deepSelection = function(extend) {\r\n                // DEEP LINK INPUT FIELD ADD ONS\r\n                jQuery('.input-deepselects').each(function() {\r\n                    var inp = jQuery(this);\r\n                    if (!inp.hasClass(\"deepselection_ready\")) {\r\n                        inp.addClass(\"deepselection_ready\");\r\n                        inp.wrap('<span class=\"inp-deep-wrapper\"></span>');\r\n                        inp.parent().append('<span class=\"inp-deep-list\"></span>');\r\n                        var dl = inp.parent().find('.inp-deep-list'),\r\n                            txt = '<span class=\"inp-deep-listitems\">',\r\n                            rev = inp.data('reverse'),\r\n                            minw = inp.data('deepwidth'),\r\n                            list = inp.data('selects') != undefined ? inp.data('selects').split(\"||\") : \"\",\r\n                            vals = inp.data('svalues') != undefined ? inp.data('svalues').split(\"||\") : \"\",\r\n                            icos = inp.data('icons') != undefined ? inp.data('icons').split(\"||\") : \"\",\r\n                            id = inp.attr('id');\r\n\r\n                        if (minw!==undefined)\r\n                            punchgs.TweenLite.set(dl,{minWidth:minw+\"px\"});\r\n\r\n                        if (rev==\"on\") {\r\n                            txt = txt+\"<span class='reverse_input_wrapper'><span class='reverse_input_text'>Direction Auto Reverse</span><input class='reverse_input_check tp-moderncheckbox' name='\"+id+\"_reverse' id='\"+id+\"_reverse' type='checkbox'></span>\";\r\n                        }\r\n                        if (list!==undefined && list!=\"\") {\r\n                            jQuery.each(list,function(i){\r\n                                var v = vals[i] || \"\",\r\n                                    l = list[i] || \"\",\r\n                                    i = icos[i] || \"\";\r\n                                txt = txt + \"<span class='inp-deep-prebutton' data-val='\"+v+\"'><i class='eg-icon-\"+i+\"'></i>\"+l+\"</span>\";\r\n                            });\r\n                        }\r\n                        txt = txt + \"</span>\";\r\n\r\n                        dl.append(txt);\r\n                        if (rev==\"on\") {\r\n                            RevSliderSettings.onoffStatus(jQuery('input[name=\"'+id+'_reverse\"]'));\r\n                        }\r\n\r\n                        inp.parent().on('mouseleave',function() {\r\n                            jQuery(this).find('.inp-deep-list').removeClass(\"visible\");\r\n                            jQuery(this).removeClass(\"selected-deep-wrapper\");\r\n                        });\r\n                    }\r\n\r\n                })\r\n\r\n                if (extend!==true) {\r\n\r\n                    jQuery('body').on('click','.inp-deep-prebutton',function() {\r\n                        var btn = jQuery(this),\r\n                            inp = btn.closest('.inp-deep-wrapper').find('input');\r\n                        inp.val(btn.data('val'));\r\n                        inp.blur();\r\n                        inp.focus();\r\n                        inp.trigger(\"change\");\r\n                    });\r\n\r\n                    jQuery('body').on('click','.input-deepselects',function() {\r\n                        jQuery(this).closest('.inp-deep-wrapper').find('.inp-deep-list').addClass(\"visible\");\r\n                        jQuery(this).closest('.inp-deep-wrapper').addClass(\"selected-deep-wrapper\");\r\n                    })\r\n\r\n\r\n                }\r\n\r\n            }\r\n\r\n            t.checkMultipleSelectedItems = function (disableall) {\r\n                u.selectedLayers = [];\r\n                var objUpdate = {};\r\n                jQuery('.layer-on-timeline-selector').each(function () {\r\n                    var inp = jQuery(this),\r\n                        objLayer = u.getLayerByUniqueId(inp.closest('.mastertimer-layer').data('uniqueid'));\r\n\r\n                    if (inp.attr('checked') && disableall !== true) {\r\n                        objLayer.references.htmlLayer.addClass(\"multiplelayerselected\");\r\n                        u.selectedLayers.push(objLayer.unique_id);\r\n                    } else {\r\n                        inp.removeAttr('checked');\r\n                        objLayer.references.htmlLayer.removeClass(\"multiplelayerselected\");\r\n                    }\r\n\r\n                });\r\n            }\r\n\r\n            // COMPARE SLIDE LENGTH TO LAYERS END, AND UPDATE THE END OF THE LAYERS AS NEEDED\r\n            t.compareLayerEndsVSSlideEnd = function () {\r\n                var maxtime = (t.mainMaxTimeLeft) * 10;\r\n                jQuery.each(u.arrLayers, function (i, objLayer) {\r\n                    if (objLayer.endWithSlide || maxtime < objLayer.frames[\"frame_999\"].time - objLayer.frames[\"frame_999\"].speed) {\r\n                        objLayer.frames[\"frame_999\"].time = maxtime + objLayer.frames[\"frame_999\"].speed;\r\n                    }\r\n                });\r\n                t.updateAllLayerTimeline();\r\n            }\r\n\r\n            function checkAvailableAutoTimes() {\r\n                var sel = jQuery('.mastertimer-timeline-selector-row.selected').length;\r\n                jQuery('.autotiming-action').addClass(\"notclickable\");\r\n\r\n                if (sel > 1) {\r\n                    jQuery('.autotiming-action').removeClass(\"notclickable\");\r\n                } else if (sel == 1) {\r\n                    jQuery('.autotiming-action-3').removeClass(\"notclickable\");\r\n                    jQuery('.autotiming-action-4').removeClass(\"notclickable\");\r\n                    jQuery('.autotiming-action-5').removeClass(\"notclickable\");\r\n                    jQuery('.autotiming-action-6').removeClass(\"notclickable\");\r\n                }\r\n            }\r\n\r\n            function addIconFunction() {\r\n                jQuery('#tp-addiconbutton, .addbutton-icon').click(function () {\r\n\r\n\r\n                    var buttons = {\r\n                        \"Close\": function () {\r\n                            jQuery(\"#dialog_insert_button\").dialog(\"close\")\r\n                        }\r\n                    }\r\n                    jQuery(\"#dialog_insert_icon\").dialog({\r\n                        //buttons:buttons,\r\n                        width: 491,\r\n                        height: 500,\r\n                        dialogClass: \"tpdialogs\",\r\n                        resize: function () {\r\n                            var di = jQuery('#dialog_insert_icon');\r\n                            di.css({width: (di.parent().width() - 30), height: (di.parent().height() - 60)});\r\n                        },\r\n                        modal: true,\r\n                        create: function (event, ui) {\r\n                            var cont = jQuery(event.target),\r\n                                sheets = document.styleSheets,\r\n                                di = jQuery('#dialog_insert_icon');\r\n                            di.parent().css({padding: \"0px\", border: \"none\", borderRadius: \"0px\"});\r\n                            di.parent().find('.ui-dialog-titlebar.ui-widget-header.ui-corner-all.ui-helper-clearfix.ui-draggable-handle').addClass(\"tp-slider-new-dialog-title\");\r\n                            //css({fontSize:\"14px\", fontWeight:\"400\",lineHeight:\"35px\"});\r\n                            if (sheets)\r\n                                jQuery.each(sheets, function (index, sheet) {\r\n                                    var found = false,\r\n                                        markup = \"\";\r\n                                    try {\r\n                                        if (sheet.cssRules !== null & sheet.cssRules != undefined)\r\n                                            jQuery.each(sheet.cssRules, function (index, rule) {\r\n\r\n                                                if (rule && rule !== null && rule !== \"null\" && rule.selectorText != undefined) {\r\n                                                    jQuery.each(rs_icon_sets, function (j, prefix) {\r\n                                                        if (rule.selectorText.split(prefix).length > 1 && rule.cssText.split(\"content\").length > 1) {\r\n                                                            var csname = rule.selectorText.split(\"::before\")[0].split(\":before\")[0];\r\n\r\n                                                            if (csname != undefined) {\r\n                                                                csname = csname.split(\".\")[1];\r\n                                                                if (csname != undefined) {\r\n                                                                    if (found == false) {\r\n                                                                        found = true;\r\n                                                                        markup = '<ul class=\"tp-icon-preview-list lastaddediconset\">';\r\n                                                                    }\r\n                                                                    markup = markup + '<li><i class=\"' + csname + '\"></i></li>';\r\n                                                                }\r\n                                                            }\r\n                                                        }\r\n                                                    })\r\n                                                }\r\n                                            });\r\n                                    } catch (e) {\r\n                                    }\r\n                                    if (found) {\r\n                                        markup = markup + '</ul>';\r\n                                        cont.append(markup);\r\n                                        var fli = cont.find('.lastaddediconset').find('li').first().find('i');\r\n                                        cont.find('.lastaddediconset').prepend('<h3>' + fli.css(\"fontFamily\") + '</h3>').removeClass(\"lastaddediconset\");\r\n                                    }\r\n                                })\r\n                            cont.on(\"click\", \"li\", function () {\r\n\r\n                                if (jQuery('#dialog_addbutton').length > 0 && jQuery('#dialog_addbutton').closest('.tpdialogs').css('display') !== \"none\") {\r\n                                    if (jQuery('.addbutton-icon:visible').length > 0) {\r\n                                        jQuery('.addbutton-icon').html(jQuery(this).html());\r\n                                        jQuery(\"#dialog_insert_icon\").dialog(\"close\");\r\n                                        setExampleButtons();\r\n                                    } else {\r\n                                        if (jQuery('.lasteditedlayertext').length > 0)\r\n                                            jQuery('.lasteditedlayertext').val(jQuery('.lasteditedlayertext').val() + jQuery(this).html()).blur().focus();\r\n                                        else\r\n                                            jQuery('#layer_text').val(jQuery('#layer_text').val() + jQuery(this).html()).blur().focus();\r\n                                        jQuery(\"#dialog_insert_icon\").dialog(\"close\");\r\n                                    }\r\n                                } else {\r\n                                    if (jQuery('.lasteditedlayertext').length > 0)\r\n                                        jQuery('.lasteditedlayertext').val(jQuery('.lasteditedlayertext').val() + jQuery(this).html()).blur().focus();\r\n                                    else\r\n                                        jQuery('.layer_text').val(jQuery('#layer_text').val() + jQuery(this).html()).blur().focus();\r\n                                    jQuery(\"#dialog_insert_icon\").dialog(\"close\");\r\n                                }\r\n\r\n                                u.updateLayerFromFields();\r\n\r\n                            });\r\n                        }\r\n                    });\r\n                });\r\n\r\n            }\r\n\r\n            function reBlurFocus(dist, cv, el) {\r\n                if (!jQuery('#rs-animation-tab-button').hasClass(\"selected\") && !jQuery('#rs-loopanimation-tab-button').hasClass(\"selected\")) {\r\n                    cv = Number(cv) + dist;\r\n                    cv = Math.round(cv * 100) / 100;\r\n                    el.val(cv);\r\n                    /*  PUT THIS IN EDIT_LAYERS.js */\r\n                    jQuery(':focus').blur();\r\n\r\n                    el.focus();\r\n                }\r\n            }\r\n\r\n\r\n            /***********************************************************\r\n             -    INITIALISE CLICK, LOOP, INOUT ANIMATION HANDLERS    -\r\n             ***********************************************************/\r\n            function basicClicksAndHovers() {\r\n                // CHANGING ANY STYLE SHOULD REBUILD THE LAYERS\r\n                jQuery('.rs-staticcustomstylechange').change(function () {\r\n\r\n                    //setTimeout(function() {\r\n\r\n                    t.rebuildLayerIdle(jQuery('.slide_layer.layer_selected'));\r\n                    //\t},20);\r\n                })\r\n\r\n\r\n                // HANDLING OF LAYER ANIMATIONS STOP/PLAY OF SINGLE LAYERS\r\n                jQuery('.rs-layer-settings-tabs li').click(function () {\r\n\r\n                    var li = jQuery(this);\r\n                    if ((li.attr('id') != '#rs-animation-tab-button' && li.closest('#rs-animation-tab-button').length == 0) &&\r\n                        (li.attr('id') != '#rs-loopanimation-tab-button' && li.closest('#rs-loopanimation-tab-button').length == 0)) {\r\n\r\n                        t.stopAllLayerAnimation();\r\n                        setTimeout(function () {\r\n                            u.removeCurrentLayerRotatable();\r\n                            u.makeCurrentLayerRotatable();\r\n                            jQuery('#hide_layer_content_editor').click();\r\n                        }, 19);\r\n                    } else if (!jQuery(this).hasClass(\"selected\")) {\r\n                        t.stopAllLayerAnimation();\r\n                        if (li.attr('id') == '#rs-animation-tab-button' || li.closest('#rs-animation-tab-button').length != 0) {\r\n                            t.animateCurrentSelectedLayer(3);\r\n                            u.removeCurrentLayerRotatable();\r\n                            jQuery('#hide_layer_content_editor').click();\r\n                        } else {\r\n                            t.callCaptionLoops();\r\n                            u.removeCurrentLayerRotatable();\r\n                            jQuery('#hide_layer_content_editor').click();\r\n                        }\r\n                    }\r\n                });\r\n\r\n                // CLICK ON LAYERS ARE SHOULD STOP ANY LAYER ANIMATION OR LOOPS\r\n                jQuery('#divLayers').click(function () {\r\n\r\n\r\n                    t.stopAllLayerAnimation();\r\n                    u.removeCurrentLayerRotatable();\r\n\r\n                    setTimeout(function () {\r\n                        if (t.checkAnimationTab())\r\n                            t.animateCurrentSelectedLayer(4);\r\n\r\n                        if (t.checkLoopTab())\r\n                            t.callCaptionLoops();\r\n                    }, 19);\r\n\r\n                })\r\n\r\n                // Click on LayerAnimation Button the current Selected Layer should be Animated\r\n                jQuery('#layeranimation-playpause').click(function () {\r\n\r\n                    var btn = jQuery(this);\r\n                    if (btn.hasClass(\"inpause\")) {\r\n                        btn.removeClass(\"inpause\");\r\n                        if (t.checkAnimationTab()) {\r\n                            t.stopAllLayerAnimation();\r\n                            t.animateCurrentSelectedLayer(5);\r\n                            u.removeCurrentLayerRotatable();\r\n                        }\r\n                    } else {\r\n                        btn.addClass(\"inpause\");\r\n\r\n                        t.stopAllLayerAnimation();\r\n                    }\r\n                })\r\n\r\n                // Click on LayerAnimation Button the current Selected Layer should be Animated\r\n                jQuery('#loopanimation-playpause').click(function () {\r\n\r\n                    var btn = jQuery(this);\r\n                    if (btn.hasClass(\"inpause\")) {\r\n                        btn.removeClass(\"inpause\");\r\n                        if (t.checkLoopTab()) {\r\n                            t.stopAllLayerAnimation();\r\n                            t.callCaptionLoops();\r\n                            u.removeCurrentLayerRotatable();\r\n                        }\r\n                    } else {\r\n                        btn.addClass(\"inpause\");\r\n                        t.stopAllLayerAnimation();\r\n                    }\r\n                })\r\n\r\n\r\n                jQuery('#rs-style-tab-button').click(function () {\r\n                    setTimeout(function () {\r\n                        jQuery('.slide_layer').each(function () {\r\n\r\n                            t.rebuildLayerIdle(jQuery(this));\r\n                            var inlayer = jQuery(this).find('.innerslide_layer').first();\r\n                            if (inlayer.length > 0 && inlayer.data('hoveranim') != undefined) {\r\n                                var tl = inlayer.data('hoveranim');\r\n                                tl.seek(tl.endTime());\r\n                            }\r\n                        })\r\n                    }, 19);\r\n                });\r\n\r\n                jQuery('#toggle-idle-hover').click(function () {\r\n                    setTimeout(function () {\r\n                        t.rebuildLayerIdle(jQuery('.slide_layer.layer_selected'));\r\n                    }, 19);\r\n                })\r\n\r\n\r\n                jQuery('#style_form_wrapper').on(\"colorchanged\", function () {\r\n                    t.rebuildLayerIdle(jQuery('.slide_layer.layer_selected'));\r\n                })\r\n            }\r\n\r\n            t.resetIdleSelector = function () {\r\n                var bt = jQuery('#toggle-idle-hover');\r\n                bt.addClass(\"idleisselected\").removeClass(\"hoverisselected\");\r\n                jQuery('#tp-idle-state-advanced-style').show();\r\n                jQuery('#tp-hover-state-advanced-style').hide();\r\n            }\r\n\r\n            /************************************************************************************************************************\r\n             -    CHECK IF ANIMATION AND LOOP ANIMATION TABS ARE ACTIVATED AND IN IDLE OR PLAY MODE ARE    -\r\n             **************************************************************************************************************************/\r\n\r\n            t.checkAnimationTab = function () {\r\n                return (!jQuery('#layeranimation-playpause').hasClass(\"inpause\") && jQuery('#rs-animation-tab-button').hasClass(\"selected\"));\r\n            }\r\n\r\n            t.checkLoopTab = function () {\r\n                return (!jQuery('#loopanimation-playpause').hasClass(\"inpause\") && jQuery('#rs-loopanimation-tab-button').hasClass(\"selected\"));\r\n            }\r\n\r\n\r\n            /**********************************************************\r\n             -    ANIMATION HANDLING    -\r\n             **********************************************************/\r\n\r\n            /*********************************\r\n             -    PREPARE THE ANIMATIONS    -\r\n             ********************************/\r\n\r\n            function preparePeviewAnimations() {\r\n\r\n                // NORMAL FIELDS CHANGED IN IN/OUT ANIMATION\r\n                jQuery('.rs-inoutanimationfield').on(\"change\",\r\n                    function () {\r\n                        if (t.checkAnimationTab()) {\r\n                            t.stopAllLayerAnimation();\r\n                            setTimeout(function () {\r\n                                t.animateCurrentSelectedLayer(50);\r\n                            }, 19);\r\n                        }\r\n                    });\r\n                // NORMAL FIELDS CHANGED IN LOOP ANIMATIONS\r\n            }\r\n\r\n            function prepareLoopAnimations() {\r\n\r\n                // NORMAL FIELDS CHANGED IN IN/OUT ANIMATION\r\n                jQuery('.rs-loopanimationfield').on(\"change\",\r\n                    function () {\r\n                        if (t.checkLoopTab()) {\r\n                            t.stopAllLayerAnimation();\r\n                            setTimeout(function () {\r\n                                t.callCaptionLoops();\r\n                            }, 19);\r\n\r\n                        }\r\n                    });\r\n\r\n            }\r\n\r\n            /******************************\r\n             -    STOP ALL ANIMATION    -\r\n             ********************************/\r\n\r\n            t.stopAllLayerAnimation = function () {\r\n\r\n                document.getElementById('mastertimer-playpause-wrapper').innerHTML = '<i class=\"eg-icon-play\"></i><span>PLAY</span>';\r\n\r\n                punchgs.TweenLite.set(document.getElementsByClassName('tp-mask-wrap'), {\r\n                    clearProps: \"transform\",\r\n                    overwrite: \"all\"\r\n                });\r\n                jQuery('.tp-showmask').removeClass('tp-showmask');\r\n\r\n                var ils = document.getElementsByClassName(\"innerslide_layer\");\r\n                for (var i = 0; i < ils.length; i++) {\r\n                    var nextcaption = jQuery(ils[i]);\r\n                    if (ils[i].parentNode.classList.contains('rs-preview-inside-looper') || ils[i].parentNode.parentNode.classList.contains('rs-preview-inside-looper'))\r\n                        nextcaption.unwrap();\r\n\r\n                    if (nextcaption.data('tl') != undefined) {\r\n                        var tl = nextcaption.data('tl');\r\n                        tl.clear();\r\n                        tl.kill();\r\n                        try {\r\n                            if (nextcaption.data('mySplitText'))\r\n                                nextcaption.data('mySplitText').revert();\r\n                        } catch (e) {\r\n                        }\r\n                        punchgs.TweenLite.set(nextcaption[0].parentNode, {autoAlpha: 1});\r\n\r\n                        t.rebuildLayerIdle(nextcaption.closest('.slide_layer'));\r\n                        u.removeCurrentLayerRotatable();\r\n                    }\r\n                }\r\n\r\n                punchgs.TweenLite.set(document.getElementById('startanim_wrapper'), {autoAlpha: 0});\r\n                punchgs.TweenLite.set(document.getElementById('endanim_wrapper'), {autoAlpha: 0});\r\n\r\n            }\r\n\r\n\r\n            /******************************\r\n             -    LOOP ANIMATIONS    -\r\n             ********************************/\r\n\r\n            t.callCaptionLoops = function () {\r\n                t.stopAllLayerAnimation();\r\n\r\n                var caption = jQuery('.slide_layer.layer_selected'),\r\n                    el = caption.find('.innerslide_layer').first();\r\n                if (el.length == 0) {\r\n                    return false;\r\n                }\r\n\r\n                var id = u.getSerialFromID(caption.attr('id'));\r\n                params = u.getLayer(id),\r\n                    loopanim = params[\"loop_animation\"];\r\n\r\n\r\n                if (el.closest('.rs-preview-inside-looper').length > 0) {\r\n                    el.unwrap();\r\n                }\r\n\r\n                el.wrap('<div class=\"rs-preview-inside-looper\" style=\"width:100%;height:100%;position:relative\"></div>');\r\n\r\n                var loopobj = caption.find('.rs-preview-inside-looper'),\r\n                    startdeg = params[\"loop_startdeg\"],\r\n                    enddeg = params[\"loop_enddeg\"],\r\n                    speed = params[\"loop_speed\"],\r\n                    origin = '' + params[\"loop_xorigin\"] + '% ' + params[\"loop_yorigin\"] + '%',\r\n                    easing = params[\"loop_easing\"],\r\n                    angle = params[\"loop_angle\"],\r\n                    radius = parseInt(params[\"loop_radius\"], 0),\r\n                    xs = params[\"loop_xstart\"],\r\n                    ys = params[\"loop_ystart\"],\r\n                    xe = params[\"loop_xend\"],\r\n                    ye = params[\"loop_yend\"],\r\n                    zoomstart = params[\"loop_zoomstart\"],\r\n                    zoomend = params[\"loop_zoomend\"];\r\n\r\n                factor = 1;\r\n\r\n\r\n                var tl = new punchgs.TimelineLite();\r\n                tl.pause();\r\n\r\n\r\n                // SOME LOOPING ANIMATION ON INTERNAL ELEMENTS\r\n                switch (loopanim) {\r\n                    case \"rs-pendulum\":\r\n\r\n\r\n                        //punchgs.TweenLite.fromTo(loopobj,speed,{force3D:\"auto\",rotation:startdeg,transformOrigin:origin},{rotation:enddeg,ease:easing});\r\n                        tl.add(punchgs.TweenLite.fromTo(loopobj, speed, {\r\n                            force3D: \"auto\",\r\n                            rotation: startdeg,\r\n                            transformOrigin: origin\r\n                        }, {rotation: enddeg, ease: easing}));\r\n                        tl.add(punchgs.TweenLite.fromTo(loopobj, speed, {force3D: \"auto\", rotation: enddeg}, {\r\n                            rotation: startdeg, ease: easing, onComplete: function () {\r\n                                tl.restart();\r\n                            }\r\n                        }));\r\n                        break;\r\n\r\n                    case \"rs-rotate\":\r\n                        tl.add(punchgs.TweenLite.fromTo(loopobj, speed, {\r\n                            force3D: \"auto\",\r\n                            rotation: startdeg,\r\n                            transformOrigin: origin\r\n                        }, {\r\n                            rotation: enddeg, ease: easing, onComplete: function () {\r\n                                tl.restart();\r\n                            }\r\n                        }));\r\n                        break;\r\n\r\n                    case \"rs-slideloop\":\r\n\r\n                        tl.add(punchgs.TweenLite.fromTo(loopobj, speed, {force3D: \"auto\", x: xs, y: ys}, {\r\n                            x: xe,\r\n                            y: ye,\r\n                            ease: easing\r\n                        }));\r\n                        tl.add(punchgs.TweenLite.fromTo(loopobj, speed, {force3D: \"auto\", x: xe, y: ye}, {\r\n                            x: xs, y: ys, onComplete: function () {\r\n                                tl.restart();\r\n                            }\r\n                        }));\r\n                        break;\r\n\r\n                    case \"rs-pulse\":\r\n                        tl.add(punchgs.TweenLite.fromTo(loopobj, speed, {force3D: \"auto\", scale: zoomstart}, {\r\n                            scale: zoomend,\r\n                            ease: easing\r\n                        }));\r\n                        tl.add(punchgs.TweenLite.fromTo(loopobj, speed, {force3D: \"auto\", scale: zoomend}, {\r\n                            scale: zoomstart, onComplete: function () {\r\n                                tl.restart();\r\n                            }\r\n                        }));\r\n                        break;\r\n\r\n                    case \"rs-wave\":\r\n                        var _ox = ((parseInt(params[\"loop_xorigin\"], 0) / 100) - 0.5) * loopobj.width(),\r\n                            _oy = ((parseInt(params[\"loop_yorigin\"], 0) / 100) - 0.5) * loopobj.height(),\r\n                            yo = (-1 * radius) + _oy,\r\n                            xo = 0 + _ox,\r\n                            angobj = {a: 0, ang: angle, element: loopobj, unit: radius, xoffset: xo, yoffset: yo};\r\n\r\n                        var ang = parseInt(angle, 0);\r\n\r\n                        tl.add(punchgs.TweenLite.fromTo(angobj, speed,\r\n                            {a: 0 + ang},\r\n                            {\r\n                                a: 360 + ang,\r\n                                force3D: \"auto\",\r\n                                ease: punchgs.Linear.easeNone,\r\n                                onUpdate: function () {\r\n                                    var rad = angobj.a * (Math.PI / 180),\r\n                                        yy = angobj.yoffset + (angobj.unit * (1 - Math.sin(rad))),\r\n                                        xx = angobj.xoffset + Math.cos(rad) * angobj.unit;\r\n                                    punchgs.TweenLite.to(angobj.element, 0.1, {force3D: \"auto\", x: xx, y: yy});\r\n                                },\r\n                                onComplete: function () {\r\n                                    tl.restart();\r\n                                }\r\n                            }\r\n                        ));\r\n                        break;\r\n                }\r\n                tl.play();\r\n                caption.data('tl', tl);\r\n            }\r\n\r\n\r\n            /******************************************\r\n             -    REBUILD IDLE STATES OF ITEMS    -\r\n             ******************************************/\r\n\r\n            t.rebuildLayerIdle = function (caption, timer, isDemo) {\r\n\r\n                timer = timer == undefined ? 50 : timer;\r\n                isDemo = isDemo == undefined ? false : isDemo;\r\n\r\n                if (g_rebuildTimer == 0) {\r\n                    timer = 0;\r\n                    g_rebuildTimer = 999;\r\n                }\r\n\r\n                if (caption == undefined || jQuery(caption).length == 0 || caption[0].classList.contains(\"layer-deleted\")) return false;\r\n\r\n                var cp = jQuery(caption);\r\n\r\n\r\n                clearTimeout(cp.data('idlerebuildtimer'));\r\n\r\n\r\n                t.rebuildLayerIdleProgress(caption);\r\n\r\n\r\n                var id = u.getSerialFromID(caption.attr('id')),\r\n                    objLayer = u.getLayer(id, isDemo);\r\n\r\n                var e_img = caption.find('.tp-caption img');\r\n\r\n                u.updateHtmlLayerPosition(false, objLayer, u.getVal(objLayer, 'top'), u.getVal(objLayer, 'left'), u.getVal(objLayer, 'align_hor'), u.getVal(objLayer, 'align_vert'));\r\n\r\n                if (e_img.length > 0 && !jQuery(e_img).hasClass(\"loaded\")) {\r\n                    jQuery(e_img).addClass(\"loaded\");\r\n\r\n                    var img = new Image();\r\n                    img.onload = function () {\r\n\r\n                        objLayer.originalWidth = this.width;\r\n                        objLayer.originalHeight = this.height;\r\n                        u.updateHtmlLayerPosition(false, objLayer, u.getVal(objLayer, 'top'), u.getVal(objLayer, 'left'), u.getVal(objLayer, 'align_hor'), u.getVal(objLayer, 'align_vert'));\r\n                    }\r\n                    img.onerror = function () {\r\n                        e_img[0].src = objLayer.image_url = g_revslider_url + \"/admin/assets/images/tp-brokenimage.png\";\r\n                        u.updateHtmlLayerPosition(false, objLayer, u.getVal(objLayer, 'top'), u.getVal(objLayer, 'left'), u.getVal(objLayer, 'align_hor'), u.getVal(objLayer, 'align_vert'));\r\n                    }\r\n                    img.onabort = function () {\r\n                        u.updateHtmlLayerPosition(false, objLayer, u.getVal(objLayer, 'top'), u.getVal(objLayer, 'left'), u.getVal(objLayer, 'align_hor'), u.getVal(objLayer, 'align_vert'));\r\n                    }\r\n\r\n                    img.src = e_img[0].src;\r\n                } else {\r\n                    //update corners\r\n                    u.updateHtmlLayerCorners(objLayer);\r\n                    //update cross position\r\n                    u.updateCrossIconPosition(objLayer);\r\n                }\r\n                u.extendSlideHeightBasedOnRows();\r\n                return true;\r\n            }\r\n\r\n\r\n            ////////////////////////////////\r\n            // REBUILD LAYER CSS FOR IDLE //\r\n            ////////////////////////////////\r\n            t.rebuildLayerIdleProgress = function (caption) {\r\n\r\n                if (caption === undefined) return;\r\n\r\n                var is_demo = (caption.attr('id') !== caption.attr('id').replace('demo_layer_')) ? true : false;\r\n\r\n                if (caption == undefined || jQuery(caption).length == 0) return false;\r\n\r\n                var id = u.getSerialFromID(caption.attr('id')),\r\n                    params = u.getLayer(id, is_demo);\r\n                if (params == undefined || params == false) return false;\r\n\r\n                // CLEAR UP HALF ANIMATED STATUS ON WRAPPING AND HELPING CONTAINERS\r\n                punchgs.TweenLite.set(caption.find('.tp-mask-wrap'), {clearProps: \"all\", visibility: \"visible\", opacity: 1});\r\n\r\n                if (params.type === \"column\")\r\n                    punchgs.TweenLite.set(caption.find('.column_background').first(), {\r\n                        clearProps: \"all\",\r\n                        visibility: \"visible\",\r\n                        opacity: 1\r\n                    });\r\n\r\n\r\n                var inlayer = jQuery(caption[0].getElementsByClassName('innerslide_layer')[0]),\r\n                    deform = params.deformation,\r\n                    deformidle = params.deformation,\r\n                    deformhover = params[\"deformation-hover\"],\r\n                    ss = params[\"static_styles\"],\r\n                    fontcolor = u.getVal(ss, \"color\"),\r\n                    fonttrans = deform[\"color-transparency\"],\r\n                    bgcolor = deform[\"background-color\"],\r\n                    bgtrans = deform[\"background-transparency\"],\r\n                    bordercolor = deform[\"border-color\"],\r\n                    bordertrans = deform[\"border-transparency\"];\r\n\r\n\r\n                if (params.type == \"audio\") {\r\n                    if (params.video_data.video_show_visibility) {\r\n                        caption.addClass(\"invisible-audio\");\r\n                    } else {\r\n                        caption.removeClass(\"invisible-audio\");\r\n                    }\r\n                    return false;\r\n                }\r\n\r\n\r\n                if (is_demo && params.alias == 'First') {\r\n\r\n                }\r\n\r\n                // REMOVE SPLITS\r\n                if (inlayer.data('mySplitText') != undefined) {\r\n                    try {\r\n                        inlayer.data('mySplitText').revert();\r\n                    } catch (e) {\r\n                    }\r\n                    if (params.type == \"text\" || params.type == \"button\") {\r\n                        inlayer[0].innerHTML = params.text;\r\n                        u.makeCurrentLayerRotatable();\r\n                    }\r\n                    inlayer.removeData('mySplitText')\r\n                }\r\n\r\n                // BACKGROUND OPACITY\r\n                if (Number(bgtrans) < 1) {\r\n                    var rgb = UniteAdminRev.convertHexToRGB(bgcolor);\r\n                    bgcolor = \"rgba(\" + rgb[0] + \",\" + rgb[1] + \",\" + rgb[2] + \",\" + bgtrans + \")\";\r\n                }\r\n\r\n                // BORDER OPACITY\r\n                if (Number(bordertrans) < 1) {\r\n                    var rgb = UniteAdminRev.convertHexToRGB(bordercolor);\r\n                    bordercolor = \"rgba(\" + rgb[0] + \",\" + rgb[1] + \",\" + rgb[2] + \",\" + bordertrans + \")\";\r\n                }\r\n\r\n                // FONT OPACITY\r\n                if (Number(fonttrans) < 1) {\r\n                    var rgb = UniteAdminRev.convertHexToRGB(fontcolor);\r\n                    fontcolor = \"rgba(\" + rgb[0] + \",\" + rgb[1] + \",\" + rgb[2] + \",\" + fonttrans + \")\";\r\n                }\r\n\r\n\r\n                // SET ELEMENT IDLE\r\n                var mwidth = u.getVal(params, \"max_width\"),\r\n                    mheight = u.getVal(params, \"max_height\"),\r\n                    cmode = u.getVal(params, \"cover_mode\"),\r\n                    loc_position = \"absolute\";\r\n\r\n\r\n                switch (params.type) {\r\n                    case 'image':\r\n                        mwidth = u.getVal(params, \"scaleX\");\r\n                        mheight = u.getVal(params, \"scaleY\");\r\n                        break;\r\n                    case 'video':\r\n                        mwidth = params.video_data.cover === true || params.video_data.fullwidth === true ? \"100%\" : u.getVal(params, \"video_width\");\r\n                        mheight = params.video_data.cover === true || params.video_data.fullwidth === true ? \"100%\" : u.getVal(params, \"video_height\");\r\n                        caption.find('.slide_layer_video').css({\r\n                            width: parseInt(mwidth, 0) + \"px\",\r\n                            height: parseInt(mheight, 0) + \"px\"\r\n                        });\r\n                        break;\r\n                    case 'row':\r\n                        mwidth = \"100%\";\r\n                        if (u.getVal(params, \"align_vert\") === \"bottom\")\r\n                            caption[0].style.position = \"absolute\"\r\n                        else\r\n                            caption[0].style.position = \"relative\"\r\n\r\n                        if ((params.column_break_at === \"mobile\" && t.layout === \"mobile\") ||\r\n                            (params.column_break_at === \"tablet\" && (t.layout === \"tablet\" || t.layout === \"mobile\")) ||\r\n                            (params.column_break_at === \"notebook\" && t.layout !== \"desktop\")) {\r\n                            caption.addClass(\"rev_breakcolumns\");\r\n                        } else {\r\n                            caption.removeClass(\"rev_breakcolumns\");\r\n                        }\r\n\r\n\r\n                        break;\r\n                    case 'column':\r\n                        mwidth = (100 * eval(params.column_size)) + \"%\";\r\n                        mheight = \"auto\";\r\n                        caption[0].style.position = \"relative\";\r\n                        caption[0].style.display = \"table_cell\";\r\n                        caption[0].style.minHeight = parseInt(u.getVal(params, \"min_height\"), 0) + \"px\";\r\n\r\n                        caption[0].cb = caption[0].cb === undefined ? caption.find('.column_background') : caption[0].cb;\r\n                        if (params.bgimage_url !== undefined && params.bgimage_url.length > 0) {\r\n                            caption[0].cb.css({\r\n                                backgroundImage: \"url('\" + params.bgimage_url + \"')\",\r\n                                backgroundSize: params.layer_bg_size,\r\n                                backgroundPosition: params.layer_bg_position,\r\n                                backgroundRepeat: params.layer_bg_repeat,\r\n                                backgroundColor: bgcolor\r\n                            });\r\n                        } else {\r\n                            caption[0].cb.css({\r\n                                backgroundImage: \"\",\r\n                                backgroundColor: bgcolor\r\n                            })\r\n                        }\r\n\r\n                        break;\r\n                    case 'group':\r\n                        switch(mwidth) {\r\n                            case '#1/1#': mwidth=\"100%\";break;\r\n                            case '#1/2#': mwidth=\"50%\";break;\r\n                            case '#1/3#': mwidth=\"33.333333%\";break;\r\n                            case '#2/3#': mwidth=\"66.666666%\";break;\r\n\r\n                            case '#1/4#': mwidth=\"25%\";break;\r\n                            case '#3/4#': mwidth=\"75%\";break;\r\n\r\n                            case '#1/5#': mwidth=\"20%\";break;\r\n                            case '#2/5#': mwidth=\"40%\";break;\r\n                            case '#3/5#': mwidth=\"60%\";break;\r\n                            case '#4/5#': mwidth=\"80%\";break;\r\n\r\n                            case '#1/6#': mwidth=\"16.666666%\";break;\r\n                            case '#4/6#': mwidth=\"66.666666%\";break;\r\n                            case '#5/6#': mwidth=\"83.333333%\";break;\r\n\r\n\r\n\r\n                        }\r\n\r\n                        break;\r\n                }\r\n\r\n                if (deform.overflow === undefined || params.type !== \"group\")\r\n                    deform.overflow = \"visible\";\r\n\r\n                if (mwidth == undefined) mwidth = '';\r\n                if (mheight == undefined) mheight = '';\r\n\r\n\r\n                if (params.p_uid !== -1 && u.getObjLayerType(params.p_uid) === \"column\")\r\n                    punchgs.TweenLite.set(caption, {\r\n                        position: \"relative\",\r\n                        display: u.getVal(params, \"display\"),\r\n                        top: \"auto\",\r\n                        left: \"auto\",\r\n                        right: \"auto\",\r\n                        bottom: \"auto\"\r\n                    });\r\n                else {\r\n                    if (params.type === \"column\") {\r\n                        punchgs.TweenLite.set(caption, {position: \"absolute\", display: \"table-cell\"});\r\n                    }\r\n                    else\r\n                        punchgs.TweenLite.set(caption, {position: \"absolute\", display: \"block\"});\r\n                }\r\n\r\n                if (params.type === \"column\") bgcolor = \"transparent\"\r\n\r\n                mwidth = cmode === undefined || cmode === \"custom\" ?\r\n                    jQuery.isNumeric(mwidth) ?\r\n                        mwidth + \"px\" : mwidth.match(/px/g) ?\r\n                            parseInt(mwidth, 0) + \"px\" : mwidth.match(/%/g) ?\r\n                                parseFloat(mwidth) + \"%\" : mwidth :\r\n                    cmode === \"fullwidth\" || cmode === \"cover\" || cmode === \"cover-proportional\" ? \"100%\" : mwidth;\r\n\r\n                mheight = cmode === undefined || cmode === \"custom\" ?\r\n                    jQuery.isNumeric(mheight) ?\r\n                        mheight + \"px\" : mheight.match(/px/g) ?\r\n                            parseInt(mheight, 0) + \"px\" : mheight.match(/%/g) ?\r\n                                parseFloat(mheight, 0) + \"%\" : mheight :\r\n                    cmode === \"fullheight\" || cmode === \"cover\" || cmode === \"cover-proportional\" ? \"100%\" : mheight;\r\n\r\n\r\n                // SET LAYER WIDTH HEIGHT INNER AND OUTTER\r\n\r\n                caption[0].style.width = mwidth;\r\n                caption[0].style.height = mheight;\r\n\r\n                var fw = parseInt(u.getVal(ss, \"font-weight\"), 0) || 400;\r\n\r\n\r\n                var bgimage = \"\";\r\n                punchgs.TweenLite.set(inlayer, {clearProps: \"all\", visibility: \"visible\", opacity: 1});\r\n                if (params.bgimage_url !== undefined && params.bgimage_url.length > 0 && params.type !== \"column\")\r\n                    inlayer.css({\r\n                        backgroundImage: \"url('\" + params.bgimage_url + \"')\",\r\n                        backgroundSize: params.layer_bg_size,\r\n                        backgroundPosition: params.layer_bg_position,\r\n                        backgroundRepeat: params.layer_bg_repeat\r\n                    });\r\n                else\r\n                    inlayer.css({\r\n                        backgroundImage: \"\",\r\n                        backgroundSize: params.layer_bg_size,\r\n                        backgroundPosition: params.layer_bg_position,\r\n                        backgroundRepeat: params.layer_bg_repeat\r\n                    });\r\n\r\n\r\n                var inlay_object_anim = {\r\n                    z: deform.z,\r\n                    scaleX: parseFloat(deform.scalex),\r\n                    scaleY: parseFloat(deform.scaley),\r\n                    textAlign: u.getVal(params, \"text-align\"),\r\n                    rotationX: parseFloat(deform.xrotate),\r\n                    rotationY: parseFloat(deform.yrotate),\r\n                    rotationZ: parseFloat(params[\"2d_rotation\"]),\r\n\r\n                    skewX: parseFloat(deform.skewx),\r\n                    skewY: parseFloat(deform.skewy),\r\n\r\n                    transformPerspective: parseFloat(deform.pers),\r\n                    transformOrigin: params[\"layer_2d_origin_x\"] + \"% \" + params[\"layer_2d_origin_y\"] + \"%\",\r\n\r\n                    autoAlpha: deform.opacity,\r\n                    paddingTop: parseInt(u.getVal(params, 'padding')[0], 0) + \"px\",\r\n                    paddingRight: parseInt(u.getVal(params, 'padding')[1], 0) + \"px\",\r\n                    paddingBottom: parseInt(u.getVal(params, 'padding')[2], 0) + \"px\",\r\n                    paddingLeft: parseInt(u.getVal(params, 'padding')[3], 0) + \"px\",\r\n\r\n                    fontSize: parseInt(u.getVal(ss, \"font-size\"), 0) + \"px\",\r\n                    lineHeight: parseInt(u.getVal(ss, \"line-height\"), 0) + \"px\",\r\n                    fontWeight: fw,\r\n                    color: fontcolor,\r\n                    letterSpacing:parseInt(u.getVal(ss,\"letter-spacing\"),0)+\"px\",\r\n\r\n                    fontStyle: deformidle[\"font-style\"],\r\n                    textDecoration: deform[\"text-decoration\"],\r\n                    textTransform: deform[\"text-transform\"],\r\n                    borderColor: bordercolor,\r\n                    borderRadius: deform[\"border-radius\"][0] + \" \" + deform[\"border-radius\"][1] + \" \" + deform[\"border-radius\"][2] + \" \" + deform[\"border-radius\"][3],\r\n                    borderWidth: deform[\"border-width\"][0] + \" \" + deform[\"border-width\"][1] + \" \" + deform[\"border-width\"][2] + \" \" + deform[\"border-width\"][3],\r\n                    borderStyle: deform[\"border-style\"],\r\n                    whiteSpace: u.getVal(params, \"whitespace\"),\r\n                    maxWidth: \"100%\",\r\n                    maxHeight: \"100%\"\r\n                }\r\n\r\n                // CHECK GRADIENT BG COLOR\r\n                if (bgcolor.indexOf(\"gradient\")>=0) {\r\n                    inlay_object_anim.background = bgcolor;\r\n                } else {\r\n                    inlay_object_anim.backgroundColor = bgcolor;\r\n                }\r\n\r\n                if ((deform.blurfilter!==undefined && parseInt(deform.blurfilter,0)>0) || (deformhover.blurfilter!==undefined && parseInt(deformhover.blurfilter,0)>0)) {\r\n                    var bf = 'blur('+parseInt(deform.blurfilter,0)+'px)';\r\n                    inlay_object_anim['-webkit-filter'] = bf;\r\n                    inlay_object_anim['filter'] = bf;\r\n                }\r\n\r\n                if ((deform.grayscalefilter!==undefined && parseInt(deform.grayscalefilter,0)>0) || (deformhover.grayscalefilter!==undefined && parseInt(deformhover.grayscalefilter,0)>0)) {\r\n                    var gf = 'grayscale('+parseInt(deform.grayscalefilter,0)+'%)';\r\n                    inlay_object_anim['-webkit-filter'] = inlay_object_anim['-webkit-filter']===undefined ? gf : inlay_object_anim['-webkit-filter']+' '+gf;\r\n                    inlay_object_anim['filter'] = inlay_object_anim['filter']===undefined ? gf: inlay_object_anim['filter']+' '+gf;\r\n                }\r\n\r\n                if (deformidle[\"font-family\"]) inlay_object_anim.fontFamily = deformidle[\"font-family\"];\r\n\r\n                if (params.type===\"group\") punchgs.TweenLite.set(inlayer.find('.tp_layer_group_inner_wrapper').first(),{overflow:deform.overflow});\r\n\r\n                if (params.layer_blend_mode !== undefined && jQuery.inArray(params.type, [\"image\", \"shape\", \"text\", \"svg\"] >= 0))\r\n                    punchgs.TweenLite.set(inlayer.closest('.slide_layer'), {mixBlendMode: params.layer_blend_mode});\r\n\r\n                switch (params.type) {\r\n                    case \"shape\":\r\n                    case \"svg\":\r\n                        punchgs.TweenLite.set(caption, {\r\n                            marginTop: parseInt(u.getVal(params, 'margin')[0], 0) + \"px\",\r\n                            marginRight: parseInt(u.getVal(params, 'margin')[1], 0) + \"px\",\r\n                            marginBottom: parseInt(u.getVal(params, 'margin')[2], 0) + \"px\",\r\n                            marginLeft: parseInt(u.getVal(params, 'margin')[3], 0) + \"px\"\r\n                        });\r\n                        break;\r\n\r\n                    case \"column\":\r\n                        // Draw Border to fake color Background of Column Content\r\n                        punchgs.TweenLite.set(caption.find('.column_background'), {\r\n                            borderTopWidth: parseInt(u.getVal(params, 'margin')[0], 0) + \"px\",\r\n                            borderRightWidth: parseInt(u.getVal(params, 'margin')[1], 0) + \"px\",\r\n                            borderBottomWidth: parseInt(u.getVal(params, 'margin')[2], 0) + \"px\",\r\n                            borderLeftWidth: parseInt(u.getVal(params, 'margin')[3], 0) + \"px\"\r\n                        });\r\n                        // Set Column inner Content Spacing for Column Gap's\r\n                        inlay_object_anim.marginTop=parseInt(u.getVal(params,'margin')[0],0)+\"px\";\r\n                        inlay_object_anim.marginRight=parseInt(u.getVal(params,'margin')[1],0)+\"px\";\r\n                        inlay_object_anim.marginBottom=parseInt(u.getVal(params,'margin')[2],0)+\"px\";\r\n                        inlay_object_anim.marginLeft=parseInt(u.getVal(params,'margin')[3],0)+\"px\";\r\n                        break;\r\n                    default:\r\n                        punchgs.TweenLite.set(caption, {\r\n                            marginTop: parseInt(u.getVal(params, 'margin')[0], 0) + \"px\",\r\n                            marginRight: parseInt(u.getVal(params, 'margin')[1], 0) + \"px\",\r\n                            marginBottom: parseInt(u.getVal(params, 'margin')[2], 0) + \"px\",\r\n                            marginLeft: parseInt(u.getVal(params, 'margin')[3], 0) + \"px\"\r\n                        });\r\n                        break;\r\n                }\r\n\r\n                if (params.type === \"image\") {\r\n                    if (params.scaleProportional) {\r\n                        punchgs.TweenLite.set(inlayer.find('img'), {width: \"100%\", height: \"auto\"})\r\n                        inlay_object_anim.width=\"100%\";\r\n                        inlay_object_anim.height=\"auto\";\r\n                    } else {\r\n                        punchgs.TweenLite.set(inlayer.find('img'), {width: \"100%\", height: \"100%\"})\r\n                        inlay_object_anim.width=\"100%\";\r\n                        inlay_object_anim.height=\"100%\";\r\n                    }\r\n                }\r\n\r\n                if (params.type === \"video\") {\r\n                    punchgs.TweenLite.set(inlayer.find('.slide_layer_video'), {width: \"100%\", height: \"100%\"})\r\n                    inlay_object_anim.width=\"100%\";\r\n                    inlay_object_anim.height=\"100%\";\r\n                }\r\n\r\n                if (params.type === \"svg\" && params.svg != undefined) {\r\n                    var svgstrokecolor = params.svg[\"svgstroke-color\"] || \"transparent\",\r\n                        svgstroketrans = params.svg[\"svgstroke-transparency\"] || 0,\r\n                        svgstrokewidth = params.svg[\"svgstroke-width\"] || 0,\r\n                        svgstrokedasharray = params.svg[\"svgstroke-dasharray\"] || 0,\r\n                        svgstrokedashoffset = params.svg[\"svgstroke-dashoffset\"] || 0;\r\n\r\n                    // STROKE OPACITY\r\n                    if (Number(svgstroketrans) < 1) {\r\n                        var rgb = UniteAdminRev.convertHexToRGB(svgstrokecolor);\r\n                        svgstrokecolor = \"rgba(\" + rgb[0] + \",\" + rgb[1] + \",\" + rgb[2] + \",\" + svgstroketrans + \")\";\r\n                    }\r\n\r\n                    punchgs.TweenLite.set(inlayer.find('svg'), {\r\n                        fill: fontcolor,\r\n                        stroke: svgstrokecolor,\r\n                        strokeWidth: svgstrokewidth,\r\n                        strokeDasharray: svgstrokedasharray,\r\n                        strokeDashoffset: svgstrokedashoffset\r\n                    });\r\n                    punchgs.TweenLite.set(inlayer.find('svg path'), {\r\n                        fill: fontcolor\r\n                    });\r\n                }\r\n\r\n                // SET INLAYER STYLE\r\n                punchgs.TweenLite.set(inlayer, inlay_object_anim);\r\n\r\n                if (params.inline !=undefined && params.inline.idle!=undefined)\r\n                    jQuery.each(params.inline.idle, function(key,value) {\r\n                        inlayer.css(key,value);\r\n                    })\r\n\r\n                //SET ELEMENT HOVER (IN CASE IT EXISTS)\r\n\r\n                if (params.hover === true) {\r\n                    deform = params[\"deformation-hover\"];\r\n                    var fontcolor = deform.color,\r\n                        fonttrans = deform[\"color-transparency\"],\r\n                        bgcolor = deform[\"background-color\"],\r\n                        bgtrans = deform[\"background-transparency\"],\r\n                        bordercolor = deform[\"border-color\"],\r\n                        bordertrans = deform[\"border-transparency\"];\r\n\r\n\r\n                    // BACKGROUND OPACITY\r\n                    if (Number(bgtrans) < 1) {\r\n                        var rgb = UniteAdminRev.convertHexToRGB(bgcolor);\r\n                        bgcolor = \"rgba(\" + rgb[0] + \",\" + rgb[1] + \",\" + rgb[2] + \",\" + bgtrans + \")\";\r\n                    }\r\n\r\n                    // BORDER OPACITY\r\n                    if (Number(bordertrans) < 1) {\r\n                        var rgb = UniteAdminRev.convertHexToRGB(bordercolor);\r\n                        bordercolor = \"rgba(\" + rgb[0] + \",\" + rgb[1] + \",\" + rgb[2] + \",\" + bordertrans + \")\";\r\n                    }\r\n\r\n                    // FONT OPACITY\r\n                    if (Number(fonttrans) < 1) {\r\n                        var rgb = UniteAdminRev.convertHexToRGB(fontcolor);\r\n                        fontcolor = \"rgba(\" + rgb[0] + \",\" + rgb[1] + \",\" + rgb[2] + \",\" + fonttrans + \")\";\r\n                    }\r\n\r\n                    var tl = new punchgs.TimelineLite();\r\n                    tl.pause();\r\n\r\n                    var hoverspeed = parseFloat(deform.speed) / 1000;\r\n                    hoverspeed = hoverspeed === 0 ? 0.001 : hoverspeed;\r\n\r\n                    var hover_object_anim =  {\r\n                        scaleX:parseFloat(deform.scalex),\r\n                        scaleY:parseFloat(deform.scaley),\r\n\r\n                        rotationX:parseFloat(deform.xrotate),\r\n                        rotationY:parseFloat(deform.yrotate),\r\n                        rotationZ:parseFloat(deform[\"2d_rotation\"]),\r\n\r\n                        skewX:parseFloat(deform.skewx),\r\n                        skewY:parseFloat(deform.skewy),\r\n\r\n                        autoAlpha:deform.opacity,\r\n                        color:fontcolor,\r\n                        backgroundColor:bgcolor,\r\n                        textDecoration:deform[\"text-decoration\"],\r\n                        borderColor:bordercolor,\r\n                        borderRadius:parseInt(deform[\"border-radius\"][0],0)+\"px \"+parseInt(deform[\"border-radius\"][1],0)+\"px \"+parseInt(deform[\"border-radius\"][2],0)+\"px \"+parseInt(deform[\"border-radius\"][3],0)+\"px\",\r\n                        borderWidth:parseInt(deform[\"border-width\"][0],0)+\"px \"+parseInt(deform[\"border-width\"][1],0)+\"px \"+parseInt(deform[\"border-width\"][2],0)+\"px \"+parseInt(deform[\"border-width\"][3],0)+\"px\",\r\n                        borderStyle:deform[\"border-style\"],\r\n                        onComplete:function() {\r\n                            if (params.inline && params.inline.hover!=undefined)\r\n                                jQuery.each(params.inline.hover, function(key,value) {\r\n                                    inlayer.css(key,value);\r\n                                })\r\n                        },\r\n                        ease:deform.easing\r\n                    }\r\n\r\n                    if ((deform.blurfilter!==undefined && parseInt(deform.blurfilter,0)>0) || (deformidle.blurfilter!==undefined && parseInt(deformidle.blurfilter,0)>0)) {\r\n                        var bf = 'blur('+parseInt(deform.blurfilter,0)+'px)';\r\n                        hover_object_anim['-webkit-filter'] = bf;\r\n                        hover_object_anim['filter'] = bf;\r\n                    }\r\n\r\n                    if ((deform.grayscalefilter!==undefined && parseInt(deform.grayscalefilter,0)>0) || (deformidle.grayscalefilter!==undefined && parseInt(deformidle.grayscalefilter,0)>0)) {\r\n                        var gf = 'grayscale('+parseInt(deform.grayscalefilter,0)+'%)';\r\n                        hover_object_anim['-webkit-filter'] = hover_object_anim['-webkit-filter']===undefined ? gf : hover_object_anim['-webkit-filter']+' '+gf;\r\n                        hover_object_anim['filter'] = hover_object_anim['filter']===undefined ? gf: hover_object_anim['filter']+' '+gf;\r\n                    }\r\n\r\n                    // ANIMATION TO HOVER EFFECT\r\n                    tl.add(punchgs.TweenLite.to(inlayer, hoverspeed,hover_object_anim));\r\n\r\n                    if (params.type === \"svg\" && params.svg != undefined) {\r\n                        var svgstrokecolor = params.svg[\"svgstroke-hover-color\"] || \"transparent\",\r\n                            svgstroketrans = params.svg[\"svgstroke-hover-transparency\"] || 0,\r\n                            svgstrokewidth = params.svg[\"svgstroke-hover-width\"] || 0,\r\n                            svgstrokedasharray = params.svg[\"svgstroke-hover-dasharray\"] || 0,\r\n                            svgstrokedashoffset = params.svg[\"svgstroke-hover-dashoffset\"] || 0;\r\n\r\n                        // STROKE OPACITY\r\n                        if (Number(svgstroketrans) < 1) {\r\n                            var rgb = UniteAdminRev.convertHexToRGB(svgstrokecolor);\r\n                            svgstrokecolor = \"rgba(\" + rgb[0] + \",\" + rgb[1] + \",\" + rgb[2] + \",\" + svgstroketrans + \")\";\r\n                        }\r\n\r\n\r\n                        tl.add(punchgs.TweenLite.to(inlayer.find('svg'), hoverspeed, {\r\n                            fill: fontcolor,\r\n                            stroke: svgstrokecolor,\r\n                            strokeWidth: svgstrokewidth,\r\n                            strokeDasharray: svgstrokedasharray,\r\n                            strokeDashoffset: svgstrokedashoffset,\r\n                            ease: deform.easing\r\n                        }), 0);\r\n                    }\r\n\r\n                    inlayer.data('hoveranim', tl);\r\n\r\n\r\n                    // ADD HOVER ON THE ELEMENT\r\n                    if (caption.data('hoverexist') === undefined || caption.data('hoverexist') === false) {\r\n                        caption.hover(function () {\r\n                            if (jQuery('#rs-style-tab-button').hasClass(\"selected\")) {\r\n                                if (jQuery('#toggle-idle-hover').hasClass(\"idleisselected\")) {\r\n                                    var inlayer = jQuery(this).find('.innerslide_layer').first();\r\n                                    if (inlayer.length > 0 && inlayer.data('hoveranim') != undefined) {\r\n                                        var tl = inlayer.data('hoveranim');\r\n                                        tl.play(0);\r\n                                    }\r\n                                }\r\n                            }\r\n                        }, function () {\r\n                            if (jQuery('#rs-style-tab-button').hasClass(\"selected\")) {\r\n                                if (jQuery('#toggle-idle-hover').hasClass(\"idleisselected\")) {\r\n                                    var inlayer = jQuery(this).find('.innerslide_layer').first();\r\n                                    if (inlayer.length > 0 && inlayer.data('hoveranim') != undefined) {\r\n                                        var tl = inlayer.data('hoveranim');\r\n                                        tl.reverse();\r\n                                    }\r\n                                }\r\n                            }\r\n                        });\r\n                        caption.data('hoverexist', true);\r\n                    }\r\n\r\n\r\n                    if (document.getElementById('toggle-idle-hover').classList.contains(\"hoverisselected\")) {\r\n                        tl.seek(tl.endTime());\r\n                    } else {\r\n                        tl.seek(0);\r\n                        tl.pause(0);\r\n                        setTimeout(function () {\r\n                            tl.pause(0);\r\n                        }, 109)\r\n                    }\r\n                } else {\r\n                    caption.unbind(\"hover\");\r\n                    caption.data(\"hoverexist\", false);\r\n                }\r\n\r\n            }\r\n\r\n            /******************************************************************************************\r\n             -    ANIMATE CURRENT SELECTED LAYER IN AND OUT ON SHORT TIMEFRAME    -\r\n             ********************************************************************************************/\r\n\r\n            t.animateCurrentSelectedLayer = function (delay) {\r\n\r\n\r\n                //\tif (delay==undefined) delay = 229;\r\n                u.removeCurrentLayerRotatable();\r\n                var nextcaption = jQuery('.slide_layer.layer_selected').find('.innerslide_layer').first();\r\n\r\n                if (nextcaption.length == 0) {\r\n                    return false;\r\n                }\r\n                if (nextcaption.data('tl') == undefined)\r\n                    var tl = new punchgs.TimelineLite();\r\n                else\r\n                    var tl = nextcaption.data('tl');\r\n\r\n                tl.clear();\r\n                tl.kill();\r\n                tl.pause();\r\n\r\n\r\n                nextcaption.data('inanim', theLayerInAnimation(nextcaption));\r\n                nextcaption.data('outanim', theLayerOutAnimation(nextcaption));\r\n\r\n                // RUN THE IN ANIMATION\r\n                tl.addLabel(\"inanimation\");\r\n                tl.add(nextcaption.data('inanim'), \"=+0.2\");\r\n\r\n                // ADD SOME ANIMATION ON THE IN/OUT TABS\r\n                tl.addLabel(\"outanimation\");\r\n                tl.add(punchgs.TweenLite.fromTo(jQuery('#startanim_timerunner'), 1, {x: 0, y: 0}, {y: 41}), \"outanimation\");\r\n                tl.add(punchgs.TweenLite.fromTo(jQuery('#startanim_timerunnerbox'), 1, {\r\n                    x: 0,\r\n                    y: 0\r\n                }, {y: 41}), \"outanimation\");\r\n                tl.add(punchgs.TweenLite.fromTo(jQuery('#endanim_timerunnerbox'), 1, {x: 0, y: -41}, {\r\n                    x: 0,\r\n                    y: 0\r\n                }), \"outanimation\");\r\n                tl.add(punchgs.TweenLite.fromTo(jQuery('#endanim_timerunner'), 1, {x: 0, y: -41}, {y: 0}), \"outanimation\");\r\n                tl.add(punchgs.TweenLite.set(jQuery('#endanim_wrapper'), {width: 67, autoAlpha: 1}), \"outanimation\");\r\n\r\n                // RUN THE OUT ANIMATION\r\n                tl.add(nextcaption.data('outanim'));\r\n                tl.eventCallback(\"onComplete\", function () {\r\n                    tl.restart();\r\n                })\r\n\r\n\r\n                tl.play();\r\n\r\n                nextcaption.data('tl', tl);\r\n\r\n            }\r\n\r\n\r\n            /***************************************\r\n             -    BUILD IN ANIMATION TIMELINE    -\r\n             ****************************************/\r\n\r\n            var checkAnimValue = function (val, defval, nextcaption, direction) {\r\n                var v = val,\r\n                    d = defval;\r\n\r\n\r\n                if (jQuery.isNumeric(parseFloat(v))) {\r\n                    return parseFloat(v);\r\n                } else if (v === undefined || v === \"inherit\") {\r\n                    return d;\r\n                } else if (v.split(\"{\").length > 1) {\r\n                    var min = v.split(\",\");\r\n                    max = min[1].split(\"}\")[0];\r\n                    min = min[0].split(\"{\")[1];\r\n                    v = Math.random() * (max - min) + min;\r\n                    return v;\r\n                } else {\r\n                    var cw = jQuery('#divLayers').width(),\r\n                        ch = jQuery('#divLayers').height(),\r\n                        el = nextcaption.closest('.slide_layer'),\r\n                        elw = el.width(),\r\n                        elh = el.height(),\r\n                        p = el.position();\r\n\r\n                    if (v.match(/%]/g)) {\r\n                        v = v.split(\"[\")[1].split(\"]\")[0];\r\n                        if (direction == \"horizontal\")\r\n                            v = elw * parseInt(v, 0) / 100;\r\n                        else if (direction == \"vertical\")\r\n                            v = elh * parseInt(v, 0) / 100;\r\n                    } else\r\n\r\n                        switch (v.toLowerCase()) {\r\n                            case \"top\":\r\n                            case \"stage_top\":\r\n                                v = 0 - elh - p.top;\r\n                                break;\r\n                            case \"bottom\":\r\n                            case \"stage_bottom\":\r\n                                v = ch;\r\n                                break;\r\n                            case \"stage_left\":\r\n                            case \"left\":\r\n                                v = 0 - elw - p.left;\r\n                                break;\r\n                            case \"right\":\r\n                            case \"stage_right\":\r\n                                v = cw;\r\n                                break;\r\n                            case \"center\":\r\n                            case \"stage_center\":\r\n                                v = (cw / 2 - p.left - elw / 2);\r\n                                break;\r\n                            case \"middle\":\r\n                            case \"stage_middle\":\r\n                                v = (ch / 2 - p.top - elh / 2);\r\n                                break;\r\n\r\n\r\n                            case \"layer_top\":\r\n                                v = 0 - elh;\r\n                                break;\r\n                            case \"layer_bottom\":\r\n                                v = elh;\r\n                                break;\r\n                            case \"layer_left\":\r\n                                v = 0 - elw;\r\n                                break;\r\n                            case \"layer_right\":\r\n                                v = elw;\r\n                                break;\r\n                            case \"layer_center\":\r\n                                v = elw / 2;\r\n                                break;\r\n                            case \"layer_middle\":\r\n                                v = elh / 2;\r\n                                break;\r\n                            default:\r\n                                break;\r\n                        }\r\n\r\n                    return v;\r\n                }\r\n                return v;\r\n            }\r\n\r\n\r\n            function theLayerInAnimation(nextcaption) {\r\n\r\n                var sl = nextcaption.closest('.slide_layer'),\r\n                    id = u.getSerialFromID(sl.attr('id')),\r\n                    params = UniteAdminRev.duplicateObjectDeep(u.getLayer(id));\r\n\r\n                if (sl.children(\".tp-mask-wrap\").length == 0)\r\n                    sl.wrapInner('<div style=\"width:100%;height:100%;position:relative;\" class=\"tp-mask-wrap\"></div>');\r\n\r\n\r\n                var mask = sl.find('.tp-mask-wrap'),\r\n                    anim = params.animation,\r\n                    colbg = sl.hasClass(\"slide_layer_type_column\") ? sl.find('.column_background').first() : undefined,\r\n                    speed = params.frames[\"frame_0\"].speed / 1000,\r\n                    easedata = params.frames[\"frame_0\"].easing,\r\n                    mdelay = params.frames[\"frame_0\"].splitdelay / 100,\r\n                    $split = params.frames[\"frame_0\"].split,\r\n                    $endsplit = params.frames[\"frame_999\"].split,\r\n                    animobject = nextcaption,\r\n                    thesource = new Object(),\r\n                    theresult = new Object();\r\n\r\n\r\n                thesource.transx = 0;\r\n                thesource.transy = 0;\r\n                thesource.transz = 0;\r\n                thesource.rotatex = 0;\r\n                thesource.rotatey = 0;\r\n                thesource.rotatez = 0;\r\n                thesource.scalex = 1;\r\n                thesource.scaley = 1;\r\n                thesource.skewx = 0;\r\n                thesource.skewy = 0;\r\n                thesource.opac = 0;\r\n                thesource.tper = parseFloat(params.deformation.pers);\r\n                thesource.origin = \"center,center\";\r\n\r\n\r\n                //parseInt(u.getVal(ss,\"font-size\"),0)+\"px\",\r\n                theresult.transx = 0;\r\n                theresult.transy = 0;\r\n                theresult.transz = parseFloat(params.deformation.z);\r\n                theresult.rotatex = parseFloat(params.deformation.xrotate);\r\n                theresult.rotatey = parseFloat(params.deformation.yrotate);\r\n                theresult.rotatez = parseFloat(params[\"2d_rotation\"]);\r\n                theresult.scalex = parseFloat(params.deformation.scalex);\r\n                theresult.scaley = parseFloat(params.deformation.scaley);\r\n                theresult.skewx = parseFloat(params.deformation.skewx);\r\n                theresult.skewy = parseFloat(params.deformation.skewy);\r\n                theresult.opac = parseFloat(params.deformation.opacity);\r\n                theresult.tper = parseFloat(params.deformation.pers);\r\n\r\n                thesource['-webkit-filter'] = \"\";\r\n                thesource['filter'] = \"\";\r\n                theresult['-webkit-filter'] = \"\";\r\n                theresult['filter'] = \"\";\r\n\r\n                //FILTERS\r\n                if ((params.deformation.blurfilter!==undefined && parseInt(params.deformation.blurfilter,0)>0) || (params.blurfilter_start!==undefined && parseInt(params.blurfilter_start,0)>0)) {\r\n                    var bfidle = 'blur('+parseInt(params.deformation.blurfilter,0)+'px)',\r\n                        bf = params.blurfilter_start===\"inherit\" ? bfidle : 'blur('+parseInt(params.blurfilter_start,0)+'px)';\r\n                    thesource['-webkit-filter'] = bf;\r\n                    thesource['filter'] = bf;\r\n                    theresult['-webkit-filter'] = bfidle;\r\n                    theresult['filter'] = bfidle;\r\n                }\r\n\r\n                if ((params.deformation.grayscalefilter!==undefined && parseInt(params.deformation.grayscalefilter,0)>0) || (params.grayscalefilter_start!==undefined && parseInt(params.grayscalefilter_start,0)>0)) {\r\n                    var gfidle = 'grayscale('+parseInt(params.deformation.grayscalefilter,0)+'%)',\r\n                        gf = params.grayscalefilter_start===\"inherit\" ? gfidle : 'grayscale('+parseInt(params.grayscalefilter_start,0)+'%)';\r\n\r\n                    thesource['-webkit-filter'] = thesource['-webkit-filter']===\"\" ? gf : thesource['-webkit-filter']+' '+gf;\r\n                    thesource['filter'] = thesource['filter']===\"\" ? gf: thesource['filter']+' '+gf;\r\n                    theresult['-webkit-filter'] = theresult['-webkit-filter']===\"\" ? gfidle : theresult['-webkit-filter']+' '+gfidle;\r\n                    theresult['filter'] = theresult['filter']===\"\" ? gfidle: theresult['filter']+' '+gfidle;\r\n                }\r\n\r\n\r\n                var originx = params[\"layer_2d_origin_x\"] + \"%\",\r\n                    originy = params[\"layer_2d_origin_y\"] + \"%\",\r\n                    origin = originx + \" \" + originy;\r\n\r\n\r\n                if (nextcaption.data('mySplitText') != undefined)\r\n                    if ($split != \"none\" || $endsplit != \"none\")\r\n                        try {\r\n                            nextcaption.data('mySplitText').revert();\r\n                        } catch (e) {\r\n                        }\r\n\r\n                if ($split == \"chars\" || $split == \"words\" || $split == \"lines\" || $endsplit == \"chars\" || $endsplit == \"words\" || $endsplit == \"lines\") {\r\n                    if (nextcaption.find('a').length > 0)\r\n                        nextcaption.data('mySplitText', new SplitText(nextcaption.find('a'), {type: \"lines,words,chars\"}));\r\n                    else\r\n                        nextcaption.data('mySplitText', new SplitText(nextcaption, {type: \"lines,words,chars\"}));\r\n                } else {\r\n                    nextcaption.data('mySplitText', \"none\");\r\n                }\r\n\r\n\r\n                switch ($split) {\r\n                    case \"chars\":\r\n                        animobject = nextcaption.data('mySplitText').chars;\r\n                        break;\r\n                    case \"words\":\r\n                        animobject = nextcaption.data('mySplitText').words;\r\n                        break;\r\n                    case \"lines\":\r\n                        animobject = nextcaption.data('mySplitText').lines;\r\n                        break;\r\n                }\r\n\r\n                var timedelay = ((animobject.length * mdelay) + speed) * 1000;\r\n\r\n                punchgs.TweenLite.killTweensOf(nextcaption, false);\r\n                punchgs.TweenLite.killTweensOf(animobject, false);\r\n                punchgs.TweenLite.set(mask, {clearProps: \"transform\"});\r\n                punchgs.TweenLite.set(nextcaption, {clearProps: \"transform\"});\r\n                punchgs.TweenLite.set(animobject, {clearProps: \"transform\"});\r\n\r\n\r\n                var tl = new punchgs.TimelineLite(),\r\n                    tt = new punchgs.TimelineLite();\r\n\r\n                if (animobject != nextcaption) {\r\n                    tl.add(punchgs.TweenLite.set(nextcaption, {\r\n                        scaleX: theresult.scalex, scaleY: theresult.scaley,\r\n                        rotationX: theresult.rotatex, rotationY: theresult.rotatey, rotationZ: theresult.rotatez,\r\n                        x: theresult.transx, y: theresult.transy, z: theresult.transz + 1,\r\n                        skewX: theresult.skewx, skewY: theresult.skewy,\r\n                        transformPerspective: theresult.tper, transformOrigin: origin,\r\n                        autoAlpha: theresult.opac, overwrite: \"all\"\r\n                    }));\r\n                }\r\n\r\n\r\n                if (nextcaption.data(\"timer\")) clearTimeout(nextcaption.data('timer'));\r\n                if (nextcaption.data(\"timera\")) clearTimeout(nextcaption.data('timera'));\r\n\r\n\r\n                thesource.transx = checkAnimValue(params.x_start, theresult.transx, nextcaption, \"horizontal\");\r\n                thesource.transy = checkAnimValue(params.y_start, theresult.transy, nextcaption, \"vertical\");\r\n                thesource.transz = checkAnimValue(params.z_start, theresult.transz, nextcaption);\r\n                thesource.rotatex = checkAnimValue(params.x_rotate_start, theresult.rotatex, nextcaption);\r\n                thesource.rotatey = checkAnimValue(params.y_rotate_start, theresult.rotatey, nextcaption);\r\n                thesource.rotatez = checkAnimValue(params.z_rotate_start, theresult.rotatez, nextcaption);\r\n                thesource.scalex = checkAnimValue(params.scale_x_start, theresult.scalex, nextcaption);\r\n                thesource.scaley = checkAnimValue(params.scale_y_start, theresult.scaley, nextcaption);\r\n                thesource.skewx = checkAnimValue(params.skew_x_start, theresult.skewx, nextcaption);\r\n                thesource.skewy = checkAnimValue(params.skew_y_start, theresult.skewy, nextcaption);\r\n                thesource.opac = checkAnimValue(params.opacity_start, theresult.opac, nextcaption);\r\n                thesource.tper = params.deformation.pers;\r\n\r\n\r\n                tl.add(tt.set(animobject, {clearProps: \"transform\"}), 0);\r\n                tl.add(tt.staggerFromTo(animobject, speed,\r\n                    {\r\n                        scaleX: thesource.scalex,\r\n                        scaleY: thesource.scaley,\r\n                        rotationX: thesource.rotatex, rotationY: thesource.rotatey, rotationZ: thesource.rotatez,\r\n                        x: thesource.transx, y: thesource.transy, z: thesource.transz,\r\n                        skewX: thesource.skewx, skewY: thesource.skewy,\r\n                        transformPerspective: thesource.tper, transformOrigin: origin,\r\n                        autoAlpha:thesource.opac,\r\n                        \"-webkit-filter\":thesource['-webkit-filter'],\r\n                        filter:thesource['filter'],\r\n                    },\r\n                    {\r\n                        scaleX: theresult.scalex, scaleY: theresult.scaley,\r\n                        rotationX: theresult.rotatex, rotationY: theresult.rotatey, rotationZ: theresult.rotatez,\r\n                        x: theresult.transx, y: theresult.transy, z: theresult.transz,\r\n                        skewX: theresult.skewx, skewY: Number(theresult.skewy),\r\n                        transformPerspective: theresult.tper, transformOrigin: origin,\r\n                        ease: easedata,\r\n                        autoAlpha: theresult.opac, overwrite: \"all\",\r\n                        force3D:\"auto\",\r\n                        \"-webkit-filter\":theresult['-webkit-filter'],\r\n                        filter:theresult['filter'],\r\n                    }, mdelay\r\n                ));\r\n\r\n                // COLUMN BG ANIMATION\r\n\r\n                if (colbg != undefined) {\r\n\r\n                    tl.add(punchgs.TweenLite.fromTo(colbg, speed,\r\n                        {\r\n                            scaleX: thesource.scalex,\r\n                            scaleY: thesource.scaley,\r\n                            rotationX: thesource.rotatex, rotationY: thesource.rotatey, rotationZ: thesource.rotatez,\r\n                            x: thesource.transx, y: thesource.transy, z: thesource.transz,\r\n                            skewX: thesource.skewx, skewY: thesource.skewy,\r\n                            transformPerspective: thesource.tper, transformOrigin: origin,\r\n                            autoAlpha: thesource.opac\r\n\r\n                        },\r\n                        {\r\n                            scaleX: theresult.scalex, scaleY: theresult.scaley,\r\n                            rotationX: theresult.rotatex, rotationY: theresult.rotatey, rotationZ: theresult.rotatez,\r\n                            x: theresult.transx, y: theresult.transy, z: theresult.transz,\r\n                            skewX: theresult.skewx, skewY: Number(theresult.skewy),\r\n                            transformPerspective: theresult.tper, transformOrigin: origin,\r\n                            ease: easedata,\r\n                            autoAlpha: theresult.opac, overwrite: \"all\",\r\n                            force3D: \"auto\"\r\n                        }), 0);\r\n                }\r\n\r\n                // MASK ANIMATION\r\n                if (!params.mask_start) tl.add(punchgs.TweenLite.set(mask, {overflow: \"visible\"}), 0);\r\n\r\n\r\n                // MASK ANIMATION\r\n                if (params.mask_start) {\r\n                    var maskp = new Object();\r\n                    maskp.x = checkAnimValue(params.mask_x_start, params.mask_x_start, nextcaption, \"horizontal\");\r\n                    maskp.y = checkAnimValue(params.mask_y_start, params.mask_y_start, nextcaption, \"vertical\");\r\n                    tl.add(punchgs.TweenLite.fromTo(mask, speed, {overflow: \"hidden\", x: maskp.x, y: maskp.y}, {\r\n                        x: 0,\r\n                        y: 0,\r\n                        ease: easedata\r\n                    }), 0);\r\n                }\r\n\r\n                if (params.mask_start || params.mask_end)\r\n                    mask.addClass('tp-showmask');\r\n                else\r\n                    mask.removeClass('tp-showmask');\r\n\r\n                nextcaption.data('startanimobj', thesource);\r\n\r\n                tl.add(punchgs.TweenLite.fromTo(jQuery('#startanim_wrapper'), tt.totalDuration(), {\r\n                    autoAlpha: 1,\r\n                    width: 0\r\n                }, {width: 67, ease: easedata}), 0);\r\n                if (animobject != nextcaption)\r\n                    tl.add(punchgs.TweenLite.fromTo(nextcaption.parent(), 0.2, {autoAlpha: 0}, {autoAlpha: 1}), 0);\r\n\r\n                return tl;\r\n\r\n            }\r\n\r\n            /***************************************\r\n             -    BUILD OUT ANIMATION TIMELINE    -\r\n             ****************************************/\r\n            function theLayerOutAnimation(nextcaption) {\r\n                var sl = nextcaption.closest('.slide_layer'),\r\n                    id = u.getSerialFromID(sl.attr('id')),\r\n                    params = UniteAdminRev.duplicateObjectDeep(u.getLayer(id));\r\n\r\n                var mask = sl.find('.tp-mask-wrap'),\r\n                    colbg = sl.hasClass(\"slide_layer_type_column\") ? sl.find('.column_background').first() : undefined,\r\n                    anim = params.frames[\"frame_999\"].animation,\r\n                    speed = params.frames[\"frame_999\"].speed / 1000,\r\n                    easedata = params.frames[\"frame_999\"].easing,\r\n                    mdelay = params.frames[\"frame_999\"].splitdelay / 100,\r\n                    $split = params.frames[\"frame_999\"].split,\r\n                    animobject = nextcaption;\r\n                theanim = new Object(),\r\n                    theresult = new Object(),\r\n                    originx = params[\"layer_2d_origin_x\"] + \"%\",\r\n                    originy = params[\"layer_2d_origin_y\"] + \"%\",\r\n                    origin = originx + \" \" + originy;\r\n\r\n                easedata = easedata == \"nothing\" ? params.frames[\"frame_999\"].easing : easedata;\r\n\r\n                theanim.transx = 0;\r\n                theanim.transy = 0;\r\n                theanim.transz = 0;\r\n                theanim.rotatex = 0;\r\n                theanim.rotatey = 0;\r\n                theanim.rotatez = 0;\r\n                theanim.scalex = 1;\r\n                theanim.scaley = 1;\r\n                theanim.skewx = 0;\r\n                theanim.skewy = 0;\r\n                theanim.opac = 0;\r\n                theanim.tper = parseFloat(params.deformation.pers);\r\n                ;\r\n\r\n\r\n                theresult.transx = 0;\r\n                theresult.transy = 0;\r\n                theresult.transz = parseFloat(params.deformation.z);\r\n                theresult.rotatex = parseFloat(params.deformation.xrotate);\r\n                theresult.rotatey = parseFloat(params.deformation.yrotate);\r\n                theresult.rotatez = parseFloat(params[\"2d_rotation\"]);\r\n                theresult.scalex = parseFloat(params.deformation.scalex);\r\n                theresult.scaley = parseFloat(params.deformation.scaley);\r\n                theresult.skewx = parseFloat(params.deformation.skewx);\r\n                theresult.skewy = parseFloat(params.deformation.skewy);\r\n                theresult.opac = parseFloat(params.deformation.opacity);\r\n                theresult.tper = parseFloat(params.deformation.pers);\r\n\r\n                theanim['-webkit-filter'] = \"\";\r\n                theanim['filter'] = \"\";\r\n                theresult['-webkit-filter'] = \"\";\r\n                theresult['filter'] = \"\";\r\n\r\n                //FILTERS\r\n                if ((params.deformation.blurfilter!==undefined && parseInt(params.deformation.blurfilter,0)>0) || (params.blurfilter_start!==undefined && parseInt(params.blurfilter_start,0)>0)) {\r\n                    var bfidle = 'blur('+parseInt(params.deformation.blurfilter,0)+'px)',\r\n                        bf = params.blurfilter_end===\"inherit\" ? bfidle : 'blur('+parseInt(params.blurfilter_end,0)+'px)';\r\n\r\n                    theanim['-webkit-filter'] = bf;\r\n                    theanim['filter'] = bf;\r\n                    theresult['-webkit-filter'] = bfidle;\r\n                    theresult['filter'] = bfidle;\r\n                }\r\n\r\n                if ((params.deformation.grayscalefilter!==undefined && parseInt(params.deformation.grayscalefilter,0)>0) || (params.grayscalefilter_end!==undefined && parseInt(params.grayscalefilter_end,0)>0)) {\r\n                    var gfidle = 'grayscale('+parseInt(params.deformation.grayscalefilter,0)+'%)',\r\n                        gf = params.grayscalefilter_end===\"inherit\" ? gfidle : 'grayscale('+parseInt(params.grayscalefilter_end,0)+'%)';\r\n\r\n                    theanim['-webkit-filter'] = theanim['-webkit-filter']===\"\" ? gf : theanim['-webkit-filter']+' '+gf;\r\n                    theanim['filter'] = theanim['filter']===\"\" ? gf: theanim['filter']+' '+gf;\r\n                    theresult['-webkit-filter'] = theresult['-webkit-filter']===\"\" ? gfidle : theresult['-webkit-filter']+' '+gfidle;\r\n                    theresult['filter'] = theresult['filter']===\"\" ? gfidle: theresult['filter']+' '+gfidle;\r\n                }\r\n\r\n\r\n                switch ($split) {\r\n                    case \"chars\":\r\n                        animobject = nextcaption.data('mySplitText').chars;\r\n                        break;\r\n                    case \"words\":\r\n                        animobject = nextcaption.data('mySplitText').words;\r\n                        break;\r\n                    case \"lines\":\r\n                        animobject = nextcaption.data('mySplitText').lines;\r\n                        break;\r\n                }\r\n\r\n                var timedelay = ((animobject.length * mdelay) + speed) * 1000;\r\n\r\n                var tl = new punchgs.TimelineLite(),\r\n                    tt = new punchgs.TimelineLite();\r\n\r\n\r\n                if (anim == null) anim = \"auto\";\r\n\r\n\r\n                // MASK ANIMATION\r\n                if (!params.mask_end || (anim === \"auto\" && !params.mask_start))\r\n                    tl.add(punchgs.TweenLite.set(mask, {overflow: \"visible\"}));\r\n\r\n\r\n                if (anim === \"auto\") {\r\n                    theanim = nextcaption.data('startanimobj');\r\n                } else {\r\n                    var mask_is_on = params.mask_end || (anim === \"auto\" && params.mask_start) ? true : false;\r\n\r\n                    theanim.transx = checkAnimValue(params.x_end, theresult.transx, nextcaption, \"horizontal\");\r\n                    theanim.transy = checkAnimValue(params.y_end, theresult.transy, nextcaption, \"vertical\");\r\n                    theanim.transz = checkAnimValue(params.z_end, theresult.transz, nextcaption);\r\n                    theanim.rotatex = checkAnimValue(params.x_rotate_end, theresult.rotatex, nextcaption);\r\n                    theanim.rotatey = checkAnimValue(params.y_rotate_end, theresult.rotatey, nextcaption);\r\n                    theanim.rotatez = checkAnimValue(params.z_rotate_end, theresult.rotatez, nextcaption);\r\n                    theanim.scalex = checkAnimValue(params.scale_x_end, theresult.scalex, nextcaption);\r\n                    theanim.scaley = checkAnimValue(params.scale_y_end, theresult.scaley, nextcaption);\r\n                    theanim.skewx = checkAnimValue(params.skew_x_end, theresult.skewx, nextcaption);\r\n                    theanim.skewy = checkAnimValue(params.skew_y_end, theresult.skewy, nextcaption);\r\n                    theanim.opac = checkAnimValue(params.opacity_end, theresult.opac, nextcaption);\r\n                    theanim.tper = params.deformation.pers;\r\n                }\r\n\r\n                tl.add(tt.staggerTo(animobject,0.001,\r\n                    { \"-webkit-filter\":theresult['-webkit-filter'],\r\n                        filter:theresult['filter']\r\n                    },(mdelay-0.001)));\r\n\r\n                tl.add(tt.staggerTo(animobject, speed,\r\n                    {\r\n                        scaleX: theanim.scalex,\r\n                        scaleY: theanim.scaley,\r\n                        rotationX: theanim.rotatex,\r\n                        rotationY: theanim.rotatey,\r\n                        rotationZ: theanim.rotatez,\r\n                        x: theanim.transx,\r\n                        y: theanim.transy,\r\n                        z: theanim.transz + 1,\r\n                        skewX: theanim.skewx,\r\n                        skewY: theanim.skewy,\r\n                        opacity: theanim.opac,\r\n                        transformPerspective: theanim.tper,\r\n                        transformOrigin: origin,\r\n                        ease:easedata,\r\n                        \"-webkit-filter\":theanim['-webkit-filter'],\r\n                        filter:theanim['filter'],\r\n                    }, mdelay));\r\n\r\n                // COLUMN BG ANIMATION\r\n                if (colbg != undefined)\r\n                    tl.add(punchgs.TweenLite.to(colbg, speed,\r\n                        {\r\n                            scaleX: theanim.scalex,\r\n                            scaleY: theanim.scaley,\r\n                            rotationX: theanim.rotatex,\r\n                            rotationY: theanim.rotatey,\r\n                            rotationZ: theanim.rotatez,\r\n                            x: theanim.transx,\r\n                            y: theanim.transy,\r\n                            z: theanim.transz + 1,\r\n                            skewX: theanim.skewx,\r\n                            skewY: theanim.skewy,\r\n                            opacity: theanim.opac,\r\n                            transformPerspective: theanim.tper,\r\n                            transformOrigin: origin,\r\n                            ease: easedata\r\n                        }, mdelay), 0);\r\n\r\n\r\n                // MASK ANIMATION\r\n                if (params.mask_end) {\r\n                    var maskp = new Object();\r\n                    maskp.x = checkAnimValue(params.mask_x_end, params.mask_x_end, nextcaption);\r\n                    maskp.y = checkAnimValue(params.mask_y_end, params.mask_y_end, nextcaption);\r\n                    tl.add(punchgs.TweenLite.to(mask, speed, {\r\n                        x: maskp.x,\r\n                        y: maskp.y,\r\n                        ease: easedata,\r\n                        overflow: \"hidden\"\r\n                    }, mdelay), 0);\r\n                } else if (anim === \"auto\" && params.mask_start) {\r\n                    var maskp = new Object();\r\n                    maskp.x = checkAnimValue(params.mask_x_start, params.mask_x_start, nextcaption);\r\n                    maskp.y = checkAnimValue(params.mask_y_start, params.mask_y_start, nextcaption);\r\n                    tl.add(punchgs.TweenLite.to(mask, speed, {x: maskp.x, y: maskp.y, ease: easedata}, mdelay), 0);\r\n                }\r\n\r\n                tl.add(punchgs.TweenLite.fromTo(jQuery('#endanim_timerunnerbox'), tt.totalDuration(), {x: 0}, {\r\n                    x: -67,\r\n                    ease: easedata\r\n                }), 0);\r\n                tl.add(punchgs.TweenLite.fromTo(jQuery('#endanim_timerunner'), tt.totalDuration(), {x: 0}, {\r\n                    x: -67,\r\n                    ease: easedata\r\n                }), 0);\r\n                if (animobject != nextcaption)\r\n                    tl.add(punchgs.TweenLite.fromTo(nextcaption.parent(), 0.2, {autoAlpha: 1}, {autoAlpha: 0}), (tt.totalDuration() - 0.2));\r\n                return tl;\r\n            }\r\n\r\n\r\n            /******************************************************************************************\r\n             -    PUT THE BLUE TIMER LINE IN POSITION BASED ON DEFAULT OR PREDEFINED VALUES    -\r\n             ******************************************************************************************/\r\n            var initSlideDuration = function () {\r\n\r\n                // SET MAXTIME POSITION\r\n                var duration = jQuery('#delay').val();\r\n                if (duration == undefined || duration == 0 || duration == \"undefined\")\r\n                    duration = g_slideTime;\r\n                jQuery('#mastertimer-maxtime').css({left: duration / 10});\r\n\r\n\r\n            }\r\n\r\n\r\n            /******************************************************************************************\r\n             -    EVENT LISTENER FOR MASTER TIME POSITION CHANGE, ALL ANIMATION MOVE IN POSTION    -\r\n             ********************************************************************************************/\r\n\r\n            t.masterTimerPositionChange = function (recreatetimers) {\r\n\r\n                var mp = jQuery(document.getElementById('mastertimer-position')),\r\n                    tpos = (((mp[0].getBoundingClientRect().left - document.getElementById('master-rightheader').getBoundingClientRect().left + t.timercorrectur)) / 100),\r\n                    mst = jQuery(document.getElementById('divbgholder')).data('slidetimeline');\r\n\r\n                mp[0].className = mp[0].classList.contains(\"hovering\") ? mp[0].className : mp[0].className + \" hovering\";\r\n\r\n                if (tpos <= 0 && (mp.data('wasidle') == \"wasnotidle\" || mp.data('wasidle') == undefined)) {\r\n\r\n                    t.stopAllLayerAnimation();\r\n                    mp.data('wasidle', \"wasidle\");\r\n\r\n                    if (mp.data('tl') != undefined) {\r\n                        mp.data('tl').kill();\r\n                    }\r\n                    if (mst != undefined) {\r\n                        mst.stop();\r\n                        mst.seek(100000);\r\n                    }\r\n\r\n                    t.allLayerToIdle();\r\n                }\r\n\r\n                if (tpos > 0 && (mp.data('wasidle') == \"wasidle\" || mp.data('wasidle') == undefined)) {\r\n                    mp.data('wasidle', 'wasnotidle');\r\n                    createGlobalTimeline(true);\r\n                    document.getElementById('mastertimer-playpause-wrapper').innerHTML = '<i class=\"eg-icon-play\"></i><span>PLAY</span>';\r\n                    mp[0].className = mp[0].classList.contains('inaction') ? mp[0].className : mp[0].className + \" inaction\";\r\n                }\r\n\r\n                if (tpos > 0 && mp.data('wasidle') == \"wasnotidle\") {\r\n                    if (recreatetimers) createGlobalTimeline(false);\r\n                    var mtl = mp.data('tl');\r\n                    mtl.stop();\r\n                    mst.stop();\r\n                    mtl.seek(tpos);\r\n                    mst.seek(tpos);\r\n                }\r\n\r\n                if (tpos > 0) {\r\n                    var mpst = document.getElementById('mastertimer-poscurtime');\r\n                    mpst.className = mpst.classList.contains('movedalready') ? mpst.className : mpst.className + ' movedalready';\r\n                    mpst.innerHTML = t.convToTime(tpos * 100);\r\n                    mp.removeClass(\"timerinidle\");\r\n                } else {\r\n                    var mpst = document.getElementById('mastertimer-poscurtime');\r\n                    if (mpst.classList.contains('movedalready')) {\r\n                        mpst.innerHTML = \"Idle\";\r\n                        mp.addClass(\"timerinidle\");\r\n                    }\r\n\r\n                }\r\n                mp.trigger('poschanged');\r\n            }\r\n\r\n            t.convToTime = function (tpos) {\r\n\r\n\r\n                var min = Math.floor(tpos / 6000),\r\n                    sec = Math.floor(Math.ceil(tpos - (min * 6000)) / 100),\r\n                    ms = Math.round(tpos - (sec * 100) - (min * 6000));\r\n\r\n                if (min == 0) min = \"00\"\r\n                else if (min < 10) min = \"0\" + min.toString();\r\n\r\n                if (sec == 0) sec = \"00\"\r\n                else if (sec < 10) sec = \"0\" + sec.toString();\r\n\r\n                if (ms == 0) ms = \"00\"\r\n                else if (ms < 10) ms = \"0\" + ms.toString()\r\n                return min.toString() + \":\" + sec.toString() + \".\" + ms.toString();\r\n\r\n            }\r\n\r\n\r\n            t.allLayerToIdle = function (obj) {\r\n                var search = obj != undefined && obj.type != undefined ? 'slide_layer_type_' + obj.type : 'slide_layer';\r\n                elements = document.getElementsByClassName(search);\r\n                for (var i = 0; i < elements.length; i++) {\r\n                    t.rebuildLayerIdle(jQuery(elements[i]));\r\n                }\r\n            }\r\n\r\n            /***********************************\r\n             -    INIT THE MASTER TIMER    -\r\n             ************************************/\r\n            var initMasterTimer = function () {\r\n                var mw = jQuery('#master-rightheader');\r\n\r\n\r\n                // CHANGE THE POSITION OF THE TIME LINE\r\n                jQuery('#mastertimer-position').on(\"poschanged\", function () {\r\n                    var mp = jQuery(this),\r\n                        tpos = Math.round((mp.position().left + t.timercorrectur)),\r\n                        str = t.convToTime(tpos);\r\n                    if (tpos < 0) str = \"IDLE\";\r\n                    document.getElementById('master-timer-time').innerHTML = str;\r\n                });\r\n\r\n\r\n                // BACK TO IDLE\r\n                jQuery('#mastertimer-backtoidle').click(function () {\r\n                    jQuery('#mastertimer-position').removeClass(\"inaction\");\r\n                    document.getElementById('mastertimer-playpause-wrapper').innerHTML = '<i class=\"eg-icon-play\"></i><span>PLAY</span>';\r\n                    document.getElementById('master-timer-time').innerHTML = 'IDLE';\r\n                    t.stopAllLayerAnimation();\r\n                    var mp = jQuery('#mastertimer-position'),\r\n                        mst = jQuery('#divbgholder').data('slidetimeline');\r\n                    mp.css({left: \"-15px\"});\r\n                    if (mp.data('tl') != undefined) {\r\n                        mp.data('tl').kill();\r\n                    }\r\n                    if (mst != undefined) {\r\n                        mst.stop();\r\n                        mst.seek(100000);\r\n                    }\r\n\r\n                    t.allLayerToIdle();\r\n\r\n                })\r\n\r\n\r\n                // HOVER OUT OF MASTERTIMER SHOULD RESET ANY SETTINGS\r\n                jQuery('#divLayers').hover(function () {\r\n\r\n                    var mp = jQuery(document.getElementById('mastertimer-position')),\r\n                        mpw = document.getElementById('mastertimer-playpause-wrapper'),\r\n                        mst = jQuery(document.getElementById('divbgholder')).data('slidetimeline');\r\n\r\n                    if (mp.data('tl') != undefined)\r\n                        mp.data('tl').stop();\r\n\r\n                    if (mst != undefined) {\r\n                        mst.stop();\r\n                        mst.seek(100000);\r\n                    }\r\n\r\n                    mp.removeClass(\"inaction\");\r\n                    mpw.innerHTML = '<i class=\"eg-icon-play\"></i><span>PLAY</span>';\r\n                    if (mp.hasClass(\"hovering\")) {\r\n                        mp.removeClass(\"hovering\");\r\n                        t.stopAllLayerAnimation();\r\n                        t.allLayerToIdle();\r\n\r\n                        // Click on LayerAnimation Button the current Selected Layer should be Animated\r\n                        if (!jQuery('#layeranimation-playpause').hasClass(\"inpuase\")) {\r\n                            if (t.checkAnimationTab())\r\n                                t.animateCurrentSelectedLayer(1);\r\n                        }\r\n\r\n                        if (!jQuery('#loopanimation-playpause').hasClass(\"inpuase\")) {\r\n                            if (t.checkLoopTab())\r\n                                t.animateCurrentSelectedLayer(2);\r\n                        }\r\n                    }\r\n\r\n                });\r\n\r\n                // HOVER ON THE ANIMATION PART, SHOULD START THE ANIMATION MODE AGAIN\r\n                jQuery('#mastertimer-wrapper').hover(function () {\r\n                    if (!jQuery(this).hasClass(\"overme\")) {\r\n                        jQuery(this).addClass(\"overme\");\r\n                        t.masterTimerPositionChange(true);\r\n                    }\r\n                }, function () {\r\n                    jQuery(this).removeClass(\"overme\");\r\n\r\n                })\r\n\r\n\r\n                // DRAG THE MASTER TIMER SHOULD ANIMATE THINGS IN POSITION\r\n                jQuery('#mastertimer-position').draggable({\r\n                    axis: \"x\",\r\n                    start: function (event, ui) {\r\n\r\n                        punchgs.TweenLite.set(document.getElementById('mastertimer-curtime'), {\r\n                            autoAlpha: 0,\r\n                            x: -3,\r\n                            y: -10\r\n                        });\r\n                        punchgs.TweenLite.set(document.getElementById('mastertimer-curtime-b'), {autoAlpha: 0});\r\n\r\n                        t.deactivatePerfectScrollBars();\r\n\r\n                    },\r\n                    drag: function (event, ui) {\r\n                        ui.position.left = Math.max(-15, ui.position.left);\r\n                        t.masterTimerPositionChange(false);\r\n                    },\r\n                    stop: function (event, ui) {\r\n                        punchgs.TweenLite.set(document.getElementById('mastertimer-curtime'), {\r\n                            autoAlpha: 1,\r\n                            x: -1,\r\n                            y: 0,\r\n                            ease: punchgs.Power2.easeInOut\r\n                        });\r\n                        punchgs.TweenLite.set(document.getElementById('mastertimer-curtime-b'), {autoAlpha: 1});\r\n                    }\r\n                });\r\n\r\n                // CLICK SOMEWHERE ON THE LINEAR\r\n                jQuery('#mastertimer-linear').click(function (e) {\r\n                    var lo = jQuery('#mastertimer-linear').offset().left,\r\n                        sl = jQuery('#master-rightheader').scrollLeft();\r\n\r\n                    jQuery('#mastertimer-position').css({left: (e.pageX - lo + sl) + \"px\"});\r\n                    t.masterTimerPositionChange();\r\n                })\r\n\r\n                jQuery('#mastertimer-maxtime').draggable({\r\n                    axis: \"x\",\r\n                    containment: \"#master-rightheader\",\r\n                    create: function (event, ui) {\r\n                        t.mainMaxTimeLeft = jQuery('#mastertimer-maxtime').position().left;\r\n                        document.getElementById('mastertimer-maxcurtime').innerHTML = t.convToTime(t.mainMaxTimeLeft);\r\n                        t.setIdleZones();\r\n                    },\r\n                    start: function (event, ui) {\r\n                        punchgs.TweenLite.set(document.getElementById('mastertimer-curtime'), {\r\n                            autoAlpha: 0,\r\n                            x: -3,\r\n                            y: -10\r\n                        });\r\n                        punchgs.TweenLite.set(document.getElementById('mastertimer-curtime-b'), {autoAlpha: 0});\r\n                        document.getElementById('mastertimer-maxcurtime').innerHTML = t.convToTime(t.mainMaxTimeLeft);\r\n                        t.setIdleZones();\r\n                        t.deactivatePerfectScrollBars();\r\n                    },\r\n                    drag: function (event, ui) {\r\n                        t.mainMaxTimeLeft = ui.position.left;\r\n                        document.getElementById('mastertimer-maxcurtime').innerHTML = t.convToTime(t.mainMaxTimeLeft);\r\n                        document.getElementById('delay').value = t.mainMaxTimeLeft * 10;\r\n                        t.setIdleZones();\r\n                        t.compareLayerEndsVSSlideEnd();\r\n                    },\r\n                    stop: function (event, ui) {\r\n                        punchgs.TweenLite.set(document.getElementById('mastertimer-curtime'), {\r\n                            autoAlpha: 1,\r\n                            x: -1,\r\n                            y: 0,\r\n                            ease: punchgs.Power2.easeInOut\r\n                        });\r\n                        punchgs.TweenLite.set(document.getElementById('mastertimer-curtime-b'), {autoAlpha: 1});\r\n                        t.mainMaxTimeLeft = ui.position.left;\r\n                        document.getElementById('mastertimer-maxcurtime').innerHTML = t.convToTime(t.mainMaxTimeLeft);\r\n                        document.getElementById('delay').value = t.mainMaxTimeLeft * 10;\r\n                        t.setIdleZones();\r\n                        g_slideTime = t.mainMaxTimeLeft * 10;\r\n                        u.setMaintime(g_slideTime);\r\n                        t.compareLayerEndsVSSlideEnd();\r\n                        t.rerenderAllAudioMap();\r\n                    }\r\n\r\n                });\r\n\r\n\r\n                __ctime = jQuery('#mastertimer-curtime');\r\n                __ctimeb = jQuery('#mastertimer-curtime-b');\r\n                __ctimei = jQuery('#mastertimer-curtimeinner');\r\n\r\n                function checklroffset() {\r\n                    __coffset = parseInt(jQuery('#layers-right').offset().left, 0);\r\n                }\r\n\r\n                jQuery(window).resize(function () {\r\n                    checklroffset();\r\n                });\r\n\r\n                checklroffset();\r\n                __ctime.data('offset', 0);\r\n\r\n                jQuery('.master-rightcell').on('mousemove', function (e) {\r\n\r\n                    var x = (e.pageX - __coffset) - jQuery(document.getElementById('master-rightheader')).data('left');\r\n                    if (__ctime.data('offset') == 0) {\r\n                        punchgs.TweenLite.set(__ctime, {left: x});\r\n                        punchgs.TweenLite.set(__ctimeb, {left: x + 15});\r\n                        __ctimei[0].innerHTML = t.convToTime(x - 10);\r\n                    }\r\n                });\r\n\r\n\r\n                // CLICK ON PLAY/PAUSE BUTTON SHOULD PLAY OR RESET THINGS\r\n                jQuery('#mastertimer-playpause-wrapper').click(function () {\r\n                    var mpw = jQuery(this);\r\n                    punchgs.TweenLite.to(jQuery('#mastertimer-poscurtime'), 0.3, {\r\n                        autoAlpha: 0,\r\n                        x: -3,\r\n                        y: -10,\r\n                        ease: punchgs.Power2.easeInOut\r\n                    });\r\n                    if (mpw.find('.eg-icon-pause').length > 0) {\r\n\r\n                        document.getElementById('mastertimer-playpause-wrapper').innerHTML = '<i class=\"eg-icon-play\"></i><span>PLAY</span>';\r\n                        t.stopAllLayerAnimation();\r\n                        var mp = jQuery('#mastertimer-position');\r\n                        if (mp.data('tl') != undefined) {\r\n                            mp.data('tl').kill();\r\n                        }\r\n                    } else {\r\n                        createGlobalTimeline(true);\r\n                        document.getElementById('mastertimer-playpause-wrapper').innerHTML = '<i class=\"eg-icon-pause\"></i><span>PAUSE</span>';\r\n                        jQuery('#mastertimer-position').addClass(\"inaction\");\r\n                        var mp = jQuery('#mastertimer-position'),\r\n                            mtl = mp.data('tl'),\r\n                            mst = jQuery('#divbgholder').data('slidetimeline'),\r\n                            tpos = (mp.position().left) / 100;\r\n\r\n                        mtl.play(tpos);\r\n                        mst.play(tpos);\r\n                        jQuery('#divbgholder').data('slidetimeline').play(tpos);\r\n                        mtl.eventCallback(\"onComplete\", function () {\r\n                            mtl.play(0);\r\n                            mst.play(0);\r\n                        });\r\n                        mtl.eventCallback(\"onUpdate\", function () {\r\n                            mp.css({left: ((mtl.time() * 100))});\r\n                            mp.trigger('poschanged');\r\n                        })\r\n                    }\r\n                })\r\n\r\n            }\r\n\r\n            t.setIdleZones = function () {\r\n                var el = document.getElementsByClassName('slide-idle-section');\r\n                for (var i = 0; i < el.length; i++) {\r\n                    el[i].style.left = (t.mainMaxTimeLeft + 15) + \"px\";\r\n                }\r\n            }\r\n\r\n            /**********************************\r\n             -    BUILD GLOBAL TIMELINE    -\r\n             ***********************************/\r\n            function createGlobalTimeline(firsttime, animsaregenerated) {\r\n\r\n                if (firsttime) t.stopAllLayerAnimation();\r\n                var mp = jQuery('#mastertimer-position');\r\n\r\n\r\n                if (mp.data('tl') != undefined) {\r\n                    mp.data('tl').kill();\r\n                }\r\n\r\n                var mtl = new punchgs.TimelineLite();\r\n                mtl.pause();\r\n\r\n                jQuery(' .slide_layer .innerslide_layer').each(function () {\r\n                    var nextcaption = jQuery(this);\r\n\r\n                    nextcaption.data('inanim', theLayerInAnimation(nextcaption));\r\n                    nextcaption.data('outanim', theLayerOutAnimation(nextcaption));\r\n                    var id = u.getSerialFromID(nextcaption.closest('.slide_layer').attr('id'));\r\n                    params = u.getLayer(id);\r\n\r\n                    mtl.add(nextcaption.data('inanim'), params.frames[\"frame_0\"].time / 1000);\r\n                    var endspeed = params.frames[\"frame_999\"].endspeed;\r\n                    if (endspeed == undefined) endspeed = params.frames[\"frame_0\"].speed;\r\n                    mtl.add(nextcaption.data('outanim'), (params.frames[\"frame_999\"].time / 1000));\r\n\r\n                });\r\n\r\n                mp.data('tl', mtl);\r\n            }\r\n\r\n            var setFakeAnim = function () {\r\n\r\n                var found = false,\r\n                    li = jQuery('.slide-trans-cur-ul li').first();\r\n\r\n                var comingtransition = li.data('animval'),\r\n                    comingtext = li.text();\r\n\r\n                if (comingtransition == \"random-selected\" || comingtransition == \"random\" || comingtransition == \"random-static\" || comingtransition == \"random-premium\") {\r\n                    comingtransition = \"fade\";\r\n                    comingtext = \"Fade\";\r\n                }\r\n\r\n\r\n                document.getElementById('fake-select-label').innerHTML = '\"' + comingtext + '\"';\r\n                jQuery('#fake-select-label').data('valu', comingtransition);\r\n\r\n                removeAllSlots();\r\n\r\n                slideAnimation();\r\n                found = true;\r\n\r\n                if (found) return false;\r\n            }\r\n            /**************************************\r\n             -    ADD SLIDE MAIN TO SORTBOX    -\r\n             **************************************/\r\n\r\n            t.setSlideTransitionTimerBar = function () {\r\n                var sist = document.getElementById('slide_in_sort_time'),\r\n                    speed = sist.getElementsByClassName('timeline_frame')[0],\r\n                    cont = sist.getElementsByClassName('timeline_full')[0],\r\n                    dur = document.getElementById('transition_duration') ? document.getElementById('transition_duration').value : 0,\r\n                    durcont = sist.getElementsByClassName('duration_cont')[0];\r\n\r\n                durcont.innerHTML = dur;\r\n                if (!jQuery.isNumeric(dur)) dur = 500;\r\n                punchgs.TweenLite.set(speed, {width: dur / 10});\r\n                punchgs.TweenLite.set(cont, {left: 15, width: t.mainMaxTimeLeft});\r\n\r\n            }\r\n\r\n            var addSlideToSortbox = function () {\r\n\r\n                t.setSlideTransitionTimerBar();\r\n\r\n                var sist = document.getElementById('slide_in_sort_time'),\r\n                    speed = sist.getElementsByClassName('timeline_frame')[0],\r\n                    durcont = sist.getElementsByClassName('duration_cont')[0];\r\n\r\n                jQuery(speed).resizable({\r\n                    minWidth: 0,\r\n                    handles: \"e\",\r\n                    start: function (event, ui) {\r\n\r\n                    },\r\n                    stop: function (event, ui) {\r\n                        document.getElementById('transition_duration').value = ui.size.width * 10;\r\n                        durcont.innerHTML = (ui.size.width * 10);\r\n                        jQuery('.slide-trans-cur-ul li.selected').data('duration', (ui.size.width * 10));\r\n                        t.resetSlideAnimations(true);\r\n                    },\r\n                    resize: function (event, ui) {\r\n                        document.getElementById('transition_duration').value = ui.size.width * 10;\r\n                        jQuery('.slide-trans-cur-ul li.selected').data('duration', (ui.size.width * 10));\r\n                        durcont.innerHTML = (ui.size.width * 10);\r\n                    }\r\n                });\r\n\r\n\r\n            }\r\n\r\n\r\n            //////////////////////////////////\r\n            //         SET AUDIO MAP             //\r\n            //////////////////////////////////\r\n\r\n            t.rerenderAllAudioMap = function () {\r\n                jQuery.each(u.arrLayers, function (i, objLayer) {\r\n                    if (objLayer.type == \"audio\") {\r\n                        t.drawAudioMap(objLayer);\r\n                    }\r\n                });\r\n            };\r\n\r\n\r\n            t.drawAudioMap = function (objLayer) {\r\n\r\n                var li = objLayer.references.sorttable.timeline;\r\n                if (li.data('lastaudio') == objLayer.video_data.urlAudio && li.data('audiobuffer') != undefined) {\r\n                    displayAudioBuffer(objLayer, li.data('audiobuffer'));\r\n                } else {\r\n                    loadMusicTimeLine(objLayer, objLayer.video_data.urlAudio);\r\n                }\r\n\r\n                li.data('lastaudio', objLayer.video_data.urlAudio);\r\n\r\n\r\n                if (!AudioContext) {\r\n                    console.log('Audio Map cannot be drawn  in your Browser. Try a recent Chrome or Firefox. ');\r\n                    return false;\r\n                }\r\n\r\n            }\r\n\r\n\r\n            // MUSIC LOADER + DECODE\r\n            function loadMusicTimeLine(objLayer, url) {\r\n                if (audioContext === null || !AudioContext) return false;\r\n                var req = new XMLHttpRequest(),\r\n                    li = objLayer.references.sorttable.timeline,\r\n                    currentBuffer = null;\r\n\r\n                req.open(\"GET\", url, true);\r\n                req.responseType = \"arraybuffer\";\r\n\r\n                req.onreadystatechange = function (e) {\r\n                    if (req.readyState == 4) {\r\n                        if (req.status == 200)\r\n                            audioContext.decodeAudioData(req.response,\r\n                                function (buffer) {\r\n                                    currentBuffer = buffer;\r\n                                    li.data('audiobuffer', buffer);\r\n                                    displayAudioBuffer(objLayer, buffer);\r\n                                }, onDecodeError);\r\n                        else\r\n                            console.log('error during the load.Wrong url or cross origin issue');\r\n                    }\r\n                };\r\n                req.send();\r\n            }\r\n\r\n            function onDecodeError() {\r\n                alert('error while decoding your Audio file.');\r\n            }\r\n\r\n            function getStartSec(st) {\r\n                return st == undefined ? -1 : st == \"\" ? -1 : st == \" \" ? -1 : jQuery.isNumeric(st) ? st : st.split(\":\").length > 1 ? parseInt(st.split(\":\")[0], 0) * 60 + parseInt(st.split(\":\")[1], 0) : st;\r\n            };\r\n\r\n            function displayAudioBuffer(objLayer, buff) {\r\n                try {\r\n                    var li = objLayer.references.sorttable.timeline,\r\n                        leftChannel = buff.getChannelData(0), // Float32Array describing left channel\r\n                        wr = li.find('.timeline_full'),\r\n                        canvasWidth = buff.duration * 100,\r\n                        canvasHeight = 19,\r\n                        shift = objLayer.video_data.start_at,\r\n                        s = getStartSec(objLayer.video_data.start_at),\r\n                        e = getStartSec(objLayer.video_data.end_at)\r\n\r\n                    s = s == -1 ? 0 : s;\r\n                    e = e == -1 ? 999999999 : e;\r\n                    s = s / 60;\r\n                    e = e / 60;\r\n                    e = e > buff.duration ? buff.duration : e;\r\n                    s = s * buff.sampleRate;\r\n                    e = e * buff.sampleRate;\r\n                    canvasWidth = ((e - s) / buff.sampleRate) * 100;\r\n                    li.find('canvas').remove();\r\n\r\n                    // CANVAS\r\n                    var newCanvas = document.createElement('canvas');\r\n                    newCanvas.width = ((t.mainMaxTimeLeft));\r\n                    newCanvas.height = canvasHeight;\r\n                    li.append('<div class=\"timeline_audio\"></div>');\r\n\r\n                    li.find('.timeline_audio').append(newCanvas);\r\n\r\n                    var jc = li.find('canvas');\r\n                    punchgs.TweenLite.set(jc, {zIndex: 2, top: 3, left: 0, position: \"absolute\"});\r\n\r\n                    var context = newCanvas.getContext('2d'),\r\n                        lineOpacity = canvasWidth / leftChannel.length;\r\n\r\n\r\n                    context.save();\r\n                    context.fillStyle = 'transparent';\r\n                    context.fillRect(0, 0, canvasWidth, canvasHeight);\r\n                    context.strokeStyle = '#333';\r\n                    context.translate(0, canvasHeight / 2);\r\n                    context.globalAlpha = 0.5; // lineOpacity ;\r\n\r\n                    var pl = 0,\r\n                        seglength = e - s;\r\n                    for (var i = 0; i < e - s; i = i + 200) {\r\n                        // on which line do we get ?\r\n                        var x = Math.floor(canvasWidth * i / seglength);\r\n                        var y = leftChannel[s + i] * canvasHeight;\r\n                        context.beginPath();\r\n                        context.moveTo(x, 0);\r\n                        context.lineTo(x + 1, y);\r\n                        context.stroke();\r\n                        pl++;\r\n                    }\r\n\r\n                    if (objLayer.video_data.videoloop != \"none\") {\r\n                        var imgdata = context.getImageData(0, 0, canvasWidth, canvasHeight),\r\n                            lmult = (((t.mainMaxTimeLeft)) / canvasWidth);\r\n                        for (var i = 0; i < lmult; i++) {\r\n                            context.putImageData(imgdata, i * canvasWidth, 0);\r\n                        }\r\n\r\n                    }\r\n\r\n                    context.restore();\r\n                    audio = jQuery(objLayer.references.sorttable.timeline[0]).find('.timeline_audio');\r\n                    if (audio !== undefined && audio.length > 0)\r\n                        punchgs.TweenLite.set(audio, {\r\n                            left: 15 + (objLayer.frames[\"frame_0\"].time / 10),\r\n                            width: ((objLayer.frames[\"frame_999\"].time - objLayer.frames[\"frame_0\"].time) + objLayer.frames[\"frame_999\"].split_extratime + objLayer.frames[\"frame_999\"].speed) / 10\r\n                        });\r\n                } catch (e) {\r\n                    console.log(\"Drawing of Audio Map failed !\")\r\n                }\r\n            }\r\n\r\n\r\n            /******************************\r\n             -    ADD LAYER TO SORTBOX    -\r\n             ********************************/\r\n            t.addToSortbox = function (serial, objLayer) {\r\n\r\n\r\n                if (document.getElementById('layers-right-ul').children.length === 1)\r\n                    addSlideToSortbox();\r\n\r\n                if (serial === undefined) return false;\r\n\r\n\r\n                var endslideclass = \"\",\r\n                    isVisible = t.isLayerVisible(objLayer.references.htmlLayer),\r\n                    classLI = \"\",\r\n                    classDrop = \"\",\r\n                    sortboxText = t.getSortboxText(objLayer.alias),\r\n                    depth = Number(objLayer.order) + 5,\r\n                    htmlSortbox = \"\",\r\n                    quicksb = \"\",\r\n                    visibleclass = \"in-on\",\r\n                    groupLink = objLayer.groupLink !== undefined ? objLayer.groupLink : 0;\r\n\r\n                switch (objLayer.type) {\r\n                    case \"group\":\r\n                        classLI = \" sortable_elements sortable_group\";\r\n                        classDrop = \" droppable_sortable_group\";\r\n                        break;\r\n                    case \"row\":\r\n                        classLI = \"  sortable_elements sortable_group sortable_row\";\r\n                        classDrop = \" droppable_sortable_row\";\r\n                        break;\r\n                    case \"column\":\r\n                        classLI = \" sortable_elements sortable_column\";\r\n                        classDrop = \" droppable_sortable_column\";\r\n                        break;\r\n                    default:\r\n                        classLI = \" sortable_elements sortable_layers\";\r\n                        break;\r\n                }\r\n\r\n                if (objLayer.deleted) classLI = classLI + \" layer-deleted\";\r\n\r\n                htmlSortbox += '<li data-uniqueid=\"' + objLayer.unique_id + '\" id=\"layer_sort_' + serial + '\" data-type=\"' + objLayer.type + '\" class=\"mastertimer-layer ui-state-default' + classLI + '\" data-grouptype=\"' + objLayer.grouptype + '\" data-pid=\"' + objLayer.p_uid + '\">';\r\n\r\n                htmlSortbox += '    <div class=\"layer_sort_inner_wrapper ' + classDrop + '\">';\r\n\r\n\r\n                htmlSortbox += '        <span class=\"mastertimer-timeline-selector-row tipsy_enabled_top\" title=\"Select Layer in Timeline\">';\r\n                htmlSortbox += '            <input data-uniqueid=\"' + objLayer.unique_id + '\"  id=\"lots_id_' + objLayer.unique_id + '\" class=\"layer-on-timeline-selector\" style=\"margin:0px\" type=\"checkbox\"/>';\r\n                htmlSortbox += '        </span>';\r\n                htmlSortbox += '        <span data-uniqueid=\"' + objLayer.unique_id + '\" class=\"list-of-layer-links tipsy_enabled_top\" title=\"Choose Layers Group Link\">';\r\n                htmlSortbox += '            <span class=\"layer-link-type-element layer-link-type-element-cs layer-link-type-' + groupLink + '\"></span>';\r\n                htmlSortbox += '            <span class=\"list-of-layer-links-inner\">';\r\n                htmlSortbox += '                <span data-linktype=\"1\" class=\"layer-link-type-element layer-link-type-1\"></span>';\r\n                htmlSortbox += '                <span data-linktype=\"2\" class=\"layer-link-type-element layer-link-type-2\"></span>';\r\n                htmlSortbox += '                <span data-linktype=\"3\" class=\"layer-link-type-element layer-link-type-3\"></span>';\r\n                htmlSortbox += '                <span data-linktype=\"4\" class=\"layer-link-type-element layer-link-type-4\"></span>';\r\n                htmlSortbox += '                <span data-linktype=\"5\" class=\"layer-link-type-element layer-link-type-5\"></span>';\r\n                htmlSortbox += '                <span data-linktype=\"0\" class=\"layer-link-type-element layer-link-type-0\"></span>';\r\n                htmlSortbox += '            </span>';\r\n                htmlSortbox += '        </span>';\r\n                if (objLayer.type != \"column\") {\r\n\r\n                    if (objLayer.type !== \"row\") {\r\n                        htmlSortbox += '        <span  class=\"mastertimer-timeline-zindex-row tipsy_enabled_top\" title=\"z-Index\">';\r\n                        htmlSortbox += '\t\t\t<i style=\"margin-left:15px;margin-right:0px;\" class=\"layersortclass eg-icon-sort\"></i>';\r\n                        htmlSortbox += '\t\t\t<span class=\"sortbox_depth\" title=\"z-Index\">' + depth + '</span>';\r\n                        htmlSortbox += '\t\t</span>';\r\n                    } else {\r\n                        htmlSortbox += '    <span  class=\"mastertimer-timeline-zindex-row tipsy_enabled_top\" style=\"cursor:default !important\" title=\"z-Index\"></span>';\r\n                    }\r\n\r\n                } else {\r\n                    htmlSortbox += '     <span class=\"column_sort_row_spacer\"></span>';\r\n                }\r\n                htmlSortbox += '        <span class=\"mastertimer-timeline-tillendcontainer\" style=\"\">';\r\n                htmlSortbox += '            <span data-uniqueid=\"' + objLayer.unique_id + '\" data-serial=\"' + serial + '\" class=\"till_slideend tipsy_enabled_top ' + endslideclass + '\" title=\"Wait till Slides End / Custom End\"><i class=\"eg-icon-back-in-time\"></i><i class=\"eg-icon-download-2\"></i></span>';\r\n                htmlSortbox += '\t\t</span>';\r\n                htmlSortbox += '\t\t<span class=\"sort-hover-part layer_sort_layer_text_field\">';\r\n                htmlSortbox += '\t\t\t<span class=\"sortbox_text\"><i class=\"layertypeclass ';\r\n\r\n\r\n                switch (objLayer.type) {\r\n                    case \"group\":\r\n                        htmlSortbox += 'fa-icon-object-group';\r\n                        break;\r\n                    case \"row\":\r\n                        htmlSortbox += 'rs-icon-layergroup';\r\n                        break;\r\n\r\n                    case \"column\":\r\n                        htmlSortbox += 'rs-icon-layercolumns';\r\n                        break;\r\n                    case \"text\":\r\n                        htmlSortbox += 'rs-icon-layerfont';\r\n\r\n                        break;\r\n                    case \"image\":\r\n                        htmlSortbox += 'rs-icon-layerimage';\r\n\r\n                        break;\r\n                    case \"video\":\r\n                        htmlSortbox += 'rs-icon-layervideo';\r\n                        break;\r\n\r\n                    case \"audio\":\r\n                        htmlSortbox += 'rs-icon-layeraudio';\r\n                        break;\r\n\r\n                    case \"button\":\r\n                        htmlSortbox += 'rs-icon-layerbutton';\r\n                        break;\r\n\r\n                    case \"shape\":\r\n                        htmlSortbox += 'rs-icon-layershape';\r\n                        break;\r\n\r\n                    case \"svg\":\r\n                        htmlSortbox += 'rs-icon-layersvg';\r\n                        break;\r\n                }\r\n\r\n                htmlSortbox += '\"></i>';\r\n\r\n                htmlSortbox += '\t\t\t\t<input class=\"timer-layer-text\" style=\"margin-top:-1px !important\" type=\"text\" enabled value=\"' + sortboxText + '\">';\r\n\r\n                htmlSortbox += '\t\t\t</span>';\r\n                htmlSortbox += '\t\t</span>';\r\n                if (objLayer.type == \"group\" || objLayer.type == \"row\" || objLayer.type == \"column\")\r\n                    htmlSortbox += '        <span class=\"sort_group_collapser\"><i class=\"eg-icon-down-dir\"></i><i class=\"eg-icon-right-dir\"></i></span>'\r\n\r\n                if (objLayer.type != \"column\")\r\n                    htmlSortbox += '\t\t<span class=\"timer-manual-edit\"><i class=\"eg-icon-pencil\"></i></span>'\r\n                htmlSortbox += '\t</div>';\r\n\r\n                if (objLayer.type == \"group\" || objLayer.type == \"row\")\r\n                    htmlSortbox += '<ul id=\"sortable_group_' + objLayer.unique_id + '\" class=\"sortable_groups_wrap sgw_def\"></ul>';\r\n                if (objLayer.type == \"column\")\r\n                    htmlSortbox += '<ul id=\"sortable_columns_' + objLayer.unique_id + '\" class=\"sortable_layers_in_columns sgw_def\"></ul>';\r\n                htmlSortbox += '</li>';\r\n\r\n                var quickClassE = \"\";\r\n                if (objLayer.p_uid != undefined && objLayer.p_uid !== -1 && objLayer.type !== \"row\" && objLayer.type !== \"group\") quickClassE = \" quick_in_group\";\r\n                if (objLayer.type === \"row\") quickClassE += \" quick_in_row\"\r\n\r\n                quicksb += '<li id=\"layer_quicksort_' + serial + '\" data-serial=\"' + serial + '\" class=\"quicksortlayer ui-state-default layer-toolbar-li' + quickClassE + '\">';\r\n                var btlist = '<span class=\"quick-edit-toolbar-in-list\">';\r\n\r\n                switch (objLayer.type) {\r\n                    case \"text\":\r\n                        quicksb += '<span class=\"layer-short-tool revdarkgray layer-title-with-icon\"><i class=\"rs-icon-layerfont_n\"></i>';\r\n                        btlist += '<span id=\"button_edit_layer_' + serial + '\" class=\"button_edit_layer layer-short-tool revblue\"><i class=\"eg-icon-pencil\"></i></span>';\r\n                        btlist += '<span id=\"button_reset_size_' + serial + '\" class=\"button_reset_size layer-short-tool revblue\"><i class=\"eg-icon-resize-normal\"></i></span>';\r\n                        break;\r\n                    case \"group\":\r\n                        quicksb += '<span class=\"layer-short-tool revdarkgray layer-title-with-icon\"><i class=\"fa-icon-object-group\"></i>';\r\n                        btlist += '<span  class=\"layer-short-tool revdarkgray\"></span>';\r\n                        btlist += '<span  class=\"layer-short-tool revdarkgray\"></span>';\r\n                        break;\r\n                    case \"row\":\r\n                        quicksb += '<span class=\"layer-short-tool revdarkgray layer-title-with-icon\"><i class=\"rs-icon-layergroup_n\"></i>';\r\n                        btlist += '<span  class=\"layer-short-tool revdarkgray\"></span>';\r\n                        btlist += '<span  class=\"layer-short-tool revdarkgray\"></span>';\r\n                        break;\r\n                    case \"column\":\r\n                        quicksb += '<span class=\"layer-short-tool revdarkgray layer-title-with-icon\"><i class=\"rs-icon-layercolumns_n\"></i>';\r\n                        btlist += '<span  class=\"layer-short-tool revdarkgray\"></span>';\r\n                        btlist += '<span  class=\"layer-short-tool revdarkgray\"></span>';\r\n                        btlist += '<span  class=\"layer-short-tool revdarkgray\"></span>';\r\n                        btlist += '<span  class=\"layer-short-tool revdarkgray\"></span>';\r\n                        break;\r\n                    case \"shape\":\r\n                        quicksb += '<span class=\"layer-short-tool revdarkgray layer-title-with-icon\"><i class=\"rs-icon-layershape_n\"></i>';\r\n                        btlist += '<span id=\"button_edit_shape_' + serial + '\" class=\"button_edit_shape layer-short-tool revblue\"><i class=\"eg-icon-pencil\"></i></span>';\r\n                        btlist += '<span  class=\"layer-short-tool revdarkgray\"></span>';\r\n                        break;\r\n                    case \"button\":\r\n                        quicksb += '<span class=\"layer-short-tool revdarkgray layer-title-with-icon\"><i class=\"rs-icon-layerbutton_n\"></i>';\r\n                        btlist += '<span id=\"button_edit_layer_' + serial + '\" class=\"button_edit_layer layer-short-tool revblue\"><i class=\"eg-icon-pencil\"></i></span>';\r\n                        btlist += '<span id=\"button_reset_size_' + serial + '\" class=\"button_reset_size layer-short-tool revblue\"><i class=\"eg-icon-resize-normal\"></i></span>';\r\n                        break;\r\n                    case \"image\":\r\n                        quicksb += '<span class=\"layer-short-tool revdarkgray layer-title-with-icon\"><i class=\"rs-icon-layerimage_n\"></i>';\r\n                        btlist += '<span  id=\"button_change_image_source_' + serial + '\" class=\"button_change_image_source layer-short-tool revblue\"><i class=\"eg-icon-pencil\"></i></span>';\r\n                        btlist += '<span id=\"button_reset_size_' + serial + '\" class=\"button_reset_size layer-short-tool revblue\"><i class=\"eg-icon-resize-normal\"></i></span>';\r\n                        break;\r\n                    case \"video\":\r\n                        quicksb += '<span class=\"layer-short-tool revdarkgray layer-title-with-icon\"><i class=\"rs-icon-layervideo_n\"></i>';\r\n                        btlist += '<span  id=\"button_change_video_settings_' + serial + '\" class=\"button_change_video_settings layer-short-tool revblue\"><i class=\"eg-icon-pencil\"></i></span>';\r\n                        btlist += '<span  class=\"layer-short-tool revdarkgray\"></span>';\r\n                        break;\r\n                    case \"audio\":\r\n                        quicksb += '<span class=\"layer-short-tool revdarkgray layer-title-with-icon\"><i class=\"rs-icon-layeraudio_n\"></i>';\r\n                        btlist += '<span  id=\"button_changeaudio_settings_' + serial + '\" class=\"button_change_audio_settings layer-short-tool revblue\"><i class=\"eg-icon-pencil\"></i></span>';\r\n                        btlist += '<span  class=\"layer-short-tool revdarkgray\"></span>';\r\n                        classLI = \" layer-sort-audio-item\"\r\n                        break;\r\n                    case \"svg\":\r\n                        quicksb += '<span class=\"layer-short-tool revdarkgray layer-title-with-icon\"><i class=\"rs-icon-layersvg_n\"></i>';\r\n                        btlist += '<span  id=\"button_changesvg_settings_' + serial + '\" class=\"button_change_svg_settings layer-short-tool revblue\"><i class=\"eg-icon-pencil\"></i></span>';\r\n                        btlist += '<span  class=\"layer-short-tool revdarkgray\"></span>';\r\n                        break;\r\n                }\r\n\r\n                quicksb += '<input type=\"text\" class=\"layer-title-in-list\" value=\"' + sortboxText + '\"></span>';\r\n                quicksb += btlist;\r\n                if (objLayer.type !== \"column\") {\r\n                    quicksb += '<span id=\"button_delete_layer_' + serial + '\" class=\"button_delete_layer layer-short-tool revred\"><i class=\"rs-lighttrash\"></i></span>';\r\n                    quicksb += '<span id=\"button_duplicate_layer_' + serial + '\" class=\"button_duplicate_layer layer-short-tool revyellow\" data-isstatic=\"\"><i class=\"rs-lightcopy\"></i></span>';\r\n                }\r\n                quicksb += '<span style=\"display:block;float:none;clear:both\"></span></span>';\r\n                quicksb += '<span class=\"quick-layer-view layer-short-tool revdarkgray ' + visibleclass + '\"><i class=\"eg-icon-eye\"></i></span>';\r\n                quicksb += '<span class=\"quick-layer-lock layer-short-tool revdarkgray\"><i class=\"eg-icon-lock-open\"></i></span>';\r\n                quicksb += '<div style=\"clear:both;display:block\"></div>';\r\n                quicksb += '</li>';\r\n\r\n\r\n                if (document.getElementById('quick-layers-list-id').childNodes.length > 1) document.getElementById('nolayersavailable').style.display = 'none';\r\n\r\n                var htmlTimeline = \"\",\r\n                    grouptypeclass = objLayer.grouptype === \"logical_o\" ? \" hide_timeline\" : \"\";\r\n                htmlTimeline += '<li data-uniqueid=\"' + objLayer.unique_id + '\" data-serial=\"' + serial + '\" id=\"layer_sort_time_' + serial + '\" class=\"sortable_elements mastertimer-layer ui-state-default' + classLI + grouptypeclass + '\" data-grouptype=\"' + objLayer.grouptype + '\" data-pid=\"' + objLayer.p_uid + '\">';\r\n                htmlTimeline += '        <div class=\"timeline_full\"></div>';\r\n                htmlTimeline += '  <div class=\"timeline\">';\r\n                htmlTimeline += '      <div class=\"timeline-relative-marker trm-groupandrowmarker\"></div>';\r\n\r\n                htmlTimeline += '        <div data-frameindex=\"0\" id=\"tl_' + objLayer.unique_id + '_frame_0\" class=\"timeline_frame tf_startframe tl_layer_frame\" data-uniqueid=\"' + objLayer.unique_id + '\" data-serial=\"' + serial + '\" style=\"z-index:50;\">';\r\n                htmlTimeline += '             <span class=\"timebefore_cont\"></span>';\r\n                htmlTimeline += '            <div class=\"tl_speed_wrapper\">';\r\n                htmlTimeline += '                <div class=\"tlf_speed\"><span class=\"duration_cont\"></span></div>';\r\n                htmlTimeline += '                <div class=\"tlf_splitdelay\"></div>';\r\n                htmlTimeline += '            </div>';\r\n                htmlTimeline += '            <span class=\"show_timeline_helper\">EDIT</span>';\r\n                htmlTimeline += '        </div>';\r\n                htmlTimeline += '        <div data-frameindex=\"999\" id=\"tl_' + objLayer.unique_id + '_frame_999\" class=\"timeline_frame tf_endframe tl_layer_frame\" data-uniqueid=\"' + objLayer.unique_id + '\" data-serial=\"' + serial + '\" style=\"z-index:48;\">';\r\n                htmlTimeline += '             <span class=\"timebefore_cont\"></span>';\r\n                htmlTimeline += '            <div class=\"tl_speed_wrapper\">';\r\n                htmlTimeline += '                <div class=\"tlf_speed\"><span class=\"duration_cont\"></span></div>';\r\n                htmlTimeline += '                <div class=\"tlf_splitdelay\"></div>';\r\n                htmlTimeline += '            </div>';\r\n                htmlTimeline += '            <span class=\"show_timeline_helper\">EDIT</span>';\r\n                htmlTimeline += '        </div>';\r\n                htmlTimeline += ' </div>';\r\n                htmlTimeline += ' <div class=\"slide-idle-section\"></div>';\r\n                htmlTimeline += '</li>';\r\n\r\n                var inserttoend = true;\r\n                if (objLayer.type === \"row\" && document.getElementById('layers-left-ul').getElementsByClassName('sortable_row').length > 0) {\r\n                    inserttoend = false;\r\n                    document.getElementById('layers-left-ul').getElementsByClassName('sortable_row')[0].insertAdjacentHTML('afterend', htmlSortbox);\r\n                    document.getElementById('quick-layers-list-id').getElementsByClassName('quick_in_row')[0].insertAdjacentHTML('afterend', quicksb);\r\n                    document.getElementById('layers-right-ul').getElementsByClassName('sortable_row')[0].insertAdjacentHTML('afterend', htmlTimeline);\r\n                }\r\n\r\n                if (inserttoend) {\r\n                    document.getElementById('layers-left-ul').insertAdjacentHTML('beforeend', htmlSortbox);\r\n                    document.getElementById('quick-layers-list-id').insertAdjacentHTML('beforeend', quicksb);\r\n                    document.getElementById('layers-right-ul').insertAdjacentHTML('beforeend', htmlTimeline);\r\n                }\r\n\r\n\r\n                jQuery('#layer_quicksort_' + serial).on('mouseenter', function (event) {\r\n                    jQuery('.layer_due_list_element_selected').removeClass('layer_due_list_element_selected');\r\n                    jQuery('#slide_layer_' + jQuery(this).data('serial')).addClass(\"layer_due_list_element_selected\");\r\n                });\r\n\r\n                jQuery('#layer_quicksort_' + serial).on('mouseleave', function (event) {\r\n                    jQuery('.layer_due_list_element_selected').removeClass('layer_due_list_element_selected');\r\n                });\r\n\r\n                jQuery(\"#layers-left .tipsy_enabled_top\").tipsy({\r\n                    gravity: \"s\",\r\n                    delayIn: 70\r\n                });\r\n\r\n\r\n                reinitSortBox();\r\n\r\n\r\n                var liel = document.getElementById('layer_sort_time_' + serial),\r\n                    li = jQuery(liel),\r\n                    curel = liel.getElementsByClassName(\"timeline\")[0],\r\n                    cur = jQuery(curel);\r\n\r\n\r\n                objLayer.references.sorttable = objLayer.references.sorttable === undefined ? {} : objLayer.references.sorttable;\r\n                objLayer.references.sorttable.layer = jQuery(document.getElementById('layer_sort_' + serial));\r\n                objLayer.references.sorttable.timeline = li;\r\n                objLayer.references.quicklayer = jQuery(document.getElementById('layer_quicksort_' + serial));\r\n\r\n\r\n                if (objLayer.type == \"audio\") {\r\n                    li.data('objref', objLayer);\r\n\r\n                    t.drawAudioMap(objLayer);\r\n                    li.on('mousemove', function (e) {\r\n                        try {\r\n                            var li = jQuery(this),\r\n                                objLayer = li.data('objref'),\r\n                                serial = li.data('serial'),\r\n                                player = jQuery('#slide_layer_' + serial + \" audio\")[0];\r\n                            if (!li.hasClass(\"ui-state-hover\")) return false;\r\n\r\n                            clearTimeout(li.data('audiopreview'));\r\n                            li.find('.audio-progress').remove();\r\n                            player.pause();\r\n\r\n\r\n                            li.data('audiopreview', setTimeout(function () {\r\n\r\n                                var tf = li.find('.timeline_full'),\r\n                                    dl = tf.position().left,\r\n                                    dw = tf.width(),\r\n                                    mousex = (e.pageX - li.offset().left),\r\n                                    time = mousex - dl;\r\n\r\n                                if (mousex < dl || mousex > (dl + dw)) return;\r\n\r\n\r\n                                li.find('.audio-progress').remove();\r\n                                li.append('<div class=\"audio-progress\"></div>');\r\n                                var ap = li.find('.audio-progress'),\r\n                                    _s = getStartSec(objLayer.video_data.start_at),\r\n                                    _e = getStartSec(objLayer.video_data.end_at);\r\n\r\n                                _s = _s == -1 ? 0 : _s;\r\n                                _e = _e == -1 ? 999999999 : _e;\r\n                                _s = _s / 60;\r\n                                _e = _e / 60;\r\n                                _e = _e > player.duration ? player.duration : _e;\r\n\r\n                                var segment = _e - _s,\r\n                                    shift = Math.floor((time / (segment * 100)));\r\n\r\n\r\n                                if (time > segment * 100)\r\n                                    time = time - ((segment * 100) * shift);\r\n\r\n\r\n                                if (time > 0) {\r\n                                    restw = (segment - time / 100) * 100;\r\n                                    punchgs.TweenLite.fromTo(ap, (segment - time / 100), {\r\n                                        left: (dl + time + (shift * (segment * 100))),\r\n                                        transformOrigin: \"0% 50%\",\r\n                                        width: restw,\r\n                                        scaleX: 0\r\n                                    }, {\r\n                                        scale: 1, ease: punchgs.Linear.easeNone, onUpdate: function () {\r\n                                        }, onComplete: function () {\r\n                                            player.pause();\r\n                                        }\r\n                                    });\r\n                                }\r\n                                if (time > 0) {\r\n                                    player.play();\r\n                                    player.currentTime = time / 100;\r\n                                }\r\n                            }, 400));\r\n                        } catch (er) {\r\n\r\n                        }\r\n                    });\r\n\r\n                    li.on('mouseleave', function (e) {\r\n                        try {\r\n                            var li = jQuery(this),\r\n                                serial = li.data('serial'),\r\n                                player = jQuery('#slide_layer_' + serial + \" audio\")[0];\r\n                            clearTimeout(li.data('audiopreview'));\r\n                            li.find('.audio-progress').remove();\r\n                            player.pause();\r\n                        } catch (er) {\r\n                        }\r\n                    });\r\n                }\r\n\r\n                var el = liel.getElementsByClassName('timeline_frame');\r\n                for (var i = 0; i < el.length; i++) {\r\n                    jQuery(el[i]).resizable({\r\n                        handles: 'e,w',\r\n                        minWidth: 1,\r\n                        create: function (event, ui) {\r\n                            var a = this;\r\n                            t.setTLFrame(a);\r\n                            setTimeout(function () {\r\n                                t.frameLimitations(a);\r\n                            }, 25);\r\n                        },\r\n                        start: function (event, ui) {\r\n                            t.deactivatePerfectScrollBars();\r\n                            t.updateTLFrame(this, \"trigger\", undefined, ui.size.width);\r\n\r\n                        },\r\n                        resize: function (event, ui) {\r\n                            t.updateTLFrame(this, \"trigger\", undefined, ui.size.width);\r\n                        },\r\n                        stop: function (event, ui) {\r\n                            t.updateTLFrame(this, \"trigger\");\r\n                        }\r\n                    });\r\n\r\n                    jQuery(el[i]).draggable({\r\n                        axis: \"x\",\r\n                        start: function (event, ui) {\r\n                            t.recordFrameStatus(this, ui);\r\n                        },\r\n                        drag: function (event, ui) {\r\n                            t.frameLimitations(this, ui);\r\n                            t.updateTLFrame(this, \"trigger\");\r\n                            t.updateAllSelectedLayerTimeline(this);\r\n                        },\r\n                        stop: function (event, ui) {\r\n                            t.frameLimitations(this, ui);\r\n                            t.updateTLFrame(this, \"trigger\");\r\n                            t.updateAllSelectedLayerTimeline(this);\r\n                        }\r\n                    });\r\n                }\r\n                t.resetTimeLineHeight();\r\n                t.setIdleZones();\r\n            }\r\n\r\n            /**\r\n             Deactivate the Perfect Scroll bars for a while, since elements just simple slow down\r\n             */\r\n            t.deactivatePerfectScrollBars = function () {\r\n                jQuery('.revolution-template-groups').perfectScrollbar(\"destroy\");\r\n            }\r\n\r\n            t.activatePerfectScrollBars = function () {\r\n                jQuery('.revolution-template-groups').perfectScrollbar();\r\n            }\r\n\r\n            /**\r\n             check if the Layer should go till Slide End, or should animate our before.\r\n             if objLayer.endWithSlide == true -> the Layer should not get any \"data-end\" output !!\r\n             */\r\n            var checkTillSlideEnd = function (objLayer) {\r\n\r\n                var maxtime = ((t.mainMaxTimeLeft)) * 10,\r\n                    li = document.getElementById('layer_sort_' + objLayer.serial);\r\n\r\n                if (objLayer.frames[\"frame_999\"].time >= maxtime) {\r\n                    objLayer.endWithSlide = true;\r\n                    if (!li.classList.contains(\"tillendon\"))\r\n                        li.className += \" tillendon\";\r\n                } else {\r\n                    objLayer.endWithSlide = false;\r\n                    jQuery(li).removeClass(\"tillendon\");\r\n                }\r\n            }\r\n\r\n            t.setTLFrame = function (frame) {\r\n                var speedcont = frame.getElementsByClassName('tlf_speed')[0],\r\n                    splitcont = frame.getElementsByClassName('tlf_splitdelay')[0],\r\n                    durcont = frame.getElementsByClassName('duration_cont')[0],\r\n                    timecont = frame.getElementsByClassName('timebefore_cont')[0],\r\n                    trm = frame.parentNode.parentNode.getElementsByClassName('timeline-relative-marker')[0],\r\n                    frame = jQuery(frame),\r\n                    objLayer = u.getLayerByUniqueId(frame.data('uniqueid')),\r\n                    triggered = u.checkLayerTriggered(objLayer),\r\n                    frameslength = u.getObjectLength(objLayer.frames);\r\n\r\n                objLayer.frames[\"frame_0\"].time = Math.max(0, objLayer.frames[\"frame_0\"].time);\r\n                objLayer.frames[\"frame_999\"].time = Math.min(t.mainMaxTimeLeft * 10, objLayer.frames[\"frame_999\"].time);\r\n\r\n\r\n                var fi = frame.data('frameindex'),\r\n                    speed = objLayer.frames[\"frame_\" + fi].speed,\r\n                    time = objLayer.frames[\"frame_\" + fi].time,\r\n                    splitdelay = getSplitCounts(objLayer.text, objLayer.frames[\"frame_\" + fi].split, objLayer.frames[\"frame_\" + fi].splitdelay),\r\n                    timedif = time;\r\n\r\n\r\n                objLayer.frames[\"frame_\" + fi].split_extratime = splitdelay;\r\n\r\n                if (splitdelay !== 0) {\r\n                    punchgs.TweenLite.set(speedcont, {width: (speed / 10) - splitdelay});\r\n                    punchgs.TweenLite.set(splitcont, {width: splitdelay});\r\n                } else {\r\n                    punchgs.TweenLite.set(speedcont, {width: speed / 10});\r\n                    punchgs.TweenLite.set(splitcont,{width:0});\r\n                }\r\n\r\n                punchgs.TweenLite.set(frame, {left: time / 10, width: (splitdelay + (speed / 10))});\r\n                durcont.innerHTML = speed;\r\n\r\n\r\n                if (objLayer.p_uid!==undefined && objLayer.p_uid!==-1 && u.getLayerByUniqueId(objLayer.p_uid) !==undefined && (typeof u.getLayerByUniqueId(objLayer.p_uid)==='object')) {\r\n                    var p_objLayer = u.getLayerByUniqueId(objLayer.p_uid);\r\n                    trm.style.display = \"block\";\r\n                    trm.style.width = ((p_objLayer.frames[\"frame_0\"].time / 10) - 1) + \"px\";\r\n                    timedif = time - p_objLayer.frames[\"frame_0\"].time;\r\n                } else {\r\n                    trm.style.display = \"none\";\r\n                    trm.style.width = \"0px\";\r\n                    if (fi !== 0) {\r\n                        var prevframe = fi === 999 ? objLayer.frames[\"frame_\" + (frameslength - 2)] : objLayer.frames[\"frame_\" + (fi - 1)];\r\n                        if (prevframe !== undefined)\r\n                            timedif = time - (prevframe.time + prevframe.speed + (prevframe.split_extratime * 10));\r\n                    }\r\n                }\r\n\r\n                if (time == t.mainMaxTimeLeft * 10)\r\n                    timecont.innerHTML = '<span class=\"wait_slide_end\">WAIT</span>';\r\n\r\n\r\n                objLayer.frames[\"frame_\" + fi].time_relative = timedif;\r\n\r\n                if (fi == 0 && triggered.in) timecont.innerHTML = '<span class=\"triggered_layer_on_timeline\">a</span>';\r\n                if (fi == 999 && triggered.out) timecont.innerHTML = '<span class=\"triggered_layer_on_timeline\">a</span>';\r\n                t.updateFullTime(objLayer);\r\n                checkTillSlideEnd(objLayer);\r\n\r\n            }\r\n\r\n            t.updateTLFrame = function (frame, source, ignorerecursive, resizewidth) {\r\n                if (t.recordFrameStatusForce)\r\n                    t.recordFrameStatus(frame);\r\n\r\n                var curserial = u.getCurrentLayer().serial,\r\n                    speedcont = frame.getElementsByClassName('tlf_speed')[0],\r\n                    splitcont = frame.getElementsByClassName('tlf_splitdelay')[0],\r\n                    durcont = frame.getElementsByClassName('duration_cont')[0],\r\n                    timecont = frame.getElementsByClassName('timebefore_cont')[0],\r\n                    trm = frame.parentNode.parentNode.getElementsByClassName('timeline-relative-marker')[0],\r\n                    frame = jQuery(frame),\r\n                    objLayer = u.getLayerByUniqueId(frame.data('uniqueid')),\r\n                    objUpdate = {frames: {}},\r\n                    frameslength = u.getObjectLength(objLayer.frames),\r\n                    triggered = u.checkLayerTriggered(objLayer);\r\n                fi = frame.data('frameindex'),\r\n                    speed = frame.outerWidth() * 10,\r\n                    time = frame.position().left * 10,\r\n                    splitdelay = getSplitCounts(objLayer.text, objLayer.frames[\"frame_\" + fi].split, objLayer.frames[\"frame_\" + fi].splitdelay),\r\n                    currentframe = objLayer.frames[\"frame_\" + fi],\r\n                    updateTimerText = true,\r\n                    timedif = time;\r\n\r\n                objUpdate.frames[\"frame_\" + fi] = {};\r\n\r\n                if ((speed - (splitdelay * 10)) < 0) {\r\n                    speed = splitdelay * 10;\r\n                    punchgs.TweenLite.set(frame, {width: (splitdelay)});\r\n                }\r\n\r\n                if (splitdelay !== 0) {\r\n                    punchgs.TweenLite.set(speedcont, {width: (speed / 10) - splitdelay});\r\n                    punchgs.TweenLite.set(splitcont, {width: splitdelay});\r\n                } else {\r\n                    punchgs.TweenLite.set(speedcont, {width: speed / 10});\r\n                }\r\n\r\n                durcont.innerHTML = speed;\r\n\r\n\r\n                if ((time == t.mainMaxTimeLeft * 10) || (fi == 0 && triggered.in) || (fi == 999 && triggered.out))\r\n                    updateTimerText = false;\r\n\r\n                // CALCULATE THE DELAYS BETWEEN FRAMES OR PARRENT ELEMENTS\r\n                if (objLayer.p_uid!==undefined && objLayer.p_uid!==-1 && u.getLayerByUniqueId(objLayer.p_uid) !==undefined && (typeof u.getLayerByUniqueId(objLayer.p_uid)==='object')) {\r\n\r\n                    var p_objLayer = u.getLayerByUniqueId(objLayer.p_uid);\r\n                    timedif = time - p_objLayer.frames[\"frame_0\"].time;\r\n                    trm.style.display = \"block\";\r\n                } else {\r\n\r\n                    trm.style.display = \"none\";\r\n                    trm.style.width = \"0px\";\r\n                    if (fi !== 0) {\r\n                        var prevframe = fi === 999 ? objLayer.frames[\"frame_\" + (frameslength - 2)] : objLayer.frames[\"frame_\" + (fi - 1)];\r\n                        if (prevframe)\r\n                            timedif = time - (prevframe.time + prevframe.speed + (prevframe.split_extratime * 10));\r\n                    }\r\n                }\r\n\r\n                // SET TO \"WAIT\" IF ELEMENT IS BIGGER THAN SLIDE LENGTH\r\n                if (time == t.mainMaxTimeLeft * 10) timecont.innerHTML = '<span class=\"wait_slide_end\">WAIT</span>';\r\n                // DRAW AN \"A\" IF LAYER ACTION TRIGGERED\r\n                if (fi == 0 && triggered.in) timecont.innerHTML = '<span class=\"triggered_layer_on_timeline\">a</span>';\r\n                if (fi == 999 && triggered.out) timecont.innerHTML = '<span class=\"triggered_layer_on_timeline\">a</span>';\r\n\r\n                currentframe.time_relative = timedif;\r\n                objUpdate.frames[\"frame_\" + fi].speed = speed - (splitdelay * 10);\r\n                objUpdate.frames[\"frame_\" + fi].time = time;\r\n                objUpdate.frames[\"frame_\" + fi].time_relative = timedif;\r\n                objUpdate.frames[\"frame_\" + fi].split_extratime = splitdelay;\r\n\r\n                if (objLayer.serial == curserial) {\r\n                    if (fi === 0)    document.getElementById('layer_speed').value = objUpdate.frames[\"frame_0\"].speed;\r\n                    if (fi === 999) document.getElementById('layer_endspeed').value = objUpdate.frames[\"frame_999\"].speed;\r\n                }\r\n                if (source !== \"trigger\") {\r\n                    currentframe.speed = objUpdate.frames[\"frame_\" + fi].speed;\r\n                    currentframe.time = objUpdate.frames[\"frame_\" + fi].time;\r\n                }\r\n\r\n                // MOVE ALL CHILDREN ELEMENTS TOGETHER WITH THE FIRST FRAME\r\n                if (fi === 0) {\r\n                    if (objLayer.type === \"row\" || objLayer.type === \"column\" || objLayer.type == \"group\") {\r\n                        var _list = u.getLayersInGroup(objLayer.unique_id);\r\n                        for (var i = 0; i < _list.columns.length; i++) {\r\n                            var l_tl = _list.columns[i].references.sorttable.timeline,\r\n                                trm = l_tl[0].getElementsByClassName('timeline-relative-marker')[0];\r\n                            trm.style.width = ((time / 10) - 1) + \"px\";\r\n                        }\r\n                        for (i = 0; i < _list.layers.length; i++) {\r\n                            var l_tl = _list.layers[i].references.sorttable.timeline,\r\n                                trm = l_tl[0].getElementsByClassName('timeline-relative-marker')[0];\r\n\r\n                            if (objLayer.type === \"row\") {\r\n                                var p_tl = document.getElementById(\"tl_\" + _list.layers[i].p_uid + \"_frame_0\");\r\n                                if (p_tl !== null && p_tl !== undefined) {\r\n                                    trm.style.width = p_tl.style.left;\r\n                                }\r\n                            } else {\r\n                                trm.style.width = ((time / 10) - 1) + \"px\";\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                // UPDATE DELAYS ON EACH FRAMES COMING AFTER THE CURRENT FRAME\r\n                if (fi !== 999) {\r\n                    var nfi = fi + 1 >= frameslength - 1 ? 999 : fi + 1,\r\n                        nextframe = objLayer.frames[\"frame_\" + nfi];\r\n                    if (nextframe != undefined) {\r\n                        nextframe.time_relative = nextframe.time - (currentframe.time + currentframe.speed + (currentframe.split_extratime * 10));\r\n                        objUpdate.frames[\"frame_\" + nfi] = {time_relative: nextframe.time_relative};\r\n                    }\r\n                }\r\n                if (source == \"trigger\")\r\n                    u.updateLayer(objLayer.serial, objUpdate);\r\n                else\r\n                    currentframe.split_extratime = objUpdate.frames[\"frame_\" + fi].split_extratime;\r\n\r\n                t.frameLimitations(frame, false, ignorerecursive, {\r\n                    update: updateTimerText,\r\n                    triggered: triggered,\r\n                    timecont: timecont\r\n                });\r\n                t.updateFullTime(objLayer);\r\n                checkTillSlideEnd(objLayer);\r\n            }\r\n\r\n            t.addLayersColumnsToSelectedElements = function (objLayer, fi) {\r\n                var temp = u.getLayersInGroup(objLayer.unique_id)\r\n                if (objLayer.type === \"row\" || objLayer.type == \"column\" || objLayer.type === \"group\") {\r\n                    for (var sfi = 0; sfi <= temp.layers.length - 1; sfi++) {\r\n                        var _pid = temp.layers[sfi].unique_id;\r\n                        if (jQuery.inArray(_pid, u.selectedLayers) == -1 && jQuery.inArray(_pid, u.currentGroupElements) == -1) {\r\n                            var _pel = document.getElementById('tl_' + _pid + '_frame_' + fi);\r\n                            u.currentGroupElementsPositionLeftReset.push(parseInt(_pel.style.left, 0));\r\n                            u.currentGroupElements.push(_pid);\r\n                        }\r\n                    }\r\n                    if (objLayer.type === \"row\")\r\n                        for (var sfi = 0; sfi <= temp.columns.length - 1; sfi++) {\r\n                            var _pid = temp.columns[sfi].unique_id;\r\n                            if (jQuery.inArray(_pid, u.selectedLayers) == -1 && jQuery.inArray(_pid, u.currentGroupElements) == -1) {\r\n                                var _pel = document.getElementById('tl_' + _pid + '_frame_' + fi);\r\n                                u.currentGroupElementsPositionLeftReset.push(parseInt(_pel.style.left, 0));\r\n                                u.currentGroupElements.push(_pid);\r\n                            }\r\n                        }\r\n                }\r\n                return true;\r\n            }\r\n\r\n            // Record the last known Position of Elements before Drag\r\n            t.recordFrameStatus = function (frame, ui) {\r\n                var frame = jQuery(frame),\r\n                    fi = frame.data('frameindex'),\r\n                    objLayer = u.getLayerByUniqueId(frame.data('uniqueid'));\r\n\r\n                objLayer.positionLeftReset = ui !== undefined ? ui.position.left : frame.position().left;\r\n                u.selectedLayersPositionLeftReset = [];\r\n                u.currentGroupElements = [];\r\n                u.currentGroupElementsPositionLeftReset = [];\r\n                for (var sfi = 0; sfi <= u.selectedLayers.length - 1; sfi++) {\r\n                    var _pid = u.selectedLayers[sfi],\r\n                        _obj = _pid !== -1 ? u.getLayerByUniqueId(_pid) : -1,\r\n                        _pel = document.getElementById('tl_' + _pid + '_frame_' + fi);\r\n                    u.selectedLayersPositionLeftReset.push(parseInt(_pel.style.left, 0));\r\n                    if (_obj !== -1)\r\n                        t.addLayersColumnsToSelectedElements(_obj, 0);\r\n\r\n                }\r\n                t.addLayersColumnsToSelectedElements(objLayer, 0);\r\n                t.recordFrameStatusForce = false;\r\n            }\r\n\r\n            // CHECK IF LEFT OR RIGHT SIDE OF FRAME ALREADY REACHED, REPRINT DELAYS AND POSITIONS\r\n            t.frameLimitations = function (frame, ui, ignorerecursive, _tc) {\r\n\r\n                if (t.recordFrameStatusForce)\r\n                    t.recordFrameStatus(frame);\r\n\r\n                var frame = jQuery(frame),\r\n                    objLayer = u.getLayerByUniqueId(frame.data('uniqueid')),\r\n                    pframe = frame.prev(),\r\n                    nframe = frame.next(),\r\n                    nframei = nframe.data('frameindex'),\r\n                    fi = frame.data('frameindex'),\r\n                    fl = ui !== undefined && ui !== false ? ui.position.left : frame.position().left,\r\n                    fw = frame.outerWidth(),\r\n                    frameslength = u.getObjectLength(objLayer.frames),\r\n                    currentframe = objLayer.frames[\"frame_\" + fi];\r\n\r\n                // LEFT CHECK\r\n\r\n                if (pframe.length > 0)\r\n                    fl = Math.max((pframe.position().left+pframe.outerWidth()), fl);\r\n\r\n                fl = Math.max(0, fl);\r\n\r\n                // RIGHT CHECK\r\n                if (nframe.length > 0 && fi !== 999)\r\n                    fl = Math.min(nframe.position().left - fw, fl);\r\n                fl = Math.min(t.mainMaxTimeLeft, fl);\r\n\r\n                // REWRITE TIME INFO'S\r\n                if (_tc !== undefined && _tc.update) {\r\n                    var timedif = 0;\r\n                    if (objLayer.p_uid!==undefined && fi===0 && objLayer.p_uid!==-1 && u.getLayerByUniqueId(objLayer.p_uid) !==undefined && (typeof u.getLayerByUniqueId(objLayer.p_uid)==='object')) {\r\n                        var p_objLayer = u.getLayerByUniqueId(objLayer.p_uid);\r\n                        timedif = (fl * 10) - p_objLayer.frames[\"frame_0\"].time;\r\n                    } else if (fi !== 0) {\r\n                        var prevframe = fi === 999 ? objLayer.frames[\"frame_\" + (frameslength - 2)] : objLayer.frames[\"frame_\" + (fi - 1)];\r\n                        if (prevframe)\r\n                            timedif = (fl * 10) - (prevframe.time + prevframe.speed + (prevframe.split_extratime * 10));\r\n                    }\r\n\r\n                    if (t.timelinetype === \"absolute\")\r\n                        _tc.timecont.innerHTML = fl * 10;\r\n                    else\r\n                        _tc.timecont.innerHTML = timedif;\r\n                }\r\n\r\n                if (fi !== 999 && t.timelinetype !== \"absolute\") {\r\n                    var nextframe = objLayer.frames[\"frame_\" + nframei];\r\n                    nextframe.time_relative = nextframe.time - (currentframe.time + (currentframe.split_extratime * 10) + currentframe.speed);\r\n                    nframe.find('.timebefore_cont').html(nextframe.time_relative);\r\n                }\r\n\r\n                if (ui !== undefined && ui !== false) ui.position.left = fl;\r\n\r\n                punchgs.TweenLite.set(frame, {left: fl});\r\n\r\n\r\n                // Check if more than one Layer selected, and move all Layer parallel to the Master layer\r\n                if ((u.selectedLayers.length > 0 && !ignorerecursive) || (u.currentGroupElements != undefined && u.currentGroupElements.length > 0 && !ignorerecursive)) {\r\n                    var dragdif = fl - (objLayer.positionLeftReset);\r\n                    for (var sfi = 0; sfi <= u.selectedLayers.length - 1; sfi++) {\r\n                        var _pid = u.selectedLayers[sfi];\r\n                        if (_pid != objLayer.unique_id) {\r\n                            var _pel = document.getElementById('tl_' + _pid + '_frame_' + fi);\r\n                            _pel.style.left = (u.selectedLayersPositionLeftReset[sfi] + dragdif) + \"px\";\r\n                            t.updateFullTime(u.getLayerByUniqueId(_pid), (u.selectedLayersPositionLeftReset[sfi] + dragdif));\r\n                        }\r\n                    }\r\n\r\n                    if (fi === 0 && u.currentGroupElements !== undefined && u.currentGroupElements.length > 0)\r\n                        for (var sfi = 0; sfi <= u.currentGroupElements.length - 1; sfi++) {\r\n                            var _pid = u.currentGroupElements[sfi];\r\n\r\n                            if (_pid != objLayer.unique_id) {\r\n                                var _pel = document.getElementById('tl_' + _pid + '_frame_' + fi);\r\n                                _pel.style.left = (u.currentGroupElementsPositionLeftReset[sfi] + dragdif) + \"px\";\r\n                                t.updateFullTime(u.getLayerByUniqueId(_pid), (u.currentGroupElementsPositionLeftReset[sfi] + dragdif));\r\n                            }\r\n                        }\r\n                }\r\n\r\n                t.updateFullTime(objLayer);\r\n                checkTillSlideEnd(objLayer);\r\n            }\r\n\r\n            t.updateFullTime = function (objLayer, left) {\r\n                var fullcont = objLayer.references.sorttable.timeline[0].getElementsByClassName('timeline_full')[0],\r\n                    audio = jQuery(objLayer.references.sorttable.timeline[0]).find('.timeline_audio'),\r\n                    left = left === undefined ? 15 + (objLayer.frames[\"frame_0\"].time / 10) : left + 15,\r\n                    newtime = (left - 15) * 10;\r\n                punchgs.TweenLite.set(fullcont, {\r\n                    left: left,\r\n                    width: ((objLayer.frames[\"frame_999\"].time - newtime) + objLayer.frames[\"frame_999\"].split_extratime + objLayer.frames[\"frame_999\"].speed) / 10\r\n                });\r\n                if (audio !== undefined && audio.length > 0)\r\n                    punchgs.TweenLite.set(audio, {\r\n                        left: left,\r\n                        width: ((objLayer.frames[\"frame_999\"].time - newtime) + objLayer.frames[\"frame_999\"].split_extratime + objLayer.frames[\"frame_999\"].speed) / 10\r\n                    });\r\n\r\n            }\r\n            t.updateLayerTimeline = function (objLayer) {\r\n                var tf = objLayer.references.sorttable.timeline[0].getElementsByClassName('timeline_frame');\r\n                for (var i = 0; i < tf.length; i++) {\r\n                    t.setTLFrame(tf[i]);\r\n                    t.updateTLFrame(tf[i], false, true);\r\n                }\r\n            }\r\n\r\n            t.updateCurrentLayerTimeline = function () {\r\n                var el = document.getElementById('layer_sort_time_' + u.getCurrentLayer().serial),\r\n                    tf = el.getElementsByClassName('timeline_frame');\r\n                for (var i = 0; i < tf.length; i++) {\r\n                    t.setTLFrame(tf[i], false, true);\r\n                }\r\n            };\r\n\r\n            t.updateAllLayerTimeline = function () {\r\n                var tf = document.getElementsByClassName('timeline_frame tl_layer_frame');\r\n                for (var i = 0; i < tf.length; i++) {\r\n\r\n                    t.updateTLFrame(tf[i], false, true);\r\n\r\n                }\r\n            }\r\n\r\n            t.updateAllSelectedLayerTimeline = function (frame) {\r\n                var frame = jQuery(frame),\r\n                    frameid = frame.data('uniqueid'),\r\n                    fi = frame.data('frameindex');\r\n                if (u.selectedLayers.length > 0)\r\n                    for (var i = 0; i <= u.selectedLayers.length - 1; i++) {\r\n                        var _pid = u.selectedLayers[i];\r\n                        if (_pid != frameid)\r\n                            t.updateTLFrame(document.getElementById('tl_' + _pid + '_frame_' + fi), false, true);\r\n                    }\r\n                if (fi === 0 && u.currentGroupElements !== undefined && u.currentGroupElements.length > 0)\r\n                    for (var i = 0; i <= u.currentGroupElements.length - 1; i++) {\r\n                        var _pid = u.currentGroupElements[i];\r\n                        if (_pid != frameid)\r\n                            t.updateTLFrame(document.getElementById('tl_' + _pid + '_frame_' + fi), false, true);\r\n                    }\r\n            }\r\n\r\n            t.showTimeLineDirectInput = function (objLayer) {\r\n                // SET CURRENT TIMING HELPERS\r\n                jQuery('#clayer_start_time').val(objLayer.time);\r\n                jQuery('#clayer_start_speed').val(objLayer.speed);\r\n            }\r\n\r\n            t.manageTimeLineDirectInput = function () {\r\n                jQuery('#clayer_start_time, #clayer_end_time').on(\"change blur\", function () {\r\n                    var objLayer = t.getLayer(selectedLayerSerial);\r\n\r\n                    objLayer.time = jQuery('#clayer_start_time').val();\r\n                    objLayer.frames[\"frame_999\"].time = jQuery('#clayer_end_time').val();\r\n                    objLayer.speed = jQuery('#clayer_start_speed').val();\r\n                    objLayer.frames[\"frame_999\"].speed = jQuery('#clayer_end_speed').val();\r\n\r\n                    jQuery('#layer_speed').val(objLayer.speed);\r\n                    jQuery('#layer_endspeed').val(objLayer.frames[\"frame_999\"].speed);\r\n                    t.updateLayerFromFields();\r\n                    u.updateCurrentLayerTimeline();\r\n                });\r\n            }\r\n\r\n\r\n            /**\r\n             CALCULATE WIDTH TO TIME\r\n             */\r\n            var msToSec = function (ms) {\r\n                var s = Math.floor(ms / 1000);\r\n                ms = ms - (s * 1000);\r\n                var str = s + \".\";\r\n                if (ms < 100)\r\n                    str = str + \"0\";\r\n                str = str + Math.round(ms / 10);\r\n                return str;\r\n            }\r\n\r\n            // COUNT THE AMOUNT OF CHARS, WORDS, LINES IN A TEXT\r\n            var getSplitCounts = function (txt, split, splitdelay) {\r\n                if (txt == undefined) return 0;\r\n                var splitted = new Object();\r\n                ht = jQuery('<div>' + txt + '</div>'),\r\n                    w = 1;\r\n\r\n                splitted.c = ht.text().replace(/ /g, \"\").length;\r\n                splitted.w = txt.split(\" \").length;\r\n                splitted.l = txt.split('<br').length;\r\n\r\n                switch (split) {\r\n                    case \"chars\":\r\n                        w = splitted.c;\r\n                        break;\r\n                    case \"words\":\r\n                        w = splitted.w;\r\n                        break;\r\n                    case \"lines\":\r\n                        w = splitted.l;\r\n                        break;\r\n                }\r\n\r\n                return (w - 1) * splitdelay;\r\n            }\r\n\r\n            /**\r\n             Show / HIde The Timelines\r\n             */\r\n            var showHideTimeines = function () {\r\n                /* HIDE / SHOW  TIMELINES */\r\n\r\n                jQuery('#button_sort_timing').click(function () {\r\n                    var bst = jQuery(this);\r\n                    if (bst.hasClass(\"off\")) {\r\n                        bst.removeClass(\"off\");\r\n                        bst.find('.onoff').html('- on');\r\n                        punchgs.TweenLite.to(jQuery('.sortlist .timeline'), 0.5, {autoAlpha: 0.5, overwrite: \"auto\"});\r\n                    } else {\r\n                        punchgs.TweenLite.to(jQuery('.sortlist .timeline'), 0.5, {autoAlpha: 0, overwrite: \"auto\"});\r\n                        bst.addClass(\"off\");\r\n                        bst.find('.onoff').html('- off');\r\n                    }\r\n                })\r\n            }\r\n\r\n\r\n            /**\r\n             *\r\n             * delete layer from sortbox\r\n             */\r\n            t.deleteLayerFromSortbox = function (serial) {\r\n\r\n                var sortboxLayer = t.getHtmlSortItemFromSerial(serial),\r\n                    sortboxTimeLayer = t.getHtmlSortTimeItemFromSerial(serial),\r\n                    quickItem = t.getHtmlQuickTimeItemFromSerial(serial);\r\n                try {\r\n                    sortboxLayer.remove();\r\n                    sortboxTimeLayer.remove();\r\n                    quickItem.remove();\r\n                } catch (e) {\r\n\r\n                }\r\n\r\n                if (jQuery('.quick-layers-list li').length < 2) jQuery('.nolayersavailable').show();\r\n\r\n            }\r\n\r\n            /**\r\n             *\r\n             * unselect all items in sortbox\r\n             */\r\n            t.unselectSortboxItems = function () {\r\n\r\n                jQuery(\".sortlist li,#layers-right li, .quick-layers-list li\").removeClass(\"ui-state-hover\").addClass(\"ui-state-default\");\r\n\r\n            }\r\n\r\n            /**\r\n             * Organise groups and objects *\r\n             * This will move one Single Layer into its Group / Row / Column *\r\n             */\r\n\r\n            t.organiseGroupsAndLayer = function (editorupdate, demo, ignore_timelines) {\r\n\r\n                var _A_ = demo ? u.arrLayersDemo : u.arrLayers,\r\n                    sortchanged = false;\r\n\r\n                for (var i in _A_) if (_A_.hasOwnProperty(i)) {\r\n                    var objLayer = _A_[i];\r\n\r\n\r\n                    if (objLayer.type != \"group\" && objLayer.type != \"row\" && objLayer.p_uid != undefined && objLayer.p_uid != -1) {\r\n\r\n                        var sortelement = demo ? null : objLayer.references.sorttable.layer,\r\n                            j_gpel = u.getLayerByUniqueId(objLayer.p_uid),\r\n                            groupelement = !demo && j_gpel ? j_gpel.references.sorttable.layer[0].getElementsByClassName(\"sgw_def\")[0] : undefined,\r\n                            htmllayer = objLayer.references.htmlLayer,\r\n                            grouplayer = j_gpel ? j_gpel.references.htmlLayer : undefined;\r\n\r\n\r\n                        if (grouplayer && htmllayer && !grouplayer[0].contains(htmllayer[0])) {\r\n\r\n                            var g = grouplayer[0].getElementsByClassName('tp_layer_group_inner_wrapper')[0];\r\n\r\n                            if (g!==undefined && htmllayer[0]!==undefined) {\r\n                                if (objLayer.type !== \"column\") {\r\n                                    var noelement = true,\r\n                                        so = 99999,\r\n                                        ib;\r\n                                    for (var j in _A_) if (_A_.hasOwnProperty(j)) {\r\n                                        var objComp = _A_[j];\r\n                                        if (objLayer.p_uid === objComp.p_uid && objComp.references.htmlLayer !== undefined && objComp.groupOrder !== undefined && objComp.groupOrder > objLayer.groupOrder && objComp.groupOrder < so) {\r\n                                            so = objComp.groupOrder;\r\n                                            noelement = false;\r\n                                            ib = objComp.references.htmlLayer;\r\n                                        }\r\n                                    }\r\n                                    if (ib !== undefined && so < 99999) {\r\n                                        if (ib[0].parentNode == g)\r\n                                            g.insertBefore(htmllayer[0], ib[0]);\r\n                                        else\r\n                                            g.appendChild(htmllayer[0])\r\n                                    }\r\n                                    else\r\n                                        g.appendChild(htmllayer[0]);\r\n                                } else {\r\n                                    g.appendChild(htmllayer[0])\r\n                                }\r\n                            }\r\n\r\n                        }\r\n\r\n\r\n                        if (!demo && !editorupdate && groupelement !== undefined && !groupelement.contains(sortelement[0])) {\r\n                            sortchanged = true;\r\n                            groupelement.appendChild(sortelement[0]);\r\n                        }\r\n\r\n\r\n                        if (!demo && groupelement === undefined && objLayer.type === \"column\") u.deleteLayer(objLayer.serial);\r\n                    } else {\r\n                        objLayer.p_uid = -1;\r\n                        var htmllayer = objLayer.references.htmlLayer,\r\n                            sortelement = demo ? null : objLayer.references.sorttable.layer;\r\n\r\n\r\n                        if (objLayer.type === \"row\") {\r\n\r\n                            // PUT IN THE RIGHT ORDER THE ROW IN TO THE ZONE\r\n                            var _zone = \"row-zone-\" + u.getVal(objLayer, 'align_vert'),\r\n                                _znoelement = true,\r\n                                _zso = 99999,\r\n                                _zib,\r\n                                _zg = document.getElementById(_zone);\r\n\r\n                            //if (htmllayer[0].parentNode.id===_zone) return false;\r\n\r\n                            for (var _j in _A_) if (_A_.hasOwnProperty(_j)) {\r\n                                var objComp = _A_[_j];\r\n\r\n\r\n                                if (objComp.type === \"row\" && objComp.unique_id !== objLayer.unique_id && u.getVal(objLayer, 'align_vert') === u.getVal(objComp, 'align_vert') && objComp.references.htmlLayer !== undefined && objComp.groupOrder !== undefined && objComp.groupOrder >= objLayer.groupOrder && objComp.groupOrder < _zso) {\r\n\r\n                                    _zso = objComp.groupOrder;\r\n                                    _znoelement = false;\r\n                                    _zib = objComp.references.htmlLayer;\r\n                                }\r\n                            }\r\n\r\n                            if (_zib !== undefined && _zso < 99999) {\r\n                                if (_zib[0].parentNode == _zg)\r\n                                    _zg.insertBefore(htmllayer[0], _zib[0]);\r\n                                else\r\n                                    _zg.appendChild(htmllayer[0])\r\n                            }\r\n                            else\r\n                                _zg.appendChild(htmllayer[0]);\r\n                            u.checkRowZoneContents();\r\n                        } else {\r\n                            if (htmllayer[0].parentNode.id != 'divLayers') document.getElementById(\"divLayers\").appendChild(htmllayer[0]);\r\n                        }\r\n\r\n\r\n                        if (!demo && sortelement[0].parentNode.id != 'layers-left-ul') {\r\n                            document.getElementById('layers-left-ul').insertBefore(sortelement[0], document.getElementById(\"last_drop_zone_layers\"));\r\n                            sortchanged = true;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                u.setMiddleRowZone();\r\n\r\n                if (sortchanged) t.updateOrderFromSortbox(ignore_timelines);\r\n\r\n            }\r\n\r\n\r\n            /**\r\n             * update layers order from sortbox elements\r\n             */\r\n            t.updateOrderFromSortbox = function (ignore_timelines) {\r\n\r\n                // RESET GROUP AND COLUMN REFERENCES\r\n                for (i in u.arrLayers) if (u.arrLayers.hasOwnProperty(i)) {\r\n                    var objLayer = u.arrLayers[i];\r\n                    if (objLayer.type != \"column\" && objLayer.type != \"row\" && objLayer.type != \"group\") {\r\n\r\n                        var _t = objLayer.references.sorttable.layer,\r\n                            cc = _t[0].parentNode.parentNode.classList.contains(\"sortable_column\"),\r\n                            gg = _t[0].parentNode.parentNode.classList.contains(\"sortable_group\"),\r\n                            uqid = -1;\r\n\r\n                        if ((!cc && !gg) || _t[0].parentNode.parentNode.id == \"layers-left-ul\") {\r\n                            // IGNORE ITEM HERE\r\n                        } else {\r\n                            var c = jQuery(_t[0].parentNode.parentNode);\r\n                            if (!cc) {\r\n\r\n                                _t.data('pid', c.data('uniqueid'));\r\n                                var gtype = c.data('type');\r\n\r\n                                if (gtype === \"row\") {\r\n\r\n                                    c = _t.prev();\r\n                                    if (c.length == 0) c = _t.next();\r\n\r\n                                    c[0].getElementsByClassName(\"sortable_layers_in_columns\")[0].appendChild(_t[0]);\r\n                                } else {\r\n                                    //c[0].getElementsByClassName(\"sortable_groups_wrap\")[0].appendChild(_t[0]);\r\n                                }\r\n                            }\r\n                            uqid = c.data('uniqueid');\r\n                        }\r\n                        _t.data('pid', uqid);\r\n                        _t.attr('pid', uqid);\r\n\r\n                        if (objLayer.p_uid != uqid) {\r\n                            objLayer.p_uid = uqid;\r\n                            u.add_layer_change();\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n                var arrSortLayers = jQuery(\"#layers-left-ul\").sortable(\"toArray\", {attribute: \"data-uniqueid\"});\r\n\r\n                for (var i = 0; i < arrSortLayers.length; i++) {\r\n                    var objLayer = u.getLayerByUniqueId(arrSortLayers[i]),\r\n                        depth = i + 5,\r\n                        objUpdate = {order: i, zIndex: depth};\r\n\r\n                    u.arrLayers[objLayer.serial].order = i;\r\n                    u.arrLayers[objLayer.serial].zIndex = depth;\r\n\r\n                    //update sortbox order input\r\n\r\n\r\n                    if (objLayer.references.sorttable.layer[0].getElementsByClassName(\"sortbox_depth\")[0])\r\n                        objLayer.references.sorttable.layer[0].getElementsByClassName(\"sortbox_depth\")[0].innerHTML = depth;\r\n\r\n\r\n                    document.getElementById(\"layers-right-ul\").appendChild(objLayer.references.sorttable.timeline[0]);\r\n\r\n                    document.getElementById('quick-layers-list-id').appendChild(objLayer.references.quicklayer[0]);\r\n\r\n                    if (objLayer.p_uid != -1 && objLayer.p_uid !== undefined && objLayer.type !== \"row\" && objLayer.type !== \"group\")\r\n                        objLayer.references.quicklayer.addClass(\"quick_in_group\")\r\n                    else\r\n                        objLayer.references.quicklayer.removeClass(\"quick_in_group\")\r\n\r\n                }\r\n\r\n                //update z-index of the html window by order\r\n                t.updateZIndexByOrder();\r\n\r\n\r\n                if (ignore_timelines != true) t.updateAllLayerTimeline();\r\n\r\n            }\r\n\r\n\r\n            t.resetTimeLineHeight = function () {\r\n                // SET HEIGHT OF MASTERTIMER\r\n                var maxh = document.getElementById('layers-right-ul').clientHeight;\r\n                punchgs.TweenLite.set(jQuery('#mastertimer-position'), {height: maxh + 40});\r\n            }\r\n\r\n\r\n            t.timeLineTableDimensionUpdate = function () {\r\n                clearTimeout(timeline_timer);\r\n                timeline_timer = setTimeout(function () {\r\n                    t.resetTimeLineHeight();\r\n                    var maxh = ((jQuery('#layers-right ul li').length + 1) * 30) - ((jQuery('#layers-right ul li.layer-deleted').length + 1) * 30);\r\n\r\n                    punchgs.TweenLite.set(jQuery('.layers-wrapper'), {height: maxh + 3});\r\n                    punchgs.TweenLite.set(jQuery('#mastertimer-wrapper'), {height: maxh + 3})\r\n                    jQuery('.master-rightcell .layers-wrapper, .master-leftcell .layers-wrapper, #divLayers-wrapper, .quick-layers-list').perfectScrollbar(\"update\");\r\n                }, 50);\r\n            }\r\n\r\n            /**\r\n             * update z-index of the layers by order value\r\n             */\r\n            t.updateZIndexByOrder = function () {\r\n\r\n                for (var i in u.arrLayers) if (u.arrLayers.hasOwnProperty(i)) {\r\n                    var objLayer = u.arrLayers[i],\r\n                        depth = objLayer.order !== undefined ? objLayer.order + 5 : 5,\r\n                        objUpdate = {zIndex: depth};\r\n\r\n                    if (objLayer.order !== undefined)\r\n                        punchgs.TweenLite.set(objLayer.references.htmlLayer, {zIndex: (Number(objLayer.order) + 100)});\r\n\r\n                    u.updateLayer(objLayer.serial, objUpdate, false, true);\r\n                }\r\n\r\n            }\r\n\r\n            /**\r\n             * shift order among all the layers, push down all order num beyong the given\r\n             * need to redraw after this function\r\n             */\r\n            var shiftOrder = function (orderToFree) {\r\n\r\n                for (key in u.arrLayers) if (u.arrLayers.hasOwnProperty(key)) {\r\n                    var obj = u.arrLayers[key];\r\n                    if (obj.order >= orderToFree) {\r\n                        obj.order = Number(obj.order) + 1;\r\n                        u.arrLayers[key] = obj;\r\n                    }\r\n                }\r\n            }\r\n\r\n\r\n            /**\r\n             * get sortbox text from layer html\r\n             */\r\n            t.getSortboxText = function (text) {\r\n                sorboxTextSize = 20;\r\n\r\n                var textSortbox = text===undefined ? \"NoText\" : UniteAdminRev.stripTags(text);\r\n\r\n                //if no content - escape html\r\n                if (textSortbox.length < 2)\r\n                    textSortbox = UniteAdminRev.htmlspecialchars(text);\r\n\r\n                //short text\r\n                if (textSortbox.length > sorboxTextSize)\r\n                    textSortbox = textSortbox.slice(0, sorboxTextSize) + \"...\";\r\n\r\n                return (textSortbox);\r\n            }\r\n\r\n            /**\r\n             *\r\n             * redraw the sortbox\r\n             */\r\n            t.redrawSortbox = function (mode) {\r\n\r\n\r\n                if (mode == undefined)\r\n                    mode = sortMode;\r\n\r\n                emptySortbox();\r\n\r\n                var layers_array = getLayersSorted(\"depth\");\r\n\r\n\r\n                if (layers_array.length == 0) {\r\n                    return (false);\r\n                }\r\n\r\n\r\n                for (var i = 0; i < layers_array.length; i++) {\r\n                    var objLayer = layers_array[i];\r\n                    t.addToSortbox(objLayer.serial, objLayer);\r\n                }\r\n\r\n                if (u.selectedLayerSerial != -1)\r\n                    t.setSortboxItemSelected(u.selectedLayerSerial);\r\n\r\n            }\r\n\r\n            var reinitSortBox = function (sortable) {\r\n\r\n                jQuery('#last_drop_zone_layers').appendTo('#layers-left-ul');\r\n                //set the sortlist sortable\r\n                if (sortable) {\r\n                    jQuery('.layer_sortbox ul').sortable({\r\n                        refreshPositions: true,\r\n                        placeholder: \"silent-placeholder\",\r\n                        cancel: \"#slide_in_sort, input\",\r\n                        handle: \".mastertimer-timeline-zindex-row\",\r\n                        items: \".sortable_elements\",\r\n                        connectWith: \"#layers-left-ul, .sortable_groups_wrap, .sortable_layers_in_columns\",\r\n                        update: function(event,ui){\r\n                            var src = jQuery(ui.item);\r\n                            // CANCEL IF ELEMENT IS A ROW\r\n                            if (src.hasClass(\"sortable_row\")) jQuery(this).sortable(\"cancel\");\r\n\r\n                            // CANCEL CHANGE IF GROUP MOVED INTO OTHER GROUP\r\n\r\n                            var tg = src.parent(),\r\n                                mg = tg.closest('.sortable_group'),\r\n                                telement = jQuery('#layers-left-ul');\r\n\r\n                            if ((tg.hasClass(\"sortable_groups_wrap\") || tg.hasClass(\"sortable_layers_in_columns\")) && !src.hasClass(\"sortable_layers\")) {\r\n\r\n                                if (src.index() < tg.children().length / 2)\r\n                                    src.insertBefore(mg);\r\n                                else\r\n                                    src.insertAfter(mg);\r\n                            }\r\n\r\n\r\n                            // PUT ITEM BEFORE OR AFTER ROWS IN CASE THE ROW\r\n                            if (tg.attr(\"id\") === \"layers-left-ul\" || tg.parent().attr('id') === \"layers-left-ul\" || src.hasClass(\"sortable_group\")) {\r\n                                var rows = telement.find('.sortable_row'),\r\n                                    fr = rows.first().index(),\r\n                                    lr = rows.last().index(),\r\n                                    si = src.index();\r\n                                if (si > fr && si < lr)\r\n                                    src.insertAfter(rows.last());\r\n                            }\r\n                            onSortboxSorted();\r\n                            t.organiseGroupsAndLayer();\r\n                        }\r\n                    });\r\n                }\r\n\r\n\r\n                jQuery('.droppable_sortable_group,.droppable_sortable_row, .droppable_sortable_column').droppable({\r\n                    tolerance: \"intersect\",\r\n                    greedy: true,\r\n                    over: function (ui) {\r\n                        jQuery(ui.target).addClass(\"readytodrop\")\r\n                    },\r\n                    out: function (ui) {\r\n                        jQuery(ui.target).removeClass(\"readytodrop\")\r\n                    },\r\n                    drop:function(ui,a) {\r\n                        var ul = jQuery('#layers-left-ul');\r\n                        jQuery(ui.target).removeClass(\"readytodrop\");\r\n                        var cl = jQuery(ui.target).attr('class'),\r\n                            src = jQuery(ui.srcElement).closest('.sortable_elements.sortable_layers'),\r\n                            tg;\r\n\r\n                        if (!src.length) return false;\r\n\r\n                        // ADD TO GROUP\r\n                        if (cl.indexOf('droppable_sortable_group') >= 0)\r\n                            tg = jQuery(ui.target).closest('li.sortable_group').find('.sortable_groups_wrap');\r\n\r\n                        // ADD TO FIRST COLUMN IN ROW\r\n                        if (cl.indexOf('droppable_sortable_row') >= 0)\r\n                            tg = jQuery(ui.target).closest('li.sortable_group.sortable_row').find('.sortable_layers_in_columns').first();\r\n\r\n                        // ADD TO COLUMN\r\n                        if (cl.indexOf('droppable_sortable_column') >= 0)\r\n                            tg = jQuery(ui.target).closest('li.sortable_column').find('.sortable_layers_in_columns').first();\r\n\r\n                        setTimeout(function () {\r\n                            src.appendTo(tg);\r\n                            onSortboxSorted();\r\n                            t.organiseGroupsAndLayer();\r\n                        }, 50);\r\n                    }\r\n                })\r\n            }\r\n\r\n\r\n            //======================================================\r\n            //\t\t\tSortbox Functions\r\n            //======================================================\r\n            var initSortbox = function () {\r\n\r\n                t.redrawSortbox();\r\n                reinitSortBox(true);\r\n\r\n\r\n                //set click event on full row\r\n                jQuery(\"body\").delegate(\".layer_sort_inner_wrapper\", \"mousedown\", function (e) {\r\n                    var li = jQuery(this).closest('.sortable_elements');\r\n\r\n                    if (li.hasClass(\"ui-state-hover\")) return true;\r\n                    if (!li.hasClass(\"mastertimer-slide\")) {\r\n                        var serial = u.getSerialFromSortID(li.attr('id'));\r\n                        u.setLayerSelected(serial);\r\n                        return false;\r\n                    }\r\n                });\r\n\r\n                //set click event on collapser\r\n                jQuery(\"body\").on(\"click\", \".sort_group_collapser\", function (e) {\r\n\r\n                    var t = jQuery(this),\r\n                        c = t.closest('.sortable_column'),\r\n                        g = c.length ? c : t.closest('.sortable_group'),\r\n                        cenv = c.length ? g.find('.sortable_layers_in_columns') : g.find('.sortable_groups_wrap');\r\n\r\n                    t.toggleClass(\"collapsed\");\r\n                    if (t.hasClass(\"collapsed\"))\r\n                        cenv.css({maxHeight: \"0px\", overflow: \"hidden\"});\r\n                    else\r\n                        cenv.css({maxHeight: \"none\", overflow: \"visible\"});\r\n\r\n                    cenv.find('.sortable_elements').each(function (i, a) {\r\n                        var a = jQuery(a),\r\n                            uid = a.data('uniqueid');\r\n\r\n                        if (t.hasClass(\"collapsed\"))\r\n                            jQuery('#layers-right-ul li[data-uniqueid=\"' + uid + '\"]').addClass(\"unvisibletimeline\");\r\n                        else\r\n                            jQuery('#layers-right-ul li[data-uniqueid=\"' + uid + '\"]').removeClass(\"unvisibletimeline\");\r\n                    });\r\n                });\r\n\r\n                //set click event on timelines\r\n                jQuery(\"#layers-right\").delegate(\"li\", \"mousedown\", function (e) {\r\n                    var li = jQuery(this);\r\n                    t.recordFrameStatusForce = true;\r\n                    if (li.hasClass(\"ui-state-hover\")) return true;\r\n                    if (!li.hasClass(\"mastertimer-slide\")) {\r\n                        var serial = u.getSerialFromSortID(this.id);\r\n                        u.setLayerSelected(serial);\r\n                        return false;\r\n                    }\r\n                });\r\n\r\n\r\n                jQuery('.quick-layer-all-lock').click(function () {\r\n                    var b = jQuery(this),\r\n                        i = b.find('i');\r\n                    if (i.hasClass(\"eg-icon-lock\")) {\r\n                        jQuery('.quick-layer-lock i').each(function () {\r\n                            jQuery(this).removeClass(\"eg-icon-lock-open\").addClass(\"eg-icon-lock\");\r\n                        });\r\n                        i.addClass(\"eg-icon-lock-open\").removeClass(\"eg-icon-lock\");\r\n                        u.lockAllLayers();\r\n                    } else {\r\n                        jQuery('.quick-layer-lock i').each(function () {\r\n                            jQuery(this).removeClass(\"eg-icon-lock\").addClass(\"eg-icon-lock-open\");\r\n                        });\r\n                        i.removeClass(\"eg-icon-lock-open\").addClass(\"eg-icon-lock\");\r\n\r\n                        u.unlockAllLayers();\r\n                    }\r\n                })\r\n\r\n                jQuery('.quick-layer-all-view').click(function () {\r\n                    var b = jQuery(this),\r\n                        i = b.find('i');\r\n                    if (i.hasClass(\"eg-icon-eye\")) {\r\n                        jQuery('.quick-layer-view i').each(function () {\r\n                            jQuery(this).addClass(\"eg-icon-eye\").removeClass(\"eg-icon-eye-off\");\r\n                        });\r\n                        i.removeClass(\"eg-icon-eye\").addClass(\"eg-icon-eye-off\");\r\n                        u.showAllLayers();\r\n                    } else {\r\n                        jQuery('.quick-layer-view i').each(function () {\r\n                            jQuery(this).removeClass(\"eg-icon-eye\").addClass(\"eg-icon-eye-off\");\r\n                        });\r\n                        i.addClass(\"eg-icon-eye\").removeClass(\"eg-icon-eye-off\");\r\n                        u.hideAllLayers();\r\n                    }\r\n                })\r\n\r\n\r\n                //on show / hide layer icon click - show / hide layer\r\n                jQuery(\".sortlist\").delegate(\".till_slideend\", \"mousedown\", function (event) {\r\n                    var button = jQuery(this),\r\n                        li = button.closest('li'),\r\n                        serial = button.data('serial'),\r\n                        objLayer = u.getLayer(serial),\r\n                        maxtime = (t.mainMaxTimeLeft) * 10;\r\n\r\n                    if (li.hasClass(\"tillendon\")) {\r\n                        li.removeClass(\"tillendon\")\r\n                        objLayer.frames[\"frame_999\"].time = objLayer.frames[\"frame_999\"].time - 200;\r\n                        t.updateLayerTimeline(objLayer);\r\n                    } else {\r\n                        li.addClass(\"tillendon\");\r\n                        objLayer.frames[\"frame_999\"].time = maxtime;\r\n                        t.updateLayerTimeline(objLayer);\r\n                    }\r\n\r\n                });\r\n\r\n            }\r\n\r\n\r\n            /***********************************\r\n             order layers by time\r\n             type can be [time] or [order]\r\n             ************************************/\r\n            var getLayersSorted = function (type) {\r\n\r\n                if (type == undefined)\r\n                    type = \"time\";\r\n\r\n                //convert to array\r\n                var layers_array = [];\r\n                for (key in u.arrLayers) if (u.arrLayers.hasOwnProperty(key)) {\r\n                    var obj = u.arrLayers[key];\r\n                    obj.serial = key;\r\n                    layers_array.push(obj);\r\n                }\r\n\r\n                if (layers_array.length == 0)\r\n                    return (layers_array);\r\n\r\n                //sort layers array\r\n                layers_array.sort(function (layer1, layer2) {\r\n\r\n                    switch (type) {\r\n                        case \"time\":\r\n\r\n                            if (Number(layer1.time) == Number(layer2.time)) {\r\n                                if (layer1.order == layer2.order)\r\n                                    return (0);\r\n\r\n                                if (layer1.order > layer2.order)\r\n                                    return (1);\r\n\r\n                                return (-1);\r\n                            }\r\n\r\n                            if (Number(layer1.time) > Number(layer2.time))\r\n                                return (1);\r\n                            break;\r\n                        case \"depth\":\r\n                            if (layer1.order == layer2.order)\r\n                                return (0);\r\n\r\n                            if (layer1.order > layer2.order)\r\n                                return (1);\r\n                            break;\r\n                        default:\r\n                            trace(\"wrong sort type: \" + type);\r\n                            break;\r\n                    }\r\n\r\n                    return (-1);\r\n                });\r\n\r\n                return (layers_array);\r\n            }\r\n\r\n\r\n            /**\r\n             * hide in html and sortbox\r\n             */\r\n            t.hideLayer = function(objLayer,skipGlobalButton){\r\n                if (objLayer.references===undefined || objLayer.references.htmlLayer===undefined) return;\r\n                var htmlLayer = objLayer.references.htmlLayer;\r\n\r\n                htmlLayer.css({visibility:\"hidden\"});\r\n                htmlLayer.addClass(\"currently_not_visible\");\r\n                if (!objLayer.isDemo)\r\n                    setSortboxItemHidden(objLayer.serial);\r\n\r\n                if(skipGlobalButton != true){\r\n                    if(t.isAllLayersHidden())\r\n                        jQuery(\"#button_sort_visibility\").addClass(\"e-disabled\");\r\n                }\r\n            }\r\n\r\n\r\n            /**\r\n             * show layer in html and sortbox\r\n             */\r\n            t.showLayer = function(objLayer,skipGlobalButton){\r\n                if (objLayer.references===undefined || objLayer.references.htmlLayer===undefined) return;\r\n                var htmlLayer = objLayer.references.htmlLayer;\r\n                htmlLayer.css({visibility:\"visible\"});\r\n                htmlLayer.removeClass(\"currently_not_visible\");\r\n                if (!objLayer.isDemo)\r\n                    setSortboxItemVisible(objLayer.serial);\r\n\r\n                if(skipGlobalButton != true)\r\n                    jQuery(\"#button_sort_visibility\").removeClass(\"e-disabled\");\r\n            }\r\n\r\n\r\n            /**\r\n             * get true / false if the layer is hidden\r\n             */\r\n            t.isLayerVisible = function (htmlLayer) {\r\n                var isVisible = true;\r\n\r\n                if (htmlLayer != undefined && htmlLayer[0].classList.contains(\"currently_not_visible\"))\r\n                    isVisible = false;\r\n\r\n                return (isVisible);\r\n            }\r\n\r\n            /**\r\n             * get true / false if all layers hidden\r\n             */\r\n            t.isAllLayersHidden = function () {\r\n                var i = 0;\r\n                for (serial in u.arrLayers) if (u.arrLayers.hasOwnProperty(serial)) {\r\n                    if (u.arrLayers[i] !== undefined && t.isLayerVisible(u.arrLayers[i].references.htmlLayer) == true) return (false);\r\n                    i++;\r\n                }\r\n                return (true);\r\n            }\r\n\r\n\r\n            /**\r\n             * get true / false if the layer can be moved\r\n             */\r\n            t.isLayerLocked = function (htmllayer) {\r\n                return htmllayer.hasClass(\"layer_on_lock\");\r\n            }\r\n\r\n\r\n            /**\r\n             * hide in html and sortbox\r\n             */\r\n            t.lockLayer = function (serial) {\r\n                setSortboxItemLocked(serial);\r\n\r\n                var layer = u.getHtmlLayerFromSerial(serial);\r\n\r\n\r\n                layer.addClass(\"layer_on_lock\");\r\n\r\n            }\r\n\r\n\r\n            /**\r\n             * show layer in html and sortbox\r\n             */\r\n            t.unlockLayer = function (serial) {\r\n                setSortboxItemUnlocked(serial);\r\n                var layer = u.getHtmlLayerFromSerial(serial);\r\n                layer.removeClass(\"layer_on_lock\");\r\n            }\r\n\r\n\r\n            /**\r\n             * set sortbox items selected\r\n             */\r\n            t.setSortboxItemSelected = function (serial) {\r\n                var sortItem = t.getHtmlSortItemFromSerial(serial),\r\n                    sortTimeItem = t.getHtmlSortTimeItemFromSerial(serial),\r\n                    quickItem = t.getHtmlQuickTimeItemFromSerial(serial);\r\n\r\n                t.unselectSortboxItems();\r\n                if (sortItem)\r\n                    sortItem.removeClass(\"ui-state-default\").addClass(\"ui-state-hover\");\r\n                if (sortTimeItem)\r\n                    sortTimeItem.removeClass(\"ui-state-default\").addClass(\"ui-state-hover\");\r\n                if (quickItem)\r\n                    quickItem.removeClass(\"ui-state-default\").addClass(\"ui-state-hover\");\r\n            }\r\n\r\n\r\n            /**\r\n             * set sortbox item hidden mode\r\n             */\r\n            var setSortboxItemHidden = function (serial) {\r\n                var sortItem = t.getHtmlSortItemFromSerial(serial),\r\n                    sortTimeItem = t.getHtmlSortTimeItemFromSerial(serial),\r\n                    quickItem = t.getHtmlQuickTimeItemFromSerial(serial);\r\n\r\n                if (sortItem)\r\n                    sortItem.addClass(\"sortitem-hidden\");\r\n                if (sortTimeItem)\r\n                    sortTimeItem.addClass(\"sortitem-hidden\");\r\n                if (quickItem) {\r\n                    quickItem.addClass(\"sortitem-hidden\");\r\n                    quickItem.find('.eg-icon-eye').addClass(\"eg-icon-eye-off\").removeClass('eg-icon-eye');\r\n                    quickItem.find('.quick-layer-view').addClass(\"in-off\");\r\n                }\r\n            }\r\n\r\n            /**\r\n             * set sortbox item visible mode\r\n             */\r\n            var setSortboxItemVisible = function (serial) {\r\n                var sortItem = t.getHtmlSortItemFromSerial(serial),\r\n                    sortTimeItem = t.getHtmlSortTimeItemFromSerial(serial),\r\n                    quickItem = t.getHtmlQuickTimeItemFromSerial(serial);\r\n                if (sortItem)\r\n                    sortItem.removeClass(\"sortitem-hidden\");\r\n                if (sortTimeItem)\r\n                    sortTimeItem.removeClass(\"sortitem-hidden\");\r\n                if (quickItem)\r\n                    quickItem.removeClass(\"sortitem-hidden\");\r\n            }\r\n\r\n            /**\r\n             * set sortbox item locked mode\r\n             */\r\n            var setSortboxItemLocked = function (serial) {\r\n                var sortItem = t.getHtmlSortItemFromSerial(serial),\r\n                    sortTimeItem = t.getHtmlSortTimeItemFromSerial(serial),\r\n                    quickItem = t.getHtmlQuickTimeItemFromSerial(serial);\r\n\r\n                if (sortItem)\r\n                    sortItem.addClass(\"sortitem-locked\");\r\n                if (sortTimeItem)\r\n                    sortTimeItem.addClass(\"sortitem-locked\");\r\n                if (quickItem)\r\n                    quickItem.addClass(\"sortitem-locked\");\r\n            }\r\n\r\n            /**\r\n             * set sortbox item unlocked mode\r\n             */\r\n            var setSortboxItemUnlocked = function (serial) {\r\n                var sortItem = t.getHtmlSortItemFromSerial(serial),\r\n                    sortTimeItem = t.getHtmlSortTimeItemFromSerial(serial),\r\n                    quickItem = t.getHtmlQuickTimeItemFromSerial(serial);\r\n\r\n                if (sortItem)\r\n                    sortItem.removeClass(\"sortitem-locked\");\r\n                if (sortTimeItem)\r\n                    sortTimeItem.removeClass(\"sortitem-locked\");\r\n                if (quickItem)\r\n                    quickItem.removeClass(\"sortitem-locked\");\r\n            }\r\n\r\n            /**\r\n             * get sort field element from serial\r\n             */\r\n            t.getHtmlSortItemFromSerial = function (serial) {\r\n                var htmlSortItem = jQuery(\"#layer_sort_\" + serial);\r\n                if (htmlSortItem.length == 0) {\r\n                    UniteAdminRev.showErrorMessage(\"Html sort field with serial: \" + serial + \" not found!\");\r\n                    return (false);\r\n                }\r\n                return (htmlSortItem);\r\n            }\r\n\r\n            t.getHtmlSortTimeItemFromSerial = function (serial) {\r\n                var htmlSortItem = jQuery(\"#layer_sort_time_\" + serial);\r\n                if (htmlSortItem.length == 0) {\r\n                    UniteAdminRev.showErrorMessage(\"Html sort field with serial: \" + serial + \" not found!\");\r\n                    return (false);\r\n                }\r\n                return (htmlSortItem);\r\n            }\r\n\r\n            t.getHtmlQuickTimeItemFromSerial = function (serial) {\r\n                var htmlSortItem = jQuery(\"#layer_quicksort_\" + serial);\r\n                if (htmlSortItem.length == 0) {\r\n                    UniteAdminRev.showErrorMessage(\"Html sort field with serial: \" + serial + \" not found!\");\r\n                    return (false);\r\n                }\r\n                return (htmlSortItem);\r\n            }\r\n\r\n\r\n            /**\r\n             * remove all from sortbox\r\n             */\r\n            var emptySortbox = function () {\r\n                jQuery(\".sortlist ul\").find('.sortable_elements').remove();\r\n                jQuery('#layers-right ul').find('.sortable_elements').remove();\r\n            }\r\n\r\n\r\n            /**\r\n             * on sortbox sorted event.\r\n             */\r\n            var onSortboxSorted = function () {\r\n                t.updateOrderFromSortbox();\r\n            }\r\n            //======================================================\r\n            //\t\t\tSortbox Functions End\r\n            //======================================================\r\n\r\n\r\n            ///////////////////////\r\n            // PREPARE THE SLIDE //\r\n            //////////////////////\r\n            var prepareOneSlide = function (slotholder, opt, visible, vorh, w, h) {\r\n\r\n                var sh = slotholder,\r\n                    img = sh.find('.defaultimg'),\r\n                    scalestart = sh.data('zoomstart'),\r\n                    rotatestart = sh.data('rotationstart'),\r\n                    src = sh.find('.defaultimg').css(\"backgroundImage\"),\r\n                    bgcolor = sh.find('.defaultimg').css('backgroundColor'),\r\n                    off = 0,\r\n                    bgfit = sh.find('.defaultimg').css(\"backgroundSize\"),\r\n                    bgrepeat = sh.find('.defaultimg').css(\"backgroundRepeat\"),\r\n                    bgposition = sh.find('.defaultimg').css(\"backgroundPosition\");\r\n\r\n\r\n                src = src.replace('\"', '');\r\n                src = src.replace('\"', '');\r\n\r\n\r\n                if (bgfit == undefined) bgfit = \"cover\";\r\n                if (bgrepeat == undefined) bgrepeat = \"no-repeat\";\r\n                if (bgposition == undefined) bgposition = \"center center\";\r\n\r\n\r\n                var w = w != undefined ? w : jQuery('#divbgholder').width(),\r\n                    h = h != undefined ? h : jQuery('#divbgholder').height();\r\n                opt.slotw = Math.ceil(w / opt.slots),\r\n                    opt.sloth = Math.ceil(h / opt.slots);\r\n\r\n                // SET THE MINIMAL SIZE OF A BOX\r\n                var basicsize = 0,\r\n                    x = 0,\r\n                    y = 0;\r\n\r\n                if (opt.sloth > opt.slotw)\r\n                    basicsize = opt.sloth\r\n                else\r\n                    basicsize = opt.slotw;\r\n\r\n                opt.slotw = basicsize;\r\n                opt.sloth = basicsize;\r\n\r\n\r\n                var x = 0,\r\n                    y = 0,\r\n                    fulloff = 0,\r\n                    fullyoff = 0;\r\n\r\n\r\n                switch (vorh) {\r\n                    // BOX ANIMATION PREPARING\r\n                    case \"box\":\r\n\r\n\r\n                        for (var j = 0; j < opt.slots; j++) {\r\n\r\n                            y = 0;\r\n                            for (var i = 0; i < opt.slots; i++) {\r\n\r\n\r\n                                sh.append('<div class=\"slot\" ' +\r\n                                    'style=\"position:absolute;' +\r\n                                    'top:' + (fullyoff + y) + 'px;' +\r\n                                    'left:' + (fulloff + x) + 'px;' +\r\n                                    'width:' + basicsize + 'px;' +\r\n                                    'height:' + basicsize + 'px;' +\r\n                                    'overflow:hidden;\">' +\r\n\r\n                                    '<div class=\"slotslide\" data-x=\"' + x + '\" data-y=\"' + y + '\" ' +\r\n                                    'style=\"position:absolute;' +\r\n                                    'top:' + (0) + 'px;' +\r\n                                    'left:' + (0) + 'px;' +\r\n                                    'width:' + basicsize + 'px;' +\r\n                                    'height:' + basicsize + 'px;' +\r\n                                    'overflow:hidden;\">' +\r\n\r\n                                    '<div class=\"slotslidebg\" style=\"position:absolute;' +\r\n                                    'top:' + (0 - y) + 'px;' +\r\n                                    'left:' + (0 - x) + 'px;' +\r\n                                    'width:' + w + 'px;' +\r\n                                    'height:' + h + 'px;' +\r\n                                    'background-color:' + bgcolor + ';' +\r\n                                    'background-image:' + src + ';' +\r\n                                    'background-repeat:' + bgrepeat + ';' +\r\n                                    'background-size:' + bgfit + ';background-position:' + bgposition + ';\">' +\r\n                                    '</div></div></div>');\r\n                                y = y + basicsize;\r\n                            }\r\n                            x = x + basicsize;\r\n                        }\r\n                        break;\r\n\r\n                    // SLOT ANIMATION PREPARING\r\n                    case \"vertical\":\r\n                    case \"horizontal\":\r\n\r\n\r\n                        if (vorh == \"horizontal\") {\r\n                            if (!visible) var off = 0 - opt.slotw;\r\n\r\n                            for (var i = 0; i < opt.slots; i++) {\r\n\r\n                                sh.append('<div class=\"slot\" style=\"position:absolute;' +\r\n                                    'top:' + (0 + fullyoff) + 'px;' +\r\n                                    'left:' + (fulloff + (i * opt.slotw)) + 'px;' +\r\n                                    'overflow:hidden;width:' + (opt.slotw + 0.6) + 'px;' +\r\n                                    'height:' + h + 'px\">' +\r\n                                    '<div class=\"slotslide\" style=\"position:absolute;' +\r\n                                    'top:0px;left:' + off + 'px;' +\r\n                                    'width:' + (opt.slotw + 0.6) + 'px;' +\r\n                                    'height:' + h + 'px;overflow:hidden;\">' +\r\n                                    '<div class=\"slotslidebg\" style=\"background-color:' + bgcolor + ';' +\r\n                                    'position:absolute;top:0px;' +\r\n                                    'left:' + (0 - (i * opt.slotw)) + 'px;' +\r\n                                    'width:' + w + 'px;height:' + h + 'px;' +\r\n                                    'background-image:' + src + ';' +\r\n                                    'background-repeat:' + bgrepeat + ';' +\r\n                                    'background-size:' + bgfit + ';background-position:' + bgposition + ';\">' +\r\n                                    '</div></div></div>');\r\n                            }\r\n\r\n                        } else {\r\n                            if (!visible) var off = 0 - opt.sloth;\r\n\r\n                            for (var i = 0; i < opt.slots + 2; i++) {\r\n                                sh.append('<div class=\"slot\" style=\"position:absolute;' +\r\n                                    'top:' + (fullyoff + (i * opt.sloth)) + 'px;' +\r\n                                    'left:' + (fulloff) + 'px;' +\r\n                                    'overflow:hidden;' +\r\n                                    'width:' + w + 'px;' +\r\n                                    'height:' + (opt.sloth) + 'px\">' +\r\n\r\n                                    '<div class=\"slotslide\" style=\"position:absolute;' +\r\n                                    'top:' + (off) + 'px;' +\r\n                                    'left:0px;width:' + w + 'px;' +\r\n                                    'height:' + opt.sloth + 'px;' +\r\n                                    'overflow:hidden;\">' +\r\n                                    '<div class=\"slotslidebg\" style=\"background-color:' + bgcolor + ';' +\r\n                                    'position:absolute;' +\r\n                                    'top:' + (0 - (i * opt.sloth)) + 'px;' +\r\n                                    'left:0px;' +\r\n                                    'width:' + w + 'px;height:' + h + 'px;' +\r\n                                    'background-image:' + src + ';' +\r\n                                    'background-repeat:' + bgrepeat + ';' +\r\n                                    'background-size:' + bgfit + ';background-position:' + bgposition + ';\">' +\r\n\r\n                                    '</div></div></div>');\r\n                            }\r\n                        }\r\n                        break;\r\n                }\r\n            }\r\n\r\n\r\n            //////////////////////////////\r\n            //\tSWAP SLIDE PROGRESS\t\t//\r\n            //////////////////////////////\r\n            var slideAnimation = function (nextsh, actsh, comingtransition, givebackmtl, smallpreview) {\r\n\r\n\r\n                if (nextsh != undefined) {\r\n                    var nextli = nextsh,\r\n                        actli = actsh,\r\n                        container = new Object(),\r\n                        opt = new Object();\r\n                    opt.width = nextsh.width();\r\n                    opt.height = nextsh.height();\r\n                } else {\r\n                    var nextsh = nextli = jQuery('#divbgholder').find('.slotholder'),\r\n                        actsh = actli = jQuery('#divbgholder').find('.oldslotholder'),\r\n                        container = new Object(),\r\n                        comingtransition = jQuery('#fake-select-label').data('valu'),\r\n                        opt = new Object();\r\n                    opt.width = jQuery('#divbgholder').width();\r\n                    opt.height = jQuery('#divbgholder').height();\r\n\r\n\r\n                }\r\n\r\n                if (comingtransition == \"slidingoverlayvertical\")\r\n                    comingtransition = \"slidingoverlayup\"\r\n\r\n                if (comingtransition == \"slidingoverlayhorizontal\")\r\n                    comingtransition = \"slidingoverlayleft\"\r\n\r\n                if (comingtransition == \"slideoverhorizontal\")\r\n                    comingtransition = \"slideoverleft\"\r\n\r\n                if (comingtransition == \"slideoververtical\")\r\n                    comingtransition = \"slideoverup\"\r\n\r\n                if (comingtransition == \"slideremovehorizontal\")\r\n                    comingtransition = \"slideremoveleft\"\r\n\r\n                if (comingtransition == \"slideremovevertical\")\r\n                    comingtransition = \"slideremoveup\"\r\n\r\n                if (comingtransition == \"slidehorizontal\")\r\n                    comingtransition = \"slideleft\"\r\n\r\n                if (comingtransition == \"slidevertical\")\r\n                    comingtransition = \"slideup\"\r\n\r\n                if (comingtransition == \"parallaxhorizontal\")\r\n                    comingtransition = \"parallaxtoleft\"\r\n\r\n\r\n                if (comingtransition == \"parallaxvertical\")\r\n                    comingtransition = \"parallaxtotop\"\r\n\r\n                var p1i = punchgs.Power1.easeIn,\r\n                    p1o = punchgs.Power1.easeOut,\r\n                    p1io = punchgs.Power1.easeInOut,\r\n                    p2i = punchgs.Power2.easeIn,\r\n                    p2o = punchgs.Power2.easeOut,\r\n                    p2io = punchgs.Power2.easeInOut,\r\n                    p3i = punchgs.Power3.easeIn,\r\n                    p3o = punchgs.Power3.easeOut,\r\n                    p3io = punchgs.Power3.easeInOut,\r\n                    flatTransitions = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45],\r\n                    premiumTransitions = [16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 27],\r\n                    nexttrans = 0,\r\n                    specials = 1,\r\n                    STAindex = 0,\r\n                    indexcounter = 0,\r\n                    STA = new Array,\r\n                    transitionsArray = [['boxslide', 0, 1, 10, 0, 'box', false, null, 0, p1o, p1o, 500, 6],\r\n                        ['boxfade', 1, 0, 10, 0, 'box', false, null, 1, p1io, p1io, 700, 5],\r\n                        ['slotslide-horizontal', 2, 0, 0, 200, 'horizontal', true, false, 2, p2io, p2io, 700, 3],\r\n                        ['slotslide-vertical', 3, 0, 0, 200, 'vertical', true, false, 3, p2io, p2io, 700, 3],\r\n                        ['curtain-1', 4, 3, 0, 0, 'horizontal', true, true, 4, p1o, p1o, 300, 5],\r\n                        ['curtain-2', 5, 3, 0, 0, 'horizontal', true, true, 5, p1o, p1o, 300, 5],\r\n                        ['curtain-3', 6, 3, 25, 0, 'horizontal', true, true, 6, p1o, p1o, 300, 5],\r\n                        ['slotzoom-horizontal', 7, 0, 0, 400, 'horizontal', true, true, 7, p1o, p1o, 300, 7],\r\n                        ['slotzoom-vertical', 8, 0, 0, 0, 'vertical', true, true, 8, p2o, p2o, 500, 8],\r\n                        ['slotfade-horizontal', 9, 0, 0, 500, 'horizontal', true, null, 9, p2o, p2o, 500, 25],\r\n                        ['slotfade-vertical', 10, 0, 0, 500, 'vertical', true, null, 10, p2o, p2o, 500, 25],\r\n                        ['fade', 11, 0, 1, 300, 'horizontal', true, null, 11, p2io, p2io, 1000, 1],\r\n                        ['crossfade', 11, 1, 1, 300, 'horizontal', true, null, 11, p2io, p2io, 1000, 1],\r\n                        ['fadethroughdark', 11, 2, 1, 300, 'horizontal', true, null, 11, p2io, p2io, 1000, 1],\r\n                        ['fadethroughlight', 11, 3, 1, 300, 'horizontal', true, null, 11, p2io, p2io, 1000, 1],\r\n                        ['fadethroughtransparent', 11, 4, 1, 300, 'horizontal', true, null, 11, p2io, p2io, 1000, 1],\r\n                        ['slideleft', 12, 0, 1, 0, 'horizontal', true, true, 12, p3io, p3io, 1000, 1],\r\n                        ['slideup', 13, 0, 1, 0, 'horizontal', true, true, 13, p3io, p3io, 1000, 1],\r\n                        ['slidedown', 14, 0, 1, 0, 'horizontal', true, true, 14, p3io, p3io, 1000, 1],\r\n                        ['slideright', 15, 0, 1, 0, 'horizontal', true, true, 15, p3io, p3io, 1000, 1],\r\n                        ['slideoverleft', 12, 7, 1, 0, 'horizontal', true, true, 12, p3io, p3io, 1000, 1],\r\n                        ['slideoverup', 13, 7, 1, 0, 'horizontal', true, true, 13, p3io, p3io, 1000, 1],\r\n                        ['slideoverdown', 14, 7, 1, 0, 'horizontal', true, true, 14, p3io, p3io, 1000, 1],\r\n                        ['slideoverright', 15, 7, 1, 0, 'horizontal', true, true, 15, p3io, p3io, 1000, 1],\r\n                        ['slideremoveleft', 12, 8, 1, 0, 'horizontal', true, true, 12, p3io, p3io, 1000, 1],\r\n                        ['slideremoveup', 13, 8, 1, 0, 'horizontal', true, true, 13, p3io, p3io, 1000, 1],\r\n                        ['slideremovedown', 14, 8, 1, 0, 'horizontal', true, true, 14, p3io, p3io, 1000, 1],\r\n                        ['slideremoveright', 15, 8, 1, 0, 'horizontal', true, true, 15, p3io, p3io, 1000, 1],\r\n                        ['papercut', 16, 0, 0, 600, '', null, null, 16, p3io, p3io, 1000, 2],\r\n                        ['3dcurtain-horizontal', 17, 0, 20, 100, 'vertical', false, true, 17, p1io, p1io, 500, 7],\r\n                        ['3dcurtain-vertical', 18, 0, 10, 100, 'horizontal', false, true, 18, p1io, p1io, 500, 5],\r\n                        ['cubic', 19, 0, 20, 600, 'horizontal', false, true, 19, p3io, p3io, 500, 1],\r\n                        ['cube', 19, 0, 20, 600, 'horizontal', false, true, 20, p3io, p3io, 500, 1],\r\n                        ['flyin', 20, 0, 4, 600, 'vertical', false, true, 21, p3o, p3io, 500, 1],\r\n                        ['turnoff', 21, 0, 1, 500, 'horizontal', false, true, 22, p3io, p3io, 500, 1],\r\n                        ['incube', 22, 0, 20, 200, 'horizontal', false, true, 23, p2io, p2io, 500, 1],\r\n                        ['cubic-horizontal', 23, 0, 20, 500, 'vertical', false, true, 24, p2o, p2o, 500, 1],\r\n                        ['cube-horizontal', 23, 0, 20, 500, 'vertical', false, true, 25, p2o, p2o, 500, 1],\r\n                        ['incube-horizontal', 24, 0, 20, 500, 'vertical', false, true, 26, p2io, p2io, 500, 1],\r\n                        ['turnoff-vertical', 25, 0, 1, 200, 'horizontal', false, true, 27, p2io, p2io, 500, 1],\r\n                        ['fadefromright', 12, 1, 1, 0, 'horizontal', true, true, 28, p2io, p2io, 1000, 1],\r\n                        ['fadefromleft', 15, 1, 1, 0, 'horizontal', true, true, 29, p2io, p2io, 1000, 1],\r\n                        ['fadefromtop', 14, 1, 1, 0, 'horizontal', true, true, 30, p2io, p2io, 1000, 1],\r\n                        ['fadefrombottom', 13, 1, 1, 0, 'horizontal', true, true, 31, p2io, p2io, 1000, 1],\r\n                        ['fadetoleftfadefromright', 12, 2, 1, 0, 'horizontal', true, true, 32, p2io, p2io, 1000, 1],\r\n                        ['fadetorightfadefromleft', 15, 2, 1, 0, 'horizontal', true, true, 33, p2io, p2io, 1000, 1],\r\n                        ['fadetobottomfadefromtop', 14, 2, 1, 0, 'horizontal', true, true, 34, p2io, p2io, 1000, 1],\r\n                        ['fadetotopfadefrombottom', 13, 2, 1, 0, 'horizontal', true, true, 35, p2io, p2io, 1000, 1],\r\n                        ['parallaxtoright', 12, 3, 1, 0, 'horizontal', true, true, 36, p2io, p2i, 1500, 1],\r\n                        ['parallaxtoleft', 15, 3, 1, 0, 'horizontal', true, true, 37, p2io, p2i, 1500, 1],\r\n                        ['parallaxtotop', 14, 3, 1, 0, 'horizontal', true, true, 38, p2io, p1i, 1500, 1],\r\n                        ['parallaxtobottom', 13, 3, 1, 0, 'horizontal', true, true, 39, p2io, p1i, 1500, 1],\r\n                        ['scaledownfromright', 12, 4, 1, 0, 'horizontal', true, true, 40, p2io, p2i, 1000, 1],\r\n                        ['scaledownfromleft', 15, 4, 1, 0, 'horizontal', true, true, 41, p2io, p2i, 1000, 1],\r\n                        ['scaledownfromtop', 14, 4, 1, 0, 'horizontal', true, true, 42, p2io, p2i, 1000, 1],\r\n                        ['scaledownfrombottom', 13, 4, 1, 0, 'horizontal', true, true, 43, p2io, p2i, 1000, 1],\r\n                        ['zoomout', 13, 5, 1, 0, 'horizontal', true, true, 44, p2io, p2i, 1000, 1],\r\n                        ['zoomin', 13, 6, 1, 0, 'horizontal', true, true, 45, p2io, p2i, 1000, 1],\r\n                        ['slidingoverlayup', 27, 0, 1, 0, 'horizontal', true, true, 47, p1io, p1o, 2000, 1],\r\n                        ['slidingoverlaydown', 28, 0, 1, 0, 'horizontal', true, true, 48, p1io, p1o, 2000, 1],\r\n                        ['slidingoverlayright', 30, 0, 1, 0, 'horizontal', true, true, 49, p1io, p1o, 2000, 1],\r\n                        ['slidingoverlayleft', 29, 0, 1, 0, 'horizontal', true, true, 50, p1io, p1o, 2000, 1],\r\n                        ['notransition', 26, 0, 1, 0, 'horizontal', true, null, 46, p2io, p2i, 1000, 1],\r\n                    ];\r\n\r\n\r\n                // RANDOM TRANSITIONS\r\n                if (comingtransition == \"random-selected\" || comingtransition == \"random\" || comingtransition == \"random-static\" || comingtransition == \"random-premium\")\r\n                    comingtransition = 11;\r\n\r\n\r\n                function findTransition() {\r\n                    // FIND THE RIGHT TRANSITION PARAMETERS HERE\r\n                    if (transitionsArray)\r\n                        jQuery.each(transitionsArray, function (inde, trans) {\r\n                            if (trans[0] == comingtransition || trans[8] == comingtransition) {\r\n                                nexttrans = trans[1];\r\n                                specials = trans[2];\r\n                                STAindex = indexcounter;\r\n                            }\r\n                            indexcounter = indexcounter + 1;\r\n                        })\r\n                }\r\n\r\n                findTransition();\r\n\r\n                var direction = -1,\r\n                    masterspeed = jQuery('#transition_duration').val();\r\n\r\n\r\n                if (nexttrans > 30) nexttrans = 30;\r\n                if (nexttrans < 0) nexttrans = 0;\r\n\r\n                // PREPARED DEFAULT SETTINGS PER TRANSITION\r\n                STA = transitionsArray[STAindex];\r\n\r\n\r\n                ///////////////////////////////\r\n                //\tMAIN TIMELINE DEFINITION //\r\n                ///////////////////////////////\r\n\r\n                var mtl = new punchgs.TimelineLite();\r\n\r\n                //SET DEFAULT IMG UNVISIBLE AT START\r\n                mtl.add(punchgs.TweenLite.set(nextsh.find('.defaultimg'), {autoAlpha: 0}));\r\n                mtl.pause();\r\n\r\n                mtl.add(punchgs.TweenLite.set(actsh, {autoAlpha: 1, force3D: \"auto\", zIndex: 0}), 0);\r\n                mtl.add(punchgs.TweenLite.set(nextsh, {autoAlpha: 1, force3D: \"auto\", zIndex: 1}), 0);\r\n\r\n\r\n                // ADJUST MASTERSPEED\r\n                /*masterspeed = masterspeed + STA[4];\r\n\r\n                 if ((nexttrans==4 || nexttrans==5 || nexttrans==6) && opt.slots<3 ) opt.slots=3;\r\n\r\n                 // ADJUST SLOTS\r\n                 if (STA[3] != 0) opt.slots = Math.min(opt.slots,STA[3]);\r\n                 if (nexttrans==9) opt.slots = opt.width/20;\r\n                 if (nexttrans==10) opt.slots = opt.height/20;*/\r\n\r\n                opt.slots = jQuery('#slot_amount').val();\r\n                opt.rotate = jQuery('#transition_rotation').val();\r\n\r\n\r\n                masterspeed = masterspeed === \"default\" ? STA[11] : masterspeed === \"random\" ? Math.round(Math.random() * 1000 + 300) : masterspeed != undefined ? parseInt(masterspeed, 0) : STA[11];\r\n                masterspeed = masterspeed > opt.delay ? opt.delay : masterspeed;\r\n\r\n                // ADJUST MASTERSPEED\r\n                masterspeed = masterspeed + STA[4];\r\n\r\n\r\n                ///////////////////////\r\n                //\tADJUST SLOTS     //\r\n                ///////////////////////\r\n\r\n                opt.slots = opt.slots == undefined || opt.slots == \"default\" ? STA[12] : opt.slots == \"random\" ? Math.round(Math.random() * 12 + 4) : STA[12];\r\n                opt.slots = opt.slots < 1 ? comingtransition == \"boxslide\" ? Math.round(Math.random() * 6 + 3) : comingtransition == \"flyin\" ? Math.round(Math.random() * 4 + 1) : opt.slots : opt.slots;\r\n                opt.slots = (nexttrans == 4 || nexttrans == 5 || nexttrans == 6) && opt.slots < 3 ? 3 : opt.slots;\r\n                opt.slots = STA[3] != 0 ? Math.min(opt.slots, STA[3]) : opt.slots;\r\n                opt.slots = nexttrans == 9 ? opt.width / 20 : nexttrans == 10 ? opt.height / 20 : opt.slots;\r\n\r\n\r\n                /////////////////////////////////////////////\r\n                //\tSET THE ACTUAL AMOUNT OF SLIDES !!     //\r\n                //  SET A RANDOM AMOUNT OF SLOTS          //\r\n                ///////////////////////////////////////////\r\n\r\n                opt.rotate = opt.rotate == undefined || opt.rotate == \"default\" ? 0 : opt.rotate == 999 || opt.rotate == \"random\" ? Math.round(Math.random() * 360) : opt.rotate;\r\n                opt.rotate = (!jQuery.support.transition || opt.ie || opt.ie9) ? 0 : opt.rotate;\r\n\r\n\r\n                opt.slotw = Math.ceil(opt.width / jQuery('#slot_amount').val()),\r\n                    opt.sloth = Math.ceil(opt.height / jQuery('#slot_amount').val());\r\n\r\n                if (STA[7] != null) prepareOneSlide(actsh, opt, STA[7], STA[5], opt.width, opt.height);\r\n                if (STA[6] != null) prepareOneSlide(nextsh, opt, STA[6], STA[5], opt.width, opt.height);\r\n\r\n                var ei = jQuery('select[name=transition_ease_in]').val(),\r\n                    eo = jQuery('select[name=transition_ease_out]').val(),\r\n                    slidedirection = 1;\r\n\r\n\r\n                ei = ei === \"default\" ? STA[9] || punchgs.Power2.easeInOut : ei || STA[9] || punchgs.Power2.easeInOut;\r\n                eo = eo === \"default\" ? STA[10] || punchgs.Power2.easeInOut : eo || STA[10] || punchgs.Power2.easeInOut;\r\n\r\n\r\n                /////////////////////////////////////\r\n                // THE SLOTSLIDE - TRANSITION I.  //\r\n                ////////////////////////////////////\r\n                if (nexttrans == 0) {\t\t\t\t\t\t\t\t// BOXSLIDE\r\n\r\n\r\n                    // ALL NEW SLOTS SHOULD BE SLIDED FROM THE LEFT TO THE RIGHT\r\n                    var maxz = Math.ceil(opt.height / opt.sloth);\r\n                    var curz = 0;\r\n                    nextsh.find('.slotslide').each(function (j) {\r\n                        var ss = jQuery(this);\r\n                        curz = curz + 1;\r\n                        if (curz == maxz) curz = 0;\r\n\r\n                        mtl.add(punchgs.TweenLite.from(ss, (masterspeed) / 600,\r\n                            {\r\n                                opacity: 0,\r\n                                top: (0 - opt.sloth),\r\n                                left: (0 - opt.slotw),\r\n                                rotation: opt.rotate,\r\n                                force3D: \"auto\",\r\n                                ease: ei\r\n                            }), ((j * 15) + ((curz) * 30)) / 1500);\r\n                    });\r\n                }\r\n                /////////////////////////////////////\r\n                // THE SLOTSLIDE - TRANSITION I.  //\r\n                ////////////////////////////////////\r\n                if (nexttrans == 1) {\r\n\r\n                    // ALL NEW SLOTS SHOULD BE SLIDED FROM THE LEFT TO THE RIGHT\r\n                    var maxtime,\r\n                        maxj = 0;\r\n\r\n                    nextsh.find('.slotslide').each(function (j) {\r\n                        var ss = jQuery(this),\r\n                            rand = Math.random() * masterspeed + 300,\r\n                            rand2 = Math.random() * 500 + 200;\r\n                        if (rand + rand2 > maxtime) {\r\n                            maxtime = rand2 + rand2;\r\n                            maxj = j;\r\n                        }\r\n                        mtl.add(punchgs.TweenLite.from(ss, rand / 1000,\r\n                            {autoAlpha: 0, force3D: \"auto\", rotation: opt.rotate, ease: ei}), rand2 / 1000);\r\n                    });\r\n                }\r\n\r\n\r\n                /////////////////////////////////////\r\n                // THE SLOTSLIDE - TRANSITION I.  //\r\n                ////////////////////////////////////\r\n                if (nexttrans == 2) {\r\n\r\n                    var subtl = new punchgs.TimelineLite();\r\n                    // ALL OLD SLOTS SHOULD BE SLIDED TO THE RIGHT\r\n                    actsh.find('.slotslide').each(function () {\r\n                        var ss = jQuery(this);\r\n                        subtl.add(punchgs.TweenLite.to(ss, masterspeed / 1000, {\r\n                            left: opt.slotw,\r\n                            ease: ei,\r\n                            force3D: \"auto\",\r\n                            rotation: (0 - opt.rotate)\r\n                        }), 0);\r\n                        mtl.add(subtl, 0);\r\n                    });\r\n\r\n                    // ALL NEW SLOTS SHOULD BE SLIDED FROM THE LEFT TO THE RIGHT\r\n                    nextsh.find('.slotslide').each(function () {\r\n                        var ss = jQuery(this);\r\n                        subtl.add(punchgs.TweenLite.from(ss, masterspeed / 1000, {\r\n                            left: 0 - opt.slotw,\r\n                            ease: ei,\r\n                            force3D: \"auto\",\r\n                            rotation: opt.rotate\r\n                        }), 0);\r\n                        mtl.add(subtl, 0);\r\n                    });\r\n                }\r\n\r\n\r\n                /////////////////////////////////////\r\n                // THE SLOTSLIDE - TRANSITION I.  //\r\n                ////////////////////////////////////\r\n                if (nexttrans == 3) {\r\n                    var subtl = new punchgs.TimelineLite();\r\n\r\n                    // ALL OLD SLOTS SHOULD BE SLIDED TO THE RIGHT\r\n                    actsh.find('.slotslide').each(function () {\r\n                        var ss = jQuery(this);\r\n                        subtl.add(punchgs.TweenLite.to(ss, masterspeed / 1000, {\r\n                            top: opt.sloth,\r\n                            ease: ei,\r\n                            rotation: opt.rotate,\r\n                            force3D: \"auto\",\r\n                            transformPerspective: 600\r\n                        }), 0);\r\n                        mtl.add(subtl, 0);\r\n\r\n                    });\r\n\r\n                    // ALL NEW SLOTS SHOULD BE SLIDED FROM THE LEFT TO THE RIGHT\r\n                    nextsh.find('.slotslide').each(function () {\r\n                        var ss = jQuery(this);\r\n                        subtl.add(punchgs.TweenLite.from(ss, masterspeed / 1000, {\r\n                            top: 0 - opt.sloth,\r\n                            rotation: opt.rotate,\r\n                            ease: eo,\r\n                            force3D: \"auto\",\r\n                            transformPerspective: 600\r\n                        }), 0);\r\n                        mtl.add(subtl, 0);\r\n                    });\r\n                }\r\n\r\n\r\n                /////////////////////////////////////\r\n                // THE SLOTSLIDE - TRANSITION I.  //\r\n                ////////////////////////////////////\r\n                if (nexttrans == 4 || nexttrans == 5) {\r\n\r\n                    setTimeout(function () {\r\n                        actsh.find('.defaultimg').css({opacity: 0});\r\n                    }, 100);\r\n\r\n\r\n                    // ALL NEW SLOTS SHOULD BE SLIDED FROM THE LEFT TO THE RIGHT\r\n                    var cspeed = (masterspeed) / 1000,\r\n                        ticker = cspeed,\r\n                        subtl = new punchgs.TimelineLite();\r\n\r\n                    actsh.find('.slotslide').each(function (i) {\r\n                        var ss = jQuery(this);\r\n                        var del = (i * cspeed) / opt.slots;\r\n                        if (nexttrans == 5) del = ((opt.slots - i - 1) * cspeed) / (opt.slots) / 1.5;\r\n                        subtl.add(punchgs.TweenLite.to(ss, cspeed * 3, {\r\n                            transformPerspective: 600,\r\n                            force3D: \"auto\",\r\n                            top: 0 + opt.height,\r\n                            opacity: 0.5,\r\n                            rotation: opt.rotate,\r\n                            ease: ei,\r\n                            delay: del\r\n                        }), 0);\r\n                        mtl.add(subtl, 0);\r\n                    });\r\n\r\n                    // ALL NEW SLOTS SHOULD BE SLIDED FROM THE LEFT TO THE RIGHT\r\n                    nextsh.find('.slotslide').each(function (i) {\r\n                        var ss = jQuery(this);\r\n                        var del = (i * cspeed) / opt.slots;\r\n                        if (nexttrans == 5) del = ((opt.slots - i - 1) * cspeed) / (opt.slots) / 1.5;\r\n                        subtl.add(punchgs.TweenLite.from(ss, cspeed * 3,\r\n                            {\r\n                                top: (0 - opt.height),\r\n                                opacity: 0.5,\r\n                                rotation: opt.rotate,\r\n                                force3D: \"auto\",\r\n                                ease: punchgs.eo,\r\n                                delay: del\r\n                            }), 0);\r\n                        mtl.add(subtl, 0);\r\n\r\n                    });\r\n\r\n\r\n                }\r\n\r\n                /////////////////////////////////////\r\n                // THE SLOTSLIDE - TRANSITION I.  //\r\n                ////////////////////////////////////\r\n                if (nexttrans == 6) {\r\n\r\n\r\n                    if (opt.slots < 2) opt.slots = 2;\r\n                    if (opt.slots % 2) opt.slots = opt.slots + 1;\r\n\r\n                    var subtl = new punchgs.TimelineLite();\r\n\r\n                    //SET DEFAULT IMG UNVISIBLE\r\n                    setTimeout(function () {\r\n                        actsh.find('.defaultimg').css({opacity: 0});\r\n                    }, 100);\r\n\r\n                    actsh.find('.slotslide').each(function (i) {\r\n                        var ss = jQuery(this);\r\n                        if (i + 1 < opt.slots / 2)\r\n                            var tempo = (i + 2) * 90;\r\n                        else\r\n                            var tempo = (2 + opt.slots - i) * 90;\r\n\r\n                        subtl.add(punchgs.TweenLite.to(ss, (masterspeed + tempo) / 1000, {\r\n                            top: 0 + opt.height,\r\n                            opacity: 1,\r\n                            force3D: \"auto\",\r\n                            rotation: opt.rotate,\r\n                            ease: ei\r\n                        }), 0);\r\n                        mtl.add(subtl, 0);\r\n                    });\r\n\r\n                    // ALL NEW SLOTS SHOULD BE SLIDED FROM THE LEFT TO THE RIGHT\r\n                    nextsh.find('.slotslide').each(function (i) {\r\n                        var ss = jQuery(this);\r\n\r\n                        if (i + 1 < opt.slots / 2)\r\n                            var tempo = (i + 2) * 90;\r\n                        else\r\n                            var tempo = (2 + opt.slots - i) * 90;\r\n\r\n                        subtl.add(punchgs.TweenLite.from(ss, (masterspeed + tempo) / 1000,\r\n                            {top: (0 - opt.height), opacity: 1, force3D: \"auto\", rotation: opt.rotate, ease: eo}), 0);\r\n                        mtl.add(subtl, 0);\r\n                    });\r\n                }\r\n\r\n\r\n                ////////////////////////////////////\r\n                // THE SLOTSZOOM - TRANSITION II. //\r\n                ////////////////////////////////////\r\n                if (nexttrans == 7) {\r\n\r\n                    masterspeed = masterspeed * 2;\r\n                    if (masterspeed > opt.delay) masterspeed = opt.delay;\r\n                    var subtl = new punchgs.TimelineLite();\r\n\r\n                    //SET DEFAULT IMG UNVISIBLE\r\n                    setTimeout(function () {\r\n                        actsh.find('.defaultimg').css({opacity: 0});\r\n                    }, 100);\r\n\r\n                    // ALL OLD SLOTS SHOULD BE SLIDED TO THE RIGHT\r\n                    actsh.find('.slotslide').each(function () {\r\n                        var ss = jQuery(this).find('div');\r\n                        subtl.add(punchgs.TweenLite.to(ss, masterspeed / 1000, {\r\n                            left: (0 - opt.slotw / 2) + 'px',\r\n                            top: (0 - opt.height / 2) + 'px',\r\n                            width: (opt.slotw * 2) + \"px\",\r\n                            height: (opt.height * 2) + \"px\",\r\n                            opacity: 0,\r\n                            rotation: opt.rotate,\r\n                            force3D: \"auto\",\r\n                            ease: ei\r\n                        }), 0);\r\n                        mtl.add(subtl, 0);\r\n\r\n                    });\r\n\r\n                    //////////////////////////////////////////////////////////////\r\n                    // ALL NEW SLOTS SHOULD BE SLIDED FROM THE LEFT TO THE RIGHT //\r\n                    ///////////////////////////////////////////////////////////////\r\n                    nextsh.find('.slotslide').each(function (i) {\r\n                        var ss = jQuery(this).find('div');\r\n\r\n                        subtl.add(punchgs.TweenLite.fromTo(ss, masterspeed / 1000,\r\n                            {left: 0, top: 0, opacity: 0, transformPerspective: 600},\r\n                            {\r\n                                left: (0 - i * opt.slotw) + 'px',\r\n                                ease: eo,\r\n                                force3D: \"auto\",\r\n                                top: (0) + 'px',\r\n                                width: opt.width,\r\n                                height: opt.height,\r\n                                opacity: 1, rotation: 0,\r\n                                delay: 0.1\r\n                            }), 0);\r\n                        mtl.add(subtl, 0);\r\n                    });\r\n                }\r\n\r\n\r\n                ////////////////////////////////////\r\n                // THE SLOTSZOOM - TRANSITION II. //\r\n                ////////////////////////////////////\r\n                if (nexttrans == 8) {\r\n\r\n                    masterspeed = masterspeed * 3;\r\n                    if (masterspeed > opt.delay) masterspeed = opt.delay;\r\n                    var subtl = new punchgs.TimelineLite();\r\n\r\n\r\n                    // ALL OLD SLOTS SHOULD BE SLIDED TO THE RIGHT\r\n                    actsh.find('.slotslide').each(function () {\r\n                        var ss = jQuery(this).find('div');\r\n                        subtl.add(punchgs.TweenLite.to(ss, masterspeed / 1000,\r\n                            {\r\n                                left: (0 - opt.width / 2) + 'px',\r\n                                top: (0 - opt.sloth / 2) + 'px',\r\n                                width: (opt.width * 2) + \"px\",\r\n                                height: (opt.sloth * 2) + \"px\",\r\n                                force3D: \"auto\",\r\n                                ease: ei,\r\n                                opacity: 0, rotation: opt.rotate\r\n                            }), 0);\r\n                        mtl.add(subtl, 0);\r\n\r\n                    });\r\n\r\n\r\n                    // ALL NEW SLOTS SHOULD BE SLIDED FROM THE LEFT TO THE RIGHT //\r\n                    ///////////////////////////////////////////////////////////////\r\n                    nextsh.find('.slotslide').each(function (i) {\r\n                        var ss = jQuery(this).find('div');\r\n\r\n                        subtl.add(punchgs.TweenLite.fromTo(ss, masterspeed / 1000,\r\n                            {left: 0, top: 0, opacity: 0, force3D: \"auto\"},\r\n                            {\r\n                                'left': (0) + 'px',\r\n                                'top': (0 - i * opt.sloth) + 'px',\r\n                                'width': (nextsh.find('.defaultimg').data('neww')) + \"px\",\r\n                                'height': (nextsh.find('.defaultimg').data('newh')) + \"px\",\r\n                                opacity: 1,\r\n                                ease: eo, rotation: 0,\r\n                            }), 0);\r\n                        mtl.add(subtl, 0);\r\n                    });\r\n                }\r\n\r\n\r\n                ////////////////////////////////////////\r\n                // THE SLOTSFADE - TRANSITION III.   //\r\n                //////////////////////////////////////\r\n                if (nexttrans == 9 || nexttrans == 10) {\r\n                    var ssamount = 0;\r\n                    // ALL NEW SLOTS SHOULD BE SLIDED FROM THE LEFT TO THE RIGHT\r\n                    nextsh.find('.slotslide').each(function (i) {\r\n                        var ss = jQuery(this);\r\n                        ssamount++;\r\n                        mtl.add(punchgs.TweenLite.fromTo(ss, masterspeed / 1000, {\r\n                                autoAlpha: 0,\r\n                                force3D: \"auto\",\r\n                                transformPerspective: 600\r\n                            },\r\n                            {autoAlpha: 1, ease: ei, delay: (i * 5) / 1000}), 0);\r\n\r\n                    });\r\n                }\r\n\r\n                ///////////////////////////\r\n                // SIMPLE FADE ANIMATION //\r\n                ///////////////////////////\r\n                if (nexttrans == 11 || nexttrans == 26) {\r\n                    var ssamount = 0,\r\n                        bgcol = specials == 2 ? \"#000000\" : specials == 3 ? \"#ffffff\" : \"transparent\";\r\n                    if (nexttrans == 26) masterspeed = 0;\r\n\r\n                    if (smallpreview) {\r\n                        mtl.add(punchgs.TweenLite.set(nextsh.parent(), {backgroundColor: bgcol, force3D: \"auto\"}), 0);\r\n                        switch (specials) {\r\n                            case 0:\r\n                                mtl.add(punchgs.TweenLite.fromTo(actsh, masterspeed / 1000, {\r\n                                    autoAlpha: 0,\r\n                                    zIndex: 1\r\n                                }, {autoAlpha: 1, zIndex: 1, force3D: \"auto\", ease: ei}), 0);\r\n                                mtl.add(punchgs.TweenLite.set(nextsh, {autoAlpha: 1, force3D: \"auto\", zIndex: 0}), 0);\r\n                                break;\r\n\r\n                            case 1:\r\n                                mtl.add(punchgs.TweenLite.fromTo(actsh, masterspeed / 1000, {autoAlpha: 0}, {\r\n                                    autoAlpha: 1,\r\n                                    force3D: \"auto\",\r\n                                    ease: ei\r\n                                }), 0);\r\n                                mtl.add(punchgs.TweenLite.fromTo(nextsh, masterspeed / 1000, {autoAlpha: 1}, {\r\n                                    autoAlpha: 0,\r\n                                    force3D: \"auto\",\r\n                                    ease: ei\r\n                                }), 0);\r\n                                break;\r\n\r\n                            case 2:\r\n                            case 3:\r\n                            case 4:\r\n                                mtl.add(punchgs.TweenLite.fromTo(nextsh, masterspeed / 2000, {autoAlpha: 1}, {\r\n                                    autoAlpha: 0,\r\n                                    force3D: \"auto\",\r\n                                    ease: ei\r\n                                }), 0);\r\n                                mtl.add(punchgs.TweenLite.set(actsh, {autoAlpha: 0, force3D: \"auto\"}), 0);\r\n                                mtl.add(punchgs.TweenLite.fromTo(actsh, masterspeed / 2000, {autoAlpha: 0}, {\r\n                                    autoAlpha: 1,\r\n                                    force3D: \"auto\",\r\n                                    ease: ei\r\n                                }), masterspeed / 2000);\r\n                                break;\r\n                        }\r\n                    } else {\r\n                        nextsh.find('.slotslide').each(function (i) {\r\n                            var ss = jQuery(this);\r\n                            mtl.add(punchgs.TweenLite.fromTo(ss, masterspeed / 1000, {autoAlpha: 0}, {\r\n                                autoAlpha: 1,\r\n                                force3D: \"auto\",\r\n                                ease: ei\r\n                            }), 0);\r\n                        });\r\n                    }\r\n                }\r\n\r\n                //////////////////////\r\n                // SLIDING OVERLAYS //\r\n                //////////////////////\r\n\r\n                if (nexttrans == 27 || nexttrans == 28 || nexttrans == 29 || nexttrans == 30) {\r\n\r\n                    var slot = nextsh.find('.slot'),\r\n                        nd = nexttrans == 27 || nexttrans == 28 ? 1 : 2,\r\n                        mhp = nexttrans == 27 || nexttrans == 29 ? \"-100%\" : \"+100%\",\r\n                        php = nexttrans == 27 || nexttrans == 29 ? \"+100%\" : \"-100%\",\r\n                        mep = nexttrans == 27 || nexttrans == 29 ? \"-80%\" : \"80%\",\r\n                        pep = nexttrans == 27 || nexttrans == 29 ? \"80%\" : \"-80%\",\r\n                        ptp = nexttrans == 27 || nexttrans == 29 ? \"10%\" : \"-10%\",\r\n                        fa = {overwrite: \"all\"},\r\n                        ta = {autoAlpha: 0, zIndex: 1, force3D: \"auto\", ease: punchgs.Power1.easeInOut},\r\n                        fb = {position: \"inherit\", autoAlpha: 0, overwrite: \"all\"},\r\n                        tb = {autoAlpha: 1, force3D: \"auto\", ease: punchgs.Power1.easeOut},\r\n                        fc = {overwrite: \"all\", zIndex: 2},\r\n                        tc = {autoAlpha: 1, force3D: \"auto\", overwrite: \"all\", ease: punchgs.Power1.easeInOut},\r\n                        fd = {overwrite: \"all\", zIndex: 2},\r\n                        td = {autoAlpha: 1, force3D: \"auto\", ease: punchgs.Power1.easeInOut},\r\n                        at = nd == 1 ? \"y\" : \"x\";\r\n\r\n                    fa[at] = \"0px\";\r\n                    ta[at] = mhp;\r\n                    fb[at] = ptp;\r\n                    tb[at] = \"0%\";\r\n                    fc[at] = php;\r\n                    tc[at] = mhp;\r\n                    fd[at] = mep;\r\n                    td[at] = pep;\r\n\r\n                    slot.append('<span style=\"background-color:rgba(0,0,0,0.6);width:100%;height:100%;position:absolute;top:0px;left:0px;display:block;z-index:2\"></span>');\r\n\r\n\r\n                    mtl.add(punchgs.TweenLite.fromTo(actsh, masterspeed / 1000, fa, ta), 0);\r\n                    mtl.add(punchgs.TweenLite.fromTo(nextsh.find('.defaultimg'), masterspeed / 2000, fb, tb), masterspeed / 2000);\r\n                    mtl.add(punchgs.TweenLite.fromTo(slot, masterspeed / 1000, fc, tc), 0);\r\n                    mtl.add(punchgs.TweenLite.fromTo(slot.find('.slotslide div'), masterspeed / 1000, fd, td), 0);\r\n                }\r\n\r\n\r\n                if (nexttrans == 12 || nexttrans == 13 || nexttrans == 14 || nexttrans == 15) {\r\n                    masterspeed = masterspeed;\r\n                    if (masterspeed > opt.delay) masterspeed = opt.delay;\r\n                    //masterspeed = 1000;\r\n\r\n                    setTimeout(function () {\r\n                        punchgs.TweenLite.set(actsh.find('.defaultimg'), {autoAlpha: 0});\r\n\r\n                    }, 100);\r\n\r\n                    var oow = opt.width,\r\n                        ooh = opt.height,\r\n                        ssn = nextsh.find('.slotslide'),\r\n                        twx = 0,\r\n                        twy = 0,\r\n                        op = 1,\r\n                        scal = 1,\r\n                        fromscale = 1,\r\n                        speedy = masterspeed / 1000,\r\n                        speedy2 = speedy;\r\n\r\n\r\n                    if (opt.sliderLayout == \"fullwidth\" || opt.sliderLayout == \"fullscreen\") {\r\n                        oow = ssn.width();\r\n                        ooh = ssn.height();\r\n                    }\r\n\r\n\r\n                    if (nexttrans == 12)\r\n                        twx = oow;\r\n                    else if (nexttrans == 15)\r\n                        twx = 0 - oow;\r\n                    else if (nexttrans == 13)\r\n                        twy = ooh;\r\n                    else if (nexttrans == 14)\r\n                        twy = 0 - ooh;\r\n\r\n\r\n                    // DEPENDING ON EXTENDED SPECIALS, DIFFERENT SCALE AND OPACITY FUNCTIONS NEED TO BE ADDED\r\n                    if (specials == 1) op = 0;\r\n                    if (specials == 2) op = 0;\r\n                    if (specials == 3) speedy = masterspeed / 1300;\r\n\r\n                    if (specials == 4 || specials == 5)\r\n                        scal = 0.6;\r\n                    if (specials == 6)\r\n                        scal = 1.4;\r\n\r\n\r\n                    if (specials == 5 || specials == 6) {\r\n                        fromscale = 1.4;\r\n                        op = 0;\r\n                        oow = 0;\r\n                        ooh = 0;\r\n                        twx = 0;\r\n                        twy = 0;\r\n                    }\r\n                    if (specials == 6) fromscale = 0.6;\r\n                    var dd = 0;\r\n\r\n                    if (specials == 7) {\r\n                        oow = 0;\r\n                        ooh = 0;\r\n                    }\r\n\r\n                    var inc = nextsh.find('.slotslide'),\r\n                        outc = actsh.find('.slotslide');\r\n\r\n                    mtl.add(punchgs.TweenLite.set(actli, {zIndex: 15}), 0);\r\n                    mtl.add(punchgs.TweenLite.set(nextli, {zIndex: 20}), 0);\r\n\r\n                    if (specials == 8) {\r\n\r\n                        mtl.add(punchgs.TweenLite.set(actli, {zIndex: 20}), 0);\r\n                        mtl.add(punchgs.TweenLite.set(nextli, {zIndex: 15}), 0);\r\n                        mtl.add(punchgs.TweenLite.set(inc, {\r\n                            left: 0,\r\n                            top: 0,\r\n                            scale: 1,\r\n                            opacity: 1,\r\n                            rotation: 0,\r\n                            ease: ei,\r\n                            force3D: \"auto\"\r\n                        }), 0);\r\n                    } else {\r\n\r\n                        mtl.add(punchgs.TweenLite.from(inc, speedy, {\r\n                            left: twx,\r\n                            top: twy,\r\n                            scale: fromscale,\r\n                            opacity: op,\r\n                            rotation: opt.rotate,\r\n                            ease: ei,\r\n                            force3D: \"auto\"\r\n                        }), 0);\r\n                    }\r\n\r\n                    if (specials == 4 || specials == 5) {\r\n                        oow = 0;\r\n                        ooh = 0;\r\n                    }\r\n\r\n                    if (specials != 1)\r\n                        switch (nexttrans) {\r\n                            case 12:\r\n                                mtl.add(punchgs.TweenLite.to(outc, speedy2, {\r\n                                    'left': (0 - oow) + 'px',\r\n                                    force3D: \"auto\",\r\n                                    scale: scal,\r\n                                    opacity: op,\r\n                                    rotation: opt.rotate,\r\n                                    ease: eo\r\n                                }), 0);\r\n                                break;\r\n                            case 15:\r\n                                mtl.add(punchgs.TweenLite.to(outc, speedy2, {\r\n                                    'left': (oow) + 'px',\r\n                                    force3D: \"auto\",\r\n                                    scale: scal,\r\n                                    opacity: op,\r\n                                    rotation: opt.rotate,\r\n                                    ease: eo\r\n                                }), 0);\r\n                                break;\r\n                            case 13:\r\n                                mtl.add(punchgs.TweenLite.to(outc, speedy2, {\r\n                                    'top': (0 - ooh) + 'px',\r\n                                    force3D: \"auto\",\r\n                                    scale: scal,\r\n                                    opacity: op,\r\n                                    rotation: opt.rotate,\r\n                                    ease: eo\r\n                                }), 0);\r\n                                break;\r\n                            case 14:\r\n                                mtl.add(punchgs.TweenLite.to(outc, speedy2, {\r\n                                    'top': (ooh) + 'px',\r\n                                    force3D: \"auto\",\r\n                                    scale: scal,\r\n                                    opacity: op,\r\n                                    rotation: opt.rotate,\r\n                                    ease: eo\r\n                                }), 0);\r\n                                break;\r\n                        }\r\n\r\n                }\r\n\r\n                //////////////////////////////////////\r\n                // THE SLOTSLIDE - TRANSITION XVI.  //\r\n                //////////////////////////////////////\r\n                if (nexttrans == 16) {\t\t\t\t\t\t// PAPERCUT\r\n\r\n\r\n                    var subtl = new punchgs.TimelineLite();\r\n                    mtl.add(punchgs.TweenLite.set(actli, {'position': 'absolute', 'z-index': 20}), 0);\r\n                    mtl.add(punchgs.TweenLite.set(nextli, {'position': 'absolute', 'z-index': 15}), 0);\r\n\r\n\r\n                    // PREPARE THE CUTS\r\n                    actli.wrapInner('<div class=\"tp-half-one\" style=\"position:relative; width:100%;height:100%\"></div>');\r\n\r\n                    actli.find('.tp-half-one').clone(true).appendTo(actli).addClass(\"tp-half-two\");\r\n                    actli.find('.tp-half-two').removeClass('tp-half-one');\r\n\r\n                    var oow = opt.width,\r\n                        ooh = opt.height;\r\n                    if (opt.autoHeight == \"on\")\r\n                        ooh = container.height();\r\n\r\n\r\n                    actli.find('.tp-half-one .defaultimg').wrap('<div class=\"tp-papercut\" style=\"width:' + oow + 'px;height:' + ooh + 'px;\"></div>')\r\n                    actli.find('.tp-half-two .defaultimg').wrap('<div class=\"tp-papercut\" style=\"width:' + oow + 'px;height:' + ooh + 'px;\"></div>')\r\n                    actli.find('.tp-half-two .defaultimg').css({position: 'absolute', top: '-50%'});\r\n                    actli.find('.tp-half-two .tp-caption').wrapAll('<div style=\"position:absolute;top:-50%;left:0px;\"></div>');\r\n\r\n                    mtl.add(punchgs.TweenLite.set(actli.find('.tp-half-two'),\r\n                        {\r\n                            width: oow,\r\n                            height: ooh,\r\n                            overflow: 'hidden',\r\n                            zIndex: 15,\r\n                            position: 'absolute',\r\n                            top: ooh / 2,\r\n                            left: '0px',\r\n                            transformPerspective: 600,\r\n                            transformOrigin: \"center bottom\"\r\n                        }), 0);\r\n\r\n                    mtl.add(punchgs.TweenLite.set(actli.find('.tp-half-one'),\r\n                        {\r\n                            width: oow,\r\n                            height: ooh / 2,\r\n                            overflow: 'visible',\r\n                            zIndex: 10,\r\n                            position: 'absolute',\r\n                            top: '0px',\r\n                            left: '0px',\r\n                            transformPerspective: 600,\r\n                            transformOrigin: \"center top\"\r\n                        }), 0);\r\n\r\n                    // ANIMATE THE CUTS\r\n                    var img = actli.find('.defaultimg'),\r\n                        ro1 = Math.round(Math.random() * 20 - 10),\r\n                        ro2 = Math.round(Math.random() * 20 - 10),\r\n                        ro3 = Math.round(Math.random() * 20 - 10),\r\n                        xof = Math.random() * 0.4 - 0.2,\r\n                        yof = Math.random() * 0.4 - 0.2,\r\n                        sc1 = Math.random() * 1 + 1,\r\n                        sc2 = Math.random() * 1 + 1,\r\n                        sc3 = Math.random() * 0.3 + 0.3;\r\n\r\n                    mtl.add(punchgs.TweenLite.set(actli.find('.tp-half-one'), {overflow: 'hidden'}), 0);\r\n                    mtl.add(punchgs.TweenLite.fromTo(actli.find('.tp-half-one'), masterspeed / 800,\r\n                        {\r\n                            width: oow,\r\n                            height: ooh / 2,\r\n                            position: 'absolute',\r\n                            top: '0px',\r\n                            left: '0px',\r\n                            force3D: \"auto\",\r\n                            transformOrigin: \"center top\"\r\n                        },\r\n                        {scale: sc1, rotation: ro1, y: (0 - ooh - ooh / 4), autoAlpha: 0, ease: ei}), 0);\r\n                    mtl.add(punchgs.TweenLite.fromTo(actli.find('.tp-half-two'), masterspeed / 800,\r\n                        {\r\n                            width: oow,\r\n                            height: ooh,\r\n                            overflow: 'hidden',\r\n                            position: 'absolute',\r\n                            top: ooh / 2,\r\n                            left: '0px',\r\n                            force3D: \"auto\",\r\n                            transformOrigin: \"center bottom\"\r\n                        },\r\n                        {\r\n                            scale: sc2, rotation: ro2, y: ooh + ooh / 4, ease: ei, autoAlpha: 0, onComplete: function () {\r\n                            // CLEAN UP\r\n                            punchgs.TweenLite.set(actli, {'position': 'absolute', 'z-index': 15});\r\n                            punchgs.TweenLite.set(nextli, {'position': 'absolute', 'z-index': 20});\r\n                            if (actli.find('.tp-half-one').length > 0) {\r\n                                actli.find('.tp-half-one .defaultimg').unwrap();\r\n                                actli.find('.tp-half-one .slotholder').unwrap();\r\n                            }\r\n                            actli.find('.tp-half-two').remove();\r\n                        }\r\n                        }), 0);\r\n\r\n                    subtl.add(punchgs.TweenLite.set(nextsh.find('.defaultimg'), {autoAlpha: 1}), 0);\r\n\r\n                    if (actli.html() != null)\r\n                        mtl.add(punchgs.TweenLite.fromTo(nextli, (masterspeed - 200) / 1000,\r\n                            {\r\n                                scale: sc3,\r\n                                x: (opt.width / 4) * xof,\r\n                                y: (ooh / 4) * yof,\r\n                                rotation: ro3,\r\n                                force3D: \"auto\",\r\n                                transformOrigin: \"center center\",\r\n                                ease: eo\r\n                            },\r\n                            {autoAlpha: 1, scale: 1, x: 0, y: 0, rotation: 0}), 0);\r\n\r\n                    mtl.add(subtl, 0);\r\n\r\n\r\n                }\r\n\r\n                ////////////////////////////////////////\r\n                // THE SLOTSLIDE - TRANSITION XVII.  //\r\n                ///////////////////////////////////////\r\n                if (nexttrans == 17) {\t\t\t\t\t\t\t\t// 3D CURTAIN HORIZONTAL\r\n\r\n\r\n                    // ALL NEW SLOTS SHOULD BE SLIDED FROM THE LEFT TO THE RIGHT\r\n\r\n                    nextsh.find('.slotslide').each(function (j) {\r\n                        var ss = jQuery(this);\r\n\r\n                        mtl.add(punchgs.TweenLite.fromTo(ss, (masterspeed) / 800,\r\n                            {\r\n                                opacity: 0,\r\n                                rotationY: 0,\r\n                                scale: 0.9,\r\n                                rotationX: -110,\r\n                                force3D: \"auto\",\r\n                                transformPerspective: 600,\r\n                                transformOrigin: \"center center\"\r\n                            },\r\n                            {\r\n                                opacity: 1,\r\n                                top: 0,\r\n                                left: 0,\r\n                                scale: 1,\r\n                                rotation: 0,\r\n                                rotationX: 0,\r\n                                force3D: \"auto\",\r\n                                rotationY: 0,\r\n                                ease: ei,\r\n                                delay: j * 0.06\r\n                            }), 0);\r\n\r\n                    });\r\n                }\r\n\r\n\r\n                ////////////////////////////////////////\r\n                // THE SLOTSLIDE - TRANSITION XVIII.  //\r\n                ///////////////////////////////////////\r\n                if (nexttrans == 18) {\t\t\t\t\t\t\t\t// 3D CURTAIN VERTICAL\r\n\r\n                    // ALL NEW SLOTS SHOULD BE SLIDED FROM THE LEFT TO THE RIGHT\r\n                    nextsh.find('.slotslide').each(function (j) {\r\n                        var ss = jQuery(this);\r\n\r\n                        mtl.add(punchgs.TweenLite.fromTo(ss, (masterspeed) / 500,\r\n                            {\r\n                                autoAlpha: 0,\r\n                                rotationY: 110,\r\n                                scale: 0.9,\r\n                                rotationX: 10,\r\n                                force3D: \"auto\",\r\n                                transformPerspective: 600,\r\n                                transformOrigin: \"center center\"\r\n                            },\r\n                            {\r\n                                autoAlpha: 1,\r\n                                top: 0,\r\n                                left: 0,\r\n                                scale: 1,\r\n                                rotation: 0,\r\n                                rotationX: 0,\r\n                                force3D: \"auto\",\r\n                                rotationY: 0,\r\n                                ease: ei,\r\n                                delay: j * 0.06\r\n                            }), 0);\r\n                    });\r\n\r\n\r\n                }\r\n\r\n\r\n                ////////////////////////////////////////\r\n                // THE SLOTSLIDE - TRANSITION XIX.  //\r\n                ///////////////////////////////////////\r\n                if (nexttrans == 19 || nexttrans == 22) {\t\t\t\t\t\t\t\t// IN CUBE\r\n\r\n                    var subtl = new punchgs.TimelineLite();\r\n                    //SET DEFAULT IMG UNVISIBLE\r\n\r\n                    mtl.add(punchgs.TweenLite.set(actli, {zIndex: 20}), 0);\r\n                    mtl.add(punchgs.TweenLite.set(nextli, {zIndex: 20}), 0);\r\n                    setTimeout(function () {\r\n                        actsh.find('.defaultimg').css({opacity: 0});\r\n                    }, 100);\r\n                    var rot = 90,\r\n                        op = 1,\r\n                        torig = \"center center \";\r\n\r\n                    if (slidedirection == 1) rot = -90;\r\n\r\n                    if (nexttrans == 19) {\r\n                        torig = torig + \"-\" + opt.height / 2;\r\n                        op = 0;\r\n\r\n                    } else {\r\n                        torig = torig + opt.height / 2;\r\n                    }\r\n\r\n                    // ALL NEW SLOTS SHOULD BE SLIDED FROM THE LEFT TO THE RIGHT\r\n                    punchgs.TweenLite.set(container, {\r\n                        transformStyle: \"flat\",\r\n                        backfaceVisibility: \"hidden\",\r\n                        transformPerspective: 600\r\n                    });\r\n\r\n                    nextsh.find('.slotslide').each(function (j) {\r\n                        var ss = jQuery(this);\r\n\r\n                        subtl.add(punchgs.TweenLite.fromTo(ss, masterspeed / 1000,\r\n                            {\r\n                                transformStyle: \"flat\",\r\n                                backfaceVisibility: \"hidden\",\r\n                                left: 0,\r\n                                rotationY: opt.rotate,\r\n                                z: 10,\r\n                                top: 0,\r\n                                scale: 1,\r\n                                force3D: \"auto\",\r\n                                transformPerspective: 600,\r\n                                transformOrigin: torig,\r\n                                rotationX: rot\r\n                            },\r\n                            {\r\n                                left: 0,\r\n                                rotationY: 0,\r\n                                top: 0,\r\n                                z: 0,\r\n                                scale: 1,\r\n                                force3D: \"auto\",\r\n                                rotationX: 0,\r\n                                delay: (j * 50) / 1000,\r\n                                ease: ei\r\n                            }), 0);\r\n                        subtl.add(punchgs.TweenLite.to(ss, 0.1, {autoAlpha: 1, delay: (j * 50) / 1000}), 0);\r\n                        mtl.add(subtl);\r\n                    });\r\n\r\n                    actsh.find('.slotslide').each(function (j) {\r\n                        var ss = jQuery(this);\r\n                        var rot = -90;\r\n                        if (slidedirection == 1) rot = 90;\r\n\r\n                        subtl.add(punchgs.TweenLite.fromTo(ss, masterspeed / 1000,\r\n                            {\r\n                                transformStyle: \"flat\",\r\n                                backfaceVisibility: \"hidden\",\r\n                                autoAlpha: 1,\r\n                                rotationY: 0,\r\n                                top: 0,\r\n                                z: 0,\r\n                                scale: 1,\r\n                                force3D: \"auto\",\r\n                                transformPerspective: 600,\r\n                                transformOrigin: torig,\r\n                                rotationX: 0\r\n                            },\r\n                            {\r\n                                autoAlpha: 1,\r\n                                rotationY: opt.rotate,\r\n                                top: 0,\r\n                                z: 10,\r\n                                scale: 1,\r\n                                rotationX: rot,\r\n                                delay: (j * 50) / 1000,\r\n                                force3D: \"auto\",\r\n                                ease: eo\r\n                            }), 0);\r\n\r\n                        mtl.add(subtl);\r\n                    });\r\n                    mtl.add(punchgs.TweenLite.set(actli, {zIndex: 18}), 0);\r\n                }\r\n\r\n\r\n                ////////////////////////////////////////\r\n                // THE SLOTSLIDE - TRANSITION XX.  //\r\n                ///////////////////////////////////////\r\n                if (nexttrans == 20) {\t\t\t\t\t\t\t\t// FLYIN\r\n\r\n\r\n                    setTimeout(function () {\r\n                        actsh.find('.defaultimg').css({opacity: 0});\r\n                    }, 100);\r\n\r\n                    if (slidedirection == 1) {\r\n                        var ofx = -opt.width\r\n                        var rot = 80;\r\n                        var torig = \"20% 70% -\" + opt.height / 2;\r\n                    } else {\r\n                        var ofx = opt.width;\r\n                        var rot = -80;\r\n                        var torig = \"80% 70% -\" + opt.height / 2;\r\n                    }\r\n\r\n\r\n                    nextsh.find('.slotslide').each(function (j) {\r\n                        var ss = jQuery(this),\r\n                            d = (j * 50) / 1000;\r\n\r\n\r\n                        mtl.add(punchgs.TweenLite.fromTo(ss, masterspeed / 1000,\r\n                            {\r\n                                left: ofx,\r\n                                rotationX: 40,\r\n                                z: -600,\r\n                                opacity: op,\r\n                                top: 0,\r\n                                scale: 1,\r\n                                force3D: \"auto\",\r\n                                transformPerspective: 600,\r\n                                transformOrigin: torig,\r\n                                transformStyle: \"flat\",\r\n                                rotationY: rot\r\n                            },\r\n                            {\r\n                                left: 0,\r\n                                rotationX: 0,\r\n                                opacity: 1,\r\n                                top: 0,\r\n                                z: 0,\r\n                                scale: 1,\r\n                                rotationY: 0,\r\n                                delay: d,\r\n                                ease: ei\r\n                            }), 0);\r\n\r\n\r\n                    });\r\n                    actsh.find('.slotslide').each(function (j) {\r\n                        var ss = jQuery(this),\r\n                            d = (j * 50) / 1000;\r\n                        d = j > 0 ? d + masterspeed / 9000 : 0;\r\n\r\n                        if (slidedirection != 1) {\r\n                            var ofx = -opt.width / 2\r\n                            var rot = 30;\r\n                            var torig = \"20% 70% -\" + opt.height / 2;\r\n                        } else {\r\n                            var ofx = opt.width / 2;\r\n                            var rot = -30;\r\n                            var torig = \"80% 70% -\" + opt.height / 2;\r\n                        }\r\n                        eo = punchgs.Power2.easeInOut;\r\n\r\n                        mtl.add(punchgs.TweenLite.fromTo(ss, masterspeed / 1000,\r\n                            {\r\n                                opacity: 1,\r\n                                rotationX: 0,\r\n                                top: 0,\r\n                                z: 0,\r\n                                scale: 1,\r\n                                left: 0,\r\n                                force3D: \"auto\",\r\n                                transformPerspective: 600,\r\n                                transformOrigin: torig,\r\n                                transformStyle: \"flat\",\r\n                                rotationY: 0\r\n                            },\r\n                            {\r\n                                opacity: 1,\r\n                                rotationX: 20,\r\n                                top: 0,\r\n                                z: -600,\r\n                                left: ofx,\r\n                                force3D: \"auto\",\r\n                                rotationY: rot,\r\n                                delay: d,\r\n                                ease: eo\r\n                            }), 0);\r\n\r\n\r\n                    });\r\n                }\r\n\r\n                ////////////////////////////////////////\r\n                // THE SLOTSLIDE - TRANSITION XX.  //\r\n                ///////////////////////////////////////\r\n                if (nexttrans == 21 || nexttrans == 25) {\t\t\t\t\t\t\t\t// TURNOFF\r\n\r\n\r\n                    //SET DEFAULT IMG UNVISIBLE\r\n\r\n                    setTimeout(function () {\r\n                        actsh.find('.defaultimg').css({opacity: 0});\r\n                    }, 100);\r\n                    var rot = 90,\r\n                        ofx = -opt.width,\r\n                        rot2 = -rot;\r\n\r\n                    if (slidedirection == 1) {\r\n                        if (nexttrans == 25) {\r\n                            var torig = \"center top 0\";\r\n                            rot = opt.rotate;\r\n                        } else {\r\n                            var torig = \"left center 0\";\r\n                            rot2 = opt.rotate;\r\n                        }\r\n\r\n                    } else {\r\n                        ofx = opt.width;\r\n                        rot = -90;\r\n                        if (nexttrans == 25) {\r\n                            var torig = \"center bottom 0\"\r\n                            rot2 = -rot;\r\n                            rot = opt.rotate;\r\n                        } else {\r\n                            var torig = \"right center 0\";\r\n                            rot2 = opt.rotate;\r\n                        }\r\n                    }\r\n\r\n                    nextsh.find('.slotslide').each(function (j) {\r\n                        var ss = jQuery(this),\r\n                            ms2 = ((masterspeed / 1.5) / 3);\r\n\r\n\r\n                        mtl.add(punchgs.TweenLite.fromTo(ss, (ms2 * 2) / 1000,\r\n                            {\r\n                                left: 0,\r\n                                transformStyle: \"flat\",\r\n                                rotationX: rot2,\r\n                                z: 0,\r\n                                autoAlpha: 0,\r\n                                top: 0,\r\n                                scale: 1,\r\n                                force3D: \"auto\",\r\n                                transformPerspective: 1200,\r\n                                transformOrigin: torig,\r\n                                rotationY: rot\r\n                            },\r\n                            {\r\n                                left: 0,\r\n                                rotationX: 0,\r\n                                top: 0,\r\n                                z: 0,\r\n                                autoAlpha: 1,\r\n                                scale: 1,\r\n                                rotationY: 0,\r\n                                force3D: \"auto\",\r\n                                delay: ms2 / 1000,\r\n                                ease: ei\r\n                            }), 0);\r\n                    });\r\n\r\n\r\n                    if (slidedirection != 1) {\r\n                        ofx = -opt.width\r\n                        rot = 90;\r\n\r\n                        if (nexttrans == 25) {\r\n                            torig = \"center top 0\"\r\n                            rot2 = -rot;\r\n                            rot = opt.rotate;\r\n                        } else {\r\n                            torig = \"left center 0\";\r\n                            rot2 = opt.rotate;\r\n                        }\r\n\r\n                    } else {\r\n                        ofx = opt.width;\r\n                        rot = -90;\r\n                        if (nexttrans == 25) {\r\n                            torig = \"center bottom 0\"\r\n                            rot2 = -rot;\r\n                            rot = opt.rotate;\r\n                        } else {\r\n                            torig = \"right center 0\";\r\n                            rot2 = opt.rotate;\r\n                        }\r\n                    }\r\n\r\n                    actsh.find('.slotslide').each(function (j) {\r\n                        var ss = jQuery(this);\r\n                        mtl.add(punchgs.TweenLite.fromTo(ss, masterspeed / 1000,\r\n                            {\r\n                                left: 0,\r\n                                transformStyle: \"flat\",\r\n                                rotationX: 0,\r\n                                z: 0,\r\n                                autoAlpha: 1,\r\n                                top: 0,\r\n                                scale: 1,\r\n                                force3D: \"auto\",\r\n                                transformPerspective: 1200,\r\n                                transformOrigin: torig,\r\n                                rotationY: 0\r\n                            },\r\n                            {\r\n                                left: 0,\r\n                                rotationX: rot2,\r\n                                top: 0,\r\n                                z: 0,\r\n                                autoAlpha: 1,\r\n                                force3D: \"auto\",\r\n                                scale: 1,\r\n                                rotationY: rot,\r\n                                ease: eo\r\n                            }), 0);\r\n                    });\r\n                }\r\n\r\n\r\n                ////////////////////////////////////////\r\n                // THE SLOTSLIDE - TRANSITION XX.  //\r\n                ///////////////////////////////////////\r\n                if (nexttrans == 23 || nexttrans == 24) {\t\t\t\t\t\t\t\t// cube-horizontal - inboxhorizontal\r\n\r\n                    //SET DEFAULT IMG UNVISIBLE\r\n                    setTimeout(function () {\r\n                        actsh.find('.defaultimg').css({opacity: 0});\r\n                    }, 100);\r\n                    var rot = -90,\r\n                        op = 1,\r\n                        opx = 0;\r\n\r\n                    if (slidedirection == 1) rot = 90;\r\n                    if (nexttrans == 23) {\r\n                        var torig = \"center center -\" + opt.width / 2;\r\n                        op = 0;\r\n                    } else\r\n                        var torig = \"center center \" + opt.width / 2;\r\n\r\n                    punchgs.TweenLite.set(container, {\r\n                        transformStyle: \"preserve-3d\",\r\n                        backfaceVisibility: \"hidden\",\r\n                        perspective: 2500\r\n                    });\r\n                    nextsh.find('.slotslide').each(function (j) {\r\n                        var ss = jQuery(this);\r\n                        mtl.add(punchgs.TweenLite.fromTo(ss, masterspeed / 1000,\r\n                            {\r\n                                left: opx,\r\n                                rotationX: opt.rotate,\r\n                                force3D: \"auto\",\r\n                                opacity: op,\r\n                                top: 0,\r\n                                scale: 1,\r\n                                transformPerspective: 1200,\r\n                                transformOrigin: torig,\r\n                                rotationY: rot\r\n                            },\r\n                            {\r\n                                left: 0,\r\n                                rotationX: 0,\r\n                                autoAlpha: 1,\r\n                                top: 0,\r\n                                z: 0,\r\n                                scale: 1,\r\n                                rotationY: 0,\r\n                                delay: (j * 50) / 500,\r\n                                ease: ei\r\n                            }), 0);\r\n                    });\r\n\r\n                    rot = 90;\r\n                    if (slidedirection == 1) rot = -90;\r\n\r\n                    actsh.find('.slotslide').each(function (j) {\r\n                        var ss = jQuery(this);\r\n                        mtl.add(punchgs.TweenLite.fromTo(ss, masterspeed / 1000,\r\n                            {\r\n                                left: 0,\r\n                                rotationX: 0,\r\n                                top: 0,\r\n                                z: 0,\r\n                                scale: 1,\r\n                                force3D: \"auto\",\r\n                                transformStyle: \"flat\",\r\n                                transformPerspective: 1200,\r\n                                transformOrigin: torig,\r\n                                rotationY: 0\r\n                            },\r\n                            {\r\n                                left: opx,\r\n                                rotationX: opt.rotate,\r\n                                top: 0,\r\n                                scale: 1,\r\n                                rotationY: rot,\r\n                                delay: (j * 50) / 500,\r\n                                ease: eo\r\n                            }), 0);\r\n                        if (nexttrans == 23) mtl.add(punchgs.TweenLite.fromTo(ss, masterspeed / 2000, {autoAlpha: 1}, {\r\n                            autoAlpha: 0,\r\n                            delay: (j * 50) / 500 + masterspeed / 3000,\r\n                            ease: eo\r\n                        }), 0);\r\n\r\n                    });\r\n                }\r\n\r\n\r\n                // SHOW FIRST LI && ANIMATE THE CAPTIONS\r\n                mtl.add(punchgs.TweenLite.set(nextsh.find('.defaultimg'), {autoAlpha: 1}));\r\n                mtl.add(punchgs.TweenLite.set(nextsh.find('.slot'), {autoAlpha: 0}));\r\n\r\n                mtl.seek(100000);\r\n\r\n                if (givebackmtl != undefined)\r\n                    return mtl;\r\n                else\r\n                    jQuery('#divbgholder').data('slidetimeline', mtl);\r\n\r\n            }\r\n\r\n\r\n            ///////////////////////\r\n            //\tREMOVE SLOTS\t//\r\n            /////////////////////\r\n            var removeAllSlots = function () {\r\n                if (jQuery('#divbgholder').data('slidetimeline') != undefined) {\r\n                    jQuery('#divbgholder').data('slidetimeline').kill();\r\n                    jQuery('#divbgholder').find('.slot').each(function () {\r\n                        jQuery(this).remove();\r\n                    });\r\n                }\r\n\r\n            }\r\n\r\n            t.resetSlideAnimations = function (seekinpos) {\r\n                removeAllSlots();\r\n                slideAnimation();\r\n                var mst = jQuery('#divbgholder').data('slidetimeline'),\r\n                    mp = jQuery('#mastertimer-position'),\r\n                    tpos = (mp.position().left) / 100;\r\n                if (mst != undefined) {\r\n                    mst.stop();\r\n                    if (seekinpos) mst.seek(tpos);\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        return tpLayerTimelinesRev;\r\n    }\r\n);","Nwdthemes_Revslider/admin/assets/js/source/rev_admin.js":"define(\r\n    'revAdmin',\r\n    ['jquery', 'settings', 'admin', 'rsCodeMirror', 'rev_lang', 'loading', 'editLayers', 'editLayersTimeline', 'perfectScrollbar'],\r\n    function(jQuery, RevSliderSettings, UniteAdminRev, CodeMirror, rev_lang, showWaitAMinute, UniteLayersRev, tpLayerTimelinesRev) {\r\n\r\n        var rs_install_slider = {};\r\n        var rs_install_ids = [];\r\n        var rs_install_url = false;\r\n\r\n        var RevSliderAdmin = new function(){\r\n\r\n            var t = this;\r\n            var g_postTypesWithCats = null;\r\n\r\n            /**\r\n             * init \"slider\" view functionality\r\n             */\r\n            var initSaveSliderButton = function(ajaxAction){\r\n\r\n                jQuery(\"#button_save_slider,#button_save_slider_t\").click(function(){\r\n                    //collect data\r\n                    var data = {\r\n                        params: RevSliderSettings.getSettingsObject(\"form_slider_params\"),\r\n                        main: RevSliderSettings.getSettingsObject(\"form_slider_main\"),\r\n                        template: jQuery('#revslider_template').val() //determinate if we are a template slider or not\r\n                    };\r\n\r\n                    //add slider id to the data\r\n                    if(ajaxAction == \"update_slider\"){\r\n                        data.sliderid = jQuery(\"#sliderid\").val();\r\n                        data.params.custom_css = rev_cm_custom_css.getValue();\r\n                        data.params.custom_javascript = rev_cm_custom_js.getValue();\r\n\r\n                        UniteAdminRev.setAjaxLoaderID(\"loader_update, #loader_update_t\");\r\n                        UniteAdminRev.setAjaxHideButtonID(\"button_save_slider,button_save_slider_t\");\r\n                        UniteAdminRev.setSuccessMessageID(\"update_slider_success,#update_slider_success_t\");\r\n\r\n                    }\r\n\r\n                    UniteAdminRev.ajaxRequest(ajaxAction, data);\r\n                });\r\n            }\r\n\r\n\r\n            t.initLayerPreview = function(){\r\n                //preview slider actions\r\n                jQuery(\"#button_preview_slider-tb\").click(function(){\r\n                    var sliderID = jQuery(\"#sliderid\").val();\r\n\r\n                    openPreviewSliderDialog(sliderID);\r\n                });\r\n            }\r\n\r\n\r\n            /**\r\n             * update shortcode from alias value.\r\n             */\r\n            var updateShortcode = function(){\r\n                var alias = jQuery(\"#alias\").val();\r\n                var shortcode = '{{block class=\"Nwdthemes\\\\Revslider\\\\Block\\\\Revslider\" alias=\"'+alias+'\"}}';\r\n                if(alias == \"\")\r\n                    shortcode = rev_lang.wrong_alias;\r\n                jQuery(\"#shortcode\").val(shortcode);\r\n            }\r\n\r\n\r\n            var template_library_loaded = false;\r\n            t.load_slider_template_html = function(){\r\n                //jQuery('#button_import_template_slider').click();\r\n\r\n                //get HTML of Sliders and add them to the wrapper\r\n                if(!template_library_loaded){\r\n                    UniteAdminRev.ajaxRequest('load_template_store_sliders', {}, function(response){\r\n                        if(response.success){\r\n                            jQuery('.revolution-template-groups').html(response['html']);\r\n                            jQuery('#template_area').addClass(\"show\");\r\n                            jQuery('#template_area').trigger(\"showitnow\");\r\n\r\n                            initTemplateSliders();\r\n\r\n                            template_library_loaded = true;\r\n                        }\r\n                    });\r\n                }else{\r\n                    jQuery('#template_area').addClass(\"show\");\r\n                    jQuery('#template_area').trigger(\"showitnow\");\r\n                }\r\n\r\n                return true;\r\n            }\r\n\r\n            var template_slide_library_loaded = false;\r\n            t.load_slide_template_html = function(){\r\n                //jQuery('#button_import_template_slider').click();\r\n\r\n                //get HTML of Sliders and add them to the wrapper\r\n                if(!template_slide_library_loaded){\r\n                    UniteAdminRev.ajaxRequest('load_template_store_slides', {}, function(response){\r\n                        if(response.success){\r\n                            jQuery('.revolution-basic-templates').html(response['html']);\r\n                            template_slide_library_loaded = true;\r\n\r\n                            templateSelectorHandling();\r\n\r\n                            jQuery('#template_area').addClass(\"show\");\r\n                            jQuery('.revolution-template-groups').perfectScrollbar();\r\n                            scrollTA();\r\n                        }\r\n                    });\r\n                }else{\r\n                    jQuery('#template_area').addClass(\"show\");\r\n                    jQuery('.revolution-template-groups').perfectScrollbar();\r\n                    scrollTA();\r\n                }\r\n                return true;\r\n            }\r\n\r\n            /**\r\n             * change fields of the slider view\r\n             */\r\n            var enableSliderViewResponsitiveFields = function(enableRes,enableAuto,enableFullScreen,textMode){\r\n                jQuery('input[name=\"width\"]').attr('disabled', false);\r\n                jQuery('input[name=\"height\"]').attr('disabled', false);\r\n\r\n                if(textMode == 'normal' || textMode == 'full'){\r\n                    jQuery('#layout-preshow').removeClass('lp-fullscreenalign');\r\n                }\r\n\r\n                //enable / disable responsitive fields\r\n                if(enableRes){\r\n                    jQuery(\"#responsitive_row\").removeClass(\"disabled\");\r\n                    jQuery(\"#responsitive_row input\").prop(\"disabled\",\"\");\r\n                }else{\r\n                    jQuery(\"#responsitive_row\").addClass(\"disabled\");\r\n                    jQuery(\"#responsitive_row input\").prop(\"disabled\",\"disabled\");\r\n                }\r\n\r\n                if(enableAuto){\r\n                    jQuery(\"#auto_height_row\").removeClass(\"disabled\");\r\n                    jQuery('#layout-preshow').removeClass('lp-fullscreenalign');\r\n                }else{\r\n                    jQuery(\"#auto_height_row\").addClass(\"disabled\");\r\n                }\r\n\r\n                if(textMode == 'normal' && enableRes == false && enableAuto == false && enableFullScreen == false){\r\n                    jQuery('.rs-hide-on-fixed').hide();\r\n                }else{\r\n                    jQuery('.rs-hide-on-fixed').show();\r\n                }\r\n\r\n                if(enableFullScreen){\r\n                    jQuery('.rs-show-on-fullscreen').show();\r\n                    jQuery('.rs-hide-on-fullscreen').hide();\r\n\r\n                    if(jQuery('input[name=\"full_screen_align_force\"]:checked').val() == 'on') jQuery('#layout-preshow').addClass('lp-fullscreenalign');\r\n\r\n                    jQuery(\"#full_screen_align_force_row\").removeClass(\"disabled\");\r\n                    jQuery(\"#fullscreen_offset_container_row\").removeClass(\"disabled\");\r\n\r\n                }else{\r\n                    jQuery('.rs-show-on-fullscreen').hide();\r\n                    jQuery('.rs-hide-on-fullscreen').show();\r\n\r\n                    jQuery(\"#full_screen_align_force_row\").addClass(\"disabled\");\r\n                    jQuery(\"#fullscreen_offset_container_row\").addClass(\"disabled\");\r\n                }\r\n\r\n                if(enableFullScreen || enableAuto){\r\n                    jQuery(\"#force_full_width_row\").removeClass(\"disabled\");\r\n                }else{\r\n                    jQuery(\"#force_full_width_row\").addClass(\"disabled\");\r\n                }\r\n\r\n                jQuery('#layout-preshow').removeClass('lp-fixed');\r\n                jQuery('#layout-preshow').removeClass('lp-custom'); //responsitive\r\n                jQuery('#layout-preshow').removeClass('lp-autoresponsive'); //fullwidth\r\n                jQuery('#layout-preshow').removeClass('lp-fullscreen');\r\n\r\n                if(enableRes){\r\n                    jQuery('#layout-preshow').addClass('lp-custom');\r\n                }else if(enableAuto){\r\n                    jQuery('#layout-preshow').addClass('lp-autoresponsive');\r\n                }else if(enableFullScreen){\r\n                    jQuery('#layout-preshow').addClass('lp-fullscreen');\r\n                }else{\r\n                    jQuery('#layout-preshow').addClass('lp-fixed');\r\n                }\r\n\r\n\r\n            }\r\n\r\n\r\n            /**\r\n             * init slider view custom controls fields.\r\n             */\r\n            var initSliderViewCustomControls = function(){\r\n\r\n                //fixed\r\n                jQuery(\"#slider_type_1\").click(function(){\r\n                    enableSliderViewResponsitiveFields(false,false,false,\"normal\");\r\n                });\r\n\r\n                //responsitive\r\n                jQuery(\"#slider_type_2\").click(function(){\r\n                    enableSliderViewResponsitiveFields(true,false,false,\"normal\");\r\n                });\r\n\r\n                //full width\r\n                jQuery(\"#slider_type_3\").click(function(){\r\n                    enableSliderViewResponsitiveFields(false,true,false,\"full\");\r\n                });\r\n\r\n                //full screen\r\n                jQuery(\"#slider_type_4\").click(function(){\r\n                    enableSliderViewResponsitiveFields(false,false,true,\"screen\");\r\n                });\r\n\r\n                jQuery('input[name=\"full_screen_align_force\"]').click(function(){\r\n                    if(jQuery(this).val() == 'on'){\r\n                        jQuery('#layout-preshow').addClass('lp-fullscreenalign');\r\n                    }else{\r\n                        jQuery('#layout-preshow').removeClass('lp-fullscreenalign');\r\n                    }\r\n                });\r\n\r\n                jQuery('input[name=\"auto_height\"]').click(function(){\r\n                    if(jQuery(this).val() == \"on\")\r\n                        jQuery('#layout-preshow').addClass('lp-autoheight');\r\n                    else\r\n                        jQuery('#layout-preshow').removeClass('lp-autoheight');\r\n\r\n                });\r\n\r\n                jQuery('input[name=\"force_full_width\"]').click(function(){\r\n                    if(jQuery(this).val() == \"on\")\r\n                        jQuery('#layout-preshow').addClass('lp-fullwidth');\r\n                    else\r\n                        jQuery('#layout-preshow').removeClass('lp-fullwidth');\r\n\r\n                });\r\n\r\n                jQuery('input[name=\"full_screen_align_force\"]:checked').click();\r\n                jQuery('input[name=\"auto_height\"]:checked').click();\r\n                jQuery('input[name=\"force_full_width\"]:checked').click();\r\n\r\n            }\r\n\r\n\r\n            /**\r\n             *\r\n             * update category by post types\r\n             */\r\n            var updateCatByPostTypes = function(typeSettingName,catSettingName){\r\n\r\n                jQuery(\"#\"+typeSettingName).change(function(){\r\n                    var arrTypes = jQuery(this).val();\r\n\r\n                    //replace the categories in multi select\r\n                    var mysel = [];\r\n                    jQuery(\"#\"+catSettingName+' option').each(function(){\r\n                        if(jQuery(this).prop('selected') == true){\r\n                            mysel.push(jQuery(this).val());\r\n                        }\r\n                    });\r\n\r\n                    jQuery(\"#\"+catSettingName).empty();\r\n                    jQuery(arrTypes).each(function(index,postType){\r\n                        var objCats = g_postTypesWithCats[postType];\r\n\r\n                        //var flagFirst = true;\r\n                        for(var catIndex in objCats) if (objCats.hasOwnProperty(catIndex)) {\r\n                            var catTitle = objCats[catIndex];\r\n                            //add option to cats select\r\n                            var opt = new Option(catTitle, catIndex);\r\n\r\n                            if(catIndex.indexOf(\"option_disabled\") == 0){\r\n                                jQuery(opt).prop(\"disabled\",\"disabled\");\r\n                            }else{\r\n                                //select first option:\r\n                                //if(flagFirst == true){\r\n                                if(jQuery.inArray(jQuery(opt).val(),mysel) !== -1){\r\n                                    jQuery(opt).prop(\"selected\",\"selected\");\r\n                                }\r\n                                //flagFirst = false;\r\n                                //}\r\n                            }\r\n\r\n                            jQuery(\"#\"+catSettingName).append(opt);\r\n\r\n                        }\r\n\r\n                    });\r\n                });\r\n                jQuery(\"#\"+typeSettingName).change();\r\n            }\r\n\r\n\r\n            /**\r\n             * init common functionality of the slider view.\r\n             */\r\n            var initSliderViewCommon = function(){\r\n                initShortcode();\r\n                initSliderViewCustomControls();\r\n                g_postTypesWithCats = jQuery.parseJSON(g_jsonTaxWithCats);\r\n\r\n\r\n                updateCatByPostTypes(\"post_types\",\"post_category\");\r\n                updateCatByPostTypes(\"product_types\",\"product_category\");\r\n\r\n                jQuery('#fetch_type').change(function(){\r\n                    jQuery('.rs-post-type-wrap').hide();\r\n                    jQuery('.rs-post-order-setting').show();\r\n                    jQuery('#post_sortby_row').show();\r\n\r\n                    switch(jQuery(this).val()){\r\n                        case 'cat_tag':\r\n                            jQuery('.rs-post-type-wrap').show();\r\n                            break;\r\n                        case 'related':\r\n                            break;\r\n                        case 'popular':\r\n                            //only max post\r\n                            jQuery('.rs-post-order-setting').hide();\r\n                            break;\r\n                        case 'recent':\r\n                            //only max post\r\n                            jQuery('.rs-post-order-setting').hide();\r\n                            break;\r\n                        case 'next_prev':\r\n                            jQuery('#post_sortby_row').hide();\r\n                            break;\r\n                        default:\r\n                            break;\r\n                    }\r\n\r\n                });\r\n                jQuery('#fetch_type option:selected').change();\r\n\r\n                jQuery(\"input[name='source_type']\").click(function(){ //check for post click\r\n                    if(jQuery(this).val() == 'posts'){ //jQuery(this).val() == 'specific_posts' ||\r\n                        jQuery('#toolbox_wrapper').hide();\r\n\r\n                        //hide more elements\r\n                        jQuery('#slider_type_row').hide();\r\n                        jQuery('#slider_type_row').prev().hide();\r\n                        jQuery('#fullscreen_offset_container_row').hide();\r\n                        jQuery('#full_screen_align_force_row').hide();\r\n                        jQuery('#slider_size_row').hide();\r\n                        jQuery('#auto_height_row').hide();\r\n                        jQuery('#force_full_width_row').hide();\r\n                        jQuery('#responsitive_row').hide();\r\n                        jQuery('#responsitive_row').next().hide();\r\n                    }else{\r\n                        jQuery('.settings_panel_right').show();\r\n                        jQuery('#toolbox_wrapper').show();\r\n\r\n                        //show more elements\r\n                        jQuery('#slider_type_row').show();\r\n                        jQuery('#slider_type_row').prev().show();\r\n                        jQuery('#fullscreen_offset_container_row').show();\r\n                        jQuery('#full_screen_align_force_row').show();\r\n                        jQuery('#slider_size_row').show();\r\n                        jQuery('#auto_height_row').show();\r\n                        jQuery('#force_full_width_row').show();\r\n                        jQuery('#responsitive_row').show();\r\n                        jQuery('#responsitive_row').next().show();\r\n                        jQuery('#layout-preshow').show();\r\n\r\n                    }\r\n\r\n                    if(jQuery(this).val() == 'specific_posts'){\r\n                        jQuery('#fetch_type option[value=\"cat_tag\"]').attr('selected', 'selected');\r\n                        jQuery('#fetch_type option:selected').change();\r\n                    }else{\r\n                        jQuery('#fetch_type option:selected').change();\r\n                    }\r\n\r\n                    jQuery('.rs-settings-wrapper').hide();\r\n                    if(jQuery(this).val() == 'posts' || jQuery(this).val() == 'specific_posts' ||  jQuery(this).val() == 'woocommerce'){\r\n                        jQuery('#rs-post-settings-wrapper').show();\r\n                        jQuery('.rs-specific-posts-wrap').hide();\r\n                        jQuery('.rs-woocommerce-product-wrap').hide();\r\n                        jQuery('.rs-post-types-wrapper').hide();\r\n                        jQuery('.rs-show-for-wc').hide();\r\n                        jQuery('.rs-hide-for-wc').show();\r\n                        if(jQuery(this).val() == 'posts'){\r\n                            jQuery('.rs-post-types-wrapper').show();\r\n                            jQuery('.rs-specific-posts-wrap').hide();\r\n                        }else if(jQuery(this).val() == 'specific_posts'){\r\n                            jQuery('.rs-post-types-wrapper').hide();\r\n                            jQuery('.rs-specific-posts-wrap').show();\r\n                        }else if(jQuery(this).val() == 'woocommerce'){\r\n                            jQuery('.rs-woocommerce-product-wrap').show();\r\n                            jQuery('.rs-show-for-wc').show();\r\n                            jQuery('.rs-hide-for-wc').hide();\r\n                        }\r\n                    }else{\r\n                        jQuery('#rs-post-settings-wrapper').hide();\r\n                        jQuery('#rs-'+jQuery(this).val()+'-settings-wrapper').show();\r\n                        if(jQuery(this).val()==\"facebook\") jQuery('select[name=\"facebook-type-source\"]').change();\r\n                        if(jQuery(this).val()==\"instagram\") jQuery('select[name=\"instagram-type\"]').change();\r\n                        if(jQuery(\"select[name=flickr-type]\").val()=='photosets' && jQuery('input[name=source_type]:checked').val()==\"flickr\") jQuery('input[name=flickr-user-url]').change();\r\n                        if(jQuery('input[name=source_type]:checked').val()==\"youtube\" && jQuery(\"select[name='youtube-type-source']\").val()=='playlist') jQuery('input[name=youtube-channel-id]').change();\r\n                    }\r\n                });\r\n\r\n                jQuery('.rs-settings-wrapper').hide();\r\n                if(jQuery(\"#source_type_1\").is(':checked') || jQuery(\"#source_type_2\").is(':checked')){\r\n                    jQuery('#rs-post-settings-wrapper').show();\r\n                    if(jQuery(\"#source_type_1\").is(':checked')){\r\n                        jQuery('.rs-post-types-wrapper').show();\r\n                        jQuery('.rs-specific-posts-wrap').hide();\r\n                    }else{\r\n                        jQuery('.rs-post-types-wrapper').hide();\r\n                        jQuery('.rs-specific-posts-wrap').show();\r\n                    }\r\n                }\r\n                else{\r\n                    jQuery('#rs-post-settings-wrapper').hide();\r\n                    jQuery('input[name=source_type]:checked').click();\r\n                }\r\n\r\n                if(jQuery(\"#source_type_1\").is(':checked')){\r\n                    jQuery('#toolbox_wrapper').hide();\r\n\r\n                    //hide more elements\r\n                    jQuery('#slider_type_row').hide();\r\n                    jQuery('#slider_type_row').prev().hide();\r\n                    jQuery('#fullscreen_offset_container_row').hide();\r\n                    jQuery('#full_screen_align_force_row').hide();\r\n                    jQuery('#slider_size_row').hide();\r\n                    jQuery('#auto_height_row').hide();\r\n                    jQuery('#force_full_width_row').hide();\r\n                    jQuery('#responsitive_row').hide();\r\n                    jQuery('#responsitive_row').next().hide();\r\n                }\r\n\r\n                jQuery(document).ready(function(){\r\n                    jQuery('input[name=\"slider_type\"]:checked').click();\r\n\r\n                    jQuery('select[name=\"navigation_style\"]').change(function(){\r\n                        switch(jQuery(this).val()){\r\n                            case 'preview1':\r\n                            case 'preview2':\r\n                            case 'preview3':\r\n                            case 'preview4':\r\n                                jQuery('#leftarrow_align_hor_row').hide();\r\n                                jQuery('#leftarrow_align_vert_row').hide();\r\n                                jQuery('#leftarrow_offset_hor_row').hide();\r\n                                jQuery('#leftarrow_offset_vert_row').hide();\r\n                                jQuery('#rightarrow_align_hor_row').hide();\r\n                                jQuery('#rightarrow_align_vert_row').hide();\r\n                                jQuery('#rightarrow_offset_hor_row').hide();\r\n                                jQuery('#rightarrow_offset_vert_row').hide();\r\n                                jQuery('#navigation_arrows_row').hide();\r\n                                break;\r\n                            default:\r\n                                jQuery('#navigaion_type').change();\r\n                                jQuery('#navigation_arrows').change();\r\n                                break;\r\n                        }\r\n                    });\r\n\r\n                    jQuery('#navigation_arrows').on(\"change\",function() {\r\n                        switch(jQuery(this).val()){\r\n                            case 'nexttobullets':\r\n                            case 'solo':\r\n                                var nsval = jQuery('select[name=\"navigation_style\"]').val();\r\n                                if ( nsval!=\"preview1\" && nsval!=\"preview2\" && nsval!=\"preview3\" && nsval!=\"preview4\") {\r\n                                    jQuery('#leftarrow_align_hor_row').show();\r\n                                    jQuery('#leftarrow_align_vert_row').show();\r\n                                    jQuery('#leftarrow_offset_hor_row').show();\r\n                                    jQuery('#leftarrow_offset_vert_row').show();\r\n                                    jQuery('#rightarrow_align_hor_row').show();\r\n                                    jQuery('#rightarrow_align_vert_row').show();\r\n                                    jQuery('#rightarrow_offset_hor_row').show();\r\n                                    jQuery('#rightarrow_offset_vert_row').show();\r\n                                }\r\n                                break;\r\n                            default:\r\n                                jQuery('#leftarrow_align_hor_row').hide();\r\n                                jQuery('#leftarrow_align_vert_row').hide();\r\n                                jQuery('#leftarrow_offset_hor_row').hide();\r\n                                jQuery('#leftarrow_offset_vert_row').hide();\r\n                                jQuery('#rightarrow_align_hor_row').hide();\r\n                                jQuery('#rightarrow_align_vert_row').hide();\r\n                                jQuery('#rightarrow_offset_hor_row').hide();\r\n                                jQuery('#rightarrow_offset_vert_row').hide();\r\n                                break;\r\n                        }\r\n                    })\r\n\r\n                    jQuery('select[name=\"navigation_style\"] option:selected').change();\r\n\r\n                    jQuery('#navigation_type').change(function(){\r\n                        switch(jQuery(this).val()){\r\n                            case 'bullet':\r\n                            case 'thumb':\r\n                                var nsval = jQuery('select[name=\"navigation_style\"]').val();\r\n                                if ( nsval!=\"preview1\" && nsval!=\"preview2\" && nsval!=\"preview3\" && nsval!=\"preview4\") {\r\n                                    jQuery('#navigation_arrows_row').show();\r\n                                }\r\n                                break;\r\n                            default:\r\n                                jQuery('#navigation_arrows_row').hide();\r\n                                break;\r\n                        }\r\n                    });\r\n                    jQuery('#navigation_style').change();\r\n                });\r\n\r\n\r\n                /**\r\n                 * Facebook Type\r\n                 */\r\n                jQuery('body').on('change','select[name=\"facebook-type-source\"]',function(){\r\n                    var set = jQuery(this).val();\r\n                    if(set == 'timeline'){\r\n                        jQuery('#facebook-album-wrap').hide();\r\n                        jQuery('#facebook-timeline-wrap').show();\r\n                    }\r\n                    else{\r\n                        jQuery('#facebook-timeline-wrap').hide();\r\n                        jQuery('#facebook-album-wrap').show();\r\n                        jQuery('input[name=facebook-page-url]').change();\r\n                    }\r\n\r\n                    jQuery('input[name=facebook-type-source]').val(set);\r\n\r\n                });\r\n                if(jQuery('input[name=source_type]:checked').val()==\"facebook\") jQuery('select[name=\"facebook-type-source\"]').change();\r\n\r\n                jQuery('input[name=facebook-page-url]').change(function(){\r\n                    if(jQuery(\"select[name='facebook-type-source']\").val()=='album'){\r\n                        var data = {\r\n                            url \t\t:  jQuery('input[name=facebook-page-url]').val(),\r\n                            album \t\t:  jQuery('input[name=facebook-album]').val(),\r\n                            app_id\t\t:  jQuery('input[name=facebook-app-id]').val(),\r\n                            app_secret\t:  jQuery('input[name=facebook-app-secret]').val(),\r\n                        };\r\n                        if(jQuery('input[name=facebook-page-url]').val()!=\"\"){\r\n                            UniteAdminRev.ajaxRequest(\"get_facebook_photosets\", data,function(response){\r\n                                jQuery(\"select[name=facebook-album-select]\").html(response.html);\r\n                                jQuery('select[name=facebook-album-select]').change();\r\n                            });\r\n                        }\r\n                        else{\r\n                            jQuery(\"select[name=facebook-album-select]\").html('');\r\n                            jQuery('select[name=facebook-album-select]').change();\r\n                        }\r\n                    }\r\n                });\r\n                if(jQuery('input[name=source_type]:checked').val()==\"facebook\") jQuery('input[name=facebook-page-url]').change();\r\n\r\n                /**\r\n                 * Same Value Facebook Album Select / Hidden Input\r\n                 */\r\n                jQuery('select[name=facebook-album-select]').change(function(){\r\n                    jQuery('input[name=facebook-album]').val(jQuery('select[name=facebook-album-select]').val());\r\n                });\r\n\r\n                /**\r\n                 * Change flickr Stream Type\r\n                 */\r\n                jQuery('select[name=flickr-type]').change(function(){\r\n                    var set = jQuery(this).val();\r\n                    switch(set){\r\n                        case 'publicphotos':\r\n                            jQuery('#flickr-photosets-wrap,#flickr-gallery-url-wrap,#flickr-group-url-wrap').hide();\r\n                            jQuery('#flickr-publicphotos-url-wrap').show();\r\n                            break;\r\n                        case 'gallery':\r\n                            jQuery('#flickr-publicphotos-url-wrap,#flickr-photosets-wrap,#flickr-group-url-wrap').hide();\r\n                            jQuery('#flickr-gallery-url-wrap').show();\r\n                            break;\r\n                        case 'photosets':\r\n                            jQuery('#flickr-gallery-url-wrap,#flickr-group-url-wrap').hide();\r\n                            jQuery('#flickr-publicphotos-url-wrap,#flickr-photosets-wrap').show();\r\n                            break;\r\n                        case 'group':\r\n                            jQuery('#flickr-publicphotos-url-wrap,#flickr-photosets-wrap,#flickr-gallery-url-wrap').hide();\r\n                            jQuery('#flickr-group-url-wrap').show();\r\n                            break;\r\n                    }\r\n                });\r\n                jQuery('select[name=flickr-type]').change();\r\n\r\n                /**\r\n                 * Show/Hide flickr Photosets\r\n                 */\r\n                jQuery('input[name=flickr-user-url],select[name=flickr-type]').change(function(){\r\n                    if(jQuery(\"select[name=flickr-type]\").val()=='photosets'){\r\n                        if(jQuery('input[name=flickr-user-url]').val()!=\"\" && jQuery('input[name=flickr-api-key]').val()!=\"\"){\r\n                            var data = {\r\n                                url \t:  jQuery('input[name=flickr-user-url]').val(),\r\n                                key \t:  jQuery('input[name=flickr-api-key]').val(),\r\n                                count \t:  jQuery('input[name=flickr-count]').val(),\r\n                                set \t:  jQuery('input[name=flickr-photoset]').val()\r\n                            };\r\n                            UniteAdminRev.ajaxRequest(\"get_flickr_photosets\", data, function(response){\r\n                                jQuery(\"select[name=flickr-photoset-select]\").html(response.data.html);\r\n                                jQuery('select[name=flickr-photoset-select]').change();\r\n                            });\r\n                        }\r\n                        else{\r\n                            jQuery(\"select[name=flickr-photoset-select]\").html(response.data.html);\r\n                            jQuery('input[name=flickr-photoset]').val('');\r\n                        }\r\n                    }\r\n                });\r\n\r\n                if(jQuery(\"select[name=flickr-type]\").val()=='photosets' && jQuery('input[name=source_type]:checked').val()==\"flickr\") jQuery('input[name=flickr-user-url]').change();\r\n\r\n                /**\r\n                 * Same Value flickr photoset Select / Hidden Input\r\n                 */\r\n                jQuery('select[name=flickr-photoset-select]').change(function(){\r\n                    jQuery('input[name=flickr-photoset]').val(jQuery('select[name=flickr-photoset-select]').val());\r\n                });\r\n\r\n                /**\r\n                 * Same Value YouTube Playlist Select / Hidden Input\r\n                 */\r\n                jQuery('select[name=youtube-playlist-select]').change(function(){\r\n                    jQuery('input[name=youtube-playlist]').val(jQuery('select[name=youtube-playlist-select]').val());\r\n                });\r\n\r\n                /**\r\n                 * Show/Hide YouTube Playlists\r\n                 */\r\n                jQuery('input[name=youtube-channel-id]').change(function(){\r\n                    if(jQuery(\"select[name='youtube-type-source']\").val()=='playlist'){\r\n                        var data = {\r\n                            api: jQuery('input[name=youtube-api]').val(),\r\n                            id : jQuery('input[name=youtube-channel-id]').val(),\r\n                            playlist :  jQuery('input[name=youtube-playlist]').val()\r\n                        };\r\n                        if(jQuery('input[name=youtube-channel-id]').val()!=\"\"){\r\n                            UniteAdminRev.ajaxRequest(\"get_youtube_playlists\", data,function(response){\r\n                                jQuery(\"select[name=youtube-playlist-select]\").html(response.data.html);\r\n                                jQuery('select[name=youtube-playlist-select]').change();\r\n                            });\r\n                        }\r\n                        else{\r\n                            jQuery(\"select[name=youtube-playlist-select]\").html('');\r\n                        }\r\n                    }\r\n                });\r\n\r\n                /**\r\n                 * Change YouTube Stream Type\r\n                 */\r\n                jQuery('select[name=youtube-type-source]').change(function(){\r\n                    var set = jQuery(this).val();\r\n                    if(set != 'playlist'){\r\n                        jQuery('#youtube-playlist-wrap').hide();\r\n                    }\r\n                    else{\r\n                        jQuery('#youtube-playlist-wrap').show();\r\n                        if(jQuery('input[name=source_type]:checked').val()==\"youtube\" && jQuery('input[name=youtube-channel-id]').val()!=\"\" && jQuery('select[name=\"youtube-type-source\"]').val() == 'playlist'){\r\n                            jQuery('input[name=youtube-channel-id]').change();\r\n                        }\r\n                    }\r\n                });\r\n                jQuery('select[name=youtube-type-source]').change();\r\n\r\n                /**\r\n                 * Show Vimeo Source Type specific Inputs\r\n                 */\r\n                jQuery('select[name=vimeo-type-source]').change(function(){\r\n                    var set = jQuery(this).val();\r\n                    jQuery(\".source-vimeo\").hide();\r\n                    jQuery(\"#vimeo-\"+set+\"-wrap\").show();\r\n                });\r\n                jQuery('select[name=vimeo-type-source]').change();\r\n\r\n                /**\r\n                 * Change Instagram Type\r\n                 */\r\n                jQuery('body').on('change','select[name=\"instagram-type\"]',function(){\r\n                    var set = jQuery(this).val();\r\n                    jQuery(this).parent().find('div').hide();\r\n                    jQuery(\"#instagram_\"+set).show();\r\n                });\r\n                if(jQuery('input[name=source_type]:checked').val()==\"instagram\") jQuery('select[name=\"instagram-type\"]').change();\r\n\r\n                /**\r\n                 * Set bullet type and navigation arrows to none if loop_slide is set to off\r\n                 */\r\n                jQuery('body').on('click', 'input[name=\"loop_slide\"]', function(){\r\n\r\n                    if(jQuery(this).val() == 'noloop'){\r\n                        jQuery('#navigaion_type option[value=\"none\"]').attr('selected', true);\r\n                        jQuery('#navigation_arrows option[value=\"none\"]').attr('selected', true);\r\n                        jQuery('#navigaion_type').change();\r\n                        jQuery('#navigation_arrows').change();\r\n\r\n                        UniteAdminRev.showInfo({type: 'info', hideon: '', event: '', content: rev_lang.nav_bullet_arrows_to_none, hidedelay: 3});\r\n                    }\r\n                });\r\n\r\n\r\n                /**\r\n                 * Enables the Advanced Responsive Sizes feature\r\n                 */\r\n                jQuery('#enable_advanced_sizes').click(function(){\r\n                    jQuery('.rev-advanced-sizes-wrap').show();\r\n                    jQuery('#rev-enable-advanced-sizes').hide();\r\n                    jQuery('input[name=\"advanced-responsive-sizes\"]').val('true');\r\n                    jQuery('.rev-desktop-naming').html('Desktop');\r\n\r\n                });\r\n\r\n\r\n                /**\r\n                 * Disable the Advanced Responsive Sizes feature\r\n                 */\r\n                jQuery('#disable_advanced_sizes').click(function(){\r\n                    jQuery('.rev-advanced-sizes-wrap').hide();\r\n                    jQuery('#rev-enable-advanced-sizes').show();\r\n                    jQuery('input[name=\"advanced-responsive-sizes\"]').val('false');\r\n                    jQuery('.rev-desktop-naming').html('');\r\n                });\r\n            }\r\n\r\n\r\n            /**\r\n             Init Slider Spinner Admin View\r\n             **/\r\n            this.initSpinnerAdmin = function() {\r\n                jQuery('#use_spinner_row').parent().prepend('<div id=\"spinner_preview\"></div>');\r\n                var spin = jQuery('#spinner_preview');\r\n                var sel = jQuery('#use_spinner');\r\n                var col = jQuery('#spinner_color');\r\n                var oldcol = col.val();\r\n                resetSpin(spin);\r\n\r\n                sel.on(\"change\",function() {\r\n                    resetSpin(spin,true);\r\n                });\r\n                setInterval(function() {\r\n                    if (oldcol!=col.val()) {\r\n                        spinnerColorChange();\r\n                        oldocl=col.val();\r\n                    }\r\n                },300)\r\n            }\r\n            /**\r\n             CHANGE SPINNER COLOR ON CALL BACK\r\n             **/\r\n            function spinnerColorChange() {\r\n                var col = jQuery('#spinner_color').val();\r\n                var sel = jQuery('#use_spinner');\r\n                if (sel.val()==0 || sel.val()==5) col =\"#ffffff\";\r\n\r\n                var spin = jQuery('#spinner_preview .tp-loader.tp-demo');\r\n                if (spin.hasClass(\"spinner0\") || spin.hasClass(\"spinner1\") || spin.hasClass(\"spinner2\")) {\r\n                    spin.css({'backgroundColor':col});\r\n                } else {\r\n                    spin.find('div').css({'backgroundColor':col});\r\n                }\r\n            };\r\n\r\n            /**\r\n             RESET SPINNER DEMO\r\n             **/\r\n            function resetSpin(spin,remove) {\r\n                var sel = jQuery('#use_spinner');\r\n                spin.find('.tp-loader').remove();\r\n                spin.append('<div class=\"tp-loader tp-demo\">'+\r\n                    '<div class=\"dot1\"></div>'+\r\n                    '<div class=\"dot2\"></div>'+\r\n                    '<div class=\"bounce1\"></div>'+\r\n                    '<div class=\"bounce2\"></div>'+\r\n                    '<div class=\"bounce3\"></div>'+\r\n                    '</div>');\r\n                spin.find('.tp-demo').addClass(\"spinner\"+sel.val());\r\n                if (sel.val()=='-1' || sel.val()==0 || sel.val()==5) {\r\n                    //jQuery('#spinner_color').val(\"#ffffff\");\r\n                    jQuery('#spinner_color_row').css({display:\"none\"});\r\n                } else {\r\n                    jQuery('#spinner_color_row').css({display:\"block\"});\r\n                }\r\n                spinnerColorChange();\r\n\r\n            };\r\n\r\n            /**\r\n             * init \"slider->add\" view.\r\n             */\r\n            this.initAddSliderView = function(){\r\n\r\n                initSliderViewCommon();\r\n\r\n                jQuery(\"#title\").focus();\r\n                initSaveSliderButton(\"create_slider\");\r\n\r\n                enableSliderViewResponsitiveFields(false,false,false,\"normal\"); //show grid settings for fixed\r\n\r\n                this.initSpinnerAdmin();\r\n            }\r\n\r\n\r\n            /**\r\n             * init \"slider->edit\" view.\r\n             */\r\n            this.initEditSliderView = function(){\r\n\r\n                initSliderViewCommon();\r\n\r\n                initSaveSliderButton(\"update_slider\");\r\n\r\n                //delete slider action\r\n                jQuery(\"#button_delete_slider, #button_delete_slider_t\").click(function(){\r\n\r\n                    if(confirm(rev_lang.really_want_to_delete+\" '\"+jQuery(\"#title\").val()+\"' ?\") == false)\r\n                        return(true);\r\n\r\n                    var data = {sliderid: jQuery(\"#sliderid\").val()}\r\n\r\n                    UniteAdminRev.ajaxRequest(\"delete_slider\" ,data);\r\n                });\r\n\r\n\r\n                //api inputs functionality:\r\n                jQuery(\"#api_wrapper .api-input\").click(function(){\r\n                    jQuery(this).select().focus();\r\n                });\r\n\r\n                //api button functions:\r\n                jQuery(\"#link_show_api\").click(function(){\r\n                    jQuery(\"#api_wrapper\").show();\r\n                    jQuery(\"#link_show_api\").addClass(\"button-selected\");\r\n\r\n                    jQuery(\"#toolbox_wrapper\").hide();\r\n                    jQuery(\"#link_show_toolbox\").removeClass(\"button-selected\");\r\n                });\r\n\r\n                jQuery(\"#link_show_toolbox\").click(function(){\r\n                    jQuery(\"#toolbox_wrapper\").show();\r\n                    jQuery(\"#link_show_toolbox\").addClass(\"button-selected\");\r\n\r\n                    jQuery(\"#api_wrapper\").hide();\r\n                    jQuery(\"#link_show_api\").removeClass(\"button-selected\");\r\n                });\r\n\r\n\r\n                //export slider action\r\n                jQuery(\"#button_export_slider\").click(function(){\r\n                    var sliderID = jQuery(\"#sliderid\").val();\r\n                    var useDummy = jQuery('input[name=\"export_dummy_images\"]').is(':checked');\r\n                    var urlAjaxExport = ajaxurl+UniteAdminRev.return_ajaxurl_param()+\"action=\"+g_uniteDirPlugin+\"_ajax_action&client_action=export_slider&dummy=\"+useDummy+\"&nonce=\" + g_revNonce;\r\n                    urlAjaxExport += \"&sliderid=\" + sliderID;\r\n                    location.href = urlAjaxExport;\r\n                });\r\n\r\n                //preview slider actions\r\n                jQuery(\"#button_preview_slider, #button_preview_slider_t\").click(function(){\r\n                    var sliderID = jQuery(\"#sliderid\").val();\r\n                    openPreviewSliderDialog(sliderID);\r\n                });\r\n\r\n                //replace url\r\n                jQuery(\"#button_replace_url\").click(function(){\r\n                    if(confirm(rev_lang.sure_to_replace_urls) == false)\r\n                        return(false);\r\n\r\n                    var data = {\r\n                        sliderid: jQuery(\"#sliderid\").val(),\r\n                        url_from:jQuery(\"#replace_url_from\").val(),\r\n                        url_to:jQuery(\"#replace_url_to\").val(),\r\n                        replace_all:jQuery(\"[name=replace_url_all]:checked\").val()\r\n                    };\r\n\r\n                    //some ajax beautifyer\r\n                    UniteAdminRev.setAjaxLoaderID(\"loader_replace_url\");\r\n                    UniteAdminRev.setAjaxHideButtonID(\"button_replace_url\");\r\n                    UniteAdminRev.setSuccessMessageID(\"replace_url_success\");\r\n\r\n                    UniteAdminRev.ajaxRequest(\"replace_image_urls\" ,data);\r\n                });\r\n\r\n                jQuery('input[name=\"slider_type\"]').each(function(){ if(jQuery(this).is(':checked')) jQuery(this).click(); }); //show grid settings for choosen setting\r\n\r\n\r\n                jQuery('#reset_slide_button').click(function(){\r\n                    if(jQuery(this).css('opacity') == '0.5') return false;\r\n\r\n                    if(confirm(rev_lang.set_settings_on_all_slider) == false)\r\n                        return(false);\r\n\r\n                    var data = {sliderid: jQuery(\"#sliderid\").val()};\r\n\r\n                    if(jQuery('input[name=\"reset-slide_transition\"]').is(':checked')) data['slide_transition'] = jQuery('select[name=\"def-slide_transition\"] option:selected').val();\r\n                    if(jQuery('input[name=\"reset-transition_duration\"]').is(':checked')) data['transition_duration'] = jQuery('input[name=\"def-transition_duration\"]').val();\r\n                    if(jQuery('input[name=\"reset-image_source_type\"]').is(':checked')) data['image_source_type'] = jQuery('select[name=\"def-image_source_type\"] option:selected').val();\r\n                    if(jQuery('input[name=\"reset-background_fit\"]').is(':checked')){\r\n                        data['bg_fit'] = jQuery('#def-background_fit option:selected').val();\r\n                        if(data['bg_fit'] == 'percentage'){\r\n                            data['bg_fit_x'] = jQuery('input[name=\"def-bg_fit_x\"]').val();\r\n                            data['bg_fit_y'] = jQuery('input[name=\"def-bg_fit_y\"]').val();\r\n                        }\r\n                    }\r\n                    if(jQuery('input[name=\"reset-bg_position\"]').is(':checked')){\r\n                        data['bg_position'] = jQuery('select[name=\"def-bg_position\"] option:selected').val();\r\n                        if(data['bg_position'] == 'percentage'){\r\n                            data['bg_position_x'] = jQuery('input[name=\"def-bg_position_x\"]').val();\r\n                            data['bg_position_y'] = jQuery('input[name=\"def-bg_position_y\"]').val();\r\n                        }\r\n                    }\r\n                    if(jQuery('input[name=\"reset-bg_repeat\"]').is(':checked')) data['bg_repeat'] = jQuery('select[name=\"def-bg_repeat\"] option:selected').val();\r\n\r\n                    if(jQuery('input[name=\"reset-kenburn_effect\"]').is(':checked')) data['kenburn_effect'] = (jQuery('input[name=\"def-kenburn_effect\"]').is(':checked')) ? 'on' : 'off';\r\n                    if(jQuery('input[name=\"reset-kb_start_fit\"]').is(':checked')) data['kb_start_fit'] = jQuery('input[name=\"def-kb_start_fit\"]').val();\r\n                    if(jQuery('input[name=\"reset-kb_easing\"]').is(':checked')) data['kb_easing'] = jQuery('select[name=\"def-kb_easing\"] option:selected').val();\r\n                    if(jQuery('input[name=\"reset-kb_end_fit\"]').is(':checked')) data['kb_end_fit'] = jQuery('input[name=\"def-kb_end_fit\"]').val();\r\n                    if(jQuery('input[name=\"reset-kb_duration\"]').is(':checked')) data['kb_duration'] = jQuery('input[name=\"def-kb_duration\"]').val();\r\n\r\n\r\n                    if(jQuery('input[name=\"reset-kb_start_offset_x\"]').is(':checked')) data['kb_start_offset_x'] = jQuery('input[name=\"def-kb_start_offset_x\"]').val();\r\n                    if(jQuery('input[name=\"reset-kb_start_offset_y\"]').is(':checked')) data['kb_start_offset_y'] = jQuery('input[name=\"def-kb_start_offset_y\"]').val();\r\n\r\n                    if(jQuery('input[name=\"reset-kb_end_offset_x\"]').is(':checked')) data['kb_end_offset_x'] = jQuery('input[name=\"def-kb_end_offset_x\"]').val();\r\n                    if(jQuery('input[name=\"reset-kb_end_offset_y\"]').is(':checked')) data['kb_end_offset_y'] = jQuery('input[name=\"def-kb_end_offset_y\"]').val();\r\n                    if(jQuery('input[name=\"reset-kb_start_rotate\"]').is(':checked')) data['kb_start_rotate'] = jQuery('input[name=\"def-kb_start_rotate\"]').val();\r\n                    if(jQuery('input[name=\"reset-kb_end_rotate\"]').is(':checked')) data['kb_end_rotate'] = jQuery('input[name=\"def-kb_end_rotate\"]').val();\r\n\r\n                    UniteAdminRev.ajaxRequest('reset_slide_settings', data);\r\n                });\r\n\r\n                jQuery('.rs-reset-slide-setting').change(function(){\r\n                    jQuery('#reset_slide_button').css('opacity', '0.5');\r\n                    jQuery('.rs-reset-slide-setting').each(function(){\r\n                        if(jQuery(this).is(':checked')){\r\n\r\n                            jQuery('#reset_slide_button').css('opacity', '1');\r\n\r\n                            return true;\r\n                        }\r\n                    });\r\n                });\r\n\r\n                jQuery('.rs-reset-slide-setting').change();\r\n\r\n                jQuery('.tp-moderncheckbox').each(function(){\r\n                    RevSliderSettings.onoffStatus(jQuery(this));\r\n                });\r\n\r\n                this.initSpinnerAdmin();\r\n            }\r\n\r\n\r\n            /**\r\n             * init shortcode functionality in the slider new and slider edit views.\r\n             */\r\n            var initShortcode = function(){\r\n\r\n                //select shortcode text when click on it.\r\n                jQuery(\"#shortcode\").focus(function(){\r\n                    this.select();\r\n                });\r\n                jQuery(\"#shortcode\").click(function(){\r\n                    this.select();\r\n                });\r\n\r\n                //update shortcode\r\n                jQuery(\"#alias\").change(function(){\r\n                    updateShortcode();\r\n                });\r\n\r\n                jQuery(\"#alias\").keyup(function(){\r\n                    updateShortcode();\r\n                });\r\n                updateShortcode();\r\n            }\r\n\r\n\r\n            /**\r\n             * update slides order\r\n             */\r\n            var updateSlidesOrder = function(sliderID){\r\n                var arrSlideHtmlIDs = jQuery( \"#list_slides\" ).sortable(\"toArray\");\r\n\r\n                //get slide id's from html (li) id's\r\n                var arrIDs = [];\r\n                var orderCounter = 0;\r\n                jQuery(arrSlideHtmlIDs).each(function(index,value){\r\n                    var slideID = value.replace(\"slidelist_item_\",\"\");\r\n                    arrIDs.push(slideID);\r\n\r\n                    //update order visually\r\n                    orderCounter++;\r\n                    jQuery(\"#slidelist_item_\"+slideID+\" .order-text\").text(orderCounter);\r\n                });\r\n\r\n                //save order\r\n                var data = {arrIDs:arrIDs,sliderID:sliderID};\r\n\r\n                jQuery(\"#saving_indicator\").show();\r\n                UniteAdminRev.ajaxRequest(\"update_slides_order\" ,data,function(){\r\n                    jQuery(\"#saving_indicator\").hide();\r\n                });\r\n\r\n                jQuery(\"#select_sortby\").val(\"menu_order\");\r\n            }\r\n\r\n\r\n            this.initNewsletterRoutine = function(){\r\n\r\n                jQuery('#subscribe-to-newsletter').click(function(){\r\n\r\n                    var data = {\r\n                        email: jQuery('input[name=\"rs-email\"]').val()\r\n                    }\r\n\r\n                    UniteAdminRev.ajaxRequest(\"subscribe_to_newsletter\", data); //, '#subscribe-to-newsletter'\r\n                });\r\n\r\n\r\n                jQuery('#activate-unsubscribe').click(function(){\r\n                    jQuery('.subscribe-newsletter-wrap').hide();\r\n                    jQuery('#activate-unsubscribe').hide();\r\n                    jQuery('.unsubscribe-newsletter-wrap').show();\r\n                    jQuery('#unsubscribe-text').show();\r\n                    jQuery('#subscribe-text').hide();\r\n                });\r\n                jQuery('#cancel-unsubscribe').click(function(){\r\n                    jQuery('.subscribe-newsletter-wrap').show();\r\n                    jQuery('#activate-unsubscribe').show();\r\n                    jQuery('.unsubscribe-newsletter-wrap').hide();\r\n                    jQuery('#unsubscribe-text').hide();\r\n                    jQuery('#subscribe-text').show();\r\n                });\r\n\r\n                jQuery('#unsubscribe-to-newsletter').click(function(){\r\n\r\n                    var data = {\r\n                        email: jQuery('input[name=\"rs-email\"]').val()\r\n                    }\r\n\r\n                    UniteAdminRev.ajaxRequest(\"unsubscribe_to_newsletter\", data); //, '#unsubscribe-to-newsletter'\r\n                });\r\n\r\n\r\n            }\r\n\r\n            /**\r\n             * init \"sliders list\" view\r\n             */\r\n            this.initSlidersListView = function(){\r\n\r\n                jQuery('body').on('click', '.rs-reload-shop', function(){\r\n                    showWaitAMinute({fadeIn:300,text:rev_lang.please_wait_a_moment});\r\n\r\n                    location.href = window.location.href+(window.location.href.indexOf('?')==-1?'?':'&')+'update_shop';\r\n                });\r\n\r\n                /**\r\n                 * add Template Slider through Import. Check for zip name\r\n                 **/\r\n                jQuery('body').on('click', '.template_slider_item_reimport, .install_template_slider', function(){\r\n                    var _t = jQuery(this);\r\n\r\n                    jQuery('#import_dialog_box').data('requested_slide',_t.data('title'));\r\n\r\n                    if(_t.hasClass('deny_download')){\r\n                        alert(rev_lang.this_template_requires_version+' '+_t.data('versionneed')+' '+rev_lang.of_slider_revolution);\r\n                        return false;\r\n                    }\r\n\r\n                    var mdata = {};\r\n                    mdata.zip = _t.data('zipname');\r\n                    mdata.uid = _t.data('uid');\r\n                    mdata.package = 'false';\r\n\r\n                    //modify the dialog with some informations\r\n\r\n                    //from server or from local file\r\n\r\n                    jQuery(\"#dialog_import_template_slider_from\").dialog({\r\n                        modal:true,\r\n                        resizable:false,\r\n                        dialogClass:\"tpdialogs\",\r\n                        create:function(ui) {\r\n                            jQuery(ui.target).parent().find('.ui-dialog-titlebar').addClass(\"tp-slider-new-dialog-title\");\r\n                        },\r\n                        buttons:{\r\n                            \"Local\":function(){\r\n                                if(RS_DEMO){\r\n                                    alert(rev_lang.not_available_in_demo);\r\n                                    return false;\r\n                                }\r\n                                jQuery(\".input_import_slider\").val('');\r\n                                jQuery('.rs-import-slider-button').hide();\r\n\r\n                                jQuery('.rs-zip-name').text(mdata.zip);\r\n                                jQuery('.rs-uid').val(mdata.uid);\r\n                                jQuery('.rs-package').val(mdata['package']); //set that the package needs to be installed\r\n\r\n                                jQuery(\"#dialog_import_template_slider\").dialog({\r\n                                    modal:true,\r\n                                    resizable:false,\r\n                                    width:600,\r\n                                    height:450,\r\n                                    closeOnEscape:true,\r\n                                    dialogClass:\"tpdialogs\",\r\n                                    create:function(ui) {\r\n                                        jQuery(ui.target).parent().find('.ui-dialog-titlebar').addClass(\"tp-slider-new-dialog-title\");\r\n                                    },\r\n                                    buttons:{\r\n                                        \"Close\":function(){\r\n                                            jQuery(this).dialog(\"close\");\r\n                                        }\r\n                                    },\r\n                                });\t//dialog end\r\n\r\n\r\n                                jQuery(this).dialog(\"close\");\r\n                            },\r\n                            \"Online\":function(){\r\n                                if(rs_plugin_validated){\r\n                                    if(rs_single_page_creation){\r\n                                        jQuery('#dialog_import_template_slider_page_template').dialog({\r\n                                            modal:true,\r\n                                            resizable:false,\r\n                                            title:'Create Blank Demo Page',\r\n                                            width:450,\r\n                                            height:200,\r\n                                            closeOnEscape:true,\r\n                                            dialogClass:\"tpdialogs\",\r\n                                            create:function(ui) {\r\n                                                jQuery(ui.target).parent().find('.ui-dialog-titlebar').addClass(\"tp-slider-new-dialog-title\");\r\n                                            },\r\n                                            buttons:{\r\n                                                'Yes':function(){\r\n                                                    import_template_online_slider(mdata, 'true');\r\n\r\n                                                    jQuery(this).dialog(\"close\");\r\n                                                    jQuery(\"#dialog_import_template_slider_from\").dialog(\"close\");\r\n                                                },\r\n                                                'No':function(){\r\n                                                    import_template_online_slider(mdata, 'false');\r\n\r\n                                                    jQuery(this).dialog(\"close\");\r\n                                                    jQuery(\"#dialog_import_template_slider_from\").dialog(\"close\");\r\n                                                }\r\n                                            }\r\n\r\n                                        });\r\n                                    }else{\r\n                                        import_template_online_slider(mdata, 'false');\r\n\r\n                                        jQuery(\"#dialog_import_template_slider_from\").dialog(\"close\");\r\n                                    }\r\n                                }else{\r\n                                    jQuery('#regsiter-to-access-store-none').click();\r\n                                }\r\n                            }\r\n                        }\r\n                    });\r\n\r\n                    jQuery('#close-template').click();\r\n                    return false;\r\n                });\r\n\r\n                jQuery('body').on('click', '.template_slider_item_reimport_package, .install_template_slider_package', function(){\r\n\r\n                    if(jQuery(this).hasClass('deny_download')){\r\n                        alert(rev_lang.this_template_requires_version+' '+jQuery(this).data('versionneed')+' '+rev_lang.of_slider_revolution);\r\n                        return false;\r\n                    }\r\n\r\n                    var mdata = {};\r\n                    mdata.zip = jQuery(this).data('zipname');\r\n                    mdata.uid = jQuery(this).data('uid');\r\n                    mdata['package'] = 'true';\r\n\r\n                    if(rs_plugin_validated){\r\n                        if(rs_pack_page_creation){\r\n                            jQuery('#dialog_import_template_slider_page_template').dialog({\r\n                                modal:true,\r\n                                resizable:false,\r\n                                title:'Create Blank Demo Page',\r\n                                width:450,\r\n                                height:200,\r\n                                closeOnEscape:true,\r\n                                dialogClass:\"tpdialogs\",\r\n                                create:function(ui) {\r\n                                    jQuery(ui.target).parent().find('.ui-dialog-titlebar').addClass(\"tp-slider-new-dialog-title\");\r\n                                },\r\n                                buttons:{\r\n                                    'Yes':function(){\r\n                                        import_template_online_slider(mdata, 'true');\r\n\r\n                                        jQuery(this).dialog(\"close\");\r\n                                    },\r\n                                    'No':function(){\r\n                                        import_template_online_slider(mdata, 'false');\r\n\r\n                                        jQuery(this).dialog(\"close\");\r\n                                    }\r\n                                }\r\n\r\n                            });\r\n                        }else{\r\n                            import_template_online_slider(mdata, 'false');\r\n                        }\r\n                    }else{\r\n                        alert(rev_lang.this_feature_only_if_activated);\r\n                    }\r\n\r\n                    jQuery('#close-template').click();\r\n                    return false;\r\n                });\r\n\r\n                var installclosebutton;\r\n\r\n\r\n                var import_template_online_slider = function(mdata, create_page){\r\n\r\n                    jQuery('#import_dialog_box').html('');\r\n\r\n\r\n                    //open dialog which will then have all the information of the Sliders\r\n                    jQuery('#dialog_import_template_slider_info').dialog({\r\n                        modal:true,\r\n                        resizable:false,\r\n                        width:450,\r\n                        minHeight:350,\r\n                        dialogClass:\"tpdialogs\",\r\n                        open: function(event, ui) {\r\n                            var dialog = jQuery(event.target).parent(),\r\n                                dialogtitle = dialog.find('.ui-dialog-titlebar');\r\n                            dialog.attr(\"id\",\"tp_import_sliders\");\r\n                            dialogtitle.attr(\"id\",\"tp_import_sliders_title\");\r\n                            installclosebutton = jQuery(\".ui-dialog-titlebar-close\", ui.dialog);\r\n                            jQuery(\".ui-dialog-titlebar-close\", ui.dialog).hide();\r\n                        }\r\n                    });\r\n\r\n                    if(mdata['package'] !== undefined && slider_package_uids[mdata.uid] !== undefined){\r\n                        mdata['page-creation'] = false;\r\n\r\n                        delete(mdata['package']);\r\n\r\n                        rs_install_slider = {};\r\n                        rs_install_ids = [];\r\n\r\n                        for(var i in slider_package_uids[mdata.uid]) if (slider_package_uids[mdata.uid].hasOwnProperty(i)) {\r\n                            for(var ki in slider_package_uids[mdata.uid][i]) if (slider_package_uids[mdata.uid][i].hasOwnProperty(ki)) {\r\n                                rs_install_slider[i] = {\r\n                                    uid: slider_package_uids[mdata.uid][i][ki],\r\n                                    sid: ki,\r\n                                    status: 0\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        var my_install_calls = 0;\r\n                        var max_calls = 60;\r\n                        var warning_calls = 30;\r\n\r\n                        var install_interval = setInterval(function(){\r\n                            my_install_calls++;\r\n\r\n                            //jQuery('#import_dialog_box_action').append('.');\r\n\r\n\r\n                            if(my_install_calls == warning_calls){\r\n                                jQuery('#import_dialog_box_action').append('<div class=\"import_failure\">'+rev_lang.download_install_takes_longer+\"</div>\");\r\n                            }\r\n                            if(my_install_calls == max_calls){\r\n                                jQuery('#import_dialog_box').append(rev_lang.download_failed_check_server);\r\n                                jQuery('#import_dialog_box').append('<div>'+rev_lang.aborting_import+'</div>');\r\n                                jQuery('#import_dialog_box_action').html('');\r\n                                if (typeof installclosebutton !== 'undefined') {\r\n                                    installclosebutton.show();\r\n                                }\r\n                                clearInterval(install_interval);\r\n                            }\r\n\r\n                            var cur_installing = 0;\r\n                            var cur_installed = 1;\r\n                            var finished = true;\r\n                            for(var i in rs_install_slider) if (rs_install_slider.hasOwnProperty(i)) {\r\n                                if(rs_install_slider[i]['status'] === 1){\r\n                                    cur_installing = 1;\r\n                                }\r\n                                if(rs_install_slider[i]['status'] !== 2){\r\n                                    finished = false;\r\n                                }\r\n                                if(rs_install_slider[i]['status'] === 2){\r\n                                    cur_installed++;\r\n                                }\r\n                            }\r\n\r\n                            if(cur_installed <= Object.keys(rs_install_slider).length){\r\n                                jQuery('#install-slider-counter').css({width:((cur_installed/Object.keys(rs_install_slider).length)*100)+\"%\"});\r\n                            }else{\r\n                                jQuery('#install-slider-counter').width('100%');\r\n                            }\r\n\r\n                            if(cur_installing === 0){ //install new slider\r\n                                my_install_calls = 0;//reset to 0 as new Slider will be installed\r\n\r\n\r\n                                for(var i in rs_install_slider) if (rs_install_slider.hasOwnProperty(i)) {\r\n                                    if(rs_install_slider[i]['status'] === 0){\r\n\r\n                                        mdata.uid = rs_install_slider[i]['uid'];\r\n\r\n                                        jQuery('#import_dialog_box_action').html(slider_package_names[rs_install_slider[i]['uid']].name); //Write the Name of the Current Installing Slider\r\n                                        rs_install_slider[i]['status'] = 1;\r\n\r\n                                        UniteAdminRev.ajaxRequest(\"import_slider_online_template_slidersview_new\", mdata, function(response){\r\n                                            //modify the dialog with some informations\r\n                                            rs_install_slider[i]['status'] = 2;\r\n\r\n                                            if(response.slider_id !== undefined && response.slider_id > 0){\r\n                                                rs_install_ids.push(response.slider_id);\r\n                                            }\r\n                                            if(response.view !== false){\r\n                                                rs_install_url = response.view;\r\n                                            }\r\n\r\n                                            if(response.error.length > 0){\r\n                                                for(var key in response.error) if (response.error.hasOwnProperty(key)) {\r\n                                                    jQuery('#import_dialog_box').append('<div>'+response.error[key]+'</div>');\r\n                                                }\r\n                                            }\r\n                                        }, true);\r\n                                        break;\r\n                                    }\r\n                                }\r\n                            }\r\n                            if(finished){\r\n                                clearInterval(install_interval);\r\n                                //all slider installed\r\n\r\n                                if(create_page === 'true'){\r\n                                    //create page\r\n                                    jQuery('#import_dialog_box').append('<div>'+rev_lang.create_draft+'</div>');\r\n\r\n                                    UniteAdminRev.ajaxRequest(\"create_draft_page\", {slider_ids: rs_install_ids}, function(response){\r\n                                        if(response.open !== false){ //open created page\r\n                                            jQuery('#import_dialog_box').append('<div>'+rev_lang.draft_created+'</div>');\r\n                                            window.open(response.open, '_blank');\r\n                                        }else{\r\n                                            jQuery('#import_dialog_box').append('<div>'+rev_lang.draft_not_created+'</div>');\r\n                                        }\r\n                                        jQuery('#import_dialog_box').append('<div>'+rev_lang.slider_import_success_reload+'</div>');\r\n                                        if(rs_install_url !== false){\r\n                                            location.href = rs_install_url;\r\n                                        }\r\n                                    }, true);\r\n\r\n                                }else{\r\n                                    jQuery('#import_dialog_box').append('<div>'+rev_lang.slider_import_success_reload+'</div>');\r\n                                    if(rs_install_url !== false){\r\n                                        location.href = rs_install_url;\r\n                                    }\r\n                                }\r\n\r\n                            }\r\n                        }, 1000);\r\n                    }else{\r\n                        mdata['page-creation'] = create_page;\r\n\r\n                        var title = jQuery('#import_dialog_box').data('requested_slide');\r\n                        //t.get_title_by_uid(mdata[\"uid\"]);\r\n\r\n                        jQuery('#import_dialog_box').append('<div>'+title+'</div>');\r\n\r\n                        UniteAdminRev.ajaxRequest(\"import_slider_online_template_slidersview_new\", mdata, function(response){\r\n                            //modify the dialog with some informations\r\n                            jQuery('#import_dialog_box_action').html('');\r\n\r\n                            if(response.error.length > 0){\r\n                                for(var key in response.error) if (response.error.hasOwnProperty(key)) {\r\n                                    jQuery('#import_dialog_box').append('<div class=\"import_failure\">'+response.error[key]+'</div>');\r\n                                }\r\n                            }else{\r\n                                for(var key in response.success) if (response.success.hasOwnProperty(key)) {\r\n                                    jQuery('#install-slider-counter').css({width:\"100%\"});\r\n                                }\r\n                                if(response.open !== false){ //open created page\r\n                                    jQuery('#import_dialog_box').append('<div>'+rev_lang.draft_created+'</div>');\r\n                                    window.open(response.open, '_blank');\r\n\r\n                                }\r\n                                if(response.view !== false){ //redirect\r\n                                    jQuery('#import_dialog_box').append('<div>'+rev_lang.slider_import_success_reload+'</div>');\r\n                                    location.href = response.view;\r\n                                }\r\n                            }\r\n                        }, true, false);\r\n                    }\r\n                }\r\n\r\n\r\n                t.get_title_by_uid = function(uid){\r\n                    //get name by uid\r\n                    var dat = jQuery('.template_slide_item_img[data-uid=\"'+uid+'\"]').data('title');\r\n                    if(dat == undefined)\r\n                        dat = jQuery('.install_template_slider[data-uid=\"'+uid+'\"]').data('title');\r\n                    if(dat == undefined)\r\n                        dat = jQuery('.template_slider_item_import[data-uid=\"'+uid+'\"]').data('title');\r\n                    if(dat == undefined)\r\n                        dat = jQuery('.install_template_slider_package[data-uid=\"'+uid+'\"]').data('title');\r\n\r\n                    return dat;\r\n                }\r\n\r\n\r\n                /**\r\n                 * add Template Slider\r\n                 **/\r\n                jQuery('body').on('click', '.add_template_slider_item', function(){\r\n                    var slider_id = jQuery(this).data('sliderid');\r\n\r\n\r\n                    jQuery('#dialog_duplicate_slider').dialog({\r\n                        modal:true,\r\n                        resizable:false,\r\n                        title:'Import',\r\n                        width:250,\r\n                        height:200,\r\n                        closeOnEscape:true,\r\n                        dialogClass:\"tpdialogs tpdialogs_z\",\r\n                        create:function(ui) {\r\n                            jQuery(ui.target).parent().find('.ui-dialog-titlebar').addClass(\"tp-slider-new-dialog-title\");\r\n                        },\r\n                        buttons:{\r\n                            'Close':function(){\r\n                                jQuery(this).dialog(\"close\");\r\n                            },\r\n                            'Import':function(){\r\n                                if(jQuery('#rs-duplicate-animation').val() == '') return false;\r\n\r\n                                UniteAdminRev.ajaxRequest('duplicate_slider', {sliderid:slider_id,title:jQuery('#rs-duplicate-animation').val()}, function(response){\r\n                                    jQuery('#close-template').click();\r\n                                });\r\n                            }\r\n                        }\r\n                    });\r\n                });\r\n\r\n\r\n                /**\r\n                 * add Template Slider Pack\r\n                 **/\r\n                jQuery('body').on('click', '.add_template_slider_item_package', function(){\r\n                    var uid = jQuery(this).data('uid');\r\n\r\n                    jQuery('#dialog_duplicate_slider_package').dialog({\r\n                        modal:true,\r\n                        resizable:false,\r\n                        title:'Import Package',\r\n                        width:250,\r\n                        height:200,\r\n                        closeOnEscape:true,\r\n                        dialogClass:\"tpdialogs\",\r\n                        create:function(ui) {\r\n                            jQuery(ui.target).parent().find('.ui-dialog-titlebar').addClass(\"tp-slider-new-dialog-title\");\r\n                        },\r\n                        buttons:{\r\n                            'Close':function(){\r\n                                jQuery(this).dialog(\"close\");\r\n                            },\r\n                            'Import Package':function(){\r\n                                if(jQuery('#rs-duplicate-prefix').val() == '') return false;\r\n\r\n                                UniteAdminRev.ajaxRequest('duplicate_slider_package', {slideruid:uid,title:jQuery('#rs-duplicate-prefix').val()}, function(response){\r\n                                    jQuery('#close-template').click();\r\n                                });\r\n                            }\r\n                        }\r\n                    });\r\n                });\r\n\r\n                jQuery(\".input_import_slider\").change(function(){\r\n                    if(jQuery(this).val() !== ''){\r\n                        jQuery('.rev-import-slider-button').show();\r\n                    }else{\r\n                        jQuery('.rev-import-slider-button').hide();\r\n                    }\r\n                });\r\n\r\n                jQuery('#form-import-slider-local, #form-import-online-slider-local').submit(function(evt){\r\n\r\n                    var title = jQuery(this).find('input[name=\"import_file\"]').val().split('\\\\').pop();\r\n\r\n                    if (jQuery('#dialog_import_slider').hasClass('ui-dialog-content')) {\r\n                        jQuery('#dialog_import_slider').dialog('close');\r\n                    }\r\n                    if (jQuery('#dialog_import_template_slider').hasClass('ui-dialog-content')) {\r\n                        jQuery('#dialog_import_template_slider').dialog('close');\r\n                    }\r\n\r\n                    jQuery('#dialog_import_template_slider_info').dialog({\r\n                        modal:true,\r\n                        resizable:false,\r\n                        width:450,\r\n                        minHeight:350,\r\n                        dialogClass:\"tpdialogs\",\r\n                        open: function(event, ui) {\r\n\r\n                            var dialog = jQuery(event.target).parent(),\r\n                                dialogtitle = dialog.find('.ui-dialog-titlebar');\r\n                            dialog.attr(\"id\",\"tp_import_sliders\");\r\n                            dialogtitle.attr(\"id\",\"tp_import_sliders_title\");\r\n                            jQuery(\".ui-dialog-titlebar-close\", ui.dialog).hide();\r\n                        }\r\n                    });\r\n                    jQuery('#import_dialog_box').html('');\r\n                    jQuery('#import_dialog_box').append('<div>'+title+'</div>');\r\n\r\n                    var my_install_calls = 0;\r\n                    var max_calls = 60;\r\n                    var warning_calls = 30;\r\n                    var install_interval = setInterval(function(){\r\n                        my_install_calls++;\r\n                        if(my_install_calls == warning_calls){\r\n                            jQuery('#import_dialog_box_action').append(rev_lang.download_install_takes_longer);\r\n                        }\r\n                        if(my_install_calls == max_calls){\r\n                            jQuery('#import_dialog_box').append(rev_lang.download_failed_check_server);\r\n                            jQuery('#import_dialog_box').append('<div>'+rev_lang.aborting_import+'</div>');\r\n                            jQuery('#import_dialog_box_action').html('');\r\n                            if (typeof installclosebutton !== 'undefined') {\r\n                                installclosebutton.show();\r\n                            }\r\n                            clearInterval(install_interval);\r\n                        }\r\n                    }, 1000);\r\n                });\r\n\r\n                jQuery(\"#button_import_template_slider, #button_import_template_slider_b\").click(function(){\r\n                    t.load_slider_template_html();\r\n                });\r\n\r\n                //import slide dialog\r\n                jQuery(\"#button_import_slider\").click(function(){\r\n                    if(RS_DEMO){\r\n                        alert(rev_lang.not_available_in_demo);\r\n                        return false;\r\n                    }\r\n                    jQuery('.rev-import-slider-button').hide();\r\n\r\n                    jQuery(\".input_import_slider\").val('');\r\n\r\n                    jQuery('#dialog_import_slider form').on('submit', function() {\r\n                        jQuery('.rev-import-slider-button')\r\n                            .val(jQuery('.rev-import-slider-button').data('loading'))\r\n                            .attr('disabled', 'disabled');\r\n                        jQuery(this).on('submit', function() { return false; });\r\n                        return true;\r\n                    });\r\n\r\n                    jQuery(\"#dialog_import_slider\").dialog({\r\n                        modal:true,\r\n                        resizable:false,\r\n                        width:600,\r\n                        height:400,\r\n                        closeOnEscape:true,\r\n                        dialogClass:\"tpdialogs\",\r\n                        create:function(ui) {\r\n                            jQuery(ui.target).parent().find('.ui-dialog-titlebar').addClass(\"tp-slider-new-dialog-title\");\r\n                        },\r\n                        buttons:{\r\n                            \"Close\":function(){\r\n                                jQuery(this).dialog(\"close\");\r\n                            }\r\n                        },\r\n                    });\t//dialog end\r\n\r\n                });\r\n\r\n                jQuery(\".button_delete_slider\").click(function(){\r\n\r\n                    var sliderID = this.id.replace(\"button_delete_\",\"\");\r\n                    var sliderTitle = jQuery(\"#slider_title_\"+sliderID).text();\r\n                    if(confirm(rev_lang.really_want_to_delete+\" '\"+sliderTitle+\"' ?\") == false)\r\n                        return(false);\r\n\r\n                    UniteAdminRev.ajaxRequest(\"delete_slider_stay\" ,{sliderid:sliderID}, function(){\r\n                        jQuery('li[data-id=\"'+sliderID+'\"]').remove();\r\n                    });\r\n                });\r\n\r\n                //duplicate slider action\r\n                jQuery('.button_duplicate_slider').click(function(){\r\n                    var sliderID = this.id.replace('button_duplicate_', '');\r\n\r\n                    jQuery('#dialog_duplicate_slider').dialog({\r\n                        modal:true,\r\n                        resizable:false,\r\n                        width:250,\r\n                        height:200,\r\n                        closeOnEscape:true,\r\n                        dialogClass:\"tpdialogs\",\r\n                        create:function(ui) {\r\n                            jQuery(ui.target).parent().find('.ui-dialog-titlebar').addClass(\"tp-slider-new-dialog-title\");\r\n                        },\r\n                        buttons:{\r\n                            'Close':function(){\r\n                                jQuery(this).dialog(\"close\");\r\n                            },\r\n                            'Duplicate':function(){\r\n                                if(jQuery('#rs-duplicate-animation').val() == '') return false;\r\n\r\n                                UniteAdminRev.ajaxRequest('duplicate_slider' ,{sliderid:sliderID,title:jQuery('#rs-duplicate-animation').val()}, function(response){\r\n\r\n                                });\r\n                            }\r\n                        }\r\n                    });\r\n\r\n\r\n                });\r\n\r\n                //toggle Slider Favorite\r\n                jQuery(\".rev-toogle-fav\").click(function(){\r\n                    var sliderID = this.id.replace('reg-toggle-id-','');\r\n                    UniteAdminRev.ajaxRequest('toggle_favorite' ,{id:sliderID},function(){\r\n                        var mi = jQuery('#reg-toggle-id-'+sliderID).find('i');\r\n                        if(mi.hasClass('eg-icon-star-empty')){\r\n                            mi.removeClass('eg-icon-star-empty');\r\n                            mi.addClass('eg-icon-star');\r\n                        }else{\r\n                            mi.removeClass('eg-icon-star');\r\n                            mi.addClass('eg-icon-star-empty');\r\n                        }\r\n                    });\r\n                });\r\n\r\n                //preview slider action\r\n                jQuery(\".button_slider_preview\").click(function(){\r\n\r\n                    var sliderID = this.id.replace(\"button_preview_\",\"\");\r\n\r\n                    openPreviewSliderDialog(sliderID);\r\n                });\r\n\r\n                //export slider action on slider overview\r\n                jQuery(\".export_slider_overview\").click(function(){\r\n\r\n                    var sliderID = this.id.replace(\"export_slider_\",\"\");\r\n                    var useDummy = false;//jQuery('input[name=\"export_dummy_images\"]').is(':checked');\r\n                    var urlAjaxExport = ajaxurl+UniteAdminRev.return_ajaxurl_param()+\"action=\"+g_uniteDirPlugin+\"_ajax_action&client_action=export_slider&dummy=\"+useDummy+\"&nonce=\" + g_revNonce;\r\n                    urlAjaxExport += \"&sliderid=\" + sliderID;\r\n                    location.href = urlAjaxExport;\r\n\r\n                });\r\n\r\n\r\n                jQuery('body').on('click', '.rs-embed-slider', function(){\r\n\r\n                    var use_alias = jQuery(this).closest('li.tls-slide').find('.tls-alias').text();\r\n\r\n                    jQuery('.rs-dialog-embed-slider').find('.rs-example-alias').text(use_alias);\r\n                    jQuery('.rs-dialog-embed-slider').find('.rs-example-alias-1').text('{{block class=\"Nwdthemes\\\\Revslider\\\\Block\\\\Revslider\" alias=\"'+use_alias+'\"}}');\r\n\r\n                    jQuery('.rs-dialog-embed-slider').dialog({\r\n                        modal: true,\r\n                        resizable:false,\r\n                        minWidth:850,\r\n                        minHeight:300,\r\n                        closeOnEscape:true,\r\n                        dialogClass:\"tpdialogs\",\r\n                        create:function(ui) {\r\n                            jQuery(ui.target).parent().find('.ui-dialog-titlebar').addClass(\"tp-slider-new-dialog-title\");\r\n                        }\r\n                    });\r\n                });\r\n\r\n\r\n                jQuery(\".export_slider_standalone\").click(function(){\r\n\r\n                    var sliderID = this.id.replace(\"export_slider_standalone_\",\"\");\r\n                    var useDummy = false;//jQuery('input[name=\"export_dummy_images\"]').is(':checked');\r\n                    var urlAjaxExport = ajaxurl+UniteAdminRev.return_ajaxurl_param()+\"action=\"+g_uniteDirPlugin+\"_ajax_action&client_action=preview_slider&only_markup=true&dummy=\"+useDummy+\"&nonce=\" + g_revNonce;\r\n                    urlAjaxExport += \"&sliderid=\" + sliderID;\r\n                    location.href = urlAjaxExport;\r\n\r\n                });\r\n            }\r\n\r\n            /**\r\n             * open preview slider dialog\r\n             */\r\n            var openPreviewSliderDialog = function(sliderID){\r\n\r\n                var rs_form = jQuery('#rs-preview-form');\r\n\r\n                //set action and data\r\n                jQuery(\"#rs-client-action\").val('preview_slider');\r\n                jQuery(\"#preview_sliderid\").val(sliderID);\r\n                jQuery(\"#preview_slider_markup\").val('false');\r\n\r\n                rs_form.submit();\r\n\r\n                jQuery('#rs-preview-wrapper').show();\r\n\r\n                jQuery(window).trigger('resize');\r\n            }\r\n\r\n            /**\r\n             * get language array from the language list\r\n             */\r\n            var getLangsFromLangList = function(objList){\r\n                var arrLangs = [];\r\n                objList.find(\".icon_slide_lang\").each(function(){\r\n                    var lang = jQuery(this).data(\"lang\");\r\n                    arrLangs.push(lang);\r\n                });\r\n\r\n                return(arrLangs);\r\n            }\r\n\r\n\r\n            /**\r\n             * filter langs float menu by the list of icons\r\n             * show only languages in the float menu that not exists in the icons list\r\n             * return number of available languages\r\n             */\r\n            var filterFloatMenuByListIcons = function(objList,operation){\r\n                var arrLangs = getLangsFromLangList(objList);\r\n                var numIcons = 0;\r\n\r\n                jQuery(\"#langs_float_wrapper li.item_lang\").each(function(){\r\n                    var objItem = jQuery(this);\r\n                    var lang = objItem.data(\"lang\");\r\n                    var found = jQuery.inArray(lang,arrLangs);\r\n\r\n                    if(operation != \"add\")\r\n                        jQuery(\"#langs_float_wrapper li.operation_sap\").hide();\r\n\r\n                    if(jQuery.inArray(lang,arrLangs) == -1){\r\n                        numIcons++;\r\n                        objItem.show();\r\n                        if(operation != \"add\")\r\n                            jQuery(\"#langs_float_wrapper li.operation_sap\").show();\r\n                    }\r\n                    else\r\n                        objItem.hide();\r\n                });\r\n\r\n                return(numIcons);\r\n            }\r\n\r\n\r\n            /**\r\n             *\r\n             * init slides view posts related functions\r\n             */\r\n            t.initSlidesListViewPosts = function(sliderID){\r\n\r\n                initSlideListGlobals(sliderID);\r\n\r\n                //init sortby\r\n                jQuery(\"#select_sortby\").change(function(){\r\n                    jQuery(\"#slides_top_loader\").show();\r\n                    var data = {};\r\n                    data.sliderID = sliderID;\r\n                    data.sortby = jQuery(this).val();\r\n                    UniteAdminRev.ajaxRequest(\"update_posts_sortby\" ,data,function(){\r\n                        jQuery(\"#slides_top_loader\").html(\"Updated, reloading page...\");\r\n                        location.reload(true);\r\n                    });\r\n                });\r\n\r\n                // delete single slide\r\n                jQuery(\".button_delete_slide\").click(function(){\r\n                    var postID = jQuery(this).data(\"slideid\");\r\n                    var data = {slideID:postID,sliderID:sliderID};\r\n\r\n                    if(confirm(g_messageDeleteSlide) == false)\r\n                        return(false);\r\n\r\n                    UniteAdminRev.ajaxRequest(\"delete_slide\" ,data);\r\n                });\r\n\r\n            }\r\n\r\n\r\n            /**\r\n             * init slide list global functions\r\n             */\r\n            var initSlideListGlobals = function(sliderID){\r\n\r\n                //set the slides sortable, init save order\r\n                jQuery(\"#list_slides\").sortable({\r\n                    axis:\"y\",\r\n                    handle:'.col-handle',\r\n                    update:function(){updateSlidesOrder(sliderID)}\r\n                });\r\n\r\n\r\n                //publish / unpublish item\r\n                jQuery(\"#list_slides .icon_state\").click(function(){\r\n                    var objIcon = jQuery(this);\r\n                    var objLoader = objIcon.siblings(\".state_loader\");\r\n                    var slideID = objIcon.data(\"slideid\");\r\n                    var data = {slider_id:sliderID,slide_id:slideID};\r\n\r\n                    objIcon.hide();\r\n                    objLoader.show();\r\n                    UniteAdminRev.ajaxRequest(\"toggle_slide_state\" ,data,function(response){\r\n                        objIcon.show();\r\n                        objLoader.hide();\r\n                        var currentState = response.state;\r\n\r\n                        if(currentState == \"published\"){\r\n                            objIcon.removeClass(\"state_unpublished\").addClass(\"state_published\").prop(\"title\",\"Unpublish Slide\");\r\n                        }else{\r\n                            objIcon.removeClass(\"state_published\").addClass(\"state_unpublished\").prop(\"title\",\"Publish Slide\");\r\n                        }\r\n\r\n                    });\r\n                });\r\n\r\n                //change image\r\n                jQuery(\".col-image .slide_image\").click(function(){\r\n                    var slideID = this.id.replace(\"slide_image_\",\"\");\r\n                    UniteAdminRev.openAddImageDialog(g_messageChangeImage,function(urlImage,imageID){\r\n                        var data = {slider_id:sliderID,slide_id:slideID,url_image:urlImage,image_id:imageID};\r\n                        UniteAdminRev.ajaxRequest(\"change_slide_image\" ,data);\r\n                    });\r\n                }).tipsy({\r\n                    gravity:\"s\",\r\n                    delayIn: 70\r\n                });\r\n\r\n            }\r\n\r\n\r\n            /**\r\n             * init \"slides list\" view\r\n             */\r\n            t.initSlidesListView = function(sliderID){\r\n\r\n                initSlideListGlobals(sliderID);\r\n\r\n                //new slide\r\n                jQuery(\"#button_new_slide, #button_new_slide_top\").click(function(){\r\n                    var dialogTitle = jQuery(\"#button_new_slide\").data(\"dialogtitle\");\r\n\r\n                    UniteAdminRev.openAddImageDialog(dialogTitle, function(obj){\r\n                        var data = {sliderid:sliderID,obj:obj};\r\n                        UniteAdminRev.ajaxRequest(\"add_slide\" ,data);\r\n                    },true);\t//allow multiple selection\r\n\r\n                });\r\n\r\n                //new transparent slide\r\n                jQuery(\"#button_new_slide_transparent, #button_new_slide_transparent_top\").click(function(){\r\n                    jQuery(this).hide();\r\n                    jQuery(\".new_trans_slide_loader\").show();\r\n                    var data = {sliderid:sliderID};\r\n                    UniteAdminRev.ajaxRequest(\"add_slide\" ,data);\r\n                });\r\n\r\n                //duplicate slide\r\n                jQuery(\".button_duplicate_slide\").click(function(){\r\n                    var slideID = this.id.replace(\"button_duplicate_slide_\",\"\");\r\n                    var data = {slideID:slideID,sliderID:sliderID};\r\n                    UniteAdminRev.ajaxRequest(\"duplicate_slide\" ,data);\r\n                });\r\n\r\n                //copy / move slides\r\n                jQuery(\".button_copy_slide\").click(function(){\r\n                    if(jQuery(this).hasClass(\"button-disabled\"))\r\n                        return(false);\r\n\r\n                    var dialogCopy = jQuery(\"#dialog_copy_move\");\r\n\r\n                    var textClose = dialogCopy.data(\"textclose\");\r\n                    var textUpdate = dialogCopy.data(\"textupdate\");\r\n                    var objButton = jQuery(this);\r\n\r\n                    var buttons = {};\r\n                    buttons[textUpdate] = function(){\r\n                        var slideID = objButton.attr(\"id\").replace(\"button_copy_slide_\",\"\");\r\n                        var targetSliderID = jQuery(\"#selectSliders\").val();\r\n                        var operation = \"copy\";\r\n                        if(jQuery(\"#radio_move\").prop(\"checked\"))\r\n                            operation = \"move\";\r\n\r\n                        var data = {slideID:slideID,\r\n                            sliderID:sliderID,\r\n                            targetSliderID:targetSliderID,\r\n                            operation:operation};\r\n\r\n                        var objLoader = objButton.siblings(\".loader_copy\");\r\n\r\n                        objButton.hide();\r\n                        objLoader.show();\r\n\r\n                        UniteAdminRev.ajaxRequest(\"copy_move_slide\" ,data);\r\n                        jQuery(this).dialog(\"close\");\r\n                    };\r\n\r\n                    jQuery(\"#dialog_copy_move\").dialog({\r\n                        modal:true,\r\n                        resizable:false,\r\n                        width:400,\r\n                        height:300,\r\n                        closeOnEscape:true,\r\n                        create:function(ui) {\r\n                            jQuery(ui.target).parent().find('.ui-dialog-titlebar').addClass(\"tp-slider-new-dialog-title\");\r\n                        },\r\n                        dialogClass:\"tpdialogs\",\r\n                        buttons:buttons\r\n                    });\t//dialog end\r\n\r\n                });\r\n\r\n                // delete single slide\r\n                jQuery(\".button_delete_slide\").click(function(){\r\n                    var slideID = jQuery(this).data(\"slideid\");\r\n                    var data = {slideID:slideID,sliderID:sliderID};\r\n                    if(confirm(\"Delete this slide?\") == false)\r\n                        return(false);\r\n\r\n                    var objButton = jQuery(this);\r\n                    var objLoader = objButton.siblings(\".loader_delete\");\r\n\r\n                    objButton.hide();\r\n                    objLoader.show();\r\n\r\n                    UniteAdminRev.ajaxRequest(\"delete_slide\" ,data);\r\n                });\r\n\r\n                //preview slide from the slides list:\r\n                jQuery(\"#list_slides .icon_slide_preview\").click(function(){\r\n                    var slideID = jQuery(this).data(\"slideid\");\r\n                    openPreviewSlideDialog(slideID,false);\r\n                });\r\n\r\n            }\r\n\r\n            t.saveEditSlide = function(slideID, isDemo){\r\n                if(!isDemo)\r\n                    isDemo = false;\r\n\r\n                tpLayerTimelinesRev.updateZIndexByOrder();\r\n                UniteLayersRev.setRowZoneOrders();\r\n                tpLayerTimelinesRev.organiseGroupsAndLayer();\r\n\r\n                var layers = UniteLayersRev.getLayers();\r\n\r\n                var arrLayersNew = {};\r\n                for(key in layers) if (layers.hasOwnProperty(key)) {\r\n                    if(layers[key].layer_unavailable !== true && layers[key].deleted !== true){\r\n                        arrLayersNew[key] = UniteAdminRev.duplicateObject(layers[key]);\r\n\r\n                        if(typeof(arrLayersNew[key].layer_unavailable) !== 'undefined') delete(arrLayersNew[key].layer_unavailable);\r\n                        if(typeof(arrLayersNew[key].deleted) !== 'undefined') delete(arrLayersNew[key].deleted);\r\n                        if(typeof(arrLayersNew[key].references) !== 'undefined') delete(arrLayersNew[key].references);\r\n                        if(typeof(arrLayersNew[key].createdOnInit) !== 'undefined') delete(arrLayersNew[key].createdOnInit);\r\n                    }\r\n                }\r\n\r\n\r\n                if(JSON && JSON.stringify)\r\n                    arrLayersNew = JSON.stringify(arrLayersNew);\r\n\r\n                var data = {\r\n                    slideid:slideID,\r\n                    layers:arrLayersNew\r\n                };\r\n\r\n                data.params = RevSliderSettings.getSettingsObject(\"form_slide_params\");\r\n\r\n                if(!isDemo){ //demo means static captions. This has\r\n\r\n                    data.params.slide_bg_color = jQuery(\"#slide_bg_color\").val();\r\n                    data.params.slide_bg_external = jQuery(\"#slide_bg_external\").val();\r\n                    data.params.bg_fit = jQuery(\"#slide_bg_fit\").val();\r\n                    data.params.bg_fit_x = jQuery(\"input[name='bg_fit_x']\").val();\r\n                    data.params.bg_fit_y = jQuery(\"input[name='bg_fit_y']\").val();\r\n                    data.params.bg_repeat = jQuery(\"#slide_bg_repeat\").val();\r\n                    data.params.bg_position = jQuery(\"#slide_bg_position\").val();\r\n                    data.params.bg_position_x = jQuery(\"input[name='bg_position_x']\").val();\r\n                    data.params.bg_position_y = jQuery(\"input[name='bg_position_y']\").val();\r\n                    data.params.bg_end_position_x = jQuery(\"input[name='bg_end_position_x']\").val();\r\n                    data.params.bg_end_position_y = jQuery(\"input[name='bg_end_position_y']\").val();\r\n\r\n                    var slideBgSetting = getSlideBgSettings(); //get new background options\r\n\r\n                    if(typeof slideBgSetting === 'object' && !jQuery.isEmptyObject(slideBgSetting)){ //add new background options\r\n                        for(key in slideBgSetting) if (slideBgSetting.hasOwnProperty(key)) {\r\n                            data.params[key] = slideBgSetting[key];\r\n                        }\r\n                    }\r\n\r\n                    //kenburns & pan zoom\r\n                    data.params.kenburn_effect = (jQuery(\"input[name='kenburn_effect']\").is(':checked')) ? 'on' : 'off';\r\n                    //data.params.kb_rotation_start = jQuery(\"input[name='kb_rotation_start']\").val();\r\n                    //data.params.kb_rotation_end = jQuery(\"input[name='kb_rotation_end']\").val();\r\n                    data.params.kb_start_fit = jQuery(\"input[name='kb_start_fit']\").val();\r\n                    data.params.kb_end_fit = jQuery(\"input[name='kb_end_fit']\").val();\r\n\r\n                    data.params.bg_end_position = jQuery(\"select[name='bg_end_position']\").val();\r\n                    data.params.kb_duration = jQuery(\"input[name='kb_duration']\").val();\r\n                    data.params.kb_easing = jQuery(\"select[name='kb_easing']\").val();\r\n\r\n                    data.params.slide_transition = [];\r\n                    data.params.slot_amount = [];\r\n                    data.params.transition_rotation = [];\r\n                    data.params.transition_duration = [];\r\n                    data.params.transition_ease_in = [];\r\n                    data.params.transition_ease_out = [];\r\n                    jQuery('.slide-trans-cur-ul li').each(function(){\r\n                        data.params.slide_transition.push(jQuery(this).data('animval'));\r\n                        data.params.slot_amount.push(jQuery(this).data('slot'));\r\n                        data.params.transition_rotation.push(jQuery(this).data('rotation'));\r\n                        data.params.transition_duration.push(jQuery(this).data('duration'));\r\n                        data.params.transition_ease_in.push(jQuery(this).data('ease_in'));\r\n                        data.params.transition_ease_out.push(jQuery(this).data('ease_out'));\r\n                    });\r\n\r\n                    var csel = jQuery('.bgsrcchanger:checked').val();\r\n\r\n                    if(csel == 'vimeo' || csel == 'html5' || csel == 'youtube'){ //check for cover image, if not set, deny the saving\r\n                        if((typeof(data.params.image_id) === 'undefined' || parseInt(data.params.image_id) == 0 || data.params.image_id == '') && ((typeof(data.params.image_url) === 'undefined') || data.params.image_url == '')){\r\n                            alert(rev_lang.cover_image_needs_to_be_set);\r\n                            return false;\r\n                        }\r\n                    }\r\n\r\n\r\n                    //remove image_url if we are a stream\r\n                    var gallery_type = jQuery('input[name=\"rs-gallery-type\"]').val();\r\n                    switch(gallery_type){\r\n                        case 'gallery':\r\n                            break;\r\n                        case 'posts':\r\n                        case 'woocommerce':\r\n                        case 'facebook':\r\n                        case 'twitter':\r\n                        case 'instagram':\r\n                        case 'flickr':\r\n                        case 'youtube':\r\n                        case 'vimeo':\r\n                            data.params.image_url = '';\r\n                            break;\r\n                    }\r\n\r\n                    //console.log(tinyMCE.get('slide_description').getContent());\r\n                    //data.params.slide_description =\r\n\r\n                }\r\n\r\n\r\n                //new part, settings that can be saved in slides\r\n                data.settings = {};\r\n\r\n                /**\r\n                 * Add Horizontal/Vetical Lines\r\n                 */\r\n                var hor_lines = [];\r\n                jQuery('#hor-css-linear .helplines').each(function(){\r\n                    hor_lines.push(jQuery(this).css('left'));\r\n                });\r\n\r\n                var ver_lines = [];\r\n                jQuery('#ver-css-linear .helplines').each(function(){\r\n                    ver_lines.push(jQuery(this).css('top'));\r\n                });\r\n\r\n                data.settings['hor_lines'] = hor_lines;\r\n                data.settings['ver_lines'] = ver_lines;\r\n\r\n                // HOOK FOR EXTERNAL ADDONS\r\n                jQuery.each(UniteLayersRev.addon_callbacks, function(i,callback_element) {\r\n                    var callback = callback_element[\"callback\"],\r\n                        env = callback_element[\"environment\"],\r\n                        env_sub = callback_element[\"function_position\"];\r\n                    if (env === \"saveEditSlide\" && env_sub==\"data\")\r\n                        data = callback(data);\r\n                });\r\n\r\n                data.obj_favorites = favoriteObjectsList;\r\n\r\n                if(!isDemo){\r\n                    UniteAdminRev.setAjaxHideButtonID(\"button_save_slide,button_save_slide-tb\");\r\n                    UniteAdminRev.setAjaxLoaderID(\"loader_update\");\r\n                    UniteAdminRev.setSuccessMessageID(\"update_slide_success\");\r\n                    UniteAdminRev.ajaxRequest(\"update_slide\", data);\r\n                }else{\r\n                    UniteAdminRev.setAjaxHideButtonID(\"button_save_static_slide,button_save_static_slide-tb\");\r\n                    UniteAdminRev.setAjaxLoaderID(\"loader_update\");\r\n                    UniteAdminRev.setSuccessMessageID(\"update_slide_success\");\r\n                    UniteAdminRev.ajaxRequest(\"update_static_slide\", data);\r\n                }\r\n            }\r\n\r\n            /**\r\n             * init \"edit slide\" view\r\n             */\r\n            this.initEditSlideView = function(slideID,sliderID,is_static){\r\n\r\n                jQuery('body').on('click', '.rs-reload-shop', function(){\r\n                    if(confirm(rev_lang.unsaved_data_will_be_lost_proceed)){\r\n                        showWaitAMinute({fadeIn:300,text:rev_lang.please_wait_a_moment});\r\n\r\n                        location.href = window.location.href+(window.location.href.indexOf('?')==-1?'?':'&')+'update_shop';\r\n                    }\r\n                });\r\n\r\n                /**\r\n                 * add Template Slider through Import, then add specific slide to current Slider and open it. Check for zip name\r\n                 **/\r\n\r\n                jQuery('body').on('click', '.install_template_slide', function(){\r\n\r\n                    var data = jQuery(this);\r\n\r\n                    jQuery('#import_dialog_box').data('requested_slide',data.data('title'));\r\n\r\n                    if(data.hasClass('deny_download')){\r\n                        alert(rev_lang.this_template_requires_version+' '+data.data('versionneed')+' '+rev_lang.of_slider_revolution);\r\n                        return false;\r\n                    }\r\n\r\n                    if(confirm(rev_lang.unsaved_data_will_be_lost_proceed)){\r\n\r\n                        //modify the dialog with some informations\r\n                        jQuery('.rs-zip-name').text(data.data('zipname'));\r\n                        jQuery('.rs-uid').val(data.data('uid'));\r\n                        jQuery('.rs-slide-number').val(data.data('slidenumber'));\r\n                        jQuery('.rs-slider-id').val(sliderID);\r\n                        if(is_static){\r\n                            jQuery('.rs-slide-id').val('static_'+sliderID);\r\n                        }else{\r\n                            jQuery('.rs-slide-id').val(slideID);\r\n                        }\r\n\r\n                        jQuery(\"#dialog_import_template_slide_from\").dialog({\r\n                            modal:true,\r\n                            resizable:false,\r\n                            dialogClass:\"tpdialogs\",\r\n                            create:function(ui) {\r\n                                jQuery(ui.target).parent().find('.ui-dialog-titlebar').addClass(\"tp-slider-new-dialog-title\");\r\n                            },\r\n                            buttons:{\r\n                                \"Local\":function(){\r\n                                    jQuery(\".input_import_slider\").val('');\r\n                                    jQuery('.rs-import-slider-button').hide();\r\n\r\n                                    jQuery(\"#dialog_import_template_slide\").dialog({\r\n                                        modal:true,\r\n                                        resizable:false,\r\n                                        width:600,\r\n                                        height:350,\r\n                                        closeOnEscape:true,\r\n                                        dialogClass:\"tpdialogs\",\r\n                                        create:function(ui) {\r\n                                            jQuery(ui.target).parent().find('.ui-dialog-titlebar').addClass(\"tp-slider-new-dialog-title\");\r\n                                        },\r\n                                        buttons:{\r\n                                            \"Close\":function(){\r\n                                                jQuery(this).dialog(\"close\");\r\n                                            }\r\n                                        },\r\n                                    });\t//dialog end\r\n                                },\r\n                                \"Online\":function(){\r\n                                    if(rs_plugin_validated){\r\n                                        //show please wait\r\n                                        showWaitAMinute({fadeIn:300,text:rev_lang.please_wait_a_moment});\r\n\r\n                                        //open dialog and put the dots\r\n\r\n                                        import_single_slide_wait();\r\n\r\n                                        //get from server\r\n                                        jQuery('#rs-import-slide-template-from-server').submit();\r\n\r\n                                        jQuery(this).dialog(\"close\");\r\n                                    }else{\r\n                                        alert(rev_lang.this_feature_only_if_activated);\r\n                                    }\r\n                                }\r\n                            }\r\n                        });\r\n\r\n                        jQuery('#close-template').click();\r\n                    }\r\n                });\r\n\r\n                jQuery('#dialog_import_template_slide').submit(function(evt){\r\n                    import_single_slide_wait();\r\n                });\r\n\r\n                var import_single_slide_wait = function(){\r\n                    jQuery('#import_dialog_box').html('');\r\n\r\n                    //open dialog which will then have all the information of the Sliders\r\n                    jQuery('#dialog_import_template_slide_info').dialog({\r\n                        modal:true,\r\n                        resizable:false,\r\n                        width:450,\r\n                        minHeight:350,\r\n                        open: function(event, ui) {\r\n                            var dialog = jQuery(event.target).parent(),\r\n                                dialogtitle = dialog.find('.ui-dialog-titlebar');\r\n                            dialog.attr(\"id\",\"tp_import_sliders\");\r\n                            dialogtitle.attr(\"id\",\"tp_import_sliders_title\");\r\n                            installclosebutton = jQuery(\".ui-dialog-titlebar-close\", ui.dialog);\r\n                            jQuery(\".ui-dialog-titlebar-close\", ui.dialog).hide();\r\n\r\n                        }\r\n                    });\r\n                    var my_install_calls = 0;\r\n                    var warning_calls = 60;\r\n                    var max_calls = 90;\r\n\r\n                    jQuery('#import_dialog_box').append(jQuery('#import_dialog_box').data('requested_slide'));\r\n\r\n                    var install_interval = setInterval(function(){\r\n                        my_install_calls++;\r\n\r\n                        if(my_install_calls == warning_calls){\r\n                            jQuery('#import_dialog_box_action').append(rev_lang.download_install_takes_longer);\r\n                        }\r\n                        if(my_install_calls == max_calls){\r\n                            jQuery('#import_dialog_box').append(rev_lang.download_failed_check_server);\r\n                            jQuery('#import_dialog_box').append('<div>'+rev_lang.aborting_import+'</div>');\r\n                            jQuery('#import_dialog_box_action').html('');\r\n                            clearInterval(install_interval);\r\n                        }\r\n                    }, 1000);\r\n\r\n                };\r\n\r\n\r\n                // TOGGLE SOME ACCORDION\r\n                jQuery('.tp-accordion').click(function() {\r\n\r\n                    var tpacc=jQuery(this);\r\n                    if (tpacc.hasClass(\"tpa-closed\")) {\r\n                        tpacc.parent().parent().parent().find('.tp-closeifotheropen').each(function() {\r\n                            jQuery(this).slideUp(300);\r\n                            jQuery(this).parent().find('.tp-accordion').addClass(\"tpa-closed\").addClass(\"box_closed\").find('.postbox-arrow2').html(\"+\");\r\n                        });\r\n\r\n                        tpacc.parent().find('.toggled-content').slideDown(300);\r\n                        tpacc.removeClass(\"tpa-closed\").removeClass(\"box_closed\");\r\n                        tpacc.find('.postbox-arrow2').html(\"-\");\r\n                    } else {\r\n                        tpacc.parent().find('.toggled-content').slideUp(300);\r\n                        tpacc.addClass(\"tpa-closed\").addClass(\"box_closed\");\r\n                        tpacc.find('.postbox-arrow2').html(\"+\");\r\n\r\n                    }\r\n                })\r\n\r\n                // MAKE MAX WIDTH OF CONTAINERS.\r\n                jQuery('.mw960').each(function() {\r\n                    var newmw = jQuery('#divLayers').width();\r\n                    if (newmw<960) newmw=960;\r\n                    jQuery(this).css({maxWidth:newmw+\"px\"});\r\n                })\r\n\r\n                // SORTING AND DEPTH SELECTOR\r\n                jQuery('#button_sort_depth').on('click',function() {\r\n                    jQuery('.layer_sortbox').addClass(\"depthselected\");\r\n                    jQuery('.layer_sortbox').removeClass(\"timeselected\");\r\n                });\r\n\r\n                jQuery('#button_sort_time').on('click',function() {\r\n                    jQuery('.layer_sortbox').removeClass(\"depthselected\");\r\n                    jQuery('.layer_sortbox').addClass(\"timeselected\");\r\n\r\n                });\r\n\r\n\r\n                //add slide top link\r\n                jQuery(\"#link_add_slide\").click(function(){\r\n                    var data = { sliderid:sliderID };\r\n\r\n                    jQuery(\"#loader_add_slide\").show();\r\n                    UniteAdminRev.ajaxRequest(\"add_slide_fromslideview\", data);\r\n                });\r\n\r\n                //add bulk slide top link\r\n                jQuery(\"#link_add_bulk_slide\").click(function(){\r\n                    UniteAdminRev.openAddImageDialog(rev_lang.add_bulk_slides, function(obj){\r\n                        var data = {sliderid:sliderID,obj:obj};\r\n                        UniteAdminRev.ajaxRequest(\"add_bulk_slide\", data);\r\n\r\n                    },true);\t//allow multiple selection\r\n                });\r\n\r\n                jQuery('body').on('click', '.add_template_slide_item, .add_user_template_slide_item', function(){\r\n                    if(confirm(rev_lang.unsaved_data_will_be_lost_proceed)){\r\n                        var data = { slider_id:sliderID };\r\n\r\n                        data['slide_id'] = jQuery(this).data('slideid');\r\n                        if(is_static){\r\n                            data['redirect_id'] = 'static_'+sliderID;\r\n                        }else{\r\n                            data['redirect_id'] = slideID; //is set in slide.php\r\n                        }\r\n\r\n                        UniteAdminRev.ajaxRequest('copy_slide_to_slider', data, function(){\r\n                            jQuery('#close-template').click();\r\n                        });\r\n                    }\r\n                });\r\n\r\n                jQuery('body').on('click', '.delete_user_template_slide_item', function(){\r\n                    if(confirm(rev_lang.delete_user_slide)){\r\n                        var data = { slider_id:sliderID };\r\n\r\n                        data['slide_id'] = jQuery(this).data('slideid');\r\n\r\n                        jQuery(this).closest('.template_group_wrappers').remove();\r\n\r\n                        UniteAdminRev.ajaxRequest('delete_template_slide', data, function(){\r\n                        });\r\n                    }\r\n                });\r\n\r\n                //save slide actions\r\n                jQuery(\"#button_save_slide\").click(function(){\r\n                    t.saveEditSlide(slideID);\r\n                    UniteLayersRev.set_save_needed(false);\r\n                });\r\n\r\n                jQuery(\"#button_save_slide-tb\").click(function(){\r\n                    t.saveEditSlide(slideID);\r\n                    UniteLayersRev.set_save_needed(false);\r\n                });\r\n\r\n                //save slide actions\r\n                jQuery(\"#button_save_static_slide\").click(function(){\r\n                    t.saveEditSlide(slideID, true);\r\n                    UniteLayersRev.set_save_needed(false);\r\n                });\r\n\r\n                jQuery(\"#button_save_static_slide-tb\").click(function(){\r\n                    t.saveEditSlide(slideID, true);\r\n                    UniteLayersRev.set_save_needed(false);\r\n                });\r\n\r\n                //change image actions\r\n                jQuery(\"#button_change_image\").click(function(){\r\n\r\n                    UniteAdminRev.openAddImageDialog(rev_lang.select_slide_img,function(urlImage,imageID){\r\n                        if(imageID == undefined)\r\n                            imageID = \"\";\r\n\r\n                        //set visual image\r\n                        jQuery(\"#divbgholder\").css(\"background-image\",\"url(\"+urlImage+\")\");\r\n                        jQuery('#slide_selector .list_slide_links li.selected .slide-media-container ').css(\"background-image\",\"url(\"+urlImage+\")\")\r\n\r\n                        //update setting input\r\n                        jQuery(\"#image_url\").val(urlImage);\r\n                        jQuery(\"#image_id\").val(imageID);\r\n\r\n                        UniteLayersRev.changeSlotBGs();\r\n\r\n                        jQuery('.bgsrcchanger:checked').click();\r\n\r\n                        if(jQuery('input[name=\"kenburn_effect\"]').is(':checked')){\r\n                            jQuery('input[name=\"kb_start_fit\"]').change();\r\n                        }\r\n                    }); //dialog\r\n                });\t//change image click.\r\n\r\n\r\n                //change image actions\r\n                jQuery('.button_change_video').click(function(){\r\n\r\n                    var the_target = jQuery(this).data('inptarget');\r\n\r\n                    jQuery('.ui-dialog.ui-widget:visible,.ui-widget-overlay:visible')\r\n                        .addClass('temporaryHidden')\r\n                        .hide();\r\n\r\n                    UniteAdminRev.openAddVideoDialog(rev_lang.select_slide_video,function(urlVideo,videoID) {\r\n\r\n                        jQuery('.temporaryHidden')\r\n                            .removeClass('temporaryHidden')\r\n                            .show();\r\n\r\n                        //set URL to the input fields\r\n                        jQuery('input[name=\"'+the_target+'\"]').val(urlVideo);\r\n                        jQuery('#' + the_target).trigger('change');\r\n                    }); //dialog\r\n                });\t//change image click.\r\n\r\n\r\n                // slide options hide / show\r\n                jQuery(\"#link_hide_options\").click(function(){\r\n\r\n                    if(jQuery(\"#slide_params_holder\").is(\":visible\") == true){\r\n                        jQuery(\"#slide_params_holder\").hide(\"slow\");\r\n                        jQuery(this).text(rev_lang.show_slide_opt).addClass(\"link-selected\");\r\n                    }else{\r\n                        jQuery(\"#slide_params_holder\").show(\"slow\");\r\n                        jQuery(this).text(rev_lang.hide_slide_opt).removeClass(\"link-selected\");\r\n                    }\r\n\r\n                });\r\n\r\n\r\n                //preview slide actions - open preveiw dialog\r\n                jQuery(\"#button_preview_slide\").click(function(){\r\n                    openPreviewSlideDialog(slideID,true);\r\n                });\r\n                //preview slide actions - open preveiw dialog\r\n                jQuery(\"#button_preview_slide-tb\").click(function(){\r\n                    openPreviewSlideDialog(slideID,true);\r\n                });\r\n\r\n                //init background options\r\n                jQuery(\"#radio_back_image, #radio_back_trans, #radio_back_solid, #radio_back_external, #radio_back_youtube, #radio_back_htmlvideo\").click(function(){\r\n                    var currentType = jQuery(\"#background_type\").val();\r\n                    var bgType = jQuery(this).data(\"bgtype\");\r\n\r\n                    if(currentType == bgType)\r\n                        return(true);\r\n\r\n                    //disable image button\r\n                    if(bgType == \"image\")\r\n                        jQuery(\"#button_change_image\").removeClass(\"button-disabled\");\r\n                    else\r\n                        jQuery(\"#button_change_external\").addClass(\"button-disabled\");\r\n\r\n                    if(bgType == \"solid\")\r\n                        jQuery(\"#slide_bg_color\").removeClass(\"disabled\").prop(\"disabled\",\"\");\r\n                    else\r\n                        jQuery(\"#slide_bg_color\").addClass(\"disabled\").prop(\"disabled\",\"disabled\");\r\n\r\n                    if(bgType == \"external\"){\r\n                        jQuery(\"#slide_bg_external\").removeClass(\"disabled\").prop(\"disabled\",\"\");\r\n                        jQuery(\"#button_change_image\").removeClass(\"button-disabled\");\r\n                        jQuery(\"#button_change_external\").removeClass(\"button-disabled\");\r\n                    }else{\r\n                        jQuery(\"#slide_bg_external\").addClass(\"disabled\").prop(\"disabled\",\"disabled\");\r\n                        jQuery(\"#button_change_external\").addClass(\"button-disabled\");\r\n                    }\r\n\r\n                    jQuery(\"#background_type\").val(bgType);\r\n\r\n                    setSlideBGByType(bgType);\r\n                });\r\n\r\n                jQuery(\"#button_change_external\").click(function(){\r\n                    var bgType = jQuery(\"#radio_back_external:checked\").data(\"bgtype\");\r\n\r\n                    if(bgType == \"external\"){\r\n                        jQuery(\"#slide_bg_external\").removeClass(\"disabled\").prop(\"disabled\",\"\");\r\n                        jQuery(\"#button_change_image\").removeClass(\"button-disabled\");\r\n                        setSlideBGByType(bgType);\r\n\r\n                        if(jQuery('input[name=\"kenburn_effect\"]').is(':checked')){\r\n                            jQuery('input[name=\"kb_start_fit\"]').change();\r\n                        }\r\n\r\n                        UniteLayersRev.changeSlotBGs();\r\n                    }\r\n                });\r\n\r\n\r\n                //on change bg color event\r\n                UniteAdminRev.setColorPickerCallback(function(){\r\n                    var bgType = jQuery(\"#background_type\").val();\r\n                    if(bgType == \"solid\"){\r\n                        var bgColor = jQuery(\"#slide_bg_color\").val();\r\n                        jQuery(\"#divbgholder\").css(\"background-color\",bgColor);\r\n                        jQuery('#slide_selector .list_slide_links li.selected .slide-media-container ').css({backgroundColor:bgColor});\r\n                    }\r\n                });\r\n\r\n\r\n                //on change title event\r\n                jQuery(\"#title\").on('input',function(e){\r\n                    jQuery(\".slide_title\").text(jQuery(\"#title\").val());\r\n                });\r\n\r\n                jQuery(\".list_slide_links\").sortable({\r\n                    items: \"li:not(.eg-drag-disabled)\",\r\n                    update:function(){updateSlidesOrderEdit(sliderID)}\r\n                });\r\n\r\n\r\n                /**\r\n                 * update slides order in slide edit\r\n                 */\r\n                var updateSlidesOrderEdit = function(sliderID){\r\n                    var arrSlideHtmlIDs = jQuery( \".list_slide_links\" ).sortable(\"toArray\");\r\n\r\n                    //get slide id's from html (li) id's\r\n                    var arrIDs = [];\r\n                    jQuery(arrSlideHtmlIDs).each(function(index,value){\r\n                        var slideID = value.replace(\"slidelist_item_\",\"\");\r\n                        arrIDs.push(slideID);\r\n                    });\r\n\r\n                    //save order\r\n                    var data = {arrIDs:arrIDs,sliderID:sliderID};\r\n\r\n                    jQuery(\"#loader_add_slide\").show();\r\n                    UniteAdminRev.ajaxRequest(\"update_slides_order\" ,data,function(){\r\n                        jQuery(\"#loader_add_slide\").hide();\r\n                    });\r\n\r\n                }\r\n\r\n                jQuery('.inputDatePicker').datepicker({\r\n                    dateFormat : 'dd-mm-yy 00:00'\r\n                });\r\n\r\n\r\n                // delete single slide\r\n                jQuery(\"#button_delete_slide\").click(function(){\r\n                    var data = {slideID:slideID,sliderID:sliderID};\r\n\r\n                    if(confirm(g_messageDeleteSlide) == false)\r\n                        return(false);\r\n\r\n                    UniteAdminRev.ajaxRequest(\"delete_slide\" ,data);\r\n                });\r\n\r\n                if(jQuery('input[name=\"load_googlefont\"]:checked').val() == 'false'){\r\n                    jQuery('#load_googlefont_row').siblings('.spanSettingsStaticText').remove();\r\n\r\n                    jQuery('#load_googlefont_row').remove();\r\n                    jQuery('#google_font_row').remove();\r\n                    jQuery('#load_googlefont').closest('.postbox.unite-postbox').hide();\r\n\r\n                }\r\n\r\n\r\n                // delete single slide\r\n                jQuery('body').on('click', '.slide-remove', function(){\r\n                    var slideID = jQuery(this).closest('li').attr(\"id\").replace('slidelist_item_', '');\r\n                    var data = {slideID:slideID,sliderID:sliderID};\r\n\r\n                    if(confirm(\"Delete this slide?\") == false)\r\n                        return(false);\r\n\r\n                    var objButton = jQuery(this);\r\n                    var objLoader = objButton.siblings(\".loader_delete\");\r\n\r\n                    objButton.hide();\r\n                    objLoader.show();\r\n\r\n                    var curlayer = jQuery(this).closest('li');\r\n\r\n                    var do_request = (curSlideID == slideID) ? 'delete_slide' : 'delete_slide_stay';\r\n\r\n                    UniteAdminRev.ajaxRequest(do_request, data, function(response){\r\n                        curlayer.remove();\r\n                    });\r\n                });\r\n\r\n                jQuery('body').on('click', '.slide-published.pubclickable, .slide-unpublished.pubclickable', function(){\r\n                    var li = jQuery(this).closest('li'),\r\n                        theslideID = li.attr(\"id\").replace('slidelist_item_', ''),\r\n                        data = {slider_id:sliderID,slide_id:theslideID};\r\n                    objButton = jQuery(this);\r\n\r\n                    li.find('.slide-published').fadeOut(200);\r\n                    li.find('.slide-unpublished').fadeOut(200);\r\n                    UniteAdminRev.ajaxRequest(\"toggle_slide_state\" ,data,function(response){\r\n\r\n                        var currentState = response.state;\r\n\r\n                        if(currentState == 'published'){\r\n                            li.find('.slide-published').removeClass(\"pubclickable\").fadeIn(200);\r\n                            li.find('.slide-unpublished').addClass(\"pubclickable\").fadeIn(200);\r\n                            if(curSlideID == theslideID) jQuery('select[name=\"state\"] option[value=\"published\"]').attr('selected', true);\r\n                        }else{\r\n                            li.find('.slide-published').addClass(\"pubclickable\").fadeIn(200);\r\n                            li.find('.slide-unpublished').removeClass(\"pubclickable\").fadeIn(200);\r\n                            if(curSlideID == theslideID) jQuery('select[name=\"state\"] option[value=\"unpublished\"]').attr('selected', true);\r\n                        }\r\n\r\n                    });\r\n                    return false;\r\n                });\r\n\r\n\r\n                jQuery('body').on('click', '.slide-hero-unpublished.pubclickable', function(){\r\n                    var li = jQuery(this).closest('li'),\r\n                        ul = jQuery(this).closest('ul'),\r\n                        theslideID = li.attr(\"id\").replace('slidelist_item_', ''),\r\n                        data = {slider_id:sliderID,slide_id:theslideID};\r\n                    objButton = jQuery(this);\r\n\r\n                    UniteAdminRev.ajaxRequest(\"toggle_hero_slide\", data,function(response){\r\n\r\n                        ul.find('.slide-hero-published').removeClass('slide-hero-published').addClass('slide-hero-unpublished').addClass('pubclickable');\r\n                        li.find('.slide-hero-unpublished').removeClass(\"pubclickable\").removeClass('slide-hero-unpublished').addClass('slide-hero-published');\r\n\r\n                    });\r\n                    return false;\r\n                });\r\n\r\n\r\n                jQuery('body').on('click', '.slide-duplicate', function(){\r\n                    var cont = jQuery(this).closest('li');\r\n                    var slideID = cont.attr(\"id\").replace('slidelist_item_', '');\r\n                    var data = {slider_id:sliderID,slide_id:slideID};\r\n\r\n                    var objButton = jQuery(this);\r\n                    objButton.hide();\r\n\r\n                    var data = {slideID:slideID,sliderID:sliderID};\r\n                    UniteAdminRev.ajaxRequest(\"duplicate_slide_stay\", data, function(response){\r\n                        objButton.show();\r\n\r\n                        if(response.success == true){\r\n                            var new_ele = cont.clone(true).insertAfter(cont);\r\n\r\n                            new_ele.attr('id', 'slidelist_item_'+response.id);\r\n\r\n                            if(new_ele.hasClass('selected')){ //current slide duplicated\r\n                                new_ele.removeClass('selected');\r\n                                jQuery('<a href=\"#\" class=\"slide-link-toolbar-button slide-moveto\"><span class=\"\"><i class=\"eg-icon-forward\"></i><span>'+rev_lang.copy_move+'</span></span></a>').insertAfter(new_ele.find('.slide-remove'));\r\n                            }\r\n\r\n                            var ahref = new_ele.find('a').first().attr('href');\r\n                            if(ahref == 'javascript:void(0)'){\r\n                                ahref = '?page=revslider&view=slide&id='+ response.id;\r\n                            }else{\r\n                                ahref = ahref.replace('id='+slideID, 'id='+response.id);\r\n                            }\r\n\r\n                            new_ele.find('a').first().attr('href', ahref);\r\n\r\n                            var num = 0;\r\n                            jQuery('.list_slide_links li').each(function(){\r\n                                jQuery(this).find('.slide-link-nr').text('#'+num);\r\n                                num++;\r\n                            });\r\n\r\n                        }\r\n                    });\r\n\r\n                });\r\n\r\n\r\n                jQuery('body').on('click', '.slide-moveto', function(){\r\n                    var cont = jQuery(this).closest('li');\r\n\r\n                    var data = {slider_id:sliderID,slide_id:slideID};\r\n\r\n                    var objButton = jQuery(this);\r\n\r\n                    var dialogCopy = jQuery(\"#dialog_copy_move\");\r\n\r\n                    var textClose = dialogCopy.data(\"textclose\");\r\n                    var textUpdate = dialogCopy.data(\"textupdate\");\r\n                    var objButton = jQuery(this);\r\n\r\n                    var buttons = {};\r\n                    buttons[textUpdate] = function(){\r\n                        var slideID = cont.attr(\"id\").replace('slidelist_item_', '');\r\n                        var targetSliderID = jQuery(\"#selectSliders\").val();\r\n                        var operation = \"copy\";\r\n\r\n\r\n                        if(jQuery(\"#radio_move\").prop(\"checked\") || jQuery(\"#radio_move\").prop(\"checked\") == true)\r\n                            operation = \"move\";\r\n\r\n                        var data = {slideID:slideID,\r\n                            sliderID:sliderID,\r\n                            targetSliderID:targetSliderID,\r\n                            operation:operation};\r\n\r\n                        var objLoader = objButton.siblings(\".loader_copy\");\r\n\r\n                        objButton.hide();\r\n\r\n                        UniteAdminRev.ajaxRequest(\"copy_move_slide_stay\", data, function(response){\r\n                            objButton.show();\r\n\r\n                            if(operation == 'move'){\r\n                                cont.remove();\r\n                            }\r\n                        });\r\n                        jQuery(this).dialog(\"close\");\r\n                    };\r\n\r\n                    jQuery(\"#dialog_copy_move\").dialog({\r\n                        modal:true,\r\n                        resizable:false,\r\n                        width:400,\r\n                        height:300,\r\n                        closeOnEscape:true,\r\n                        dialogClass:\"tpdialogs\",\r\n                        create:function(ui) {\r\n                            jQuery(ui.target).parent().find('.ui-dialog-titlebar').addClass(\"tp-slider-new-dialog-title\");\r\n                        },\r\n                        buttons:buttons\r\n                    });\t//dialog end\r\n\r\n                });\r\n\r\n\r\n                jQuery('body').on('click', '.slide-add-as-template', function(){\r\n\r\n                    if(confirm(rev_lang.unsaved_changes_will_not_be_added)){\r\n                        var cont = jQuery(this).closest('li');\r\n                        var title = prompt(rev_lang.please_enter_a_slide_title, cont.find('.slidetitleinput').val());\r\n                        var slider_width = jQuery('input[name=\"rs-grid-width\"]').val();\r\n                        var slider_height = jQuery('input[name=\"rs-grid-height\"]').val();\r\n                        var slideID = cont.attr(\"id\").replace('slidelist_item_', '');\r\n\r\n                        var settings = {'width': slider_width,'height': slider_height};\r\n\r\n                        if (title != null) {\r\n                            var objButton = jQuery(this);\r\n                            objButton.hide();\r\n\r\n                            var data = {'slideID':slideID,'title':title,'settings':settings};\r\n\r\n                            UniteAdminRev.ajaxRequest('add_slide_to_template', data, function(response){\r\n                                objButton.show();\r\n\r\n                                //reload template Slider\r\n                                jQuery('#template_area').replaceWith( response.HTML );\r\n\r\n                                templateSelectorHandling();\r\n                            });\r\n                        }\r\n                    }\r\n\r\n                });\r\n\r\n\r\n                //quick lang change by lang icon\r\n                jQuery(\"#rev_lang_list\").delegate(\".icon_slide_lang, .icon_slide_lang_add\",\"click\",function(event){\r\n\r\n                    event.stopPropagation()\r\n                    var pos = UniteAdminRev.getAbsolutePos(this);\r\n                    var posLeft = pos[0] - 135;\r\n                    var posTop = pos[1] - 60;\r\n\r\n                    var objIcon = jQuery(this);\r\n\r\n                    var operation = objIcon.data(\"operation\");\r\n                    var isParent = objIcon.data(\"isparent\");\r\n\r\n                    if(operation == \"add\")\r\n                        jQuery(\"#langs_float_wrapper .item_operation\").hide();\r\n                    else{\r\n                        jQuery(\"#langs_float_wrapper .item_operation\").show();\r\n\r\n                        if(isParent == true)\r\n                            jQuery(\"#langs_float_wrapper .item_operation.operation_delete\").hide();\r\n                    }\r\n\r\n                    var objList = objIcon.parents(\".list_slide_icons\");\r\n                    filterFloatMenuByListIcons(objList,operation);\r\n\r\n                    jQuery(\"#langs_float_wrapper\").show().css({left:posLeft,top:posTop});\r\n                    jQuery(\"#langs_float_wrapper\").data(\"iconid\",this.id);\r\n                });\r\n\r\n                jQuery(\"body\").click(function(){\r\n                    jQuery(\"#langs_float_wrapper\").hide();\r\n                });\r\n\r\n                //switch the language\r\n                jQuery(\"#slides_langs_float li a\").click(function(){\r\n                    var obj = jQuery(this);\r\n                    var lang = obj.data(\"lang\");\r\n\r\n                    var iconID = jQuery(\"#langs_float_wrapper\").data(\"iconid\");\r\n                    if(!iconID)\r\n                        return(true);\r\n\r\n                    var objIcon = jQuery(\"#\"+iconID);\r\n                    var objList = objIcon.parents(\".list_slide_icons\");\r\n\r\n                    //set operation\r\n                    var operation = obj.data(\"operation\");\r\n\r\n                    if(operation == undefined || !operation)\r\n                        operation = objIcon.data(\"operation\");\r\n\r\n                    if(operation == undefined || !operation)\r\n                        operation = \"update\";\r\n\r\n                    var currentLang = objIcon.data(\"lang\");\r\n                    var slideID = objIcon.data(\"slideid\");\r\n                    var realSlideID = objIcon.data(\"origid\");\r\n\r\n                    if(currentLang == lang)\r\n                        return(true);\r\n\r\n                    //show the loader\r\n                    if(operation != \"preview\"){\r\n                        objIcon.siblings(\".icon_lang_loader\").show();\r\n                        objIcon.hide();\r\n                    }\r\n\r\n                    if(operation == \"edit\"){\r\n                        var urlSlide = g_patternViewSlide.replace(\"[slideid]\",slideID);\r\n                        location.href = urlSlide;\r\n                        return(true);\r\n                    }\r\n\r\n                    if(operation == \"preview\"){\r\n                        openPreviewSliderDialog(sliderID);\r\n                        //openPreviewSlideDialog(slideID,false);\r\n                        return(true);\r\n                    }\r\n\r\n                    if(operation == 'delete' || operation == 'update') realSlideID = slideID;\r\n\r\n                    var data = {sliderid:sliderID,slideid:realSlideID,lang:lang,operation:operation};\r\n\r\n                    UniteAdminRev.ajaxRequest(\"slide_lang_operation\", data,function(response){\r\n\r\n                        objIcon.siblings(\".icon_lang_loader\").hide();\r\n\r\n                        //nandle after response\r\n                        switch(response.operation){\r\n                            case \"update\":\r\n                                objIcon.attr(\"src\",response.url_icon);\r\n                                objIcon.attr(\"title\",response.title);\r\n                                objIcon.data(\"lang\",lang);\r\n                                objIcon.show();\r\n\r\n                                if(realSlideID == curSlideID){\r\n                                    //update the lang of the current Slide also here in the data\r\n                                    jQuery('select[name=\"lang\"] option[value=\"'+lang+'\"]').attr('selected', true);\r\n                                    jQuery('select[name=\"lang\"]').change();\r\n                                }\r\n                                break;\r\n                            case \"add\":\r\n                                objIcon.show();\r\n                                objIcon.parent().before(response.html);\r\n\r\n                                //hide the add icon if all langs included\r\n                                if(response.isAll == true)\r\n                                    objList.find(\".icon_slide_lang_add\").hide();\r\n\r\n                                break;\r\n                            case \"delete\":\r\n                                objIcon.parent().remove();\r\n                                //show the add icon\r\n                                objList.find(\".icon_slide_lang_add\").show();\r\n\r\n                                break;\r\n                        }\r\n\r\n                    });\r\n\r\n                });\r\n\r\n                jQuery('.tp-moderncheckbox').each(function(){\r\n                    RevSliderSettings.onoffStatus(jQuery(this));\r\n                });\r\n\r\n                RevSliderSettings.onoffStatus(jQuery('input[name=\"hideslideonmobile\"]'));\r\n                RevSliderSettings.onoffStatus(jQuery('input[name=\"stream_do_cover\"]'));\r\n                RevSliderSettings.onoffStatus(jQuery('input[name=\"stream_do_cover_both\"]'));\r\n                RevSliderSettings.onoffStatus(jQuery('input[name=\"kenburn_effect\"]'));\r\n                RevSliderSettings.onoffStatus(jQuery('input[name=\"save_performance\"]'));\r\n                RevSliderSettings.onoffStatus(jQuery('input[name=\"video_force_cover\"]'));\r\n                RevSliderSettings.onoffStatus(jQuery('input[name=\"video_nextslide\"]'));\r\n                RevSliderSettings.onoffStatus(jQuery('input[name=\"video_allowfullscreen\"]'));\r\n                RevSliderSettings.onoffStatus(jQuery('input[name=\"video_force_rewind\"]'));\r\n                RevSliderSettings.onoffStatus(jQuery('input[name=\"video_mute\"]'));\r\n                RevSliderSettings.onoffStatus(jQuery('input[name=\"thumb_for_admin\"]'));\r\n\r\n                jQuery('#video_force_cover').change(function(){\r\n                    if(jQuery(this).is(':checked')){\r\n                        jQuery('#video_dotted_overlay_wrap').show();\r\n                    }else{\r\n                        jQuery('#video_dotted_overlay_wrap').hide();\r\n                    }\r\n                });\r\n                jQuery('#video_force_cover').change();\r\n            }//init slide view\r\n\r\n\r\n            /**\r\n             * open preview slide dialog\r\n             */\r\n            var openPreviewSlideDialog = function(slideID,useParams){\r\n\r\n                if(useParams === undefined)\r\n                    useParams = true;\r\n\r\n                var rs_form = jQuery('#rs-preview-form');\r\n\r\n                //set action and data\r\n\r\n                var objDataPreview = { slideid:slideID };\r\n\r\n                if(useParams == true){\r\n                    objDataPreview.params = RevSliderSettings.getSettingsObject(\"form_slide_params\"),\r\n                        objDataPreview.params.slide_bg_color = jQuery(\"#slide_bg_color\").val();\r\n                    objDataPreview.params.slide_bg_external = jQuery(\"#slide_bg_external\").val();\r\n                    objDataPreview.params.bg_fit = jQuery(\"#slide_bg_fit\").val();\r\n                    objDataPreview.params.bg_fit_x = jQuery(\"input[name='bg_fit_x']\").val();\r\n                    objDataPreview.params.bg_fit_y = jQuery(\"input[name='bg_fit_y']\").val();\r\n                    objDataPreview.params.bg_repeat = jQuery(\"#slide_bg_repeat\").val();\r\n                    objDataPreview.params.bg_position = jQuery(\"#slide_bg_position\").val();\r\n                    objDataPreview.params.bg_position_x = jQuery(\"input[name='bg_position_x']\").val();\r\n                    objDataPreview.params.bg_position_y = jQuery(\"input[name='bg_position_y']\").val();\r\n                    objDataPreview.params.bg_end_position_x = jQuery(\"input[name='bg_end_position_x']\").val();\r\n                    objDataPreview.params.bg_end_position_y = jQuery(\"input[name='bg_end_position_y']\").val();\r\n\r\n                    //kenburns & pan zoom\r\n                    objDataPreview.params.kenburn_effect = (jQuery(\"input[name='kenburn_effect']\").is(':checked')) ? 'on' : 'off';\r\n                    objDataPreview.params.kb_start_fit = jQuery(\"input[name='kb_start_fit']\").val();\r\n                    objDataPreview.params.kb_end_fit = jQuery(\"input[name='kb_end_fit']\").val();\r\n\r\n                    objDataPreview.params.bg_end_position = jQuery(\"select[name='bg_end_position']\").val();\r\n                    objDataPreview.params.kb_duration = jQuery(\"input[name='kb_duration']\").val();\r\n                    objDataPreview.params.kb_easing = jQuery(\"select[name='kb_easing']\").val();\r\n\r\n                    var ml = UniteLayersRev.getLayers();\r\n\r\n                    var arrLayersNew = {};\r\n                    for(key in ml) if (ml.hasOwnProperty(key)) {\r\n                        if(ml[key].layer_unavailable !== true && ml[key].deleted !== true){\r\n                            arrLayersNew[key] = UniteAdminRev.duplicateObject(ml[key]);\r\n\r\n                            if(typeof(arrLayersNew[key].layer_unavailable) !== 'undefined') delete(arrLayersNew[key].layer_unavailable);\r\n                            if(typeof(arrLayersNew[key].deleted) !== 'undefined') delete(arrLayersNew[key].deleted);\r\n                            if(typeof(arrLayersNew[key].references) !== 'undefined') delete(arrLayersNew[key].references);\r\n                            if(typeof(arrLayersNew[key].createdOnInit) !== 'undefined') delete(arrLayersNew[key].createdOnInit);\r\n                        }\r\n                    }\r\n\r\n                    objDataPreview.layers = arrLayersNew;\r\n                }\r\n\r\n                var jsonData = JSON.stringify(objDataPreview);\r\n\r\n\r\n                jQuery(\"#preview-slide-data\").val(jsonData);\r\n                jQuery(\"#rs-client-action\").val('preview_slide');\r\n\r\n                rs_form.submit();\r\n\r\n                jQuery('#rs-preview-wrapper').show();\r\n\r\n                jQuery(window).trigger('resize');\r\n            }\r\n\r\n\r\n            /**\r\n             * set slide background by type (image, solid, bg).\r\n             */\r\n            var setSlideBGByType = function(bgType){\r\n                switch(bgType){\r\n                    case \"image\":\r\n                        var urlImage = jQuery(\"#image_url\").val();\r\n                        jQuery(\"#divbgholder\").css(\"background-image\",\"url('\"+urlImage+\"')\");\r\n                        jQuery(\"#divbgholder\").css(\"background-color\",\"transparent\");\r\n                        jQuery(\"#divbgholder\").removeClass(\"trans_bg\");\r\n                        if(jQuery('input[name=\"kenburn_effect\"]').is(':checked')){\r\n                            jQuery('input[name=\"kb_start_fit\"]').change();\r\n                        }\r\n                        break;\r\n                    case \"trans\":\r\n                        jQuery(\"#divbgholder\").css(\"background-image\",\"none\");\r\n                        jQuery(\"#divbgholder\").css(\"background-color\",\"transparent\");\r\n                        jQuery(\"#divbgholder\").addClass(\"trans_bg\");\r\n                        break;\r\n                    case \"solid\":\r\n                        jQuery(\"#divbgholder\").css(\"background-image\",\"none\");\r\n                        jQuery(\"#divbgholder\").removeClass(\"trans_bg\");\r\n                        var bgColor = jQuery(\"#slide_bg_color\").val();\r\n                        jQuery(\"#divbgholder\").css(\"background-color\",bgColor);\r\n                        jQuery('#slide_selector .list_slide_links li.selected .slide-media-container ').css({backgroundColor:bgColor});\r\n                        break;\r\n                    case \"external\":\r\n                        var urlImage = jQuery(\"#slide_bg_external\").val();\r\n                        jQuery(\"#divbgholder\").css(\"background-image\",\"url('\"+urlImage+\"')\");\r\n                        jQuery(\"#divbgholder\").css(\"background-color\",\"transparent\");\r\n                        jQuery(\"#divbgholder\").removeClass(\"trans_bg\");\r\n                        if(jQuery('input[name=\"kenburn_effect\"]').is(':checked')){\r\n                            jQuery('input[name=\"kb_start_fit\"]').change();\r\n                        }\r\n                        break;\r\n                    case \"youtube\":\r\n                        var urlImage = jQuery(\"#image_url\").val();\r\n                        jQuery('#divbgholder').css(\"background-image\",\"url('\"+urlImage+\"')\");\r\n                        jQuery('#divbgholder').css(\"background-color\",\"transparent\");\r\n                        jQuery('#divbgholder').removeClass(\"trans_bg\");\r\n\r\n                        break;\r\n                    case \"html5\":\r\n                        var urlImage = jQuery(\"#image_url\").val();\r\n                        jQuery(\"#divbgholder\").css(\"background-image\",\"url('\"+urlImage+\"')\");\r\n                        jQuery(\"#divbgholder\").css(\"background-color\",\"transparent\");\r\n                        jQuery(\"#divbgholder\").removeClass(\"trans_bg\");\r\n                        break;\r\n                }\r\n\r\n            }\r\n\r\n            var getSlideBgSettings = function(){\r\n                var retParams = new Object;\r\n\r\n                retParams['bg_fit'] = jQuery('#slide_bg_fit').val();\r\n                if(retParams['bg_fit'] == 'percentage'){\r\n                    retParams['bg_fit_x'] = jQuery('input[name=\"bg_fit_x\"]').val();\r\n                    retParams['bg_fit_y'] = jQuery('input[name=\"bg_fit_y\"]').val();\r\n                }\r\n\r\n                retParams['bg_position'] = jQuery('#slide_bg_position').val();\r\n                if(retParams['bg_position'] == 'percentage'){\r\n                    retParams['bg_position_x'] = jQuery('input[name=\"bg_position_x\"]').val();\r\n                    retParams['bg_position_y'] = jQuery('input[name=\"bg_position_y\"]').val();\r\n                }\r\n\r\n                retParams['bg_end_position'] = jQuery('#slide_bg_end_position').val();\r\n                if(retParams['bg_end_position'] == 'percentage'){\r\n                    retParams['bg_end_position_x'] = jQuery('input[name=\"bg_end_position_x\"]').val();\r\n                    retParams['bg_end_position_y'] = jQuery('input[name=\"bg_end_position_y\"]').val();\r\n                }\r\n\r\n                retParams['bg_repeat'] = jQuery('#slide_bg_repeat').val();\r\n\r\n                return retParams;\r\n            }\r\n\r\n\r\n            /**\r\n             * global style part\r\n             */\r\n\r\n            var g_codemirrorCssDynamic = null;\r\n            var g_codemirrorCssStatic = null;\r\n            var g_codemirrorCssSlider = null;\r\n            var g_codemirrorJsSlider = null;\r\n            var staticStyles = null;\r\n            var urlStaticCssCaptions = null;\r\n\r\n            /**\r\n             * set static captions url for refreshing when needed\r\n             */\r\n            t.setStaticCssCaptionsUrl = function(url){\r\n                urlStaticCssCaptions = url;\r\n            }\r\n\r\n            /**\r\n             * get static captions url for refreshing when needed\r\n             */\r\n            t.getUrlStaticCssCaptions = function(){\r\n                return urlStaticCssCaptions;\r\n            }\r\n\r\n            t.initGlobalStyles = function(){\r\n                initGlobalCssAccordion();\r\n                initGlobalCssEditor();\r\n            }\r\n\r\n            t.setCodeMirrorStaticEditor = function(){\r\n                g_codemirrorCssStatic = CodeMirror.fromTextArea(document.getElementById(\"textarea_edit_static\"), { lineNumbers: true });\r\n            }\r\n\r\n            t.setCodeMirrorSliderEditor = function(){\r\n                g_codemirrorCssSlider = CodeMirror.fromTextArea(document.getElementById(\"textarea_show_slider_styles\"), { lineNumbers: true });\r\n            }\r\n\r\n            t.setCodeMirrorSliderEditorJS = function(){\r\n                g_codemirrorJsSlider = CodeMirror.fromTextArea(document.getElementById(\"textarea_show_slider_javascript\"), { lineNumbers: true });\r\n            }\r\n\r\n            t.setCodeMirrorDynamicEditor = function(){\r\n                if (document.getElementById(\"textarea_show_dynamic_styles\") != null) {\r\n                    g_codemirrorCssDynamic = CodeMirror.fromTextArea(document.getElementById(\"textarea_show_dynamic_styles\"), {\r\n                        lineNumbers: true,\r\n                        readOnly: true\r\n                    });\r\n                }\r\n            }\r\n\r\n            var initGlobalCssAccordion = function(){\r\n                jQuery(\"#css-static-accordion\").accordion({\r\n                    heightStyle: \"content\",\r\n                    activate: function(event, ui){\r\n                        if(g_codemirrorCssSlider != null) g_codemirrorCssSlider.refresh();\r\n                        if(g_codemirrorJsSlider != null) g_codemirrorJsSlider.refresh();\r\n                        if(g_codemirrorCssStatic != null) g_codemirrorCssStatic.refresh();\r\n                        if(g_codemirrorCssDynamic != null) g_codemirrorCssDynamic.refresh();\r\n                    }\r\n                });\r\n            }\r\n\r\n            var initGlobalCssEditor = function(){\r\n\r\n                jQuery('#button_edit_css_global').click(function(){\r\n\r\n                    jQuery(\"#css-static-accordion\").accordion({ active: 1 });\r\n\r\n\r\n                    UniteAdminRev.ajaxRequest(\"get_slider_custom_css_js\",{slider_id:curSliderID},function(response){\r\n                        var cssData = response['css'];\r\n                        var jsData = response['js'];\r\n                        if(g_codemirrorCssSlider != null)\r\n                            g_codemirrorCssSlider.setValue(cssData);\r\n                        else{\r\n                            jQuery(\"#textarea_show_slider_styles\").val(cssData);\r\n                            setTimeout(function() { RevSliderAdmin.setCodeMirrorSliderEditor(); },500);\r\n                        }\r\n\r\n                        if(g_codemirrorJsSlider != null)\r\n                            g_codemirrorJsSlider.setValue(jsData);\r\n                        else{\r\n                            jQuery(\"#textarea_show_slider_javascript\").val(jsData);\r\n                            setTimeout(function() { RevSliderAdmin.setCodeMirrorSliderEditorJS(); },500);\r\n                        }\r\n\r\n                    }, false);\r\n\r\n\r\n                    UniteAdminRev.ajaxRequest(\"get_static_css\",\"\",function(response){\r\n                        var cssData = response.data;\r\n\r\n                        if(cssData !== ''){\r\n                            //show button\r\n                        }\r\n                        if(g_codemirrorCssStatic != null)\r\n                            g_codemirrorCssStatic.setValue(cssData);\r\n                        else{\r\n                            jQuery(\"#textarea_edit_static\").val(cssData);\r\n                            setTimeout(function() { RevSliderAdmin.setCodeMirrorStaticEditor(); },500);\r\n                        }\r\n                    });\r\n\r\n                    UniteAdminRev.ajaxRequest(\"get_dynamic_css\",\"\",function(response){\r\n                        var cssData = response.data;\r\n\r\n                        if(g_codemirrorCssDynamic != null)\r\n                            g_codemirrorCssDynamic.setValue(cssData);\r\n                        else{\r\n                            jQuery(\"#textarea_show_dynamic_styles\").val(cssData);\r\n                            setTimeout(function() { RevSliderAdmin.setCodeMirrorDynamicEditor(); }, 500);\r\n                        }\r\n                    });\r\n\r\n                    jQuery(\"#css_slider_editor_wrap\").dialog({\r\n                        modal:true,\r\n                        dialogClass:\"tpdialogs\",\r\n                        resizable:false,\r\n                        minWidth:1024,\r\n                        minHeight:500,\r\n                        closeOnEscape:true,\r\n                        create:function(ui) {\r\n                        },\r\n                        open:function () {\r\n                            jQuery(this).closest(\".ui-dialog\").addClass(\"tp-css-editor-dialog\");\r\n                            jQuery(this).closest(\".ui-dialog\").find('.ui-dialog-titlebar').addClass(\"tp-slider-new-dialog-title\");\r\n                        },\r\n                        buttons:{\r\n                            'Save': function(){\r\n                                var data = {};\r\n                                if(g_codemirrorCssSlider != null)\r\n                                    data['css'] = g_codemirrorCssSlider.getValue();\r\n                                else\r\n                                    data['css'] = jQuery(\"#textarea_show_slider_styles\").val();\r\n\r\n                                if(g_codemirrorJsSlider != null)\r\n                                    data['js'] = g_codemirrorJsSlider.getValue();\r\n                                else\r\n                                    data['js'] = jQuery(\"#textarea_show_slider_javascript\").val();\r\n\r\n                                data['slider_id'] = curSliderID;\r\n\r\n                                UniteAdminRev.ajaxRequest(\"update_slider_custom_css_js\",data,function(response){\r\n                                });\r\n\r\n                                jQuery(this).dialog('close');\r\n                            }\r\n                        }\r\n                    });\r\n\r\n\r\n                });\r\n\r\n                jQuery('.show_global_styles').click(function(){\r\n                    initGlobalCssAccordion();\r\n                    jQuery(\"#css_static_editor_wrap\").dialog({\r\n                        modal:true,\r\n                        resizable:false,\r\n                        minWidth:1224,\r\n                        minHeight:600,\r\n                        closeOnEscape:true,\r\n                        dialogClass:\"tpdialogs tp-css-editor-dialog tp-depricated-dialog\",\r\n                        buttons:{\r\n                            'Empty Global Styles': function(){\r\n                                if(!confirm(rev_lang.really_clear_global_styles)){\r\n                                    return false;\r\n                                }\r\n\r\n                                data = '';\r\n\r\n                                UniteAdminRev.ajaxRequest(\"update_static_css\",data,function(response){\r\n                                    if(g_codemirrorCssStatic != null)\r\n                                        g_codemirrorCssStatic.setValue('');\r\n                                    else\r\n                                        jQuery(\"#textarea_edit_static\").val('');\r\n                                });\r\n                            },\r\n                            \"Cancel\":function(){\r\n                                jQuery(this).dialog(\"close\");\r\n                            }\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n\r\n        }\r\n\r\n        return RevSliderAdmin;\r\n    }\r\n);","Nwdthemes_Revslider/framework/js/perfectScrollbar.min.js":"!function t(e,n,r){function o(i,s){if(!n[i]){if(!e[i]){var a=\"function\"==typeof require&&require;if(!s&&a)return a(i,!0);if(l)return l(i,!0);var c=new Error(\"Cannot find module '\"+i+\"'\");throw c.code=\"MODULE_NOT_FOUND\",c}var u=n[i]={exports:{}};e[i][0].call(u.exports,function(t){var n=e[i][1][t];return o(n||t)},u,u.exports,t,e,n,r)}return n[i].exports}for(var l=\"function\"==typeof require&&require,i=0;i<r.length;i++)o(r[i]);return o}({1:[function(t,e,n){\"use strict\";function r(t){t.fn.perfectScrollbar=function(t){return this.each(function(){if(\"object\"==typeof t||void 0===t){var e=t;l.get(this)||o.initialize(this,e)}else{var n=t;\"update\"===n?o.update(this):\"destroy\"===n&&o.destroy(this)}})}}var o=t(\"../main\"),l=t(\"../plugin/instances\");r(jQuery),e.exports=r},{\"../main\":7,\"../plugin/instances\":18}],2:[function(t,e,n){\"use strict\";function r(t,e){var n=t.className.split(\" \");n.indexOf(e)<0&&n.push(e),t.className=n.join(\" \")}function o(t,e){var n=t.className.split(\" \"),r=n.indexOf(e);r>=0&&n.splice(r,1),t.className=n.join(\" \")}n.add=function(t,e){t.classList?t.classList.add(e):r(t,e)},n.remove=function(t,e){t.classList?t.classList.remove(e):o(t,e)},n.list=function(t){return t.classList?Array.prototype.slice.apply(t.classList):t.className.split(\" \")}},{}],3:[function(t,e,n){\"use strict\";function r(t,e){return window.getComputedStyle(t)[e]}function o(t,e,n){return\"number\"==typeof n&&(n=n.toString()+\"px\"),t.style[e]=n,t}function l(t,e){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];\"number\"==typeof r&&(r=r.toString()+\"px\"),t.style[n]=r}return t}var i={};i.e=function(t,e){var n=document.createElement(t);return n.className=e,n},i.appendTo=function(t,e){return e.appendChild(t),t},i.css=function(t,e,n){return\"object\"==typeof e?l(t,e):void 0===n?r(t,e):o(t,e,n)},i.matches=function(t,e){return void 0!==t.matches?t.matches(e):void 0!==t.matchesSelector?t.matchesSelector(e):void 0!==t.webkitMatchesSelector?t.webkitMatchesSelector(e):void 0!==t.mozMatchesSelector?t.mozMatchesSelector(e):void 0!==t.msMatchesSelector?t.msMatchesSelector(e):void 0},i.remove=function(t){void 0!==t.remove&&t.parentNode?t.remove():t.parentNode&&(console.log(\"do element.parentNode.removeChild(element);\"),t.parentNode.removeChild(t))},i.queryChildren=function(t,e){return Array.prototype.filter.call(t.childNodes,function(t){return i.matches(t,e)})},e.exports=i},{}],4:[function(t,e,n){\"use strict\";var r=function(t){this.element=t,this.events={}};r.prototype.bind=function(t,e){void 0===this.events[t]&&(this.events[t]=[]),this.events[t].push(e),this.element.addEventListener(t,e,!1)},r.prototype.unbind=function(t,e){var n=void 0!==e;this.events[t]=this.events[t].filter(function(r){return!(!n||r===e)||(this.element.removeEventListener(t,r,!1),!1)},this)},r.prototype.unbindAll=function(){for(var t in this.events)this.events.hasOwnProperty(t)&&this.unbind(t)};var o=function(){this.eventElements=[]};o.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];return void 0===e&&(e=new r(t),this.eventElements.push(e)),e},o.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},o.prototype.unbind=function(t,e,n){this.eventElement(t).unbind(e,n)},o.prototype.unbindAll=function(){for(var t=0;t<this.eventElements.length;t++)this.eventElements[t].unbindAll()},o.prototype.once=function(t,e,n){var r=this.eventElement(t),o=function(t){r.unbind(e,o),n(t)};r.bind(e,o)},e.exports=o},{}],5:[function(t,e,n){\"use strict\";e.exports=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return t()+t()+\"-\"+t()+\"-\"+t()+\"-\"+t()+\"-\"+t()+t()+t()}}()},{}],6:[function(t,e,n){\"use strict\";var r=t(\"./class\"),o=t(\"./dom\"),l=n.toInt=function(t){return parseInt(t,10)||0},i=n.clone=function(t){if(t){if(t.constructor===Array)return t.map(i);if(\"object\"==typeof t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=i(t[n]));return e}return t}return null};n.extend=function(t,e){var n=i(t);for(var r in e)e.hasOwnProperty(r)&&(n[r]=i(e[r]));return n},n.isEditable=function(t){return o.matches(t,\"input,[contenteditable]\")||o.matches(t,\"select,[contenteditable]\")||o.matches(t,\"textarea,[contenteditable]\")||o.matches(t,\"button,[contenteditable]\")},n.removePsClasses=function(t){for(var e=r.list(t),n=0;n<e.length;n++){var o=e[n];0===o.indexOf(\"ps-\")&&r.remove(t,o)}},n.outerWidth=function(t){return l(o.css(t,\"width\"))+l(o.css(t,\"paddingLeft\"))+l(o.css(t,\"paddingRight\"))+l(o.css(t,\"borderLeftWidth\"))+l(o.css(t,\"borderRightWidth\"))},n.startScrolling=function(t,e){r.add(t,\"ps-in-scrolling\"),void 0!==e?r.add(t,\"ps-\"+e):(r.add(t,\"ps-x\"),r.add(t,\"ps-y\"))},n.stopScrolling=function(t,e){r.remove(t,\"ps-in-scrolling\"),void 0!==e?r.remove(t,\"ps-\"+e):(r.remove(t,\"ps-x\"),r.remove(t,\"ps-y\"))},n.env={isWebKit:\"WebkitAppearance\"in document.documentElement.style,supportsTouch:\"ontouchstart\"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:null!==window.navigator.msMaxTouchPoints}},{\"./class\":2,\"./dom\":3}],7:[function(t,e,n){\"use strict\";var r=t(\"./plugin/destroy\"),o=t(\"./plugin/initialize\"),l=t(\"./plugin/update\");e.exports={initialize:o,update:l,destroy:r}},{\"./plugin/destroy\":9,\"./plugin/initialize\":17,\"./plugin/update\":21}],8:[function(t,e,n){\"use strict\";e.exports={handlers:[\"click-rail\",\"drag-scrollbar\",\"keyboard\",\"wheel\",\"touch\"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:\"default\"}},{}],9:[function(t,e,n){\"use strict\";var r=t(\"../lib/helper\"),o=t(\"../lib/dom\"),l=t(\"./instances\");e.exports=function(t){var e=l.get(t);e&&(e.event.unbindAll(),o.remove(e.scrollbarX),o.remove(e.scrollbarY),o.remove(e.scrollbarXRail),o.remove(e.scrollbarYRail),r.removePsClasses(t),l.remove(t))}},{\"../lib/dom\":3,\"../lib/helper\":6,\"./instances\":18}],10:[function(t,e,n){\"use strict\";function r(t,e){function n(t){return t.getBoundingClientRect()}var r=function(t){t.stopPropagation()};e.event.bind(e.scrollbarY,\"click\",r),e.event.bind(e.scrollbarYRail,\"click\",function(r){var o=r.pageY-window.pageYOffset-n(e.scrollbarYRail).top>e.scrollbarYTop?1:-1;i(t,\"top\",t.scrollTop+o*e.containerHeight),l(t),r.stopPropagation()}),e.event.bind(e.scrollbarX,\"click\",r),e.event.bind(e.scrollbarXRail,\"click\",function(r){var o=r.pageX-window.pageXOffset-n(e.scrollbarXRail).left>e.scrollbarXLeft?1:-1;i(t,\"left\",t.scrollLeft+o*e.containerWidth),l(t),r.stopPropagation()})}var o=t(\"../instances\"),l=t(\"../update-geometry\"),i=t(\"../update-scroll\");e.exports=function(t){r(t,o.get(t))}},{\"../instances\":18,\"../update-geometry\":19,\"../update-scroll\":20}],11:[function(t,e,n){\"use strict\";function r(t,e){function n(n){var o=r+n*e.railXRatio,i=Math.max(0,e.scrollbarXRail.getBoundingClientRect().left)+e.railXRatio*(e.railXWidth-e.scrollbarXWidth);e.scrollbarXLeft=o<0?0:o>i?i:o;var s=l.toInt(e.scrollbarXLeft*(e.contentWidth-e.containerWidth)/(e.containerWidth-e.railXRatio*e.scrollbarXWidth))-e.negativeScrollAdjustment;c(t,\"left\",s)}var r=null,o=null,s=function(e){n(e.pageX-o),a(t),e.stopPropagation(),e.preventDefault()},u=function(){l.stopScrolling(t,\"x\"),e.event.unbind(e.ownerDocument,\"mousemove\",s)};e.event.bind(e.scrollbarX,\"mousedown\",function(n){o=n.pageX,r=l.toInt(i.css(e.scrollbarX,\"left\"))*e.railXRatio,l.startScrolling(t,\"x\"),e.event.bind(e.ownerDocument,\"mousemove\",s),e.event.once(e.ownerDocument,\"mouseup\",u),n.stopPropagation(),n.preventDefault()})}function o(t,e){function n(n){var o=r+n*e.railYRatio,i=Math.max(0,e.scrollbarYRail.getBoundingClientRect().top)+e.railYRatio*(e.railYHeight-e.scrollbarYHeight);e.scrollbarYTop=o<0?0:o>i?i:o;var s=l.toInt(e.scrollbarYTop*(e.contentHeight-e.containerHeight)/(e.containerHeight-e.railYRatio*e.scrollbarYHeight));c(t,\"top\",s)}var r=null,o=null,s=function(e){n(e.pageY-o),a(t),e.stopPropagation(),e.preventDefault()},u=function(){l.stopScrolling(t,\"y\"),e.event.unbind(e.ownerDocument,\"mousemove\",s)};e.event.bind(e.scrollbarY,\"mousedown\",function(n){o=n.pageY,r=l.toInt(i.css(e.scrollbarY,\"top\"))*e.railYRatio,l.startScrolling(t,\"y\"),e.event.bind(e.ownerDocument,\"mousemove\",s),e.event.once(e.ownerDocument,\"mouseup\",u),n.stopPropagation(),n.preventDefault()})}var l=t(\"../../lib/helper\"),i=t(\"../../lib/dom\"),s=t(\"../instances\"),a=t(\"../update-geometry\"),c=t(\"../update-scroll\");e.exports=function(t){var e=s.get(t);r(t,e),o(t,e)}},{\"../../lib/dom\":3,\"../../lib/helper\":6,\"../instances\":18,\"../update-geometry\":19,\"../update-scroll\":20}],12:[function(t,e,n){\"use strict\";function r(t,e){function n(n,r){var o=t.scrollTop;if(0===n){if(!e.scrollbarYActive)return!1;if(0===o&&r>0||o>=e.contentHeight-e.containerHeight&&r<0)return!e.settings.wheelPropagation}var l=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===l&&n<0||l>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}var r=!1;e.event.bind(t,\"mouseenter\",function(){r=!0}),e.event.bind(t,\"mouseleave\",function(){r=!1});var i=!1;e.event.bind(e.ownerDocument,\"keydown\",function(c){if(!(c.isDefaultPrevented&&c.isDefaultPrevented()||c.defaultPrevented)){var u=l.matches(e.scrollbarX,\":focus\")||l.matches(e.scrollbarY,\":focus\");if(r||u){var d=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(d){if(\"IFRAME\"===d.tagName)d=d.contentDocument.activeElement;else for(;d.shadowRoot;)d=d.shadowRoot.activeElement;if(o.isEditable(d))return}var p=0,h=0;switch(c.which){case 37:p=c.metaKey?-e.contentWidth:c.altKey?-e.containerWidth:-30;break;case 38:h=c.metaKey?e.contentHeight:c.altKey?e.containerHeight:30;break;case 39:p=c.metaKey?e.contentWidth:c.altKey?e.containerWidth:30;break;case 40:h=c.metaKey?-e.contentHeight:c.altKey?-e.containerHeight:-30;break;case 33:h=90;break;case 32:h=c.shiftKey?90:-90;break;case 34:h=-90;break;case 35:h=c.ctrlKey?-e.contentHeight:-e.containerHeight;break;case 36:h=c.ctrlKey?t.scrollTop:e.containerHeight;break;default:return}a(t,\"top\",t.scrollTop-h),a(t,\"left\",t.scrollLeft+p),s(t),(i=n(p,h))&&c.preventDefault()}}})}var o=t(\"../../lib/helper\"),l=t(\"../../lib/dom\"),i=t(\"../instances\"),s=t(\"../update-geometry\"),a=t(\"../update-scroll\");e.exports=function(t){r(t,i.get(t))}},{\"../../lib/dom\":3,\"../../lib/helper\":6,\"../instances\":18,\"../update-geometry\":19,\"../update-scroll\":20}],13:[function(t,e,n){\"use strict\";function r(t,e){function n(n,r){var o=t.scrollTop;if(0===n){if(!e.scrollbarYActive)return!1;if(0===o&&r>0||o>=e.contentHeight-e.containerHeight&&r<0)return!e.settings.wheelPropagation}var l=t.scrollLeft;if(0===r){if(!e.scrollbarXActive)return!1;if(0===l&&n<0||l>=e.contentWidth-e.containerWidth&&n>0)return!e.settings.wheelPropagation}return!0}function r(t){var e=t.deltaX,n=-1*t.deltaY;return void 0!==e&&void 0!==n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!==e&&n!==n&&(e=0,n=t.wheelDelta),t.shiftKey?[-n,-e]:[e,n]}function o(e,n){var r=t.querySelector(\"textarea:hover, select[multiple]:hover, .ps-child:hover\");if(r){if(!window.getComputedStyle(r).overflow.match(/(scroll|auto)/))return!1;var o=r.scrollHeight-r.clientHeight;if(o>0&&!(0===r.scrollTop&&n>0||r.scrollTop===o&&n<0))return!0;var l=r.scrollLeft-r.clientWidth;if(l>0&&!(0===r.scrollLeft&&e<0||r.scrollLeft===l&&e>0))return!0}return!1}function s(s){var c=r(s),u=c[0],d=c[1];o(u,d)||(a=!1,e.settings.useBothWheelAxes?e.scrollbarYActive&&!e.scrollbarXActive?(d?i(t,\"top\",t.scrollTop-d*e.settings.wheelSpeed):i(t,\"top\",t.scrollTop+u*e.settings.wheelSpeed),a=!0):e.scrollbarXActive&&!e.scrollbarYActive&&(u?i(t,\"left\",t.scrollLeft+u*e.settings.wheelSpeed):i(t,\"left\",t.scrollLeft-d*e.settings.wheelSpeed),a=!0):(i(t,\"top\",t.scrollTop-d*e.settings.wheelSpeed),i(t,\"left\",t.scrollLeft+u*e.settings.wheelSpeed)),l(t),(a=a||n(u,d))&&(s.stopPropagation(),s.preventDefault()))}var a=!1;void 0!==window.onwheel?e.event.bind(t,\"wheel\",s):void 0!==window.onmousewheel&&e.event.bind(t,\"mousewheel\",s)}var o=t(\"../instances\"),l=t(\"../update-geometry\"),i=t(\"../update-scroll\");e.exports=function(t){r(t,o.get(t))}},{\"../instances\":18,\"../update-geometry\":19,\"../update-scroll\":20}],14:[function(t,e,n){\"use strict\";function r(t,e){e.event.bind(t,\"scroll\",function(){l(t)})}var o=t(\"../instances\"),l=t(\"../update-geometry\");e.exports=function(t){r(t,o.get(t))}},{\"../instances\":18,\"../update-geometry\":19}],15:[function(t,e,n){\"use strict\";function r(t,e){function n(){var t=window.getSelection?window.getSelection():document.getSelection?document.getSelection():\"\";return 0===t.toString().length?null:t.getRangeAt(0).commonAncestorContainer}function r(){c||(c=setInterval(function(){l.get(t)?(s(t,\"top\",t.scrollTop+u.top),s(t,\"left\",t.scrollLeft+u.left),i(t)):clearInterval(c)},50))}function a(){c&&(clearInterval(c),c=null),o.stopScrolling(t)}var c=null,u={top:0,left:0},d=!1;e.event.bind(e.ownerDocument,\"selectionchange\",function(){t.contains(n())?d=!0:(d=!1,a())}),e.event.bind(window,\"mouseup\",function(){d&&(d=!1,a())}),e.event.bind(window,\"keyup\",function(){d&&(d=!1,a())}),e.event.bind(window,\"mousemove\",function(e){if(d){var n={x:e.pageX,y:e.pageY},l={left:t.offsetLeft,right:t.offsetLeft+t.offsetWidth,top:t.offsetTop,bottom:t.offsetTop+t.offsetHeight};n.x<l.left+3?(u.left=-5,o.startScrolling(t,\"x\")):n.x>l.right-3?(u.left=5,o.startScrolling(t,\"x\")):u.left=0,n.y<l.top+3?(u.top=l.top+3-n.y<5?-5:-20,o.startScrolling(t,\"y\")):n.y>l.bottom-3?(u.top=n.y-l.bottom+3<5?5:20,o.startScrolling(t,\"y\")):u.top=0,0===u.top&&0===u.left?a():r()}})}var o=t(\"../../lib/helper\"),l=t(\"../instances\"),i=t(\"../update-geometry\"),s=t(\"../update-scroll\");e.exports=function(t){r(t,l.get(t))}},{\"../../lib/helper\":6,\"../instances\":18,\"../update-geometry\":19,\"../update-scroll\":20}],16:[function(t,e,n){\"use strict\";function r(t,e,n,r){function o(n,r){var o=t.scrollTop,l=t.scrollLeft,i=Math.abs(n),s=Math.abs(r);if(s>i){if(r<0&&o===e.contentHeight-e.containerHeight||r>0&&0===o)return!e.settings.swipePropagation}else if(i>s&&(n<0&&l===e.contentWidth-e.containerWidth||n>0&&0===l))return!e.settings.swipePropagation;return!0}function a(e,n){s(t,\"top\",t.scrollTop-n),s(t,\"left\",t.scrollLeft-e),i(t)}function c(){y=!0}function u(){y=!1}function d(t){return t.targetTouches?t.targetTouches[0]:t}function p(t){return!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||\"mouse\"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE)}function h(t){if(p(t)){Y=!0;var e=d(t);v.pageX=e.pageX,v.pageY=e.pageY,g=(new Date).getTime(),null!==w&&clearInterval(w),t.stopPropagation()}}function f(t){if(!Y&&e.settings.swipePropagation&&h(t),!y&&Y&&p(t)){var n=d(t),r={pageX:n.pageX,pageY:n.pageY},l=r.pageX-v.pageX,i=r.pageY-v.pageY;a(l,i),v=r;var s=(new Date).getTime(),c=s-g;c>0&&(m.x=l/c,m.y=i/c,g=s),o(l,i)&&(t.stopPropagation(),t.preventDefault())}}function b(){!y&&Y&&(Y=!1,clearInterval(w),w=setInterval(function(){l.get(t)&&(m.x||m.y)?Math.abs(m.x)<.01&&Math.abs(m.y)<.01?clearInterval(w):(a(30*m.x,30*m.y),m.x*=.8,m.y*=.8):clearInterval(w)},10))}var v={},g=0,m={},w=null,y=!1,Y=!1;n&&(e.event.bind(window,\"touchstart\",c),e.event.bind(window,\"touchend\",u),e.event.bind(t,\"touchstart\",h),e.event.bind(t,\"touchmove\",f),e.event.bind(t,\"touchend\",b)),r&&(window.PointerEvent?(e.event.bind(window,\"pointerdown\",c),e.event.bind(window,\"pointerup\",u),e.event.bind(t,\"pointerdown\",h),e.event.bind(t,\"pointermove\",f),e.event.bind(t,\"pointerup\",b)):window.MSPointerEvent&&(e.event.bind(window,\"MSPointerDown\",c),e.event.bind(window,\"MSPointerUp\",u),e.event.bind(t,\"MSPointerDown\",h),e.event.bind(t,\"MSPointerMove\",f),e.event.bind(t,\"MSPointerUp\",b)))}var o=t(\"../../lib/helper\"),l=t(\"../instances\"),i=t(\"../update-geometry\"),s=t(\"../update-scroll\");e.exports=function(t){(o.env.supportsTouch||o.env.supportsIePointer)&&r(t,l.get(t),o.env.supportsTouch,o.env.supportsIePointer)}},{\"../../lib/helper\":6,\"../instances\":18,\"../update-geometry\":19,\"../update-scroll\":20}],17:[function(t,e,n){\"use strict\";var r=t(\"../lib/helper\"),o=t(\"../lib/class\"),l=t(\"./instances\"),i=t(\"./update-geometry\"),s={\"click-rail\":t(\"./handler/click-rail\"),\"drag-scrollbar\":t(\"./handler/drag-scrollbar\"),keyboard:t(\"./handler/keyboard\"),wheel:t(\"./handler/mouse-wheel\"),touch:t(\"./handler/touch\"),selection:t(\"./handler/selection\")},a=t(\"./handler/native-scroll\");e.exports=function(t,e){e=\"object\"==typeof e?e:{},o.add(t,\"ps-container\");var n=l.add(t);n.settings=r.extend(n.settings,e),o.add(t,\"ps-theme-\"+n.settings.theme),n.settings.handlers.forEach(function(e){s[e](t)}),a(t),i(t)}},{\"../lib/class\":2,\"../lib/helper\":6,\"./handler/click-rail\":10,\"./handler/drag-scrollbar\":11,\"./handler/keyboard\":12,\"./handler/mouse-wheel\":13,\"./handler/native-scroll\":14,\"./handler/selection\":15,\"./handler/touch\":16,\"./instances\":18,\"./update-geometry\":19}],18:[function(t,e,n){\"use strict\";function r(t){function e(){a.add(t,\"ps-focus\")}function n(){a.remove(t,\"ps-focus\")}var r=this;r.settings=s.clone(c),r.containerWidth=null,r.containerHeight=null,r.contentWidth=null,r.contentHeight=null,r.isRtl=\"rtl\"===u.css(t,\"direction\"),r.isNegativeScroll=function(){var e=t.scrollLeft,n=null;return t.scrollLeft=-1,n=t.scrollLeft<0,t.scrollLeft=e,n}(),r.negativeScrollAdjustment=r.isNegativeScroll?t.scrollWidth-t.clientWidth:0,r.event=new d,r.ownerDocument=t.ownerDocument||document,r.scrollbarXRail=u.appendTo(u.e(\"div\",\"ps-scrollbar-x-rail\"),t),r.scrollbarX=u.appendTo(u.e(\"div\",\"ps-scrollbar-x\"),r.scrollbarXRail),r.scrollbarX.setAttribute(\"tabindex\",0),r.event.bind(r.scrollbarX,\"focus\",e),r.event.bind(r.scrollbarX,\"blur\",n),r.scrollbarXActive=null,r.scrollbarXWidth=null,r.scrollbarXLeft=null,r.scrollbarXBottom=s.toInt(u.css(r.scrollbarXRail,\"bottom\")),r.isScrollbarXUsingBottom=r.scrollbarXBottom===r.scrollbarXBottom,r.scrollbarXTop=r.isScrollbarXUsingBottom?null:s.toInt(u.css(r.scrollbarXRail,\"top\")),r.railBorderXWidth=s.toInt(u.css(r.scrollbarXRail,\"borderLeftWidth\"))+s.toInt(u.css(r.scrollbarXRail,\"borderRightWidth\")),u.css(r.scrollbarXRail,\"display\",\"block\"),r.railXMarginWidth=s.toInt(u.css(r.scrollbarXRail,\"marginLeft\"))+s.toInt(u.css(r.scrollbarXRail,\"marginRight\")),u.css(r.scrollbarXRail,\"display\",\"\"),r.railXWidth=null,r.railXRatio=null,r.scrollbarYRail=u.appendTo(u.e(\"div\",\"ps-scrollbar-y-rail\"),t),r.scrollbarY=u.appendTo(u.e(\"div\",\"ps-scrollbar-y\"),r.scrollbarYRail),r.scrollbarY.setAttribute(\"tabindex\",0),r.event.bind(r.scrollbarY,\"focus\",e),r.event.bind(r.scrollbarY,\"blur\",n),r.scrollbarYActive=null,r.scrollbarYHeight=null,r.scrollbarYTop=null,r.scrollbarYRight=s.toInt(u.css(r.scrollbarYRail,\"right\")),r.isScrollbarYUsingRight=r.scrollbarYRight===r.scrollbarYRight,r.scrollbarYLeft=r.isScrollbarYUsingRight?null:s.toInt(u.css(r.scrollbarYRail,\"left\")),r.scrollbarYOuterWidth=r.isRtl?s.outerWidth(r.scrollbarY):null,r.railBorderYWidth=s.toInt(u.css(r.scrollbarYRail,\"borderTopWidth\"))+s.toInt(u.css(r.scrollbarYRail,\"borderBottomWidth\")),u.css(r.scrollbarYRail,\"display\",\"block\"),r.railYMarginHeight=s.toInt(u.css(r.scrollbarYRail,\"marginTop\"))+s.toInt(u.css(r.scrollbarYRail,\"marginBottom\")),u.css(r.scrollbarYRail,\"display\",\"\"),r.railYHeight=null,r.railYRatio=null}function o(t){return t.getAttribute(\"data-ps-id\")}function l(t,e){t.setAttribute(\"data-ps-id\",e)}function i(t){t.removeAttribute(\"data-ps-id\")}var s=t(\"../lib/helper\"),a=t(\"../lib/class\"),c=t(\"./default-setting\"),u=t(\"../lib/dom\"),d=t(\"../lib/event-manager\"),p=t(\"../lib/guid\"),h={};n.add=function(t){var e=p();return l(t,e),h[e]=new r(t),h[e]},n.remove=function(t){delete h[o(t)],i(t)},n.get=function(t){return h[o(t)]}},{\"../lib/class\":2,\"../lib/dom\":3,\"../lib/event-manager\":4,\"../lib/guid\":5,\"../lib/helper\":6,\"./default-setting\":8}],19:[function(t,e,n){\"use strict\";function r(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function o(t,e){var n={width:e.railXWidth};e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:n.left=t.scrollLeft,e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-t.scrollTop:n.top=e.scrollbarXTop+t.scrollTop,s.css(e.scrollbarXRail,n);var r={top:t.scrollTop,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?r.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth:r.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?r.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:r.left=e.scrollbarYLeft+t.scrollLeft,s.css(e.scrollbarYRail,r),s.css(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),s.css(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}var l=t(\"../lib/helper\"),i=t(\"../lib/class\"),s=t(\"../lib/dom\"),a=t(\"./instances\"),c=t(\"./update-scroll\");e.exports=function(t){var e=a.get(t);e.containerWidth=t.clientWidth,e.containerHeight=t.clientHeight,e.contentWidth=t.scrollWidth,e.contentHeight=t.scrollHeight;var n;t.contains(e.scrollbarXRail)||((n=s.queryChildren(t,\".ps-scrollbar-x-rail\")).length>0&&n.forEach(function(t){s.remove(t)}),s.appendTo(e.scrollbarXRail,t)),t.contains(e.scrollbarYRail)||((n=s.queryChildren(t,\".ps-scrollbar-y-rail\")).length>0&&n.forEach(function(t){s.remove(t)}),s.appendTo(e.scrollbarYRail,t)),!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth?(e.scrollbarXActive=!0,e.railXWidth=e.containerWidth-e.railXMarginWidth,e.railXRatio=e.containerWidth/e.railXWidth,e.scrollbarXWidth=r(e,l.toInt(e.railXWidth*e.containerWidth/e.contentWidth)),e.scrollbarXLeft=l.toInt((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))):e.scrollbarXActive=!1,!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight?(e.scrollbarYActive=!0,e.railYHeight=e.containerHeight-e.railYMarginHeight,e.railYRatio=e.containerHeight/e.railYHeight,e.scrollbarYHeight=r(e,l.toInt(e.railYHeight*e.containerHeight/e.contentHeight)),e.scrollbarYTop=l.toInt(t.scrollTop*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))):e.scrollbarYActive=!1,e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth&&(e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth),e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight&&(e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight),o(t,e),e.scrollbarXActive?i.add(t,\"ps-active-x\"):(i.remove(t,\"ps-active-x\"),e.scrollbarXWidth=0,e.scrollbarXLeft=0,c(t,\"left\",0)),e.scrollbarYActive?i.add(t,\"ps-active-y\"):(i.remove(t,\"ps-active-y\"),e.scrollbarYHeight=0,e.scrollbarYTop=0,c(t,\"top\",0))}},{\"../lib/class\":2,\"../lib/dom\":3,\"../lib/helper\":6,\"./instances\":18,\"./update-scroll\":20}],20:[function(t,e,n){\"use strict\";var r,o,l=t(\"./instances\"),i=function(t){var e=document.createEvent(\"Event\");return e.initEvent(t,!0,!0),e};e.exports=function(t,e,n){if(void 0===t)throw\"You must provide an element to the update-scroll function\";if(void 0===e)throw\"You must provide an axis to the update-scroll function\";if(void 0===n)throw\"You must provide a value to the update-scroll function\";\"top\"===e&&n<=0&&(t.scrollTop=n=0,t.dispatchEvent(i(\"ps-y-reach-start\"))),\"left\"===e&&n<=0&&(t.scrollLeft=n=0,t.dispatchEvent(i(\"ps-x-reach-start\")));var s=l.get(t);\"top\"===e&&n>=s.contentHeight-s.containerHeight&&((n=s.contentHeight-s.containerHeight)-t.scrollTop<=1?n=t.scrollTop:t.scrollTop=n,t.dispatchEvent(i(\"ps-y-reach-end\"))),\"left\"===e&&n>=s.contentWidth-s.containerWidth&&((n=s.contentWidth-s.containerWidth)-t.scrollLeft<=1?n=t.scrollLeft:t.scrollLeft=n,t.dispatchEvent(i(\"ps-x-reach-end\"))),r||(r=t.scrollTop),o||(o=t.scrollLeft),\"top\"===e&&n<r&&t.dispatchEvent(i(\"ps-scroll-up\")),\"top\"===e&&n>r&&t.dispatchEvent(i(\"ps-scroll-down\")),\"left\"===e&&n<o&&t.dispatchEvent(i(\"ps-scroll-left\")),\"left\"===e&&n>o&&t.dispatchEvent(i(\"ps-scroll-right\")),\"top\"===e&&(t.scrollTop=r=n,t.dispatchEvent(i(\"ps-scroll-y\"))),\"left\"===e&&(t.scrollLeft=o=n,t.dispatchEvent(i(\"ps-scroll-x\")))}},{\"./instances\":18}],21:[function(t,e,n){\"use strict\";var r=t(\"../lib/helper\"),o=t(\"../lib/dom\"),l=t(\"./instances\"),i=t(\"./update-geometry\"),s=t(\"./update-scroll\");e.exports=function(t){var e=l.get(t);e&&(e.negativeScrollAdjustment=e.isNegativeScroll?t.scrollWidth-t.clientWidth:0,o.css(e.scrollbarXRail,\"display\",\"block\"),o.css(e.scrollbarYRail,\"display\",\"block\"),e.railXMarginWidth=r.toInt(o.css(e.scrollbarXRail,\"marginLeft\"))+r.toInt(o.css(e.scrollbarXRail,\"marginRight\")),e.railYMarginHeight=r.toInt(o.css(e.scrollbarYRail,\"marginTop\"))+r.toInt(o.css(e.scrollbarYRail,\"marginBottom\")),o.css(e.scrollbarXRail,\"display\",\"none\"),o.css(e.scrollbarYRail,\"display\",\"none\"),i(t),s(t,\"top\",t.scrollTop),s(t,\"left\",t.scrollLeft),o.css(e.scrollbarXRail,\"display\",\"\"),o.css(e.scrollbarYRail,\"display\",\"\"))}},{\"../lib/dom\":3,\"../lib/helper\":6,\"./instances\":18,\"./update-geometry\":19,\"./update-scroll\":20}]},{},[1]);","Nwdthemes_Revslider/framework/js/loading.js":"define(\r\n    'loading',\r\n    ['jquery', 'themepunchTools'],\r\n    function(jQuery, punchgs) {\r\n\r\n        /* SHOW A WAIT FOR PROGRESS */\r\n        var showWaitAMinute = function(obj) {\r\n            var wm = jQuery('#waitaminute');\r\n            // CHANGE TEXT\r\n            if (obj.text != undefined) {\r\n                switch (obj.text) {\r\n                    case \"progress1\":\r\n\r\n                        break;\r\n                    default:\r\n\r\n                        wm.html('<div class=\"waitaminute-message\"><i class=\"eg-icon-emo-coffee\"></i><br>'+obj.text+'</div>');\r\n                        break;\r\n                }\r\n            }\r\n\r\n            if (obj.delay!=undefined) {\r\n\r\n                punchgs.TweenLite.to(wm,0.3,{autoAlpha:1,ease:punchgs.Power3.easeInOut});\r\n                punchgs.TweenLite.set(wm,{display:\"block\"});\r\n\r\n                setTimeout(function() {\r\n                    punchgs.TweenLite.to(wm,0.3,{autoAlpha:0,ease:punchgs.Power3.easeInOut,onComplete:function() {\r\n                        punchgs.TweenLite.set(wm,{display:\"block\"});\r\n                    }});\r\n                },obj.delay)\r\n            }\r\n\r\n            // SHOW IT\r\n            if (obj.fadeIn !== undefined) {\r\n                punchgs.TweenLite.to(wm,obj.fadeIn/1000,{autoAlpha:1,ease:punchgs.Power3.easeInOut});\r\n                punchgs.TweenLite.set(wm,{display:\"block\"});\r\n            }\r\n\r\n            // HIDE IT\r\n            if (obj.fadeOut !== undefined) {\r\n                punchgs.TweenLite.to(wm,obj.fadeOut/1000,{autoAlpha:0,ease:punchgs.Power3.easeInOut,onComplete:function() {\r\n                        punchgs.TweenLite.set(wm,{display:\"block\"});\r\n                    }});\r\n            }\r\n\r\n        }\r\n\r\n        return showWaitAMinute;\r\n    }\r\n);","Nwdthemes_Revslider/framework/js/color-picker.js":"require(['jquery', 'jquery/ui', 'iris', 'wpColorPickerL10n'], function($, undefined, undefined, wpColorPickerL10n) {\r\n\r\n    var ColorPicker,\r\n        // html stuff\r\n        _before = '<a tabindex=\"0\" class=\"wp-color-result\" />',\r\n        _after = '<div class=\"wp-picker-holder\" />',\r\n        _wrap = '<div class=\"wp-picker-container\" />',\r\n        _button = '<input type=\"button\" class=\"button button-small hidden\" />';\r\n\r\n    // jQuery UI Widget constructor\r\n    ColorPicker = {\r\n        options: {\r\n            defaultColor: false,\r\n            change: false,\r\n            clear: false,\r\n            hide: true,\r\n            palettes: true,\r\n            width: 255,\r\n            mode: 'hsv'\r\n        },\r\n        _create: function() {\r\n            // bail early for unsupported Iris.\r\n            if ( ! $.support.iris ) {\r\n                return;\r\n            }\r\n\r\n            var self = this,\r\n                el = self.element;\r\n\r\n            $.extend( self.options, el.data() );\r\n\r\n            // keep close bound so it can be attached to a body listener\r\n            self.close = $.proxy( self.close, self );\r\n\r\n            self.initialValue = el.val();\r\n\r\n            // Set up HTML structure, hide things\r\n            el.addClass( 'wp-color-picker' ).hide().wrap( _wrap );\r\n            self.wrap = el.parent();\r\n            self.toggler = $( _before ).insertBefore( el ).css( { backgroundColor: self.initialValue } ).attr( 'title', wpColorPickerL10n.pick ).attr( 'data-current', wpColorPickerL10n.current );\r\n            self.pickerContainer = $( _after ).insertAfter( el );\r\n            self.button = $( _button );\r\n\r\n            if ( self.options.defaultColor ) {\r\n                self.button.addClass( 'wp-picker-default' ).val( wpColorPickerL10n.defaultString );\r\n            } else {\r\n                self.button.addClass( 'wp-picker-clear' ).val( wpColorPickerL10n.clear );\r\n            }\r\n\r\n            el.wrap( '<span class=\"wp-picker-input-wrap\" />' ).after(self.button);\r\n\r\n            el.iris( {\r\n                target: self.pickerContainer,\r\n                hide: self.options.hide,\r\n                width: self.options.width,\r\n                mode: self.options.mode,\r\n                palettes: self.options.palettes,\r\n                change: function( event, ui ) {\r\n                    self.toggler.css( { backgroundColor: ui.color.toString() } );\r\n                    // check for a custom cb\r\n                    if ( $.isFunction( self.options.change ) ) {\r\n                        self.options.change.call( this, event, ui );\r\n                    }\r\n                }\r\n            } );\r\n\r\n            el.val( self.initialValue );\r\n            self._addListeners();\r\n            if ( ! self.options.hide ) {\r\n                self.toggler.click();\r\n            }\r\n        },\r\n        _addListeners: function() {\r\n            var self = this;\r\n\r\n            // prevent any clicks inside this widget from leaking to the top and closing it\r\n            self.wrap.on( 'click.wpcolorpicker', function( event ) {\r\n                event.stopPropagation();\r\n            });\r\n\r\n            self.toggler.click( function(){\r\n                if ( self.toggler.hasClass( 'wp-picker-open' ) ) {\r\n                    self.close();\r\n                } else {\r\n                    self.open();\r\n                }\r\n            });\r\n\r\n            self.element.change( function( event ) {\r\n                var me = $( this ),\r\n                    val = me.val();\r\n                // Empty = clear\r\n                if ( val === '' || val === '#' ) {\r\n                    self.toggler.css( 'backgroundColor', '' );\r\n                    // fire clear callback if we have one\r\n                    if ( $.isFunction( self.options.clear ) ) {\r\n                        self.options.clear.call( this, event );\r\n                    }\r\n                }\r\n            });\r\n\r\n            // open a keyboard-focused closed picker with space or enter\r\n            self.toggler.on( 'keyup', function( event ) {\r\n                if ( event.keyCode === 13 || event.keyCode === 32 ) {\r\n                    event.preventDefault();\r\n                    self.toggler.trigger( 'click' ).next().focus();\r\n                }\r\n            });\r\n\r\n            self.button.click( function( event ) {\r\n                var me = $( this );\r\n                if ( me.hasClass( 'wp-picker-clear' ) ) {\r\n                    self.element.val( '' );\r\n                    self.toggler.css( 'backgroundColor', '' );\r\n                    if ( $.isFunction( self.options.clear ) ) {\r\n                        self.options.clear.call( this, event );\r\n                    }\r\n                } else if ( me.hasClass( 'wp-picker-default' ) ) {\r\n                    self.element.val( self.options.defaultColor ).change();\r\n                }\r\n            });\r\n        },\r\n        open: function() {\r\n            this.element.show().iris( 'toggle' ).focus();\r\n            this.button.removeClass( 'hidden' );\r\n            this.wrap.addClass( 'wp-picker-active' );\r\n            this.toggler.addClass( 'wp-picker-open' );\r\n            $( 'body' ).trigger( 'click.wpcolorpicker' ).on( 'click.wpcolorpicker', this.close );\r\n        },\r\n        close: function() {\r\n            this.element.hide().iris( 'toggle' );\r\n            this.button.addClass( 'hidden' );\r\n            this.wrap.removeClass( 'wp-picker-active' );\r\n            this.toggler.removeClass( 'wp-picker-open' );\r\n            $( 'body' ).off( 'click.wpcolorpicker', this.close );\r\n        },\r\n        // $(\"#input\").wpColorPicker('color') returns the current color\r\n        // $(\"#input\").wpColorPicker('color', '#bada55') to set\r\n        color: function( newColor ) {\r\n            if ( newColor === undef ) {\r\n                return this.element.iris( 'option', 'color' );\r\n            }\r\n\r\n            this.element.iris( 'option', 'color', newColor );\r\n        },\r\n        //$(\"#input\").wpColorPicker('defaultColor') returns the current default color\r\n        //$(\"#input\").wpColorPicker('defaultColor', newDefaultColor) to set\r\n        defaultColor: function( newDefaultColor ) {\r\n            if ( newDefaultColor === undef ) {\r\n                return this.options.defaultColor;\r\n            }\r\n\r\n            this.options.defaultColor = newDefaultColor;\r\n        }\r\n    };\r\n\r\n    $.widget( 'wp.wpColorPicker', ColorPicker );\r\n\r\n});\r\n\r\n","Nwdthemes_Revslider/framework/js/color-picker.min.js":"require([\"jquery\",\"jquery/ui\",\"iris\",\"wpColorPickerL10n\"],function(e,o,o,t){var i;i={options:{defaultColor:!1,change:!1,clear:!1,hide:!0,palettes:!0,width:255,mode:\"hsv\"},_create:function(){if(e.support.iris){var o=this,i=o.element;e.extend(o.options,i.data()),o.close=e.proxy(o.close,o),o.initialValue=i.val(),i.addClass(\"wp-color-picker\").hide().wrap('<div class=\"wp-picker-container\" />'),o.wrap=i.parent(),o.toggler=e('<a tabindex=\"0\" class=\"wp-color-result\" />').insertBefore(i).css({backgroundColor:o.initialValue}).attr(\"title\",t.pick).attr(\"data-current\",t.current),o.pickerContainer=e('<div class=\"wp-picker-holder\" />').insertAfter(i),o.button=e('<input type=\"button\" class=\"button button-small hidden\" />'),o.options.defaultColor?o.button.addClass(\"wp-picker-default\").val(t.defaultString):o.button.addClass(\"wp-picker-clear\").val(t.clear),i.wrap('<span class=\"wp-picker-input-wrap\" />').after(o.button),i.iris({target:o.pickerContainer,hide:o.options.hide,width:o.options.width,mode:o.options.mode,palettes:o.options.palettes,change:function(t,i){o.toggler.css({backgroundColor:i.color.toString()}),e.isFunction(o.options.change)&&o.options.change.call(this,t,i)}}),i.val(o.initialValue),o._addListeners(),o.options.hide||o.toggler.click()}},_addListeners:function(){var o=this;o.wrap.on(\"click.wpcolorpicker\",function(e){e.stopPropagation()}),o.toggler.click(function(){o.toggler.hasClass(\"wp-picker-open\")?o.close():o.open()}),o.element.change(function(t){var i=e(this).val();\"\"!==i&&\"#\"!==i||(o.toggler.css(\"backgroundColor\",\"\"),e.isFunction(o.options.clear)&&o.options.clear.call(this,t))}),o.toggler.on(\"keyup\",function(e){13!==e.keyCode&&32!==e.keyCode||(e.preventDefault(),o.toggler.trigger(\"click\").next().focus())}),o.button.click(function(t){var i=e(this);i.hasClass(\"wp-picker-clear\")?(o.element.val(\"\"),o.toggler.css(\"backgroundColor\",\"\"),e.isFunction(o.options.clear)&&o.options.clear.call(this,t)):i.hasClass(\"wp-picker-default\")&&o.element.val(o.options.defaultColor).change()})},open:function(){this.element.show().iris(\"toggle\").focus(),this.button.removeClass(\"hidden\"),this.wrap.addClass(\"wp-picker-active\"),this.toggler.addClass(\"wp-picker-open\"),e(\"body\").trigger(\"click.wpcolorpicker\").on(\"click.wpcolorpicker\",this.close)},close:function(){this.element.hide().iris(\"toggle\"),this.button.addClass(\"hidden\"),this.wrap.removeClass(\"wp-picker-active\"),this.toggler.removeClass(\"wp-picker-open\"),e(\"body\").off(\"click.wpcolorpicker\",this.close)},color:function(e){if(e===undef)return this.element.iris(\"option\",\"color\");this.element.iris(\"option\",\"color\",e)},defaultColor:function(e){if(e===undef)return this.options.defaultColor;this.options.defaultColor=e}},e.widget(\"wp.wpColorPicker\",i)});","Nwdthemes_Revslider/framework/js/wp-util.min.js":"window.wp=window.wp||{},function(a){var b=\"undefined\"==typeof _wpUtilSettings?{}:_wpUtilSettings;wp.template=_.memoize(function(b){var c,d={evaluate:/<#([\\s\\S]+?)#>/g,interpolate:/\\{\\{\\{([\\s\\S]+?)\\}\\}\\}/g,escape:/\\{\\{([^\\}]+?)\\}\\}(?!\\})/g,variable:\"data\"};return function(e){return(c=c||_.template(a(\"#tmpl-\"+b).html(),null,d))(e)}}),wp.ajax={settings:b.ajax||{},post:function(a,b){return wp.ajax.send({data:_.isObject(a)?a:_.extend(b||{},{action:a})})},send:function(b,c){return _.isObject(b)?c=b:(c=c||{},c.data=_.extend(c.data||{},{action:b})),c=_.defaults(c||{},{type:\"POST\",url:wp.ajax.settings.url,context:this}),a.Deferred(function(b){c.success&&b.done(c.success),c.error&&b.fail(c.error),delete c.success,delete c.error,a.ajax(c).done(function(a){(\"1\"===a||1===a)&&(a={success:!0}),_.isObject(a)&&!_.isUndefined(a.success)?b[a.success?\"resolveWith\":\"rejectWith\"](this,[a.data]):b.rejectWith(this,[a])}).fail(function(){b.rejectWith(this,arguments)})}).promise()}}}(jQuery);\r\n","Nwdthemes_Revslider/framework/js/browser.js":"/**\r\n * Copyright \u00a9 2016 Magento. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*jshint browser:true jquery:true*/\r\ndefine([\r\n    \"jquery\",\r\n    \"Magento_Ui/js/modal/prompt\",\r\n    \"Magento_Ui/js/modal/confirm\",\r\n    \"Magento_Ui/js/modal/alert\",\r\n    \"Magento_Ui/js/modal/modal\",\r\n    \"jquery/ui\",\r\n    \"jquery/jstree/jquery.jstree\",\r\n    \"mage/mage\"\r\n], function($, prompt, confirm, alert){\r\n\r\n    MediabrowserUtility = {\r\n        windowId: 'modal_dialog_message',\r\n        getMaxZIndex: function() {\r\n            var max = 0, i;\r\n            var cn = document.body.childNodes;\r\n            for (i = 0; i < cn.length; i++) {\r\n                var el = cn[i];\r\n                var zIndex = el.nodeType == 1 ? parseInt(el.style.zIndex, 10) || 0 : 0;\r\n                if (zIndex < 10000) {\r\n                    max = Math.max(max, zIndex);\r\n                }\r\n            }\r\n            return max + 10;\r\n        },\r\n        openDialog: function(url, width, height, title, options, onInsert) {\r\n            var windowId = this.windowId,\r\n                content = '<div class=\"popup-window magento-message\" \"id=\"' + windowId + '\"></div>',\r\n                self = this;\r\n\r\n            if (this.modal) {\r\n                this.modal.html($(content).html());\r\n                this.modal.modal('option', 'closed', options.closed);\r\n            } else {\r\n                this.modal = $(content).modal($.extend({\r\n                    title:  title || 'Insert File...',\r\n                    modalClass: 'magento',\r\n                    type: 'slide',\r\n                    buttons: []\r\n                }, options));\r\n            }\r\n            this.modal.modal('openModal');\r\n            $.ajax({\r\n                url: url,\r\n                type: 'get',\r\n                context: $(this),\r\n                showLoader: true\r\n\r\n            }).done(function(data) {\r\n                self.modal.html(data).trigger('contentUpdated');\r\n                self.modal.find('#insert_files').data('onInsert', onInsert);\r\n            });\r\n        },\r\n        closeDialog: function() {\r\n            this.modal.modal('closeModal');\r\n        }\r\n    };\r\n\r\n    $.widget(\"nwdthemes_revslider.mediabrowser\", {\r\n        eventPrefix: \"mediabrowser\",\r\n        options: {\r\n            targetElementId: null,\r\n            contentsUrl: null,\r\n            onInsertUrl: null,\r\n            onInsert: null,\r\n            newFolderUrl: null,\r\n            deleteFolderUrl: null,\r\n            deleteFilesUrl: null,\r\n            headerText: null,\r\n            tree: null,\r\n            currentNode: null,\r\n            storeId: null,\r\n            showBreadcrumbs: null,\r\n            hidden: 'no-display'\r\n        },\r\n        /**\r\n         * Proxy creation\r\n         * @protected\r\n         */\r\n        _create: function() {\r\n            this._on({\r\n                'click [data-row=file]': 'selectFile',\r\n                'dblclick [data-row=file]': 'insert',\r\n                'click #new_folder': 'newFolder',\r\n                'click #delete_folder': 'deleteFolder',\r\n                'click #delete_files': 'deleteFiles',\r\n                'click #insert_files': 'insertSelectedFiles',\r\n                'fileuploaddone': '_uploadDone',\r\n                'click [data-row=breadcrumb]': 'selectFolder'\r\n            });\r\n            this.activeNode = null;\r\n            //tree dont use event bubbling\r\n            this.tree = this.element.find('[data-role=tree]');\r\n            this.tree.on(\"select_node.jstree\", $.proxy(this._selectNode, this));\r\n            this.onInsert = this.element.find('#insert_files').data('onInsert');\r\n        },\r\n\r\n        _selectNode: function(event, data) {\r\n            var node = data.rslt.obj.data('node');\r\n            this.activeNode = node;\r\n            this.element.find('#delete_files, #insert_files').toggleClass(this.options.hidden, true);\r\n            this.element.find('#contents').toggleClass(this.options.hidden, false);\r\n            this.element.find('#delete_folder').toggleClass(this.options.hidden, node.id == 'root');\r\n            this.element.find('#content_header_text').html(node.id == 'root' ? this.headerText : node.text);\r\n\r\n            this.drawBreadcrumbs(data);\r\n            this.loadFileList(node);\r\n        },\r\n\r\n        reload : function() {\r\n            return this.loadFileList(this.activeNode);\r\n        },\r\n\r\n        insertAtCursor: function(element, value) {\r\n            if ('selection' in document) {\r\n                //For browsers like Internet Explorer\r\n                element.focus();\r\n                sel = document.selection.createRange();\r\n                sel.text = value;\r\n                element.focus();\r\n            } else if (element.selectionStart || element.selectionStart == '0') {\r\n                //For browsers like Firefox and Webkit based\r\n                var startPos = element.selectionStart;\r\n                var endPos = element.selectionEnd;\r\n                var scrollTop = element.scrollTop;\r\n                element.value = element.value.substring(0, startPos) + value + element.value.substring(startPos, endPos)\r\n                    + element.value.substring(endPos, element.value.length);\r\n                element.focus();\r\n                element.selectionStart = startPos + value.length;\r\n                element.selectionEnd = ((startPos + value.length) + element.value.substring(startPos, endPos).length);\r\n                element.scrollTop = scrollTop;\r\n            } else {\r\n                element.value += value;\r\n                element.focus();\r\n            }\r\n        },\r\n\r\n        loadFileList: function(node) {\r\n            var contentBlock = this.element.find('#contents');\r\n            return $.ajax({\r\n                url: this.options.contentsUrl,\r\n                type: 'GET',\r\n                dataType: 'html',\r\n                data: {\r\n                    form_key: FORM_KEY,\r\n                    node: node.id\r\n                },\r\n                context: contentBlock,\r\n                showLoader: true\r\n            }).done(function(data) {\r\n                contentBlock.html(data).trigger('contentUpdated');\r\n            });\r\n        },\r\n\r\n        selectFolder: function(event) {\r\n            this.element.find('[data-id=\"'+ $(event.currentTarget).data('node').id +'\"]>a').click();\r\n        },\r\n\r\n        insertSelectedFiles: function(event) {\r\n            this.element.find('[data-row=file].selected').trigger('dblclick');\r\n        },\r\n\r\n        selectFile: function(event) {\r\n            var fileRow = $(event.currentTarget);\r\n            fileRow.toggleClass('selected');\r\n            this.element.find('[data-row=file]').not(fileRow).removeClass('selected');\r\n            this.element.find('#delete_files, #insert_files')\r\n                .toggleClass(this.options.hidden, !fileRow.is('.selected'));\r\n            fileRow.trigger('selectfile');\r\n        },\r\n\r\n        _uploadDone: function(event) {\r\n            this.element.find('.file-row').remove();\r\n            this.reload();\r\n        },\r\n\r\n        insert: function(event) {\r\n\r\n            var fileRow = $(event.currentTarget);\r\n\r\n            if (!fileRow.prop('id')) {\r\n                return false;\r\n            }\r\n\r\n            return $.ajax({\r\n                url: this.options.onInsertUrl,\r\n                data: {\r\n                    filename: fileRow.attr('id'),\r\n                    node: this.activeNode.id,\r\n                    store: this.options.storeId,\r\n                    as_is: 0,\r\n                    form_key: FORM_KEY\r\n                },\r\n                context: this,\r\n                showLoader: true\r\n            }).done($.proxy(function(data) {\r\n                if (typeof data == 'string') {\r\n                    data = JSON.parse(data.replace(/(\\r\\n|\\n|\\r)/gm, \"\").trim());\r\n                }\r\n                if (data.image) {\r\n                    this.onInsert(data.image, Base64.encode(data.image), data.width, data.height);\r\n                    MediabrowserUtility.closeDialog();\r\n                } else if (data.ajaxRedirect) {\r\n                    document.location = data.ajaxRedirect;\r\n                }\r\n            }, this));\r\n        },\r\n\r\n        /**\r\n         * Find document target element in next order:\r\n         *  in acive file browser opener:\r\n         *  - input field with ID: \"src\" in opener window\r\n         *  - input field with ID: \"href\" in opener window\r\n         *  in document:\r\n         *  - element with target ID\r\n         *\r\n         * return HTMLelement | null\r\n         */\r\n        getTargetElement: function() {\r\n            if (typeof(tinyMCE) != 'undefined' && tinyMCE.get(this.options.targetElementId)) {\r\n                var opener = this.getMediaBrowserOpener() || window;\r\n                var targetElementId = tinyMceEditors.get(this.options.targetElementId).getMediaBrowserTargetElementId();\r\n                return $(opener.document.getElementById(targetElementId));\r\n            } else {\r\n                return $('#' + this.options.targetElementId);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Return opener Window object if it exists, not closed and editor is active\r\n         *\r\n         * return object | null\r\n         */\r\n        getMediaBrowserOpener: function() {\r\n            if (typeof(tinyMCE) != 'undefined'\r\n                && tinyMCE.get(this.options.targetElementId)\r\n                && typeof(tinyMceEditors) != 'undefined'\r\n                && !tinyMceEditors.get(this.options.targetElementId).getMediaBrowserOpener().closed) {\r\n                return tinyMceEditors.get(this.options.targetElementId).getMediaBrowserOpener();\r\n            } else {\r\n                return null;\r\n            }\r\n        },\r\n\r\n        newFolder: function() {\r\n            var self = this;\r\n\r\n            prompt({\r\n                title: this.options.newFolderPrompt,\r\n                actions: {\r\n                    confirm: function (folderName) {\r\n                        return $.ajax({\r\n                            url: self.options.newFolderUrl,\r\n                            dataType: 'json',\r\n                            data: {\r\n                                name: folderName,\r\n                                node: self.activeNode.id,\r\n                                store: self.options.storeId,\r\n                                form_key: FORM_KEY\r\n                            },\r\n                            context: self.element,\r\n                            showLoader: true\r\n                        }).done($.proxy(function(data) {\r\n                            if (data.error) {\r\n                                alert({\r\n                                    content: data.message\r\n                                });\r\n                            } else {\r\n                                self.tree.jstree('refresh',  self.element.find('[data-id=\"' + self.activeNode.id + '\"]'));\r\n                            }\r\n                        }, this));\r\n                    }\r\n                }\r\n            });\r\n        },\r\n\r\n        deleteFolder: function() {\r\n            var self = this;\r\n\r\n            confirm({\r\n                content: this.options.deleteFolderConfirmationMessage,\r\n                actions: {\r\n                    confirm: function () {\r\n                        return $.ajax({\r\n                            url: self.options.deleteFolderUrl,\r\n                            dataType: 'json',\r\n                            data: {\r\n                                node: self.activeNode.id,\r\n                                store: self.options.storeId,\r\n                                form_key: FORM_KEY\r\n                            },\r\n                            context: self.element,\r\n                            showLoader: true\r\n                        }).done($.proxy(function(data) {\r\n                            self.tree.jstree('refresh', self.activeNode.id);\r\n                        }, this));\r\n                    },\r\n                    cancel: function () {\r\n                        return false;\r\n                    }\r\n                }\r\n            });\r\n        },\r\n\r\n        deleteFiles: function() {\r\n            var self = this;\r\n\r\n            confirm({\r\n                content: this.options.deleteFileConfirmationMessage,\r\n                actions: {\r\n                    confirm: function () {\r\n                        var selectedFiles = self.element.find('[data-row=file].selected');\r\n                        var ids = selectedFiles.map(function(index, file) {\r\n                            return $(this).attr('id');\r\n                        }).toArray();\r\n\r\n                        return $.ajax({\r\n                            url: self.options.deleteFilesUrl,\r\n                            data: {\r\n                                files: ids,\r\n                                store: self.options.storeId,\r\n                                form_key: FORM_KEY\r\n                            },\r\n                            context: self.element,\r\n                            showLoader: true\r\n                        }).done($.proxy(function(data) {\r\n                            self.reload();\r\n                        }, this));\r\n                    },\r\n                    cancel: function () {\r\n                        return false;\r\n                    }\r\n                }\r\n            });\r\n        },\r\n\r\n        drawBreadcrumbs: function(data) {\r\n            if (this.element.find('#breadcrumbs').length) {\r\n                this.element.find('#breadcrumbs').remove();\r\n            }\r\n            var node = data.rslt.obj.data('node');\r\n            if (node.id == 'root') {\r\n                return;\r\n            }\r\n            var breadcrumbs = $('<ul class=\"breadcrumbs\" id=\"breadcrumbs\" />');\r\n            $(data.rslt.obj.parents('[data-id]').get().reverse()).add(data.rslt.obj).each(function(index, element){\r\n                var node = $(element).data('node');\r\n                if (index > 0) {\r\n                    breadcrumbs.append($('<li>\\/</li>'));\r\n                }\r\n                breadcrumbs.append($('<li />').data('node', node).attr('data-row', 'breadcrumb').text(node.text));\r\n\r\n            });\r\n\r\n            breadcrumbs.insertAfter(this.element.find('#content_header'))\r\n        }\r\n    });\r\n});\r\n","Nwdthemes_Revslider/framework/js/iris.min.js":"/*! Iris Color Picker - v1.0.7 - 2014-11-28\r\n* https://github.com/Automattic/Iris\r\n* Copyright (c) 2014 Matt Wiebe; Licensed GPLv2 */\r\n!function(a,b){function c(){var b,c,d=\"backgroundImage\";j?k=\"filter\":(b=a('<div id=\"iris-gradtest\" />'),c=\"linear-gradient(top,#fff,#000)\",a.each(l,function(a,e){return b.css(d,e+c),b.css(d).match(\"gradient\")?(k=a,!1):void 0}),k===!1&&(b.css(\"background\",\"-webkit-gradient(linear,0% 0%,0% 100%,from(#fff),to(#000))\"),b.css(d).match(\"gradient\")&&(k=\"webkit\")),b.remove())}function d(b,c){return b=\"top\"===b?\"top\":\"left\",c=a.isArray(c)?c:Array.prototype.slice.call(arguments,1),\"webkit\"===k?f(b,c):l[k]+\"linear-gradient(\"+b+\", \"+c.join(\", \")+\")\"}function e(b,c){var d,e,f,h,i,j,k,l,m;b=\"top\"===b?\"top\":\"left\",c=a.isArray(c)?c:Array.prototype.slice.call(arguments,1),d=\"top\"===b?0:1,e=a(this),f=c.length-1,h=\"filter\",i=1===d?\"left\":\"top\",j=1===d?\"right\":\"bottom\",k=1===d?\"height\":\"width\",l='<div class=\"iris-ie-gradient-shim\" style=\"position:absolute;'+k+\":100%;\"+i+\":%start%;\"+j+\":%end%;\"+h+':%filter%;\" data-color:\"%color%\"></div>',m=\"\",\"static\"===e.css(\"position\")&&e.css({position:\"relative\"}),c=g(c),a.each(c,function(a,b){var e,g,h;return a===f?!1:(e=c[a+1],b.stop!==e.stop&&(g=100-parseFloat(e.stop)+\"%\",b.octoHex=new Color(b.color).toIEOctoHex(),e.octoHex=new Color(e.color).toIEOctoHex(),h=\"progid:DXImageTransform.Microsoft.Gradient(GradientType=\"+d+\", StartColorStr='\"+b.octoHex+\"', EndColorStr='\"+e.octoHex+\"')\",m+=l.replace(\"%start%\",b.stop).replace(\"%end%\",g).replace(\"%filter%\",h)),void 0)}),e.find(\".iris-ie-gradient-shim\").remove(),a(m).prependTo(e)}function f(b,c){var d=[];return b=\"top\"===b?\"0% 0%,0% 100%,\":\"0% 100%,100% 100%,\",c=g(c),a.each(c,function(a,b){d.push(\"color-stop(\"+parseFloat(b.stop)/100+\", \"+b.color+\")\")}),\"-webkit-gradient(linear,\"+b+d.join(\",\")+\")\"}function g(b){var c=[],d=[],e=[],f=b.length-1;return a.each(b,function(a,b){var e=b,f=!1,g=b.match(/1?[0-9]{1,2}%$/);g&&(e=b.replace(/\\s?1?[0-9]{1,2}%$/,\"\"),f=g.shift()),c.push(e),d.push(f)}),d[0]===!1&&(d[0]=\"0%\"),d[f]===!1&&(d[f]=\"100%\"),d=h(d),a.each(d,function(a){e[a]={color:c[a],stop:d[a]}}),e}function h(b){var c,d,e,f,g=0,i=b.length-1,j=0,k=!1;if(b.length<=2||a.inArray(!1,b)<0)return b;for(;j<b.length-1;)k||b[j]!==!1?k&&b[j]!==!1&&(i=j,j=b.length):(g=j-1,k=!0),j++;for(d=i-g,f=parseInt(b[g].replace(\"%\"),10),c=(parseFloat(b[i].replace(\"%\"))-f)/d,j=g+1,e=1;i>j;)b[j]=f+e*c+\"%\",e++,j++;return h(b)}var i,j,k,l,m,n,o,p,q;return i='<div class=\"iris-picker\"><div class=\"iris-picker-inner\"><div class=\"iris-square\"><a class=\"iris-square-value\" href=\"#\"><span class=\"iris-square-handle ui-slider-handle\"></span></a><div class=\"iris-square-inner iris-square-horiz\"></div><div class=\"iris-square-inner iris-square-vert\"></div></div><div class=\"iris-slider iris-strip\"><div class=\"iris-slider-offset\"></div></div></div></div>',m='.iris-picker{display:block;position:relative}.iris-picker,.iris-picker *{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input+.iris-picker{margin-top:4px}.iris-error{background-color:#ffafaf}.iris-border{border-radius:3px;border:1px solid #aaa;width:200px;background-color:#fff}.iris-picker-inner{position:absolute;top:0;right:0;left:0;bottom:0}.iris-border .iris-picker-inner{top:10px;right:10px;left:10px;bottom:10px}.iris-picker .iris-square-inner{position:absolute;left:0;right:0;top:0;bottom:0}.iris-picker .iris-square,.iris-picker .iris-slider,.iris-picker .iris-square-inner,.iris-picker .iris-palette{border-radius:3px;box-shadow:inset 0 0 5px rgba(0,0,0,.4);height:100%;width:12.5%;float:left;margin-right:5%}.iris-picker .iris-square{width:76%;margin-right:10%;position:relative}.iris-picker .iris-square-inner{width:auto;margin:0}.iris-ie-9 .iris-square,.iris-ie-9 .iris-slider,.iris-ie-9 .iris-square-inner,.iris-ie-9 .iris-palette{box-shadow:none;border-radius:0}.iris-ie-9 .iris-square,.iris-ie-9 .iris-slider,.iris-ie-9 .iris-palette{outline:1px solid rgba(0,0,0,.1)}.iris-ie-lt9 .iris-square,.iris-ie-lt9 .iris-slider,.iris-ie-lt9 .iris-square-inner,.iris-ie-lt9 .iris-palette{outline:1px solid #aaa}.iris-ie-lt9 .iris-square .ui-slider-handle{outline:1px solid #aaa;background-color:#fff;-ms-filter:\"alpha(Opacity=30)\"}.iris-ie-lt9 .iris-square .iris-square-handle{background:0;border:3px solid #fff;-ms-filter:\"alpha(Opacity=50)\"}.iris-picker .iris-strip{margin-right:0;position:relative}.iris-picker .iris-strip .ui-slider-handle{position:absolute;background:0;margin:0;right:-3px;left:-3px;border:4px solid #aaa;border-width:4px 3px;width:auto;height:6px;border-radius:4px;box-shadow:0 1px 2px rgba(0,0,0,.2);opacity:.9;z-index:5;cursor:ns-resize}.iris-strip .ui-slider-handle:before{content:\" \";position:absolute;left:-2px;right:-2px;top:-3px;bottom:-3px;border:2px solid #fff;border-radius:3px}.iris-picker .iris-slider-offset{position:absolute;top:11px;left:0;right:0;bottom:-3px;width:auto;height:auto;background:transparent;border:0;border-radius:0}.iris-picker .iris-square-handle{background:transparent;border:5px solid #aaa;border-radius:50%;border-color:rgba(128,128,128,.5);box-shadow:none;width:12px;height:12px;position:absolute;left:-10px;top:-10px;cursor:move;opacity:1;z-index:10}.iris-picker .ui-state-focus .iris-square-handle{opacity:.8}.iris-picker .iris-square-handle:hover{border-color:#999}.iris-picker .iris-square-value:focus .iris-square-handle{box-shadow:0 0 2px rgba(0,0,0,.75);opacity:.8}.iris-picker .iris-square-handle:hover::after{border-color:#fff}.iris-picker .iris-square-handle::after{position:absolute;bottom:-4px;right:-4px;left:-4px;top:-4px;border:3px solid #f9f9f9;border-color:rgba(255,255,255,.8);border-radius:50%;content:\" \"}.iris-picker .iris-square-value{width:8px;height:8px;position:absolute}.iris-ie-lt9 .iris-square-value,.iris-mozilla .iris-square-value{width:1px;height:1px}.iris-palette-container{position:absolute;bottom:0;left:0;margin:0;padding:0}.iris-border .iris-palette-container{left:10px;bottom:10px}.iris-picker .iris-palette{margin:0;cursor:pointer}.iris-square-handle,.ui-slider-handle{border:0;outline:0}',o=navigator.userAgent.toLowerCase(),p=\"Microsoft Internet Explorer\"===navigator.appName,q=p?parseFloat(o.match(/msie ([0-9]{1,}[\\.0-9]{0,})/)[1]):0,j=p&&10>q,k=!1,l=[\"-moz-\",\"-webkit-\",\"-o-\",\"-ms-\"],j&&7>=q?(a.fn.iris=a.noop,a.support.iris=!1,void 0):(a.support.iris=!0,a.fn.gradient=function(){var b=arguments;return this.each(function(){j?e.apply(this,b):a(this).css(\"backgroundImage\",d.apply(this,b))})},a.fn.raninbowGradient=function(b,c){var d,e,f,g;for(b=b||\"top\",d=a.extend({},{s:100,l:50},c),e=\"hsl(%h%,\"+d.s+\"%,\"+d.l+\"%)\",f=0,g=[];360>=f;)g.push(e.replace(\"%h%\",f)),f+=30;return this.each(function(){a(this).gradient(b,g)})},n={options:{color:!1,mode:\"hsl\",controls:{horiz:\"s\",vert:\"l\",strip:\"h\"},hide:!0,border:!0,target:!1,width:200,palettes:!1},_color:\"\",_palettes:[\"#000\",\"#fff\",\"#d33\",\"#d93\",\"#ee2\",\"#81d742\",\"#1e73be\",\"#8224e3\"],_inited:!1,_defaultHSLControls:{horiz:\"s\",vert:\"l\",strip:\"h\"},_defaultHSVControls:{horiz:\"h\",vert:\"v\",strip:\"s\"},_scale:{h:360,s:100,l:100,v:100},_create:function(){var b=this,d=b.element,e=b.options.color||d.val();k===!1&&c(),d.is(\"input\")?(b.picker=b.options.target?a(i).appendTo(b.options.target):a(i).insertAfter(d),b._addInputListeners(d)):(d.append(i),b.picker=d.find(\".iris-picker\")),p?9===q?b.picker.addClass(\"iris-ie-9\"):8>=q&&b.picker.addClass(\"iris-ie-lt9\"):o.indexOf(\"compatible\")<0&&o.indexOf(\"khtml\")<0&&o.match(/mozilla/)&&b.picker.addClass(\"iris-mozilla\"),b.options.palettes&&b._addPalettes(),b._color=new Color(e).setHSpace(b.options.mode),b.options.color=b._color.toString(),b.controls={square:b.picker.find(\".iris-square\"),squareDrag:b.picker.find(\".iris-square-value\"),horiz:b.picker.find(\".iris-square-horiz\"),vert:b.picker.find(\".iris-square-vert\"),strip:b.picker.find(\".iris-strip\"),stripSlider:b.picker.find(\".iris-strip .iris-slider-offset\")},\"hsv\"===b.options.mode&&b._has(\"l\",b.options.controls)?b.options.controls=b._defaultHSVControls:\"hsl\"===b.options.mode&&b._has(\"v\",b.options.controls)&&(b.options.controls=b._defaultHSLControls),b.hue=b._color.h(),b.options.hide&&b.picker.hide(),b.options.border&&b.picker.addClass(\"iris-border\"),b._initControls(),b.active=\"external\",b._dimensions(),b._change()},_has:function(b,c){var d=!1;return a.each(c,function(a,c){return b===c?(d=!0,!1):void 0}),d},_addPalettes:function(){var b=a('<div class=\"iris-palette-container\" />'),c=a('<a class=\"iris-palette\" tabindex=\"0\" />'),d=a.isArray(this.options.palettes)?this.options.palettes:this._palettes;this.picker.find(\".iris-palette-container\").length&&(b=this.picker.find(\".iris-palette-container\").detach().html(\"\")),a.each(d,function(a,d){c.clone().data(\"color\",d).css(\"backgroundColor\",d).appendTo(b).height(10).width(10)}),this.picker.append(b)},_paint:function(){var a=this;a._paintDimension(\"top\",\"strip\"),a._paintDimension(\"top\",\"vert\"),a._paintDimension(\"left\",\"horiz\")},_paintDimension:function(a,b){var c,d=this,e=d._color,f=d.options.mode,g=d._getHSpaceColor(),h=d.controls[b],i=d.options.controls;if(b!==d.active&&(\"square\"!==d.active||\"strip\"===b))switch(i[b]){case\"h\":if(\"hsv\"===f){switch(g=e.clone(),b){case\"horiz\":g[i.vert](100);break;case\"vert\":g[i.horiz](100);break;case\"strip\":g.setHSpace(\"hsl\")}c=g.toHsl()}else c=\"strip\"===b?{s:g.s,l:g.l}:{s:100,l:g.l};h.raninbowGradient(a,c);break;case\"s\":\"hsv\"===f?\"vert\"===b?c=[e.clone().a(0).s(0).toCSS(\"rgba\"),e.clone().a(1).s(0).toCSS(\"rgba\")]:\"strip\"===b?c=[e.clone().s(100).toCSS(\"hsl\"),e.clone().s(0).toCSS(\"hsl\")]:\"horiz\"===b&&(c=[\"#fff\",\"hsl(\"+g.h+\",100%,50%)\"]):c=\"vert\"===b&&\"h\"===d.options.controls.horiz?[\"hsla(0, 0%, \"+g.l+\"%, 0)\",\"hsla(0, 0%, \"+g.l+\"%, 1)\"]:[\"hsl(\"+g.h+\",0%,50%)\",\"hsl(\"+g.h+\",100%,50%)\"],h.gradient(a,c);break;case\"l\":c=\"strip\"===b?[\"hsl(\"+g.h+\",100%,100%)\",\"hsl(\"+g.h+\", \"+g.s+\"%,50%)\",\"hsl(\"+g.h+\",100%,0%)\"]:[\"#fff\",\"rgba(255,255,255,0) 50%\",\"rgba(0,0,0,0) 50%\",\"rgba(0,0,0,1)\"],h.gradient(a,c);break;case\"v\":c=\"strip\"===b?[e.clone().v(100).toCSS(),e.clone().v(0).toCSS()]:[\"rgba(0,0,0,0)\",\"#000\"],h.gradient(a,c)}},_getHSpaceColor:function(){return\"hsv\"===this.options.mode?this._color.toHsv():this._color.toHsl()},_dimensions:function(b){var c,d,e,f,g=this,h=g.options,i=g.controls,j=i.square,k=g.picker.find(\".iris-strip\"),l=\"77.5%\",m=\"12%\",n=20,o=h.border?h.width-n:h.width,p=a.isArray(h.palettes)?h.palettes.length:g._palettes.length;return b&&(j.css(\"width\",\"\"),k.css(\"width\",\"\"),g.picker.css({width:\"\",height:\"\"})),l=o*(parseFloat(l)/100),m=o*(parseFloat(m)/100),c=h.border?l+n:l,j.width(l).height(l),k.height(l).width(m),g.picker.css({width:h.width,height:c}),h.palettes?(d=2*l/100,f=l-(p-1)*d,e=f/p,g.picker.find(\".iris-palette\").each(function(b){var c=0===b?0:d;a(this).css({width:e,height:e,marginLeft:c})}),g.picker.css(\"paddingBottom\",e+d),k.height(e+d+l),void 0):g.picker.css(\"paddingBottom\",\"\")},_addInputListeners:function(a){var b=this,c=100,d=function(c){var d=new Color(a.val()),e=a.val().replace(/^#/,\"\");a.removeClass(\"iris-error\"),d.error?\"\"!==e&&a.addClass(\"iris-error\"):d.toString()!==b._color.toString()&&(\"keyup\"===c.type&&e.match(/^[0-9a-fA-F]{3}$/)||b._setOption(\"color\",d.toString()))};a.on(\"change\",d).on(\"keyup\",b._debounce(d,c)),b.options.hide&&a.one(\"focus\",function(){b.show()})},_initControls:function(){var b=this,c=b.controls,d=c.square,e=b.options.controls,f=b._scale[e.strip];c.stripSlider.slider({orientation:\"vertical\",max:f,slide:function(a,c){b.active=\"strip\",\"h\"===e.strip&&(c.value=f-c.value),b._color[e.strip](c.value),b._change.apply(b,arguments)}}),c.squareDrag.draggable({containment:c.square.find(\".iris-square-inner\"),zIndex:1e3,cursor:\"move\",drag:function(a,c){b._squareDrag(a,c)},start:function(){d.addClass(\"iris-dragging\"),a(this).addClass(\"ui-state-focus\")},stop:function(){d.removeClass(\"iris-dragging\"),a(this).removeClass(\"ui-state-focus\")}}).on(\"mousedown mouseup\",function(c){var d=\"ui-state-focus\";c.preventDefault(),\"mousedown\"===c.type?(b.picker.find(\".\"+d).removeClass(d).blur(),a(this).addClass(d).focus()):a(this).removeClass(d)}).on(\"keydown\",function(a){var d=c.square,e=c.squareDrag,f=e.position(),g=b.options.width/100;switch(a.altKey&&(g*=10),a.keyCode){case 37:f.left-=g;break;case 38:f.top-=g;break;case 39:f.left+=g;break;case 40:f.top+=g;break;default:return!0}f.left=Math.max(0,Math.min(f.left,d.width())),f.top=Math.max(0,Math.min(f.top,d.height())),e.css(f),b._squareDrag(a,{position:f}),a.preventDefault()}),d.mousedown(function(c){var d,e;1===c.which&&a(c.target).is(\"div\")&&(d=b.controls.square.offset(),e={top:c.pageY-d.top,left:c.pageX-d.left},c.preventDefault(),b._squareDrag(c,{position:e}),c.target=b.controls.squareDrag.get(0),b.controls.squareDrag.css(e).trigger(c))}),b.options.palettes&&b._paletteListeners()},_paletteListeners:function(){var b=this;b.picker.find(\".iris-palette-container\").on(\"click.palette\",\".iris-palette\",function(){b._color.fromCSS(a(this).data(\"color\")),b.active=\"external\",b._change()}).on(\"keydown.palette\",\".iris-palette\",function(b){return 13!==b.keyCode&&32!==b.keyCode?!0:(b.stopPropagation(),a(this).click(),void 0)})},_squareDrag:function(a,b){var c=this,d=c.options.controls,e=c._squareDimensions(),f=Math.round((e.h-b.position.top)/e.h*c._scale[d.vert]),g=c._scale[d.horiz]-Math.round((e.w-b.position.left)/e.w*c._scale[d.horiz]);c._color[d.horiz](g)[d.vert](f),c.active=\"square\",c._change.apply(c,arguments)},_setOption:function(b,c){var d,e,f,g=this,h=g.options[b],i=!1;switch(g.options[b]=c,b){case\"color\":c=\"\"+c,d=c.replace(/^#/,\"\"),e=new Color(c).setHSpace(g.options.mode),e.error?g.options[b]=h:(g._color=e,g.options.color=g.options[b]=g._color.toString(),g.active=\"external\",g._change());break;case\"palettes\":i=!0,c?g._addPalettes():g.picker.find(\".iris-palette-container\").remove(),h||g._paletteListeners();break;case\"width\":i=!0;break;case\"border\":i=!0,f=c?\"addClass\":\"removeClass\",g.picker[f](\"iris-border\");break;case\"mode\":case\"controls\":if(h===c)return;return f=g.element,h=g.options,h.hide=!g.picker.is(\":visible\"),g.destroy(),g.picker.remove(),a(g.element).iris(h)}i&&g._dimensions(!0)},_squareDimensions:function(a){var c,d,e=this.controls.square;return a!==b&&e.data(\"dimensions\")?e.data(\"dimensions\"):(d=this.controls.squareDrag,c={w:e.width(),h:e.height()},e.data(\"dimensions\",c),c)},_isNonHueControl:function(a,b){return\"square\"===a&&\"h\"===this.options.controls.strip?!0:\"external\"===b||\"h\"===b&&\"strip\"===a?!1:!0},_change:function(){var b=this,c=b.controls,d=b._getHSpaceColor(),e=[\"square\",\"strip\"],f=b.options.controls,g=f[b.active]||\"external\",h=b.hue;\"strip\"===b.active?e=[]:\"external\"!==b.active&&e.pop(),a.each(e,function(a,e){var g,h,i;if(e!==b.active)switch(e){case\"strip\":g=\"h\"===f.strip?b._scale[f.strip]-d[f.strip]:d[f.strip],c.stripSlider.slider(\"value\",g);break;case\"square\":h=b._squareDimensions(),i={left:d[f.horiz]/b._scale[f.horiz]*h.w,top:h.h-d[f.vert]/b._scale[f.vert]*h.h},b.controls.squareDrag.css(i)}}),d.h!==h&&b._isNonHueControl(b.active,g)&&b._color.h(h),b.hue=b._color.h(),b.options.color=b._color.toString(),b._inited&&b._trigger(\"change\",{type:b.active},{color:b._color}),b.element.is(\":input\")&&!b._color.error&&(b.element.removeClass(\"iris-error\"),b.element.val()!==b._color.toString()&&b.element.val(b._color.toString())),b._paint(),b._inited=!0,b.active=!1},_debounce:function(a,b,c){var d,e;return function(){var f,g,h=this,i=arguments;return f=function(){d=null,c||(e=a.apply(h,i))},g=c&&!d,clearTimeout(d),d=setTimeout(f,b),g&&(e=a.apply(h,i)),e}},show:function(){this.picker.show()},hide:function(){this.picker.hide()},toggle:function(){this.picker.toggle()},color:function(a){return a===!0?this._color.clone():a===b?this._color.toString():(this.option(\"color\",a),void 0)}},a.widget(\"a8c.iris\",n),a('<style id=\"iris-css\">'+m+\"</style>\").appendTo(\"head\"),void 0)}(jQuery),function(a,b){var c=function(a,b){return this instanceof c?this._init(a,b):new c(a,b)};c.fn=c.prototype={_color:0,_alpha:1,error:!1,_hsl:{h:0,s:0,l:0},_hsv:{h:0,s:0,v:0},_hSpace:\"hsl\",_init:function(a){var c=\"noop\";switch(typeof a){case\"object\":return a.a!==b&&this.a(a.a),c=a.r!==b?\"fromRgb\":a.l!==b?\"fromHsl\":a.v!==b?\"fromHsv\":c,this[c](a);case\"string\":return this.fromCSS(a);case\"number\":return this.fromInt(parseInt(a,10))}return this},_error:function(){return this.error=!0,this},clone:function(){for(var a=new c(this.toInt()),b=[\"_alpha\",\"_hSpace\",\"_hsl\",\"_hsv\",\"error\"],d=b.length-1;d>=0;d--)a[b[d]]=this[b[d]];return a},setHSpace:function(a){return this._hSpace=\"hsv\"===a?a:\"hsl\",this},noop:function(){return this},fromCSS:function(a){var b,c=/^(rgb|hs(l|v))a?\\(/;if(this.error=!1,a=a.replace(/^\\s+/,\"\").replace(/\\s+$/,\"\").replace(/;$/,\"\"),a.match(c)&&a.match(/\\)$/)){if(b=a.replace(/(\\s|%)/g,\"\").replace(c,\"\").replace(/,?\\);?$/,\"\").split(\",\"),b.length<3)return this._error();if(4===b.length&&(this.a(parseFloat(b.pop())),this.error))return this;for(var d=b.length-1;d>=0;d--)if(b[d]=parseInt(b[d],10),isNaN(b[d]))return this._error();return a.match(/^rgb/)?this.fromRgb({r:b[0],g:b[1],b:b[2]}):a.match(/^hsv/)?this.fromHsv({h:b[0],s:b[1],v:b[2]}):this.fromHsl({h:b[0],s:b[1],l:b[2]})}return this.fromHex(a)},fromRgb:function(a,c){return\"object\"!=typeof a||a.r===b||a.g===b||a.b===b?this._error():(this.error=!1,this.fromInt(parseInt((a.r<<16)+(a.g<<8)+a.b,10),c))},fromHex:function(a){return a=a.replace(/^#/,\"\").replace(/^0x/,\"\"),3===a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),this.error=!/^[0-9A-F]{6}$/i.test(a),this.fromInt(parseInt(a,16))},fromHsl:function(a){var c,d,e,f,g,h,i,j;return\"object\"!=typeof a||a.h===b||a.s===b||a.l===b?this._error():(this._hsl=a,this._hSpace=\"hsl\",h=a.h/360,i=a.s/100,j=a.l/100,0===i?c=d=e=j:(f=.5>j?j*(1+i):j+i-j*i,g=2*j-f,c=this.hue2rgb(g,f,h+1/3),d=this.hue2rgb(g,f,h),e=this.hue2rgb(g,f,h-1/3)),this.fromRgb({r:255*c,g:255*d,b:255*e},!0))},fromHsv:function(a){var c,d,e,f,g,h,i,j,k,l,m;if(\"object\"!=typeof a||a.h===b||a.s===b||a.v===b)return this._error();switch(this._hsv=a,this._hSpace=\"hsv\",c=a.h/360,d=a.s/100,e=a.v/100,i=Math.floor(6*c),j=6*c-i,k=e*(1-d),l=e*(1-j*d),m=e*(1-(1-j)*d),i%6){case 0:f=e,g=m,h=k;break;case 1:f=l,g=e,h=k;break;case 2:f=k,g=e,h=m;break;case 3:f=k,g=l,h=e;break;case 4:f=m,g=k,h=e;break;case 5:f=e,g=k,h=l}return this.fromRgb({r:255*f,g:255*g,b:255*h},!0)},fromInt:function(a,c){return this._color=parseInt(a,10),isNaN(this._color)&&(this._color=0),this._color>16777215?this._color=16777215:this._color<0&&(this._color=0),c===b&&(this._hsv.h=this._hsv.s=this._hsl.h=this._hsl.s=0),this},hue2rgb:function(a,b,c){return 0>c&&(c+=1),c>1&&(c-=1),1/6>c?a+6*(b-a)*c:.5>c?b:2/3>c?a+6*(b-a)*(2/3-c):a},toString:function(){var a=parseInt(this._color,10).toString(16);if(this.error)return\"\";if(a.length<6)for(var b=6-a.length-1;b>=0;b--)a=\"0\"+a;return\"#\"+a},toCSS:function(a,b){switch(a=a||\"hex\",b=parseFloat(b||this._alpha),a){case\"rgb\":case\"rgba\":var c=this.toRgb();return 1>b?\"rgba( \"+c.r+\", \"+c.g+\", \"+c.b+\", \"+b+\" )\":\"rgb( \"+c.r+\", \"+c.g+\", \"+c.b+\" )\";case\"hsl\":case\"hsla\":var d=this.toHsl();return 1>b?\"hsla( \"+d.h+\", \"+d.s+\"%, \"+d.l+\"%, \"+b+\" )\":\"hsl( \"+d.h+\", \"+d.s+\"%, \"+d.l+\"% )\";default:return this.toString()}},toRgb:function(){return{r:255&this._color>>16,g:255&this._color>>8,b:255&this._color}},toHsl:function(){var a,b,c=this.toRgb(),d=c.r/255,e=c.g/255,f=c.b/255,g=Math.max(d,e,f),h=Math.min(d,e,f),i=(g+h)/2;if(g===h)a=b=0;else{var j=g-h;switch(b=i>.5?j/(2-g-h):j/(g+h),g){case d:a=(e-f)/j+(f>e?6:0);break;case e:a=(f-d)/j+2;break;case f:a=(d-e)/j+4}a/=6}return a=Math.round(360*a),0===a&&this._hsl.h!==a&&(a=this._hsl.h),b=Math.round(100*b),0===b&&this._hsl.s&&(b=this._hsl.s),{h:a,s:b,l:Math.round(100*i)}},toHsv:function(){var a,b,c=this.toRgb(),d=c.r/255,e=c.g/255,f=c.b/255,g=Math.max(d,e,f),h=Math.min(d,e,f),i=g,j=g-h;if(b=0===g?0:j/g,g===h)a=b=0;else{switch(g){case d:a=(e-f)/j+(f>e?6:0);break;case e:a=(f-d)/j+2;break;case f:a=(d-e)/j+4}a/=6}return a=Math.round(360*a),0===a&&this._hsv.h!==a&&(a=this._hsv.h),b=Math.round(100*b),0===b&&this._hsv.s&&(b=this._hsv.s),{h:a,s:b,v:Math.round(100*i)}},toInt:function(){return this._color},toIEOctoHex:function(){var a=this.toString(),b=parseInt(255*this._alpha,10).toString(16);return 1===b.length&&(b=\"0\"+b),\"#\"+b+a.replace(/^#/,\"\")},toLuminosity:function(){var a=this.toRgb();return.2126*Math.pow(a.r/255,2.2)+.7152*Math.pow(a.g/255,2.2)+.0722*Math.pow(a.b/255,2.2)},getDistanceLuminosityFrom:function(a){if(!(a instanceof c))throw\"getDistanceLuminosityFrom requires a Color object\";var b=this.toLuminosity(),d=a.toLuminosity();return b>d?(b+.05)/(d+.05):(d+.05)/(b+.05)},getMaxContrastColor:function(){var a=this.toLuminosity(),b=a>=.5?\"000000\":\"ffffff\";return new c(b)},getReadableContrastingColor:function(a,d){if(!a instanceof c)return this;var e=d===b?5:d,f=a.getDistanceLuminosityFrom(this),g=a.getMaxContrastColor(),h=g.getDistanceLuminosityFrom(a);if(e>=h)return g;if(f>=e)return this;for(var i=0===g.toInt()?-1:1;e>f&&(this.l(i,!0),f=this.getDistanceLuminosityFrom(a),0!==this._color&&16777215!==this._color););return this},a:function(a){if(a===b)return this._alpha;var c=parseFloat(a);return isNaN(c)?this._error():(this._alpha=c,this)},darken:function(a){return a=a||5,this.l(-a,!0)},lighten:function(a){return a=a||5,this.l(a,!0)},saturate:function(a){return a=a||15,this.s(a,!0)},desaturate:function(a){return a=a||15,this.s(-a,!0)},toGrayscale:function(){return this.setHSpace(\"hsl\").s(0)},getComplement:function(){return this.h(180,!0)},getSplitComplement:function(a){a=a||1;var b=180+30*a;return this.h(b,!0)},getAnalog:function(a){a=a||1;var b=30*a;return this.h(b,!0)},getTetrad:function(a){a=a||1;var b=60*a;return this.h(b,!0)},getTriad:function(a){a=a||1;var b=120*a;return this.h(b,!0)},_partial:function(a){var c=d[a];return function(d,e){var f=this._spaceFunc(\"to\",c.space);return d===b?f[a]:(e===!0&&(d=f[a]+d),c.mod&&(d%=c.mod),c.range&&(d=d<c.range[0]?c.range[0]:d>c.range[1]?c.range[1]:d),f[a]=d,this._spaceFunc(\"from\",c.space,f))}},_spaceFunc:function(a,b,c){var d=b||this._hSpace,e=a+d.charAt(0).toUpperCase()+d.substr(1);return this[e](c)}};var d={h:{mod:360},s:{range:[0,100]},l:{space:\"hsl\",range:[0,100]},v:{space:\"hsv\",range:[0,100]},r:{space:\"rgb\",range:[0,255]},g:{space:\"rgb\",range:[0,255]},b:{space:\"rgb\",range:[0,255]}};for(var e in d)d.hasOwnProperty(e)&&(c.fn[e]=c.fn._partial(e));\"object\"==typeof exports?module.exports=c:a.Color=c}(this);","Magento_ProductVideo/js/new-video-dialog.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'underscore',\n    'jquery/ui',\n    'Magento_Ui/js/modal/modal',\n    'mage/translate',\n    'mage/backend/tree-suggest',\n    'mage/backend/validation',\n    'Magento_ProductVideo/js/get-video-information'\n], function ($, _) {\n    'use strict';\n\n    $.widget('mage.createVideoPlayer', {\n        options: {\n            videoId: '',\n            videoProvider: '',\n            container: '.video-player-container',\n            videoClass: 'product-video',\n            reset: false,\n            useYoutubeNocookie: false,\n            metaData: {\n                DOM: {\n                    title: '.video-information.title span',\n                    uploaded: '.video-information.uploaded span',\n                    uploader: '.video-information.uploader span',\n                    duration: '.video-information.duration span',\n                    all: '.video-information span',\n                    wrapper: '.video-information'\n                },\n                data: {\n                    title: '',\n                    uploaded: '',\n                    uploader: '',\n                    uploaderUrl: '',\n                    duration: ''\n                }\n            }\n        },\n\n        _FINISH_CREATE_VIDEO_TRIGGER: 'finish_create_video',\n\n        _FINISH_UPDATE_VIDEO_TRIGGER: 'finish_update_video',\n\n        /**\n         * @private\n         */\n        _init: function () {\n            if (this.options.reset) {\n                this.reset();\n            } else {\n                this.update();\n            }\n\n            this.element.on('reset', $.proxy(this.reset, this));\n\n        },\n\n        /**\n         * @returns {Boolean}\n         */\n        update: function () {\n            var checkVideoID = this.element.find(this.options.container).find(\n                    '.' + this.options.videoClass\n                ).data('code'),\n                eventVideoData = {\n                    oldVideoId: checkVideoID ? checkVideoID.toString() : checkVideoID,\n                    newVideoId: this.options.videoId ? this.options.videoId.toString() : this.options.videoId\n                };\n\n            if (checkVideoID && checkVideoID !== this.options.videoId) {\n                this._doUpdate();\n                this.element.trigger(this._FINISH_UPDATE_VIDEO_TRIGGER, eventVideoData);\n            } else if (checkVideoID && checkVideoID === this.options.videoId) {\n                return false;\n            } else if (!checkVideoID) {\n                this._doUpdate();\n                this.element.trigger(this._FINISH_CREATE_VIDEO_TRIGGER, eventVideoData);\n            }\n\n        },\n\n        /**\n         * @private\n         */\n        _doUpdate: function () {\n            var uploaderLinkUrl,\n                uploaderLink;\n\n            this.reset();\n            this.element.find(this.options.container).append(\n                '<div class=\"' +\n                this.options.videoClass +\n                '\" data-type=\"' +\n                this.options.videoProvider +\n                '\" data-code=\"' +\n                this.options.videoId +\n                '\" data-youtubenocookie=\"' +\n                this.options.useYoutubeNocookie +\n                '\" data-width=\"100%\" data-height=\"100%\"></div>'\n            );\n            this.element.find(this.options.metaData.DOM.wrapper).show();\n            this.element.find(this.options.metaData.DOM.title).text(this.options.metaData.data.title);\n            this.element.find(this.options.metaData.DOM.uploaded).text(this.options.metaData.data.uploaded);\n            this.element.find(this.options.metaData.DOM.duration).text(this.options.metaData.data.duration);\n\n            if (this.options.videoProvider === 'youtube') {\n                uploaderLinkUrl = 'https://youtube.com/channel/' + this.options.metaData.data.uploaderUrl;\n            } else if (this.options.videoProvider === 'vimeo') {\n                uploaderLinkUrl = this.options.metaData.data.uploaderUrl;\n            }\n            uploaderLink = document.createElement('a');\n            uploaderLink.setAttribute('href', uploaderLinkUrl);\n            uploaderLink.setAttribute('target', '_blank');\n            uploaderLink.innerText = this.options.metaData.data.uploader;\n            this.element.find(this.options.metaData.DOM.uploader)[0].appendChild(uploaderLink);\n            this.element.find('.' + this.options.videoClass).productVideoLoader();\n\n        },\n\n        /**\n         * Reset\n         */\n        reset: function () {\n            this.element.find(this.options.container).find('.' + this.options.videoClass).remove();\n            this.element.find(this.options.metaData.DOM.wrapper).hide();\n            this.element.find(this.options.metaData.DOM.all).text('');\n\n        }\n    });\n\n    $.widget('mage.updateInputFields', {\n        options: {\n            reset: false,\n            DOM: {\n                urlField: 'input[name=\"video_url\"]',\n                titleField: 'input[name=\"video_title\"]',\n                fileField: '#file_name',\n                descriptionField: 'textarea[name=\"video_description\"]',\n                thumbnailLocation: '.field-new_video_screenshot_preview .admin__field-control'\n            },\n            data: {\n                url: '',\n                title: '',\n                description: '',\n                thumbnail: ''\n            }\n        },\n\n        /**\n         * @private\n         */\n        _init: function () {\n            if (this.options.reset) {\n                this.reset();\n            } else {\n                this.update();\n            }\n        },\n\n        /**\n         * Update\n         */\n        update: function () {\n            $(this.options.DOM.titleField).val(this.options.data.title);\n            $(this.options.DOM.descriptionField).val(this.options.data.description);\n        },\n\n        /**\n         * Reset\n         */\n        reset: function () {\n            $(this.options.DOM.fileField).val('');\n            $(this.options.DOM.urlField).val('');\n            $(this.options.DOM.titleField).val('');\n            $(this.options.DOM.descriptionField).val('');\n        }\n    });\n\n    /**\n     */\n    $.widget('mage.newVideoDialog', {\n\n        _previewImage: null,\n\n        clickedElement: '',\n\n        _images: {},\n\n        _imageTypes: [\n            '.jpeg',\n            '.pjpeg',\n            '.jpeg',\n            '.jpg',\n            '.pjpeg',\n            '.png',\n            '.gif'\n        ],\n\n        _imageProductGalleryWrapperSelector: '#image-container',\n\n        _videoPreviewInputSelector: '#new_video_screenshot',\n\n        _videoPreviewRemoteSelector: '',\n\n        _videoDisableinputSelector: '#new_video_disabled',\n\n        _videoPreviewImagePointer: '#new_video_screenshot_preview',\n\n        _videoFormSelector: '#new_video_form',\n\n        _itemIdSelector: '#item_id',\n\n        _videoUrlSelector: '[name=\"video_url\"]',\n\n        _videoImageFilenameselector: '#file_name',\n\n        _videoUrlWidget: null,\n\n        _videoInformationBtnSelector: '[name=\"new_video_get\"]',\n\n        _editVideoBtnSelector: '.image',\n\n        _deleteGalleryVideoSelector: '[data-role=delete-button]',\n\n        _deleteGalleryVideoSelectorBtn: null,\n\n        _videoInformationGetBtn: null,\n\n        _videoInformationGetUrlField: null,\n\n        _videoInformationGetEditBtn: null,\n\n        _isEditPage: false,\n\n        _onlyVideoPlayer: false,\n\n        _tempPreviewImageData: null,\n\n        _videoPlayerSelector: '.mage-new-video-dialog',\n\n        _videoRequestComplete: null,\n\n        _gallery: null,\n\n        /**\n         * Bind events\n         * @private\n         */\n        _bind: function () {\n            var events = {\n                'setImage': '_onSetImage'\n            };\n\n            this._on(events);\n\n            this._videoUrlWidget = this.element.find(this._videoUrlSelector).videoData({\n                youtubeKey: this.options.youTubeApiKey,\n                eventSource: 'focusout'\n            });\n\n            this._videoInformationGetBtn = this.element.find(this._videoInformationBtnSelector);\n            this._videoInformationGetUrlField = this.element.find(this._videoUrlSelector);\n            this._videoInformationGetEditBtn = this._gallery.find(this._editVideoBtnSelector);\n\n            this._videoInformationGetBtn.on('click', $.proxy(this._onGetVideoInformationClick, this));\n            this._videoInformationGetUrlField.on('focusout', $.proxy(this._onGetVideoInformationFocusOut, this));\n\n            this._videoUrlWidget.on('updated_video_information', $.proxy(this._onGetVideoInformationSuccess, this));\n            this._videoUrlWidget.on('error_updated_information', $.proxy(this._onGetVideoInformationError, this));\n            this._videoUrlWidget.on(\n                'request_video_information',\n                $.proxy(this._onGetVideoInformationStartRequest, this)\n            );\n        },\n\n        /**\n         * Fired when user click on button \"Get video information\"\n         * @private\n         */\n        _onGetVideoInformationClick: function () {\n            this._onlyVideoPlayer = false;\n            this._isEditPage = false;\n            this._videoUrlWidget.trigger('update_video_information');\n        },\n\n        /**\n         * Fired when user do focus out from url field\n         * @private\n         */\n        _onGetVideoInformationFocusOut: function () {\n            this._videoUrlWidget.trigger('update_video_information');\n        },\n\n        /**\n         * @private\n         */\n        _onGetVideoInformationStartRequest: function () {\n            this._videoRequestComplete = false;\n        },\n\n        /**\n         * Fired when user click Edit Video button\n         * @private\n         */\n        _onGetVideoInformationEditClick: function () {\n            this._onlyVideoPlayer = true;\n            this._isEditPage = true;\n            this._videoUrlWidget.trigger('update_video_information');\n        },\n\n        /**\n         * Fired when successfully received information about the video.\n         * @param {Object} e\n         * @param {Object} data\n         * @private\n         */\n        _onGetVideoInformationSuccess: function (e, data) {\n            var self = this;\n\n            self.element.on('finish_update_video finish_create_video', $.proxy(function (element, playerData) {\n                    if (!self._onlyVideoPlayer ||\n                        !self._isEditPage && playerData.oldVideoId !== playerData.newVideoId ||\n                        playerData.oldVideoId && playerData.oldVideoId !== playerData.newVideoId\n                    ) {\n                        self.element.updateInputFields({\n                            reset: false,\n                            data: {\n                                title: data.title,\n                                description: data.description\n                            }\n                        });\n                        this._loadRemotePreview(data.thumbnail);\n                    }\n                    self._onlyVideoPlayer = true;\n                }, this))\n                .createVideoPlayer({\n                    videoId: data.videoId,\n                    videoProvider: data.videoProvider,\n                    useYoutubeNocookie: data.useYoutubeNocookie,\n                    reset: false,\n                    metaData: {\n                        DOM: {\n                            title: '.video-information.title span',\n                            uploaded: '.video-information.uploaded span',\n                            uploader: '.video-information.uploader span',\n                            duration: '.video-information.duration span',\n                            all: '.video-information span',\n                            wrapper: '.video-information'\n                        },\n                        data: {\n                            title: data.title,\n                            uploaded: data.uploaded,\n                            uploader: data.channel,\n                            duration: data.duration,\n                            uploaderUrl: data.channelId\n                        }\n                    }\n                })\n                .off('finish_update_video finish_create_video');\n\n            this._videoRequestComplete = true;\n        },\n\n        /**\n         * Load preview from youtube/vimeo\n         * @param {String} sourceUrl\n         * @private\n         */\n        _loadRemotePreview: function (sourceUrl) {\n            var url = this.options.saveRemoteVideoUrl,\n                self = this;\n\n            this._getPreviewImage().attr('src', sourceUrl).hide();\n            this._blockActionButtons(true, true);\n            $.ajax({\n                url: url,\n                data: 'remote_image=' + sourceUrl,\n                type: 'post',\n                success: $.proxy(function (result) {\n                    this._tempPreviewImageData = result;\n                    this._getPreviewImage().attr('src', sourceUrl).show();\n                    this._blockActionButtons(false, true);\n                }, self)\n            });\n        },\n\n        /**\n         * Fired when receiving information about the video ended with error\n         * @private\n         */\n        _onGetVideoInformationError: function () {\n        },\n\n        /**\n         * Remove \".tmp\"\n         * @param {String} name\n         * @returns {*}\n         * @private\n         */\n        __prepareFilename: function (name) {\n            var tmppost = '.tmp';\n\n            if (!name) {\n                return name;\n            }\n\n            if (name.endsWith(tmppost)) {\n                name = name.slice(0, name.length - tmppost.length);\n            }\n\n            return name;\n        },\n\n        /**\n         * Set image data\n         * @param {String} file\n         * @param {Object} imageData\n         * @private\n         */\n        _setImage: function (file, imageData) {\n            file = this.__prepareFilename(file);\n            this._images[file] = imageData;\n            this._gallery.trigger('addItem', imageData);\n            this.element.trigger('setImage', imageData);\n            this._addVideoClass(imageData.url);\n        },\n\n        /**\n         * Get image data\n         *\n         * @param {String} file\n         * @returns {*}\n         * @private\n         */\n        _getImage: function (file) {\n            file = this.__prepareFilename(file);\n\n            return this._images[file];\n        },\n\n        /**\n         * Replace image (update)\n         * @param {String} oldFile\n         * @param {String} newFile\n         * @param {Object} imageData\n         * @private\n         */\n        _replaceImage: function (oldFile, newFile, imageData) {\n            var tmpNewFile = newFile,\n                tmpOldImage,\n                newImageId,\n                oldNewFilePosition,\n                fc,\n                suff,\n                searchsuff,\n                key,\n                oldValIdElem;\n\n            oldFile = this.__prepareFilename(oldFile);\n            newFile = this.__prepareFilename(newFile);\n            tmpOldImage = this._images[oldFile];\n\n            if (newFile === oldFile) {\n                this._images[newFile] = imageData;\n                this.saveImageRoles(imageData);\n                this._updateVisibility(imageData);\n                this._updateImageTitle(imageData);\n\n                return null;\n            }\n\n            this._removeImage(oldFile);\n            this._setImage(newFile, imageData);\n\n            if (!oldFile || !imageData.oldFile) {\n                return null;\n            }\n\n            newImageId = this.findElementId(tmpNewFile);\n            fc = this.element.find(this._itemIdSelector).val();\n\n            suff = 'product[media_gallery][images]' + fc;\n\n            searchsuff = 'input[name=\"' + suff + '[value_id]\"]';\n            key = this._gallery.find(searchsuff).val();\n\n            if (!key) {\n                return null;\n            }\n\n            oldValIdElem = document.createElement('input');\n            this._gallery.find('form[data-form=\"edit-product\"]').append(oldValIdElem);\n            $(oldValIdElem).attr({\n                type: 'hidden',\n                name: 'product[media_gallery][images][' + newImageId + '][save_data_from]'\n            }).val(key);\n\n            oldNewFilePosition = parseInt(tmpOldImage.position, 10);\n            imageData.position = oldNewFilePosition;\n\n            this._gallery.trigger('setPosition', {\n                imageData: imageData,\n                position: oldNewFilePosition\n            });\n        },\n\n        /**\n         * Remove image data\n         * @param {String} file\n         * @private\n         */\n        _removeImage: function (file) {\n            var imageData = this._getImage(file);\n\n            if (!imageData) {\n                return null;\n            }\n\n            this._gallery.trigger('removeItem', imageData);\n            this.element.trigger('removeImage', imageData);\n            delete this._images[file];\n        },\n\n        /**\n         * Fired when image setted\n         * @param {Event} event\n         * @param {Object} imageData\n         * @private\n         */\n        _onSetImage: function (event, imageData) {\n            this.saveImageRoles(imageData);\n        },\n\n        /**\n         *\n         * Wrap _uploadFile\n         * @param {String} file\n         * @param {String} oldFile\n         * @param {Function} callback\n         * @private\n         */\n        _uploadImage: function (file, oldFile, callback) {\n            var url = this.options.saveVideoUrl,\n                data = {\n                    files: file,\n                    url: url\n                };\n\n            this._blockActionButtons(true, true);\n            this._uploadFile(data, $.proxy(function (result) {\n                this._onImageLoaded(result, file, oldFile, callback);\n                this._blockActionButtons(false);\n            }, this));\n\n        },\n\n        /**\n         * @param {String} result\n         * @param {String} file\n         * @param {String} oldFile\n         * @param {Function} callback\n         * @private\n         */\n        _onImageLoaded: function (result, file, oldFile, callback) {\n            var data = JSON.parse(result);\n\n            if (this.element.find('#video_url').parent().find('.image-upload-error').length > 0) {\n                this.element.find('.image-upload-error').remove();\n            }\n\n            if (data.errorcode || data.error) {\n                this.element.find('#video_url').parent().append('<div class=\"image-upload-error\">' +\n                '<div class=\"image-upload-error-cross\"></div><span>' + data.error + '</span></div>');\n\n                return;\n            }\n            $.each(this.element.find(this._videoFormSelector).serializeArray(), function (i, field) {\n                data[field.name] = field.value;\n            });\n            data.disabled = this.element.find(this._videoDisableinputSelector).attr('checked') ? 1 : 0;\n            data['media_type'] = 'external-video';\n            data.oldFile = oldFile;\n\n            oldFile ?\n                this._replaceImage(oldFile, data.file, data) :\n                this._setImage(data.file, data);\n            callback.call(0, data);\n        },\n\n        /**\n         * File uploader\n         * @private\n         */\n        _uploadFile: function (data, callback) {\n            var fu = this.element.find(this._videoPreviewInputSelector),\n                tmpInput = document.createElement('input'),\n                fileUploader = null;\n\n            $(tmpInput).attr({\n                'name': fu.attr('name'),\n                'value': fu.val(),\n                'type': 'file',\n                'data-ui-ud': fu.attr('data-ui-ud')\n            }).css('display', 'none');\n            fu.parent().append(tmpInput);\n            fileUploader = $(tmpInput).fileupload();\n            fileUploader.fileupload('send', data).success(function (result, textStatus, jqXHR) {\n                tmpInput.remove();\n                callback.call(null, result, textStatus, jqXHR);\n            });\n        },\n\n        /**\n         * Update style\n         * @param {String} url\n         * @private\n         */\n        _addVideoClass: function (url) {\n            var classVideo = 'video-item';\n\n            this._gallery.find('img[src=\"' + url + '\"]').addClass(classVideo);\n        },\n\n        /**\n         * Build widget\n         * @private\n         */\n        _create: function () {\n            var imgs = _.values(this.element.closest(this.options.videoSelector).data('images')) || [],\n                widget,\n                uploader,\n                tmp,\n                i;\n\n            this._gallery =  this.element.closest(this.options.videoSelector);\n\n            for (i = 0; i < imgs.length; i++) {\n                tmp = imgs[i];\n                this._images[tmp.file] = tmp;\n\n                if (tmp['media_type'] === 'external-video') {\n                    tmp.subclass = 'video-item';\n                    this._addVideoClass(tmp.url);\n                }\n            }\n\n            this._gallery.on('openDialog', $.proxy(this._onOpenDialog, this));\n            this._bind();\n            this.createVideoItemIcons();\n            widget = this;\n            uploader = this.element.find(this._videoPreviewInputSelector);\n            uploader.on('change', this._onImageInputChange.bind(this));\n            uploader.attr('accept', this._imageTypes.join(','));\n\n            this.element.modal({\n                type: 'slide',\n                //appendTo: this._gallery,\n                modalClass: 'mage-new-video-dialog form-inline',\n                title: $.mage.__('New Video'),\n                buttons: [\n                    {\n                        text: $.mage.__('Save'),\n                        class: 'action-primary video-create-button',\n                        click: $.proxy(widget._onCreate, widget)\n                    },\n                    {\n                        text: $.mage.__('Cancel'),\n                        class: 'video-cancel-button',\n                        click: $.proxy(widget._onCancel, widget)\n                    },\n                    {\n                        text: $.mage.__('Delete'),\n                        class: 'video-delete-button',\n                        click: $.proxy(widget._onDelete, widget)\n                    },\n                    {\n                        text: $.mage.__('Save'),\n                        class: 'action-primary video-edit',\n                        click: $.proxy(widget._onUpdate, widget)\n                    }\n                ],\n\n                /**\n                 * @returns {null}\n                 */\n                opened: function () {\n                    var roles,\n                        file,\n                        modalTitleElement,\n                        imageData,\n                        modal = widget.element.closest('.mage-new-video-dialog');\n\n                    widget.element.find('#video_url').focus();\n                    roles = widget.element.find('.video_image_role');\n                    roles.prop('disabled', false);\n                    file = widget.element.find('#file_name').val();\n                    widget._onGetVideoInformationEditClick();\n                    modalTitleElement = modal.find('.modal-title');\n\n                    if (!file) {\n                        widget._blockActionButtons(true);\n\n                        modal.find('.video-delete-button').hide();\n                        modal.find('.video-edit').hide();\n                        modal.find('.video-create-button').show();\n                        roles.prop('checked', widget._gallery.find('.image.item:not(.removed)').length < 1);\n                        modalTitleElement.text($.mage.__('New Video'));\n                        widget._isEditPage = false;\n\n                        return null;\n                    }\n                    widget._blockActionButtons(false);\n                    modalTitleElement.text($.mage.__('Edit Video'));\n                    widget._isEditPage = true;\n                    imageData = widget._getImage(file);\n\n                    if (!imageData) {\n                        imageData = {\n                            url: _.find(widget._gallery.find('.product-image'), function (image) {\n                                return image.src.indexOf(file) > -1;\n                            }).src\n                        };\n                    }\n\n                    widget._onPreview(null, imageData.url, false);\n                },\n\n                /**\n                 * Closed\n                 */\n                closed: function () {\n                    widget._onClose();\n                    widget.createVideoItemIcons();\n                }\n            });\n            this.toggleButtons();\n        },\n\n        /**\n         * @param {String} status\n         * @private\n         */\n        _blockActionButtons: function (status) {\n            this.element\n                .closest('.mage-new-video-dialog')\n                .find('.page-actions-buttons button.video-create-button, .page-actions-buttons button.video-edit')\n                .attr('disabled', status);\n        },\n\n        /**\n         * Check form\n         * @param {Function} callback\n         */\n        isValid: function (callback) {\n            var videoForm = this.element.find(this._videoFormSelector),\n                videoLoaded = true;\n\n            this._blockActionButtons(true);\n\n            this._videoUrlWidget.trigger('validate_video_url', $.proxy(function () {\n\n                videoForm.mage('validation', {\n\n                    /**\n                     * @param {jQuery} error\n                     * @param {jQuery} element\n                     */\n                    errorPlacement: function (error, element) {\n                        error.insertAfter(element);\n                    }\n                }).on('highlight.validate', function () {\n                    $(this).validation('option');\n                });\n\n                videoForm.validation();\n\n                if (this._videoRequestComplete === false) {\n                    videoLoaded = false;\n                }\n\n                callback(videoForm.valid() && videoLoaded);\n            }, this));\n\n            this._blockActionButtons(false);\n        },\n\n        /**\n         * Create video item icons\n         */\n        createVideoItemIcons: function () {\n            var $imageWidget = this._gallery.find('.product-image.video-item'),\n                $productGalleryWrapper = $(this._imageProductGalleryWrapperSelector).find('.product-image.video-item');\n\n            $imageWidget.parent().addClass('video-item');\n            $productGalleryWrapper.parent().addClass('video-item');\n            $imageWidget.removeClass('video-item');\n            $productGalleryWrapper.removeClass('video-item');\n            $('.video-item .action-delete').attr('title', $.mage.__('Delete video'));\n            $('.video-item .action-delete span').html($.mage.__('Delete video'));\n        },\n\n        /**\n         * Fired when click on create video\n         * @private\n         */\n        _onCreate: function () {\n            var nvs = this.element.find(this._videoPreviewInputSelector),\n                file = nvs.get(0),\n                reqClass = 'required-entry _required';\n\n            if (file && file.files && file.files.length) {\n                file = file.files[0];\n            } else {\n                file = null;\n            }\n\n            if (!file && !this._tempPreviewImageData) {\n                nvs.addClass(reqClass);\n            }\n\n            this.isValid($.proxy(\n                function (videoValidStatus) {\n\n                    if (!videoValidStatus) {\n                        return;\n                    }\n\n                    if (this._tempPreviewImageData) {\n                        this._onImageLoaded(this._tempPreviewImageData, null, null, $.proxy(this.close, this));\n                    } else {\n                        this._uploadImage(file, null, $.proxy(function () {\n                            this.close();\n                        }, this));\n                    }\n\n                    nvs.removeClass(reqClass);\n                }, this\n            ));\n        },\n\n        /**\n         * Fired when click on update video\n         * @private\n         */\n        _onUpdate: function () {\n            var inputFile, itemId, _inputSelector, mediaFields, imageData, flagChecked, fileName, callback;\n\n            this.isValid($.proxy(\n                function (videoValidStatus) {\n\n                    if (!videoValidStatus) {\n                        return;\n                    }\n\n                    imageData = this.imageData || {};\n                    inputFile = this.element.find(this._videoPreviewInputSelector);\n                    itemId = this.element.find(this._itemIdSelector).val();\n                    itemId = itemId.slice(1, itemId.length - 1);\n                    _inputSelector = '[name*=\"[' + itemId + ']\"]';\n                    mediaFields = this._gallery.find('input' + _inputSelector);\n                    $.each(mediaFields, function (i, el) {\n                        var elName = el.name,\n                            start = elName.indexOf(itemId) + itemId.length + 2,\n                            fieldName = elName.substring(start, el.name.length - 1),\n                            _field = this.element.find('#' + fieldName),\n                            _tmp;\n\n                        if (_field.length > 0) {\n                            _tmp = _inputSelector.slice(0, _inputSelector.length - 2) + '[' + fieldName + ']\"]';\n                            this._gallery.find(_tmp).val(_field.val());\n                            imageData[fieldName] = _field.val();\n                        }\n                    }.bind(this));\n                    flagChecked = this.element.find(this._videoDisableinputSelector).attr('checked') ? 1 : 0;\n                    this._gallery.find('input[name*=\"' + itemId + '][disabled]\"]').val(flagChecked);\n                    this._gallery.find(_inputSelector).siblings('.image-fade').css(\n                        'visibility', flagChecked ? 'visible' : 'hidden'\n                    );\n                    imageData.disabled = flagChecked;\n\n                    if (this._tempPreviewImageData) {\n                        this._onImageLoaded(\n                            this._tempPreviewImageData,\n                            null,\n                            imageData.file,\n                            $.proxy(this.close, this)\n                        );\n\n                        return;\n                    }\n                    fileName = inputFile.get(0).files;\n\n                    if (!fileName || !fileName.length) {\n                        fileName = null;\n                    }\n                    inputFile.replaceWith(inputFile);\n\n                    callback = $.proxy(function () {\n                        this.close();\n                    }, this);\n\n                    if (fileName) {\n                        this._uploadImage(fileName, imageData.file, callback);\n                    } else {\n                        this._replaceImage(imageData.file, imageData.file, imageData);\n                        callback(0, imageData);\n                    }\n                }, this\n            ));\n        },\n\n        /**\n         * Delegates call to producwt gallery to update video visibility.\n         *\n         * @param {Object} imageData\n         */\n        _updateVisibility: function (imageData) {\n            this._gallery.trigger('updateVisibility', {\n                disabled: imageData.disabled,\n                imageData: imageData\n            });\n        },\n\n        /**\n         * Delegates call to product gallery to update video title.\n         *\n         * @param {Object} imageData\n         */\n        _updateImageTitle: function (imageData) {\n            this._gallery.trigger('updateImageTitle', {\n                imageData: imageData\n            });\n        },\n\n        /**\n         * Fired when clicked on cancel\n         * @private\n         */\n        _onCancel: function () {\n            this.close();\n        },\n\n        /**\n         * Fired when clicked on delete\n         * @private\n         */\n        _onDelete: function () {\n            var filename = this.element.find(this._videoImageFilenameselector).val();\n\n            this._removeImage(filename);\n            this.close();\n        },\n\n        /**\n         * @param {String} file\n         * @param {Function} callback\n         * @private\n         */\n        _readPreviewLocal: function (file, callback) {\n            var fr = new FileReader;\n\n            if (!window.FileReader) {\n                return;\n            }\n\n            /**\n             * On load end\n             */\n            fr.onloadend = function () {\n                callback(fr.result);\n            };\n            fr.readAsDataURL(file);\n        },\n\n        /**\n         *  Image file input handler\n         * @private\n         */\n        _onImageInputChange: function () {\n            var jFile = this.element.find(this._videoPreviewInputSelector),\n                file = jFile[0],\n                val = jFile.val(),\n                prev = this._getPreviewImage(),\n                ext = '.' + val.split('.').pop();\n\n            if (!val) {\n                return;\n            }\n            ext = ext ? ext.toLowerCase() : '';\n\n            if (\n                ext.length < 2 ||\n                this._imageTypes.indexOf(ext.toLowerCase()) === -1 || !file.files || !file.files.length\n            ) {\n                prev.remove();\n                this._previewImage = null;\n                jFile.val('');\n\n                return;\n            } // end if\n            file = file.files[0];\n            this._tempPreviewImageData = null;\n            this._onPreview(null, file, true);\n        },\n\n        /**\n         * Change Preview\n         * @param {String} error\n         * @param {String} src\n         * @param {Boolean} local\n         * @private\n         */\n        _onPreview: function (error, src, local) {\n            var img, renderImage;\n\n            img = this._getPreviewImage();\n\n            /**\n             * Callback\n             * @param {String} source\n             */\n            renderImage = function (source) {\n                img.attr({\n                    'src': source\n                }).show();\n            };\n\n            if (error) {\n                return;\n            }\n\n            if (!local) {\n                renderImage(src);\n            } else {\n                this._readPreviewLocal(src, renderImage);\n            }\n        },\n\n        /**\n         *\n         * Return preview image imstance\n         * @returns {null}\n         * @private\n         */\n        _getPreviewImage: function () {\n\n            if (!this._previewImage) {\n                this._previewImage = $(document.createElement('img')).css({\n                    'width': '100%',\n                    'display': 'none',\n                    'src': ''\n                });\n                $(this._previewImage).insertAfter(this.element.find(this._videoPreviewImagePointer));\n                $(this._previewImage).attr('data-role', 'video_preview_image');\n            }\n\n            return this._previewImage;\n        },\n\n        /**\n         * Close slideout dialog\n         */\n        close: function () {\n            this.element.modal('closeModal');\n        },\n\n        /**\n         * Close dialog wrap\n         * @private\n         */\n        _onClose: function () {\n            var newVideoForm;\n\n            this._isEditPage = true;\n            this.imageData = null;\n\n            if (this._previewImage) {\n                this._previewImage.remove();\n                this._previewImage = null;\n            }\n            this._tempPreviewImageData = null;\n            this.element.trigger('reset');\n            newVideoForm = this.element.find(this._videoFormSelector);\n\n            $(newVideoForm).find('input[type=\"hidden\"][name!=\"form_key\"]').val('');\n            this._gallery.find('input[name*=\"' + this.element.find(\n                    this._itemIdSelector).val() + '\"]'\n            ).parent().removeClass('active');\n\n            try {\n                newVideoForm.validation('clearError');\n            } catch (e) {\n\n            }\n            newVideoForm.trigger('reset');\n        },\n\n        /**\n         * Find element by fileName\n         * @param {String} file\n         */\n        findElementId: function (file) {\n            var elem = this._gallery.find('.image.item').find('input[value=\"' + file + '\"]');\n\n            if (!elem.length) {\n                return null;\n            }\n\n            return $(elem).attr('name').replace('product[media_gallery][images][', '').replace('][file]', '');\n        },\n\n        /**\n         * Save image roles\n         * @param {Object} imageData\n         */\n        saveImageRoles: function (imageData) {\n            var data = imageData.file,\n                self = this,\n                containers;\n\n            if (data && data.length > 0) {\n                containers = this._gallery.find('.image-placeholder').siblings('input');\n                $.each(containers, function (i, el) {\n                    var start = el.name.indexOf('[') + 1,\n                        end = el.name.indexOf(']'),\n                        imageType = el.name.substring(start, end),\n                        imageCheckbox = self.element.find(\n                            self._videoFormSelector + ' input[value=\"' + imageType + '\"]'\n                        );\n\n                    self._changeRole(imageType, imageCheckbox.attr('checked'), imageData);\n                });\n            }\n        },\n\n        /**\n         * Change image role\n         * @param {String} imageType - role name\n         * @param {bool} isEnabled - role active status\n         * @param {Object} imageData - image data object\n         * @private\n         */\n        _changeRole: function (imageType, isEnabled, imageData) {\n            var needCheked = true;\n\n            if (!isEnabled) {\n                needCheked = this._gallery.find('input[name=\"product[' + imageType + ']\"]').val() === imageData.file;\n            }\n\n            if (!needCheked) {\n                return null;\n            }\n\n            this._gallery.trigger('setImageType', {\n                type: imageType,\n                imageData: isEnabled ? imageData : null\n            });\n        },\n\n        /**\n         * On open dialog\n         * @param {Object} e\n         * @param {Object} imageData\n         * @private\n         */\n        _onOpenDialog: function (e, imageData) {\n            var formFields, flagChecked, file,\n                modal = this.element.closest('.mage-new-video-dialog');\n\n            if (imageData['media_type'] === 'external-video') {\n                this.imageData = imageData;\n                modal.find('.video-create-button').hide();\n                modal.find('.video-delete-button').show();\n                modal.find('.video-edit').show();\n                modal.createVideoPlayer({\n                    reset: true\n                }).createVideoPlayer('reset');\n\n                formFields = modal.find(this._videoFormSelector).find('.edited-data');\n\n                $.each(formFields, function (i, field) {\n                    $(field).val(imageData[field.name]);\n                });\n\n                flagChecked = imageData.disabled > 0;\n                modal.find(this._videoDisableinputSelector).prop('checked', flagChecked);\n\n                file = modal.find('#file_name').val(imageData.file);\n\n                $.each(modal.find('.video_image_role'), function () {\n                    $(this).prop('checked', false).prop('disabled', false);\n                });\n\n                $.each(this._gallery.find('.image-placeholder').siblings('input:hidden'), function () {\n                    var start, end, imageRole;\n\n                    if ($(this).val() === file.val()) {\n                        start = this.name.indexOf('[') + 1;\n                        end = this.name.length - 1;\n                        imageRole = this.name.substring(start, end);\n                        modal.find('#new_video_form input[value=\"' + imageRole + '\"]').prop('checked', true);\n                    }\n                });\n            }\n\n        },\n\n        /**\n         * Toggle buttons\n         */\n        toggleButtons: function () {\n            var self = this,\n                modal = this.element.closest('.mage-new-video-dialog');\n\n            modal.find('.video-placeholder, .add-video-button-container > button').click(function () {\n                modal.find('.video-create-button').show();\n                modal.find('.video-delete-button').hide();\n                modal.find('.video-edit').hide();\n                modal.createVideoPlayer({\n                    reset: true\n                }).createVideoPlayer('reset').updateInputFields({\n                    reset: true\n                }).updateInputFields('reset');\n            });\n            this._gallery.on('click', '.item.video-item', function () {\n                modal.find('.video-create-button').hide();\n                modal.find('.video-delete-button').show();\n                modal.find('.video-edit').show();\n                modal.find('.mage-new-video-dialog').createVideoPlayer({\n                    reset: true\n                }).createVideoPlayer('reset');\n            });\n            this._gallery.on('click', '.item.video-item:not(.removed)', function () {\n                var flagChecked,\n                    file,\n                    formFields = modal.find('.edited-data'),\n                    container = $(this);\n\n                $.each(formFields, function (i, field) {\n                    $(field).val(container.find('input[name*=\"' + field.name + '\"]').val());\n                });\n\n                flagChecked = container.find('input[name*=\"disabled\"]').val() > 0;\n                self._gallery.find(self._videoDisableinputSelector).attr('checked', flagChecked);\n\n                file = self._gallery.find('#file_name').val(container.find('input[name*=\"file\"]').val());\n\n                $.each(self._gallery.find('.video_image_role'), function () {\n                    $(this).prop('checked', false).prop('disabled', false);\n                });\n\n                $.each(self._gallery.find('.image-placeholder').siblings('input:hidden'), function () {\n                    var start, end, imageRole;\n\n                    if ($(this).val() !== file.val()) {\n                        return null;\n                    }\n\n                    start = this.name.indexOf('[') + 1;\n                    end = this.name.length - 1;\n                    imageRole = this.name.substring(start, end);\n                    self._gallery.find('input[value=\"' + imageRole + '\"]').prop('checked', true);\n                });\n            });\n        }\n    });\n\n    $('#group-fields-image-management > legend > span').text($.mage.__('Images and Videos'));\n\n    return $.mage.newVideoDialog;\n});\n","Magento_ProductVideo/js/video-modal.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'productGallery',\n    'jquery/ui',\n    'Magento_Ui/js/modal/modal',\n    'mage/translate',\n    'mage/backend/tree-suggest',\n    'mage/backend/validation',\n    'newVideoDialog'\n], function ($, productGallery) {\n    'use strict';\n\n    $.widget('mage.productGallery', productGallery, {\n\n        /**\n         * Bind events\n         * @private\n         */\n        _bind: function () {\n            var events = {},\n                itemId;\n\n            this._super();\n\n            /**\n             * Add item_id value to opened modal\n             * @param {Object} event\n             */\n            events['click ' + this.options.imageSelector] = function (event) {\n                if (!$(event.currentTarget).is('.ui-sortable-helper')) {\n                    itemId = $(event.currentTarget).find('input')[0].name.match(/\\[([^\\]]*)\\]/g)[2];\n                    this.videoDialog.find('#item_id').val(itemId);\n                }\n            };\n            this._on(events);\n            this.element.prev().find('[data-role=\"add-video-button\"]').on('click', this.showModal.bind(this));\n            this.element.on('openDialog', '.gallery.ui-sortable', $.proxy(this._onOpenDialog, this));\n        },\n\n        /**\n         * @private\n         */\n        _create: function () {\n            this._super();\n            this.videoDialog = this.element.find('#new-video');\n            this.videoDialog.mage('newVideoDialog', this.videoDialog.data('modalInfo'));\n        },\n\n        /**\n         * Open dialog for external video\n         * @private\n         */\n        _onOpenDialog: function (e, imageData) {\n\n            if (imageData['media_type'] !== 'external-video') {\n                this._superApply(arguments);\n            } else {\n                this.showModal();\n            }\n        },\n\n        /**\n         * Fired on trigger \"openModal\"\n         */\n        showModal: function () {\n            this.videoDialog.modal('openModal');\n        }\n    });\n\n    return $.mage.productGallery;\n});\n","Magento_ProductVideo/js/get-video-information.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'Magento_Ui/js/modal/alert',\n    'jquery/ui',\n    'mage/translate'\n], function ($, alert) {\n        'use strict';\n\n        var videoRegister = {\n            _register: {},\n\n            /**\n             * Checks, if api is already registered\n             *\n             * @param {String} api\n             * @returns {bool}\n             */\n            isRegistered: function (api) {\n                return this._register[api] !== undefined;\n            },\n\n            /**\n             * Checks, if api is loaded\n             *\n             * @param {String} api\n             * @returns {bool}\n             */\n            isLoaded: function (api) {\n                return this._register[api] !== undefined && this._register[api] === true;\n            },\n\n            /**\n             * Register new video api\n             * @param {String} api\n             * @param {bool} loaded\n             */\n            register: function (api, loaded) {\n                loaded = loaded || false;\n                this._register[api] = loaded;\n            }\n        };\n\n        $.widget('mage.productVideoLoader', {\n\n            /**\n             * @private\n             */\n            _create: function () {\n                switch (this.element.data('type')) {\n                    case 'youtube':\n                        this.element.videoYoutube();\n                        this._player = this.element.data('mageVideoYoutube');\n                        break;\n\n                    case 'vimeo':\n                        this.element.videoVimeo();\n                        this._player = this.element.data('mageVideoVimeo');\n                        break;\n                    default:\n                        throw {\n                            name: $.mage.__('Video Error'),\n                            message: $.mage.__('Unknown video type'),\n\n                            /**\n                             * Return string\n                             */\n                            toString: function () {\n                                return this.name + ': ' + this.message;\n                            }\n                        };\n                }\n            },\n\n            /**\n             * Initializes variables\n             * @private\n             */\n            _initialize: function () {\n                this._params = this.element.data('params') || {};\n                this._code = this.element.data('code');\n                this._width = this.element.data('width');\n                this._height = this.element.data('height');\n                this._autoplay = !!this.element.data('autoplay');\n                this._playing = this._autoplay || false;\n                this.useYoutubeNocookie = this.element.data('youtubenocookie') || false;\n\n                this._responsive = this.element.data('responsive') !== false;\n\n                if (this._responsive === true) {\n                    this.element.addClass('responsive');\n                }\n\n                this._calculateRatio();\n            },\n\n            /**\n             * Abstract play command\n             */\n            play: function () {\n                this._player.play();\n            },\n\n            /**\n             * Abstract pause command\n             */\n            pause: function () {\n                this._player.pause();\n            },\n\n            /**\n             * Abstract stop command\n             */\n            stop: function () {\n                this._player.stop();\n            },\n\n            /**\n             * Abstract playing command\n             */\n            playing: function () {\n                return this._player.playing();\n            },\n\n            /**\n             * Abstract destroying command\n             */\n            destroy: function () {\n                this._player.destroy();\n            },\n\n            /**\n             * Calculates ratio for responsive videos\n             * @private\n             */\n            _calculateRatio: function () {\n                if (!this._responsive) {\n                    return;\n                }\n                this.element.css('paddingBottom', this._height / this._width * 100 + '%');\n            }\n        });\n\n        $.widget('mage.videoYoutube', $.mage.productVideoLoader, {\n\n            /**\n             * Initialization of the Youtube widget\n             * @private\n             */\n            _create: function () {\n                var self = this;\n\n                this._initialize();\n\n                this.element.append('<div/>');\n\n                this._on(window, {\n\n                    /**\n                     * Youtube state check\n                     * @private\n                     */\n                    'youtubeapiready': function () {\n                        var host = 'https://www.youtube.com';\n\n                        if (self.useYoutubeNocookie) {\n                            host = 'https://www.youtube-nocookie.com';\n                        }\n\n                        if (self._player !== undefined) {\n                            return;\n                        }\n\n                        if (self._autoplay) {\n                            self._params.autoplay = 1;\n                        }\n                        self._params.rel = 0;\n\n                        self._player = new window.YT.Player(self.element.children(':first')[0], {\n                            height: self._height,\n                            width: self._width,\n                            videoId: self._code,\n                            playerVars: self._params,\n                            host: host,\n                            events: {\n\n                                /**\n                                 * @private\n                                 */\n                                'onReady': function onPlayerReady() {\n                                    self._player.getDuration();\n                                },\n\n                                /**\n                                 * State change flag init\n                                 */\n                                onStateChange: function (data) {\n                                    switch (window.parseInt(data.data, 10)) {\n                                        case 1:\n                                            self._playing = true;\n                                            break;\n                                        default:\n                                            self._playing = false;\n                                            break;\n                                    }\n\n                                    self._trigger('statechange', {}, data);\n                                }\n                            }\n\n                        });\n                    }\n                });\n\n                this._loadApi();\n            },\n\n            /**\n             * Loads Youtube API and triggers event, when loaded\n             * @private\n             */\n            _loadApi: function () {\n                var element,\n                    scriptTag;\n\n                if (videoRegister.isRegistered('youtube')) {\n                    if (videoRegister.isLoaded('youtube')) {\n                        $(window).trigger('youtubeapiready');\n                    }\n\n                    return;\n                }\n                videoRegister.register('youtube');\n\n                element = document.createElement('script');\n                scriptTag = document.getElementsByTagName('script')[0];\n\n                element.async = true;\n                element.src = 'https://www.youtube.com/iframe_api';\n                scriptTag.parentNode.insertBefore(element, scriptTag);\n\n                /**\n                 * Trigger youtube api ready event\n                 */\n                window.onYouTubeIframeAPIReady = function () {\n                    $(window).trigger('youtubeapiready');\n                    videoRegister.register('youtube', true);\n                };\n            },\n\n            /**\n             * Play command for Youtube\n             */\n            play: function () {\n                this._player.playVideo();\n                this._playing = true;\n            },\n\n            /**\n             * Pause command for Youtube\n             */\n            pause: function () {\n                this._player.pauseVideo();\n                this._playing = false;\n            },\n\n            /**\n             * Stop command for Youtube\n             */\n            stop: function () {\n                this._player.stopVideo();\n                this._playing = false;\n            },\n\n            /**\n             * Playing command for Youtube\n             */\n            playing: function () {\n                return this._playing;\n            },\n\n            /**\n             * stops and unloads player\n             * @private\n             */\n            destroy: function () {\n                this.stop();\n                this._player.destroy();\n            }\n        });\n\n        $.widget('mage.videoVimeo', $.mage.productVideoLoader, {\n\n            /**\n             * Initialize the Vimeo widget\n             * @private\n             */\n            _create: function () {\n                var timestamp,\n                    src,\n                    additionalParams;\n\n                this._initialize();\n                timestamp = new Date().getTime();\n\n                if (this._autoplay) {\n                    additionalParams += '&autoplay=1';\n                }\n\n                src = 'https://player.vimeo.com/video/' +\n                    this._code + '?api=1&player_id=vimeo' +\n                    this._code +\n                    timestamp +\n                    additionalParams;\n                this.element.append(\n                    $('<iframe/>')\n                        .attr('frameborder', 0)\n                        .attr('id', 'vimeo' + this._code + timestamp)\n                        .attr('width', this._width)\n                        .attr('height', this._height)\n                        .attr('src', src)\n                );\n\n            }\n        });\n\n        $.widget('mage.videoData', {\n            options: {\n                youtubeKey: '',\n                eventSource: '' //where is data going from - focus out or click on button\n            },\n\n            _REQUEST_VIDEO_INFORMATION_TRIGGER: 'request_video_information',\n\n            _UPDATE_VIDEO_INFORMATION_TRIGGER: 'updated_video_information',\n\n            _START_UPDATE_INFORMATION_TRIGGER: 'update_video_information',\n\n            _ERROR_UPDATE_INFORMATION_TRIGGER: 'error_updated_information',\n\n            _FINISH_UPDATE_INFORMATION_TRIGGER: 'finish_update_information',\n\n            _VIDEO_URL_VALIDATE_TRIGGER: 'validate_video_url',\n\n            _videoInformation: null,\n\n            _currentVideoUrl: null,\n\n            /**\n             * @private\n             */\n            _init: function () {\n                this.element.on(this._START_UPDATE_INFORMATION_TRIGGER, $.proxy(this._onRequestHandler, this));\n                this.element.on(this._ERROR_UPDATE_INFORMATION_TRIGGER, $.proxy(this._onVideoInvalid, this));\n                this.element.on(this._FINISH_UPDATE_INFORMATION_TRIGGER, $.proxy(\n                    function () {\n                        this._currentVideoUrl = null;\n                    }, this\n                ));\n                this.element.on(this._VIDEO_URL_VALIDATE_TRIGGER, $.proxy(this._onUrlValidateHandler, this));\n            },\n\n            /**\n             * @private\n             */\n            _onUrlValidateHandler: function (event, callback, forceVideo) {\n                var url = this.element.val(),\n                    videoInfo;\n\n                videoInfo = this._validateURL(url, forceVideo);\n\n                if (videoInfo) {\n                    callback();\n                } else {\n                    this._onRequestError($.mage.__('Invalid video url'));\n                }\n            },\n\n            /**\n             * @private\n             */\n            _onRequestHandler: function () {\n                var url = this.element.val(),\n                    self = this,\n                    videoInfo,\n                    type,\n                    id,\n                    googleapisUrl;\n\n                if (this._currentVideoUrl === url) {\n                    return;\n                }\n\n                this._currentVideoUrl = url;\n\n                this.element.trigger(this._REQUEST_VIDEO_INFORMATION_TRIGGER, {\n                    url: url\n                });\n\n                if (!url) {\n                    return;\n                }\n\n                videoInfo = this._validateURL(url);\n\n                if (!videoInfo) {\n                    this._onRequestError($.mage.__('Invalid video url'));\n\n                    return;\n                }\n\n                /**\n                 *\n                 * @param {Object} data\n                 * @private\n                 */\n                function _onYouTubeLoaded(data) {\n                    var tmp,\n                        uploadedFormatted,\n                        respData,\n                        createErrorMessage;\n\n                    /**\n                     * Create errors message\n                     *\n                     * @returns {String}\n                     */\n                    createErrorMessage = function () {\n                        var error = data.error,\n                            errors = error.errors,\n                            i,\n                            errLength = errors.length,\n                            tmpError,\n                            errReason,\n                            errorsMessage = [];\n\n                        for (i = 0; i < errLength; i++) {\n                            tmpError = errors[i];\n                            errReason = tmpError.reason;\n\n                            if (['keyInvalid'].indexOf(errReason) !== -1) {\n                                errorsMessage.push($.mage.__('Youtube API key is invalid'));\n\n                                break;\n                            }\n\n                            errorsMessage.push(tmpError.message);\n                        }\n\n                        return $.mage.__('Video cant be shown due to the following reason: ') +\n                            $.unique(errorsMessage).join(', ');\n                    };\n\n                    if (data.error && [400, 402, 403].indexOf(data.error.code) !== -1) {\n                        this._onRequestError(createErrorMessage());\n\n                        return;\n                    }\n\n                    if (!data.items || data.items.length < 1) {\n                        this._onRequestError($.mage.__('Video not found'));\n\n                        return;\n                    }\n\n                    tmp = data.items[0];\n                    uploadedFormatted = tmp.snippet.publishedAt.replace('T', ' ').replace(/\\..+/g, '');\n                    respData = {\n                        duration: this._formatYoutubeDuration(tmp.contentDetails.duration),\n                        channel: tmp.snippet.channelTitle,\n                        channelId: tmp.snippet.channelId,\n                        uploaded: uploadedFormatted,\n                        title: tmp.snippet.localized.title,\n                        description: tmp.snippet.description,\n                        thumbnail: tmp.snippet.thumbnails.high.url,\n                        videoId: videoInfo.id,\n                        videoProvider: videoInfo.type,\n                        useYoutubeNocookie: videoInfo.useYoutubeNocookie\n                    };\n                    this._videoInformation = respData;\n                    this.element.trigger(this._UPDATE_VIDEO_INFORMATION_TRIGGER, respData);\n                    this.element.trigger(this._FINISH_UPDATE_INFORMATION_TRIGGER, true);\n                }\n\n                /**\n                 * @private\n                 */\n                function _onVimeoLoaded(data) {\n                    var tmp,\n                        respData;\n\n                    if (data.length < 1) {\n                        this._onRequestError($.mage.__('Video not found'));\n\n                        return null;\n                    }\n                    tmp = data[0];\n                    respData = {\n                        duration: this._formatVimeoDuration(tmp.duration),\n                        channel: tmp['user_name'],\n                        channelId: tmp['user_url'],\n                        uploaded: tmp['upload_date'],\n                        title: tmp.title,\n                        description: tmp.description.replace(/(&nbsp;|<([^>]+)>)/ig, ''),\n                        thumbnail: tmp['thumbnail_large'],\n                        videoId: videoInfo.id,\n                        videoProvider: videoInfo.type\n                    };\n                    this._videoInformation = respData;\n                    this.element.trigger(this._UPDATE_VIDEO_INFORMATION_TRIGGER, respData);\n                    this.element.trigger(this._FINISH_UPDATE_INFORMATION_TRIGGER, true);\n                }\n\n                type = videoInfo.type;\n                id = videoInfo.id;\n\n                if (type === 'youtube') {\n                    googleapisUrl = 'https://www.googleapis.com/youtube/v3/videos?id=' +\n                        id +\n                        '&part=snippet,contentDetails,statistics,status&key=' +\n                        this.options.youtubeKey + '&alt=json&callback=?';\n                    $.getJSON(googleapisUrl,\n                        {\n                            format: 'json'\n                        },\n                        $.proxy(_onYouTubeLoaded, self)\n                    ).fail(\n                        function () {\n                            self._onRequestError('Video not found');\n                        }\n                    );\n                } else if (type === 'vimeo') {\n                    $.ajax({\n                        url: 'https://www.vimeo.com/api/v2/video/' + id + '.json',\n                        dataType: 'jsonp',\n                        data: {\n                            format: 'json'\n                        },\n                        timeout: 5000,\n                        success:  $.proxy(_onVimeoLoaded, self),\n\n                        /**\n                         * @private\n                         */\n                        error: function () {\n                            self._onRequestError($.mage.__('Video not found'));\n                        }\n                    });\n                }\n            },\n\n            /**\n             * @private\n             */\n            _onVideoInvalid: function (event, data) {\n                this._videoInformation = null;\n                this.element.val('');\n                alert({\n                    content: 'Error: \"' + data + '\"'\n                });\n            },\n\n            /**\n             * @private\n             */\n            _onRequestError: function (error) {\n                this.element.trigger(this._ERROR_UPDATE_INFORMATION_TRIGGER, error);\n                this.element.trigger(this._FINISH_UPDATE_INFORMATION_TRIGGER, false);\n                this._currentVideoUrl = null;\n            },\n\n            /**\n             * @private\n             */\n            _formatYoutubeDuration: function (duration) {\n                var match = duration.match(/PT(\\d+H)?(\\d+M)?(\\d+S)?/),\n                    hours = parseInt(match[1], 10) || 0,\n                    minutes = parseInt(match[2], 10) || 0,\n                    seconds = parseInt(match[3], 10) || 0;\n\n                return this._formatVimeoDuration(hours * 3600 + minutes * 60 + seconds);\n            },\n\n            /**\n             * @private\n             */\n            _formatVimeoDuration: function (seconds) {\n                return (new Date(seconds * 1000)).toUTCString().match(/(\\d\\d:\\d\\d:\\d\\d)/)[0];\n            },\n\n            /**\n             * @private\n             */\n            _parseHref: function (href) {\n                var a = document.createElement('a');\n\n                a.href = href;\n\n                return a;\n            },\n\n            /**\n             * @private\n             */\n            _validateURL: function (href, forceVideo) {\n                var id,\n                    type,\n                    ampersandPosition,\n                    vimeoRegex,\n                    useYoutubeNocookie = false;\n\n                if (typeof href !== 'string') {\n                    return href;\n                }\n                href = this._parseHref(href);\n\n                if (href.host.match(/youtube\\.com/) && href.search) {\n\n                    id = href.search.split('v=')[1];\n\n                    if (id) {\n                        ampersandPosition = id.indexOf('&');\n                        type = 'youtube';\n                    }\n\n                    if (id && ampersandPosition !== -1) {\n                        id = id.substring(0, ampersandPosition);\n                    }\n\n                } else if (href.host.match(/youtube\\.com|youtu\\.be|youtube-nocookie.com/)) {\n                    id = href.pathname.replace(/^\\/(embed\\/|v\\/)?/, '').replace(/\\/.*/, '');\n                    type = 'youtube';\n\n                    if (href.host.match(/youtube-nocookie.com/)) {\n                        useYoutubeNocookie = true;\n                    }\n                } else if (href.host.match(/vimeo\\.com/)) {\n                    type = 'vimeo';\n                    vimeoRegex = new RegExp(['https?:\\\\/\\\\/(?:www\\\\.|player\\\\.)?vimeo.com\\\\/(?:channels\\\\/(?:\\\\w+\\\\/)',\n                        '?|groups\\\\/([^\\\\/]*)\\\\/videos\\\\/|album\\\\/(\\\\d+)\\\\/video\\\\/|video\\\\/|)(\\\\d+)(?:$|\\\\/|\\\\?)'\n                    ].join(''));\n\n                    if (href.href.match(vimeoRegex) != null) {\n                        id = href.href.match(vimeoRegex)[3];\n                    }\n                }\n\n                if ((!id || !type) && forceVideo) {\n                    id = href.href;\n                    type = 'custom';\n                }\n\n                return id ? {\n                    id: id, type: type, s: href.search.replace(/^\\?/, ''), useYoutubeNocookie: useYoutubeNocookie\n                } : false;\n            }\n        });\n    });\n","Magento_AdminNotification/toolbar_entry.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'jquery/ui',\n    'domReady!'\n], function ($) {\n    'use strict';\n\n    /**\n     * Mark notification as read via AJAX call.\n     *\n     * @param {String} notificationId\n     */\n    var markNotificationAsRead = function (notificationId) {\n            var requestUrl = $('.notifications-wrapper .admin__action-dropdown-menu').attr('data-mark-as-read-url');\n\n            $.ajax({\n                url: requestUrl,\n                type: 'POST',\n                dataType: 'json',\n                data: {\n                    id: notificationId\n                },\n                showLoader: false\n            });\n        },\n        notificationCount = $('.notifications-wrapper').attr('data-notification-count'),\n\n        /**\n         * Remove notification from the list.\n         *\n         * @param {jQuery} notificationEntry\n         */\n        removeNotificationFromList = function (notificationEntry) {\n            var notificationIcon, actionElement;\n\n            notificationEntry.remove();\n            notificationCount--;\n            $('.notifications-wrapper').attr('data-notification-count', notificationCount);\n\n            if (notificationCount == 0) {// eslint-disable-line eqeqeq\n                // Change appearance of the bubble and its behavior when the last notification is removed\n                $('.notifications-wrapper .admin__action-dropdown-menu').remove();\n                notificationIcon = $('.notifications-wrapper .notifications-icon');\n                notificationIcon.removeAttr('data-toggle');\n                notificationIcon.off('click.dropdown');\n                $('.notifications-action .notifications-counter').text('').hide();\n            } else {\n                // Change top counter only for allowable range\n                if (notificationCount <= 99) {\n                    $('.notifications-action .notifications-counter').text(notificationCount);\n                }\n                $('.notifications-entry-last .notifications-counter').text(notificationCount);\n                // Modify caption of the 'See All' link\n                actionElement = $('.notifications-wrapper .admin__action-dropdown-menu .last .action-more');\n                actionElement.text(actionElement.text().replace(/\\d+/, notificationCount));\n            }\n        },\n\n        /**\n         * Show notification details.\n         *\n         * @param {jQuery} notificationEntry\n         */\n        showNotificationDetails = function (notificationEntry) {\n            var notificationDescription = notificationEntry.find('.notifications-entry-description'),\n                notificationDescriptionEnd = notificationEntry.find('.notifications-entry-description-end');\n\n            if (notificationDescriptionEnd.length > 0) {\n                notificationDescriptionEnd.addClass('_show');\n            }\n\n            if (notificationDescription.hasClass('_cutted')) {\n                notificationDescription.removeClass('_cutted');\n            }\n        };\n\n    // Show notification description when corresponding item is clicked\n    $('.notifications-wrapper .admin__action-dropdown-menu .notifications-entry').on(\n        'click.showNotification',\n        function (event) {\n            // hide notification dropdown\n            $('.notifications-wrapper .notifications-icon').trigger('click.dropdown');\n\n            showNotificationDetails($(this));\n            event.stopPropagation();\n        }\n    );\n\n    // Remove corresponding notification from the list and mark it as read\n    $('.notifications-close').on('click.removeNotification', function (event) {\n        var notificationEntry = $(this).closest('.notifications-entry'),\n            notificationId = notificationEntry.attr('data-notification-id');\n\n        markNotificationAsRead(notificationId);\n        removeNotificationFromList(notificationEntry);\n\n        // Checking for last unread notification to hide dropdown\n        if (notificationCount == 0) {// eslint-disable-line eqeqeq\n            $('.notifications-wrapper').removeClass('active')\n                .find('.notifications-action')\n                .removeAttr('data-toggle')\n                .off('click.dropdown');\n        }\n        event.stopPropagation();\n    });\n\n    // Hide notifications bubble\n    if (notificationCount == 0) {// eslint-disable-line eqeqeq\n        $('.notifications-action .notifications-counter').hide();\n    } else {\n        $('.notifications-action .notifications-counter').show();\n    }\n});\n","Magento_AdminNotification/js/grid/listing.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'Magento_Ui/js/grid/listing',\n    'Magento_Ui/js/lib/spinner',\n    'jquery'\n], function (Listing, loader, $) {\n    'use strict';\n\n    return Listing.extend({\n        defaults: {\n            imports: {\n                totalRecords: '${ $.provider }:data.totalRecords'\n            },\n            selectors: {\n                collapsible: '.message-system-collapsible',\n                messages: '.message-system'\n            }\n        },\n\n        /** @inheritdoc */\n        initObservable: function () {\n            this._super()\n                .track({\n                    totalRecords: 0\n                });\n\n            return this;\n        },\n\n        /** @inheritdoc */\n        showLoader: function () {\n            if (!this.source.firstLoad) {\n                this.fixLoaderHeight();\n                this._super();\n            }\n        },\n\n        /**\n         * Calculates loader height\n         *\n         * @param {Boolean} [closed]\n         */\n        fixLoaderHeight: function (closed) {\n            var $messagesBlock = $(this.selectors.messages),\n                $collapsibleBlock = $(this.selectors.collapsible),\n                resultHeight = 0;\n\n            if ($messagesBlock.length) {\n                resultHeight += $messagesBlock.outerHeight();\n            }\n\n            if ($collapsibleBlock.length && $collapsibleBlock.is(':visible') && !closed) {\n                resultHeight += $collapsibleBlock.outerHeight();\n            }\n\n            loader.get(this.name).height(resultHeight);\n        }\n    });\n});\n","Magento_AdminNotification/js/grid/columns/message.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'Magento_Ui/js/grid/columns/column',\n    'underscore'\n], function (Column, _) {\n    'use strict';\n\n    return Column.extend({\n        defaults: {\n            bodyTmpl: 'Magento_AdminNotification/grid/cells/message',\n            messageIndex: 'text',\n            fieldClass: {\n                message: true,\n                'message-warning': false,\n                'message-progress': false,\n                'message-success': false,\n                'message-error': false\n            },\n            statusMap: {\n                0: 'info',\n                1: 'progress',\n                2: 'success',\n                3: 'error'\n            }\n        },\n\n        /** @inheritdoc */\n        getLabel: function (record) {\n            return record[this.messageIndex];\n        },\n\n        /** @inheritdoc */\n        getFieldClass: function ($row) {\n            var status = this.statusMap[$row.status] || 'warning',\n                result = {};\n\n            result['message-' + status] = true;\n            result = _.extend({}, this.fieldClass, result);\n\n            return result;\n        }\n    });\n});\n","Magento_AdminNotification/js/system/messages/popup.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'Magento_Ui/js/modal/modal'\n], function ($, modal) {\n    'use strict';\n\n    return function (data, element) {\n\n        if (modal.modal) {\n            modal.modal.html($(element).html());\n        } else {\n            modal.modal = $(element).modal({\n                modalClass: data.class,\n                type: 'popup',\n                buttons: []\n            });\n        }\n\n        modal.modal.modal('openModal');\n    };\n});\n","Magento_AdminNotification/system/notification.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'mage/template',\n    'jquery/ui',\n    'Magento_Ui/js/modal/modal'\n], function ($, mageTemplate) {\n    'use strict';\n\n    $.widget('mage.systemMessageDialog', $.mage.modal, {\n        options: {\n            modalClass: 'modal-system-messages',\n            systemMessageTemplate:\n                '<% _.each(data.items, function(item) { %>' +\n                    '<li class=\"message message-warning' +\n                        '<% if (item.severity == 1) { %>error<% } else { %>warning<% } %>\">' +\n                        '<%= item.text %>' +\n                    '</li>' +\n                '<% }); %>'\n        },\n\n        /** @inheritdoc */\n        _create: function () {\n            this.options.title = $('#message-system-all').attr('title');\n            this._super();\n        },\n\n        /** @inheritdoc */\n        openModal: function (severity) {\n            var superMethod = $.proxy(this._super, this);\n\n            $.ajax({\n                url: this.options.ajaxUrl,\n                type: 'GET',\n                data: {\n                    severity: severity\n                }\n            }).done($.proxy(function (data) {\n                var tmpl = mageTemplate(this.options.systemMessageTemplate, {\n                    data: {\n                        items: data\n                    }\n                });\n\n                tmpl = $(tmpl);\n\n                this.element.html(\n                    $('<ul />', {\n                        'class': 'message-system-list'\n                    }).append(tmpl)\n                ).trigger('contentUpdated');\n\n                superMethod();\n            }, this));\n\n            return this;\n        },\n\n        /** @inheritdoc */\n        closeModal: function () {\n            this._super();\n        }\n    });\n\n    $(document).ready(function () {\n        $('#system_messages .message-system-short .error').on('click', function () {\n            $('#message-system-all').systemMessageDialog('openModal', 1);\n        });\n\n        $('#system_messages .message-system-short .warning').on('click', function () {\n            $('#message-system-all').systemMessageDialog('openModal', 2);\n        });\n    });\n\n    return $.mage.systemMessageDialog;\n});\n","Magento_Theme/js/bootstrap.js":"/**\n *\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\nrequire([\n    'jquery/fileUploader/jquery.fileupload-ui',\n    'mage/adminhtml/browser',\n    'Magento_Theme/js/form'\n]);\n","Magento_Theme/js/custom-js-list.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'mage/template',\n    'jquery/ui'\n], function ($, mageTemplate) {\n    'use strict';\n\n    $.widget('theme.themeJsList', {\n        options: {\n            templateId: null,\n            emptyTemplateId: null,\n            refreshFileListEvent: null,\n            prefixItemId: '',\n            suffixItemId: ''\n        },\n\n        /**\n         * Initialize widget\n         *\n         * @protected\n         */\n        _create: function () {\n            this._bind();\n        },\n\n        /**\n         * Bind event handlers\n         *\n         * @protected\n         */\n        _bind: function () {\n            $('body').on(this.options.refreshFileListEvent, $.proxy(this._onRefreshList, this));\n        },\n\n        /**\n         * Render js files list\n         *\n         * @param {jQuery.Event} event\n         * @param {Object} data\n         * @protected\n         */\n        _onRefreshList: function (event, data) {\n            $(this.element).html('');\n\n            if (data.jsList.length) {\n                this._renderList(data.jsList);\n            } else {\n                this._renderEmptyList();\n            }\n        },\n\n        /**\n         * Get item js list id\n         *\n         * @param {*} fileId\n         * @return {String}\n         * @protected\n         */\n        _getItemId: function (fileId) {\n            return this.options.prefixItemId + fileId + this.options.suffixItemId;\n        },\n\n        /**\n         * Render js list\n         *\n         * @param {Array} jsList\n         * @protected\n         */\n        _renderList: function (jsList) {\n            var itemTmpl,\n                index,\n                tmpl;\n\n            for (index = 0; index < jsList.length; index++) {\n                itemTmpl = $('<li></li>').html($(this.options.templateId).html());\n\n                $(itemTmpl).attr('class', $(this.options.templateId).attr('class'));\n\n                itemTmpl.attr('id', this._getItemId(jsList[index].id));\n\n                tmpl = mageTemplate(itemTmpl.html(), {\n                    data: jsList[index]\n                });\n\n                itemTmpl.html(tmpl);\n\n                itemTmpl.removeClass('no-display');\n                itemTmpl.appendTo(this.element);\n            }\n        },\n\n        /**\n         * Set empty js list\n         *\n         * @protected\n         */\n        _renderEmptyList: function () {\n            var itemTmpl = $('<li></li>').html($(this.options.emptyTemplateId).html());\n\n            $(itemTmpl).attr('class', $(this.options.emptyTemplateId).attr('class'));\n\n            itemTmpl.attr('id', 'empty-js-list');\n            itemTmpl.removeClass('no-display');\n            itemTmpl.appendTo(this.element);\n        }\n    });\n});\n","Magento_Theme/js/form.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'prototype'\n], function () {\n    'use strict';\n\n    /**\n     * @param {*} selected\n     * @param {Object} defaultsById\n     */\n    function parentThemeOnChange(selected, defaultsById) {\n        var statusBar = $$('.tab-item-link')[0],\n            isChanged = statusBar.hasClassName('changed'),\n            defaults;\n\n        if (!isChanged) {\n            defaults = defaultsById[selected];\n            $('theme_title').value = defaults['theme_title'];\n        }\n    }\n\n    window.parentThemeOnChange = parentThemeOnChange;\n});\n","Magento_Theme/js/sortable.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * JQuery UI Widget declaration: 'mage.sortable'\n *\n * @api\n */\ndefine([\n    'jquery',\n    'jquery/ui'\n], function ($) {\n    'use strict';\n\n    /**\n     * Widget panel\n     */\n    $.widget('mage.sortable', $.ui.sortable, {\n        options: {\n            moveUpEvent:   'moveUp',\n            moveDownEvent: 'moveDown'\n        },\n\n        /** @inheritdoc */\n        _create: function () {\n            this._super();\n            this.initButtons();\n            this.bind();\n        },\n\n        /**\n         * Init buttons.\n         */\n        initButtons: function () {\n            this.element.find('input.up').on('click', $.proxy(function (event) {\n                $('body').trigger(this.options.moveUpEvent, {\n                    item: $(event.target).parent('li')\n                });\n            }, this));\n            this.element.find('input.down').on('click', $.proxy(function (event) {\n                $('body').trigger(this.options.moveDownEvent, {\n                    item: $(event.target).parent('li')\n                });\n            }, this));\n        },\n\n        /**\n         * Bind.\n         */\n        bind: function () {\n            var $body = $('body');\n\n            $body.on(this.options.moveUpEvent, $.proxy(this._onMoveUp, this));\n            $body.on(this.options.moveDownEvent, $.proxy(this._onMoveDown, this));\n        },\n\n        /**\n         * @param {jQuery.Event} event\n         * @param {Object} data\n         * @private\n         */\n        _onMoveUp: function (event, data) {\n            data.item.insertBefore(data.item.prev());\n        },\n\n        /**\n         * @param {jQuery.Event} event\n         * @param {Object} data\n         * @private\n         */\n        _onMoveDown: function (event, data) {\n            data.item.insertAfter(data.item.next());\n        }\n    });\n\n    return $.mage.sortable;\n});\n","Magento_Theme/js/form/component/robots-reset-button.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'Magento_Ui/js/form/components/button',\n    'uiRegistry'\n], function (Button, registry) {\n    'use strict';\n\n    return Button.extend({\n        defaults: {\n            customInstructionField: '${ $.parentName }.custom_instructions',\n            label: '',\n            buttonTpl: 'Magento_Theme/form/element/button'\n        },\n\n        /**\n         * @private\n         * @param {String} json\n         * @return {String}\n         */\n        _parseJson: function (json) {\n            return JSON.parse(json);\n        },\n\n        /**\n         * @param {String} defaultRobotsTxt\n         */\n        reset: function (defaultRobotsTxt) {\n            var customInstructions = registry.get(this.customInstructionField);\n\n            if (customInstructions) {\n                customInstructions.set('value', this._parseJson(defaultRobotsTxt));\n            }\n        }\n    });\n});\n","Magento_InventorySalesAdminUi/js/product/grid/cell/salable-quantity.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'Magento_Ui/js/grid/columns/column'\n], function (Column) {\n    'use strict';\n\n    return Column.extend({\n        defaults: {\n            bodyTmpl: 'Magento_InventorySalesAdminUi/product/grid/cell/salable-quantity.html'\n        },\n\n        /**\n         * Get salable quantity data (stock name and salable qty)\n         *\n         * @param {Object} record - Record object\n         * @returns {Array} Result array\n         */\n        getSalableQuantityData: function (record) {\n            return record[this.index] ? record[this.index] : [];\n        }\n    });\n});\n","Magento_InventorySalesAdminUi/js/stock/grid/cell/sales-channels.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'Magento_Ui/js/grid/columns/column',\n    'underscore'\n], function (Column, _) {\n    'use strict';\n\n    return Column.extend({\n        defaults: {\n            bodyTmpl: 'Magento_InventorySalesAdminUi/stock/grid/cell/sales-channel-cell.html'\n        },\n\n        /**\n         * Get sales channels grouped by type\n         *\n         * @param {Object} record - Record object\n         * @returns {Array} Result array\n         */\n        getSalesChannelsGroupedByType: function (record) {\n            var result = [];\n\n            _.each(record[this.index], function (channels, type) {\n                result.push({\n                    type: type,\n                    channels: channels\n                });\n            });\n\n            return result;\n        }\n    });\n});\n","Amazon_Core/js/simplepath.js":"/**\n * Copyright 2016 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\").\n * You may not use this file except in compliance with the License.\n * A copy of the License is located at\n *\n *  http://aws.amazon.com/apache2.0\n *\n * or in the \"license\" file accompanying this file. This file is distributed\n * on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n * express or implied. See the License for the specific language governing\n * permissions and limitations under the License.\n */\n/*browser:true*/\n/*global define*/\ndefine(\n    [\n        'jquery',\n        'uiComponent',\n        'mage/translate',\n        'jquery/ui',\n        'jquery/validate'\n    ],\n    function ($, Class, $t) {\n        'use strict';\n        var pollTimer, windowOpen = false;\n\n        return Class.extend({\n\n                defaults: {\n                    $amazonFields: null,\n                    $amazonCredentialJson: null,\n                    $amazonSpBack: null,\n                    $amazonMerchantId: null,\n                    selector: 'amazon_payment',\n                    $container: null,\n                    pollInterval: 1500,\n                    $form: null,\n                },\n\n                /**\n                 * Set list of observable attributes\n                 * @returns {exports.initObservable}\n                 */\n                initObservable: function () {\n                    var self = this;\n\n                    self.$amazonSimplepath = $('#amazon_simplepath');\n                    self.$amazonFields = $('#payment_' + self.getCountry() + '_' + self.selector + ' .form-list');\n                    self.$amazonCredentialsHeader = $('#payment_' + self.getCountry() + '_' + self.selector\n                        + '_credentials-head');\n                    self.$amazonCredentialJson = $('#payment_' + self.getCountry() + '_' + self.selector\n                        + '_credentials_credentials_json');\n                    self.$amazonMerchantId = $('#payment_' + self.getCountry() + '_' + self.selector\n                        + '_credentials_merchant_id').val();\n                    self.$amazonSpBack = $('#amazon_simplepath_back');\n                    self.$container = $('#amazon_simplepath');\n\n                    if (self.$amazonMerchantId) {\n                        self.hideAmazonConfig();\n                    }\n                    else {\n                        self.showAmazonConfig();\n                    }\n\n                    if (!self.$form) {\n                        self.generateSimplePathForm();\n                    }\n\n                    self._super();\n\n                    self.initEventHandlers();\n\n                    return self;\n                },\n\n                /**\n                 * Init event handlers\n                 */\n                initEventHandlers: function () {\n                    var self = this;\n\n                    self.$amazonSpBack.click(function () {\n                        self.showAmazonConfig();\n                        return false;\n                    });\n\n                    $('#simplepath-skip').click(function () {\n                        self.hideAmazonConfig();\n                        return false;\n                    });\n\n                    $('#simplepath_form').on('submit', function () {\n                        self.setupWindowLaunch();\n                    });\n\n                    self.$amazonCredentialJson.on('input', function () {\n                        self.updateCredentials(self);\n                    });\n                },\n\n                /**\n                 * Detects when a properly formatted JSON block is pasted into the Credentials JSON field\n                 * and auto populates specified fields.\n                 *\n                 * @param self\n                 */\n                updateCredentials: function (self) {\n                    var elJson = self.$amazonCredentialJson.val(), obj = null, success = true, item = null;\n\n                    try {\n                        obj = $.parseJSON($.trim(elJson));\n                    }\n                    catch (err) {\n                        obj = null;\n                        self.$amazonCredentialJson.val('').attr(\n                            'placeholder',\n                            $t('Invalid JSON credentials entered, please try again.')\n                        ).focus();\n                    }\n\n                    if (obj && typeof obj === 'object') {\n\n                        for (var prop in obj) {\n                            if (obj.hasOwnProperty(prop)) {\n                                item = $('#payment_' + self.getCountry() + '_amazon_payment_credentials_'\n                                    + $.trim(prop));\n\n                                if (item && item.length) {\n                                    $('#payment_' + self.getCountry() + '_amazon_payment_credentials_'\n                                        + $.trim(prop)).val($.trim(obj[prop]));\n                                }\n                                else {\n                                    success = false;\n                                }\n                            }\n                        }\n\n                        if (success) {\n                            self.$amazonCredentialJson.val('').attr(\n                                'placeholder',\n                                $t('Credential fields successfully updated and being saved.')\n                            ).focus();\n                            $('#save').click();\n                        }\n                        else {\n                            self.$amazonCredentialJson.val('').attr(\n                                'placeholder',\n                                $t('One or more of your credential fields did not parse correctly. ' +\n                                    'Please review your entry and try again.')\n                            ).focus();\n                        }\n                    }\n                },\n\n                /**\n                 * Sets up Amazon merchant key popup and polls for data update upon user completion.\n                 */\n                setupWindowLaunch: function () {\n                    var self = this,\n                        heights = [660, 720, 810, 900],\n                        popupWidth = this.getCountry() !== 'us' ? 768 : 1050, popupHeight = heights[0],\n                        region = self.region,\n                        elCheckDefault = $('#payment_' + self.getCountry()\n                            + '_amazon_payment_credentials_payment_region_inherit:checked'),\n                        elRegion = $('payment_' + self.getCountry() + '_amazon_payment_credentials_payment_region'),\n                        elJson = self.$amazonCredentialJson.val();\n\n                    for (var i in heights) {\n                        if (heights.hasOwnProperty(i)) {\n                            popupHeight = window.innerHeight >= heights[i] ? heights[i] : popupHeight;\n                        }\n                    }\n\n                    self.launchPopup(self.amazonUrl, popupWidth, popupHeight);\n\n                    // flags that popup is open and poll timer can proceed\n                    windowOpen = true;\n\n                    // begin polling for feedback\n                    pollTimer = setTimeout(self.pollForKeys(self), self.pollInterval);\n\n                    // Save JSON\n                    $('#save-json').click(function (e) {\n                        e.stop();\n                        var json = $('#json-import').value;\n\n                        if (!json || !json.isJSON()) {\n                            return;\n                        }\n                        elJson.value = json;\n                        $('#save').click();\n                    });\n\n                    // Autoset payment region (for EU/UK)\n                    if (self.region.indexOf('eu') !== -1) {\n                        region = 'de';\n                    }\n\n                    if (elCheckDefault && elCheckDefault.length) {\n                        elCheckDefault[0].click();\n                    }\n\n                    if (elRegion) {\n                        elRegion.value = region;\n                    }\n                },\n\n                /**\n                 * Perform Ajax request looking for new keys.\n                 */\n                pollForKeys: function (self) {\n                    clearTimeout(pollTimer);\n                    if (windowOpen) {\n                        $.ajax({\n                            url: self.pollUrl,\n                            data: {},\n                            type: 'GET',\n                            cache: true,\n                            dataType: 'json',\n                            context: this,\n\n                            /**\n                             * Response handler\n                             * @param {Object} response\n                             */\n                            success: function (response) {\n                                // poll controller returns a 0 if invalid and a 1 if valid\n                                if (response) {\n                                    $('#amazon_reload').show();\n                                    document.location.replace(document.location + '#payment_amazon_payments-head');\n                                    location.reload();\n                                }\n                                else {\n                                    pollTimer = setTimeout(self.pollForKeys(self), self.pollInterval);\n                                }\n                            }\n                        });\n                    }\n                },\n\n                /**\n                 * Sets up dynamic form for capturing popup/form input for simple path setup.\n                 */\n                generateSimplePathForm: function () {\n\n                    this.$form = new Element('form', {\n                        method: 'post',\n                        action: this.amazonUrl,\n                        id: 'simplepath_form',\n                        target: 'simplepath',\n                        novalidate: 'novalidate',\n                    });\n\n                    this.$container.wrap(this.$form);\n\n                    // Convert formParams JSON to hidden inputs\n                    for (var key in this.formParams) {\n                        if ( $.isPlainObject(this.formParams[key]) || $.isArray(this.formParams[key])) {\n                            for (var i in this.formParams[key]) {\n                                if (typeof this.formParams[key][i] !== 'function') {\n                                    $(new Element('input', {\n                                        type: 'hidden',\n                                        name: key,\n                                        value: this.formParams[key][i],\n                                        novalidate: 'novalidate'\n                                    })).appendTo($(\"#simplepath_form\"));\n                                }\n                            }\n                        } else {\n                            $(new Element('input', {\n                                type: 'hidden',\n                                name: key,\n                                novalidate: 'novalidate',\n                                value: this.formParams[key]\n                            })).appendTo($(\"#simplepath_form\"));\n                        }\n                    }\n\n                    // unable to use this.form, had to resort to direct call\n                    $('#simplepath_form').validate({});\n                },\n\n                /**\n                 * display amazon simple path config section\n                 */\n                showAmazonConfig: function () {\n                    this.$amazonSimplepath.show();\n                    this.$amazonSpBack.hide();\n                    if (this.$amazonCredentialsHeader.hasClass('open')) {\n                        this.$amazonCredentialsHeader.click();\n                    }\n                },\n\n                /**\n                 * hide amazon simple path config.\n                 */\n                hideAmazonConfig: function () {\n                    this.$amazonSimplepath.hide();\n                    this.$amazonSpBack.show();\n                    if (!this.$amazonCredentialsHeader.hasClass('open')) {\n                        this.$amazonCredentialsHeader.click();\n                    }\n                },\n\n                /**\n                 * Get payment code\n                 * @returns {String}\n                 */\n                getCountry: function () {\n                    return this.co.toLowerCase();\n                },\n\n                /**\n                 * Generate popup window for simple path process\n                 * @param url\n                 * @param requestedWidth\n                 * @param requestedHeight\n                 */\n                launchPopup: function (url, requestedWidth, requestedHeight) {\n                    var leftOffset = this.getLeftOffset(requestedWidth),\n                        topOffset = this.getTopOffset(requestedHeight),\n                        newWindow = window.open(url, 'simplepath', 'scrollbars=yes, width=' + requestedWidth\n                            + ', height=' + requestedHeight + ', top=' + topOffset + ', left=' + leftOffset);\n\n                    if (window.focus) {\n                        newWindow.focus();\n                    }\n\n                    // Set interval to check when this popup window is closed so timeout can be suspended.\n                    var winTimer = window.setInterval(function () {\n                        if (newWindow.closed !== false) {\n                            window.clearInterval(winTimer);\n                            windowOpen = false;\n                        }\n                    });\n                },\n\n                /**\n                 * Determine left offset for popup window\n                 * @param requestedWidth\n                 * @returns {number}\n                 */\n                getLeftOffset: function (requestedWidth) {\n                    var dualScreenLeft = window.screenLeft !== undefined ? window.screenLeft : screen.left;\n\n                    return (this.windowWidth() / 2) - (requestedWidth / 2) + dualScreenLeft;\n                },\n\n                /**\n                 * Determine top offset for popup window\n                 * @param requestedHeight\n                 * @returns {number}\n                 */\n                getTopOffset: function (requestedHeight) {\n                    var dualScreenTop = window.screenTop !== undefined ? window.screenTop : screen.top;\n\n                    return (this.windowHeight() / 2) - (requestedHeight / 2) + dualScreenTop;\n                },\n\n                /**\n                 * Determine width of popup window\n                 * @returns {number}\n                 */\n                windowWidth: function () {\n                    return window.innerWidth\n                        || document.documentElement.clientWidth\n                        || screen.width;\n                },\n\n                /**\n                 * Determine window height of popup\n                 * @returns {number}\n                 */\n                windowHeight: function () {\n                    return window.innerHeight\n                        || document.documentElement.clientHeight\n                        || screen.height;\n                }\n            }\n        );\n    }\n);\n","Magento_InventoryLowQuantityNotificationAdminUi/js/components/notify-stock-qty.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Ui/js/form/element/abstract'\n], function (AbstractField) {\n    'use strict';\n\n    return AbstractField.extend({\n        defaults: {\n            notifyStockQtyUseDefault: '',\n            manageStock: '',\n            listens: {\n                notifyStockQtyUseDefault: 'onChange',\n                manageStock: 'onChange'\n            }\n        },\n\n        /**\n         * @inheritdoc\n         */\n        initObservable: function () {\n            return this\n                ._super()\n                .observe(['notifyStockQtyUseDefault', 'manageStock']);\n        },\n\n        /**\n         * Disable input when Manage Stock switched off or Notify Quantity Use Default\n         */\n        onChange: function () {\n            this.disabled(\n                this.notifyStockQtyUseDefault() ||\n                this.manageStock()\n            );\n        }\n    });\n});\n","Magento_InventoryLowQuantityNotificationAdminUi/js/components/use-config-settings.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'Magento_Ui/js/form/element/single-checkbox'\n], function (checkbox) {\n    'use strict';\n\n    return checkbox.extend({\n        defaults: {\n            valueFromConfig: '',\n            linkedValue: ''\n        },\n\n        /**\n         * @inheritdoc\n         */\n        initObservable: function () {\n            return this\n                ._super()\n                .observe(['valueFromConfig', 'linkedValue']);\n        },\n\n        /**\n         * @inheritdoc\n         */\n        'onCheckedChanged': function (newChecked) {\n            if (newChecked) {\n                this.linkedValue(this.valueFromConfig());\n            }\n\n            this._super(newChecked);\n        },\n\n        /**\n         * @returns {String}\n         */\n        getInitialValue: function () {\n            var values = [this.value(), this.default],\n                value;\n\n            values.some(function (v) {\n                value = v || !!v;\n\n                return value;\n            });\n\n            return this.normalizeData(value);\n        }\n    });\n});\n","Mageplaza_Core/js/owl.carousel.min.js":"/**\n * Owl Carousel v2.3.4\n * Copyright 2013-2018 David Deutsch\n * Licensed under: SEE LICENSE IN https://github.com/OwlCarousel2/OwlCarousel2/blob/master/LICENSE\n */\n!function(a,b,c,d){function e(b,c){this.settings=null,this.options=a.extend({},e.Defaults,c),this.$element=a(b),this._handlers={},this._plugins={},this._supress={},this._current=null,this._speed=null,this._coordinates=[],this._breakpoint=null,this._width=null,this._items=[],this._clones=[],this._mergers=[],this._widths=[],this._invalidated={},this._pipe=[],this._drag={time:null,target:null,pointer:null,stage:{start:null,current:null},direction:null},this._states={current:{},tags:{initializing:[\"busy\"],animating:[\"busy\"],dragging:[\"interacting\"]}},a.each([\"onResize\",\"onThrottledResize\"],a.proxy(function(b,c){this._handlers[c]=a.proxy(this[c],this)},this)),a.each(e.Plugins,a.proxy(function(a,b){this._plugins[a.charAt(0).toLowerCase()+a.slice(1)]=new b(this)},this)),a.each(e.Workers,a.proxy(function(b,c){this._pipe.push({filter:c.filter,run:a.proxy(c.run,this)})},this)),this.setup(),this.initialize()}e.Defaults={items:3,loop:!1,center:!1,rewind:!1,checkVisibility:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!0,freeDrag:!1,margin:0,stagePadding:0,merge:!1,mergeFit:!0,autoWidth:!1,startPosition:0,rtl:!1,smartSpeed:250,fluidSpeed:!1,dragEndSpeed:!1,responsive:{},responsiveRefreshRate:200,responsiveBaseElement:b,fallbackEasing:\"swing\",slideTransition:\"\",info:!1,nestedItemSelector:!1,itemElement:\"div\",stageElement:\"div\",refreshClass:\"owl-refresh\",loadedClass:\"owl-loaded\",loadingClass:\"owl-loading\",rtlClass:\"owl-rtl\",responsiveClass:\"owl-responsive\",dragClass:\"owl-drag\",itemClass:\"owl-item\",stageClass:\"owl-stage\",stageOuterClass:\"owl-stage-outer\",grabClass:\"owl-grab\"},e.Width={Default:\"default\",Inner:\"inner\",Outer:\"outer\"},e.Type={Event:\"event\",State:\"state\"},e.Plugins={},e.Workers=[{filter:[\"width\",\"settings\"],run:function(){this._width=this.$element.width()}},{filter:[\"width\",\"items\",\"settings\"],run:function(a){a.current=this._items&&this._items[this.relative(this._current)]}},{filter:[\"items\",\"settings\"],run:function(){this.$stage.children(\".cloned\").remove()}},{filter:[\"width\",\"items\",\"settings\"],run:function(a){var b=this.settings.margin||\"\",c=!this.settings.autoWidth,d=this.settings.rtl,e={width:\"auto\",\"margin-left\":d?b:\"\",\"margin-right\":d?\"\":b};!c&&this.$stage.children().css(e),a.css=e}},{filter:[\"width\",\"items\",\"settings\"],run:function(a){var b=(this.width()/this.settings.items).toFixed(3)-this.settings.margin,c=null,d=this._items.length,e=!this.settings.autoWidth,f=[];for(a.items={merge:!1,width:b};d--;)c=this._mergers[d],c=this.settings.mergeFit&&Math.min(c,this.settings.items)||c,a.items.merge=c>1||a.items.merge,f[d]=e?b*c:this._items[d].width();this._widths=f}},{filter:[\"items\",\"settings\"],run:function(){var b=[],c=this._items,d=this.settings,e=Math.max(2*d.items,4),f=2*Math.ceil(c.length/2),g=d.loop&&c.length?d.rewind?e:Math.max(e,f):0,h=\"\",i=\"\";for(g/=2;g>0;)b.push(this.normalize(b.length/2,!0)),h+=c[b[b.length-1]][0].outerHTML,b.push(this.normalize(c.length-1-(b.length-1)/2,!0)),i=c[b[b.length-1]][0].outerHTML+i,g-=1;this._clones=b,a(h).addClass(\"cloned\").appendTo(this.$stage),a(i).addClass(\"cloned\").prependTo(this.$stage)}},{filter:[\"width\",\"items\",\"settings\"],run:function(){for(var a=this.settings.rtl?1:-1,b=this._clones.length+this._items.length,c=-1,d=0,e=0,f=[];++c<b;)d=f[c-1]||0,e=this._widths[this.relative(c)]+this.settings.margin,f.push(d+e*a);this._coordinates=f}},{filter:[\"width\",\"items\",\"settings\"],run:function(){var a=this.settings.stagePadding,b=this._coordinates,c={width:Math.ceil(Math.abs(b[b.length-1]))+2*a,\"padding-left\":a||\"\",\"padding-right\":a||\"\"};this.$stage.css(c)}},{filter:[\"width\",\"items\",\"settings\"],run:function(a){var b=this._coordinates.length,c=!this.settings.autoWidth,d=this.$stage.children();if(c&&a.items.merge)for(;b--;)a.css.width=this._widths[this.relative(b)],d.eq(b).css(a.css);else c&&(a.css.width=a.items.width,d.css(a.css))}},{filter:[\"items\"],run:function(){this._coordinates.length<1&&this.$stage.removeAttr(\"style\")}},{filter:[\"width\",\"items\",\"settings\"],run:function(a){a.current=a.current?this.$stage.children().index(a.current):0,a.current=Math.max(this.minimum(),Math.min(this.maximum(),a.current)),this.reset(a.current)}},{filter:[\"position\"],run:function(){this.animate(this.coordinates(this._current))}},{filter:[\"width\",\"position\",\"items\",\"settings\"],run:function(){var a,b,c,d,e=this.settings.rtl?1:-1,f=2*this.settings.stagePadding,g=this.coordinates(this.current())+f,h=g+this.width()*e,i=[];for(c=0,d=this._coordinates.length;c<d;c++)a=this._coordinates[c-1]||0,b=Math.abs(this._coordinates[c])+f*e,(this.op(a,\"<=\",g)&&this.op(a,\">\",h)||this.op(b,\"<\",g)&&this.op(b,\">\",h))&&i.push(c);this.$stage.children(\".active\").removeClass(\"active\"),this.$stage.children(\":eq(\"+i.join(\"), :eq(\")+\")\").addClass(\"active\"),this.$stage.children(\".center\").removeClass(\"center\"),this.settings.center&&this.$stage.children().eq(this.current()).addClass(\"center\")}}],e.prototype.initializeStage=function(){this.$stage=this.$element.find(\".\"+this.settings.stageClass),this.$stage.length||(this.$element.addClass(this.options.loadingClass),this.$stage=a(\"<\"+this.settings.stageElement+\">\",{class:this.settings.stageClass}).wrap(a(\"<div/>\",{class:this.settings.stageOuterClass})),this.$element.append(this.$stage.parent()))},e.prototype.initializeItems=function(){var b=this.$element.find(\".owl-item\");if(b.length)return this._items=b.get().map(function(b){return a(b)}),this._mergers=this._items.map(function(){return 1}),void this.refresh();this.replace(this.$element.children().not(this.$stage.parent())),this.isVisible()?this.refresh():this.invalidate(\"width\"),this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass)},e.prototype.initialize=function(){if(this.enter(\"initializing\"),this.trigger(\"initialize\"),this.$element.toggleClass(this.settings.rtlClass,this.settings.rtl),this.settings.autoWidth&&!this.is(\"pre-loading\")){var a,b,c;a=this.$element.find(\"img\"),b=this.settings.nestedItemSelector?\".\"+this.settings.nestedItemSelector:d,c=this.$element.children(b).width(),a.length&&c<=0&&this.preloadAutoWidthImages(a)}this.initializeStage(),this.initializeItems(),this.registerEventHandlers(),this.leave(\"initializing\"),this.trigger(\"initialized\")},e.prototype.isVisible=function(){return!this.settings.checkVisibility||this.$element.is(\":visible\")},e.prototype.setup=function(){var b=this.viewport(),c=this.options.responsive,d=-1,e=null;c?(a.each(c,function(a){a<=b&&a>d&&(d=Number(a))}),e=a.extend({},this.options,c[d]),\"function\"==typeof e.stagePadding&&(e.stagePadding=e.stagePadding()),delete e.responsive,e.responsiveClass&&this.$element.attr(\"class\",this.$element.attr(\"class\").replace(new RegExp(\"(\"+this.options.responsiveClass+\"-)\\\\S+\\\\s\",\"g\"),\"$1\"+d))):e=a.extend({},this.options),this.trigger(\"change\",{property:{name:\"settings\",value:e}}),this._breakpoint=d,this.settings=e,this.invalidate(\"settings\"),this.trigger(\"changed\",{property:{name:\"settings\",value:this.settings}})},e.prototype.optionsLogic=function(){this.settings.autoWidth&&(this.settings.stagePadding=!1,this.settings.merge=!1)},e.prototype.prepare=function(b){var c=this.trigger(\"prepare\",{content:b});return c.data||(c.data=a(\"<\"+this.settings.itemElement+\"/>\").addClass(this.options.itemClass).append(b)),this.trigger(\"prepared\",{content:c.data}),c.data},e.prototype.update=function(){for(var b=0,c=this._pipe.length,d=a.proxy(function(a){return this[a]},this._invalidated),e={};b<c;)(this._invalidated.all||a.grep(this._pipe[b].filter,d).length>0)&&this._pipe[b].run(e),b++;this._invalidated={},!this.is(\"valid\")&&this.enter(\"valid\")},e.prototype.width=function(a){switch(a=a||e.Width.Default){case e.Width.Inner:case e.Width.Outer:return this._width;default:return this._width-2*this.settings.stagePadding+this.settings.margin}},e.prototype.refresh=function(){this.enter(\"refreshing\"),this.trigger(\"refresh\"),this.setup(),this.optionsLogic(),this.$element.addClass(this.options.refreshClass),this.update(),this.$element.removeClass(this.options.refreshClass),this.leave(\"refreshing\"),this.trigger(\"refreshed\")},e.prototype.onThrottledResize=function(){b.clearTimeout(this.resizeTimer),this.resizeTimer=b.setTimeout(this._handlers.onResize,this.settings.responsiveRefreshRate)},e.prototype.onResize=function(){return!!this._items.length&&(this._width!==this.$element.width()&&(!!this.isVisible()&&(this.enter(\"resizing\"),this.trigger(\"resize\").isDefaultPrevented()?(this.leave(\"resizing\"),!1):(this.invalidate(\"width\"),this.refresh(),this.leave(\"resizing\"),void this.trigger(\"resized\")))))},e.prototype.registerEventHandlers=function(){a.support.transition&&this.$stage.on(a.support.transition.end+\".owl.core\",a.proxy(this.onTransitionEnd,this)),!1!==this.settings.responsive&&this.on(b,\"resize\",this._handlers.onThrottledResize),this.settings.mouseDrag&&(this.$element.addClass(this.options.dragClass),this.$stage.on(\"mousedown.owl.core\",a.proxy(this.onDragStart,this)),this.$stage.on(\"dragstart.owl.core selectstart.owl.core\",function(){return!1})),this.settings.touchDrag&&(this.$stage.on(\"touchstart.owl.core\",a.proxy(this.onDragStart,this)),this.$stage.on(\"touchcancel.owl.core\",a.proxy(this.onDragEnd,this)))},e.prototype.onDragStart=function(b){var d=null;3!==b.which&&(a.support.transform?(d=this.$stage.css(\"transform\").replace(/.*\\(|\\)| /g,\"\").split(\",\"),d={x:d[16===d.length?12:4],y:d[16===d.length?13:5]}):(d=this.$stage.position(),d={x:this.settings.rtl?d.left+this.$stage.width()-this.width()+this.settings.margin:d.left,y:d.top}),this.is(\"animating\")&&(a.support.transform?this.animate(d.x):this.$stage.stop(),this.invalidate(\"position\")),this.$element.toggleClass(this.options.grabClass,\"mousedown\"===b.type),this.speed(0),this._drag.time=(new Date).getTime(),this._drag.target=a(b.target),this._drag.stage.start=d,this._drag.stage.current=d,this._drag.pointer=this.pointer(b),a(c).on(\"mouseup.owl.core touchend.owl.core\",a.proxy(this.onDragEnd,this)),a(c).one(\"mousemove.owl.core touchmove.owl.core\",a.proxy(function(b){var d=this.difference(this._drag.pointer,this.pointer(b));a(c).on(\"mousemove.owl.core touchmove.owl.core\",a.proxy(this.onDragMove,this)),Math.abs(d.x)<Math.abs(d.y)&&this.is(\"valid\")||(b.preventDefault(),this.enter(\"dragging\"),this.trigger(\"drag\"))},this)))},e.prototype.onDragMove=function(a){var b=null,c=null,d=null,e=this.difference(this._drag.pointer,this.pointer(a)),f=this.difference(this._drag.stage.start,e);this.is(\"dragging\")&&(a.preventDefault(),this.settings.loop?(b=this.coordinates(this.minimum()),c=this.coordinates(this.maximum()+1)-b,f.x=((f.x-b)%c+c)%c+b):(b=this.settings.rtl?this.coordinates(this.maximum()):this.coordinates(this.minimum()),c=this.settings.rtl?this.coordinates(this.minimum()):this.coordinates(this.maximum()),d=this.settings.pullDrag?-1*e.x/5:0,f.x=Math.max(Math.min(f.x,b+d),c+d)),this._drag.stage.current=f,this.animate(f.x))},e.prototype.onDragEnd=function(b){var d=this.difference(this._drag.pointer,this.pointer(b)),e=this._drag.stage.current,f=d.x>0^this.settings.rtl?\"left\":\"right\";a(c).off(\".owl.core\"),this.$element.removeClass(this.options.grabClass),(0!==d.x&&this.is(\"dragging\")||!this.is(\"valid\"))&&(this.speed(this.settings.dragEndSpeed||this.settings.smartSpeed),this.current(this.closest(e.x,0!==d.x?f:this._drag.direction)),this.invalidate(\"position\"),this.update(),this._drag.direction=f,(Math.abs(d.x)>3||(new Date).getTime()-this._drag.time>300)&&this._drag.target.one(\"click.owl.core\",function(){return!1})),this.is(\"dragging\")&&(this.leave(\"dragging\"),this.trigger(\"dragged\"))},e.prototype.closest=function(b,c){var e=-1,f=30,g=this.width(),h=this.coordinates();return this.settings.freeDrag||a.each(h,a.proxy(function(a,i){return\"left\"===c&&b>i-f&&b<i+f?e=a:\"right\"===c&&b>i-g-f&&b<i-g+f?e=a+1:this.op(b,\"<\",i)&&this.op(b,\">\",h[a+1]!==d?h[a+1]:i-g)&&(e=\"left\"===c?a+1:a),-1===e},this)),this.settings.loop||(this.op(b,\">\",h[this.minimum()])?e=b=this.minimum():this.op(b,\"<\",h[this.maximum()])&&(e=b=this.maximum())),e},e.prototype.animate=function(b){var c=this.speed()>0;this.is(\"animating\")&&this.onTransitionEnd(),c&&(this.enter(\"animating\"),this.trigger(\"translate\")),a.support.transform3d&&a.support.transition?this.$stage.css({transform:\"translate3d(\"+b+\"px,0px,0px)\",transition:this.speed()/1e3+\"s\"+(this.settings.slideTransition?\" \"+this.settings.slideTransition:\"\")}):c?this.$stage.animate({left:b+\"px\"},this.speed(),this.settings.fallbackEasing,a.proxy(this.onTransitionEnd,this)):this.$stage.css({left:b+\"px\"})},e.prototype.is=function(a){return this._states.current[a]&&this._states.current[a]>0},e.prototype.current=function(a){if(a===d)return this._current;if(0===this._items.length)return d;if(a=this.normalize(a),this._current!==a){var b=this.trigger(\"change\",{property:{name:\"position\",value:a}});b.data!==d&&(a=this.normalize(b.data)),this._current=a,this.invalidate(\"position\"),this.trigger(\"changed\",{property:{name:\"position\",value:this._current}})}return this._current},e.prototype.invalidate=function(b){return\"string\"===a.type(b)&&(this._invalidated[b]=!0,this.is(\"valid\")&&this.leave(\"valid\")),a.map(this._invalidated,function(a,b){return b})},e.prototype.reset=function(a){(a=this.normalize(a))!==d&&(this._speed=0,this._current=a,this.suppress([\"translate\",\"translated\"]),this.animate(this.coordinates(a)),this.release([\"translate\",\"translated\"]))},e.prototype.normalize=function(a,b){var c=this._items.length,e=b?0:this._clones.length;return!this.isNumeric(a)||c<1?a=d:(a<0||a>=c+e)&&(a=((a-e/2)%c+c)%c+e/2),a},e.prototype.relative=function(a){return a-=this._clones.length/2,this.normalize(a,!0)},e.prototype.maximum=function(a){var b,c,d,e=this.settings,f=this._coordinates.length;if(e.loop)f=this._clones.length/2+this._items.length-1;else if(e.autoWidth||e.merge){if(b=this._items.length)for(c=this._items[--b].width(),d=this.$element.width();b--&&!((c+=this._items[b].width()+this.settings.margin)>d););f=b+1}else f=e.center?this._items.length-1:this._items.length-e.items;return a&&(f-=this._clones.length/2),Math.max(f,0)},e.prototype.minimum=function(a){return a?0:this._clones.length/2},e.prototype.items=function(a){return a===d?this._items.slice():(a=this.normalize(a,!0),this._items[a])},e.prototype.mergers=function(a){return a===d?this._mergers.slice():(a=this.normalize(a,!0),this._mergers[a])},e.prototype.clones=function(b){var c=this._clones.length/2,e=c+this._items.length,f=function(a){return a%2==0?e+a/2:c-(a+1)/2};return b===d?a.map(this._clones,function(a,b){return f(b)}):a.map(this._clones,function(a,c){return a===b?f(c):null})},e.prototype.speed=function(a){return a!==d&&(this._speed=a),this._speed},e.prototype.coordinates=function(b){var c,e=1,f=b-1;return b===d?a.map(this._coordinates,a.proxy(function(a,b){return this.coordinates(b)},this)):(this.settings.center?(this.settings.rtl&&(e=-1,f=b+1),c=this._coordinates[b],c+=(this.width()-c+(this._coordinates[f]||0))/2*e):c=this._coordinates[f]||0,c=Math.ceil(c))},e.prototype.duration=function(a,b,c){return 0===c?0:Math.min(Math.max(Math.abs(b-a),1),6)*Math.abs(c||this.settings.smartSpeed)},e.prototype.to=function(a,b){var c=this.current(),d=null,e=a-this.relative(c),f=(e>0)-(e<0),g=this._items.length,h=this.minimum(),i=this.maximum();this.settings.loop?(!this.settings.rewind&&Math.abs(e)>g/2&&(e+=-1*f*g),a=c+e,(d=((a-h)%g+g)%g+h)!==a&&d-e<=i&&d-e>0&&(c=d-e,a=d,this.reset(c))):this.settings.rewind?(i+=1,a=(a%i+i)%i):a=Math.max(h,Math.min(i,a)),this.speed(this.duration(c,a,b)),this.current(a),this.isVisible()&&this.update()},e.prototype.next=function(a){a=a||!1,this.to(this.relative(this.current())+1,a)},e.prototype.prev=function(a){a=a||!1,this.to(this.relative(this.current())-1,a)},e.prototype.onTransitionEnd=function(a){if(a!==d&&(a.stopPropagation(),(a.target||a.srcElement||a.originalTarget)!==this.$stage.get(0)))return!1;this.leave(\"animating\"),this.trigger(\"translated\")},e.prototype.viewport=function(){var d;return this.options.responsiveBaseElement!==b?d=a(this.options.responsiveBaseElement).width():b.innerWidth?d=b.innerWidth:c.documentElement&&c.documentElement.clientWidth?d=c.documentElement.clientWidth:console.warn(\"Can not detect viewport width.\"),d},e.prototype.replace=function(b){this.$stage.empty(),this._items=[],b&&(b=b instanceof jQuery?b:a(b)),this.settings.nestedItemSelector&&(b=b.find(\".\"+this.settings.nestedItemSelector)),b.filter(function(){return 1===this.nodeType}).each(a.proxy(function(a,b){b=this.prepare(b),this.$stage.append(b),this._items.push(b),this._mergers.push(1*b.find(\"[data-merge]\").addBack(\"[data-merge]\").attr(\"data-merge\")||1)},this)),this.reset(this.isNumeric(this.settings.startPosition)?this.settings.startPosition:0),this.invalidate(\"items\")},e.prototype.add=function(b,c){var e=this.relative(this._current);c=c===d?this._items.length:this.normalize(c,!0),b=b instanceof jQuery?b:a(b),this.trigger(\"add\",{content:b,position:c}),b=this.prepare(b),0===this._items.length||c===this._items.length?(0===this._items.length&&this.$stage.append(b),0!==this._items.length&&this._items[c-1].after(b),this._items.push(b),this._mergers.push(1*b.find(\"[data-merge]\").addBack(\"[data-merge]\").attr(\"data-merge\")||1)):(this._items[c].before(b),this._items.splice(c,0,b),this._mergers.splice(c,0,1*b.find(\"[data-merge]\").addBack(\"[data-merge]\").attr(\"data-merge\")||1)),this._items[e]&&this.reset(this._items[e].index()),this.invalidate(\"items\"),this.trigger(\"added\",{content:b,position:c})},e.prototype.remove=function(a){(a=this.normalize(a,!0))!==d&&(this.trigger(\"remove\",{content:this._items[a],position:a}),this._items[a].remove(),this._items.splice(a,1),this._mergers.splice(a,1),this.invalidate(\"items\"),this.trigger(\"removed\",{content:null,position:a}))},e.prototype.preloadAutoWidthImages=function(b){b.each(a.proxy(function(b,c){this.enter(\"pre-loading\"),c=a(c),a(new Image).one(\"load\",a.proxy(function(a){c.attr(\"src\",a.target.src),c.css(\"opacity\",1),this.leave(\"pre-loading\"),!this.is(\"pre-loading\")&&!this.is(\"initializing\")&&this.refresh()},this)).attr(\"src\",c.attr(\"src\")||c.attr(\"data-src\")||c.attr(\"data-src-retina\"))},this))},e.prototype.destroy=function(){this.$element.off(\".owl.core\"),this.$stage.off(\".owl.core\"),a(c).off(\".owl.core\"),!1!==this.settings.responsive&&(b.clearTimeout(this.resizeTimer),this.off(b,\"resize\",this._handlers.onThrottledResize));for(var d in this._plugins)this._plugins[d].destroy();this.$stage.children(\".cloned\").remove(),this.$stage.unwrap(),this.$stage.children().contents().unwrap(),this.$stage.children().unwrap(),this.$stage.remove(),this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr(\"class\",this.$element.attr(\"class\").replace(new RegExp(this.options.responsiveClass+\"-\\\\S+\\\\s\",\"g\"),\"\")).removeData(\"owl.carousel\")},e.prototype.op=function(a,b,c){var d=this.settings.rtl;switch(b){case\"<\":return d?a>c:a<c;case\">\":return d?a<c:a>c;case\">=\":return d?a<=c:a>=c;case\"<=\":return d?a>=c:a<=c}},e.prototype.on=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d):a.attachEvent&&a.attachEvent(\"on\"+b,c)},e.prototype.off=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,d):a.detachEvent&&a.detachEvent(\"on\"+b,c)},e.prototype.trigger=function(b,c,d,f,g){var h={item:{count:this._items.length,index:this.current()}},i=a.camelCase(a.grep([\"on\",b,d],function(a){return a}).join(\"-\").toLowerCase()),j=a.Event([b,\"owl\",d||\"carousel\"].join(\".\").toLowerCase(),a.extend({relatedTarget:this},h,c));return this._supress[b]||(a.each(this._plugins,function(a,b){b.onTrigger&&b.onTrigger(j)}),this.register({type:e.Type.Event,name:b}),this.$element.trigger(j),this.settings&&\"function\"==typeof this.settings[i]&&this.settings[i].call(this,j)),j},e.prototype.enter=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]===d&&(this._states.current[b]=0),this._states.current[b]++},this))},e.prototype.leave=function(b){a.each([b].concat(this._states.tags[b]||[]),a.proxy(function(a,b){this._states.current[b]--},this))},e.prototype.register=function(b){if(b.type===e.Type.Event){if(a.event.special[b.name]||(a.event.special[b.name]={}),!a.event.special[b.name].owl){var c=a.event.special[b.name]._default;a.event.special[b.name]._default=function(a){return!c||!c.apply||a.namespace&&-1!==a.namespace.indexOf(\"owl\")?a.namespace&&a.namespace.indexOf(\"owl\")>-1:c.apply(this,arguments)},a.event.special[b.name].owl=!0}}else b.type===e.Type.State&&(this._states.tags[b.name]?this._states.tags[b.name]=this._states.tags[b.name].concat(b.tags):this._states.tags[b.name]=b.tags,this._states.tags[b.name]=a.grep(this._states.tags[b.name],a.proxy(function(c,d){return a.inArray(c,this._states.tags[b.name])===d},this)))},e.prototype.suppress=function(b){a.each(b,a.proxy(function(a,b){this._supress[b]=!0},this))},e.prototype.release=function(b){a.each(b,a.proxy(function(a,b){delete this._supress[b]},this))},e.prototype.pointer=function(a){var c={x:null,y:null};return a=a.originalEvent||a||b.event,a=a.touches&&a.touches.length?a.touches[0]:a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:a,a.pageX?(c.x=a.pageX,c.y=a.pageY):(c.x=a.clientX,c.y=a.clientY),c},e.prototype.isNumeric=function(a){return!isNaN(parseFloat(a))},e.prototype.difference=function(a,b){return{x:a.x-b.x,y:a.y-b.y}},a.fn.owlCarousel=function(b){var c=Array.prototype.slice.call(arguments,1);return this.each(function(){var d=a(this),f=d.data(\"owl.carousel\");f||(f=new e(this,\"object\"==typeof b&&b),d.data(\"owl.carousel\",f),a.each([\"next\",\"prev\",\"to\",\"destroy\",\"refresh\",\"replace\",\"add\",\"remove\"],function(b,c){f.register({type:e.Type.Event,name:c}),f.$element.on(c+\".owl.carousel.core\",a.proxy(function(a){a.namespace&&a.relatedTarget!==this&&(this.suppress([c]),f[c].apply(this,[].slice.call(arguments,1)),this.release([c]))},f))})),\"string\"==typeof b&&\"_\"!==b.charAt(0)&&f[b].apply(f,c)})},a.fn.owlCarousel.Constructor=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._interval=null,this._visible=null,this._handlers={\"initialized.owl.carousel\":a.proxy(function(a){a.namespace&&this._core.settings.autoRefresh&&this.watch()},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={autoRefresh:!0,autoRefreshInterval:500},e.prototype.watch=function(){this._interval||(this._visible=this._core.isVisible(),this._interval=b.setInterval(a.proxy(this.refresh,this),this._core.settings.autoRefreshInterval))},e.prototype.refresh=function(){this._core.isVisible()!==this._visible&&(this._visible=!this._visible,this._core.$element.toggleClass(\"owl-hidden\",!this._visible),this._visible&&this._core.invalidate(\"width\")&&this._core.refresh())},e.prototype.destroy=function(){var a,c;b.clearInterval(this._interval);for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(c in Object.getOwnPropertyNames(this))\"function\"!=typeof this[c]&&(this[c]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoRefresh=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._loaded=[],this._handlers={\"initialized.owl.carousel change.owl.carousel resized.owl.carousel\":a.proxy(function(b){if(b.namespace&&this._core.settings&&this._core.settings.lazyLoad&&(b.property&&\"position\"==b.property.name||\"initialized\"==b.type)){var c=this._core.settings,e=c.center&&Math.ceil(c.items/2)||c.items,f=c.center&&-1*e||0,g=(b.property&&b.property.value!==d?b.property.value:this._core.current())+f,h=this._core.clones().length,i=a.proxy(function(a,b){this.load(b)},this);for(c.lazyLoadEager>0&&(e+=c.lazyLoadEager,c.loop&&(g-=c.lazyLoadEager,e++));f++<e;)this.load(h/2+this._core.relative(g)),h&&a.each(this._core.clones(this._core.relative(g)),i),g++}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers)};e.Defaults={lazyLoad:!1,lazyLoadEager:0},e.prototype.load=function(c){var d=this._core.$stage.children().eq(c),e=d&&d.find(\".owl-lazy\");!e||a.inArray(d.get(0),this._loaded)>-1||(e.each(a.proxy(function(c,d){var e,f=a(d),g=b.devicePixelRatio>1&&f.attr(\"data-src-retina\")||f.attr(\"data-src\")||f.attr(\"data-srcset\");this._core.trigger(\"load\",{element:f,url:g},\"lazy\"),f.is(\"img\")?f.one(\"load.owl.lazy\",a.proxy(function(){f.css(\"opacity\",1),this._core.trigger(\"loaded\",{element:f,url:g},\"lazy\")},this)).attr(\"src\",g):f.is(\"source\")?f.one(\"load.owl.lazy\",a.proxy(function(){this._core.trigger(\"loaded\",{element:f,url:g},\"lazy\")},this)).attr(\"srcset\",g):(e=new Image,e.onload=a.proxy(function(){f.css({\"background-image\":'url(\"'+g+'\")',opacity:\"1\"}),this._core.trigger(\"loaded\",{element:f,url:g},\"lazy\")},this),e.src=g)},this)),this._loaded.push(d.get(0)))},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this._core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))\"function\"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Lazy=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(c){this._core=c,this._previousHeight=null,this._handlers={\"initialized.owl.carousel refreshed.owl.carousel\":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&this.update()},this),\"changed.owl.carousel\":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&\"position\"===a.property.name&&this.update()},this),\"loaded.owl.lazy\":a.proxy(function(a){a.namespace&&this._core.settings.autoHeight&&a.element.closest(\".\"+this._core.settings.itemClass).index()===this._core.current()&&this.update()},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers),this._intervalId=null;var d=this;a(b).on(\"load\",function(){d._core.settings.autoHeight&&d.update()}),a(b).resize(function(){d._core.settings.autoHeight&&(null!=d._intervalId&&clearTimeout(d._intervalId),d._intervalId=setTimeout(function(){d.update()},250))})};e.Defaults={autoHeight:!1,autoHeightClass:\"owl-height\"},e.prototype.update=function(){var b=this._core._current,c=b+this._core.settings.items,d=this._core.settings.lazyLoad,e=this._core.$stage.children().toArray().slice(b,c),f=[],g=0;a.each(e,function(b,c){f.push(a(c).height())}),g=Math.max.apply(null,f),g<=1&&d&&this._previousHeight&&(g=this._previousHeight),this._previousHeight=g,this._core.$stage.parent().height(g).addClass(this._core.settings.autoHeightClass)},e.prototype.destroy=function(){var a,b;for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))\"function\"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.AutoHeight=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._videos={},this._playing=null,this._handlers={\"initialized.owl.carousel\":a.proxy(function(a){a.namespace&&this._core.register({type:\"state\",name:\"playing\",tags:[\"interacting\"]})},this),\"resize.owl.carousel\":a.proxy(function(a){a.namespace&&this._core.settings.video&&this.isInFullScreen()&&a.preventDefault()},this),\"refreshed.owl.carousel\":a.proxy(function(a){a.namespace&&this._core.is(\"resizing\")&&this._core.$stage.find(\".cloned .owl-video-frame\").remove()},this),\"changed.owl.carousel\":a.proxy(function(a){a.namespace&&\"position\"===a.property.name&&this._playing&&this.stop()},this),\"prepared.owl.carousel\":a.proxy(function(b){if(b.namespace){var c=a(b.content).find(\".owl-video\");c.length&&(c.css(\"display\",\"none\"),this.fetch(c,a(b.content)))}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this._core.$element.on(this._handlers),this._core.$element.on(\"click.owl.video\",\".owl-video-play-icon\",a.proxy(function(a){this.play(a)},this))};e.Defaults={video:!1,videoHeight:!1,videoWidth:!1},e.prototype.fetch=function(a,b){var c=function(){return a.attr(\"data-vimeo-id\")?\"vimeo\":a.attr(\"data-vzaar-id\")?\"vzaar\":\"youtube\"}(),d=a.attr(\"data-vimeo-id\")||a.attr(\"data-youtube-id\")||a.attr(\"data-vzaar-id\"),e=a.attr(\"data-width\")||this._core.settings.videoWidth,f=a.attr(\"data-height\")||this._core.settings.videoHeight,g=a.attr(\"href\");if(!g)throw new Error(\"Missing video URL.\");if(d=g.match(/(http:|https:|)\\/\\/(player.|www.|app.)?(vimeo\\.com|youtu(be\\.com|\\.be|be\\.googleapis\\.com|be\\-nocookie\\.com)|vzaar\\.com)\\/(video\\/|videos\\/|embed\\/|channels\\/.+\\/|groups\\/.+\\/|watch\\?v=|v\\/)?([A-Za-z0-9._%-]*)(\\&\\S+)?/),d[3].indexOf(\"youtu\")>-1)c=\"youtube\";else if(d[3].indexOf(\"vimeo\")>-1)c=\"vimeo\";else{if(!(d[3].indexOf(\"vzaar\")>-1))throw new Error(\"Video URL not supported.\");c=\"vzaar\"}d=d[6],this._videos[g]={type:c,id:d,width:e,height:f},b.attr(\"data-video\",g),this.thumbnail(a,this._videos[g])},e.prototype.thumbnail=function(b,c){var d,e,f,g=c.width&&c.height?\"width:\"+c.width+\"px;height:\"+c.height+\"px;\":\"\",h=b.find(\"img\"),i=\"src\",j=\"\",k=this._core.settings,l=function(c){e='<div class=\"owl-video-play-icon\"></div>',d=k.lazyLoad?a(\"<div/>\",{class:\"owl-video-tn \"+j,srcType:c}):a(\"<div/>\",{class:\"owl-video-tn\",style:\"opacity:1;background-image:url(\"+c+\")\"}),b.after(d),b.after(e)};if(b.wrap(a(\"<div/>\",{class:\"owl-video-wrapper\",style:g})),this._core.settings.lazyLoad&&(i=\"data-src\",j=\"owl-lazy\"),h.length)return l(h.attr(i)),h.remove(),!1;\"youtube\"===c.type?(f=\"//img.youtube.com/vi/\"+c.id+\"/hqdefault.jpg\",l(f)):\"vimeo\"===c.type?a.ajax({type:\"GET\",url:\"//vimeo.com/api/v2/video/\"+c.id+\".json\",jsonp:\"callback\",dataType:\"jsonp\",success:function(a){f=a[0].thumbnail_large,l(f)}}):\"vzaar\"===c.type&&a.ajax({type:\"GET\",url:\"//vzaar.com/api/videos/\"+c.id+\".json\",jsonp:\"callback\",dataType:\"jsonp\",success:function(a){f=a.framegrab_url,l(f)}})},e.prototype.stop=function(){this._core.trigger(\"stop\",null,\"video\"),this._playing.find(\".owl-video-frame\").remove(),this._playing.removeClass(\"owl-video-playing\"),this._playing=null,this._core.leave(\"playing\"),this._core.trigger(\"stopped\",null,\"video\")},e.prototype.play=function(b){var c,d=a(b.target),e=d.closest(\".\"+this._core.settings.itemClass),f=this._videos[e.attr(\"data-video\")],g=f.width||\"100%\",h=f.height||this._core.$stage.height();this._playing||(this._core.enter(\"playing\"),this._core.trigger(\"play\",null,\"video\"),e=this._core.items(this._core.relative(e.index())),this._core.reset(e.index()),c=a('<iframe frameborder=\"0\" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>'),c.attr(\"height\",h),c.attr(\"width\",g),\"youtube\"===f.type?c.attr(\"src\",\"//www.youtube.com/embed/\"+f.id+\"?autoplay=1&rel=0&v=\"+f.id):\"vimeo\"===f.type?c.attr(\"src\",\"//player.vimeo.com/video/\"+f.id+\"?autoplay=1\"):\"vzaar\"===f.type&&c.attr(\"src\",\"//view.vzaar.com/\"+f.id+\"/player?autoplay=true\"),a(c).wrap('<div class=\"owl-video-frame\" />').insertAfter(e.find(\".owl-video\")),this._playing=e.addClass(\"owl-video-playing\"))},e.prototype.isInFullScreen=function(){var b=c.fullscreenElement||c.mozFullScreenElement||c.webkitFullscreenElement;return b&&a(b).parent().hasClass(\"owl-video-frame\")},e.prototype.destroy=function(){var a,b;this._core.$element.off(\"click.owl.video\");for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))\"function\"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Video=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this.core=b,this.core.options=a.extend({},e.Defaults,this.core.options),this.swapping=!0,this.previous=d,this.next=d,this.handlers={\"change.owl.carousel\":a.proxy(function(a){a.namespace&&\"position\"==a.property.name&&(this.previous=this.core.current(),this.next=a.property.value)},this),\"drag.owl.carousel dragged.owl.carousel translated.owl.carousel\":a.proxy(function(a){a.namespace&&(this.swapping=\"translated\"==a.type)},this),\"translate.owl.carousel\":a.proxy(function(a){a.namespace&&this.swapping&&(this.core.options.animateOut||this.core.options.animateIn)&&this.swap()},this)},this.core.$element.on(this.handlers)};e.Defaults={animateOut:!1,\nanimateIn:!1},e.prototype.swap=function(){if(1===this.core.settings.items&&a.support.animation&&a.support.transition){this.core.speed(0);var b,c=a.proxy(this.clear,this),d=this.core.$stage.children().eq(this.previous),e=this.core.$stage.children().eq(this.next),f=this.core.settings.animateIn,g=this.core.settings.animateOut;this.core.current()!==this.previous&&(g&&(b=this.core.coordinates(this.previous)-this.core.coordinates(this.next),d.one(a.support.animation.end,c).css({left:b+\"px\"}).addClass(\"animated owl-animated-out\").addClass(g)),f&&e.one(a.support.animation.end,c).addClass(\"animated owl-animated-in\").addClass(f))}},e.prototype.clear=function(b){a(b.target).css({left:\"\"}).removeClass(\"animated owl-animated-out owl-animated-in\").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut),this.core.onTransitionEnd()},e.prototype.destroy=function(){var a,b;for(a in this.handlers)this.core.$element.off(a,this.handlers[a]);for(b in Object.getOwnPropertyNames(this))\"function\"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.Animate=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){var e=function(b){this._core=b,this._call=null,this._time=0,this._timeout=0,this._paused=!0,this._handlers={\"changed.owl.carousel\":a.proxy(function(a){a.namespace&&\"settings\"===a.property.name?this._core.settings.autoplay?this.play():this.stop():a.namespace&&\"position\"===a.property.name&&this._paused&&(this._time=0)},this),\"initialized.owl.carousel\":a.proxy(function(a){a.namespace&&this._core.settings.autoplay&&this.play()},this),\"play.owl.autoplay\":a.proxy(function(a,b,c){a.namespace&&this.play(b,c)},this),\"stop.owl.autoplay\":a.proxy(function(a){a.namespace&&this.stop()},this),\"mouseover.owl.autoplay\":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is(\"rotating\")&&this.pause()},this),\"mouseleave.owl.autoplay\":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is(\"rotating\")&&this.play()},this),\"touchstart.owl.core\":a.proxy(function(){this._core.settings.autoplayHoverPause&&this._core.is(\"rotating\")&&this.pause()},this),\"touchend.owl.core\":a.proxy(function(){this._core.settings.autoplayHoverPause&&this.play()},this)},this._core.$element.on(this._handlers),this._core.options=a.extend({},e.Defaults,this._core.options)};e.Defaults={autoplay:!1,autoplayTimeout:5e3,autoplayHoverPause:!1,autoplaySpeed:!1},e.prototype._next=function(d){this._call=b.setTimeout(a.proxy(this._next,this,d),this._timeout*(Math.round(this.read()/this._timeout)+1)-this.read()),this._core.is(\"interacting\")||c.hidden||this._core.next(d||this._core.settings.autoplaySpeed)},e.prototype.read=function(){return(new Date).getTime()-this._time},e.prototype.play=function(c,d){var e;this._core.is(\"rotating\")||this._core.enter(\"rotating\"),c=c||this._core.settings.autoplayTimeout,e=Math.min(this._time%(this._timeout||c),c),this._paused?(this._time=this.read(),this._paused=!1):b.clearTimeout(this._call),this._time+=this.read()%c-e,this._timeout=c,this._call=b.setTimeout(a.proxy(this._next,this,d),c-e)},e.prototype.stop=function(){this._core.is(\"rotating\")&&(this._time=0,this._paused=!0,b.clearTimeout(this._call),this._core.leave(\"rotating\"))},e.prototype.pause=function(){this._core.is(\"rotating\")&&!this._paused&&(this._time=this.read(),this._paused=!0,b.clearTimeout(this._call))},e.prototype.destroy=function(){var a,b;this.stop();for(a in this._handlers)this._core.$element.off(a,this._handlers[a]);for(b in Object.getOwnPropertyNames(this))\"function\"!=typeof this[b]&&(this[b]=null)},a.fn.owlCarousel.Constructor.Plugins.autoplay=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){\"use strict\";var e=function(b){this._core=b,this._initialized=!1,this._pages=[],this._controls={},this._templates=[],this.$element=this._core.$element,this._overrides={next:this._core.next,prev:this._core.prev,to:this._core.to},this._handlers={\"prepared.owl.carousel\":a.proxy(function(b){b.namespace&&this._core.settings.dotsData&&this._templates.push('<div class=\"'+this._core.settings.dotClass+'\">'+a(b.content).find(\"[data-dot]\").addBack(\"[data-dot]\").attr(\"data-dot\")+\"</div>\")},this),\"added.owl.carousel\":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,0,this._templates.pop())},this),\"remove.owl.carousel\":a.proxy(function(a){a.namespace&&this._core.settings.dotsData&&this._templates.splice(a.position,1)},this),\"changed.owl.carousel\":a.proxy(function(a){a.namespace&&\"position\"==a.property.name&&this.draw()},this),\"initialized.owl.carousel\":a.proxy(function(a){a.namespace&&!this._initialized&&(this._core.trigger(\"initialize\",null,\"navigation\"),this.initialize(),this.update(),this.draw(),this._initialized=!0,this._core.trigger(\"initialized\",null,\"navigation\"))},this),\"refreshed.owl.carousel\":a.proxy(function(a){a.namespace&&this._initialized&&(this._core.trigger(\"refresh\",null,\"navigation\"),this.update(),this.draw(),this._core.trigger(\"refreshed\",null,\"navigation\"))},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers)};e.Defaults={nav:!1,navText:['<span aria-label=\"Previous\">&#x2039;</span>','<span aria-label=\"Next\">&#x203a;</span>'],navSpeed:!1,navElement:'button type=\"button\" role=\"presentation\"',navContainer:!1,navContainerClass:\"owl-nav\",navClass:[\"owl-prev\",\"owl-next\"],slideBy:1,dotClass:\"owl-dot\",dotsClass:\"owl-dots\",dots:!0,dotsEach:!1,dotsData:!1,dotsSpeed:!1,dotsContainer:!1},e.prototype.initialize=function(){var b,c=this._core.settings;this._controls.$relative=(c.navContainer?a(c.navContainer):a(\"<div>\").addClass(c.navContainerClass).appendTo(this.$element)).addClass(\"disabled\"),this._controls.$previous=a(\"<\"+c.navElement+\">\").addClass(c.navClass[0]).html(c.navText[0]).prependTo(this._controls.$relative).on(\"click\",a.proxy(function(a){this.prev(c.navSpeed)},this)),this._controls.$next=a(\"<\"+c.navElement+\">\").addClass(c.navClass[1]).html(c.navText[1]).appendTo(this._controls.$relative).on(\"click\",a.proxy(function(a){this.next(c.navSpeed)},this)),c.dotsData||(this._templates=[a('<button role=\"button\">').addClass(c.dotClass).append(a(\"<span>\")).prop(\"outerHTML\")]),this._controls.$absolute=(c.dotsContainer?a(c.dotsContainer):a(\"<div>\").addClass(c.dotsClass).appendTo(this.$element)).addClass(\"disabled\"),this._controls.$absolute.on(\"click\",\"button\",a.proxy(function(b){var d=a(b.target).parent().is(this._controls.$absolute)?a(b.target).index():a(b.target).parent().index();b.preventDefault(),this.to(d,c.dotsSpeed)},this));for(b in this._overrides)this._core[b]=a.proxy(this[b],this)},e.prototype.destroy=function(){var a,b,c,d,e;e=this._core.settings;for(a in this._handlers)this.$element.off(a,this._handlers[a]);for(b in this._controls)\"$relative\"===b&&e.navContainer?this._controls[b].html(\"\"):this._controls[b].remove();for(d in this.overides)this._core[d]=this._overrides[d];for(c in Object.getOwnPropertyNames(this))\"function\"!=typeof this[c]&&(this[c]=null)},e.prototype.update=function(){var a,b,c,d=this._core.clones().length/2,e=d+this._core.items().length,f=this._core.maximum(!0),g=this._core.settings,h=g.center||g.autoWidth||g.dotsData?1:g.dotsEach||g.items;if(\"page\"!==g.slideBy&&(g.slideBy=Math.min(g.slideBy,g.items)),g.dots||\"page\"==g.slideBy)for(this._pages=[],a=d,b=0,c=0;a<e;a++){if(b>=h||0===b){if(this._pages.push({start:Math.min(f,a-d),end:a-d+h-1}),Math.min(f,a-d)===f)break;b=0,++c}b+=this._core.mergers(this._core.relative(a))}},e.prototype.draw=function(){var b,c=this._core.settings,d=this._core.items().length<=c.items,e=this._core.relative(this._core.current()),f=c.loop||c.rewind;this._controls.$relative.toggleClass(\"disabled\",!c.nav||d),c.nav&&(this._controls.$previous.toggleClass(\"disabled\",!f&&e<=this._core.minimum(!0)),this._controls.$next.toggleClass(\"disabled\",!f&&e>=this._core.maximum(!0))),this._controls.$absolute.toggleClass(\"disabled\",!c.dots||d),c.dots&&(b=this._pages.length-this._controls.$absolute.children().length,c.dotsData&&0!==b?this._controls.$absolute.html(this._templates.join(\"\")):b>0?this._controls.$absolute.append(new Array(b+1).join(this._templates[0])):b<0&&this._controls.$absolute.children().slice(b).remove(),this._controls.$absolute.find(\".active\").removeClass(\"active\"),this._controls.$absolute.children().eq(a.inArray(this.current(),this._pages)).addClass(\"active\"))},e.prototype.onTrigger=function(b){var c=this._core.settings;b.page={index:a.inArray(this.current(),this._pages),count:this._pages.length,size:c&&(c.center||c.autoWidth||c.dotsData?1:c.dotsEach||c.items)}},e.prototype.current=function(){var b=this._core.relative(this._core.current());return a.grep(this._pages,a.proxy(function(a,c){return a.start<=b&&a.end>=b},this)).pop()},e.prototype.getPosition=function(b){var c,d,e=this._core.settings;return\"page\"==e.slideBy?(c=a.inArray(this.current(),this._pages),d=this._pages.length,b?++c:--c,c=this._pages[(c%d+d)%d].start):(c=this._core.relative(this._core.current()),d=this._core.items().length,b?c+=e.slideBy:c-=e.slideBy),c},e.prototype.next=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!0),b)},e.prototype.prev=function(b){a.proxy(this._overrides.to,this._core)(this.getPosition(!1),b)},e.prototype.to=function(b,c,d){var e;!d&&this._pages.length?(e=this._pages.length,a.proxy(this._overrides.to,this._core)(this._pages[(b%e+e)%e].start,c)):a.proxy(this._overrides.to,this._core)(b,c)},a.fn.owlCarousel.Constructor.Plugins.Navigation=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){\"use strict\";var e=function(c){this._core=c,this._hashes={},this.$element=this._core.$element,this._handlers={\"initialized.owl.carousel\":a.proxy(function(c){c.namespace&&\"URLHash\"===this._core.settings.startPosition&&a(b).trigger(\"hashchange.owl.navigation\")},this),\"prepared.owl.carousel\":a.proxy(function(b){if(b.namespace){var c=a(b.content).find(\"[data-hash]\").addBack(\"[data-hash]\").attr(\"data-hash\");if(!c)return;this._hashes[c]=b.content}},this),\"changed.owl.carousel\":a.proxy(function(c){if(c.namespace&&\"position\"===c.property.name){var d=this._core.items(this._core.relative(this._core.current())),e=a.map(this._hashes,function(a,b){return a===d?b:null}).join();if(!e||b.location.hash.slice(1)===e)return;b.location.hash=e}},this)},this._core.options=a.extend({},e.Defaults,this._core.options),this.$element.on(this._handlers),a(b).on(\"hashchange.owl.navigation\",a.proxy(function(a){var c=b.location.hash.substring(1),e=this._core.$stage.children(),f=this._hashes[c]&&e.index(this._hashes[c]);f!==d&&f!==this._core.current()&&this._core.to(this._core.relative(f),!1,!0)},this))};e.Defaults={URLhashListener:!1},e.prototype.destroy=function(){var c,d;a(b).off(\"hashchange.owl.navigation\");for(c in this._handlers)this._core.$element.off(c,this._handlers[c]);for(d in Object.getOwnPropertyNames(this))\"function\"!=typeof this[d]&&(this[d]=null)},a.fn.owlCarousel.Constructor.Plugins.Hash=e}(window.Zepto||window.jQuery,window,document),function(a,b,c,d){function e(b,c){var e=!1,f=b.charAt(0).toUpperCase()+b.slice(1);return a.each((b+\" \"+h.join(f+\" \")+f).split(\" \"),function(a,b){if(g[b]!==d)return e=!c||b,!1}),e}function f(a){return e(a,!0)}var g=a(\"<support>\").get(0).style,h=\"Webkit Moz O ms\".split(\" \"),i={transition:{end:{WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd\",transition:\"transitionend\"}},animation:{end:{WebkitAnimation:\"webkitAnimationEnd\",MozAnimation:\"animationend\",OAnimation:\"oAnimationEnd\",animation:\"animationend\"}}},j={csstransforms:function(){return!!e(\"transform\")},csstransforms3d:function(){return!!e(\"perspective\")},csstransitions:function(){return!!e(\"transition\")},cssanimations:function(){return!!e(\"animation\")}};j.csstransitions()&&(a.support.transition=new String(f(\"transition\")),a.support.transition.end=i.transition.end[a.support.transition]),j.cssanimations()&&(a.support.animation=new String(f(\"animation\")),a.support.animation.end=i.animation.end[a.support.animation]),j.csstransforms()&&(a.support.transform=new String(f(\"transform\")),a.support.transform3d=j.csstransforms3d())}(window.Zepto||window.jQuery,window,document);","Mageplaza_Core/js/jquery.magnific-popup.min.js":"// Magnific Popup v1.1.0 by Dmitry Semenov\n// http://bit.ly/magnific-popup#build=inline+image+ajax+iframe+gallery+retina+imagezoom\n(function(a){typeof define==\"function\"&&define.amd?define([\"jquery\"],a):typeof exports==\"object\"?a(require(\"jquery\")):a(window.jQuery||window.Zepto)})(function(a){var b=\"Close\",c=\"BeforeClose\",d=\"AfterClose\",e=\"BeforeAppend\",f=\"MarkupParse\",g=\"Open\",h=\"Change\",i=\"mfp\",j=\".\"+i,k=\"mfp-ready\",l=\"mfp-removing\",m=\"mfp-prevent-close\",n,o=function(){},p=!!window.jQuery,q,r=a(window),s,t,u,v,w=function(a,b){n.ev.on(i+a+j,b)},x=function(b,c,d,e){var f=document.createElement(\"div\");return f.className=\"mfp-\"+b,d&&(f.innerHTML=d),e?c&&c.appendChild(f):(f=a(f),c&&f.appendTo(c)),f},y=function(b,c){n.ev.triggerHandler(i+b,c),n.st.callbacks&&(b=b.charAt(0).toLowerCase()+b.slice(1),n.st.callbacks[b]&&n.st.callbacks[b].apply(n,a.isArray(c)?c:[c]))},z=function(b){if(b!==v||!n.currTemplate.closeBtn)n.currTemplate.closeBtn=a(n.st.closeMarkup.replace(\"%title%\",n.st.tClose)),v=b;return n.currTemplate.closeBtn},A=function(){a.magnificPopup.instance||(n=new o,n.init(),a.magnificPopup.instance=n)},B=function(){var a=document.createElement(\"p\").style,b=[\"ms\",\"O\",\"Moz\",\"Webkit\"];if(a.transition!==undefined)return!0;while(b.length)if(b.pop()+\"Transition\"in a)return!0;return!1};o.prototype={constructor:o,init:function(){var b=navigator.appVersion;n.isLowIE=n.isIE8=document.all&&!document.addEventListener,n.isAndroid=/android/gi.test(b),n.isIOS=/iphone|ipad|ipod/gi.test(b),n.supportsTransition=B(),n.probablyMobile=n.isAndroid||n.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),s=a(document),n.popupsCache={}},open:function(b){var c;if(b.isObj===!1){n.items=b.items.toArray(),n.index=0;var d=b.items,e;for(c=0;c<d.length;c++){e=d[c],e.parsed&&(e=e.el[0]);if(e===b.el[0]){n.index=c;break}}}else n.items=a.isArray(b.items)?b.items:[b.items],n.index=b.index||0;if(n.isOpen){n.updateItemHTML();return}n.types=[],u=\"\",b.mainEl&&b.mainEl.length?n.ev=b.mainEl.eq(0):n.ev=s,b.key?(n.popupsCache[b.key]||(n.popupsCache[b.key]={}),n.currTemplate=n.popupsCache[b.key]):n.currTemplate={},n.st=a.extend(!0,{},a.magnificPopup.defaults,b),n.fixedContentPos=n.st.fixedContentPos===\"auto\"?!n.probablyMobile:n.st.fixedContentPos,n.st.modal&&(n.st.closeOnContentClick=!1,n.st.closeOnBgClick=!1,n.st.showCloseBtn=!1,n.st.enableEscapeKey=!1),n.bgOverlay||(n.bgOverlay=x(\"bg\").on(\"click\"+j,function(){n.close()}),n.wrap=x(\"wrap\").attr(\"tabindex\",-1).on(\"click\"+j,function(a){n._checkIfClose(a.target)&&n.close()}),n.container=x(\"container\",n.wrap)),n.contentContainer=x(\"content\"),n.st.preloader&&(n.preloader=x(\"preloader\",n.container,n.st.tLoading));var h=a.magnificPopup.modules;for(c=0;c<h.length;c++){var i=h[c];i=i.charAt(0).toUpperCase()+i.slice(1),n[\"init\"+i].call(n)}y(\"BeforeOpen\"),n.st.showCloseBtn&&(n.st.closeBtnInside?(w(f,function(a,b,c,d){c.close_replaceWith=z(d.type)}),u+=\" mfp-close-btn-in\"):n.wrap.append(z())),n.st.alignTop&&(u+=\" mfp-align-top\"),n.fixedContentPos?n.wrap.css({overflow:n.st.overflowY,overflowX:\"hidden\",overflowY:n.st.overflowY}):n.wrap.css({top:r.scrollTop(),position:\"absolute\"}),(n.st.fixedBgPos===!1||n.st.fixedBgPos===\"auto\"&&!n.fixedContentPos)&&n.bgOverlay.css({height:s.height(),position:\"absolute\"}),n.st.enableEscapeKey&&s.on(\"keyup\"+j,function(a){a.keyCode===27&&n.close()}),r.on(\"resize\"+j,function(){n.updateSize()}),n.st.closeOnContentClick||(u+=\" mfp-auto-cursor\"),u&&n.wrap.addClass(u);var l=n.wH=r.height(),m={};if(n.fixedContentPos&&n._hasScrollBar(l)){var o=n._getScrollbarSize();o&&(m.marginRight=o)}n.fixedContentPos&&(n.isIE7?a(\"body, html\").css(\"overflow\",\"hidden\"):m.overflow=\"hidden\");var p=n.st.mainClass;return n.isIE7&&(p+=\" mfp-ie7\"),p&&n._addClassToMFP(p),n.updateItemHTML(),y(\"BuildControls\"),a(\"html\").css(m),n.bgOverlay.add(n.wrap).prependTo(n.st.prependTo||a(document.body)),n._lastFocusedEl=document.activeElement,setTimeout(function(){n.content?(n._addClassToMFP(k),n._setFocus()):n.bgOverlay.addClass(k),s.on(\"focusin\"+j,n._onFocusIn)},16),n.isOpen=!0,n.updateSize(l),y(g),b},close:function(){if(!n.isOpen)return;y(c),n.isOpen=!1,n.st.removalDelay&&!n.isLowIE&&n.supportsTransition?(n._addClassToMFP(l),setTimeout(function(){n._close()},n.st.removalDelay)):n._close()},_close:function(){y(b);var c=l+\" \"+k+\" \";n.bgOverlay.detach(),n.wrap.detach(),n.container.empty(),n.st.mainClass&&(c+=n.st.mainClass+\" \"),n._removeClassFromMFP(c);if(n.fixedContentPos){var e={marginRight:\"\"};n.isIE7?a(\"body, html\").css(\"overflow\",\"\"):e.overflow=\"\",a(\"html\").css(e)}s.off(\"keyup\"+j+\" focusin\"+j),n.ev.off(j),n.wrap.attr(\"class\",\"mfp-wrap\").removeAttr(\"style\"),n.bgOverlay.attr(\"class\",\"mfp-bg\"),n.container.attr(\"class\",\"mfp-container\"),n.st.showCloseBtn&&(!n.st.closeBtnInside||n.currTemplate[n.currItem.type]===!0)&&n.currTemplate.closeBtn&&n.currTemplate.closeBtn.detach(),n.st.autoFocusLast&&n._lastFocusedEl&&a(n._lastFocusedEl).focus(),n.currItem=null,n.content=null,n.currTemplate=null,n.prevHeight=0,y(d)},updateSize:function(a){if(n.isIOS){var b=document.documentElement.clientWidth/window.innerWidth,c=window.innerHeight*b;n.wrap.css(\"height\",c),n.wH=c}else n.wH=a||r.height();n.fixedContentPos||n.wrap.css(\"height\",n.wH),y(\"Resize\")},updateItemHTML:function(){var b=n.items[n.index];n.contentContainer.detach(),n.content&&n.content.detach(),b.parsed||(b=n.parseEl(n.index));var c=b.type;y(\"BeforeChange\",[n.currItem?n.currItem.type:\"\",c]),n.currItem=b;if(!n.currTemplate[c]){var d=n.st[c]?n.st[c].markup:!1;y(\"FirstMarkupParse\",d),d?n.currTemplate[c]=a(d):n.currTemplate[c]=!0}t&&t!==b.type&&n.container.removeClass(\"mfp-\"+t+\"-holder\");var e=n[\"get\"+c.charAt(0).toUpperCase()+c.slice(1)](b,n.currTemplate[c]);n.appendContent(e,c),b.preloaded=!0,y(h,b),t=b.type,n.container.prepend(n.contentContainer),y(\"AfterChange\")},appendContent:function(a,b){n.content=a,a?n.st.showCloseBtn&&n.st.closeBtnInside&&n.currTemplate[b]===!0?n.content.find(\".mfp-close\").length||n.content.append(z()):n.content=a:n.content=\"\",y(e),n.container.addClass(\"mfp-\"+b+\"-holder\"),n.contentContainer.append(n.content)},parseEl:function(b){var c=n.items[b],d;c.tagName?c={el:a(c)}:(d=c.type,c={data:c,src:c.src});if(c.el){var e=n.types;for(var f=0;f<e.length;f++)if(c.el.hasClass(\"mfp-\"+e[f])){d=e[f];break}c.src=c.el.attr(\"data-mfp-src\"),c.src||(c.src=c.el.attr(\"href\"))}return c.type=d||n.st.type||\"inline\",c.index=b,c.parsed=!0,n.items[b]=c,y(\"ElementParse\",c),n.items[b]},addGroup:function(a,b){var c=function(c){c.mfpEl=this,n._openClick(c,a,b)};b||(b={});var d=\"click.magnificPopup\";b.mainEl=a,b.items?(b.isObj=!0,a.off(d).on(d,c)):(b.isObj=!1,b.delegate?a.off(d).on(d,b.delegate,c):(b.items=a,a.off(d).on(d,c)))},_openClick:function(b,c,d){var e=d.midClick!==undefined?d.midClick:a.magnificPopup.defaults.midClick;if(!e&&(b.which===2||b.ctrlKey||b.metaKey||b.altKey||b.shiftKey))return;var f=d.disableOn!==undefined?d.disableOn:a.magnificPopup.defaults.disableOn;if(f)if(a.isFunction(f)){if(!f.call(n))return!0}else if(r.width()<f)return!0;b.type&&(b.preventDefault(),n.isOpen&&b.stopPropagation()),d.el=a(b.mfpEl),d.delegate&&(d.items=c.find(d.delegate)),n.open(d)},updateStatus:function(a,b){if(n.preloader){q!==a&&n.container.removeClass(\"mfp-s-\"+q),!b&&a===\"loading\"&&(b=n.st.tLoading);var c={status:a,text:b};y(\"UpdateStatus\",c),a=c.status,b=c.text,n.preloader.html(b),n.preloader.find(\"a\").on(\"click\",function(a){a.stopImmediatePropagation()}),n.container.addClass(\"mfp-s-\"+a),q=a}},_checkIfClose:function(b){if(a(b).hasClass(m))return;var c=n.st.closeOnContentClick,d=n.st.closeOnBgClick;if(c&&d)return!0;if(!n.content||a(b).hasClass(\"mfp-close\")||n.preloader&&b===n.preloader[0])return!0;if(b!==n.content[0]&&!a.contains(n.content[0],b)){if(d&&a.contains(document,b))return!0}else if(c)return!0;return!1},_addClassToMFP:function(a){n.bgOverlay.addClass(a),n.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a),n.wrap.removeClass(a)},_hasScrollBar:function(a){return(n.isIE7?s.height():document.body.scrollHeight)>(a||r.height())},_setFocus:function(){(n.st.focus?n.content.find(n.st.focus).eq(0):n.wrap).focus()},_onFocusIn:function(b){if(b.target!==n.wrap[0]&&!a.contains(n.wrap[0],b.target))return n._setFocus(),!1},_parseMarkup:function(b,c,d){var e;d.data&&(c=a.extend(d.data,c)),y(f,[b,c,d]),a.each(c,function(c,d){if(d===undefined||d===!1)return!0;e=c.split(\"_\");if(e.length>1){var f=b.find(j+\"-\"+e[0]);if(f.length>0){var g=e[1];g===\"replaceWith\"?f[0]!==d[0]&&f.replaceWith(d):g===\"img\"?f.is(\"img\")?f.attr(\"src\",d):f.replaceWith(a(\"<img>\").attr(\"src\",d).attr(\"class\",f.attr(\"class\"))):f.attr(e[1],d)}}else b.find(j+\"-\"+c).html(d)})},_getScrollbarSize:function(){if(n.scrollbarSize===undefined){var a=document.createElement(\"div\");a.style.cssText=\"width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;\",document.body.appendChild(a),n.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return n.scrollbarSize}},a.magnificPopup={instance:null,proto:o.prototype,modules:[],open:function(b,c){return A(),b?b=a.extend(!0,{},b):b={},b.isObj=!0,b.index=c||0,this.instance.open(b)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(b,c){c.options&&(a.magnificPopup.defaults[b]=c.options),a.extend(this.proto,c.proto),this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:\"\",preloader:!0,focus:\"\",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:\"auto\",fixedBgPos:\"auto\",overflowY:\"auto\",closeMarkup:'<button title=\"%title%\" type=\"button\" class=\"mfp-close\">&#215;</button>',tClose:\"Close (Esc)\",tLoading:\"Loading...\",autoFocusLast:!0}},a.fn.magnificPopup=function(b){A();var c=a(this);if(typeof b==\"string\")if(b===\"open\"){var d,e=p?c.data(\"magnificPopup\"):c[0].magnificPopup,f=parseInt(arguments[1],10)||0;e.items?d=e.items[f]:(d=c,e.delegate&&(d=d.find(e.delegate)),d=d.eq(f)),n._openClick({mfpEl:d},c,e)}else n.isOpen&&n[b].apply(n,Array.prototype.slice.call(arguments,1));else b=a.extend(!0,{},b),p?c.data(\"magnificPopup\",b):c[0].magnificPopup=b,n.addGroup(c,b);return c};var C=\"inline\",D,E,F,G=function(){F&&(E.after(F.addClass(D)).detach(),F=null)};a.magnificPopup.registerModule(C,{options:{hiddenClass:\"hide\",markup:\"\",tNotFound:\"Content not found\"},proto:{initInline:function(){n.types.push(C),w(b+\".\"+C,function(){G()})},getInline:function(b,c){G();if(b.src){var d=n.st.inline,e=a(b.src);if(e.length){var f=e[0].parentNode;f&&f.tagName&&(E||(D=d.hiddenClass,E=x(D),D=\"mfp-\"+D),F=e.after(E).detach().removeClass(D)),n.updateStatus(\"ready\")}else n.updateStatus(\"error\",d.tNotFound),e=a(\"<div>\");return b.inlineElement=e,e}return n.updateStatus(\"ready\"),n._parseMarkup(c,{},b),c}}});var H=\"ajax\",I,J=function(){I&&a(document.body).removeClass(I)},K=function(){J(),n.req&&n.req.abort()};a.magnificPopup.registerModule(H,{options:{settings:null,cursor:\"mfp-ajax-cur\",tError:'<a href=\"%url%\">The content</a> could not be loaded.'},proto:{initAjax:function(){n.types.push(H),I=n.st.ajax.cursor,w(b+\".\"+H,K),w(\"BeforeChange.\"+H,K)},getAjax:function(b){I&&a(document.body).addClass(I),n.updateStatus(\"loading\");var c=a.extend({url:b.src,success:function(c,d,e){var f={data:c,xhr:e};y(\"ParseAjax\",f),n.appendContent(a(f.data),H),b.finished=!0,J(),n._setFocus(),setTimeout(function(){n.wrap.addClass(k)},16),n.updateStatus(\"ready\"),y(\"AjaxContentAdded\")},error:function(){J(),b.finished=b.loadError=!0,n.updateStatus(\"error\",n.st.ajax.tError.replace(\"%url%\",b.src))}},n.st.ajax.settings);return n.req=a.ajax(c),\"\"}}});var L,M=function(b){if(b.data&&b.data.title!==undefined)return b.data.title;var c=n.st.image.titleSrc;if(c){if(a.isFunction(c))return c.call(n,b);if(b.el)return b.el.attr(c)||\"\"}return\"\"};a.magnificPopup.registerModule(\"image\",{options:{markup:'<div class=\"mfp-figure\"><div class=\"mfp-close\"></div><figure><div class=\"mfp-img\"></div><figcaption><div class=\"mfp-bottom-bar\"><div class=\"mfp-title\"></div><div class=\"mfp-counter\"></div></div></figcaption></figure></div>',cursor:\"mfp-zoom-out-cur\",titleSrc:\"title\",verticalFit:!0,tError:'<a href=\"%url%\">The image</a> could not be loaded.'},proto:{initImage:function(){var c=n.st.image,d=\".image\";n.types.push(\"image\"),w(g+d,function(){n.currItem.type===\"image\"&&c.cursor&&a(document.body).addClass(c.cursor)}),w(b+d,function(){c.cursor&&a(document.body).removeClass(c.cursor),r.off(\"resize\"+j)}),w(\"Resize\"+d,n.resizeImage),n.isLowIE&&w(\"AfterChange\",n.resizeImage)},resizeImage:function(){var a=n.currItem;if(!a||!a.img)return;if(n.st.image.verticalFit){var b=0;n.isLowIE&&(b=parseInt(a.img.css(\"padding-top\"),10)+parseInt(a.img.css(\"padding-bottom\"),10)),a.img.css(\"max-height\",n.wH-b)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,L&&clearInterval(L),a.isCheckingImgSize=!1,y(\"ImageHasSize\",a),a.imgHidden&&(n.content&&n.content.removeClass(\"mfp-loading\"),a.imgHidden=!1))},findImageSize:function(a){var b=0,c=a.img[0],d=function(e){L&&clearInterval(L),L=setInterval(function(){if(c.naturalWidth>0){n._onImageHasSize(a);return}b>200&&clearInterval(L),b++,b===3?d(10):b===40?d(50):b===100&&d(500)},e)};d(1)},getImage:function(b,c){var d=0,e=function(){b&&(b.img[0].complete?(b.img.off(\".mfploader\"),b===n.currItem&&(n._onImageHasSize(b),n.updateStatus(\"ready\")),b.hasSize=!0,b.loaded=!0,y(\"ImageLoadComplete\")):(d++,d<200?setTimeout(e,100):f()))},f=function(){b&&(b.img.off(\".mfploader\"),b===n.currItem&&(n._onImageHasSize(b),n.updateStatus(\"error\",g.tError.replace(\"%url%\",b.src))),b.hasSize=!0,b.loaded=!0,b.loadError=!0)},g=n.st.image,h=c.find(\".mfp-img\");if(h.length){var i=document.createElement(\"img\");i.className=\"mfp-img\",b.el&&b.el.find(\"img\").length&&(i.alt=b.el.find(\"img\").attr(\"alt\")),b.img=a(i).on(\"load.mfploader\",e).on(\"error.mfploader\",f),i.src=b.src,h.is(\"img\")&&(b.img=b.img.clone()),i=b.img[0],i.naturalWidth>0?b.hasSize=!0:i.width||(b.hasSize=!1)}return n._parseMarkup(c,{title:M(b),img_replaceWith:b.img},b),n.resizeImage(),b.hasSize?(L&&clearInterval(L),b.loadError?(c.addClass(\"mfp-loading\"),n.updateStatus(\"error\",g.tError.replace(\"%url%\",b.src))):(c.removeClass(\"mfp-loading\"),n.updateStatus(\"ready\")),c):(n.updateStatus(\"loading\"),b.loading=!0,b.hasSize||(b.imgHidden=!0,c.addClass(\"mfp-loading\"),n.findImageSize(b)),c)}}});var N,O=function(){return N===undefined&&(N=document.createElement(\"p\").style.MozTransform!==undefined),N};a.magnificPopup.registerModule(\"zoom\",{options:{enabled:!1,easing:\"ease-in-out\",duration:300,opener:function(a){return a.is(\"img\")?a:a.find(\"img\")}},proto:{initZoom:function(){var a=n.st.zoom,d=\".zoom\",e;if(!a.enabled||!n.supportsTransition)return;var f=a.duration,g=function(b){var c=b.clone().removeAttr(\"style\").removeAttr(\"class\").addClass(\"mfp-animated-image\"),d=\"all \"+a.duration/1e3+\"s \"+a.easing,e={position:\"fixed\",zIndex:9999,left:0,top:0,\"-webkit-backface-visibility\":\"hidden\"},f=\"transition\";return e[\"-webkit-\"+f]=e[\"-moz-\"+f]=e[\"-o-\"+f]=e[f]=d,c.css(e),c},h=function(){n.content.css(\"visibility\",\"visible\")},i,j;w(\"BuildControls\"+d,function(){if(n._allowZoom()){clearTimeout(i),n.content.css(\"visibility\",\"hidden\"),e=n._getItemToZoom();if(!e){h();return}j=g(e),j.css(n._getOffset()),n.wrap.append(j),i=setTimeout(function(){j.css(n._getOffset(!0)),i=setTimeout(function(){h(),setTimeout(function(){j.remove(),e=j=null,y(\"ZoomAnimationEnded\")},16)},f)},16)}}),w(c+d,function(){if(n._allowZoom()){clearTimeout(i),n.st.removalDelay=f;if(!e){e=n._getItemToZoom();if(!e)return;j=g(e)}j.css(n._getOffset(!0)),n.wrap.append(j),n.content.css(\"visibility\",\"hidden\"),setTimeout(function(){j.css(n._getOffset())},16)}}),w(b+d,function(){n._allowZoom()&&(h(),j&&j.remove(),e=null)})},_allowZoom:function(){return n.currItem.type===\"image\"},_getItemToZoom:function(){return n.currItem.hasSize?n.currItem.img:!1},_getOffset:function(b){var c;b?c=n.currItem.img:c=n.st.zoom.opener(n.currItem.el||n.currItem);var d=c.offset(),e=parseInt(c.css(\"padding-top\"),10),f=parseInt(c.css(\"padding-bottom\"),10);d.top-=a(window).scrollTop()-e;var g={width:c.width(),height:(p?c.innerHeight():c[0].offsetHeight)-f-e};return O()?g[\"-moz-transform\"]=g.transform=\"translate(\"+d.left+\"px,\"+d.top+\"px)\":(g.left=d.left,g.top=d.top),g}}});var P=\"iframe\",Q=\"//about:blank\",R=function(a){if(n.currTemplate[P]){var b=n.currTemplate[P].find(\"iframe\");b.length&&(a||(b[0].src=Q),n.isIE8&&b.css(\"display\",a?\"block\":\"none\"))}};a.magnificPopup.registerModule(P,{options:{markup:'<div class=\"mfp-iframe-scaler\"><div class=\"mfp-close\"></div><iframe class=\"mfp-iframe\" src=\"//about:blank\" frameborder=\"0\" allowfullscreen></iframe></div>',srcAction:\"iframe_src\",patterns:{youtube:{index:\"youtube.com\",id:\"v=\",src:\"//www.youtube.com/embed/%id%?autoplay=1\"},vimeo:{index:\"vimeo.com/\",id:\"/\",src:\"//player.vimeo.com/video/%id%?autoplay=1\"},gmaps:{index:\"//maps.google.\",src:\"%id%&output=embed\"}}},proto:{initIframe:function(){n.types.push(P),w(\"BeforeChange\",function(a,b,c){b!==c&&(b===P?R():c===P&&R(!0))}),w(b+\".\"+P,function(){R()})},getIframe:function(b,c){var d=b.src,e=n.st.iframe;a.each(e.patterns,function(){if(d.indexOf(this.index)>-1)return this.id&&(typeof this.id==\"string\"?d=d.substr(d.lastIndexOf(this.id)+this.id.length,d.length):d=this.id.call(this,d)),d=this.src.replace(\"%id%\",d),!1});var f={};return e.srcAction&&(f[e.srcAction]=d),n._parseMarkup(c,f,b),n.updateStatus(\"ready\"),c}}});var S=function(a){var b=n.items.length;return a>b-1?a-b:a<0?b+a:a},T=function(a,b,c){return a.replace(/%curr%/gi,b+1).replace(/%total%/gi,c)};a.magnificPopup.registerModule(\"gallery\",{options:{enabled:!1,arrowMarkup:'<button title=\"%title%\" type=\"button\" class=\"mfp-arrow mfp-arrow-%dir%\"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:\"Previous (Left arrow key)\",tNext:\"Next (Right arrow key)\",tCounter:\"%curr% of %total%\"},proto:{initGallery:function(){var c=n.st.gallery,d=\".mfp-gallery\";n.direction=!0;if(!c||!c.enabled)return!1;u+=\" mfp-gallery\",w(g+d,function(){c.navigateByImgClick&&n.wrap.on(\"click\"+d,\".mfp-img\",function(){if(n.items.length>1)return n.next(),!1}),s.on(\"keydown\"+d,function(a){a.keyCode===37?n.prev():a.keyCode===39&&n.next()})}),w(\"UpdateStatus\"+d,function(a,b){b.text&&(b.text=T(b.text,n.currItem.index,n.items.length))}),w(f+d,function(a,b,d,e){var f=n.items.length;d.counter=f>1?T(c.tCounter,e.index,f):\"\"}),w(\"BuildControls\"+d,function(){if(n.items.length>1&&c.arrows&&!n.arrowLeft){var b=c.arrowMarkup,d=n.arrowLeft=a(b.replace(/%title%/gi,c.tPrev).replace(/%dir%/gi,\"left\")).addClass(m),e=n.arrowRight=a(b.replace(/%title%/gi,c.tNext).replace(/%dir%/gi,\"right\")).addClass(m);d.click(function(){n.prev()}),e.click(function(){n.next()}),n.container.append(d.add(e))}}),w(h+d,function(){n._preloadTimeout&&clearTimeout(n._preloadTimeout),n._preloadTimeout=setTimeout(function(){n.preloadNearbyImages(),n._preloadTimeout=null},16)}),w(b+d,function(){s.off(d),n.wrap.off(\"click\"+d),n.arrowRight=n.arrowLeft=null})},next:function(){n.direction=!0,n.index=S(n.index+1),n.updateItemHTML()},prev:function(){n.direction=!1,n.index=S(n.index-1),n.updateItemHTML()},goTo:function(a){n.direction=a>=n.index,n.index=a,n.updateItemHTML()},preloadNearbyImages:function(){var a=n.st.gallery.preload,b=Math.min(a[0],n.items.length),c=Math.min(a[1],n.items.length),d;for(d=1;d<=(n.direction?c:b);d++)n._preloadItem(n.index+d);for(d=1;d<=(n.direction?b:c);d++)n._preloadItem(n.index-d)},_preloadItem:function(b){b=S(b);if(n.items[b].preloaded)return;var c=n.items[b];c.parsed||(c=n.parseEl(b)),y(\"LazyLoad\",c),c.type===\"image\"&&(c.img=a('<img class=\"mfp-img\" />').on(\"load.mfploader\",function(){c.hasSize=!0}).on(\"error.mfploader\",function(){c.hasSize=!0,c.loadError=!0,y(\"LazyLoadError\",c)}).attr(\"src\",c.src)),c.preloaded=!0}}});var U=\"retina\";a.magnificPopup.registerModule(U,{options:{replaceSrc:function(a){return a.src.replace(/\\.\\w+$/,function(a){return\"@2x\"+a})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var a=n.st.retina,b=a.ratio;b=isNaN(b)?b():b,b>1&&(w(\"ImageHasSize.\"+U,function(a,c){c.img.css({\"max-width\":c.img[0].naturalWidth/b,width:\"100%\"})}),w(\"ElementParse.\"+U,function(c,d){d.src=a.replaceSrc(d,b)}))}}}}),A()})","Mageplaza_Core/js/jquery.autocomplete.min.js":"/**\n *  Ajax Autocomplete for jQuery, version 1.3.0\n *  (c) 2017 Tomas Kirda\n *\n *  Ajax Autocomplete for jQuery is freely distributable under the terms of an MIT-style license.\n *  For details, see the web site: https://github.com/devbridge/jQuery-Autocomplete\n */\n!function(a){\"use strict\";\"function\"==typeof define&&define.amd?define([\"jquery\"],a):a(\"object\"==typeof exports&&\"function\"==typeof require?require(\"jquery\"):jQuery)}(function(a){\"use strict\";function b(c,d){var e=a.noop,f=this,g={ajaxSettings:{},autoSelectFirst:!1,appendTo:document.body,serviceUrl:null,lookup:null,onSelect:null,width:\"auto\",minChars:1,maxHeight:300,deferRequestBy:0,params:{},formatResult:b.formatResult,formatGroup:b.formatGroup,delimiter:null,zIndex:9999,type:\"GET\",noCache:!1,onSearchStart:e,onSearchComplete:e,onSearchError:e,preserveInput:!1,containerClass:\"autocomplete-suggestions\",tabDisabled:!1,dataType:\"text\",currentRequest:null,triggerSelectOnValidInput:!0,preventBadQueries:!0,lookupFilter:function(a,b,c){return-1!==a.value.toLowerCase().indexOf(c)},paramName:\"query\",transformResult:function(b){return\"string\"==typeof b?a.parseJSON(b):b},showNoSuggestionNotice:!1,noSuggestionNotice:\"No results\",orientation:\"bottom\",forceFixPosition:!1};f.element=c,f.el=a(c),f.suggestions=[],f.badQueries=[],f.selectedIndex=-1,f.currentValue=f.element.value,f.intervalId=0,f.cachedResponse={},f.onChangeInterval=null,f.onChange=null,f.isLocal=!1,f.suggestionsContainer=null,f.noSuggestionsContainer=null,f.options=a.extend({},g,d),f.classes={selected:\"autocomplete-selected\",suggestion:\"autocomplete-suggestion\"},f.hint=null,f.hintValue=\"\",f.selection=null,f.initialize(),f.setOptions(d)}var c=function(){return{escapeRegExChars:function(a){return a.replace(/[|\\\\{}()[\\]^$+*?.]/g,\"\\\\$&\")},createNode:function(a){var b=document.createElement(\"div\");return b.className=a,b.style.position=\"absolute\",b.style.display=\"none\",b}}}(),d={ESC:27,TAB:9,RETURN:13,LEFT:37,UP:38,RIGHT:39,DOWN:40};b.utils=c,a.Autocomplete=b,b.formatResult=function(a,b){if(!b)return a.value;var d=\"(\"+c.escapeRegExChars(b)+\")\";return a.value.replace(new RegExp(d,\"gi\"),\"<strong>$1</strong>\").replace(/&/g,\"&amp;\").replace(/</g,\"&lt;\").replace(/>/g,\"&gt;\").replace(/\"/g,\"&quot;\").replace(/&lt;(\\/?strong)&gt;/g,\"<$1>\")},b.formatGroup=function(a,b){return'<div class=\"autocomplete-group\"><strong>'+b+\"</strong></div>\"},b.prototype={killerFn:null,initialize:function(){var c,d=this,e=\".\"+d.classes.suggestion,f=d.classes.selected,g=d.options;d.element.setAttribute(\"autocomplete\",\"off\"),d.killerFn=function(b){a(b.target).closest(\".\"+d.options.containerClass).length||(d.killSuggestions(),d.disableKillerFn())},d.noSuggestionsContainer=a('<div class=\"autocomplete-no-suggestion\"></div>').html(this.options.noSuggestionNotice).get(0),d.suggestionsContainer=b.utils.createNode(g.containerClass),c=a(d.suggestionsContainer),c.appendTo(g.appendTo),\"auto\"!==g.width&&c.css(\"width\",g.width),c.on(\"mouseover.autocomplete\",e,function(){d.activate(a(this).data(\"index\"))}),c.on(\"mouseout.autocomplete\",function(){d.selectedIndex=-1,c.children(\".\"+f).removeClass(f)}),c.on(\"click.autocomplete\",e,function(){return d.select(a(this).data(\"index\")),!1}),d.fixPositionCapture=function(){d.visible&&d.fixPosition()},a(window).on(\"resize.autocomplete\",d.fixPositionCapture),d.el.on(\"keydown.autocomplete\",function(a){d.onKeyPress(a)}),d.el.on(\"keyup.autocomplete\",function(a){d.onKeyUp(a)}),d.el.on(\"blur.autocomplete\",function(){d.onBlur()}),d.el.on(\"focus.autocomplete\",function(){d.onFocus()}),d.el.on(\"change.autocomplete\",function(a){d.onKeyUp(a)}),d.el.on(\"input.autocomplete\",function(a){d.onKeyUp(a)})},onFocus:function(){var a=this;a.fixPosition(),a.el.val().length>=a.options.minChars&&a.onValueChange()},onBlur:function(){this.enableKillerFn()},abortAjax:function(){var a=this;a.currentRequest&&(a.currentRequest.abort(),a.currentRequest=null)},setOptions:function(b){var c=this,d=c.options;a.extend(d,b),c.isLocal=a.isArray(d.lookup),c.isLocal&&(d.lookup=c.verifySuggestionsFormat(d.lookup)),d.orientation=c.validateOrientation(d.orientation,\"bottom\"),a(c.suggestionsContainer).css({\"max-height\":d.maxHeight+\"px\",width:d.width+\"px\",\"z-index\":d.zIndex})},clearCache:function(){this.cachedResponse={},this.badQueries=[]},clear:function(){this.clearCache(),this.currentValue=\"\",this.suggestions=[]},disable:function(){var a=this;a.disabled=!0,clearInterval(a.onChangeInterval),a.abortAjax()},enable:function(){this.disabled=!1},fixPosition:function(){var b=this,c=a(b.suggestionsContainer),d=c.parent().get(0);if(d===document.body||b.options.forceFixPosition){var e=b.options.orientation,f=c.outerHeight(),g=b.el.outerHeight(),h=b.el.offset(),i={top:h.top,left:h.left};if(\"auto\"===e){var j=a(window).height(),k=a(window).scrollTop(),l=-k+h.top-f,m=k+j-(h.top+g+f);e=Math.max(l,m)===l?\"top\":\"bottom\"}if(\"top\"===e?i.top+=-f:i.top+=g,d!==document.body){var n,o=c.css(\"opacity\");b.visible||c.css(\"opacity\",0).show(),n=c.offsetParent().offset(),i.top-=n.top,i.left-=n.left,b.visible||c.css(\"opacity\",o).hide()}\"auto\"===b.options.width&&(i.width=b.el.outerWidth()+\"px\"),c.css(i)}},enableKillerFn:function(){var b=this;a(document).on(\"click.autocomplete\",b.killerFn)},disableKillerFn:function(){var b=this;a(document).off(\"click.autocomplete\",b.killerFn)},killSuggestions:function(){var a=this;a.stopKillSuggestions(),a.intervalId=window.setInterval(function(){a.visible&&(a.options.preserveInput||a.el.val(a.currentValue),a.hide()),a.stopKillSuggestions()},50)},stopKillSuggestions:function(){window.clearInterval(this.intervalId)},isCursorAtEnd:function(){var a,b=this,c=b.el.val().length,d=b.element.selectionStart;return\"number\"==typeof d?d===c:document.selection?(a=document.selection.createRange(),a.moveStart(\"character\",-c),c===a.text.length):!0},onKeyPress:function(a){var b=this;if(!b.disabled&&!b.visible&&a.which===d.DOWN&&b.currentValue)return void b.suggest();if(!b.disabled&&b.visible){switch(a.which){case d.ESC:b.el.val(b.currentValue),b.hide();break;case d.RIGHT:if(b.hint&&b.options.onHint&&b.isCursorAtEnd()){b.selectHint();break}return;case d.TAB:if(b.hint&&b.options.onHint)return void b.selectHint();if(-1===b.selectedIndex)return void b.hide();if(b.select(b.selectedIndex),b.options.tabDisabled===!1)return;break;case d.RETURN:if(-1===b.selectedIndex)return void b.hide();b.select(b.selectedIndex);break;case d.UP:b.moveUp();break;case d.DOWN:b.moveDown();break;default:return}a.stopImmediatePropagation(),a.preventDefault()}},onKeyUp:function(a){var b=this;if(!b.disabled){switch(a.which){case d.UP:case d.DOWN:return}clearInterval(b.onChangeInterval),b.currentValue!==b.el.val()&&(b.findBestHint(),b.options.deferRequestBy>0?b.onChangeInterval=setInterval(function(){b.onValueChange()},b.options.deferRequestBy):b.onValueChange())}},onValueChange:function(){var b=this,c=b.options,d=b.el.val(),e=b.getQuery(d);return b.selection&&b.currentValue!==e&&(b.selection=null,(c.onInvalidateSelection||a.noop).call(b.element)),clearInterval(b.onChangeInterval),b.currentValue=d,b.selectedIndex=-1,c.triggerSelectOnValidInput&&b.isExactMatch(e)?void b.select(0):void(e.length<c.minChars?b.hide():b.getSuggestions(e))},isExactMatch:function(a){var b=this.suggestions;return 1===b.length&&b[0].value.toLowerCase()===a.toLowerCase()},getQuery:function(b){var c,d=this.options.delimiter;return d?(c=b.split(d),a.trim(c[c.length-1])):b},getSuggestionsLocal:function(b){var c,d=this,e=d.options,f=b.toLowerCase(),g=e.lookupFilter,h=parseInt(e.lookupLimit,10);return c={suggestions:a.grep(e.lookup,function(a){return g(a,b,f)})},h&&c.suggestions.length>h&&(c.suggestions=c.suggestions.slice(0,h)),c},getSuggestions:function(b){var c,d,e,f,g=this,h=g.options,i=h.serviceUrl;if(h.params[h.paramName]=b,d=h.ignoreParams?null:h.params,h.onSearchStart.call(g.element,h.params)!==!1){if(a.isFunction(h.lookup))return void h.lookup(b,function(a){g.suggestions=a.suggestions,g.suggest(),h.onSearchComplete.call(g.element,b,a.suggestions)});g.isLocal?c=g.getSuggestionsLocal(b):(a.isFunction(i)&&(i=i.call(g.element,b)),e=i+\"?\"+a.param(d||{}),c=g.cachedResponse[e]),c&&a.isArray(c.suggestions)?(g.suggestions=c.suggestions,g.suggest(),h.onSearchComplete.call(g.element,b,c.suggestions)):g.isBadQuery(b)?h.onSearchComplete.call(g.element,b,[]):(g.abortAjax(),f={url:i,data:d,type:h.type,dataType:h.dataType},a.extend(f,h.ajaxSettings),g.currentRequest=a.ajax(f).done(function(a){var c;g.currentRequest=null,c=h.transformResult(a,b),g.processResponse(c,b,e),h.onSearchComplete.call(g.element,b,c.suggestions)}).fail(function(a,c,d){h.onSearchError.call(g.element,b,a,c,d)}))}},isBadQuery:function(a){if(!this.options.preventBadQueries)return!1;for(var b=this.badQueries,c=b.length;c--;)if(0===a.indexOf(b[c]))return!0;return!1},hide:function(){var b=this,c=a(b.suggestionsContainer);a.isFunction(b.options.onHide)&&b.visible&&b.options.onHide.call(b.element,c),b.visible=!1,b.selectedIndex=-1,clearInterval(b.onChangeInterval),a(b.suggestionsContainer).hide(),b.signalHint(null)},suggest:function(){if(!this.suggestions.length)return void(this.options.showNoSuggestionNotice?this.noSuggestions():this.hide());var b,c=this,d=c.options,e=d.groupBy,f=d.formatResult,g=c.getQuery(c.currentValue),h=c.classes.suggestion,i=c.classes.selected,j=a(c.suggestionsContainer),k=a(c.noSuggestionsContainer),l=d.beforeRender,m=\"\",n=function(a,c){var f=a.data[e];return b===f?\"\":(b=f,d.formatGroup(a,b))};return d.triggerSelectOnValidInput&&c.isExactMatch(g)?void c.select(0):(a.each(c.suggestions,function(a,b){e&&(m+=n(b,g,a)),m+='<div class=\"'+h+'\" data-index=\"'+a+'\">'+f(b,g,a)+\"</div>\"}),this.adjustContainerWidth(),k.detach(),j.html(m),a.isFunction(l)&&l.call(c.element,j,c.suggestions),c.fixPosition(),j.show(),d.autoSelectFirst&&(c.selectedIndex=0,j.scrollTop(0),j.children(\".\"+h).first().addClass(i)),c.visible=!0,void c.findBestHint())},noSuggestions:function(){var b=this,c=a(b.suggestionsContainer),d=a(b.noSuggestionsContainer);this.adjustContainerWidth(),d.detach(),c.empty(),c.append(d),b.fixPosition(),c.show(),b.visible=!0},adjustContainerWidth:function(){var b,c=this,d=c.options,e=a(c.suggestionsContainer);\"auto\"===d.width?(b=c.el.outerWidth(),e.css(\"width\",b>0?b:300)):\"flex\"===d.width&&e.css(\"width\",\"\")},findBestHint:function(){var b=this,c=b.el.val().toLowerCase(),d=null;c&&(a.each(b.suggestions,function(a,b){var e=0===b.value.toLowerCase().indexOf(c);return e&&(d=b),!e}),b.signalHint(d))},signalHint:function(b){var c=\"\",d=this;b&&(c=d.currentValue+b.value.substr(d.currentValue.length)),d.hintValue!==c&&(d.hintValue=c,d.hint=b,(this.options.onHint||a.noop)(c))},verifySuggestionsFormat:function(b){return b.length&&\"string\"==typeof b[0]?a.map(b,function(a){return{value:a,data:null}}):b},validateOrientation:function(b,c){return b=a.trim(b||\"\").toLowerCase(),-1===a.inArray(b,[\"auto\",\"bottom\",\"top\"])&&(b=c),b},processResponse:function(a,b,c){var d=this,e=d.options;a.suggestions=d.verifySuggestionsFormat(a.suggestions),e.noCache||(d.cachedResponse[c]=a,e.preventBadQueries&&!a.suggestions.length&&d.badQueries.push(b)),b===d.getQuery(d.currentValue)&&(d.suggestions=a.suggestions,d.suggest())},activate:function(b){var c,d=this,e=d.classes.selected,f=a(d.suggestionsContainer),g=f.find(\".\"+d.classes.suggestion);return f.find(\".\"+e).removeClass(e),d.selectedIndex=b,-1!==d.selectedIndex&&g.length>d.selectedIndex?(c=g.get(d.selectedIndex),a(c).addClass(e),c):null},selectHint:function(){var b=this,c=a.inArray(b.hint,b.suggestions);b.select(c)},select:function(a){var b=this;b.hide(),b.onSelect(a),b.disableKillerFn()},moveUp:function(){var b=this;if(-1!==b.selectedIndex)return 0===b.selectedIndex?(a(b.suggestionsContainer).children().first().removeClass(b.classes.selected),b.selectedIndex=-1,b.el.val(b.currentValue),void b.findBestHint()):void b.adjustScroll(b.selectedIndex-1)},moveDown:function(){var a=this;a.selectedIndex!==a.suggestions.length-1&&a.adjustScroll(a.selectedIndex+1)},adjustScroll:function(b){var c=this,d=c.activate(b);if(d){var e,f,g,h=a(d).outerHeight();e=d.offsetTop,f=a(c.suggestionsContainer).scrollTop(),g=f+c.options.maxHeight-h,f>e?a(c.suggestionsContainer).scrollTop(e):e>g&&a(c.suggestionsContainer).scrollTop(e-c.options.maxHeight+h),c.options.preserveInput||c.el.val(c.getValue(c.suggestions[b].value)),c.signalHint(null)}},onSelect:function(b){var c=this,d=c.options.onSelect,e=c.suggestions[b];c.currentValue=c.getValue(e.value),c.currentValue===c.el.val()||c.options.preserveInput||c.el.val(c.currentValue),c.signalHint(null),c.suggestions=[],c.selection=e,a.isFunction(d)&&d.call(c.element,e)},getValue:function(a){var b,c,d=this,e=d.options.delimiter;return e?(b=d.currentValue,c=b.split(e),1===c.length?a:b.substr(0,b.length-c[c.length-1].length)+a):a},dispose:function(){var b=this;b.el.off(\".autocomplete\").removeData(\"autocomplete\"),b.disableKillerFn(),a(window).off(\"resize.autocomplete\",b.fixPositionCapture),a(b.suggestionsContainer).remove()}},a.fn.autocomplete=a.fn.devbridgeAutocomplete=function(c,d){var e=\"autocomplete\";return arguments.length?this.each(function(){var f=a(this),g=f.data(e);\"string\"==typeof c?g&&\"function\"==typeof g[c]&&g[c](d):(g&&g.dispose&&g.dispose(),g=new b(this,c),f.data(e,g))}):this.first().data(e)}});","Mageplaza_Core/js/jquery.ui.touch-punch.min.js":"/*!\n * jQuery UI Touch Punch 0.2.3\n *\n * Copyright 2011\u20132014, Dave Furfero\n * Dual licensed under the MIT or GPL Version 2 licenses.\n *\n * Depends:\n *  jquery.ui.widget.js\n *  jquery.ui.mouse.js\n */\n!function(a){function f(a,b){if(!(a.originalEvent.touches.length>1)){a.preventDefault();var c=a.originalEvent.changedTouches[0],d=document.createEvent(\"MouseEvents\");d.initMouseEvent(b,!0,!0,window,1,c.screenX,c.screenY,c.clientX,c.clientY,!1,!1,!1,!1,0,null),a.target.dispatchEvent(d)}}if(a.support.touch=\"ontouchend\"in document,a.support.touch){var e,b=a.ui.mouse.prototype,c=b._mouseInit,d=b._mouseDestroy;b._touchStart=function(a){var b=this;!e&&b._mouseCapture(a.originalEvent.changedTouches[0])&&(e=!0,b._touchMoved=!1,f(a,\"mouseover\"),f(a,\"mousemove\"),f(a,\"mousedown\"))},b._touchMove=function(a){e&&(this._touchMoved=!0,f(a,\"mousemove\"))},b._touchEnd=function(a){e&&(f(a,\"mouseup\"),f(a,\"mouseout\"),this._touchMoved||f(a,\"click\"),e=!1)},b._mouseInit=function(){var b=this;b.element.bind({touchstart:a.proxy(b,\"_touchStart\"),touchmove:a.proxy(b,\"_touchMove\"),touchend:a.proxy(b,\"_touchEnd\")}),c.call(b)},b._mouseDestroy=function(){var b=this;b.element.unbind({touchstart:a.proxy(b,\"_touchStart\"),touchmove:a.proxy(b,\"_touchMove\"),touchend:a.proxy(b,\"_touchEnd\")}),d.call(b)}}}(jQuery);\n","Mageplaza_Core/js/jscolor.min.js":"/**\n * jscolor - JavaScript Color Picker\n *\n * @link    http://jscolor.com\n * @license For open source use: GPLv3\n *          For commercial use: JSColor Commercial License\n * @author  Jan Odvarko\n *\n * See usage examples at http://jscolor.com/examples/\n */\"use strict\";window.jscolor||(window.jscolor=function(){var e={register:function(){e.attachDOMReadyEvent(e.init),e.attachEvent(document,\"mousedown\",e.onDocumentMouseDown),e.attachEvent(document,\"touchstart\",e.onDocumentTouchStart),e.attachEvent(window,\"resize\",e.onWindowResize)},init:function(){e.jscolor.lookupClass&&e.jscolor.installByClassName(e.jscolor.lookupClass)},tryInstallOnElements:function(t,n){var r=new RegExp(\"(^|\\\\s)(\"+n+\")(\\\\s*(\\\\{[^}]*\\\\})|\\\\s|$)\",\"i\");for(var i=0;i<t.length;i+=1){if(t[i].type!==undefined&&t[i].type.toLowerCase()==\"color\"&&e.isColorAttrSupported)continue;var s;if(!t[i].jscolor&&t[i].className&&(s=t[i].className.match(r))){var o=t[i],u=null,a=e.getDataAttr(o,\"jscolor\");a!==null?u=a:s[4]&&(u=s[4]);var f={};if(u)try{f=(new Function(\"return (\"+u+\")\"))()}catch(l){e.warn(\"Error parsing jscolor options: \"+l+\":\\n\"+u)}o.jscolor=new e.jscolor(o,f)}}},isColorAttrSupported:function(){var e=document.createElement(\"input\");if(e.setAttribute){e.setAttribute(\"type\",\"color\");if(e.type.toLowerCase()==\"color\")return!0}return!1}(),isCanvasSupported:function(){var e=document.createElement(\"canvas\");return!!e.getContext&&!!e.getContext(\"2d\")}(),fetchElement:function(e){return typeof e==\"string\"?document.getElementById(e):e},isElementType:function(e,t){return e.nodeName.toLowerCase()===t.toLowerCase()},getDataAttr:function(e,t){var n=\"data-\"+t,r=e.getAttribute(n);return r!==null?r:null},attachEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent(\"on\"+t,n)},detachEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent(\"on\"+t,n)},_attachedGroupEvents:{},attachGroupEvent:function(t,n,r,i){e._attachedGroupEvents.hasOwnProperty(t)||(e._attachedGroupEvents[t]=[]),e._attachedGroupEvents[t].push([n,r,i]),e.attachEvent(n,r,i)},detachGroupEvents:function(t){if(e._attachedGroupEvents.hasOwnProperty(t)){for(var n=0;n<e._attachedGroupEvents[t].length;n+=1){var r=e._attachedGroupEvents[t][n];e.detachEvent(r[0],r[1],r[2])}delete e._attachedGroupEvents[t]}},attachDOMReadyEvent:function(e){var t=!1,n=function(){t||(t=!0,e())};if(document.readyState===\"complete\"){setTimeout(n,1);return}if(document.addEventListener)document.addEventListener(\"DOMContentLoaded\",n,!1),window.addEventListener(\"load\",n,!1);else if(document.attachEvent){document.attachEvent(\"onreadystatechange\",function(){document.readyState===\"complete\"&&(document.detachEvent(\"onreadystatechange\",arguments.callee),n())}),window.attachEvent(\"onload\",n);if(document.documentElement.doScroll&&window==window.top){var r=function(){if(!document.body)return;try{document.documentElement.doScroll(\"left\"),n()}catch(e){setTimeout(r,1)}};r()}}},warn:function(e){window.console&&window.console.warn&&window.console.warn(e)},preventDefault:function(e){e.preventDefault&&e.preventDefault(),e.returnValue=!1},captureTarget:function(t){t.setCapture&&(e._capturedTarget=t,e._capturedTarget.setCapture())},releaseTarget:function(){e._capturedTarget&&(e._capturedTarget.releaseCapture(),e._capturedTarget=null)},fireEvent:function(e,t){if(!e)return;if(document.createEvent){var n=document.createEvent(\"HTMLEvents\");n.initEvent(t,!0,!0),e.dispatchEvent(n)}else if(document.createEventObject){var n=document.createEventObject();e.fireEvent(\"on\"+t,n)}else e[\"on\"+t]&&e[\"on\"+t]()},classNameToList:function(e){return e.replace(/^\\s+|\\s+$/g,\"\").split(/\\s+/)},hasClass:function(e,t){return t?-1!=(\" \"+e.className.replace(/\\s+/g,\" \")+\" \").indexOf(\" \"+t+\" \"):!1},setClass:function(t,n){var r=e.classNameToList(n);for(var i=0;i<r.length;i+=1)e.hasClass(t,r[i])||(t.className+=(t.className?\" \":\"\")+r[i])},unsetClass:function(t,n){var r=e.classNameToList(n);for(var i=0;i<r.length;i+=1){var s=new RegExp(\"^\\\\s*\"+r[i]+\"\\\\s*|\"+\"\\\\s*\"+r[i]+\"\\\\s*$|\"+\"\\\\s+\"+r[i]+\"(\\\\s+)\",\"g\");t.className=t.className.replace(s,\"$1\")}},getStyle:function(e){return window.getComputedStyle?window.getComputedStyle(e):e.currentStyle},setStyle:function(){var e=document.createElement(\"div\"),t=function(t){for(var n=0;n<t.length;n+=1)if(t[n]in e.style)return t[n]},n={borderRadius:t([\"borderRadius\",\"MozBorderRadius\",\"webkitBorderRadius\"]),boxShadow:t([\"boxShadow\",\"MozBoxShadow\",\"webkitBoxShadow\"])};return function(e,t,r){switch(t.toLowerCase()){case\"opacity\":var i=Math.round(parseFloat(r)*100);e.style.opacity=r,e.style.filter=\"alpha(opacity=\"+i+\")\";break;default:e.style[n[t]]=r}}}(),setBorderRadius:function(t,n){e.setStyle(t,\"borderRadius\",n||\"0\")},setBoxShadow:function(t,n){e.setStyle(t,\"boxShadow\",n||\"none\")},getElementPos:function(t,n){var r=0,i=0,s=t.getBoundingClientRect();r=s.left,i=s.top;if(!n){var o=e.getViewPos();r+=o[0],i+=o[1]}return[r,i]},getElementSize:function(e){return[e.offsetWidth,e.offsetHeight]},getAbsPointerPos:function(e){e||(e=window.event);var t=0,n=0;return typeof e.changedTouches!=\"undefined\"&&e.changedTouches.length?(t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY):typeof e.clientX==\"number\"&&(t=e.clientX,n=e.clientY),{x:t,y:n}},getRelPointerPos:function(e){e||(e=window.event);var t=e.target||e.srcElement,n=t.getBoundingClientRect(),r=0,i=0,s=0,o=0;return typeof e.changedTouches!=\"undefined\"&&e.changedTouches.length?(s=e.changedTouches[0].clientX,o=e.changedTouches[0].clientY):typeof e.clientX==\"number\"&&(s=e.clientX,o=e.clientY),r=s-n.left,i=o-n.top,{x:r,y:i}},getViewPos:function(){var e=document.documentElement;return[(window.pageXOffset||e.scrollLeft)-(e.clientLeft||0),(window.pageYOffset||e.scrollTop)-(e.clientTop||0)]},getViewSize:function(){var e=document.documentElement;return[window.innerWidth||e.clientWidth,window.innerHeight||e.clientHeight]},redrawPosition:function(){if(e.picker&&e.picker.owner){var t=e.picker.owner,n,r;t.fixed?(n=e.getElementPos(t.targetElement,!0),r=[0,0]):(n=e.getElementPos(t.targetElement),r=e.getViewPos());var i=e.getElementSize(t.targetElement),s=e.getViewSize(),o=e.getPickerOuterDims(t),u,a,f;switch(t.position.toLowerCase()){case\"left\":u=1,a=0,f=-1;break;case\"right\":u=1,a=0,f=1;break;case\"top\":u=0,a=1,f=-1;break;default:u=0,a=1,f=1}var l=(i[a]+o[a])/2;if(!t.smartPosition)var c=[n[u],n[a]+i[a]-l+l*f];else var c=[-r[u]+n[u]+o[u]>s[u]?-r[u]+n[u]+i[u]/2>s[u]/2&&n[u]+i[u]-o[u]>=0?n[u]+i[u]-o[u]:n[u]:n[u],-r[a]+n[a]+i[a]+o[a]-l+l*f>s[a]?-r[a]+n[a]+i[a]/2>s[a]/2&&n[a]+i[a]-l-l*f>=0?n[a]+i[a]-l-l*f:n[a]+i[a]-l+l*f:n[a]+i[a]-l+l*f>=0?n[a]+i[a]-l+l*f:n[a]+i[a]-l-l*f];var h=c[u],p=c[a],d=t.fixed?\"fixed\":\"absolute\",v=(c[0]+o[0]>n[0]||c[0]<n[0]+i[0])&&c[1]+o[1]<n[1]+i[1];e._drawPosition(t,h,p,d,v)}},_drawPosition:function(t,n,r,i,s){var o=s?0:t.shadowBlur;e.picker.wrap.style.position=i,e.picker.wrap.style.left=n+\"px\",e.picker.wrap.style.top=r+\"px\",e.setBoxShadow(e.picker.boxS,t.shadow?new e.BoxShadow(0,o,t.shadowBlur,0,t.shadowColor):null)},getPickerDims:function(t){var n=!!e.getSliderComponent(t),r=[2*t.insetWidth+2*t.padding+t.width+(n?2*t.insetWidth+e.getPadToSliderPadding(t)+t.sliderSize:0),2*t.insetWidth+2*t.padding+t.height+(t.closable?2*t.insetWidth+t.padding+t.buttonHeight:0)];return r},getPickerOuterDims:function(t){var n=e.getPickerDims(t);return[n[0]+2*t.borderWidth,n[1]+2*t.borderWidth]},getPadToSliderPadding:function(e){return Math.max(e.padding,1.5*(2*e.pointerBorderWidth+e.pointerThickness))},getPadYComponent:function(e){switch(e.mode.charAt(1).toLowerCase()){case\"v\":return\"v\"}return\"s\"},getSliderComponent:function(e){if(e.mode.length>2)switch(e.mode.charAt(2).toLowerCase()){case\"s\":return\"s\";case\"v\":return\"v\"}return null},onDocumentMouseDown:function(t){t||(t=window.event);var n=t.target||t.srcElement;n._jscLinkedInstance?n._jscLinkedInstance.showOnClick&&n._jscLinkedInstance.show():n._jscControlName?e.onControlPointerStart(t,n,n._jscControlName,\"mouse\"):e.picker&&e.picker.owner&&e.picker.owner.hide()},onDocumentTouchStart:function(t){t||(t=window.event);var n=t.target||t.srcElement;n._jscLinkedInstance?n._jscLinkedInstance.showOnClick&&n._jscLinkedInstance.show():n._jscControlName?e.onControlPointerStart(t,n,n._jscControlName,\"touch\"):e.picker&&e.picker.owner&&e.picker.owner.hide()},onWindowResize:function(t){e.redrawPosition()},onParentScroll:function(t){e.picker&&e.picker.owner&&e.picker.owner.hide()},_pointerMoveEvent:{mouse:\"mousemove\",touch:\"touchmove\"},_pointerEndEvent:{mouse:\"mouseup\",touch:\"touchend\"},_pointerOrigin:null,_capturedTarget:null,onControlPointerStart:function(t,n,r,i){var s=n._jscInstance;e.preventDefault(t),e.captureTarget(n);var o=function(s,o){e.attachGroupEvent(\"drag\",s,e._pointerMoveEvent[i],e.onDocumentPointerMove(t,n,r,i,o)),e.attachGroupEvent(\"drag\",s,e._pointerEndEvent[i],e.onDocumentPointerEnd(t,n,r,i))};o(document,[0,0]);if(window.parent&&window.frameElement){var u=window.frameElement.getBoundingClientRect(),a=[-u.left,-u.top];o(window.parent.window.document,a)}var f=e.getAbsPointerPos(t),l=e.getRelPointerPos(t);e._pointerOrigin={x:f.x-l.x,y:f.y-l.y};switch(r){case\"pad\":switch(e.getSliderComponent(s)){case\"s\":s.hsv[1]===0&&s.fromHSV(null,100,null);break;case\"v\":s.hsv[2]===0&&s.fromHSV(null,null,100)}e.setPad(s,t,0,0);break;case\"sld\":e.setSld(s,t,0)}e.dispatchFineChange(s)},onDocumentPointerMove:function(t,n,r,i,s){return function(t){var i=n._jscInstance;switch(r){case\"pad\":t||(t=window.event),e.setPad(i,t,s[0],s[1]),e.dispatchFineChange(i);break;case\"sld\":t||(t=window.event),e.setSld(i,t,s[1]),e.dispatchFineChange(i)}}},onDocumentPointerEnd:function(t,n,r,i){return function(t){var r=n._jscInstance;e.detachGroupEvents(\"drag\"),e.releaseTarget(),e.dispatchChange(r)}},dispatchChange:function(t){t.valueElement&&e.isElementType(t.valueElement,\"input\")&&e.fireEvent(t.valueElement,\"change\")},dispatchFineChange:function(e){if(e.onFineChange){var t;typeof e.onFineChange==\"string\"?t=new Function(e.onFineChange):t=e.onFineChange,t.call(e)}},setPad:function(t,n,r,i){var s=e.getAbsPointerPos(n),o=r+s.x-e._pointerOrigin.x-t.padding-t.insetWidth,u=i+s.y-e._pointerOrigin.y-t.padding-t.insetWidth,a=o*(360/(t.width-1)),f=100-u*(100/(t.height-1));switch(e.getPadYComponent(t)){case\"s\":t.fromHSV(a,f,null,e.leaveSld);break;case\"v\":t.fromHSV(a,null,f,e.leaveSld)}},setSld:function(t,n,r){var i=e.getAbsPointerPos(n),s=r+i.y-e._pointerOrigin.y-t.padding-t.insetWidth,o=100-s*(100/(t.height-1));switch(e.getSliderComponent(t)){case\"s\":t.fromHSV(null,o,null,e.leavePad);break;case\"v\":t.fromHSV(null,null,o,e.leavePad)}},_vmlNS:\"jsc_vml_\",_vmlCSS:\"jsc_vml_css_\",_vmlReady:!1,initVML:function(){if(!e._vmlReady){var t=document;t.namespaces[e._vmlNS]||t.namespaces.add(e._vmlNS,\"urn:schemas-microsoft-com:vml\");if(!t.styleSheets[e._vmlCSS]){var n=[\"shape\",\"shapetype\",\"group\",\"background\",\"path\",\"formulas\",\"handles\",\"fill\",\"stroke\",\"shadow\",\"textbox\",\"textpath\",\"imagedata\",\"line\",\"polyline\",\"curve\",\"rect\",\"roundrect\",\"oval\",\"arc\",\"image\"],r=t.createStyleSheet();r.owningElement.id=e._vmlCSS;for(var i=0;i<n.length;i+=1)r.addRule(e._vmlNS+\"\\\\:\"+n[i],\"behavior:url(#default#VML);\")}e._vmlReady=!0}},createPalette:function(){var t={elm:null,draw:null};if(e.isCanvasSupported){var n=document.createElement(\"canvas\"),r=n.getContext(\"2d\"),i=function(e,t,i){n.width=e,n.height=t,r.clearRect(0,0,n.width,n.height);var s=r.createLinearGradient(0,0,n.width,0);s.addColorStop(0,\"#F00\"),s.addColorStop(1/6,\"#FF0\"),s.addColorStop(2/6,\"#0F0\"),s.addColorStop(.5,\"#0FF\"),s.addColorStop(4/6,\"#00F\"),s.addColorStop(5/6,\"#F0F\"),s.addColorStop(1,\"#F00\"),r.fillStyle=s,r.fillRect(0,0,n.width,n.height);var o=r.createLinearGradient(0,0,0,n.height);switch(i.toLowerCase()){case\"s\":o.addColorStop(0,\"rgba(255,255,255,0)\"),o.addColorStop(1,\"rgba(255,255,255,1)\");break;case\"v\":o.addColorStop(0,\"rgba(0,0,0,0)\"),o.addColorStop(1,\"rgba(0,0,0,1)\")}r.fillStyle=o,r.fillRect(0,0,n.width,n.height)};t.elm=n,t.draw=i}else{e.initVML();var s=document.createElement(\"div\");s.style.position=\"relative\",s.style.overflow=\"hidden\";var o=document.createElement(e._vmlNS+\":fill\");o.type=\"gradient\",o.method=\"linear\",o.angle=\"90\",o.colors=\"16.67% #F0F, 33.33% #00F, 50% #0FF, 66.67% #0F0, 83.33% #FF0\";var u=document.createElement(e._vmlNS+\":rect\");u.style.position=\"absolute\",u.style.left=\"-1px\",u.style.top=\"-1px\",u.stroked=!1,u.appendChild(o),s.appendChild(u);var a=document.createElement(e._vmlNS+\":fill\");a.type=\"gradient\",a.method=\"linear\",a.angle=\"180\",a.opacity=\"0\";var f=document.createElement(e._vmlNS+\":rect\");f.style.position=\"absolute\",f.style.left=\"-1px\",f.style.top=\"-1px\",f.stroked=!1,f.appendChild(a),s.appendChild(f);var i=function(e,t,n){s.style.width=e+\"px\",s.style.height=t+\"px\",u.style.width=f.style.width=e+1+\"px\",u.style.height=f.style.height=t+1+\"px\",o.color=\"#F00\",o.color2=\"#F00\";switch(n.toLowerCase()){case\"s\":a.color=a.color2=\"#FFF\";break;case\"v\":a.color=a.color2=\"#000\"}};t.elm=s,t.draw=i}return t},createSliderGradient:function(){var t={elm:null,draw:null};if(e.isCanvasSupported){var n=document.createElement(\"canvas\"),r=n.getContext(\"2d\"),i=function(e,t,i,s){n.width=e,n.height=t,r.clearRect(0,0,n.width,n.height);var o=r.createLinearGradient(0,0,0,n.height);o.addColorStop(0,i),o.addColorStop(1,s),r.fillStyle=o,r.fillRect(0,0,n.width,n.height)};t.elm=n,t.draw=i}else{e.initVML();var s=document.createElement(\"div\");s.style.position=\"relative\",s.style.overflow=\"hidden\";var o=document.createElement(e._vmlNS+\":fill\");o.type=\"gradient\",o.method=\"linear\",o.angle=\"180\";var u=document.createElement(e._vmlNS+\":rect\");u.style.position=\"absolute\",u.style.left=\"-1px\",u.style.top=\"-1px\",u.stroked=!1,u.appendChild(o),s.appendChild(u);var i=function(e,t,n,r){s.style.width=e+\"px\",s.style.height=t+\"px\",u.style.width=e+1+\"px\",u.style.height=t+1+\"px\",o.color=n,o.color2=r};t.elm=s,t.draw=i}return t},leaveValue:1,leaveStyle:2,leavePad:4,leaveSld:8,BoxShadow:function(){var e=function(e,t,n,r,i,s){this.hShadow=e,this.vShadow=t,this.blur=n,this.spread=r,this.color=i,this.inset=!!s};return e.prototype.toString=function(){var e=[Math.round(this.hShadow)+\"px\",Math.round(this.vShadow)+\"px\",Math.round(this.blur)+\"px\",Math.round(this.spread)+\"px\",this.color];return this.inset&&e.push(\"inset\"),e.join(\" \")},e}(),jscolor:function(t,n){function i(e,t,n){e/=255,t/=255,n/=255;var r=Math.min(Math.min(e,t),n),i=Math.max(Math.max(e,t),n),s=i-r;if(s===0)return[null,0,100*i];var o=e===r?3+(n-t)/s:t===r?5+(e-n)/s:1+(t-e)/s;return[60*(o===6?0:o),100*(s/i),100*i]}function s(e,t,n){var r=255*(n/100);if(e===null)return[r,r,r];e/=60,t/=100;var i=Math.floor(e),s=i%2?e-i:1-(e-i),o=r*(1-t),u=r*(1-t*s);switch(i){case 6:case 0:return[r,u,o];case 1:return[u,r,o];case 2:return[o,r,u];case 3:return[o,u,r];case 4:return[u,o,r];case 5:return[r,o,u]}}function o(){e.unsetClass(d.targetElement,d.activeClass),e.picker.wrap.parentNode.removeChild(e.picker.wrap),delete e.picker.owner}function u(){function l(){var e=d.insetColor.split(/\\s+/),n=e.length<2?e[0]:e[1]+\" \"+e[0]+\" \"+e[0]+\" \"+e[1];t.btn.style.borderColor=n}d._processParentElementsInDOM(),e.picker||(e.picker={owner:null,wrap:document.createElement(\"div\"),box:document.createElement(\"div\"),boxS:document.createElement(\"div\"),boxB:document.createElement(\"div\"),pad:document.createElement(\"div\"),padB:document.createElement(\"div\"),padM:document.createElement(\"div\"),padPal:e.createPalette(),cross:document.createElement(\"div\"),crossBY:document.createElement(\"div\"),crossBX:document.createElement(\"div\"),crossLY:document.createElement(\"div\"),crossLX:document.createElement(\"div\"),sld:document.createElement(\"div\"),sldB:document.createElement(\"div\"),sldM:document.createElement(\"div\"),sldGrad:e.createSliderGradient(),sldPtrS:document.createElement(\"div\"),sldPtrIB:document.createElement(\"div\"),sldPtrMB:document.createElement(\"div\"),sldPtrOB:document.createElement(\"div\"),btn:document.createElement(\"div\"),btnT:document.createElement(\"span\")},e.picker.pad.appendChild(e.picker.padPal.elm),e.picker.padB.appendChild(e.picker.pad),e.picker.cross.appendChild(e.picker.crossBY),e.picker.cross.appendChild(e.picker.crossBX),e.picker.cross.appendChild(e.picker.crossLY),e.picker.cross.appendChild(e.picker.crossLX),e.picker.padB.appendChild(e.picker.cross),e.picker.box.appendChild(e.picker.padB),e.picker.box.appendChild(e.picker.padM),e.picker.sld.appendChild(e.picker.sldGrad.elm),e.picker.sldB.appendChild(e.picker.sld),e.picker.sldB.appendChild(e.picker.sldPtrOB),e.picker.sldPtrOB.appendChild(e.picker.sldPtrMB),e.picker.sldPtrMB.appendChild(e.picker.sldPtrIB),e.picker.sldPtrIB.appendChild(e.picker.sldPtrS),e.picker.box.appendChild(e.picker.sldB),e.picker.box.appendChild(e.picker.sldM),e.picker.btn.appendChild(e.picker.btnT),e.picker.box.appendChild(e.picker.btn),e.picker.boxB.appendChild(e.picker.box),e.picker.wrap.appendChild(e.picker.boxS),e.picker.wrap.appendChild(e.picker.boxB));var t=e.picker,n=!!e.getSliderComponent(d),r=e.getPickerDims(d),i=2*d.pointerBorderWidth+d.pointerThickness+2*d.crossSize,s=e.getPadToSliderPadding(d),o=Math.min(d.borderRadius,Math.round(d.padding*Math.PI)),u=\"crosshair\";t.wrap.style.clear=\"both\",t.wrap.style.width=r[0]+2*d.borderWidth+\"px\",t.wrap.style.height=r[1]+2*d.borderWidth+\"px\",t.wrap.style.zIndex=d.zIndex,t.box.style.width=r[0]+\"px\",t.box.style.height=r[1]+\"px\",t.boxS.style.position=\"absolute\",t.boxS.style.left=\"0\",t.boxS.style.top=\"0\",t.boxS.style.width=\"100%\",t.boxS.style.height=\"100%\",e.setBorderRadius(t.boxS,o+\"px\"),t.boxB.style.position=\"relative\",t.boxB.style.border=d.borderWidth+\"px solid\",t.boxB.style.borderColor=d.borderColor,t.boxB.style.background=d.backgroundColor,e.setBorderRadius(t.boxB,o+\"px\"),t.padM.style.background=t.sldM.style.background=\"#FFF\",e.setStyle(t.padM,\"opacity\",\"0\"),e.setStyle(t.sldM,\"opacity\",\"0\"),t.pad.style.position=\"relative\",t.pad.style.width=d.width+\"px\",t.pad.style.height=d.height+\"px\",t.padPal.draw(d.width,d.height,e.getPadYComponent(d)),t.padB.style.position=\"absolute\",t.padB.style.left=d.padding+\"px\",t.padB.style.top=d.padding+\"px\",t.padB.style.border=d.insetWidth+\"px solid\",t.padB.style.borderColor=d.insetColor,t.padM._jscInstance=d,t.padM._jscControlName=\"pad\",t.padM.style.position=\"absolute\",t.padM.style.left=\"0\",t.padM.style.top=\"0\",t.padM.style.width=d.padding+2*d.insetWidth+d.width+s/2+\"px\",t.padM.style.height=r[1]+\"px\",t.padM.style.cursor=u,t.cross.style.position=\"absolute\",t.cross.style.left=t.cross.style.top=\"0\",t.cross.style.width=t.cross.style.height=i+\"px\",t.crossBY.style.position=t.crossBX.style.position=\"absolute\",t.crossBY.style.background=t.crossBX.style.background=d.pointerBorderColor,t.crossBY.style.width=t.crossBX.style.height=2*d.pointerBorderWidth+d.pointerThickness+\"px\",t.crossBY.style.height=t.crossBX.style.width=i+\"px\",t.crossBY.style.left=t.crossBX.style.top=Math.floor(i/2)-Math.floor(d.pointerThickness/2)-d.pointerBorderWidth+\"px\",t.crossBY.style.top=t.crossBX.style.left=\"0\",t.crossLY.style.position=t.crossLX.style.position=\"absolute\",t.crossLY.style.background=t.crossLX.style.background=d.pointerColor,t.crossLY.style.height=t.crossLX.style.width=i-2*d.pointerBorderWidth+\"px\",t.crossLY.style.width=t.crossLX.style.height=d.pointerThickness+\"px\",t.crossLY.style.left=t.crossLX.style.top=Math.floor(i/2)-Math.floor(d.pointerThickness/2)+\"px\",t.crossLY.style.top=t.crossLX.style.left=d.pointerBorderWidth+\"px\",t.sld.style.overflow=\"hidden\",t.sld.style.width=d.sliderSize+\"px\",t.sld.style.height=d.height+\"px\",t.sldGrad.draw(d.sliderSize,d.height,\"#000\",\"#000\"),t.sldB.style.display=n?\"block\":\"none\",t.sldB.style.position=\"absolute\",t.sldB.style.right=d.padding+\"px\",t.sldB.style.top=d.padding+\"px\",t.sldB.style.border=d.insetWidth+\"px solid\",t.sldB.style.borderColor=d.insetColor,t.sldM._jscInstance=d,t.sldM._jscControlName=\"sld\",t.sldM.style.display=n?\"block\":\"none\",t.sldM.style.position=\"absolute\",t.sldM.style.right=\"0\",t.sldM.style.top=\"0\",t.sldM.style.width=d.sliderSize+s/2+d.padding+2*d.insetWidth+\"px\",t.sldM.style.height=r[1]+\"px\",t.sldM.style.cursor=\"default\",t.sldPtrIB.style.border=t.sldPtrOB.style.border=d.pointerBorderWidth+\"px solid \"+d.pointerBorderColor,t.sldPtrOB.style.position=\"absolute\",t.sldPtrOB.style.left=-(2*d.pointerBorderWidth+d.pointerThickness)+\"px\",t.sldPtrOB.style.top=\"0\",t.sldPtrMB.style.border=d.pointerThickness+\"px solid \"+d.pointerColor,t.sldPtrS.style.width=d.sliderSize+\"px\",t.sldPtrS.style.height=m+\"px\",t.btn.style.display=d.closable?\"block\":\"none\",t.btn.style.position=\"absolute\",t.btn.style.left=d.padding+\"px\",t.btn.style.bottom=d.padding+\"px\",t.btn.style.padding=\"0 15px\",t.btn.style.height=d.buttonHeight+\"px\",t.btn.style.border=d.insetWidth+\"px solid\",l(),t.btn.style.color=d.buttonColor,t.btn.style.font=\"12px sans-serif\",t.btn.style.textAlign=\"center\";try{t.btn.style.cursor=\"pointer\"}catch(c){t.btn.style.cursor=\"hand\"}t.btn.onmousedown=function(){d.hide()},t.btnT.style.lineHeight=d.buttonHeight+\"px\",t.btnT.innerHTML=\"\",t.btnT.appendChild(document.createTextNode(d.closeText)),a(),f(),e.picker.owner&&e.picker.owner!==d&&e.unsetClass(e.picker.owner.targetElement,d.activeClass),e.picker.owner=d,e.isElementType(v,\"body\")?e.redrawPosition():e._drawPosition(d,0,0,\"relative\",!1),t.wrap.parentNode!=v&&v.appendChild(t.wrap),e.setClass(d.targetElement,d.activeClass)}function a(){switch(e.getPadYComponent(d)){case\"s\":var t=1;break;case\"v\":var t=2}var n=Math.round(d.hsv[0]/360*(d.width-1)),r=Math.round((1-d.hsv[t]/100)*(d.height-1)),i=2*d.pointerBorderWidth+d.pointerThickness+2*d.crossSize,o=-Math.floor(i/2);e.picker.cross.style.left=n+o+\"px\",e.picker.cross.style.top=r+o+\"px\";switch(e.getSliderComponent(d)){case\"s\":var u=s(d.hsv[0],100,d.hsv[2]),a=s(d.hsv[0],0,d.hsv[2]),f=\"rgb(\"+Math.round(u[0])+\",\"+Math.round(u[1])+\",\"+Math.round(u[2])+\")\",l=\"rgb(\"+Math.round(a[0])+\",\"+Math.round(a[1])+\",\"+Math.round(a[2])+\")\";e.picker.sldGrad.draw(d.sliderSize,d.height,f,l);break;case\"v\":var c=s(d.hsv[0],d.hsv[1],100),f=\"rgb(\"+Math.round(c[0])+\",\"+Math.round(c[1])+\",\"+Math.round(c[2])+\")\",l=\"#000\";e.picker.sldGrad.draw(d.sliderSize,d.height,f,l)}}function f(){var t=e.getSliderComponent(d);if(t){switch(t){case\"s\":var n=1;break;case\"v\":var n=2}var r=Math.round((1-d.hsv[n]/100)*(d.height-1));e.picker.sldPtrOB.style.top=r-(2*d.pointerBorderWidth+d.pointerThickness)-Math.floor(m/2)+\"px\"}}function l(){return e.picker&&e.picker.owner===d}function c(){d.importColor()}this.value=null,this.valueElement=t,this.styleElement=t,this.required=!0,this.refine=!0,this.hash=!1,this.uppercase=!0,this.onFineChange=null,this.activeClass=\"jscolor-active\",this.minS=0,this.maxS=100,this.minV=0,this.maxV=100,this.hsv=[0,0,100],this.rgb=[255,255,255],this.width=181,this.height=101,this.showOnClick=!0,this.mode=\"HSV\",this.position=\"bottom\",this.smartPosition=!0,this.sliderSize=16,this.crossSize=8,this.closable=!1,this.closeText=\"Close\",this.buttonColor=\"#000000\",this.buttonHeight=18,this.padding=12,this.backgroundColor=\"#FFFFFF\",this.borderWidth=1,this.borderColor=\"#BBBBBB\",this.borderRadius=8,this.insetWidth=1,this.insetColor=\"#BBBBBB\",this.shadow=!0,this.shadowBlur=15,this.shadowColor=\"rgba(0,0,0,0.2)\",this.pointerColor=\"#4C4C4C\",this.pointerBorderColor=\"#FFFFFF\",this.pointerBorderWidth=1,this.pointerThickness=2,this.zIndex=1e3,this.container=null;for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.hide=function(){l()&&o()},this.show=function(){u()},this.redraw=function(){l()&&u()},this.importColor=function(){this.valueElement?e.isElementType(this.valueElement,\"input\")?this.refine?!this.required&&/^\\s*$/.test(this.valueElement.value)?(this.valueElement.value=\"\",this.styleElement&&(this.styleElement.style.backgroundImage=this.styleElement._jscOrigStyle.backgroundImage,this.styleElement.style.backgroundColor=this.styleElement._jscOrigStyle.backgroundColor,this.styleElement.style.color=this.styleElement._jscOrigStyle.color),this.exportColor(e.leaveValue|e.leaveStyle)):this.fromString(this.valueElement.value)||this.exportColor():this.fromString(this.valueElement.value,e.leaveValue)||(this.styleElement&&(this.styleElement.style.backgroundImage=this.styleElement._jscOrigStyle.backgroundImage,this.styleElement.style.backgroundColor=this.styleElement._jscOrigStyle.backgroundColor,this.styleElement.style.color=this.styleElement._jscOrigStyle.color),this.exportColor(e.leaveValue|e.leaveStyle)):this.exportColor():this.exportColor()},this.exportColor=function(t){if(!(t&e.leaveValue)&&this.valueElement){var n=this.toString();this.uppercase&&(n=n.toUpperCase()),this.hash&&(n=\"#\"+n),e.isElementType(this.valueElement,\"input\")?this.valueElement.value=n:this.valueElement.innerHTML=n}t&e.leaveStyle||this.styleElement&&(this.styleElement.style.backgroundImage=\"none\",this.styleElement.style.backgroundColor=\"#\"+this.toString(),this.styleElement.style.color=this.isLight()?\"#000\":\"#FFF\"),!(t&e.leavePad)&&l()&&a(),!(t&e.leaveSld)&&l()&&f()},this.fromHSV=function(e,t,n,r){if(e!==null){if(isNaN(e))return!1;e=Math.max(0,Math.min(360,e))}if(t!==null){if(isNaN(t))return!1;t=Math.max(0,Math.min(100,this.maxS,t),this.minS)}if(n!==null){if(isNaN(n))return!1;n=Math.max(0,Math.min(100,this.maxV,n),this.minV)}this.rgb=s(e===null?this.hsv[0]:this.hsv[0]=e,t===null?this.hsv[1]:this.hsv[1]=t,n===null?this.hsv[2]:this.hsv[2]=n),this.exportColor(r)},this.fromRGB=function(e,t,n,r){if(e!==null){if(isNaN(e))return!1;e=Math.max(0,Math.min(255,e))}if(t!==null){if(isNaN(t))return!1;t=Math.max(0,Math.min(255,t))}if(n!==null){if(isNaN(n))return!1;n=Math.max(0,Math.min(255,n))}var o=i(e===null?this.rgb[0]:e,t===null?this.rgb[1]:t,n===null?this.rgb[2]:n);o[0]!==null&&(this.hsv[0]=Math.max(0,Math.min(360,o[0]))),o[2]!==0&&(this.hsv[1]=o[1]===null?null:Math.max(0,this.minS,Math.min(100,this.maxS,o[1]))),this.hsv[2]=o[2]===null?null:Math.max(0,this.minV,Math.min(100,this.maxV,o[2]));var u=s(this.hsv[0],this.hsv[1],this.hsv[2]);this.rgb[0]=u[0],this.rgb[1]=u[1],this.rgb[2]=u[2],this.exportColor(r)},this.fromString=function(e,t){var n;if(n=e.match(/^\\W*([0-9A-F]{3}([0-9A-F]{3})?)\\W*$/i))return n[1].length===6?this.fromRGB(parseInt(n[1].substr(0,2),16),parseInt(n[1].substr(2,2),16),parseInt(n[1].substr(4,2),16),t):this.fromRGB(parseInt(n[1].charAt(0)+n[1].charAt(0),16),parseInt(n[1].charAt(1)+n[1].charAt(1),16),parseInt(n[1].charAt(2)+n[1].charAt(2),16),t),!0;if(n=e.match(/^\\W*rgba?\\(([^)]*)\\)\\W*$/i)){var r=n[1].split(\",\"),i=/^\\s*(\\d*)(\\.\\d+)?\\s*$/,s,o,u;if(r.length>=3&&(s=r[0].match(i))&&(o=r[1].match(i))&&(u=r[2].match(i))){var a=parseFloat((s[1]||\"0\")+(s[2]||\"\")),f=parseFloat((o[1]||\"0\")+(o[2]||\"\")),l=parseFloat((u[1]||\"0\")+(u[2]||\"\"));return this.fromRGB(a,f,l,t),!0}}return!1},this.toString=function(){return(256|Math.round(this.rgb[0])).toString(16).substr(1)+(256|Math.round(this.rgb[1])).toString(16).substr(1)+(256|Math.round(this.rgb[2])).toString(16).substr(1)},this.toHEXString=function(){return\"#\"+this.toString().toUpperCase()},this.toRGBString=function(){return\"rgb(\"+Math.round(this.rgb[0])+\",\"+Math.round(this.rgb[1])+\",\"+Math.round(this.rgb[2])+\")\"},this.isLight=function(){return.213*this.rgb[0]+.715*this.rgb[1]+.072*this.rgb[2]>127.5},this._processParentElementsInDOM=function(){if(this._linkedElementsProcessed)return;this._linkedElementsProcessed=!0;var t=this.targetElement;do{var n=e.getStyle(t);n&&n.position.toLowerCase()===\"fixed\"&&(this.fixed=!0),t!==this.targetElement&&(t._jscEventsAttached||(e.attachEvent(t,\"scroll\",e.onParentScroll),t._jscEventsAttached=!0))}while((t=t.parentNode)&&!e.isElementType(t,\"body\"))};if(typeof t==\"string\"){var h=t,p=document.getElementById(h);p?this.targetElement=p:e.warn(\"Could not find target element with ID '\"+h+\"'\")}else t?this.targetElement=t:e.warn(\"Invalid target element: '\"+t+\"'\");if(this.targetElement._jscLinkedInstance){e.warn(\"Cannot link jscolor twice to the same element. Skipping.\");return}this.targetElement._jscLinkedInstance=this,this.valueElement=e.fetchElement(this.valueElement),this.styleElement=e.fetchElement(this.styleElement);var d=this,v=this.container?e.fetchElement(this.container):document.getElementsByTagName(\"body\")[0],m=3;if(e.isElementType(this.targetElement,\"button\"))if(this.targetElement.onclick){var g=this.targetElement.onclick;this.targetElement.onclick=function(e){return g.call(this,e),!1}}else this.targetElement.onclick=function(){return!1};if(this.valueElement&&e.isElementType(this.valueElement,\"input\")){var y=function(){d.fromString(d.valueElement.value,e.leaveValue),e.dispatchFineChange(d)};e.attachEvent(this.valueElement,\"keyup\",y),e.attachEvent(this.valueElement,\"input\",y),e.attachEvent(this.valueElement,\"blur\",c),this.valueElement.setAttribute(\"autocomplete\",\"off\")}this.styleElement&&(this.styleElement._jscOrigStyle={backgroundImage:this.styleElement.style.backgroundImage,backgroundColor:this.styleElement.style.backgroundColor,color:this.styleElement.style.color}),this.value?this.fromString(this.value)||this.exportColor():this.importColor()}};return e.jscolor.lookupClass=\"jscolor\",e.jscolor.installByClassName=function(t){var n=document.getElementsByTagName(\"input\"),r=document.getElementsByTagName(\"button\");e.tryInstallOnElements(n,t),e.tryInstallOnElements(r,t)},e.register(),e.jscolor}());","Mageplaza_Core/js/ion.rangeSlider.min.js":"// Ion.RangeSlider | version 2.1.6 | https://github.com/IonDen/ion.rangeSlider\n;(function(f){\"function\"===typeof define&&define.amd?define([\"jquery\"],function(p){return f(p,document,window,navigator)}):\"object\"===typeof exports?f(require(\"jquery\"),document,window,navigator):f(jQuery,document,window,navigator)})(function(f,p,h,t,q){var u=0,m=function(){var a=t.userAgent,b=/msie\\s\\d+/i;return 0<a.search(b)&&(a=b.exec(a).toString(),a=a.split(\" \")[1],9>a)?(f(\"html\").addClass(\"lt-ie9\"),!0):!1}();Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,d=[].slice;if(\"function\"!=\n    typeof b)throw new TypeError;var c=d.call(arguments,1),e=function(){if(this instanceof e){var g=function(){};g.prototype=b.prototype;var g=new g,l=b.apply(g,c.concat(d.call(arguments)));return Object(l)===l?l:g}return b.apply(a,c.concat(d.call(arguments)))};return e});Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var d;if(null==this)throw new TypeError('\"this\" is null or not defined');var c=Object(this),e=c.length>>>0;if(0===e)return-1;d=+b||0;Infinity===Math.abs(d)&&(d=0);if(d>=\n    e)return-1;for(d=Math.max(0<=d?d:e-Math.abs(d),0);d<e;){if(d in c&&c[d]===a)return d;d++}return-1});var r=function(a,b,d){this.VERSION=\"2.1.6\";this.input=a;this.plugin_count=d;this.old_to=this.old_from=this.update_tm=this.calc_count=this.current_plugin=0;this.raf_id=this.old_min_interval=null;this.is_update=this.is_key=this.no_diapason=this.force_redraw=this.dragging=!1;this.is_start=this.is_first_update=!0;this.is_click=this.is_resize=this.is_active=this.is_finish=!1;b=b||{};this.$cache={win:f(h),\n    body:f(p.body),input:f(a),cont:null,rs:null,min:null,max:null,from:null,to:null,single:null,bar:null,line:null,s_single:null,s_from:null,s_to:null,shad_single:null,shad_from:null,shad_to:null,edge:null,grid:null,grid_labels:[]};this.coords={x_gap:0,x_pointer:0,w_rs:0,w_rs_old:0,w_handle:0,p_gap:0,p_gap_left:0,p_gap_right:0,p_step:0,p_pointer:0,p_handle:0,p_single_fake:0,p_single_real:0,p_from_fake:0,p_from_real:0,p_to_fake:0,p_to_real:0,p_bar_x:0,p_bar_w:0,grid_gap:0,big_num:0,big:[],big_w:[],big_p:[],\n    big_x:[]};this.labels={w_min:0,w_max:0,w_from:0,w_to:0,w_single:0,p_min:0,p_max:0,p_from_fake:0,p_from_left:0,p_to_fake:0,p_to_left:0,p_single_fake:0,p_single_left:0};var c=this.$cache.input;a=c.prop(\"value\");var e;d={type:\"single\",min:10,max:100,from:null,to:null,step:1,min_interval:0,max_interval:0,drag_interval:!1,values:[],p_values:[],from_fixed:!1,from_min:null,from_max:null,from_shadow:!1,to_fixed:!1,to_min:null,to_max:null,to_shadow:!1,prettify_enabled:!0,prettify_separator:\" \",prettify:null,\n    force_edges:!1,keyboard:!1,keyboard_step:5,grid:!1,grid_margin:!0,grid_num:4,grid_snap:!1,hide_min_max:!1,hide_from_to:!1,prefix:\"\",postfix:\"\",max_postfix:\"\",decorate_both:!0,values_separator:\" \\u2014 \",input_values_separator:\";\",disable:!1,onStart:null,onChange:null,onFinish:null,onUpdate:null};\"INPUT\"!==c[0].nodeName&&console&&console.warn&&console.warn(\"Base element should be <input>!\",c[0]);c={type:c.data(\"type\"),min:c.data(\"min\"),max:c.data(\"max\"),from:c.data(\"from\"),to:c.data(\"to\"),step:c.data(\"step\"),\n    min_interval:c.data(\"minInterval\"),max_interval:c.data(\"maxInterval\"),drag_interval:c.data(\"dragInterval\"),values:c.data(\"values\"),from_fixed:c.data(\"fromFixed\"),from_min:c.data(\"fromMin\"),from_max:c.data(\"fromMax\"),from_shadow:c.data(\"fromShadow\"),to_fixed:c.data(\"toFixed\"),to_min:c.data(\"toMin\"),to_max:c.data(\"toMax\"),to_shadow:c.data(\"toShadow\"),prettify_enabled:c.data(\"prettifyEnabled\"),prettify_separator:c.data(\"prettifySeparator\"),force_edges:c.data(\"forceEdges\"),keyboard:c.data(\"keyboard\"),\n    keyboard_step:c.data(\"keyboardStep\"),grid:c.data(\"grid\"),grid_margin:c.data(\"gridMargin\"),grid_num:c.data(\"gridNum\"),grid_snap:c.data(\"gridSnap\"),hide_min_max:c.data(\"hideMinMax\"),hide_from_to:c.data(\"hideFromTo\"),prefix:c.data(\"prefix\"),postfix:c.data(\"postfix\"),max_postfix:c.data(\"maxPostfix\"),decorate_both:c.data(\"decorateBoth\"),values_separator:c.data(\"valuesSeparator\"),input_values_separator:c.data(\"inputValuesSeparator\"),disable:c.data(\"disable\")};c.values=c.values&&c.values.split(\",\");for(e in c)c.hasOwnProperty(e)&&\n(c[e]!==q&&\"\"!==c[e]||delete c[e]);a!==q&&\"\"!==a&&(a=a.split(c.input_values_separator||b.input_values_separator||\";\"),a[0]&&a[0]==+a[0]&&(a[0]=+a[0]),a[1]&&a[1]==+a[1]&&(a[1]=+a[1]),b&&b.values&&b.values.length?(d.from=a[0]&&b.values.indexOf(a[0]),d.to=a[1]&&b.values.indexOf(a[1])):(d.from=a[0]&&+a[0],d.to=a[1]&&+a[1]));f.extend(d,b);f.extend(d,c);this.options=d;this.update_check={};this.validate();this.result={input:this.$cache.input,slider:null,min:this.options.min,max:this.options.max,from:this.options.from,\n    from_percent:0,from_value:null,to:this.options.to,to_percent:0,to_value:null};this.init()};r.prototype={init:function(a){this.no_diapason=!1;this.coords.p_step=this.convertToPercent(this.options.step,!0);this.target=\"base\";this.toggleInput();this.append();this.setMinMax();a?(this.force_redraw=!0,this.calc(!0),this.callOnUpdate()):(this.force_redraw=!0,this.calc(!0),this.callOnStart());this.updateScene()},append:function(){this.$cache.input.before('<span class=\"irs js-irs-'+this.plugin_count+'\"></span>');\n        this.$cache.input.prop(\"readonly\",!0);this.$cache.cont=this.$cache.input.prev();this.result.slider=this.$cache.cont;this.$cache.cont.html('<span class=\"irs\"><span class=\"irs-line\" tabindex=\"-1\"><span class=\"irs-line-left\"></span><span class=\"irs-line-mid\"></span><span class=\"irs-line-right\"></span></span><span class=\"irs-min\">0</span><span class=\"irs-max\">1</span><span class=\"irs-from\">0</span><span class=\"irs-to\">0</span><span class=\"irs-single\">0</span></span><span class=\"irs-grid\"></span><span class=\"irs-bar\"></span>');\n        this.$cache.rs=this.$cache.cont.find(\".irs\");this.$cache.min=this.$cache.cont.find(\".irs-min\");this.$cache.max=this.$cache.cont.find(\".irs-max\");this.$cache.from=this.$cache.cont.find(\".irs-from\");this.$cache.to=this.$cache.cont.find(\".irs-to\");this.$cache.single=this.$cache.cont.find(\".irs-single\");this.$cache.bar=this.$cache.cont.find(\".irs-bar\");this.$cache.line=this.$cache.cont.find(\".irs-line\");this.$cache.grid=this.$cache.cont.find(\".irs-grid\");\"single\"===this.options.type?(this.$cache.cont.append('<span class=\"irs-bar-edge\"></span><span class=\"irs-shadow shadow-single\"></span><span class=\"irs-slider single\"></span>'),\n            this.$cache.edge=this.$cache.cont.find(\".irs-bar-edge\"),this.$cache.s_single=this.$cache.cont.find(\".single\"),this.$cache.from[0].style.visibility=\"hidden\",this.$cache.to[0].style.visibility=\"hidden\",this.$cache.shad_single=this.$cache.cont.find(\".shadow-single\")):(this.$cache.cont.append('<span class=\"irs-shadow shadow-from\"></span><span class=\"irs-shadow shadow-to\"></span><span class=\"irs-slider from\"></span><span class=\"irs-slider to\"></span>'),this.$cache.s_from=this.$cache.cont.find(\".from\"),\n            this.$cache.s_to=this.$cache.cont.find(\".to\"),this.$cache.shad_from=this.$cache.cont.find(\".shadow-from\"),this.$cache.shad_to=this.$cache.cont.find(\".shadow-to\"),this.setTopHandler());this.options.hide_from_to&&(this.$cache.from[0].style.display=\"none\",this.$cache.to[0].style.display=\"none\",this.$cache.single[0].style.display=\"none\");this.appendGrid();this.options.disable?(this.appendDisableMask(),this.$cache.input[0].disabled=!0):(this.$cache.cont.removeClass(\"irs-disabled\"),this.$cache.input[0].disabled=\n            !1,this.bindEvents());this.options.drag_interval&&(this.$cache.bar[0].style.cursor=\"ew-resize\")},setTopHandler:function(){var a=this.options.max,b=this.options.to;this.options.from>this.options.min&&b===a?this.$cache.s_from.addClass(\"type_last\"):b<a&&this.$cache.s_to.addClass(\"type_last\")},changeLevel:function(a){switch(a){case \"single\":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_single_fake);break;case \"from\":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake);\n        this.$cache.s_from.addClass(\"state_hover\");this.$cache.s_from.addClass(\"type_last\");this.$cache.s_to.removeClass(\"type_last\");break;case \"to\":this.coords.p_gap=this.toFixed(this.coords.p_pointer-this.coords.p_to_fake);this.$cache.s_to.addClass(\"state_hover\");this.$cache.s_to.addClass(\"type_last\");this.$cache.s_from.removeClass(\"type_last\");break;case \"both\":this.coords.p_gap_left=this.toFixed(this.coords.p_pointer-this.coords.p_from_fake),this.coords.p_gap_right=this.toFixed(this.coords.p_to_fake-\n        this.coords.p_pointer),this.$cache.s_to.removeClass(\"type_last\"),this.$cache.s_from.removeClass(\"type_last\")}},appendDisableMask:function(){this.$cache.cont.append('<span class=\"irs-disable-mask\"></span>');this.$cache.cont.addClass(\"irs-disabled\")},remove:function(){this.$cache.cont.remove();this.$cache.cont=null;this.$cache.line.off(\"keydown.irs_\"+this.plugin_count);this.$cache.body.off(\"touchmove.irs_\"+this.plugin_count);this.$cache.body.off(\"mousemove.irs_\"+this.plugin_count);this.$cache.win.off(\"touchend.irs_\"+\n        this.plugin_count);this.$cache.win.off(\"mouseup.irs_\"+this.plugin_count);m&&(this.$cache.body.off(\"mouseup.irs_\"+this.plugin_count),this.$cache.body.off(\"mouseleave.irs_\"+this.plugin_count));this.$cache.grid_labels=[];this.coords.big=[];this.coords.big_w=[];this.coords.big_p=[];this.coords.big_x=[];cancelAnimationFrame(this.raf_id)},bindEvents:function(){if(!this.no_diapason){this.$cache.body.on(\"touchmove.irs_\"+this.plugin_count,this.pointerMove.bind(this));this.$cache.body.on(\"mousemove.irs_\"+this.plugin_count,\n        this.pointerMove.bind(this));this.$cache.win.on(\"touchend.irs_\"+this.plugin_count,this.pointerUp.bind(this));this.$cache.win.on(\"mouseup.irs_\"+this.plugin_count,this.pointerUp.bind(this));this.$cache.line.on(\"touchstart.irs_\"+this.plugin_count,this.pointerClick.bind(this,\"click\"));this.$cache.line.on(\"mousedown.irs_\"+this.plugin_count,this.pointerClick.bind(this,\"click\"));this.options.drag_interval&&\"double\"===this.options.type?(this.$cache.bar.on(\"touchstart.irs_\"+this.plugin_count,this.pointerDown.bind(this,\n        \"both\")),this.$cache.bar.on(\"mousedown.irs_\"+this.plugin_count,this.pointerDown.bind(this,\"both\"))):(this.$cache.bar.on(\"touchstart.irs_\"+this.plugin_count,this.pointerClick.bind(this,\"click\")),this.$cache.bar.on(\"mousedown.irs_\"+this.plugin_count,this.pointerClick.bind(this,\"click\")));\"single\"===this.options.type?(this.$cache.single.on(\"touchstart.irs_\"+this.plugin_count,this.pointerDown.bind(this,\"single\")),this.$cache.s_single.on(\"touchstart.irs_\"+this.plugin_count,this.pointerDown.bind(this,\"single\")),\n        this.$cache.shad_single.on(\"touchstart.irs_\"+this.plugin_count,this.pointerClick.bind(this,\"click\")),this.$cache.single.on(\"mousedown.irs_\"+this.plugin_count,this.pointerDown.bind(this,\"single\")),this.$cache.s_single.on(\"mousedown.irs_\"+this.plugin_count,this.pointerDown.bind(this,\"single\")),this.$cache.edge.on(\"mousedown.irs_\"+this.plugin_count,this.pointerClick.bind(this,\"click\")),this.$cache.shad_single.on(\"mousedown.irs_\"+this.plugin_count,this.pointerClick.bind(this,\"click\"))):(this.$cache.single.on(\"touchstart.irs_\"+\n        this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.single.on(\"mousedown.irs_\"+this.plugin_count,this.pointerDown.bind(this,null)),this.$cache.from.on(\"touchstart.irs_\"+this.plugin_count,this.pointerDown.bind(this,\"from\")),this.$cache.s_from.on(\"touchstart.irs_\"+this.plugin_count,this.pointerDown.bind(this,\"from\")),this.$cache.to.on(\"touchstart.irs_\"+this.plugin_count,this.pointerDown.bind(this,\"to\")),this.$cache.s_to.on(\"touchstart.irs_\"+this.plugin_count,this.pointerDown.bind(this,\"to\")),\n        this.$cache.shad_from.on(\"touchstart.irs_\"+this.plugin_count,this.pointerClick.bind(this,\"click\")),this.$cache.shad_to.on(\"touchstart.irs_\"+this.plugin_count,this.pointerClick.bind(this,\"click\")),this.$cache.from.on(\"mousedown.irs_\"+this.plugin_count,this.pointerDown.bind(this,\"from\")),this.$cache.s_from.on(\"mousedown.irs_\"+this.plugin_count,this.pointerDown.bind(this,\"from\")),this.$cache.to.on(\"mousedown.irs_\"+this.plugin_count,this.pointerDown.bind(this,\"to\")),this.$cache.s_to.on(\"mousedown.irs_\"+\n        this.plugin_count,this.pointerDown.bind(this,\"to\")),this.$cache.shad_from.on(\"mousedown.irs_\"+this.plugin_count,this.pointerClick.bind(this,\"click\")),this.$cache.shad_to.on(\"mousedown.irs_\"+this.plugin_count,this.pointerClick.bind(this,\"click\")));if(this.options.keyboard)this.$cache.line.on(\"keydown.irs_\"+this.plugin_count,this.key.bind(this,\"keyboard\"));m&&(this.$cache.body.on(\"mouseup.irs_\"+this.plugin_count,this.pointerUp.bind(this)),this.$cache.body.on(\"mouseleave.irs_\"+this.plugin_count,this.pointerUp.bind(this)))}},\n    pointerMove:function(a){this.dragging&&(this.coords.x_pointer=(a.pageX||a.originalEvent.touches&&a.originalEvent.touches[0].pageX)-this.coords.x_gap,this.calc())},pointerUp:function(a){this.current_plugin===this.plugin_count&&this.is_active&&(this.is_active=!1,this.$cache.cont.find(\".state_hover\").removeClass(\"state_hover\"),this.force_redraw=!0,m&&f(\"*\").prop(\"unselectable\",!1),this.updateScene(),this.restoreOriginalMinInterval(),(f.contains(this.$cache.cont[0],a.target)||this.dragging)&&this.callOnFinish(),\n        this.dragging=!1)},pointerDown:function(a,b){b.preventDefault();var d=b.pageX||b.originalEvent.touches&&b.originalEvent.touches[0].pageX;2!==b.button&&(\"both\"===a&&this.setTempMinInterval(),a||(a=this.target||\"from\"),this.current_plugin=this.plugin_count,this.target=a,this.dragging=this.is_active=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=d-this.coords.x_gap,this.calcPointerPercent(),this.changeLevel(a),m&&f(\"*\").prop(\"unselectable\",!0),this.$cache.line.trigger(\"focus\"),\n        this.updateScene())},pointerClick:function(a,b){b.preventDefault();var d=b.pageX||b.originalEvent.touches&&b.originalEvent.touches[0].pageX;2!==b.button&&(this.current_plugin=this.plugin_count,this.target=a,this.is_click=!0,this.coords.x_gap=this.$cache.rs.offset().left,this.coords.x_pointer=+(d-this.coords.x_gap).toFixed(),this.force_redraw=!0,this.calc(),this.$cache.line.trigger(\"focus\"))},key:function(a,b){if(!(this.current_plugin!==this.plugin_count||b.altKey||b.ctrlKey||b.shiftKey||b.metaKey)){switch(b.which){case 83:case 65:case 40:case 37:b.preventDefault();\n        this.moveByKey(!1);break;case 87:case 68:case 38:case 39:b.preventDefault(),this.moveByKey(!0)}return!0}},moveByKey:function(a){var b=this.coords.p_pointer,b=a?b+this.options.keyboard_step:b-this.options.keyboard_step;this.coords.x_pointer=this.toFixed(this.coords.w_rs/100*b);this.is_key=!0;this.calc()},setMinMax:function(){this.options&&(this.options.hide_min_max?(this.$cache.min[0].style.display=\"none\",this.$cache.max[0].style.display=\"none\"):(this.options.values.length?(this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])),\n        this.$cache.max.html(this.decorate(this.options.p_values[this.options.max]))):(this.$cache.min.html(this.decorate(this._prettify(this.options.min),this.options.min)),this.$cache.max.html(this.decorate(this._prettify(this.options.max),this.options.max))),this.labels.w_min=this.$cache.min.outerWidth(!1),this.labels.w_max=this.$cache.max.outerWidth(!1)))},setTempMinInterval:function(){var a=this.result.to-this.result.from;null===this.old_min_interval&&(this.old_min_interval=this.options.min_interval);\n        this.options.min_interval=a},restoreOriginalMinInterval:function(){null!==this.old_min_interval&&(this.options.min_interval=this.old_min_interval,this.old_min_interval=null)},calc:function(a){if(this.options){this.calc_count++;if(10===this.calc_count||a)this.calc_count=0,this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.calcHandlePercent();if(this.coords.w_rs){this.calcPointerPercent();a=this.getHandleX();\"both\"===this.target&&(this.coords.p_gap=0,a=this.getHandleX());\"click\"===this.target&&(this.coords.p_gap=\n        this.coords.p_handle/2,a=this.getHandleX(),this.target=this.options.drag_interval?\"both_one\":this.chooseHandle(a));switch(this.target){case \"base\":var b=(this.options.max-this.options.min)/100;a=(this.result.from-this.options.min)/b;b=(this.result.to-this.options.min)/b;this.coords.p_single_real=this.toFixed(a);this.coords.p_from_real=this.toFixed(a);this.coords.p_to_real=this.toFixed(b);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);\n        this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);this.target=null;break;case \"single\":if(this.options.from_fixed)break;\n        this.coords.p_single_real=this.convertToRealPercent(a);this.coords.p_single_real=this.calcWithStep(this.coords.p_single_real);this.coords.p_single_real=this.checkDiapason(this.coords.p_single_real,this.options.from_min,this.options.from_max);this.coords.p_single_fake=this.convertToFakePercent(this.coords.p_single_real);break;case \"from\":if(this.options.from_fixed)break;this.coords.p_from_real=this.convertToRealPercent(a);this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real);this.coords.p_from_real>\n    this.coords.p_to_real&&(this.coords.p_from_real=this.coords.p_to_real);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,this.coords.p_to_real,\"from\");this.coords.p_from_real=this.checkMaxInterval(this.coords.p_from_real,this.coords.p_to_real,\"from\");this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);break;case \"to\":if(this.options.to_fixed)break;\n        this.coords.p_to_real=this.convertToRealPercent(a);this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real);this.coords.p_to_real<this.coords.p_from_real&&(this.coords.p_to_real=this.coords.p_from_real);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,\"to\");this.coords.p_to_real=this.checkMaxInterval(this.coords.p_to_real,this.coords.p_from_real,\"to\");\n        this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);break;case \"both\":if(this.options.from_fixed||this.options.to_fixed)break;a=this.toFixed(a+.001*this.coords.p_handle);this.coords.p_from_real=this.convertToRealPercent(a)-this.coords.p_gap_left;this.coords.p_from_real=this.calcWithStep(this.coords.p_from_real);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_real=this.checkMinInterval(this.coords.p_from_real,\n        this.coords.p_to_real,\"from\");this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_real=this.convertToRealPercent(a)+this.coords.p_gap_right;this.coords.p_to_real=this.calcWithStep(this.coords.p_to_real);this.coords.p_to_real=this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_real=this.checkMinInterval(this.coords.p_to_real,this.coords.p_from_real,\"to\");this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real);\n        break;case \"both_one\":if(!this.options.from_fixed&&!this.options.to_fixed){var d=this.convertToRealPercent(a);a=this.result.to_percent-this.result.from_percent;var c=a/2,b=d-c,d=d+c;0>b&&(b=0,d=b+a);100<d&&(d=100,b=d-a);this.coords.p_from_real=this.calcWithStep(b);this.coords.p_from_real=this.checkDiapason(this.coords.p_from_real,this.options.from_min,this.options.from_max);this.coords.p_from_fake=this.convertToFakePercent(this.coords.p_from_real);this.coords.p_to_real=this.calcWithStep(d);this.coords.p_to_real=\n        this.checkDiapason(this.coords.p_to_real,this.options.to_min,this.options.to_max);this.coords.p_to_fake=this.convertToFakePercent(this.coords.p_to_real)}}\"single\"===this.options.type?(this.coords.p_bar_x=this.coords.p_handle/2,this.coords.p_bar_w=this.coords.p_single_fake,this.result.from_percent=this.coords.p_single_real,this.result.from=this.convertToValue(this.coords.p_single_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from])):(this.coords.p_bar_x=\n        this.toFixed(this.coords.p_from_fake+this.coords.p_handle/2),this.coords.p_bar_w=this.toFixed(this.coords.p_to_fake-this.coords.p_from_fake),this.result.from_percent=this.coords.p_from_real,this.result.from=this.convertToValue(this.coords.p_from_real),this.result.to_percent=this.coords.p_to_real,this.result.to=this.convertToValue(this.coords.p_to_real),this.options.values.length&&(this.result.from_value=this.options.values[this.result.from],this.result.to_value=this.options.values[this.result.to]));\n        this.calcMinMax();this.calcLabels()}}},calcPointerPercent:function(){this.coords.w_rs?(0>this.coords.x_pointer||isNaN(this.coords.x_pointer)?this.coords.x_pointer=0:this.coords.x_pointer>this.coords.w_rs&&(this.coords.x_pointer=this.coords.w_rs),this.coords.p_pointer=this.toFixed(this.coords.x_pointer/this.coords.w_rs*100)):this.coords.p_pointer=0},convertToRealPercent:function(a){return a/(100-this.coords.p_handle)*100},convertToFakePercent:function(a){return a/100*(100-this.coords.p_handle)},getHandleX:function(){var a=\n        100-this.coords.p_handle,b=this.toFixed(this.coords.p_pointer-this.coords.p_gap);0>b?b=0:b>a&&(b=a);return b},calcHandlePercent:function(){this.coords.w_handle=\"single\"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1);this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100)},chooseHandle:function(a){return\"single\"===this.options.type?\"single\":a>=this.coords.p_from_real+(this.coords.p_to_real-this.coords.p_from_real)/2?this.options.to_fixed?\n        \"from\":\"to\":this.options.from_fixed?\"to\":\"from\"},calcMinMax:function(){this.coords.w_rs&&(this.labels.p_min=this.labels.w_min/this.coords.w_rs*100,this.labels.p_max=this.labels.w_max/this.coords.w_rs*100)},calcLabels:function(){this.coords.w_rs&&!this.options.hide_from_to&&(\"single\"===this.options.type?(this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=this.coords.p_single_fake+this.coords.p_handle/\n        2-this.labels.p_single_fake/2):(this.labels.w_from=this.$cache.from.outerWidth(!1),this.labels.p_from_fake=this.labels.w_from/this.coords.w_rs*100,this.labels.p_from_left=this.coords.p_from_fake+this.coords.p_handle/2-this.labels.p_from_fake/2,this.labels.p_from_left=this.toFixed(this.labels.p_from_left),this.labels.p_from_left=this.checkEdges(this.labels.p_from_left,this.labels.p_from_fake),this.labels.w_to=this.$cache.to.outerWidth(!1),this.labels.p_to_fake=this.labels.w_to/this.coords.w_rs*100,\n        this.labels.p_to_left=this.coords.p_to_fake+this.coords.p_handle/2-this.labels.p_to_fake/2,this.labels.p_to_left=this.toFixed(this.labels.p_to_left),this.labels.p_to_left=this.checkEdges(this.labels.p_to_left,this.labels.p_to_fake),this.labels.w_single=this.$cache.single.outerWidth(!1),this.labels.p_single_fake=this.labels.w_single/this.coords.w_rs*100,this.labels.p_single_left=(this.labels.p_from_left+this.labels.p_to_left+this.labels.p_to_fake)/2-this.labels.p_single_fake/2,this.labels.p_single_left=\n        this.toFixed(this.labels.p_single_left)),this.labels.p_single_left=this.checkEdges(this.labels.p_single_left,this.labels.p_single_fake))},updateScene:function(){this.raf_id&&(cancelAnimationFrame(this.raf_id),this.raf_id=null);clearTimeout(this.update_tm);this.update_tm=null;this.options&&(this.drawHandles(),this.is_active?this.raf_id=requestAnimationFrame(this.updateScene.bind(this)):this.update_tm=setTimeout(this.updateScene.bind(this),300))},drawHandles:function(){this.coords.w_rs=this.$cache.rs.outerWidth(!1);\n        if(this.coords.w_rs){this.coords.w_rs!==this.coords.w_rs_old&&(this.target=\"base\",this.is_resize=!0);if(this.coords.w_rs!==this.coords.w_rs_old||this.force_redraw)this.setMinMax(),this.calc(!0),this.drawLabels(),this.options.grid&&(this.calcGridMargin(),this.calcGridLabels()),this.force_redraw=!0,this.coords.w_rs_old=this.coords.w_rs,this.drawShadow();if(this.coords.w_rs&&(this.dragging||this.force_redraw||this.is_key)){if(this.old_from!==this.result.from||this.old_to!==this.result.to||this.force_redraw||\n            this.is_key){this.drawLabels();this.$cache.bar[0].style.left=this.coords.p_bar_x+\"%\";this.$cache.bar[0].style.width=this.coords.p_bar_w+\"%\";if(\"single\"===this.options.type)this.$cache.s_single[0].style.left=this.coords.p_single_fake+\"%\";else{this.$cache.s_from[0].style.left=this.coords.p_from_fake+\"%\";this.$cache.s_to[0].style.left=this.coords.p_to_fake+\"%\";if(this.old_from!==this.result.from||this.force_redraw)this.$cache.from[0].style.left=this.labels.p_from_left+\"%\";if(this.old_to!==this.result.to||\n            this.force_redraw)this.$cache.to[0].style.left=this.labels.p_to_left+\"%\"}this.$cache.single[0].style.left=this.labels.p_single_left+\"%\";this.writeToInput();this.old_from===this.result.from&&this.old_to===this.result.to||this.is_start||(this.$cache.input.trigger(\"change\"),this.$cache.input.trigger(\"input\"));this.old_from=this.result.from;this.old_to=this.result.to;this.is_resize||this.is_update||this.is_start||this.is_finish||this.callOnChange();if(this.is_key||this.is_click||this.is_first_update)this.is_first_update=\n            this.is_click=this.is_key=!1,this.callOnFinish();this.is_finish=this.is_resize=this.is_update=!1}this.force_redraw=this.is_click=this.is_key=this.is_start=!1}}},drawLabels:function(){if(this.options){var a=this.options.values.length,b=this.options.p_values,d;if(!this.options.hide_from_to)if(\"single\"===this.options.type)a=a?this.decorate(b[this.result.from]):this.decorate(this._prettify(this.result.from),this.result.from),this.$cache.single.html(a),this.calcLabels(),this.$cache.min[0].style.visibility=\n        this.labels.p_single_left<this.labels.p_min+1?\"hidden\":\"visible\",this.$cache.max[0].style.visibility=this.labels.p_single_left+this.labels.p_single_fake>100-this.labels.p_max-1?\"hidden\":\"visible\";else{a?(this.options.decorate_both?(a=this.decorate(b[this.result.from]),a+=this.options.values_separator,a+=this.decorate(b[this.result.to])):a=this.decorate(b[this.result.from]+this.options.values_separator+b[this.result.to]),d=this.decorate(b[this.result.from]),b=this.decorate(b[this.result.to])):(this.options.decorate_both?\n        (a=this.decorate(this._prettify(this.result.from),this.result.from),a+=this.options.values_separator,a+=this.decorate(this._prettify(this.result.to),this.result.to)):a=this.decorate(this._prettify(this.result.from)+this.options.values_separator+this._prettify(this.result.to),this.result.to),d=this.decorate(this._prettify(this.result.from),this.result.from),b=this.decorate(this._prettify(this.result.to),this.result.to));this.$cache.single.html(a);this.$cache.from.html(d);this.$cache.to.html(b);this.calcLabels();\n        b=Math.min(this.labels.p_single_left,this.labels.p_from_left);a=this.labels.p_single_left+this.labels.p_single_fake;d=this.labels.p_to_left+this.labels.p_to_fake;var c=Math.max(a,d);this.labels.p_from_left+this.labels.p_from_fake>=this.labels.p_to_left?(this.$cache.from[0].style.visibility=\"hidden\",this.$cache.to[0].style.visibility=\"hidden\",this.$cache.single[0].style.visibility=\"visible\",this.result.from===this.result.to?(\"from\"===this.target?this.$cache.from[0].style.visibility=\"visible\":\"to\"===\n        this.target?this.$cache.to[0].style.visibility=\"visible\":this.target||(this.$cache.from[0].style.visibility=\"visible\"),this.$cache.single[0].style.visibility=\"hidden\",c=d):(this.$cache.from[0].style.visibility=\"hidden\",this.$cache.to[0].style.visibility=\"hidden\",this.$cache.single[0].style.visibility=\"visible\",c=Math.max(a,d))):(this.$cache.from[0].style.visibility=\"visible\",this.$cache.to[0].style.visibility=\"visible\",this.$cache.single[0].style.visibility=\"hidden\");this.$cache.min[0].style.visibility=\n            b<this.labels.p_min+1?\"hidden\":\"visible\";this.$cache.max[0].style.visibility=c>100-this.labels.p_max-1?\"hidden\":\"visible\"}}},drawShadow:function(){var a=this.options,b=this.$cache,d=\"number\"===typeof a.from_min&&!isNaN(a.from_min),c=\"number\"===typeof a.from_max&&!isNaN(a.from_max),e=\"number\"===typeof a.to_min&&!isNaN(a.to_min),g=\"number\"===typeof a.to_max&&!isNaN(a.to_max);\"single\"===a.type?a.from_shadow&&(d||c)?(d=this.convertToPercent(d?a.from_min:a.min),c=this.convertToPercent(c?a.from_max:a.max)-\n        d,d=this.toFixed(d-this.coords.p_handle/100*d),c=this.toFixed(c-this.coords.p_handle/100*c),d+=this.coords.p_handle/2,b.shad_single[0].style.display=\"block\",b.shad_single[0].style.left=d+\"%\",b.shad_single[0].style.width=c+\"%\"):b.shad_single[0].style.display=\"none\":(a.from_shadow&&(d||c)?(d=this.convertToPercent(d?a.from_min:a.min),c=this.convertToPercent(c?a.from_max:a.max)-d,d=this.toFixed(d-this.coords.p_handle/100*d),c=this.toFixed(c-this.coords.p_handle/100*c),d+=this.coords.p_handle/2,b.shad_from[0].style.display=\n        \"block\",b.shad_from[0].style.left=d+\"%\",b.shad_from[0].style.width=c+\"%\"):b.shad_from[0].style.display=\"none\",a.to_shadow&&(e||g)?(e=this.convertToPercent(e?a.to_min:a.min),a=this.convertToPercent(g?a.to_max:a.max)-e,e=this.toFixed(e-this.coords.p_handle/100*e),a=this.toFixed(a-this.coords.p_handle/100*a),e+=this.coords.p_handle/2,b.shad_to[0].style.display=\"block\",b.shad_to[0].style.left=e+\"%\",b.shad_to[0].style.width=a+\"%\"):b.shad_to[0].style.display=\"none\")},writeToInput:function(){\"single\"===\n    this.options.type?(this.options.values.length?this.$cache.input.prop(\"value\",this.result.from_value):this.$cache.input.prop(\"value\",this.result.from),this.$cache.input.data(\"from\",this.result.from)):(this.options.values.length?this.$cache.input.prop(\"value\",this.result.from_value+this.options.input_values_separator+this.result.to_value):this.$cache.input.prop(\"value\",this.result.from+this.options.input_values_separator+this.result.to),this.$cache.input.data(\"from\",this.result.from),this.$cache.input.data(\"to\",\n        this.result.to))},callOnStart:function(){this.writeToInput();if(this.options.onStart&&\"function\"===typeof this.options.onStart)this.options.onStart(this.result)},callOnChange:function(){this.writeToInput();if(this.options.onChange&&\"function\"===typeof this.options.onChange)this.options.onChange(this.result)},callOnFinish:function(){this.writeToInput();if(this.options.onFinish&&\"function\"===typeof this.options.onFinish)this.options.onFinish(this.result)},callOnUpdate:function(){this.writeToInput();\n        if(this.options.onUpdate&&\"function\"===typeof this.options.onUpdate)this.options.onUpdate(this.result)},toggleInput:function(){this.$cache.input.toggleClass(\"irs-hidden-input\")},convertToPercent:function(a,b){var d=this.options.max-this.options.min;return d?this.toFixed((b?a:a-this.options.min)/(d/100)):(this.no_diapason=!0,0)},convertToValue:function(a){var b=this.options.min,d=this.options.max,c=b.toString().split(\".\")[1],e=d.toString().split(\".\")[1],g,l,f=0,k=0;if(0===a)return this.options.min;\n        if(100===a)return this.options.max;c&&(f=g=c.length);e&&(f=l=e.length);g&&l&&(f=g>=l?g:l);0>b&&(k=Math.abs(b),b=+(b+k).toFixed(f),d=+(d+k).toFixed(f));a=(d-b)/100*a+b;(b=this.options.step.toString().split(\".\")[1])?a=+a.toFixed(b.length):(a/=this.options.step,a*=this.options.step,a=+a.toFixed(0));k&&(a-=k);k=b?+a.toFixed(b.length):this.toFixed(a);k<this.options.min?k=this.options.min:k>this.options.max&&(k=this.options.max);return k},calcWithStep:function(a){var b=Math.round(a/this.coords.p_step)*\n        this.coords.p_step;100<b&&(b=100);100===a&&(b=100);return this.toFixed(b)},checkMinInterval:function(a,b,d){var c=this.options;if(!c.min_interval)return a;a=this.convertToValue(a);b=this.convertToValue(b);\"from\"===d?b-a<c.min_interval&&(a=b-c.min_interval):a-b<c.min_interval&&(a=b+c.min_interval);return this.convertToPercent(a)},checkMaxInterval:function(a,b,d){var c=this.options;if(!c.max_interval)return a;a=this.convertToValue(a);b=this.convertToValue(b);\"from\"===d?b-a>c.max_interval&&(a=b-c.max_interval):\n        a-b>c.max_interval&&(a=b+c.max_interval);return this.convertToPercent(a)},checkDiapason:function(a,b,d){a=this.convertToValue(a);var c=this.options;\"number\"!==typeof b&&(b=c.min);\"number\"!==typeof d&&(d=c.max);a<b&&(a=b);a>d&&(a=d);return this.convertToPercent(a)},toFixed:function(a){a=a.toFixed(20);return+a},_prettify:function(a){return this.options.prettify_enabled?this.options.prettify&&\"function\"===typeof this.options.prettify?this.options.prettify(a):this.prettify(a):a},prettify:function(a){return a.toString().replace(/(\\d{1,3}(?=(?:\\d\\d\\d)+(?!\\d)))/g,\n        \"$1\"+this.options.prettify_separator)},checkEdges:function(a,b){if(!this.options.force_edges)return this.toFixed(a);0>a?a=0:a>100-b&&(a=100-b);return this.toFixed(a)},validate:function(){var a=this.options,b=this.result,d=a.values,c=d.length,e,g;\"string\"===typeof a.min&&(a.min=+a.min);\"string\"===typeof a.max&&(a.max=+a.max);\"string\"===typeof a.from&&(a.from=+a.from);\"string\"===typeof a.to&&(a.to=+a.to);\"string\"===typeof a.step&&(a.step=+a.step);\"string\"===typeof a.from_min&&(a.from_min=+a.from_min);\n        \"string\"===typeof a.from_max&&(a.from_max=+a.from_max);\"string\"===typeof a.to_min&&(a.to_min=+a.to_min);\"string\"===typeof a.to_max&&(a.to_max=+a.to_max);\"string\"===typeof a.keyboard_step&&(a.keyboard_step=+a.keyboard_step);\"string\"===typeof a.grid_num&&(a.grid_num=+a.grid_num);a.max<a.min&&(a.max=a.min);if(c)for(a.p_values=[],a.min=0,a.max=c-1,a.step=1,a.grid_num=a.max,a.grid_snap=!0,g=0;g<c;g++)e=+d[g],isNaN(e)?e=d[g]:(d[g]=e,e=this._prettify(e)),a.p_values.push(e);if(\"number\"!==typeof a.from||isNaN(a.from))a.from=\n            a.min;if(\"number\"!==typeof a.to||isNaN(a.to))a.to=a.max;\"single\"===a.type?(a.from<a.min&&(a.from=a.min),a.from>a.max&&(a.from=a.max)):(a.from<a.min&&(a.from=a.min),a.from>a.max&&(a.from=a.max),a.to<a.min&&(a.to=a.min),a.to>a.max&&(a.to=a.max),this.update_check.from&&(this.update_check.from!==a.from&&a.from>a.to&&(a.from=a.to),this.update_check.to!==a.to&&a.to<a.from&&(a.to=a.from)),a.from>a.to&&(a.from=a.to),a.to<a.from&&(a.to=a.from));if(\"number\"!==typeof a.step||isNaN(a.step)||!a.step||0>a.step)a.step=\n            1;if(\"number\"!==typeof a.keyboard_step||isNaN(a.keyboard_step)||!a.keyboard_step||0>a.keyboard_step)a.keyboard_step=5;\"number\"===typeof a.from_min&&a.from<a.from_min&&(a.from=a.from_min);\"number\"===typeof a.from_max&&a.from>a.from_max&&(a.from=a.from_max);\"number\"===typeof a.to_min&&a.to<a.to_min&&(a.to=a.to_min);\"number\"===typeof a.to_max&&a.from>a.to_max&&(a.to=a.to_max);if(b){b.min!==a.min&&(b.min=a.min);b.max!==a.max&&(b.max=a.max);if(b.from<b.min||b.from>b.max)b.from=a.from;if(b.to<b.min||b.to>\n            b.max)b.to=a.to}if(\"number\"!==typeof a.min_interval||isNaN(a.min_interval)||!a.min_interval||0>a.min_interval)a.min_interval=0;if(\"number\"!==typeof a.max_interval||isNaN(a.max_interval)||!a.max_interval||0>a.max_interval)a.max_interval=0;a.min_interval&&a.min_interval>a.max-a.min&&(a.min_interval=a.max-a.min);a.max_interval&&a.max_interval>a.max-a.min&&(a.max_interval=a.max-a.min)},decorate:function(a,b){var d=\"\",c=this.options;c.prefix&&(d+=c.prefix);d+=a;c.max_postfix&&(c.values.length&&a===c.p_values[c.max]?\n        (d+=c.max_postfix,c.postfix&&(d+=\" \")):b===c.max&&(d+=c.max_postfix,c.postfix&&(d+=\" \")));c.postfix&&(d+=c.postfix);return d},updateFrom:function(){this.result.from=this.options.from;this.result.from_percent=this.convertToPercent(this.result.from);this.options.values&&(this.result.from_value=this.options.values[this.result.from])},updateTo:function(){this.result.to=this.options.to;this.result.to_percent=this.convertToPercent(this.result.to);this.options.values&&(this.result.to_value=this.options.values[this.result.to])},\n    updateResult:function(){this.result.min=this.options.min;this.result.max=this.options.max;this.updateFrom();this.updateTo()},appendGrid:function(){if(this.options.grid){var a=this.options,b,d;b=a.max-a.min;var c=a.grid_num,e,g,f=4,h,k,m,n=\"\";this.calcGridMargin();a.grid_snap?(c=b/a.step,e=this.toFixed(a.step/(b/100))):e=this.toFixed(100/c);4<c&&(f=3);7<c&&(f=2);14<c&&(f=1);28<c&&(f=0);for(b=0;b<c+1;b++){h=f;g=this.toFixed(e*b);100<g&&(g=100,h-=2,0>h&&(h=0));this.coords.big[b]=g;k=(g-e*(b-1))/(h+1);\n        for(d=1;d<=h&&0!==g;d++)m=this.toFixed(g-k*d),n+='<span class=\"irs-grid-pol small\" style=\"left: '+m+'%\"></span>';n+='<span class=\"irs-grid-pol\" style=\"left: '+g+'%\"></span>';d=this.convertToValue(g);d=a.values.length?a.p_values[d]:this._prettify(d);n+='<span class=\"irs-grid-text js-grid-text-'+b+'\" style=\"left: '+g+'%\">'+d+\"</span>\"}this.coords.big_num=Math.ceil(c+1);this.$cache.cont.addClass(\"irs-with-grid\");this.$cache.grid.html(n);this.cacheGridLabels()}},cacheGridLabels:function(){var a,b,d=this.coords.big_num;\n        for(b=0;b<d;b++)a=this.$cache.grid.find(\".js-grid-text-\"+b),this.$cache.grid_labels.push(a);this.calcGridLabels()},calcGridLabels:function(){var a,b;b=[];var d=[],c=this.coords.big_num;for(a=0;a<c;a++)this.coords.big_w[a]=this.$cache.grid_labels[a].outerWidth(!1),this.coords.big_p[a]=this.toFixed(this.coords.big_w[a]/this.coords.w_rs*100),this.coords.big_x[a]=this.toFixed(this.coords.big_p[a]/2),b[a]=this.toFixed(this.coords.big[a]-this.coords.big_x[a]),d[a]=this.toFixed(b[a]+this.coords.big_p[a]);\n        this.options.force_edges&&(b[0]<-this.coords.grid_gap&&(b[0]=-this.coords.grid_gap,d[0]=this.toFixed(b[0]+this.coords.big_p[0]),this.coords.big_x[0]=this.coords.grid_gap),d[c-1]>100+this.coords.grid_gap&&(d[c-1]=100+this.coords.grid_gap,b[c-1]=this.toFixed(d[c-1]-this.coords.big_p[c-1]),this.coords.big_x[c-1]=this.toFixed(this.coords.big_p[c-1]-this.coords.grid_gap)));this.calcGridCollision(2,b,d);this.calcGridCollision(4,b,d);for(a=0;a<c;a++)b=this.$cache.grid_labels[a][0],this.coords.big_x[a]!==\n        Number.POSITIVE_INFINITY&&(b.style.marginLeft=-this.coords.big_x[a]+\"%\")},calcGridCollision:function(a,b,d){var c,e,g,f=this.coords.big_num;for(c=0;c<f;c+=a){e=c+a/2;if(e>=f)break;g=this.$cache.grid_labels[e][0];g.style.visibility=d[c]<=b[e]?\"visible\":\"hidden\"}},calcGridMargin:function(){this.options.grid_margin&&(this.coords.w_rs=this.$cache.rs.outerWidth(!1),this.coords.w_rs&&(this.coords.w_handle=\"single\"===this.options.type?this.$cache.s_single.outerWidth(!1):this.$cache.s_from.outerWidth(!1),\n        this.coords.p_handle=this.toFixed(this.coords.w_handle/this.coords.w_rs*100),this.coords.grid_gap=this.toFixed(this.coords.p_handle/2-.1),this.$cache.grid[0].style.width=this.toFixed(100-this.coords.p_handle)+\"%\",this.$cache.grid[0].style.left=this.coords.grid_gap+\"%\"))},update:function(a){this.input&&(this.is_update=!0,this.options.from=this.result.from,this.options.to=this.result.to,this.update_check.from=this.result.from,this.update_check.to=this.result.to,this.options=f.extend(this.options,a),\n        this.validate(),this.updateResult(a),this.toggleInput(),this.remove(),this.init(!0))},reset:function(){this.input&&(this.updateResult(),this.update())},destroy:function(){this.input&&(this.toggleInput(),this.$cache.input.prop(\"readonly\",!1),f.data(this.input,\"ionRangeSlider\",null),this.remove(),this.options=this.input=null)}};f.fn.ionRangeSlider=function(a){return this.each(function(){f.data(this,\"ionRangeSlider\")||f.data(this,\"ionRangeSlider\",new r(this,a,u++))})};(function(){for(var a=0,b=[\"ms\",\n    \"moz\",\"webkit\",\"o\"],d=0;d<b.length&&!h.requestAnimationFrame;++d)h.requestAnimationFrame=h[b[d]+\"RequestAnimationFrame\"],h.cancelAnimationFrame=h[b[d]+\"CancelAnimationFrame\"]||h[b[d]+\"CancelRequestAnimationFrame\"];h.requestAnimationFrame||(h.requestAnimationFrame=function(b,d){var c=(new Date).getTime(),e=Math.max(0,16-(c-a)),f=h.setTimeout(function(){b(c+e)},e);a=c+e;return f});h.cancelAnimationFrame||(h.cancelAnimationFrame=function(a){clearTimeout(a)})})()});\n","Mageplaza_Core/js/bootstrap.min.js":"/*!\n * Bootstrap v3.3.6 (http://getbootstrap.com)\n * Copyright 2011-2015 Twitter, Inc.\n * Licensed under the MIT license\n */\nif(\"undefined\"==typeof jQuery)throw new Error(\"Bootstrap's JavaScript requires jQuery\");+function(a){\"use strict\";var b=a.fn.jquery.split(\" \")[0].split(\".\");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1||b[0]>2)throw new Error(\"Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3\")}(jQuery),+function(a){\"use strict\";function b(){var a=document.createElement(\"bootstrap\"),b={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",transition:\"transitionend\"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(\"bsTransitionEnd\",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var c=a(this),e=c.data(\"bs.alert\");e||c.data(\"bs.alert\",e=new d(this)),\"string\"==typeof b&&e[b].call(c)})}var c='[data-dismiss=\"alert\"]',d=function(b){a(b).on(\"click\",c,this.close)};d.VERSION=\"3.3.6\",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger(\"closed.bs.alert\").remove()}var e=a(this),f=e.attr(\"data-target\");f||(f=e.attr(\"href\"),f=f&&f.replace(/.*(?=#[^\\s]*$)/,\"\"));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(\".alert\")),g.trigger(b=a.Event(\"close.bs.alert\")),b.isDefaultPrevented()||(g.removeClass(\"in\"),a.support.transition&&g.hasClass(\"fade\")?g.one(\"bsTransitionEnd\",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on(\"click.bs.alert.data-api\",c,d.prototype.close)}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.button\"),f=\"object\"==typeof b&&b;e||d.data(\"bs.button\",e=new c(this,f)),\"toggle\"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION=\"3.3.6\",c.DEFAULTS={loadingText:\"loading...\"},c.prototype.setState=function(b){var c=\"disabled\",d=this.$element,e=d.is(\"input\")?\"val\":\"html\",f=d.data();b+=\"Text\",null==f.resetText&&d.data(\"resetText\",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),\"loadingText\"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle=\"buttons\"]');if(b.length){var c=this.$element.find(\"input\");\"radio\"==c.prop(\"type\")?(c.prop(\"checked\")&&(a=!1),b.find(\".active\").removeClass(\"active\"),this.$element.addClass(\"active\")):\"checkbox\"==c.prop(\"type\")&&(c.prop(\"checked\")!==this.$element.hasClass(\"active\")&&(a=!1),this.$element.toggleClass(\"active\")),c.prop(\"checked\",this.$element.hasClass(\"active\")),a&&c.trigger(\"change\")}else this.$element.attr(\"aria-pressed\",!this.$element.hasClass(\"active\")),this.$element.toggleClass(\"active\")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on(\"click.bs.button.data-api\",'[data-toggle^=\"button\"]',function(c){var d=a(c.target);d.hasClass(\"btn\")||(d=d.closest(\".btn\")),b.call(d,\"toggle\"),a(c.target).is('input[type=\"radio\"]')||a(c.target).is('input[type=\"checkbox\"]')||c.preventDefault()}).on(\"focus.bs.button.data-api blur.bs.button.data-api\",'[data-toggle^=\"button\"]',function(b){a(b.target).closest(\".btn\").toggleClass(\"focus\",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.carousel\"),f=a.extend({},c.DEFAULTS,d.data(),\"object\"==typeof b&&b),g=\"string\"==typeof b?b:f.slide;e||d.data(\"bs.carousel\",e=new c(this,f)),\"number\"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(\".carousel-indicators\"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on(\"keydown.bs.carousel\",a.proxy(this.keydown,this)),\"hover\"==this.options.pause&&!(\"ontouchstart\"in document.documentElement)&&this.$element.on(\"mouseenter.bs.carousel\",a.proxy(this.pause,this)).on(\"mouseleave.bs.carousel\",a.proxy(this.cycle,this))};c.VERSION=\"3.3.6\",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:\"hover\",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(\".item\"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d=\"prev\"==a&&0===c||\"next\"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e=\"prev\"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(\".item.active\"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one(\"slid.bs.carousel\",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?\"next\":\"prev\",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(\".next, .prev\").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide(\"next\")},c.prototype.prev=function(){return this.sliding?void 0:this.slide(\"prev\")},c.prototype.slide=function(b,d){var e=this.$element.find(\".item.active\"),f=d||this.getItemForDirection(b,e),g=this.interval,h=\"next\"==b?\"left\":\"right\",i=this;if(f.hasClass(\"active\"))return this.sliding=!1;var j=f[0],k=a.Event(\"slide.bs.carousel\",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(\".active\").removeClass(\"active\");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass(\"active\")}var m=a.Event(\"slid.bs.carousel\",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass(\"slide\")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one(\"bsTransitionEnd\",function(){f.removeClass([b,h].join(\" \")).addClass(\"active\"),e.removeClass([\"active\",h].join(\" \")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass(\"active\"),f.addClass(\"active\"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr(\"data-target\")||(d=e.attr(\"href\"))&&d.replace(/.*(?=#[^\\s]+$)/,\"\"));if(f.hasClass(\"carousel\")){var g=a.extend({},f.data(),e.data()),h=e.attr(\"data-slide-to\");h&&(g.interval=!1),b.call(f,g),h&&f.data(\"bs.carousel\").to(h),c.preventDefault()}};a(document).on(\"click.bs.carousel.data-api\",\"[data-slide]\",e).on(\"click.bs.carousel.data-api\",\"[data-slide-to]\",e),a(window).on(\"load\",function(){a('[data-ride=\"carousel\"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){\"use strict\";function b(b){var c,d=b.attr(\"data-target\")||(c=b.attr(\"href\"))&&c.replace(/.*(?=#[^\\s]+$)/,\"\");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data(\"bs.collapse\"),f=a.extend({},d.DEFAULTS,c.data(),\"object\"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data(\"bs.collapse\",e=new d(this,f)),\"string\"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle=\"collapse\"][href=\"#'+b.id+'\"],[data-toggle=\"collapse\"][data-target=\"#'+b.id+'\"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION=\"3.3.6\",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass(\"width\");return a?\"width\":\"height\"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass(\"in\")){var b,e=this.$parent&&this.$parent.children(\".panel\").children(\".in, .collapsing\");if(!(e&&e.length&&(b=e.data(\"bs.collapse\"),b&&b.transitioning))){var f=a.Event(\"show.bs.collapse\");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,\"hide\"),b||e.data(\"bs.collapse\",null));var g=this.dimension();this.$element.removeClass(\"collapse\").addClass(\"collapsing\")[g](0).attr(\"aria-expanded\",!0),this.$trigger.removeClass(\"collapsed\").attr(\"aria-expanded\",!0),this.transitioning=1;var h=function(){this.$element.removeClass(\"collapsing\").addClass(\"collapse in\")[g](\"\"),this.transitioning=0,this.$element.trigger(\"shown.bs.collapse\")};if(!a.support.transition)return h.call(this);var i=a.camelCase([\"scroll\",g].join(\"-\"));this.$element.one(\"bsTransitionEnd\",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass(\"in\")){var b=a.Event(\"hide.bs.collapse\");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass(\"collapsing\").removeClass(\"collapse in\").attr(\"aria-expanded\",!1),this.$trigger.addClass(\"collapsed\").attr(\"aria-expanded\",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass(\"collapsing\").addClass(\"collapse\").trigger(\"hidden.bs.collapse\")};return a.support.transition?void this.$element[c](0).one(\"bsTransitionEnd\",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass(\"in\")?\"hide\":\"show\"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle=\"collapse\"][data-parent=\"'+this.options.parent+'\"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass(\"in\");a.attr(\"aria-expanded\",c),b.toggleClass(\"collapsed\",!c).attr(\"aria-expanded\",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on(\"click.bs.collapse.data-api\",'[data-toggle=\"collapse\"]',function(d){var e=a(this);e.attr(\"data-target\")||d.preventDefault();var f=b(e),g=f.data(\"bs.collapse\"),h=g?\"toggle\":e.data();c.call(f,h)})}(jQuery),+function(a){\"use strict\";function b(b){var c=b.attr(\"data-target\");c||(c=b.attr(\"href\"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\\s]*$)/,\"\"));var d=c&&a(c);return d&&d.length?d:b.parent()}function c(c){c&&3===c.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=b(d),f={relatedTarget:this};e.hasClass(\"open\")&&(c&&\"click\"==c.type&&/input|textarea/i.test(c.target.tagName)&&a.contains(e[0],c.target)||(e.trigger(c=a.Event(\"hide.bs.dropdown\",f)),c.isDefaultPrevented()||(d.attr(\"aria-expanded\",\"false\"),e.removeClass(\"open\").trigger(a.Event(\"hidden.bs.dropdown\",f)))))}))}function d(b){return this.each(function(){var c=a(this),d=c.data(\"bs.dropdown\");d||c.data(\"bs.dropdown\",d=new g(this)),\"string\"==typeof b&&d[b].call(c)})}var e=\".dropdown-backdrop\",f='[data-toggle=\"dropdown\"]',g=function(b){a(b).on(\"click.bs.dropdown\",this.toggle)};g.VERSION=\"3.3.6\",g.prototype.toggle=function(d){var e=a(this);if(!e.is(\".disabled, :disabled\")){var f=b(e),g=f.hasClass(\"open\");if(c(),!g){\"ontouchstart\"in document.documentElement&&!f.closest(\".navbar-nav\").length&&a(document.createElement(\"div\")).addClass(\"dropdown-backdrop\").insertAfter(a(this)).on(\"click\",c);var h={relatedTarget:this};if(f.trigger(d=a.Event(\"show.bs.dropdown\",h)),d.isDefaultPrevented())return;e.trigger(\"focus\").attr(\"aria-expanded\",\"true\"),f.toggleClass(\"open\").trigger(a.Event(\"shown.bs.dropdown\",h))}return!1}},g.prototype.keydown=function(c){if(/(38|40|27|32)/.test(c.which)&&!/input|textarea/i.test(c.target.tagName)){var d=a(this);if(c.preventDefault(),c.stopPropagation(),!d.is(\".disabled, :disabled\")){var e=b(d),g=e.hasClass(\"open\");if(!g&&27!=c.which||g&&27==c.which)return 27==c.which&&e.find(f).trigger(\"focus\"),d.trigger(\"click\");var h=\" li:not(.disabled):visible a\",i=e.find(\".dropdown-menu\"+h);if(i.length){var j=i.index(c.target);38==c.which&&j>0&&j--,40==c.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger(\"focus\")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on(\"click.bs.dropdown.data-api\",c).on(\"click.bs.dropdown.data-api\",\".dropdown form\",function(a){a.stopPropagation()}).on(\"click.bs.dropdown.data-api\",f,g.prototype.toggle).on(\"keydown.bs.dropdown.data-api\",f,g.prototype.keydown).on(\"keydown.bs.dropdown.data-api\",\".dropdown-menu\",g.prototype.keydown)}(jQuery),+function(a){\"use strict\";function b(b,d){return this.each(function(){var e=a(this),f=e.data(\"bs.modal\"),g=a.extend({},c.DEFAULTS,e.data(),\"object\"==typeof b&&b);f||e.data(\"bs.modal\",f=new c(this,g)),\"string\"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(\".modal-dialog\"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(\".modal-content\").load(this.options.remote,a.proxy(function(){this.$element.trigger(\"loaded.bs.modal\")},this))};c.VERSION=\"3.3.6\",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event(\"show.bs.modal\",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass(\"modal-open\"),this.escape(),this.resize(),this.$element.on(\"click.dismiss.bs.modal\",'[data-dismiss=\"modal\"]',a.proxy(this.hide,this)),this.$dialog.on(\"mousedown.dismiss.bs.modal\",function(){d.$element.one(\"mouseup.dismiss.bs.modal\",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass(\"fade\");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass(\"in\"),d.enforceFocus();var f=a.Event(\"shown.bs.modal\",{relatedTarget:b});e?d.$dialog.one(\"bsTransitionEnd\",function(){d.$element.trigger(\"focus\").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger(\"focus\").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event(\"hide.bs.modal\"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off(\"focusin.bs.modal\"),this.$element.removeClass(\"in\").off(\"click.dismiss.bs.modal\").off(\"mouseup.dismiss.bs.modal\"),this.$dialog.off(\"mousedown.dismiss.bs.modal\"),a.support.transition&&this.$element.hasClass(\"fade\")?this.$element.one(\"bsTransitionEnd\",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off(\"focusin.bs.modal\").on(\"focusin.bs.modal\",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger(\"focus\")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on(\"keydown.dismiss.bs.modal\",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off(\"keydown.dismiss.bs.modal\")},c.prototype.resize=function(){this.isShown?a(window).on(\"resize.bs.modal\",a.proxy(this.handleUpdate,this)):a(window).off(\"resize.bs.modal\")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass(\"modal-open\"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger(\"hidden.bs.modal\")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass(\"fade\")?\"fade\":\"\";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a(document.createElement(\"div\")).addClass(\"modal-backdrop \"+e).appendTo(this.$body),this.$element.on(\"click.dismiss.bs.modal\",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&(\"static\"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass(\"in\"),!b)return;f?this.$backdrop.one(\"bsTransitionEnd\",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass(\"in\");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass(\"fade\")?this.$backdrop.one(\"bsTransitionEnd\",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:\"\",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:\"\"})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:\"\",paddingRight:\"\"})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css(\"padding-right\")||0,10);this.originalBodyPad=document.body.style.paddingRight||\"\",this.bodyIsOverflowing&&this.$body.css(\"padding-right\",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css(\"padding-right\",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement(\"div\");a.className=\"modal-scrollbar-measure\",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on(\"click.bs.modal.data-api\",'[data-toggle=\"modal\"]',function(c){var d=a(this),e=d.attr(\"href\"),f=a(d.attr(\"data-target\")||e&&e.replace(/.*(?=#[^\\s]+$)/,\"\")),g=f.data(\"bs.modal\")?\"toggle\":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is(\"a\")&&c.preventDefault(),f.one(\"show.bs.modal\",function(a){a.isDefaultPrevented()||f.one(\"hidden.bs.modal\",function(){d.is(\":visible\")&&d.trigger(\"focus\")})}),b.call(f,g,this)})}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.tooltip\"),f=\"object\"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data(\"bs.tooltip\",e=new c(this,f)),\"string\"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init(\"tooltip\",a,b)};c.VERSION=\"3.3.6\",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:\"top\",selector:!1,template:'<div class=\"tooltip\" role=\"tooltip\"><div class=\"tooltip-arrow\"></div><div class=\"tooltip-inner\"></div></div>',trigger:\"hover focus\",title:\"\",delay:0,html:!1,container:!1,viewport:{selector:\"body\",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(a.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error(\"`selector` option must be specified when initializing \"+this.type+\" on the window.document object!\");for(var e=this.options.trigger.split(\" \"),f=e.length;f--;){var g=e[f];if(\"click\"==g)this.$element.on(\"click.\"+this.type,this.options.selector,a.proxy(this.toggle,this));else if(\"manual\"!=g){var h=\"hover\"==g?\"mouseenter\":\"focusin\",i=\"hover\"==g?\"mouseleave\":\"focusout\";this.$element.on(h+\".\"+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+\".\"+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:\"manual\",selector:\"\"}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&\"number\"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data(\"bs.\"+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data(\"bs.\"+this.type,c)),b instanceof a.Event&&(c.inState[\"focusin\"==b.type?\"focus\":\"hover\"]=!0),c.tip().hasClass(\"in\")||\"in\"==c.hoverState?void(c.hoverState=\"in\"):(clearTimeout(c.timeout),c.hoverState=\"in\",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){\"in\"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.isInStateTrue=function(){for(var a in this.inState)if(this.inState[a])return!0;return!1},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data(\"bs.\"+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data(\"bs.\"+this.type,c)),b instanceof a.Event&&(c.inState[\"focusout\"==b.type?\"focus\":\"hover\"]=!1),c.isInStateTrue()?void 0:(clearTimeout(c.timeout),c.hoverState=\"out\",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){\"out\"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide())},c.prototype.show=function(){var b=a.Event(\"show.bs.\"+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr(\"id\",g),this.$element.attr(\"aria-describedby\",g),this.options.animation&&f.addClass(\"fade\");var h=\"function\"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\\s?auto?\\s?/i,j=i.test(h);j&&(h=h.replace(i,\"\")||\"top\"),f.detach().css({top:0,left:0,display:\"block\"}).addClass(h).data(\"bs.\"+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element),this.$element.trigger(\"inserted.bs.\"+this.type);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.getPosition(this.$viewport);h=\"bottom\"==h&&k.bottom+m>o.bottom?\"top\":\"top\"==h&&k.top-m<o.top?\"bottom\":\"right\"==h&&k.right+l>o.width?\"left\":\"left\"==h&&k.left-l<o.left?\"right\":h,f.removeClass(n).addClass(h)}var p=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(p,h);var q=function(){var a=e.hoverState;e.$element.trigger(\"shown.bs.\"+e.type),e.hoverState=null,\"out\"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass(\"fade\")?f.one(\"bsTransitionEnd\",q).emulateTransitionEnd(c.TRANSITION_DURATION):q()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css(\"margin-top\"),10),h=parseInt(d.css(\"margin-left\"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top+=g,b.left+=h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass(\"in\");var i=d[0].offsetWidth,j=d[0].offsetHeight;\"top\"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?\"offsetWidth\":\"offsetHeight\";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?\"left\":\"top\",50*(1-a/b)+\"%\").css(c?\"top\":\"left\",\"\")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(\".tooltip-inner\")[this.options.html?\"html\":\"text\"](b),a.removeClass(\"fade in top bottom left right\")},c.prototype.hide=function(b){function d(){\"in\"!=e.hoverState&&f.detach(),e.$element.removeAttr(\"aria-describedby\").trigger(\"hidden.bs.\"+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event(\"hide.bs.\"+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass(\"in\"),a.support.transition&&f.hasClass(\"fade\")?f.one(\"bsTransitionEnd\",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr(\"title\")||\"string\"!=typeof a.attr(\"data-original-title\"))&&a.attr(\"data-original-title\",a.attr(\"title\")||\"\").attr(\"title\",\"\")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d=\"BODY\"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return\"bottom\"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:\"top\"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:\"left\"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.right&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr(\"data-original-title\")||(\"function\"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){if(!this.$tip&&(this.$tip=a(this.options.template),1!=this.$tip.length))throw new Error(this.type+\" `template` option must consist of exactly 1 top-level element!\");return this.$tip},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(\".tooltip-arrow\")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data(\"bs.\"+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data(\"bs.\"+this.type,c))),b?(c.inState.click=!c.inState.click,c.isInStateTrue()?c.enter(c):c.leave(c)):c.tip().hasClass(\"in\")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off(\".\"+a.type).removeData(\"bs.\"+a.type),a.$tip&&a.$tip.detach(),a.$tip=null,a.$arrow=null,a.$viewport=null})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.popover\"),f=\"object\"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data(\"bs.popover\",e=new c(this,f)),\"string\"==typeof b&&e[b]())})}var c=function(a,b){this.init(\"popover\",a,b)};if(!a.fn.tooltip)throw new Error(\"Popover requires tooltip.js\");c.VERSION=\"3.3.6\",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:\"right\",trigger:\"click\",content:\"\",template:'<div class=\"popover\" role=\"tooltip\"><div class=\"arrow\"></div><h3 class=\"popover-title\"></h3><div class=\"popover-content\"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(\".popover-title\")[this.options.html?\"html\":\"text\"](b),a.find(\".popover-content\").children().detach().end()[this.options.html?\"string\"==typeof c?\"html\":\"append\":\"text\"](c),a.removeClass(\"fade top bottom left right in\"),a.find(\".popover-title\").html()||a.find(\".popover-title\").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr(\"data-content\")||(\"function\"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(\".arrow\")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){\"use strict\";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||\"\")+\" .nav li > a\",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on(\"scroll.bs.scrollspy\",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data(\"bs.scrollspy\"),f=\"object\"==typeof c&&c;e||d.data(\"bs.scrollspy\",e=new b(this,f)),\"string\"==typeof c&&e[c]()})}b.VERSION=\"3.3.6\",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c=\"offset\",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c=\"position\",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data(\"target\")||b.attr(\"href\"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(\":visible\")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target=\"'+b+'\"],'+this.selector+'[href=\"'+b+'\"]',d=a(c).parents(\"li\").addClass(\"active\");\n    d.parent(\".dropdown-menu\").length&&(d=d.closest(\"li.dropdown\").addClass(\"active\")),d.trigger(\"activate.bs.scrollspy\")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,\".active\").removeClass(\"active\")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on(\"load.bs.scrollspy.data-api\",function(){a('[data-spy=\"scroll\"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.tab\");e||d.data(\"bs.tab\",e=new c(this)),\"string\"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION=\"3.3.6\",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest(\"ul:not(.dropdown-menu)\"),d=b.data(\"target\");if(d||(d=b.attr(\"href\"),d=d&&d.replace(/.*(?=#[^\\s]*$)/,\"\")),!b.parent(\"li\").hasClass(\"active\")){var e=c.find(\".active:last a\"),f=a.Event(\"hide.bs.tab\",{relatedTarget:b[0]}),g=a.Event(\"show.bs.tab\",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest(\"li\"),c),this.activate(h,h.parent(),function(){e.trigger({type:\"hidden.bs.tab\",relatedTarget:b[0]}),b.trigger({type:\"shown.bs.tab\",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass(\"active\").find(\"> .dropdown-menu > .active\").removeClass(\"active\").end().find('[data-toggle=\"tab\"]').attr(\"aria-expanded\",!1),b.addClass(\"active\").find('[data-toggle=\"tab\"]').attr(\"aria-expanded\",!0),h?(b[0].offsetWidth,b.addClass(\"in\")):b.removeClass(\"fade\"),b.parent(\".dropdown-menu\").length&&b.closest(\"li.dropdown\").addClass(\"active\").end().find('[data-toggle=\"tab\"]').attr(\"aria-expanded\",!0),e&&e()}var g=d.find(\"> .active\"),h=e&&a.support.transition&&(g.length&&g.hasClass(\"fade\")||!!d.find(\"> .fade\").length);g.length&&h?g.one(\"bsTransitionEnd\",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass(\"in\")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),\"show\")};a(document).on(\"click.bs.tab.data-api\",'[data-toggle=\"tab\"]',e).on(\"click.bs.tab.data-api\",'[data-toggle=\"pill\"]',e)}(jQuery),+function(a){\"use strict\";function b(b){return this.each(function(){var d=a(this),e=d.data(\"bs.affix\"),f=\"object\"==typeof b&&b;e||d.data(\"bs.affix\",e=new c(this,f)),\"string\"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on(\"scroll.bs.affix.data-api\",a.proxy(this.checkPosition,this)).on(\"click.bs.affix.data-api\",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION=\"3.3.6\",c.RESET=\"affix affix-top affix-bottom\",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&\"top\"==this.affixed)return c>e?\"top\":!1;if(\"bottom\"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:\"bottom\":a-d>=e+g?!1:\"bottom\";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?\"top\":null!=d&&i+j>=a-d?\"bottom\":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass(\"affix\");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(\":visible\")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=Math.max(a(document).height(),a(document.body).height());\"object\"!=typeof d&&(f=e=d),\"function\"==typeof e&&(e=d.top(this.$element)),\"function\"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css(\"top\",\"\");var i=\"affix\"+(h?\"-\"+h:\"\"),j=a.Event(i+\".bs.affix\");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin=\"bottom\"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace(\"affix\",\"affixed\")+\".bs.affix\")}\"bottom\"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on(\"load\",function(){a('[data-spy=\"affix\"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery);","js/theme.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine('globalNavigationScroll', [\n    'jquery'\n], function ($) {\n    'use strict';\n\n    var win = $(window),\n        subMenuClass = '.submenu',\n        fixedClassName = '_fixed',\n        menu = $('.menu-wrapper'),\n        content = $('.page-wrapper'),\n        menuItems = $('#nav').children('li'),\n        winHeight,\n        menuHeight = menu.height(),\n        menuScrollMax = 0,\n        submenuHeight = 0,\n        contentHeight,\n        winTop = 0,\n        winTopLast = 0,\n        scrollStep = 0,\n        nextTop = 0;\n\n    /**\n     * Check if menu is fixed\n     * @returns {Boolean}\n     */\n    function isMenuFixed() {\n        return menuHeight < contentHeight && contentHeight > winHeight;\n    }\n\n    /**\n     * Check if class exist than add or do nothing\n     * @param {jQuery} el\n     * @param {String} $class\n     */\n    function checkAddClass(el, $class) {\n        if (!el.hasClass($class)) {\n            el.addClass($class);\n        }\n    }\n\n    /**\n     * Check if class exist than remove or do nothing\n     * @param {jQuery} el\n     * @param {String} $class\n     */\n    function checkRemoveClass(el, $class) {\n        if (el.hasClass($class)) {\n            el.removeClass($class);\n        }\n    }\n\n    /**\n     * Calculate and apply menu position\n     */\n    function positionMenu() {\n\n        //  Spotting positions and heights\n        winHeight = win.height();\n        contentHeight = content.height();\n        winTop = win.scrollTop();\n        scrollStep = winTop - winTopLast;\n\n        if (isMenuFixed()) { // fixed menu cases\n\n            checkAddClass(menu, fixedClassName);\n\n            if (menuHeight > winHeight) { // smart scroll cases\n\n                if (winTop > winTopLast) { //eslint-disable-line max-depth\n\n                    menuScrollMax = menuHeight - winHeight;\n\n                    nextTop < menuScrollMax - scrollStep ?\n                        nextTop += scrollStep : nextTop = menuScrollMax;\n\n                    menu.css('top', -nextTop);\n\n                } else if (winTop <= winTopLast) { // scroll up\n\n                    nextTop > -scrollStep ?\n                        nextTop += scrollStep : nextTop = 0;\n\n                    menu.css('top', -nextTop);\n\n                }\n\n            }\n\n        } else { // static menu cases\n            checkRemoveClass(menu, fixedClassName);\n        }\n\n        //  Save previous window scrollTop\n        winTopLast = winTop;\n\n    }\n\n    positionMenu(); // page start calculation\n\n    //  Change position on scroll\n    win.on('scroll', function () {\n        positionMenu();\n    });\n\n    win.on('resize', function () {\n\n        winHeight = win.height();\n\n        //  Reset position if fixed and out of smart scroll\n        if (menuHeight < contentHeight && menuHeight <= winHeight) {\n            menu.removeAttr('style');\n            menuItems.off();\n        }\n\n    });\n\n    //  Add event to menuItems to check submenu overlap\n    menuItems.on('click', function () {\n\n        var submenu = $(this).children(subMenuClass),\n            delta,\n            logo = $('.logo')[0].offsetHeight;\n\n        submenuHeight = submenu.height();\n\n        if (submenuHeight > menuHeight && menuHeight + logo > winHeight) {\n            menu.height(submenuHeight - logo);\n            delta = -menu.position().top;\n            window.scrollTo(0, 0);\n            positionMenu();\n            window.scrollTo(0, delta);\n            positionMenu();\n            menuHeight = submenuHeight;\n        }\n    });\n\n});\n\ndefine('globalNavigation', [\n    'jquery',\n    'jquery/ui',\n    'globalNavigationScroll'\n], function ($) {\n    'use strict';\n\n    $.widget('mage.globalNavigation', {\n        options: {\n            selectors: {\n                menu: '#nav',\n                currentItem: '._current',\n                topLevelItem: '.level-0',\n                topLevelHref: '> a',\n                subMenu: '> .submenu',\n                closeSubmenuBtn: '[data-role=\"close-submenu\"]'\n            },\n            overlayTmpl: '<div class=\"admin__menu-overlay\"></div>'\n        },\n\n        /** @inheritdoc */\n        _create: function () {\n            var selectors = this.options.selectors;\n\n            this.menu = this.element;\n            this.menuLinks = $(selectors.topLevelHref, selectors.topLevelItem);\n            this.closeActions = $(selectors.closeSubmenuBtn);\n\n            this._initOverlay()\n                ._bind();\n        },\n\n        /**\n         * @return {Object}\n         * @private\n         */\n        _initOverlay: function () {\n            this.overlay = $(this.options.overlayTmpl).appendTo('body').hide(0);\n\n            return this;\n        },\n\n        /**\n         * @private\n         */\n        _bind: function () {\n            var focus = this._focus.bind(this),\n                open = this._open.bind(this),\n                blur = this._blur.bind(this),\n                keyboard = this._keyboard.bind(this);\n\n            this.menuLinks\n                .on('focus', focus)\n                .on('click', open);\n\n            this.menuLinks.last().on('blur', blur);\n\n            this.closeActions.on('keydown', keyboard);\n        },\n\n        /**\n         * Remove active class from current menu item\n         * Turn back active class to current page menu item\n         */\n        _blur: function (e) {\n            var selectors = this.options.selectors,\n                menuItem = $(e.target).closest(selectors.topLevelItem),\n                currentItem = $(selectors.menu).find(selectors.currentItem);\n\n            menuItem.removeClass('_active');\n            currentItem.addClass('_active');\n        },\n\n        /**\n         * Add focus to active menu item\n         */\n        _keyboard: function (e) {\n            var selectors = this.options.selectors,\n                menuItem = $(e.target).closest(selectors.topLevelItem);\n\n            if (e.which === 13) {\n                this._close(e);\n                $(selectors.topLevelHref, menuItem).focus();\n            }\n        },\n\n        /**\n         * Toggle active state on focus\n         */\n        _focus: function (e) {\n            var selectors = this.options.selectors,\n                menuItem = $(e.target).closest(selectors.topLevelItem);\n\n            menuItem.addClass('_active')\n                .siblings(selectors.topLevelItem)\n                .removeClass('_active');\n        },\n\n        /**\n         * @param {jQuery.Event} e\n         * @private\n         */\n        _closeSubmenu: function (e) {\n            var selectors = this.options.selectors,\n                currentItem = $(selectors.menu).find(selectors.currentItem);\n\n            this._close(e);\n\n            currentItem.addClass('_active');\n        },\n\n        /**\n         * @param {jQuery.Event} e\n         * @private\n         */\n        _open: function (e) {\n            var selectors = this.options.selectors,\n                menuItemSelector = selectors.topLevelItem,\n                menuItem = $(e.target).closest(menuItemSelector),\n                subMenu = $(selectors.subMenu, menuItem),\n                close = this._closeSubmenu.bind(this),\n                closeBtn = subMenu.find(selectors.closeSubmenuBtn);\n\n            if (subMenu.length) {\n                e.preventDefault();\n            }\n\n            menuItem.addClass('_show')\n                .siblings(menuItemSelector)\n                .removeClass('_show');\n\n            subMenu.attr('aria-expanded', 'true');\n\n            closeBtn.on('click', close);\n\n            this.overlay.show(0).on('click', close);\n            this.menuLinks.last().off('blur');\n        },\n\n        /**\n         * @param {jQuery.Event} e\n         * @private\n         */\n        _close: function (e) {\n            var selectors = this.options.selectors,\n                menuItem = this.menu.find(selectors.topLevelItem + '._show'),\n                subMenu = $(selectors.subMenu, menuItem),\n                closeBtn = subMenu.find(selectors.closeSubmenuBtn),\n                blur = this._blur.bind(this);\n\n            e.preventDefault();\n\n            this.overlay.hide(0).off('click');\n\n            this.menuLinks.last().on('blur', blur);\n\n            closeBtn.off('click');\n\n            subMenu.attr('aria-expanded', 'false');\n\n            menuItem.removeClass('_show _active');\n        }\n    });\n\n    return $.mage.globalNavigation;\n});\n\ndefine('globalSearch', [\n    'jquery',\n    'jquery/ui'\n], function ($) {\n    'use strict';\n\n    $.widget('mage.globalSearch', {\n        options: {\n            field: '.search-global-field',\n            fieldActiveClass: '_active',\n            input: '#search-global'\n        },\n\n        /** @inheritdoc */\n        _create: function () {\n            this.field = $(this.options.field);\n            this.input = $(this.options.input);\n            this._events();\n        },\n\n        /**\n         * @private\n         */\n        _events: function () {\n            var self = this;\n\n            this.input.on('blur.resetGlobalSearchForm', function () {\n                if (!self.input.val()) {\n                    self.field.removeClass(self.options.fieldActiveClass);\n                }\n            });\n\n            this.input.on('focus.activateGlobalSearchForm', function () {\n                self.field.addClass(self.options.fieldActiveClass);\n            });\n        }\n    });\n\n    return $.mage.globalSearch;\n});\n\ndefine('modalPopup', [\n    'jquery',\n    'jquery/ui'\n], function ($) {\n    'use strict';\n\n    $.widget('mage.modalPopup', {\n        options: {\n            popup: '.popup',\n            btnDismiss: '[data-dismiss=\"popup\"]',\n            btnHide: '[data-hide=\"popup\"]'\n        },\n\n        /** @inheritdoc */\n        _create: function () {\n            this.fade = this.element;\n            this.popup = $(this.options.popup, this.fade);\n            this.btnDismiss = $(this.options.btnDismiss, this.popup);\n            this.btnHide = $(this.options.btnHide, this.popup);\n\n            this._events();\n        },\n\n        /**\n         * @private\n         */\n        _events: function () {\n            var self = this;\n\n            this.btnDismiss\n                .on('click.dismissModalPopup', function () {\n                    self.fade.remove();\n                });\n\n            this.btnHide\n                .on('click.hideModalPopup', function () {\n                    self.fade.hide();\n                });\n        }\n    });\n\n    return $.mage.modalPopup;\n});\n\ndefine('useDefault', [\n    'jquery',\n    'jquery/ui'\n], function ($) {\n    'use strict';\n\n    $.widget('mage.useDefault', {\n        options: {\n            field: '.field',\n            useDefault: '.use-default',\n            checkbox: '.use-default-control',\n            label: '.use-default-label'\n        },\n\n        /** @inheritdoc */\n        _create: function () {\n            this.el = this.element;\n            this.field = $(this.el).closest(this.options.field);\n            this.useDefault = $(this.options.useDefault, this.field);\n            this.checkbox = $(this.options.checkbox, this.useDefault);\n            this.label = $(this.options.label, this.useDefault);\n            this.origValue = this.el.attr('data-store-label');\n\n            this._events();\n        },\n\n        /**\n         * @private\n         */\n        _events: function () {\n            var self = this;\n\n            this.el.on(\n                    'change.toggleUseDefaultVisibility keyup.toggleUseDefaultVisibility',\n                    $.proxy(this._toggleUseDefaultVisibility, this)\n                ).trigger('change.toggleUseDefaultVisibility');\n\n            this.checkboxon('change.setOrigValue', function () {\n                if ($(this).prop('checked')) {\n                    self.el\n                        .val(self.origValue)\n                        .trigger('change.toggleUseDefaultVisibility');\n\n                    $(this).prop('checked', false);\n                }\n            });\n        },\n\n        /**\n         * @private\n         */\n        _toggleUseDefaultVisibility: function () {\n            var curValue = this.el.val(),\n                origValue = this.origValue;\n\n            this[curValue != origValue ? '_show' : '_hide'](); //eslint-disable-line eqeqeq\n        },\n\n        /**\n         * @private\n         */\n        _show: function () {\n            this.useDefault.show();\n        },\n\n        /**\n         * @private\n         */\n        _hide: function () {\n            this.useDefault.hide();\n        }\n    });\n\n    return $.mage.useDefault;\n});\n\ndefine('loadingPopup', [\n    'jquery',\n    'jquery/ui'\n], function ($) {\n    'use strict';\n\n    $.widget('mage.loadingPopup', {\n        options: {\n            message: 'Please wait...',\n            timeout: 5000,\n            timeoutId: null,\n            callback: null,\n            template: null\n        },\n\n        /** @inheritdoc */\n        _create: function () {\n            this.template =\n                '<div class=\"popup popup-loading\">' +\n                '<div class=\"popup-inner\">' + this.options.message + '</div>' +\n                '</div>';\n\n            this.popup = $(this.template);\n\n            this._show();\n            this._events();\n        },\n\n        /**\n         * @private\n         */\n        _events: function () {\n            var self = this;\n\n            this.element\n                .on('showLoadingPopup', function () {\n                    self._show();\n                })\n                .on('hideLoadingPopup', function () {\n                    self._hide();\n                });\n        },\n\n        /**\n         * @private\n         */\n        _show: function () {\n            var options = this.options,\n                timeout = options.timeout;\n\n            $('body').trigger('processStart');\n\n            if (timeout) {\n                options.timeoutId = setTimeout(this._delayedHide.bind(this), timeout);\n            }\n        },\n\n        /**\n         * @private\n         */\n        _hide: function () {\n            $('body').trigger('processStop');\n        },\n\n        /**\n         * @private\n         */\n        _delayedHide: function () {\n            this._hide();\n\n            this.options.callback && this.options.callback();\n\n            this.options.timeoutId && clearTimeout(this.options.timeoutId);\n        }\n    });\n\n    return $.mage.loadingPopup;\n});\n\ndefine('collapsable', [\n    'jquery',\n    'jquery/ui',\n    'jquery/jquery.tabs'\n], function ($) {\n    'use strict';\n\n    $.widget('mage.collapsable', {\n        options: {\n            parent: null,\n            openedClass: 'opened',\n            wrapper: '.fieldset-wrapper'\n        },\n\n        /** @inheritdoc */\n        _create: function () {\n            this._events();\n        },\n\n        /** @inheritdoc */\n        _events: function () {\n            var self = this;\n\n            this.element\n                .on('show', function (e) {\n                    var fieldsetWrapper = $(this).closest(self.options.wrapper);\n\n                    fieldsetWrapper.addClass(self.options.openedClass);\n                    e.stopPropagation();\n                })\n                .on('hide', function (e) {\n                    var fieldsetWrapper = $(this).closest(self.options.wrapper);\n\n                    fieldsetWrapper.removeClass(self.options.openedClass);\n                    e.stopPropagation();\n                });\n        }\n    });\n\n    return $.mage.collapsable;\n});\n\ndefine('js/theme', [\n    'jquery',\n    'mage/smart-keyboard-handler',\n    'mage/ie-class-fixer',\n    'collapsable',\n    'domReady!'\n], function ($, keyboardHandler) {\n    'use strict';\n\n    /* @TODO refactor collapsable as widget and avoid logic binding with such a general selectors */\n    $('.collapse').collapsable();\n\n    $.each($('.entry-edit'), function (i, entry) {\n        $('.collapse:first', entry).filter(function () {\n            return $(this).data('collapsed') !== true;\n        }).collapse('show');\n    });\n\n    keyboardHandler.apply();\n});\n","Magento_SalesRule/js/form/element/coupon-type.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'underscore',\n    'uiRegistry',\n    'Magento_Ui/js/form/element/select'\n], function (_, uiRegistry, select) {\n    'use strict';\n\n    return select.extend({\n\n        /**\n         * Hide fields on coupon tab\n         */\n        onUpdate: function () {\n\n            /* eslint-disable eqeqeq */\n            if (this.value() != this.displayOnlyForCouponType) {\n                uiRegistry.get('sales_rule_form.sales_rule_form.rule_information.use_auto_generation').checked(false);\n            }\n\n            this.enableDisableFields();\n        },\n\n        /**\n         * Enable/disable fields on Coupons tab\n         */\n        enableDisableFields: function () {\n            var selector,\n                isUseAutoGenerationChecked,\n                couponType,\n                disableAuto;\n\n            selector = '[id=sales-rule-form-tab-coupons] input, [id=sales-rule-form-tab-coupons] select, ' +\n                    '[id=sales-rule-form-tab-coupons] button';\n            isUseAutoGenerationChecked = uiRegistry\n                    .get('sales_rule_form.sales_rule_form.rule_information.use_auto_generation')\n                    .checked();\n            couponType = uiRegistry\n                .get('sales_rule_form.sales_rule_form.rule_information.coupon_type')\n                .value();\n            disableAuto = couponType === 3 || isUseAutoGenerationChecked;\n            _.each(\n                document.querySelectorAll(selector),\n                function (element) {\n                    element.disabled = !disableAuto;\n                }\n            );\n        }\n    });\n});\n","Magento_SalesRule/js/form/element/manage-coupon-codes.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'underscore',\n    'uiRegistry',\n    'Magento_Ui/js/form/components/fieldset',\n    'Magento_Ui/js/lib/view/utils/async'\n], function (_, uiRegistry, fieldset, async) {\n    'use strict';\n\n    return fieldset.extend({\n\n        /*eslint-disable no-unused-vars*/\n        /**\n         * Initialize element\n         *\n         * @returns {Abstract} Chainable\n         */\n        initialize: function (elems, position) {\n            var obj = this;\n\n            this._super();\n\n            async.async('#sales-rule-form-tab-coupons', document.getElementById('container'), function (node) {\n                var useAutoGeneration = uiRegistry.get(\n                    'sales_rule_form.sales_rule_form.rule_information.use_auto_generation'\n                );\n\n                useAutoGeneration.on('checked', function () {\n                    obj.enableDisableFields();\n                });\n                obj.enableDisableFields();\n            });\n\n            return this;\n        },\n\n        /*eslint-enable no-unused-vars*/\n        /*eslint-disable lines-around-comment*/\n\n        /**\n         * Enable/disable fields on Coupons tab\n         */\n        enableDisableFields: function () {\n            var selector,\n                isUseAutoGenerationChecked,\n                couponType,\n                disableAuto;\n\n            selector = '[id=sales-rule-form-tab-coupons] input, [id=sales-rule-form-tab-coupons] select, ' +\n                    '[id=sales-rule-form-tab-coupons] button';\n            isUseAutoGenerationChecked = uiRegistry\n                    .get('sales_rule_form.sales_rule_form.rule_information.use_auto_generation')\n                    .checked();\n            couponType = uiRegistry\n                .get('sales_rule_form.sales_rule_form.rule_information.coupon_type')\n                .value();\n            /**\n             * \\Magento\\Rule\\Model\\AbstractModel::COUPON_TYPE_AUTO\n             */\n            disableAuto = couponType === 3 || isUseAutoGenerationChecked;\n            _.each(\n                document.querySelectorAll(selector),\n                function (element) {\n                    element.disabled = !disableAuto;\n                }\n            );\n        }\n    });\n});\n","Magento_InventoryAdminUi/js/stock/grid/cell/assigned-sources.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'Magento_Ui/js/grid/columns/column',\n    'underscore'\n], function (Column, _) {\n    'use strict';\n\n    return Column.extend({\n        defaults: {\n            bodyTmpl: 'Magento_InventoryAdminUi/stock/grid/cell/assigned-sources-cell.html'\n        },\n\n        /**\n         * @param {Object} record - Record object\n         * @returns {Array} Result array\n         */\n        getSourcesAssignedToStockOrderedByPriority: function (record) {\n            var result = [];\n\n            _.each(record[this.index], function (source) {\n                result.push({\n                    sourceCode: source.sourceCode,\n                    name: source.name\n                });\n            });\n\n            return result;\n        }\n    });\n});\n","Magento_Backend/js/media-uploader.js":"/**\n *\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\n\n/*global byteConvert*/\ndefine([\n    'jquery',\n    'mage/template',\n    'Magento_Ui/js/modal/alert',\n    'Magento_Ui/js/form/element/file-uploader',\n    'mage/translate',\n    'jquery/file-uploader'\n], function ($, mageTemplate, alert, FileUploader) {\n    'use strict';\n\n    var fileUploader = new FileUploader({\n        dataScope: '',\n        isMultipleFiles: true\n    });\n\n    fileUploader.initUploader();\n\n    $.widget('mage.mediaUploader', {\n\n        /**\n         *\n         * @private\n         */\n        _create: function () {\n            var\n                self = this,\n                progressTmpl = mageTemplate('[data-template=\"uploader\"]');\n\n            this.element.find('input[type=file]').fileupload({\n                dataType: 'json',\n                formData: {\n                    'form_key': window.FORM_KEY\n                },\n                dropZone: '[data-tab-panel=image-management]',\n                sequentialUploads: true,\n                acceptFileTypes: /(\\.|\\/)(gif|jpe?g|png)$/i,\n                maxFileSize: this.options.maxFileSize,\n\n                /**\n                 * @param {Object} e\n                 * @param {Object} data\n                 */\n                add: function (e, data) {\n                    var\n                        fileSize,\n                        tmpl;\n\n                    $.each(data.files, function (index, file) {\n                        fileSize = typeof file.size == 'undefined' ?\n                            $.mage.__('We could not detect a size.') :\n                            byteConvert(file.size);\n\n                        data.fileId = Math.random().toString(33).substr(2, 18);\n\n                        tmpl = progressTmpl({\n                            data: {\n                                name: file.name,\n                                size: fileSize,\n                                id: data.fileId\n                            }\n                        });\n\n                        $(tmpl).appendTo(self.element);\n                    });\n\n                    $(this).fileupload('process', data).done(function () {\n                        data.submit();\n                    });\n                },\n\n                /**\n                 * @param {Object} e\n                 * @param {Object} data\n                 */\n                done: function (e, data) {\n                    if (data.result && !data.result.error) {\n                        self.element.trigger('addItem', data.result);\n                    } else {\n                        fileUploader.aggregateError(data.files[0].name, data.result.error);\n                    }\n\n                    self.element.find('#' + data.fileId).remove();\n                },\n\n                /**\n                 * @param {Object} e\n                 * @param {Object} data\n                 */\n                progress: function (e, data) {\n                    var progress = parseInt(data.loaded / data.total * 100, 10),\n                        progressSelector = '#' + data.fileId + ' .progressbar-container .progressbar';\n\n                    self.element.find(progressSelector).css('width', progress + '%');\n                },\n\n                /**\n                 * @param {Object} e\n                 * @param {Object} data\n                 */\n                fail: function (e, data) {\n                    var progressSelector = '#' + data.fileId;\n\n                    self.element.find(progressSelector).removeClass('upload-progress').addClass('upload-failure')\n                        .delay(2000)\n                        .hide('highlight')\n                        .remove();\n                },\n\n                stop: fileUploader.uploaderConfig.stop\n            });\n\n            this.element.find('input[type=file]').fileupload('option', {\n                process: [{\n                    action: 'load',\n                    fileTypes: /^image\\/(gif|jpeg|png)$/,\n                    maxFileSize: this.options.maxFileSize\n                }, {\n                    action: 'resize'\n                }, {\n                    action: 'save'\n                }]\n            });\n        }\n    });\n\n    return $.mage.mediaUploader;\n});\n","Magento_Backend/js/validate-store.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'jquery/ui',\n    'mage/dataPost',\n    'mage/backend/validation',\n    'Magento_Ui/js/modal/confirm'\n], function ($, jqueryUi, dataPost, validation, modalConfirm) {\n    'use strict';\n\n    $.widget('mage.storeValidation', {\n\n        /**\n         * Validation creation\n         * @protected\n         */\n        _create: function () {\n            var form = this.element[0],\n                validator = $.data(form, 'validator');\n\n            if (validator && validator.settings) {\n                validator.settings.submitHandler = this._saveHandler;\n                validator.settings.confirmCallback = this._needConfirm;\n                $.extend(validator.settings, this.options);\n                $.data(form, 'validator', validator);\n            }\n        },\n\n        /**\n         * Check is it need to show confirmation popup\n         *\n         * @returns {Boolean}\n         */\n        _needConfirm: function () {\n            return true;\n        },\n\n        /**\n         * Save form with confirmation if needed\n         *\n         * @param {Object} form\n         * @private\n         */\n        _saveHandler: function (form) {\n            var formData = {},\n                requestData = {},\n                options = $.data(form, 'validator').settings;\n\n            if ($(form).validation('isValid')) {\n                $.each($(form).serializeArray(), function () {\n                    formData[this.name] = this.value || '';\n                });\n                requestData = {\n                    action: $(form).attr('action'),\n                    data: formData\n                };\n\n                if (options.confirmCallback.call(this)) {\n                    modalConfirm({\n                        title: $.mage.__('Warning message'),\n                        content: $.mage.__('This operation can take a long time'),\n                        actions: {\n                            /**\n                             * 'Confirm' action handler.\n                             */\n                            confirm: function () {\n                                $('body').trigger('processStart');\n                                dataPost().postData(requestData);\n                            }\n                        }\n                    });\n                } else {\n                    dataPost().postData(requestData);\n                }\n            }\n        }\n    });\n\n    return $.mage.storeValidation;\n});\n","Magento_Backend/js/delete-with-confirm.js":"/**\n *\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'Magento_Backend/js/validate-store'\n], function ($, validateStore) {\n    'use strict';\n\n    $.widget('mage.deleteWithConfirm', validateStore, {});\n\n    return $.mage.deleteWithConfirm;\n});\n","Magento_Backend/js/save-with-confirm.js":"/**\n *\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery',\n    'Magento_Backend/js/validate-store'\n], function ($, validateStore) {\n    'use strict';\n\n    $.widget('mage.saveWithConfirm', validateStore, {\n\n        /**\n         * Check is it need to show confirmation popup\n         *\n         * @returns {Boolean}\n         */\n        _needConfirm: function () {\n\n            var storeData = this.settings.storeData,\n\n            /* edit store view*/\n                storeViewEdit = $('[name=\"store[store_id]\"]').length,\n                groupId = $('[name=\"store[group_id]\"]').val(),\n                isNewStoreView = !$('[name=\"store[store_id]\"]').val(),\n\n            /* edit store */\n                storeEdit = $('[name=\"group[group_id]\"]').length,\n                storeId = $('[name=\"group[group_id]\"]').val(),\n                rootCategoryId = $('[name=\"group[root_category_id]\"]').val(),\n                defaultStoreView = $('[name=\"group[default_store_id]\"]').val(),\n\n            /* edit website */\n                websiteEdit = $('[name=\"website[website_id]\"]').length,\n                defaultStore = $('[name=\"website[default_group_id]\"]').val(),\n\n            /* conditions */\n                storeViewUpdated = storeViewEdit && (isNewStoreView || storeData['group_id'] !== groupId),\n                storeUpdated = storeEdit && storeId &&\n                    (rootCategoryId !== null  && storeData['root_category_id'] !== rootCategoryId ||\n                    defaultStoreView !== null && storeData['default_store_id'] !== defaultStoreView),\n                websiteUpdated = websiteEdit && defaultStore !== null && storeData['default_group_id'] !== defaultStore;\n\n            return storeViewUpdated || storeUpdated || websiteUpdated;\n        }\n    });\n\n    return $.mage.saveWithConfirm;\n});\n","Magento_Backend/js/bootstrap/editor.js":"/**\n *\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\nrequire([\n    'Magento_Variable/variables',\n    'mage/adminhtml/browser'\n]);\n","Magento_GroupedProduct/js/grouped-product.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @api\n */\ndefine([\n    'jquery',\n    'mage/template',\n    'jquery/ui',\n    'Magento_Ui/js/modal/modal',\n    'mage/translate',\n    'mage/adminhtml/grid'\n], function ($, mageTemplate) {\n    'use strict';\n\n    $.widget('mage.groupedProduct', {\n        /**\n         * Create widget\n         * @private\n         */\n        _create: function () {\n            this.$grid = this.element.find('[data-role=grouped-product-grid]');\n            this.$grid.sortable({\n                distance: 8,\n                items: '[data-role=row]',\n                tolerance: 'pointer',\n                cancel: ':input',\n                update: $.proxy(function () {\n                    this.element.trigger('resort');\n                }, this)\n            });\n\n            this.productTmpl = mageTemplate('#group-product-template');\n\n            $.each(\n                this.$grid.data('products'),\n                $.proxy(function (index, product) {\n                    this._add(null, product);\n                }, this)\n            );\n\n            this._on({\n                'add': '_add',\n                'resort': '_resort',\n                'click [data-column=actions] [data-role=delete]': '_remove'\n            });\n\n            this._bindDialog();\n            this._updateGridVisibility();\n        },\n\n        /**\n         * Add product to grouped grid\n         * @param {EventObject} event\n         * @param {Object} product\n         * @private\n         */\n        _add: function (event, product) {\n            var tmpl,\n                productExists;\n\n            productExists = this.$grid.find('[data-role=id]')\n                .filter(function (index, element) {\n                    return $(element).val() == product.id; //eslint-disable-line eqeqeq\n                }).length;\n\n            if (!productExists) {\n                tmpl = this.productTmpl({\n                    data: product\n                });\n\n                $(tmpl).appendTo(this.$grid.find('tbody'));\n            }\n        },\n\n        /**\n         * Remove product\n         * @param {EventObject} event\n         * @private\n         */\n        _remove: function (event) {\n            $(event.target).closest('[data-role=row]').remove();\n            this.element.trigger('resort');\n            this._updateGridVisibility();\n        },\n\n        /**\n         * Resort products\n         * @private\n         */\n        _resort: function () {\n            this.element.find('[data-role=position]').each($.proxy(function (index, element) {\n                $(element).val(index + 1);\n            }, this));\n        },\n\n        /**\n         * Create modal for show product\n         *\n         * @private\n         */\n        _bindDialog: function () {\n            var widget = this,\n                selectedProductList = {},\n                popup = $('[data-role=add-product-dialog]'),\n                gridPopup;\n\n            popup.modal({\n                type: 'slide',\n                innerScroll: true,\n                title: $.mage.__('Add Products to Group'),\n                modalClass: 'grouped',\n\n                /** @inheritdoc */\n                open: function () {\n                    $(this).addClass('admin__scope-old'); // ToDo UI: remove with old styles removal\n                },\n                buttons: [{\n                    id: 'grouped-product-dialog-apply-button',\n                    text: $.mage.__('Add Selected Products'),\n                    'class': 'action-primary action-add',\n\n                    /** @inheritdoc */\n                    click: function () {\n                        $.each(selectedProductList, function (index, product) {\n                            widget._add(null, product);\n                        });\n                        widget._resort();\n                        widget._updateGridVisibility();\n                        popup.modal('closeModal');\n                    }\n                }]\n            });\n\n            popup.on('click', '[data-role=row]', function (event) {\n                var target = $(event.target);\n\n                if (!target.is('input')) {\n                    target.closest('[data-role=row]')\n                        .find('[data-column=entity_ids] input')\n                        .prop('checked', function (element, value) {\n                            return !value;\n                        })\n                        .trigger('change');\n                }\n            });\n\n            popup.on(\n                'change',\n                '[data-role=row] [data-column=entity_ids] input',\n                $.proxy(function (event) {\n                    var element = $(event.target),\n                        product = {};\n\n                    if (element.is(':checked')) {\n                        product.id = element.val();\n                        product.qty = 0;\n                        element.closest('[data-role=row]').find('[data-column]').each(function (index, el) {\n                            product[$(el).data('column')] = $.trim($(el).text());\n                        });\n                        selectedProductList[product.id] = product;\n                    } else {\n                        delete selectedProductList[element.val()];\n                    }\n                }, this)\n            );\n\n            gridPopup = $(this.options.gridPopup).data('gridObject');\n\n            $('[data-role=add-product]').on('click', function (event) {\n                event.preventDefault();\n                popup.modal('openModal');\n                gridPopup.reload();\n                selectedProductList = {};\n            });\n\n            $('#' + gridPopup.containerId).on('gridajaxsettings', function (event, ajaxSettings) {\n                var ids = widget.$grid.find('[data-role=id]').map(function (index, element) {\n                    return $(element).val();\n                }).toArray();\n\n                ajaxSettings.data.filter = $.extend(ajaxSettings.data.filter || {}, {\n                    'entity_ids': ids\n                });\n            }).on('gridajax', function (event, ajaxRequest) {\n                ajaxRequest.done(function () {\n                    popup.find('[data-role=row] [data-column=entity_ids] input').each(function (index, element) {\n                        var $element = $(element);\n\n                        $element.prop('checked', !!selectedProductList[$element.val()]);\n                    });\n                });\n            });\n        },\n\n        /**\n         * Show or hide message\n         * @private\n         */\n        _updateGridVisibility: function () {\n            var showGrid = this.element.find('[data-role=id]').length > 0;\n\n            this.element.find('.grid-container').toggle(showGrid);\n            this.element.find('.no-products-message').toggle(!showGrid);\n        }\n    });\n\n    return $.mage.groupedProduct;\n});\n","mage/calendar.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/*eslint max-depth: 0*/\n(function (factory) {\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'jquery/ui',\n            'jquery/jquery-ui-timepicker-addon'\n        ], factory);\n    } else {\n        factory(window.jQuery);\n    }\n}(function ($) {\n    'use strict';\n\n    var calendarBasePrototype,\n        datepickerPrototype = $.datepicker.constructor.prototype;\n\n    $.datepicker.markerClassName = '_has-datepicker';\n\n    /**\n     * Extend JQuery date picker prototype with store local time methods\n     */\n    $.extend(datepickerPrototype, {\n        /**\n         * Get date/time according to store settings.\n         * We use serverTimezoneOffset (in seconds) instead of serverTimezoneSeconds\n         * in order to have ability to know actual store time even if page hadn't been reloaded\n         * @returns {Date}\n         */\n        _getTimezoneDate: function (options) {\n            // local time in ms\n            var ms = Date.now();\n\n            options = options || $.calendarConfig || {};\n\n            // Adjust milliseconds according to store timezone offset,\n            // mind the GMT zero offset\n            if (typeof options.serverTimezoneOffset !== 'undefined') {\n                // Make UTC time and add store timezone offset in seconds\n                ms += new Date().getTimezoneOffset() * 60 * 1000 + options.serverTimezoneOffset * 1000;\n            } else if (typeof options.serverTimezoneSeconds !== 'undefined') {\n                //Set milliseconds according to client local timezone offset\n                ms = (options.serverTimezoneSeconds + new Date().getTimezoneOffset() * 60) * 1000;\n            }\n\n            return new Date(ms);\n        },\n\n        /**\n         * Set date/time according to store settings.\n         * @param {String|Object} target - the target input field or division or span\n         */\n        _setTimezoneDateDatepicker: function (target) {\n            this._setDateDatepicker(target, this._getTimezoneDate());\n        }\n    });\n\n    /**\n     * Widget calendar\n     */\n    $.widget('mage.calendar', {\n\n        /**\n         * Merge global options with options passed to widget invoke\n         * @protected\n         */\n        _create: function () {\n            this._enableAMPM();\n            this.options = $.extend(\n                {},\n                $.calendarConfig ? $.calendarConfig : {},\n                this.options.showsTime ? {\n                    showTime: true,\n                    showHour: true,\n                    showMinute: true\n                } : {},\n                this.options\n            );\n            this._initPicker(this.element);\n            this._overwriteGenerateHtml();\n        },\n\n        /**\n         * Get picker name\n         * @protected\n         */\n        _picker: function () {\n            return this.options.showsTime ? 'datetimepicker' : 'datepicker';\n        },\n\n        /**\n         * Fix for Timepicker - Set ampm option for Timepicker if timeformat contains string 'tt'\n         * @protected\n         */\n        _enableAMPM: function () {\n            if (this.options.timeFormat && this.options.timeFormat.indexOf('tt') >= 0) {\n                this.options.ampm = true;\n            }\n        },\n\n        /**\n         * Wrapper for overwrite jQuery UI datepicker function.\n         */\n        _overwriteGenerateHtml: function () {\n            /**\n             * Overwrite jQuery UI datepicker function.\n             * Reason: magento date could be set before calendar show\n             * but local date will be styled as current in original _generateHTML\n             *\n             * @param {Object} inst - instance datepicker.\n             * @return {String} html template\n             */\n            $.datepicker.constructor.prototype._generateHTML = function (inst) {\n                var today = this._getTimezoneDate(),\n                    isRTL = this._get(inst, 'isRTL'),\n                    showButtonPanel = this._get(inst, 'showButtonPanel'),\n                    hideIfNoPrevNext = this._get(inst, 'hideIfNoPrevNext'),\n                    navigationAsDateFormat = this._get(inst, 'navigationAsDateFormat'),\n                    numMonths = this._getNumberOfMonths(inst),\n                    showCurrentAtPos = this._get(inst, 'showCurrentAtPos'),\n                    stepMonths = this._get(inst, 'stepMonths'),\n                    isMultiMonth = parseInt(numMonths[0], 10) !== 1 || parseInt(numMonths[1], 10) !== 1,\n                    currentDate = this._daylightSavingAdjust(!inst.currentDay ? new Date(9999, 9, 9) :\n                        new Date(inst.currentYear, inst.currentMonth, inst.currentDay)),\n                    minDate = this._getMinMaxDate(inst, 'min'),\n                    maxDate = this._getMinMaxDate(inst, 'max'),\n                    drawMonth = inst.drawMonth - showCurrentAtPos,\n                    drawYear = inst.drawYear,\n                    maxDraw,\n                    prevText = this._get(inst, 'prevText'),\n                    prev,\n                    nextText = this._get(inst, 'nextText'),\n                    next,\n                    currentText = this._get(inst, 'currentText'),\n                    gotoDate,\n                    controls,\n                    buttonPanel,\n                    firstDay,\n                    showWeek = this._get(inst, 'showWeek'),\n                    dayNames = this._get(inst, 'dayNames'),\n                    dayNamesMin = this._get(inst, 'dayNamesMin'),\n                    monthNames = this._get(inst, 'monthNames'),\n                    monthNamesShort =  this._get(inst, 'monthNamesShort'),\n                    beforeShowDay = this._get(inst, 'beforeShowDay'),\n                    showOtherMonths = this._get(inst, 'showOtherMonths'),\n                    selectOtherMonths = this._get(inst, 'selectOtherMonths'),\n                    defaultDate = this._getDefaultDate(inst),\n                    html = '',\n                    row = 0,\n                    col = 0,\n                    selectedDate,\n                    cornerClass = ' ui-corner-all',\n                    group = '',\n                    calender = '',\n                    dow = 0,\n                    thead,\n                    day,\n                    daysInMonth,\n                    leadDays,\n                    curRows,\n                    numRows,\n                    printDate,\n                    dRow = 0,\n                    tbody,\n                    daySettings,\n                    otherMonth,\n                    unselectable;\n\n                if (drawMonth < 0) {\n                    drawMonth += 12;\n                    drawYear--;\n                }\n\n                if (maxDate) {\n                    maxDraw = this._daylightSavingAdjust(new Date(maxDate.getFullYear(),\n                        maxDate.getMonth() - numMonths[0] * numMonths[1] + 1, maxDate.getDate()));\n                    maxDraw = minDate && maxDraw < minDate ? minDate : maxDraw;\n\n                    while (this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1)) > maxDraw) {\n                        drawMonth--;\n\n                        if (drawMonth < 0) {\n                            drawMonth = 11;\n                            drawYear--;\n\n                        }\n                    }\n                }\n                inst.drawMonth = drawMonth;\n                inst.drawYear = drawYear;\n                prevText = !navigationAsDateFormat ? prevText : this.formatDate(prevText,\n                    this._daylightSavingAdjust(new Date(drawYear, drawMonth - stepMonths, 1)),\n                    this._getFormatConfig(inst));\n                prev = this._canAdjustMonth(inst, -1, drawYear, drawMonth) ?\n                    '<a class=\"ui-datepicker-prev ui-corner-all\" data-handler=\"prev\" data-event=\"click\"' +\n                    ' title=\"' + prevText + '\">' +\n                    '<span class=\"ui-icon ui-icon-circle-triangle-' + (isRTL ? 'e' : 'w') + '\">' +\n                    '' + prevText + '</span></a>'\n                    : hideIfNoPrevNext ? ''\n                        :   '<a class=\"ui-datepicker-prev ui-corner-all ui-state-disabled\" title=\"' +\n                            '' + prevText + '\"><span class=\"ui-icon ui-icon-circle-triangle-' +\n                            '' + (isRTL ? 'e' : 'w') + '\">' + prevText + '</span></a>';\n                nextText = !navigationAsDateFormat ?\n                    nextText\n                    :   this.formatDate(nextText,\n                        this._daylightSavingAdjust(new Date(drawYear, drawMonth + stepMonths, 1)),\n                        this._getFormatConfig(inst));\n                next = this._canAdjustMonth(inst, +1, drawYear, drawMonth) ?\n                    '<a class=\"ui-datepicker-next ui-corner-all\" data-handler=\"next\" data-event=\"click\"' +\n                    'title=\"' + nextText + '\"><span class=\"ui-icon ui-icon-circle-triangle-' +\n                    '' + (isRTL ? 'w' : 'e') + '\">' + nextText + '</span></a>'\n                    : hideIfNoPrevNext ? ''\n                        :   '<a class=\"ui-datepicker-next ui-corner-all ui-state-disabled\" title=\"' + nextText + '\">' +\n                            '<span class=\"ui-icon ui-icon-circle-triangle-' + (isRTL ? 'w' : 'e') + '\">' + nextText +\n                            '</span></a>';\n                gotoDate = this._get(inst, 'gotoCurrent') && inst.currentDay ? currentDate : today;\n                currentText = !navigationAsDateFormat ? currentText :\n                    this.formatDate(currentText, gotoDate, this._getFormatConfig(inst));\n                controls = !inst.inline ?\n                    '<button type=\"button\" class=\"ui-datepicker-close ui-state-default ui-priority-primary ' +\n                    'ui-corner-all\" data-handler=\"hide\" data-event=\"click\">' +\n                    this._get(inst, 'closeText') + '</button>'\n                    : '';\n                buttonPanel = showButtonPanel ?\n                    '<div class=\"ui-datepicker-buttonpane ui-widget-content\">' + (isRTL ? controls : '') +\n                    (this._isInRange(inst, gotoDate) ? '<button type=\"button\" class=\"ui-datepicker-current ' +\n                    'ui-state-default ui-priority-secondary ui-corner-all\" data-handler=\"today\" data-event=\"click\"' +\n                    '>' + currentText + '</button>' : '') + (isRTL ? '' : controls) + '</div>' : '';\n                firstDay = parseInt(this._get(inst, 'firstDay'), 10);\n                firstDay = isNaN(firstDay) ? 0 : firstDay;\n\n                for (row = 0; row < numMonths[0]; row++) {\n                    this.maxRows = 4;\n\n                    for (col = 0; col < numMonths[1]; col++) {\n                        selectedDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, inst.selectedDay));\n\n                        calender = '';\n\n                        if (isMultiMonth) {\n                            calender += '<div class=\"ui-datepicker-group';\n\n                            if (numMonths[1] > 1) {\n                                switch (col) {\n                                    case 0: calender += ' ui-datepicker-group-first';\n                                        cornerClass = ' ui-corner-' + (isRTL ? 'right' : 'left');\n                                        break;\n\n                                    case numMonths[1] - 1: calender += ' ui-datepicker-group-last';\n                                        cornerClass = ' ui-corner-' + (isRTL ? 'left' : 'right');\n                                        break;\n\n                                    default: calender += ' ui-datepicker-group-middle'; cornerClass = '';\n                                }\n                            }\n                            calender += '\">';\n                        }\n                        calender += '<div class=\"ui-datepicker-header ' +\n                            'ui-widget-header ui-helper-clearfix' + cornerClass + '\">' +\n                            (/all|left/.test(cornerClass) && parseInt(row, 10) === 0 ? isRTL ? next : prev : '') +\n                            (/all|right/.test(cornerClass) && parseInt(row, 10) === 0 ? isRTL ? prev : next : '') +\n                            this._generateMonthYearHeader(inst, drawMonth, drawYear, minDate, maxDate,\n                            row > 0 || col > 0, monthNames, monthNamesShort) + // draw month headers\n                            '</div><table class=\"ui-datepicker-calendar\"><thead>' +\n                            '<tr>';\n                        thead = showWeek ?\n                            '<th class=\"ui-datepicker-week-col\">' + this._get(inst, 'weekHeader') + '</th>' : '';\n\n                        for (dow = 0; dow < 7; dow++) { // days of the week\n                            day = (dow + firstDay) % 7;\n                            thead += '<th' + ((dow + firstDay + 6) % 7 >= 5 ?\n                                ' class=\"ui-datepicker-week-end\"' : '') + '>' +\n                                '<span title=\"' + dayNames[day] + '\">' + dayNamesMin[day] + '</span></th>';\n                        }\n                        calender += thead + '</tr></thead><tbody>';\n                        daysInMonth = this._getDaysInMonth(drawYear, drawMonth);\n\n                        if (drawYear === inst.selectedYear && drawMonth === inst.selectedMonth) {\n                            inst.selectedDay = Math.min(inst.selectedDay, daysInMonth);\n                        }\n                        leadDays = (this._getFirstDayOfMonth(drawYear, drawMonth) - firstDay + 7) % 7;\n                        curRows = Math.ceil((leadDays + daysInMonth) / 7); // calculate the number of rows to generate\n                        numRows = isMultiMonth ? this.maxRows > curRows ? this.maxRows : curRows : curRows;\n                        this.maxRows = numRows;\n                        printDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1 - leadDays));\n\n                        for (dRow = 0; dRow < numRows; dRow++) { // create date picker rows\n                            calender += '<tr>';\n                            tbody = !showWeek ? '' : '<td class=\"ui-datepicker-week-col\">' +\n                            this._get(inst, 'calculateWeek')(printDate) + '</td>';\n\n                            for (dow = 0; dow < 7; dow++) { // create date picker days\n                                daySettings = beforeShowDay ?\n                                    beforeShowDay.apply(inst.input ? inst.input[0] : null, [printDate]) : [true, ''];\n                                otherMonth = printDate.getMonth() !== drawMonth;\n                                unselectable = otherMonth && !selectOtherMonths || !daySettings[0] ||\n                                minDate && printDate < minDate || maxDate && printDate > maxDate;\n                                tbody += '<td class=\"' +\n                                ((dow + firstDay + 6) % 7 >= 5 ? ' ui-datepicker-week-end' : '') + // highlight weekends\n                                (otherMonth ? ' ui-datepicker-other-month' : '') + // highlight days from other months\n                                (printDate.getTime() === selectedDate.getTime() &&\n                                drawMonth === inst.selectedMonth && inst._keyEvent || // user pressed key\n                                defaultDate.getTime() === printDate.getTime() &&\n                                defaultDate.getTime() === selectedDate.getTime() ?\n                                    // or defaultDate is current printedDate and defaultDate is selectedDate\n                                ' ' + this._dayOverClass : '') + // highlight selected day\n                                (unselectable ? ' ' + this._unselectableClass + ' ui-state-disabled' : '') +\n                                (otherMonth && !showOtherMonths ? '' : ' ' + daySettings[1] + // highlight custom dates\n                                (printDate.getTime() === currentDate.getTime() ? ' ' + this._currentClass : '') +\n                                (printDate.getDate() === today.getDate() && printDate.getMonth() === today.getMonth() &&\n                                printDate.getYear() === today.getYear() ? ' ui-datepicker-today' : '')) + '\"' +\n                                ((!otherMonth || showOtherMonths) && daySettings[2] ?\n                                ' title=\"' + daySettings[2] + '\"' : '') + // cell title\n                                (unselectable ? '' : ' data-handler=\"selectDay\" data-event=\"click\" data-month=\"' +\n                                '' + printDate.getMonth() + '\" data-year=\"' + printDate.getFullYear() + '\"') + '>' +\n                                (otherMonth && !showOtherMonths ? '&#xa0;' : // display for other months\n                                    unselectable ? '<span class=\"ui-state-default\">' + printDate.getDate() + '</span>'\n                                        : '<a class=\"ui-state-default' +\n                                    (printDate.getTime() === today.getTime() ? ' ' : '') +\n                                    (printDate.getTime() === currentDate.getTime() ? ' ui-state-active' : '') +\n                                    (otherMonth ? ' ui-priority-secondary' : '') +\n                                    '\" href=\"#\">' + printDate.getDate() + '</a>') + '</td>';\n                                printDate.setDate(printDate.getDate() + 1);\n                                printDate = this._daylightSavingAdjust(printDate);\n                            }\n                            calender += tbody + '</tr>';\n                        }\n                        drawMonth++;\n\n                        if (drawMonth > 11) {\n                            drawMonth = 0;\n                            drawYear++;\n                        }\n                        calender += '</tbody></table>' + (isMultiMonth ? '</div>' +\n                        (numMonths[0] > 0 && col === numMonths[1] - 1 ? '<div class=\"ui-datepicker-row-break\"></div>'\n                            : '') : '');\n                        group += calender;\n                    }\n                    html += group;\n                }\n                html += buttonPanel + ($.ui.ie6 && !inst.inline ?\n                    '<iframe src=\"javascript:false;\" class=\"ui-datepicker-cover\" frameborder=\"0\"></iframe>' : '');\n                inst._keyEvent = false;\n\n                return html;\n            };\n        },\n\n        /**\n         * Set current date if the date is not set\n         * @protected\n         * @param {Object} element\n         */\n        _setCurrentDate: function (element) {\n            if (!element.val()) {\n                element[this._picker()]('setTimezoneDate').val('');\n            }\n        },\n\n        /**\n         * Init Datetimepicker\n         * @protected\n         * @param {Object} element\n         */\n        _initPicker: function (element) {\n            var picker = element[this._picker()](this.options),\n                pickerButtonText = picker.next('.ui-datepicker-trigger')\n                    .find('img')\n                    .attr('title');\n\n            picker.next('.ui-datepicker-trigger')\n                .addClass('v-middle')\n                .text('') // Remove jQuery UI datepicker generated image\n                .append('<span>' + pickerButtonText + '</span>');\n            this._setCurrentDate(element);\n        },\n\n        /**\n         * destroy instance of datetimepicker\n         */\n        _destroy: function () {\n            this.element[this._picker()]('destroy');\n            this._super();\n        },\n\n        /**\n         * Method is kept for backward compatibility and unit-tests acceptance\n         * see \\mage\\calendar\\calendar-test.js\n         * @return {Object} date\n         */\n        getTimezoneDate: function () {\n            return datepickerPrototype._getTimezoneDate.call(this, this.options);\n        }\n    });\n\n    calendarBasePrototype = $.mage.calendar.prototype;\n\n    /**\n     * Extension for Calendar - date and time format convert functionality\n     * @var {Object}\n     */\n    $.widget('mage.calendar', $.extend({}, calendarBasePrototype,\n            /** @lends {$.mage.calendar.prototype} */ {\n                /**\n                 * key - backend format, value - jquery format\n                 * @type {Object}\n                 * @private\n                 */\n                dateTimeFormat: {\n                    date: {\n                        'EEEE': 'DD',\n                        'EEE': 'D',\n                        'EE': 'D',\n                        'E': 'D',\n                        'D': 'o',\n                        'MMMM': 'MM',\n                        'MMM': 'M',\n                        'MM': 'mm',\n                        'M': 'mm',\n                        'yyyy': 'yy',\n                        'y': 'yy',\n                        'Y': 'yy',\n                        'yy': 'yy' // Always long year format on frontend\n                    },\n                    time: {\n                        'a': 'TT'\n                    }\n                },\n\n                /**\n                 * Add Date and Time converting to _create method\n                 * @protected\n                 */\n                _create: function () {\n                    if (this.options.dateFormat) {\n                        this.options.dateFormat = this._convertFormat(this.options.dateFormat, 'date');\n                    }\n\n                    if (this.options.timeFormat) {\n                        this.options.timeFormat = this._convertFormat(this.options.timeFormat, 'time');\n                    }\n                    calendarBasePrototype._create.apply(this, arguments);\n                },\n\n                /**\n                 * Converting date or time format\n                 * @protected\n                 * @param {String} format\n                 * @param {String} type\n                 * @return {String}\n                 */\n                _convertFormat: function (format, type) {\n                    var symbols = format.match(/([a-z]+)/ig),\n                        separators = format.match(/([^a-z]+)/ig),\n                        self = this,\n                        convertedFormat = '';\n\n                    if (symbols) {\n                        $.each(symbols, function (key, val) {\n                            convertedFormat +=\n                                (self.dateTimeFormat[type][val] || val) +\n                                (separators[key] || '');\n                        });\n                    }\n\n                    return convertedFormat;\n                }\n            })\n    );\n\n    /**\n     * Widget dateRange\n     * @extends $.mage.calendar\n     */\n    $.widget('mage.dateRange', $.mage.calendar, {\n\n        /**\n         * creates two instances of datetimepicker for date range selection\n         * @protected\n         */\n        _initPicker: function () {\n            var from,\n                to;\n\n            if (this.options.from && this.options.to) {\n                from = this.element.find('#' + this.options.from.id);\n                to = this.element.find('#' + this.options.to.id);\n                this.options.onSelect = $.proxy(function (selectedDate) {\n                    to[this._picker()]('option', 'minDate', selectedDate);\n                }, this);\n                $.mage.calendar.prototype._initPicker.call(this, from);\n                from.on('change', $.proxy(function () {\n                    to[this._picker()]('option', 'minDate', from[this._picker()]('getDate'));\n                }, this));\n                this.options.onSelect = $.proxy(function (selectedDate) {\n                    from[this._picker()]('option', 'maxDate', selectedDate);\n                }, this);\n                $.mage.calendar.prototype._initPicker.call(this, to);\n                to.on('change', $.proxy(function () {\n                    from[this._picker()]('option', 'maxDate', to[this._picker()]('getDate'));\n                }, this));\n            }\n        },\n\n        /**\n         * destroy two instances of datetimepicker\n         */\n        _destroy: function () {\n            if (this.options.from) {\n                this.element.find('#' + this.options.from.id)[this._picker()]('destroy');\n            }\n\n            if (this.options.to) {\n                this.element.find('#' + this.options.to.id)[this._picker()]('destroy');\n            }\n            this._super();\n        }\n    });\n\n    // Overrides the \"today\" button functionality to select today's date when clicked.\n    $.datepicker._gotoTodayOriginal = $.datepicker._gotoToday;\n\n    /**\n     * overwrite jQuery UI _showDatepicker function for proper HTML generation conditions.\n     *\n     */\n    $.datepicker._showDatepickerOriginal = $.datepicker._showDatepicker;\n\n    /**\n     * Triggers original method showDataPicker for rendering calendar\n     * @param {HTMLObject} input\n     * @private\n     */\n    $.datepicker._showDatepicker = function (input) {\n        if (!input.disabled) {\n            $.datepicker._showDatepickerOriginal.call(this, input);\n        }\n    };\n\n    /**\n     * _gotoToday\n     * @param {Object} el\n     */\n    $.datepicker._gotoToday = function (el) {\n        //Set date/time according to timezone offset\n        $(el).datepicker('setTimezoneDate')\n            // To ensure that user can re-select date field without clicking outside it first.\n            .blur().trigger('change');\n    };\n\n    return {\n        dateRange:  $.mage.dateRange,\n        calendar:   $.mage.calendar\n    };\n}));\n","mage/trim-input.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    $.widget('mage.trimInput', {\n        options: {\n            cache: {}\n        },\n\n        /**\n         * Widget initialization\n         * @private\n         */\n        _create: function () {\n            this.options.cache.input = $(this.element);\n            this._bind();\n        },\n\n        /**\n         * Event binding, will monitor change, keyup and paste events.\n         * @private\n         */\n        _bind: function () {\n            if (this.options.cache.input.length) {\n                this._on(this.options.cache.input, {\n                    'change': this._trimInput,\n                    'keyup': this._trimInput,\n                    'paste': this._trimInput\n                });\n            }\n        },\n\n        /**\n         * Trim value\n         * @private\n         */\n        _trimInput: function () {\n            var input = this._getInputValue().trim();\n\n            this.options.cache.input.val(input);\n        },\n\n        /**\n         * Get input value\n         * @returns {*}\n         * @private\n         */\n        _getInputValue: function () {\n            return this.options.cache.input.val();\n        }\n    });\n\n    return $.mage.trimInput;\n});\n","mage/translate-inline.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n(function (root, factory) {\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'mage/template',\n            'jquery/ui',\n            'mage/translate'\n        ], factory);\n    } else {\n        factory(root.jQuery, root.mageTemplate);\n    }\n}(this, function ($, mageTemplate) {\n    'use strict';\n\n    $.widget('mage.translateInline', $.ui.dialog, {\n        options: {\n            translateForm: {\n                template: '#translate-form-template',\n                data: {\n                    id: 'translate-inline-form',\n                    message: 'Please refresh the page to see your changes after submitting this form.'\n                }\n            },\n            autoOpen: false,\n            translateArea: null,\n            modal: true,\n            dialogClass: 'popup-window',\n            width: '75%',\n            title: $.mage.__('Translate'),\n            height: 470,\n            position: {\n                my: 'left top',\n                at: 'center top',\n                of: 'body'\n            },\n            buttons: [{\n                text: $.mage.__('Submit'),\n                'class': 'action-primary',\n\n                /**\n                 * Click\n                 */\n                click: function () {\n                    $(this).translateInline('submit');\n                }\n            },\n            {\n                text: $.mage.__('Close'),\n                'class': 'action-close',\n\n                /**\n                 * Click.\n                 */\n                click: function () {\n                    $(this).translateInline('close');\n                }\n            }],\n\n            /**\n             * Open.\n             */\n            open: function () {\n                var topMargin;\n\n                $(this).closest('.ui-dialog').addClass('ui-dialog-active');\n                topMargin = jQuery(this).closest('.ui-dialog').children('.ui-dialog-titlebar').outerHeight() + 45;\n                jQuery(this).closest('.ui-dialog').css('margin-top', topMargin);\n            },\n\n            /**\n             * Close.\n             */\n            close: function () {\n                $(this).closest('.ui-dialog').removeClass('ui-dialog-active');\n            }\n        },\n\n        /**\n         * Translate Inline creation\n         * @protected\n         */\n        _create: function () {\n            this.tmpl = mageTemplate(this.options.translateForm.template);\n            (this.options.translateArea && $(this.options.translateArea).length ?\n                $(this.options.translateArea) :\n                this.element.closest('body'))\n                    .on('edit.editTrigger', $.proxy(this._onEdit, this));\n            this._super();\n        },\n\n        /**\n         * @param {*} templateData\n         * @return {*|jQuery|HTMLElement}\n         * @private\n         */\n        _prepareContent: function (templateData) {\n            var data = $.extend({\n                items: templateData,\n                escape: $.mage.escapeHTML\n            }, this.options.translateForm.data);\n\n            this.data = data;\n\n            return $(this.tmpl({\n                data: data\n            }));\n        },\n\n        /**\n         * Render translation form and open dialog\n         * @param {Object} e - object\n         * @protected\n         */\n        _onEdit: function (e) {\n            this.target = e.target;\n            this.element.html(this._prepareContent($(e.target).data('translate')));\n            this.open(e);\n        },\n\n        /**\n         * Submit.\n         */\n        submit: function () {\n            if (this.formIsSubmitted) {\n                return;\n            }\n            this._formSubmit();\n        },\n\n        /**\n         * Send ajax request on form submit\n         * @protected\n         */\n        _formSubmit: function () {\n            var parameters;\n\n            this.formIsSubmitted = true;\n            parameters = $.param({\n                area: this.options.area\n            }) + '&' + $('#' + this.options.translateForm.data.id).serialize();\n\n            $.ajax({\n                url: this.options.ajaxUrl,\n                type: 'POST',\n                data: parameters,\n                loaderContext: this.element,\n                showLoader: true\n            }).complete($.proxy(this._formSubmitComplete, this));\n        },\n\n        /**\n         * @param {Object} response\n         * @private\n         */\n        _formSubmitComplete: function (response) {\n            this.close();\n            this.formIsSubmitted = false;\n            this._updatePlaceholder(response.responseJSON[this.data.items[0].original]);\n        },\n\n        /**\n         * @param {*} newValue\n         * @private\n         */\n        _updatePlaceholder: function (newValue) {\n            var target = jQuery(this.target);\n\n            target.data('translate')[0].shown = newValue;\n            target.data('translate')[0].translated = newValue;\n            target.html(newValue);\n        },\n\n        /**\n         * Destroy translateInline\n         */\n        destroy: function () {\n            this.element.off('.editTrigger');\n            this._super();\n        }\n    });\n    // @TODO move the \"escapeHTML\" method into the file with global utility functions\n    $.extend(true, $, {\n        mage: {\n            /**\n             * @param {String} str\n             * @return {Boolean}\n             */\n            escapeHTML: function (str) {\n                return str ?\n                    jQuery('<div/>').text(str).html().replace(/\"/g, '&quot;') :\n                    false;\n            }\n        }\n    });\n\n    return $.mage.translateInline;\n}));\n","mage/smart-keyboard-handler.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\ndefine([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    /**\n     * @return {Object}\n     * @constructor\n     */\n    function KeyboardHandler() {\n        var body = $('body'),\n            focusState = false,\n            tabFocusClass = '_keyfocus',\n            productsGrid = '[data-container=\"product-grid\"]',\n            catalogProductsGrid = $(productsGrid),\n            CODE_TAB = 9;\n\n        /**\n         * Handle logic, when onTabKeyPress fired at first.\n         * Then it changes state.\n         */\n        function onFocusInHandler() {\n            focusState = true;\n            body.addClass(tabFocusClass)\n                .off('focusin.keyboardHandler', onFocusInHandler);\n        }\n\n        /**\n         * Handle logic to remove state after onTabKeyPress to normal.\n         */\n        function onClickHandler() {\n            focusState = false;\n            body.removeClass(tabFocusClass)\n                .off('click', onClickHandler);\n        }\n\n        /**\n         * Tab key onKeypress handler. Apply main logic:\n         *  - call differ actions onTabKeyPress and onClick\n         */\n        function smartKeyboardFocus() {\n            $(document).on('keydown keypress', function (event) {\n                if (event.which === CODE_TAB && !focusState) {\n                    body\n                        .on('focusin.keyboardHandler', onFocusInHandler)\n                        .on('click', onClickHandler);\n                }\n            });\n\n            // ARIA support for catalog grid products\n            if (catalogProductsGrid.length) {\n                body.on('focusin.gridProducts', productsGrid, function () {\n                    if (body.hasClass(tabFocusClass)) {\n                        $(this).addClass('active');\n                    }\n                });\n                body.on('focusout.gridProducts', productsGrid, function () {\n                    $(this).removeClass('active');\n                });\n            }\n        }\n\n        /**\n         * Attach smart focus on specific element.\n         * @param {jQuery} element\n         */\n        function handleFocus(element) {\n            element.on('focusin.emulateTabFocus', function () {\n                focusState = true;\n                body.addClass(tabFocusClass);\n                element.off();\n            });\n\n            element.on('focusout.emulateTabFocus', function () {\n                focusState = false;\n                body.removeClass(tabFocusClass);\n                element.off();\n            });\n        }\n\n        return {\n            apply: smartKeyboardFocus,\n            focus: handleFocus\n        };\n    }\n\n    return new KeyboardHandler;\n});\n","mage/accordion.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'mage/tabs'\n], function ($, tabs) {\n    'use strict';\n\n    $.widget('mage.accordion', tabs, {\n        options: {\n            active: [0],\n            multipleCollapsible: false,\n            openOnFocus: false\n        },\n\n        /**\n         * @private\n         */\n        _callCollapsible: function () {\n            var self = this,\n                disabled = false,\n                active = false;\n\n            if (typeof this.options.active === 'string') {\n                this.options.active = this.options.active.split(' ').map(function (item) {\n                    return parseInt(item, 10);\n                });\n            }\n\n            $.each(this.collapsibles, function (i) {\n                disabled = active = false;\n\n                if ($.inArray(i, self.options.disabled) !== -1) {\n                    disabled = true;\n                }\n\n                if ($.inArray(i, self.options.active) !== -1) {\n                    active = true;\n                }\n                self._instantiateCollapsible(this, i, active, disabled);\n            });\n        },\n\n        /**\n         * Overwrites default functionality to provide the option to activate/deactivate multiple sections simultaneous\n         * @param {*} action\n         * @param {*} index\n         * @private\n         */\n        _toggleActivate: function (action, index) {\n            var self = this;\n\n            if ($.isArray(index && this.options.multipleCollapsible)) {\n                $.each(index, function () {\n                    self.collapsibles.eq(this).collapsible(action);\n                });\n            } else if (index === undefined && this.options.multipleCollapsible) {\n                this.collapsibles.collapsible(action);\n            } else {\n                this._super(action, index);\n            }\n        },\n\n        /**\n         * If the Accordion allows multiple section to be active at the same time, if deep linking is used\n         * sections that don't contain the id from anchor shouldn't be closed, otherwise the accordion uses the\n         * tabs behavior\n         * @private\n         */\n        _handleDeepLinking: function () {\n            if (!this.options.multipleCollapsible) {\n                this._super();\n            }\n        },\n\n        /**\n         * Prevent default behavior that closes the other sections when one gets activated if the Accordion allows\n         * multiple sections simultaneous\n         * @private\n         */\n        _closeOthers: function () {\n            if (!this.options.multipleCollapsible) {\n                this._super();\n            }\n            $.each(this.collapsibles, function () {\n                $(this).on('beforeOpen', function () {\n                    var section = $(this);\n\n                    section.addClass('allow').prevAll().addClass('allow');\n                    section.nextAll().removeClass('allow');\n                });\n            });\n        }\n    });\n\n    return $.mage.accordion;\n});\n","mage/url.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* eslint-disable strict */\ndefine([], function () {\n    var baseUrl = '';\n\n    return {\n        /**\n         * @param {String} url\n         */\n        setBaseUrl: function (url) {\n            baseUrl = url;\n        },\n\n        /**\n         * @param {String} path\n         * @return {*}\n         */\n        build: function (path) {\n            if (path.indexOf(baseUrl) !== -1) {\n                return path;\n            }\n\n            return baseUrl + path;\n        }\n    };\n});\n","mage/bootstrap.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'mage/apply/main',\n    'Magento_Ui/js/lib/knockout/bootstrap'\n], function ($, mage) {\n    'use strict';\n\n    $.ajaxSetup({\n        cache: false\n    });\n\n    /**\n     * Init all components defined via data-mage-init attribute.\n     */\n    $(mage.apply);\n});\n","mage/dropdown_old.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery'\n], function ($) {\n    'use strict';\n\n    var ESC_KEY_CODE = '27';\n\n    $(document)\n        .on('click.dropdown', function (event) {\n            if (!$(event.target).is('[data-toggle=dropdown].active, ' +\n                '[data-toggle=dropdown].active *, ' +\n                '[data-toggle=dropdown].active + .dropdown-menu, ' +\n                '[data-toggle=dropdown].active + .dropdown-menu *,' +\n                '[data-toggle=dropdown].active + [data-target=\"dropdown\"],' +\n                '[data-toggle=dropdown].active + [data-target=\"dropdown\"] *')\n            ) {\n                $('[data-toggle=dropdown].active').trigger('close.dropdown');\n            }\n        })\n        .on('keyup.dropdown', function (event) {\n            if (event.keyCode == ESC_KEY_CODE) { //eslint-disable-line eqeqeq\n                $('[data-toggle=dropdown].active').trigger('close.dropdown');\n            }\n        });\n\n    /**\n     * @param {Object} options\n     */\n    $.fn.dropdown = function (options) {\n        options = $.extend({\n            parent: null,\n            btnArrow: '.arrow',\n            activeClass: 'active'\n        }, options);\n\n        return this.each(function () {\n            var elem = $(this);\n\n            elem.off('open.dropdown, close.dropdown, click.dropdown');\n            elem.on('open.dropdown', function () {\n                elem\n                    .addClass(options.activeClass)\n                    .parent()\n                    .addClass(options.activeClass);\n                elem.find(options.btnArrow).text('\\u25b2'); // arrow up\n            });\n\n            elem.on('close.dropdown', function () {\n                elem\n                    .removeClass(options.activeClass)\n                    .parent()\n                    .removeClass(options.activeClass);\n                elem.find(options.btnArrow).text('\\u25bc'); // arrow down\n            });\n\n            elem.on('click.dropdown', function () {\n                var isActive = elem.hasClass('active');\n\n                $('[data-toggle=dropdown].active').trigger('close.dropdown');\n                elem.trigger(isActive ? 'close.dropdown' : 'open.dropdown');\n\n                return false;\n            });\n        });\n    };\n\n    return function (data, el) {\n        $(el).dropdown(data);\n    };\n});\n","mage/multiselect.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'underscore',\n    'jquery',\n    'text!mage/multiselect.html',\n    'Magento_Ui/js/modal/alert',\n    'jquery/ui',\n    'jquery/editableMultiselect/js/jquery.multiselect'\n], function (_, $, searchTemplate, alert) {\n    'use strict';\n\n    $.widget('mage.multiselect2', {\n        options: {\n            mselectContainer: 'section.mselect-list',\n            mselectItemsWrapperClass: 'mselect-items-wrapper',\n            mselectCheckedClass: 'mselect-checked',\n            containerClass: 'paginated',\n            searchInputClass: 'admin__action-multiselect-search',\n            selectedItemsCountClass: 'admin__action-multiselect-items-selected',\n            currentPage: 1,\n            lastAppendValue: 0,\n            updateDelay: 1000,\n            optionsLoaded: false\n        },\n\n        /** @inheritdoc */\n        _create: function () {\n            $.fn.multiselect.call(this.element, this.options);\n        },\n\n        /** @inheritdoc */\n        _init: function () {\n            this.domElement = this.element.get(0);\n\n            this.$container = $(this.options.mselectContainer);\n            this.$wrapper = this.$container.find('.' + this.options.mselectItemsWrapperClass);\n            this.$item = this.$wrapper.find('div').first();\n            this.selectedValues = [];\n            this.values = {};\n\n            this.$container.addClass(this.options.containerClass).prepend(searchTemplate);\n            this.$input = this.$container.find('.' + this.options.searchInputClass);\n            this.$selectedCounter = this.$container.find('.' + this.options.selectedItemsCountClass);\n            this.filter = '';\n\n            if (this.domElement.options.length) {\n                this._setLastAppendOption(this.domElement.options[this.domElement.options.length - 1].value);\n            }\n\n            this._initElement();\n            this._events();\n        },\n\n        /**\n         * Leave only saved/selected options in select element.\n         *\n         * @private\n         */\n        _initElement: function () {\n            this.element.empty();\n            _.each(this.options.selectedValues, function (value) {\n                this._createSelectedOption({\n                    value: value,\n                    label: value\n                });\n            }, this);\n        },\n\n        /**\n         * Attach required events.\n         *\n         * @private\n         */\n        _events: function () {\n            var onKeyUp = _.debounce(this.onKeyUp, this.options.updateDelay);\n\n            _.bindAll(this, 'onScroll', 'onCheck', 'onOptionsChange');\n\n            this.$wrapper.on('scroll', this.onScroll);\n            this.$wrapper.on('change.mselectCheck', '[type=checkbox]', this.onCheck);\n            this.$input.on('keyup', _.bind(onKeyUp, this));\n            this.element.on('change.hiddenSelect', this.onOptionsChange);\n        },\n\n        /**\n         * Behaves multiselect scroll.\n         */\n        onScroll: function () {\n            var height = this.$wrapper.height(),\n                scrollHeight = this.$wrapper.prop('scrollHeight'),\n                scrollTop = Math.ceil(this.$wrapper.prop('scrollTop'));\n\n            if (!this.options.optionsLoaded && scrollHeight - height <= scrollTop) {\n                this.loadOptions();\n            }\n        },\n\n        /**\n         * Behaves keyup event on input search\n         */\n        onKeyUp: function () {\n            if (this.getSearchCriteria() === this.filter) {\n                return false;\n            }\n\n            this.setFilter();\n            this.clearMultiselectOptions();\n            this.setCurrentPage(0);\n            this.loadOptions();\n        },\n\n        /**\n         * Callback for select change event\n         */\n        onOptionsChange: function () {\n            this.selectedValues = _.map(this.domElement.options, function (option) {\n                this.values[option.value] = true;\n\n                return option.value;\n            }, this);\n\n            this._updateSelectedCounter();\n        },\n\n        /**\n         * Overrides native check behaviour.\n         *\n         * @param {Event} event\n         */\n        onCheck: function (event) {\n            var checkbox = event.target,\n                option = {\n                    value: checkbox.value,\n                    label: $(checkbox).parent('label').text()\n                };\n\n            checkbox.checked ? this._createSelectedOption(option) : this._removeSelectedOption(option);\n            event.stopPropagation();\n        },\n\n        /**\n         * Show error message.\n         *\n         * @param {String} message\n         */\n        onError: function (message) {\n            alert({\n                content: message\n            });\n        },\n\n        /**\n         * Updates current filter state.\n         */\n        setFilter: function () {\n            this.filter = this.getSearchCriteria() || '';\n        },\n\n        /**\n         * Reads search input value.\n         *\n         * @return {String}\n         */\n        getSearchCriteria: function () {\n            return $.trim(this.$input.val());\n        },\n\n        /**\n         * Load options data.\n         */\n        loadOptions: function () {\n            var nextPage = this.getCurrentPage() + 1;\n\n            this.$wrapper.trigger('processStart');\n            this.$input.prop('disabled', true);\n\n            $.get(this.options.nextPageUrl, {\n                p: nextPage,\n                s: this.filter\n            })\n            .done(function (response) {\n                if (response.success) {\n                    this.appendOptions(response.result);\n                    this.setCurrentPage(nextPage);\n                } else {\n                    this.onError(response.errorMessage);\n                }\n            }.bind(this))\n            .always(function () {\n                this.$wrapper.trigger('processStop');\n                this.$input.prop('disabled', false);\n\n                if (this.filter) {\n                    this.$input.focus();\n                }\n            }.bind(this));\n        },\n\n        /**\n         * Append loaded options\n         *\n         * @param {Array} options\n         */\n        appendOptions: function (options) {\n            var divOptions = [];\n\n            if (!options.length) {\n                return false;\n            }\n\n            if (this.isOptionsLoaded(options)) {\n                return;\n            }\n\n            options.forEach(function (option) {\n                if (!this.values[option.value]) {\n                    this.values[option.value] = true;\n                    option.selected = this._isOptionSelected(option);\n                    divOptions.push(this._createMultiSelectOption(option));\n                    this._setLastAppendOption(option.value);\n                }\n            }, this);\n\n            this.$wrapper.append(divOptions);\n        },\n\n        /**\n         * Clear multiselect options\n         */\n        clearMultiselectOptions: function () {\n            this._setLastAppendOption(0);\n            this.values = {};\n            this.$wrapper.empty();\n        },\n\n        /**\n         * Checks if all options are already loaded\n         *\n         * @return {Boolean}\n         */\n        isOptionsLoaded: function (options) {\n            this.options.optionsLoaded = this.options.lastAppendValue === options[options.length - 1].value;\n\n            return this.options.optionsLoaded;\n        },\n\n        /**\n         * Setter for current page.\n         *\n         * @param {Number} page\n         */\n        setCurrentPage: function (page) {\n            this.options.currentPage = page;\n        },\n\n        /**\n         * Getter for current page.\n         *\n         * @return {Number}\n         */\n        getCurrentPage: function () {\n            return this.options.currentPage;\n        },\n\n        /**\n         * Creates new selected option for select element\n         *\n         * @param {Object} option - option object\n         * @param {String} option.value - option value\n         * @param {String} option.label - option label\n         * @private\n         */\n        _createSelectedOption: function (option) {\n            var selectOption = new Option(option.label, option.value, false, true);\n\n            this.element.append(selectOption);\n            this.selectedValues.push(option.value);\n            this._updateSelectedCounter();\n\n            return selectOption;\n        },\n\n        /**\n         * Remove passed option from select element\n         *\n         * @param {Object} option - option object\n         * @param {String} option.value - option value\n         * @param {String} option.label - option label\n         * @return {Object} option\n         * @private\n         */\n        _removeSelectedOption: function (option) {\n            var unselectedOption = _.findWhere(this.domElement.options, {\n                value: option.value\n            });\n\n            if (!_.isUndefined(unselectedOption)) {\n                this.domElement.remove(unselectedOption.index);\n                this.selectedValues.splice(_.indexOf(this.selectedValues, option.value), 1);\n                this._updateSelectedCounter();\n            }\n\n            return unselectedOption;\n        },\n\n        /**\n         * Creates new DIV option for multiselect widget\n         *\n         * @param {Object} option - option object\n         * @param {String} option.value - option value\n         * @param {String} option.label - option label\n         * @param {Boolean} option.selected - is option selected\n         * @private\n         */\n        _createMultiSelectOption: function (option) {\n            var item = this.$item.clone(),\n                checkbox = item.find('input'),\n                isSelected = !!option.selected;\n\n            checkbox.val(option.value)\n                .prop('checked', isSelected)\n                .toggleClass(this.options.mselectCheckedClass, isSelected);\n\n            item.find('label > span').text(option.label);\n\n            return item;\n        },\n\n        /**\n         * Checks if passed option should be selected\n         *\n         * @param {Object} option - option object\n         * @param {String} option.value - option value\n         * @param {String} option.label - option label\n         * @param {Boolean} option.selected - is option selected\n         * @return {Boolean}\n         * @private\n         */\n        _isOptionSelected: function (option) {\n            return !!~this.selectedValues.indexOf(option.value);\n        },\n\n        /**\n         * Saves last added option value.\n         *\n         * @param {Number} value\n         * @private\n         */\n        _setLastAppendOption: function (value) {\n            this.options.lastAppendValue = value;\n        },\n\n        /**\n         * Updates counter of selected items.\n         *\n         * @private\n         */\n        _updateSelectedCounter: function () {\n            this.$selectedCounter.text(this.selectedValues.length);\n        }\n    });\n\n    return $.mage.multiselect2;\n});\n","mage/layout.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @deprecated since version 2.2.0\n */\n/* eslint-disable strict */\ndefine(['underscore'], function (_) {\n    return {\n        /**\n         * @param {Object} config\n         */\n        build: function (config) {\n            var types = _.map(_.flatten(config), function (item) {\n                return item.type;\n            });\n\n            require(types, function () {});\n        }\n    };\n});\n","mage/popup-window.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'jquery/ui'\n], function ($) {\n    'use strict';\n\n    $.widget('mage.popupWindow', {\n        options: {\n            centerBrowser: 0, // center window over browser window? {1 (YES) or 0 (NO)}. overrides top and left\n            centerScreen: 0, // center window over entire screen? {1 (YES) or 0 (NO)}. overrides top and left\n            height: 500, // sets the height in pixels of the window.\n            left: 0, // left position when the window appears.\n            location: 0, // determines whether the address bar is displayed {1 (YES) or 0 (NO)}.\n            menubar: 0, // determines whether the menu bar is displayed {1 (YES) or 0 (NO)}.\n            resizable: 0, // whether the window can be resized {1 (YES) or 0 (NO)}.\n            scrollbars: 0, // determines whether scrollbars appear on the window {1 (YES) or 0 (NO)}.\n            status: 0, // whether a status line appears at the bottom of the window {1 (YES) or 0 (NO)}.\n            width: 500, // sets the width in pixels of the window.\n            windowName: null, // name of window set from the name attribute of the element that invokes the click\n            windowURL: null, // url used for the popup\n            top: 0, // top position when the window appears.\n            toolbar: 0 // determines whether a toolbar is displayed {1 (YES) or 0 (NO)}.\n        },\n\n        /**\n         * @private\n         */\n        _create: function () {\n            this.element.on('click', $.proxy(this._openPopupWindow, this));\n        },\n\n        /**\n         * @param {jQuery.Event} event\n         * @private\n         */\n        _openPopupWindow: function (event) {\n            var element = $(event.target),\n                settings = this.options,\n                windowFeatures =\n                    'height=' + settings.height +\n                        ',width=' + settings.width +\n                        ',toolbar=' + settings.toolbar +\n                        ',scrollbars=' + settings.scrollbars +\n                        ',status=' + settings.status +\n                        ',resizable=' + settings.resizable +\n                        ',location=' + settings.location +\n                        ',menuBar=' + settings.menubar,\n                centeredX,\n                centeredY;\n\n            settings.windowName = settings.windowName || element.attr('name');\n            settings.windowURL = settings.windowURL || element.attr('href');\n\n            if (settings.centerBrowser) {\n                centeredY = window.screenY + ((window.outerHeight / 2 - settings.height / 2));\n                centeredX = window.screenX + ((window.outerWidth / 2 - settings.width / 2));\n                windowFeatures += ',left=' + centeredX + ',top=' + centeredY;\n            } else if (settings.centerScreen) {\n                centeredY = (screen.height - settings.height) / 2;\n                centeredX = (screen.width - settings.width) / 2;\n                windowFeatures += ',left=' + centeredX + ',top=' + centeredY;\n            } else {\n                windowFeatures += ',left=' + settings.left + ',top=' + settings.top;\n            }\n\n            window.open(settings.windowURL, settings.windowName, windowFeatures).focus();\n            event.preventDefault();\n        }\n    });\n\n    return $.mage.popupWindow;\n});\n","mage/translate.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/* eslint-disable strict */\n(function (factory) {\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'mage/mage'\n        ], factory);\n    } else {\n        factory(jQuery);\n    }\n}(function ($) {\n    $.extend(true, $, {\n        mage: {\n            translate: (function () {\n                /**\n                 * Key-value translations storage\n                 * @type {Object}\n                 * @private\n                 */\n                var _data = {};\n\n                /**\n                 * Add new translation (two string parameters) or several translations (object)\n                 */\n                this.add = function () {\n                    if (arguments.length > 1) {\n                        _data[arguments[0]] = arguments[1];\n                    } else if (typeof arguments[0] === 'object') {\n                        $.extend(_data, arguments[0]);\n                    }\n                };\n\n                /**\n                 * Make a translation with parsing (to handle case when _data represents tuple)\n                 * @param {String} text\n                 * @return {String}\n                 */\n                this.translate = function (text) {\n                    return _data[text] ? _data[text] : text;\n                };\n\n                return this;\n            }())\n        }\n    });\n    $.mage.__ = $.proxy($.mage.translate.translate, $.mage.translate);\n\n    return $.mage.__;\n}));\n","mage/edit-trigger.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @deprecated since version 2.2.0\n */\n(function (root, factory) {\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'mage/template',\n            'jquery/ui'\n        ], factory);\n    } else {\n        factory(root.jQuery, root.mageTemplate);\n    }\n}(this, function ($, mageTemplate) {\n    'use strict';\n\n    var editTriggerPrototype;\n\n    $.widget('mage.editTrigger', {\n        options: {\n            img: '',\n            alt: '[TR]',\n            template: '#translate-inline-icon',\n            zIndex: 2000,\n            editSelector: '[data-translate]',\n            delay: 2000,\n            offsetTop: -3,\n            singleElement: true\n        },\n\n        /**\n         * editTriger creation\n         * @protected\n         */\n        _create: function () {\n            this.tmpl = mageTemplate(this.options.template);\n            this._initTrigger();\n            this._bind();\n        },\n\n        /**\n         * @return {Object}\n         * @private\n         */\n        _getCss: function () {\n            return {\n                position: 'absolute',\n                cursor: 'pointer',\n                display: 'none',\n                'z-index': this.options.zIndex\n            };\n        },\n\n        /**\n         * @param {*} appendTo\n         * @return {*|jQuery}\n         * @private\n         */\n        _createTrigger: function (appendTo) {\n            var tmpl = this.tmpl({\n                data: this.options\n            });\n\n            return $(tmpl)\n                .css(this._getCss())\n                .data('role', 'edit-trigger-element')\n                .appendTo(appendTo);\n        },\n\n        /**\n         * @private\n         */\n        _initTrigger: function () {\n            this.trigger = this._createTrigger($('body'));\n        },\n\n        /**\n         * Bind on mousemove event\n         * @protected\n         */\n        _bind: function () {\n            this.trigger.on('click.' + this.widgetName, $.proxy(this._onClick, this));\n            this.element.on('mousemove.' + this.widgetName, $.proxy(this._onMouseMove, this));\n        },\n\n        /**\n         * Show editTriger\n         */\n        show: function () {\n            if (this.trigger.is(':hidden')) {\n                this.trigger.show();\n            }\n        },\n\n        /**\n         * Hide editTriger\n         */\n        hide: function () {\n            this.currentTarget = null;\n\n            if (this.trigger && this.trigger.is(':visible')) {\n                this.trigger.hide();\n            }\n        },\n\n        /**\n         * Set editTriger position\n         * @protected\n         */\n        _setPosition: function (el) {\n            var offset = el.offset();\n\n            this.trigger.css({\n                top: offset.top + el.outerHeight() + this.options.offsetTop,\n                left: offset.left\n            });\n        },\n\n        /**\n         * Show/hide trigger on mouse move.\n         *\n         * @param {jQuery.Event} e\n         * @protected\n         */\n        _onMouseMove: function (e) {\n            var target = $(e.target),\n                inner = target.find(this.options.editSelector);\n\n            if ($(e.target).is('button') && inner.length) {\n                target = inner;\n            } else if (!target.is(this.trigger) && !target.is(this.options.editSelector)) {\n                target = target.parents(this.options.editSelector).first();\n            }\n\n            if (target.length) {\n                if (!target.is(this.trigger)) {\n                    this._setPosition(target);\n                    this.currentTarget = target;\n                }\n                this.show();\n            } else {\n                this.hide();\n            }\n        },\n\n        /**\n         * Trigger event \"edit\" on element for translate.\n         *\n         * @param {jQuery.Event} e\n         * @protected\n         */\n        _onClick: function (e) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            $(this.currentTarget).trigger('edit.' + this.widgetName);\n            this.hide(true);\n        },\n\n        /**\n         * Destroy editTriger\n         */\n        destroy: function () {\n            this.trigger.remove();\n            this.element.off('.' + this.widgetName);\n\n            return $.Widget.prototype.destroy.call(this);\n        }\n    });\n\n    /**\n     * Extention for widget editTrigger - hide trigger with delay\n     */\n    editTriggerPrototype = $.mage.editTrigger.prototype;\n\n    $.widget('mage.editTrigger', $.extend({}, editTriggerPrototype, {\n        /**\n         * Added clear timeout on trigger show\n         */\n        show: function () {\n            editTriggerPrototype.show.apply(this, arguments);\n\n            if (this.options.delay) {\n                this._clearTimer();\n            }\n        },\n\n        /**\n         * Added setTimeout on trigger hide\n         */\n        hide: function (immediate) {\n            if (!immediate && this.options.delay) {\n                if (!this.timer) {\n                    this.timer = setTimeout($.proxy(function () {\n                        editTriggerPrototype.hide.apply(this, arguments);\n                        this._clearTimer();\n                    }, this), this.options.delay);\n                }\n            } else {\n                editTriggerPrototype.hide.apply(this, arguments);\n            }\n        },\n\n        /**\n         * Clear timer\n         * @protected\n         */\n        _clearTimer: function () {\n            if (this.timer) {\n                clearTimeout(this.timer);\n                this.timer = null;\n            }\n        }\n    }));\n\n    return $.mage.editTrigger;\n}));\n","mage/captcha.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n/**\n * @deprecated since version 2.2.0\n */\n/* global formId */\n/* eslint-disable max-depth, no-lonely-if, strict */\nvar Captcha = Class.create();\n\nCaptcha.prototype = {\n    /**\n     * @param {*} url\n     * @param {*} formId\n     */\n    initialize: function (url, formId) {\n        this.url = url;\n        this.formId = formId;\n    },\n\n    /**\n     * @param {*} elem\n     */\n    refresh: function (elem) {\n        window.formId = this.formId;\n\n        if (elem) {\n            Element.addClassName(elem, 'refreshing');\n        }\n        new Ajax.Request(this.url, {\n            /**\n             * @param {Object} response\n             */\n            onSuccess: function (response) {\n                var json;\n\n                if (response.responseText.isJSON()) {\n                    json = response.responseText.evalJSON();\n\n                    if (!json.error && json.imgSrc) {\n                        $(formId).writeAttribute('src', json.imgSrc);\n\n                        if (elem) {\n                            Element.removeClassName(elem, 'refreshing');\n                        }\n                    } else {\n                        if (elem) {\n                            Element.removeClassName(elem, 'refreshing');\n                        }\n                    }\n                }\n            },\n            method: 'post',\n            parameters: {\n                'formId': this.formId\n            }\n        });\n    }\n};\n","mage/template.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n(function (root, factory) {\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'underscore'\n        ], factory);\n    } else {\n        root.mageTemplate = factory(root._);\n    }\n}(this, function (_) {\n    'use strict';\n\n    /**\n     * Checks if provided string is a valid DOM selector.\n     *\n     * @param {String} selector - Selector to be checked.\n     * @returns {Boolean}\n     */\n    function isSelector(selector) {\n        try {\n            document.querySelector(selector);\n\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    /**\n     * Unescapes characters used in underscore templates.\n     *\n     * @param {String} str - String to be processed.\n     * @returns {String}\n     */\n    function unescape(str) {\n        return str.replace(/&lt;%|%3C%/g, '<%').replace(/%&gt;|%%3E/g, '%>');\n    }\n\n    /**\n     * If 'tmpl' is a valid selector, returns target node's innerHTML if found.\n     * Else, returns empty string and emits console warning.\n     * If 'tmpl' is not a selector, returns 'tmpl' as is.\n     *\n     * @param {String} tmpl\n     * @returns {String}\n     */\n    function getTmplString(tmpl) {\n        if (isSelector(tmpl)) {\n            tmpl = document.querySelector(tmpl);\n\n            if (tmpl) {\n                tmpl = tmpl.innerHTML.trim();\n            } else {\n                console.warn('No template was found by selector: ' + tmpl);\n\n                tmpl = '';\n            }\n        }\n\n        return unescape(tmpl);\n    }\n\n    /**\n     * Compiles or renders template provided either\n     * by selector or by the template string.\n     *\n     * @param {String} tmpl - Template string or selector.\n     * @param {(Object|Array|Function)} [data] - Data object with which to render template.\n     * @returns {String|Function}\n     */\n    return function (tmpl, data) {\n        var render;\n\n        tmpl   = getTmplString(tmpl);\n        render = _.template(tmpl);\n\n        return !_.isUndefined(data) ?\n            render(data) :\n            render;\n    };\n}));\n","mage/collapsible.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'jquery/ui',\n    'jquery/jquery-storageapi',\n    'mage/mage'\n], function ($) {\n    'use strict';\n\n    var hideProps = {},\n        showProps = {};\n\n    hideProps.height =  'hide';\n    showProps.height =  'show';\n\n    $.widget('mage.collapsible', {\n        options: {\n            active: false,\n            disabled: false,\n            collapsible: true,\n            header: '[data-role=title]',\n            content: '[data-role=content]',\n            trigger: '[data-role=trigger]',\n            closedState: null,\n            openedState: null,\n            disabledState: null,\n            ajaxUrlElement: '[data-ajax=true]',\n            ajaxContent: false,\n            loadingClass: null,\n            saveState: false,\n            animate: false,\n            icons: {\n                activeHeader: null,\n                header: null\n            },\n            collateral: {\n                element: null,\n                openedState: null\n            }\n        },\n\n        /**\n         * @private\n         */\n        _create: function () {\n            this.storage = $.localStorage;\n            this.icons = false;\n\n            if (typeof this.options.icons === 'string') {\n                this.options.icons = $.parseJSON(this.options.icons);\n            }\n\n            this._processPanels();\n            this._processState();\n            this._refresh();\n\n            if (this.options.icons.header && this.options.icons.activeHeader) {\n                this._createIcons();\n                this.icons = true;\n            }\n\n            this._bind('click');\n            this._trigger('created');\n        },\n\n        /**\n         * @private\n         */\n        _refresh: function () {\n            this.trigger.attr('tabIndex', 0);\n\n            if (this.options.active && !this.options.disabled) {\n                if (this.options.openedState) {\n                    this.element.addClass(this.options.openedState);\n                }\n\n                if (this.options.collateral.element && this.options.collateral.openedState) {\n                    $(this.options.collateral.element).addClass(this.options.collateral.openedState);\n                }\n\n                if (this.options.ajaxContent) {\n                    this._loadContent();\n                }\n                // ARIA (updates aria attributes)\n                this.header.attr({\n                    'aria-selected': false\n                });\n            } else if (this.options.disabled) {\n                this.disable();\n            } else {\n                this.content.hide();\n\n                if (this.options.closedState) {\n                    this.element.addClass(this.options.closedState);\n                }\n            }\n        },\n\n        /**\n         * Processing the state:\n         *     If deep linking is used and the anchor is the id of the content or the content contains this id,\n         *     and the collapsible element is a nested one having collapsible parents, in order to see the content,\n         *     all the parents must be expanded.\n         * @private\n         */\n        _processState: function () {\n            var anchor = window.location.hash,\n                isValid = $.mage.isValidSelector(anchor),\n                urlPath = window.location.pathname.replace(/\\./g, ''),\n                state;\n\n            this.stateKey = encodeURIComponent(urlPath + this.element.attr('id'));\n\n            if (isValid &&\n                ($(this.content.find(anchor)).length > 0 || this.content.attr('id') === anchor.replace('#', ''))\n            ) {\n                this.element.parents('[data-collapsible=true]').collapsible('forceActivate');\n\n                if (!this.options.disabled) {\n                    this.options.active = true;\n\n                    if (this.options.saveState) { //eslint-disable-line max-depth\n                        this.storage.set(this.stateKey, true);\n                    }\n                }\n            } else if (this.options.saveState && !this.options.disabled) {\n                state = this.storage.get(this.stateKey);\n\n                if (typeof state === 'undefined' || state === null) {\n                    this.storage.set(this.stateKey, this.options.active);\n                } else if (state === true) {\n                    this.options.active = true;\n                } else if (state === false) {\n                    this.options.active = false;\n                }\n            }\n        },\n\n        /**\n         * @private\n         */\n        _createIcons: function () {\n            var icons = this.options.icons;\n\n            if (icons) {\n                $('<span>')\n                    .addClass(icons.header)\n                    .attr('data-role', 'icons')\n                    .prependTo(this.header);\n\n                if (this.options.active && !this.options.disabled) {\n                    this.header.children('[data-role=icons]')\n                        .removeClass(icons.header)\n                        .addClass(icons.activeHeader);\n                }\n            }\n        },\n\n        /**\n         * @private\n         */\n        _destroyIcons: function () {\n            this.header\n                .children('[data-role=icons]')\n                .remove();\n        },\n\n        /**\n         * @private\n         */\n        _destroy: function () {\n            var options = this.options;\n\n            this.element.removeAttr('data-collapsible');\n\n            this.trigger.removeAttr('tabIndex');\n\n            if (options.openedState) {\n                this.element.removeClass(options.openedState);\n            }\n\n            if (this.options.collateral.element && this.options.collateral.openedState) {\n                $(this.options.collateral.element).removeClass(this.options.collateral.openedState);\n            }\n\n            if (options.closedState) {\n                this.element.removeClass(options.closedState);\n            }\n\n            if (options.disabledState) {\n                this.element.removeClass(options.disabledState);\n            }\n\n            if (this.icons) {\n                this._destroyIcons();\n            }\n        },\n\n        /**\n         * @private\n         */\n        _processPanels: function () {\n            var headers, triggers;\n\n            this.element.attr('data-collapsible', 'true');\n\n            if (typeof this.options.header === 'object') {\n                this.header = this.options.header;\n            } else {\n                headers = this.element.find(this.options.header);\n\n                if (headers.length > 0) {\n                    this.header = headers.eq(0);\n                } else {\n                    this.header = this.element;\n                }\n            }\n\n            if (typeof this.options.content === 'object') {\n                this.content = this.options.content;\n            } else {\n                this.content = this.header.next(this.options.content).eq(0);\n            }\n\n            // ARIA (init aria attributes)\n            if (this.header.attr('id')) {\n                this.content.attr('aria-labelledby', this.header.attr('id'));\n            }\n\n            if (this.content.attr('id')) {\n                this.header.attr('aria-controls', this.content.attr('id'));\n            }\n\n            this.header\n                .attr({\n                    'role': 'tab',\n                    'aria-selected': this.options.active,\n                    'aria-expanded': this.options.active\n                });\n\n            // For collapsible widget only (not tabs or accordion)\n            if (this.header.parent().attr('role') !== 'presentation') {\n                this.header\n                    .parent()\n                    .attr('role', 'tablist');\n            }\n\n            this.content.attr({\n                'role': 'tabpanel',\n                'aria-hidden': !this.options.active\n            });\n\n            if (typeof this.options.trigger === 'object') {\n                this.trigger = this.options.trigger;\n            } else {\n                triggers = this.header.find(this.options.trigger);\n\n                if (triggers.length > 0) {\n                    this.trigger = triggers.eq(0);\n                } else {\n                    this.trigger = this.header;\n                }\n            }\n        },\n\n        /**\n         * @param {jQuery.Event} event\n         * @private\n         */\n        _keydown: function (event) {\n            var keyCode;\n\n            if (event.altKey || event.ctrlKey) {\n                return;\n            }\n\n            keyCode = $.ui.keyCode;\n\n            switch (event.keyCode) {\n                case keyCode.SPACE:\n                case keyCode.ENTER:\n                    this._eventHandler(event);\n                    break;\n            }\n\n        },\n\n        /**\n         * @param {jQuery.Event} event\n         * @private\n         */\n        _bind: function (event) {\n            var self = this;\n\n            this.events = {\n                keydown: '_keydown'\n            };\n\n            if (event) {\n                $.each(event.split(' '), function (index, eventName) {\n                    self.events[ eventName ] = '_eventHandler';\n                });\n            }\n            this._off(this.trigger);\n\n            if (!this.options.disabled) {\n                this._on(this.trigger, this.events);\n            }\n        },\n\n        /**\n         * Disable.\n         */\n        disable: function () {\n            this.options.disabled = true;\n            this._off(this.trigger);\n            this.forceDeactivate();\n\n            if (this.options.disabledState) {\n                this.element.addClass(this.options.disabledState);\n            }\n            this.trigger.attr('tabIndex', -1);\n        },\n\n        /**\n         * Enable.\n         */\n        enable: function () {\n            this.options.disabled = false;\n            this._on(this.trigger, this.events);\n            this.forceActivate();\n\n            if (this.options.disabledState) {\n                this.element.removeClass(this.options.disabledState);\n            }\n            this.trigger.attr('tabIndex', 0);\n        },\n\n        /**\n         * @param {jQuery.Event} event\n         * @private\n         */\n        _eventHandler: function (event) {\n\n            if (this.options.active && this.options.collapsible) {\n                this.deactivate();\n            } else {\n                this.activate();\n\n            }\n            event.preventDefault();\n\n        },\n\n        /**\n         * @param {*} prop\n         * @private\n         */\n        _animate: function (prop) {\n            var duration,\n                easing,\n                animate = this.options.animate;\n\n            if (typeof animate === 'number') {\n                duration = animate;\n            }\n\n            if (typeof animate === 'string') {\n                animate = $.parseJSON(animate);\n            }\n            duration = duration || animate.duration;\n            easing = animate.easing;\n            this.content.animate(prop, duration, easing);\n        },\n\n        /**\n         * Deactivate.\n         */\n        deactivate: function () {\n            if (this.options.animate) {\n                this._animate(hideProps);\n            } else {\n                this.content.hide();\n            }\n            this._close();\n        },\n\n        /**\n         * Force deactivate.\n         */\n        forceDeactivate: function () {\n            this.content.hide();\n            this._close();\n\n        },\n\n        /**\n         * @private\n         */\n        _close: function () {\n            this.options.active = false;\n\n            if (this.options.saveState) {\n                this.storage.set(this.stateKey, false);\n            }\n\n            if (this.options.openedState) {\n                this.element.removeClass(this.options.openedState);\n            }\n\n            if (this.options.collateral.element && this.options.collateral.openedState) {\n                $(this.options.collateral.element).removeClass(this.options.collateral.openedState);\n            }\n\n            if (this.options.closedState) {\n                this.element.addClass(this.options.closedState);\n            }\n\n            if (this.icons) {\n                this.header.children('[data-role=icons]')\n                    .removeClass(this.options.icons.activeHeader)\n                    .addClass(this.options.icons.header);\n            }\n\n            // ARIA (updates aria attributes)\n            this.header.attr({\n                'aria-selected': 'false',\n                'aria-expanded': 'false'\n            });\n            this.content.attr({\n                'aria-hidden': 'true'\n            });\n\n            this.element.trigger('dimensionsChanged', {\n                opened: false\n            });\n        },\n\n        /**\n         * Activate.\n         *\n         * @return void;\n         */\n        activate: function () {\n            if (this.options.disabled) {\n                return;\n            }\n\n            if (this.options.animate) {\n                this._animate(showProps);\n            } else {\n                if (this.content.length) {\n                    this._scrollToTopIfVisible(this.content.get(0).parentElement);\n                }\n                this.content.show();\n            }\n            this._open();\n        },\n\n        /**\n         * Force activate.\n         */\n        forceActivate: function () {\n            if (!this.options.disabled) {\n                this.content.show();\n                this._open();\n            }\n        },\n\n        /**\n         * @private\n         */\n        _open: function () {\n            this.element.trigger('beforeOpen');\n            this.options.active = true;\n\n            if (this.options.ajaxContent) {\n                this._loadContent();\n            }\n\n            if (this.options.saveState) {\n                this.storage.set(this.stateKey, true);\n            }\n\n            if (this.options.openedState) {\n                this.element.addClass(this.options.openedState);\n            }\n\n            if (this.options.collateral.element && this.options.collateral.openedState) {\n                $(this.options.collateral.element).addClass(this.options.collateral.openedState);\n            }\n\n            if (this.options.closedState) {\n                this.element.removeClass(this.options.closedState);\n            }\n\n            if (this.icons) {\n                this.header.children('[data-role=icons]')\n                    .removeClass(this.options.icons.header)\n                    .addClass(this.options.icons.activeHeader);\n            }\n\n            // ARIA (updates aria attributes)\n            this.header.attr({\n                'aria-selected': 'true',\n                'aria-expanded': 'true'\n            });\n            this.content.attr({\n                'aria-hidden': 'false'\n            });\n\n            this.element.trigger('dimensionsChanged', {\n                opened: true\n            });\n        },\n\n        /**\n         * @private\n         */\n        _loadContent: function () {\n            var url = this.element.find(this.options.ajaxUrlElement).attr('href'),\n                that = this;\n\n            if (url) {\n                that.xhr = $.get({\n                    url: url,\n                    dataType: 'html'\n                }, function () {\n                });\n            }\n\n            if (that.xhr && that.xhr.statusText !== 'canceled') {\n                if (that.options.loadingClass) {\n                    that.element.addClass(that.options.loadingClass);\n                }\n                that.content.attr('aria-busy', 'true');\n                that.xhr.done(function (response) {\n                    setTimeout(function () {\n                        that.content.html(response);\n                    }, 1);\n                });\n                that.xhr.always(function (jqXHR, status) {\n                    setTimeout(function () {\n                        if (status === 'abort') {\n                            that.content.stop(false, true);\n                        }\n\n                        if (that.options.loadingClass) {\n                            that.element.removeClass(that.options.loadingClass);\n                        }\n                        that.content.removeAttr('aria-busy');\n\n                        if (jqXHR === that.xhr) {\n                            delete that.xhr;\n                        }\n                    }, 1);\n                });\n            }\n        },\n\n        /**\n         * @param {HTMLElement} elem\n         * @private\n         */\n        _scrollToTopIfVisible: function (elem) {\n            if (this._isElementOutOfViewport(elem)) {\n                elem.scrollIntoView();\n            }\n        },\n\n        /**\n         * @param {HTMLElement} elem\n         * @private\n         * @return {Boolean}\n         */\n        _isElementOutOfViewport: function (elem) {\n            var rect = elem.getBoundingClientRect();\n\n            return rect.bottom < 0 || rect.right < 0 || rect.left > window.innerWidth || rect.top > window.innerHeight;\n        }\n    });\n\n    return $.mage.collapsible;\n});\n","mage/validation.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\n(function (factory) {\n    'use strict';\n\n    if (typeof define === 'function' && define.amd) {\n        define([\n            'jquery',\n            'moment',\n            'jquery/ui',\n            'jquery/validate',\n            'mage/translate'\n        ], factory);\n    } else {\n        factory(jQuery);\n    }\n}(function ($, moment) {\n    'use strict';\n\n    var creditCartTypes, rules, showLabel, originValidateDelegate;\n\n    $.extend(true, $, {\n        // @TODO: Move methods 'isEmpty', 'isEmptyNoTrim', 'parseNumber', 'stripHtml' in file with utility functions\n        mage: {\n            /**\n             * Check if string is empty with trim\n             * @param {String} value\n             */\n            isEmpty: function (value) {\n                return value === '' || value === undefined ||\n                    value == null || value.length === 0 || /^\\s+$/.test(value);\n            },\n\n            /**\n             * Check if string is empty no trim\n             * @param {String} value\n             */\n            isEmptyNoTrim: function (value) {\n                return value === '' || value == null || value.length === 0;\n            },\n\n            /**\n             * Checks if {value} is between numbers {from} and {to}\n             * @param {String} value\n             * @param {String} from\n             * @param {String} to\n             * @returns {Boolean}\n             */\n            isBetween: function (value, from, to) {\n                return ($.mage.isEmpty(from) || value >= $.mage.parseNumber(from)) &&\n                    ($.mage.isEmpty(to) || value <= $.mage.parseNumber(to));\n            },\n\n            /**\n             * Parse price string\n             * @param {String} value\n             */\n            parseNumber: function (value) {\n                var isDot, isComa;\n\n                if (typeof value !== 'string') {\n                    return parseFloat(value);\n                }\n                isDot = value.indexOf('.');\n                isComa = value.indexOf(',');\n\n                if (isDot !== -1 && isComa !== -1) {\n                    if (isComa > isDot) {\n                        value = value.replace('.', '').replace(',', '.');\n                    } else {\n                        value = value.replace(',', '');\n                    }\n                } else if (isComa !== -1) {\n                    value = value.replace(',', '.');\n                }\n\n                return parseFloat(value);\n            },\n\n            /**\n             * Removes HTML tags and space characters, numbers and punctuation.\n             *\n             * @param {String} value - Value being stripped.\n             * @return {String}\n             */\n            stripHtml: function (value) {\n                return value.replace(/<.[^<>]*?>/g, ' ').replace(/&nbsp;|&#160;/gi, ' ')\n                    .replace(/[0-9.(),;:!?%#$'\"_+=\\/-]*/g, '');\n            }\n        }\n    });\n\n    /**\n     * @param {String} name\n     * @param {*} method\n     * @param {*} message\n     * @param {*} dontSkip\n     */\n    $.validator.addMethod = function (name, method, message, dontSkip) {\n        $.validator.methods[name] = method;\n        $.validator.messages[name] = message !== undefined ? message : $.validator.messages[name];\n\n        if (method.length < 3 || dontSkip) {\n            $.validator.addClassRules(name, $.validator.normalizeRule(name));\n        }\n    };\n\n    /**\n     * Javascript object with credit card types\n     * 0 - regexp for card number\n     * 1 - regexp for cvn\n     * 2 - check or not credit card number trough Luhn algorithm by\n     */\n    creditCartTypes = {\n        'SO': [\n            new RegExp('^(6334[5-9]([0-9]{11}|[0-9]{13,14}))|(6767([0-9]{12}|[0-9]{14,15}))$'),\n            new RegExp('^([0-9]{3}|[0-9]{4})?$'),\n            true\n        ],\n        'SM': [\n            new RegExp('(^(5[0678])[0-9]{11,18}$)|(^(6[^05])[0-9]{11,18}$)|' +\n                '(^(601)[^1][0-9]{9,16}$)|(^(6011)[0-9]{9,11}$)|(^(6011)[0-9]{13,16}$)|' +\n                '(^(65)[0-9]{11,13}$)|(^(65)[0-9]{15,18}$)|(^(49030)[2-9]([0-9]{10}$|[0-9]{12,13}$))|' +\n                '(^(49033)[5-9]([0-9]{10}$|[0-9]{12,13}$))|(^(49110)[1-2]([0-9]{10}$|[0-9]{12,13}$))|' +\n                '(^(49117)[4-9]([0-9]{10}$|[0-9]{12,13}$))|(^(49118)[0-2]([0-9]{10}$|[0-9]{12,13}$))|' +\n                '(^(4936)([0-9]{12}$|[0-9]{14,15}$))'), new RegExp('^([0-9]{3}|[0-9]{4})?$'),\n            true\n        ],\n        'VI': [new RegExp('^4[0-9]{12}([0-9]{3})?$'), new RegExp('^[0-9]{3}$'), true],\n        'MC': [\n            new RegExp('^(?:5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)[0-9]{12}$'),\n            new RegExp('^[0-9]{3}$'),\n            true\n        ],\n        'AE': [new RegExp('^3[47][0-9]{13}$'), new RegExp('^[0-9]{4}$'), true],\n        'DI': [new RegExp('^(6011(0|[2-4]|74|7[7-9]|8[6-9]|9)|6(4[4-9]|5))\\\\d*$'), new RegExp('^[0-9]{3}$'), true],\n        'JCB': [new RegExp('^35(2[8-9]|[3-8])\\\\d*$'), new RegExp('^[0-9]{3}$'), true],\n        'DN': [new RegExp('^(3(0[0-5]|095|6|[8-9]))\\\\d*$'), new RegExp('^[0-9]{3}$'), true],\n        'UN': [\n            new RegExp('^(622(1(2[6-9]|[3-9])|[3-8]|9([[0-1]|2[0-5]))|62[4-6]|628([2-8]))\\\\d*?$'),\n            new RegExp('^[0-9]{3}$'),\n            true\n        ],\n        'MI': [new RegExp('^(5(0|[6-9])|63|67(?!59|6770|6774))\\\\d*$'), new RegExp('^[0-9]{3}$'), true],\n        'MD': [new RegExp('^6759(?!24|38|40|6[3-9]|70|76)|676770|676774\\\\d*$'), new RegExp('^[0-9]{3}$'), true]\n    };\n\n    /**\n     * validate credit card number using mod10\n     * @param {String} s\n     * @return {Boolean}\n     */\n    function validateCreditCard(s) {\n        // remove non-numerics\n        var v = '0123456789',\n            w = '',\n            i, j, k, m, c, a, x;\n\n        for (i = 0; i < s.length; i++) {\n            x = s.charAt(i);\n\n            if (v.indexOf(x, 0) !== -1) {\n                w += x;\n            }\n        }\n        // validate number\n        j = w.length / 2;\n        k = Math.floor(j);\n        m = Math.ceil(j) - k;\n        c = 0;\n\n        for (i = 0; i < k; i++) {\n            a = w.charAt(i * 2 + m) * 2;\n            c += a > 9 ? Math.floor(a / 10 + a % 10) : a;\n        }\n\n        for (i = 0; i < k + m; i++) {\n            c += w.charAt(i * 2 + 1 - m) * 1;\n        }\n\n        return c % 10 === 0;\n    }\n\n    /**\n     * validate all table required inputs at once, using single hidden input\n     * @param {String} value\n     * @param {HTMLElement} element\n     *\n     * @return {Boolean}\n     */\n    function tableSingleValidation(value, element) {\n        var empty = $(element).closest('table')\n            .find('input.required-option:visible')\n            .filter(function (i, el) {\n                if ($(el).is('disabled')) {\n                    return $.mage.isEmpty(el.value);\n                }\n            })\n            .length;\n\n        return empty === 0;\n    }\n\n    /**\n     * Collection of validation rules including rules from additional-methods.js\n     * @type {Object}\n     */\n    rules = {\n        'max-words': [\n            function (value, element, params) {\n                return this.optional(element) || $.mage.stripHtml(value).match(/\\b\\w+\\b/g).length < params;\n            },\n            $.mage.__('Please enter {0} words or less.')\n        ],\n        'min-words': [\n            function (value, element, params) {\n                return this.optional(element) || $.mage.stripHtml(value).match(/\\b\\w+\\b/g).length >= params;\n            },\n            $.mage.__('Please enter at least {0} words.')\n        ],\n        'range-words': [\n            function (value, element, params) {\n                return this.optional(element) ||\n                    $.mage.stripHtml(value).match(/\\b\\w+\\b/g).length >= params[0] &&\n                    value.match(/bw+b/g).length < params[1];\n            },\n            $.mage.__('Please enter between {0} and {1} words.')\n        ],\n        'letters-with-basic-punc': [\n            function (value, element) {\n                return this.optional(element) || /^[a-z\\-.,()'\\\"\\s]+$/i.test(value);\n            },\n            $.mage.__('Letters or punctuation only please')\n        ],\n        'alphanumeric': [\n            function (value, element) {\n                return this.optional(element) || /^\\w+$/i.test(value);\n            },\n            $.mage.__('Letters, numbers, spaces or underscores only please')\n        ],\n        'letters-only': [\n            function (value, element) {\n                return this.optional(element) || /^[a-z]+$/i.test(value);\n            },\n            $.mage.__('Letters only please')\n        ],\n        'no-whitespace': [\n            function (value, element) {\n                return this.optional(element) || /^\\S+$/i.test(value);\n            },\n            $.mage.__('No white space please')\n        ],\n        'zip-range': [\n            function (value, element) {\n                return this.optional(element) || /^90[2-5]-\\d{2}-\\d{4}$/.test(value);\n            },\n            $.mage.__('Your ZIP-code must be in the range 902xx-xxxx to 905-xx-xxxx')\n        ],\n        'integer': [\n            function (value, element) {\n                return this.optional(element) || /^-?\\d+$/.test(value);\n            },\n            $.mage.__('A positive or negative non-decimal number please')\n        ],\n        'vinUS': [\n            function (v) {\n                var i, n, d, f, cd, cdv, LL, VL, FL, rs;\n\n                /* eslint-disable max-depth */\n                if (v.length !== 17) {\n                    return false;\n                }\n\n                LL = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'J', 'K', 'L',\n                    'M', 'N', 'P', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\n                VL = [1, 2, 3, 4, 5, 6, 7, 8, 1, 2, 3, 4, 5, 7, 9, 2, 3, 4, 5, 6, 7, 8, 9];\n                FL = [8, 7, 6, 5, 4, 3, 2, 10, 0, 9, 8, 7, 6, 5, 4, 3, 2];\n                rs = 0;\n\n                for (i = 0; i < 17; i++) {\n                    f = FL[i];\n                    d = v.slice(i, i + 1);\n\n                    if (i === 8) {\n                        cdv = d;\n                    }\n\n                    if (!isNaN(d)) {\n                        d *= f;\n                    } else {\n                        for (n = 0; n < LL.length; n++) {\n                            if (d.toUpperCase() === LL[n]) {\n                                d = VL[n];\n                                d *= f;\n\n                                if (isNaN(cdv) && n === 8) {\n                                    cdv = LL[n];\n                                }\n                                break;\n                            }\n                        }\n                    }\n                    rs += d;\n                }\n\n                /* eslint-enable max-depth */\n                cd = rs % 11;\n\n                if (cd === 10) {\n                    cd = 'X';\n                }\n\n                if (cd === cdv) {\n                    return true;\n                }\n\n                return false;\n            },\n            $.mage.__('The specified vehicle identification number (VIN) is invalid.')\n        ],\n        'dateITA': [\n            function (value, element) {\n                var check = false,\n                    re = /^\\d{1,2}\\/\\d{1,2}\\/\\d{4}$/,\n                    adata, gg, mm, aaaa, xdata;\n\n                if (re.test(value)) {\n                    adata = value.split('/');\n                    gg = parseInt(adata[0], 10);\n                    mm = parseInt(adata[1], 10);\n                    aaaa = parseInt(adata[2], 10);\n                    xdata = new Date(aaaa, mm - 1, gg);\n\n                    if (xdata.getFullYear() === aaaa &&\n                        xdata.getMonth() === mm - 1 &&\n                        xdata.getDate() === gg\n                    ) {\n                        check = true;\n                    } else {\n                        check = false;\n                    }\n                } else {\n                    check = false;\n                }\n\n                return this.optional(element) || check;\n            },\n            $.mage.__('Please enter a correct date')\n        ],\n        'dateNL': [\n            function (value, element) {\n                return this.optional(element) || /^\\d\\d?[\\.\\/-]\\d\\d?[\\.\\/-]\\d\\d\\d?\\d?$/.test(value);\n            },\n            'Vul hier een geldige datum in.'\n        ],\n        'time': [\n            function (value, element) {\n                return this.optional(element) || /^([01]\\d|2[0-3])(:[0-5]\\d){0,2}$/.test(value);\n            },\n            $.mage.__('Please enter a valid time, between 00:00 and 23:59')\n        ],\n        'time12h': [\n            function (value, element) {\n                return this.optional(element) || /^((0?[1-9]|1[012])(:[0-5]\\d){0,2}(\\ [AP]M))$/i.test(value);\n            },\n            $.mage.__('Please enter a valid time, between 00:00 am and 12:00 pm')\n        ],\n        'phoneUS': [\n            function (phoneNumber, element) {\n                phoneNumber = phoneNumber.replace(/\\s+/g, '');\n\n                return this.optional(element) || phoneNumber.length > 9 &&\n                    phoneNumber.match(/^(1-?)?(\\([2-9]\\d{2}\\)|[2-9]\\d{2})-?[2-9]\\d{2}-?\\d{4}$/);\n            },\n            $.mage.__('Please specify a valid phone number')\n        ],\n        'phoneUK': [\n            function (phoneNumber, element) {\n                return this.optional(element) || phoneNumber.length > 9 &&\n                    phoneNumber.match(/^(\\(?(0|\\+44)[1-9]{1}\\d{1,4}?\\)?\\s?\\d{3,4}\\s?\\d{3,4})$/);\n            },\n            $.mage.__('Please specify a valid phone number')\n        ],\n        'mobileUK': [\n            function (phoneNumber, element) {\n                return this.optional(element) || phoneNumber.length > 9 &&\n                    phoneNumber.match(/^((0|\\+44)7\\d{3}\\s?\\d{6})$/);\n            },\n            $.mage.__('Please specify a valid mobile number')\n        ],\n        'stripped-min-length': [\n            function (value, element, param) {\n                return value.length >= param;\n            },\n            $.mage.__('Please enter at least {0} characters')\n        ],\n\n        /* detect chars that would require more than 3 bytes */\n        'validate-no-utf8mb4-characters': [\n            function (value) {\n                var validator = this,\n                    message = $.mage.__('Please remove invalid characters: {0}.'),\n                    matches = value.match(/(?:[\\uD800-\\uDBFF][\\uDC00-\\uDFFF])/g),\n                    result = matches === null;\n\n                if (!result) {\n                    validator.charErrorMessage = message.replace('{0}', matches.join());\n                }\n\n                return result;\n            }, function () {\n                return this.charErrorMessage;\n            }\n        ],\n\n        /* eslint-disable max-len */\n        'email2': [\n            function (value, element) {\n                return this.optional(element) ||\n                    /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)*(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?$/i.test(value);\n            },\n            $.validator.messages.email\n        ],\n        'url2': [\n            function (value, element) {\n                return this.optional(element) || /^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)*(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i.test(value);\n            },\n            $.validator.messages.url\n        ],\n\n        /* eslint-enable max-len */\n        'credit-card-types': [\n            function (value, element, param) {\n                var validTypes;\n\n                if (/[^0-9-]+/.test(value)) {\n                    return false;\n                }\n                value = value.replace(/\\D/g, '');\n\n                validTypes = 0x0000;\n\n                if (param.mastercard) {\n                    validTypes |= 0x0001;\n                }\n\n                if (param.visa) {\n                    validTypes |= 0x0002;\n                }\n\n                if (param.amex) {\n                    validTypes |= 0x0004;\n                }\n\n                if (param.dinersclub) {\n                    validTypes |= 0x0008;\n                }\n\n                if (param.enroute) {\n                    validTypes |= 0x0010;\n                }\n\n                if (param.discover) {\n                    validTypes |= 0x0020;\n                }\n\n                if (param.jcb) {\n                    validTypes |= 0x0040;\n                }\n\n                if (param.unknown) {\n                    validTypes |= 0x0080;\n                }\n\n                if (param.all) {\n                    validTypes = 0x0001 | 0x0002 | 0x0004 | 0x0008 | 0x0010 | 0x0020 | 0x0040 | 0x0080;\n                }\n\n                if (validTypes & 0x0001 && /^(51|52|53|54|55)/.test(value)) { //mastercard\n                    return value.length === 16;\n                }\n\n                if (validTypes & 0x0002 && /^(4)/.test(value)) { //visa\n                    return value.length === 16;\n                }\n\n                if (validTypes & 0x0004 && /^(34|37)/.test(value)) { //amex\n                    return value.length === 15;\n                }\n\n                if (validTypes & 0x0008 && /^(300|301|302|303|304|305|36|38)/.test(value)) { //dinersclub\n                    return value.length === 14;\n                }\n\n                if (validTypes & 0x0010 && /^(2014|2149)/.test(value)) { //enroute\n                    return value.length === 15;\n                }\n\n                if (validTypes & 0x0020 && /^(6011)/.test(value)) { //discover\n                    return value.length === 16;\n                }\n\n                if (validTypes & 0x0040 && /^(3)/.test(value)) { //jcb\n                    return value.length === 16;\n                }\n\n                if (validTypes & 0x0040 && /^(2131|1800)/.test(value)) { //jcb\n                    return value.length === 15;\n                }\n\n                if (validTypes & 0x0080) { //unknown\n                    return true;\n                }\n\n                return false;\n            },\n            $.mage.__('Please enter a valid credit card number.')\n        ],\n\n        /* eslint-disable max-len */\n        'ipv4': [\n            function (value, element) {\n                return this.optional(element) ||\n                    /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/i.test(value);\n            },\n            $.mage.__('Please enter a valid IP v4 address.')\n        ],\n        'ipv6': [\n            function (value, element) {\n                return this.optional(element) || /^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b)\\.){3}(\\b((25[0-5])|(1\\d{2})|(2[0-4]\\d)|(\\d{1,2}))\\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(value);\n            },\n            $.mage.__('Please enter a valid IP v6 address.')\n        ],\n\n        /* eslint-enable max-len */\n        'pattern': [\n            function (value, element, param) {\n                return this.optional(element) || param.test(value);\n            },\n            $.mage.__('Invalid format.')\n        ],\n        'allow-container-className': [\n            function (element) {\n                if (element.type === 'radio' || element.type === 'checkbox') {\n                    return $(element).hasClass('change-container-classname');\n                }\n            },\n            ''\n        ],\n        'validate-no-html-tags': [\n            function (value) {\n                return !/<(\\/)?\\w+/.test(value);\n            },\n            $.mage.__('HTML tags are not allowed.')\n        ],\n        'validate-select': [\n            function (value) {\n                return value !== 'none' && value != null && value.length !== 0;\n            },\n            $.mage.__('Please select an option.')\n        ],\n        'validate-no-empty': [\n            function (value) {\n                return !$.mage.isEmpty(value);\n            },\n            $.mage.__('Empty Value.')\n        ],\n        'validate-alphanum-with-spaces': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^[a-zA-Z0-9 ]+$/.test(v);\n            },\n            $.mage.__('Please use only letters (a-z or A-Z), numbers (0-9) or spaces only in this field.')\n        ],\n        'validate-data': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^[A-Za-z]+[A-Za-z0-9_]+$/.test(v);\n            },\n            $.mage.__('Please use only letters (a-z or A-Z), numbers (0-9) or underscore (_) in this field, and the first character should be a letter.') //eslint-disable-line max-len\n        ],\n        'validate-street': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^[ \\w]{3,}([A-Za-z]\\.)?([ \\w]*\\#\\d+)?(\\r\\n| )[ \\w]{3,}/.test(v);\n            },\n            $.mage.__('Please use only letters (a-z or A-Z), numbers (0-9), spaces and \"#\" in this field.')\n        ],\n        'validate-phoneStrict': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^(\\()?\\d{3}(\\))?(-|\\s)?\\d{3}(-|\\s)\\d{4}$/.test(v);\n            },\n            $.mage.__('Please enter a valid phone number. For example (123) 456-7890 or 123-456-7890.')\n        ],\n        'validate-phoneLax': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) ||\n                    /^((\\d[\\-. ]?)?((\\(\\d{3}\\))|\\d{3}))?[\\-. ]?\\d{3}[\\-. ]?\\d{4}$/.test(v);\n            },\n            $.mage.__('Please enter a valid phone number. For example (123) 456-7890 or 123-456-7890.')\n        ],\n        'validate-fax': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^(\\()?\\d{3}(\\))?(-|\\s)?\\d{3}(-|\\s)\\d{4}$/.test(v);\n            },\n            $.mage.__('Please enter a valid fax number (Ex: 123-456-7890).')\n        ],\n        'validate-email': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*@([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*\\.(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]){2,})$/i.test(v); //eslint-disable-line max-len\n            },\n            $.mage.__('Please enter a valid email address (Ex: johndoe@domain.com).')\n        ],\n        'validate-emailSender': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^[\\S ]+$/.test(v);\n            },\n            $.mage.__('Please enter a valid email address (Ex: johndoe@domain.com).')\n        ],\n        'validate-password': [\n            function (v) {\n                var pass;\n\n                if (v == null) {\n                    return false;\n                }\n                //strip leading and trailing spaces\n                pass = $.trim(v);\n\n                if (!pass.length) {\n                    return true;\n                }\n\n                return !(pass.length > 0 && pass.length < 6);\n            },\n            $.mage.__('Please enter 6 or more characters. Leading and trailing spaces will be ignored.')\n        ],\n        'validate-admin-password': [\n            function (v) {\n                var pass;\n\n                if (v == null) {\n                    return false;\n                }\n                pass = $.trim(v);\n                // strip leading and trailing spaces\n                if (pass.length === 0) {\n                    return true;\n                }\n\n                if (!/[a-z]/i.test(v) || !/[0-9]/.test(v)) {\n                    return false;\n                }\n\n                if (pass.length < 7) {\n                    return false;\n                }\n\n                return true;\n            },\n            $.mage.__('Please enter 7 or more characters, using both numeric and alphabetic.')\n        ],\n        'validate-customer-password': [\n            function (v, elm) {\n                var validator = this,\n                    counter = 0,\n                    passwordMinLength = $(elm).data('password-min-length'),\n                    passwordMinCharacterSets = $(elm).data('password-min-character-sets'),\n                    pass = $.trim(v),\n                    result = pass.length >= passwordMinLength;\n\n                if (result === false) {\n                    validator.passwordErrorMessage = $.mage.__('Minimum length of this field must be equal or greater than %1 symbols. Leading and trailing spaces will be ignored.').replace('%1', passwordMinLength); //eslint-disable-line max-len\n\n                    return result;\n                }\n\n                if (pass.match(/\\d+/)) {\n                    counter++;\n                }\n\n                if (pass.match(/[a-z]+/)) {\n                    counter++;\n                }\n\n                if (pass.match(/[A-Z]+/)) {\n                    counter++;\n                }\n\n                if (pass.match(/[^a-zA-Z0-9]+/)) {\n                    counter++;\n                }\n\n                if (counter < passwordMinCharacterSets) {\n                    result = false;\n                    validator.passwordErrorMessage = $.mage.__('Minimum of different classes of characters in password is %1. Classes of characters: Lower Case, Upper Case, Digits, Special Characters.').replace('%1', passwordMinCharacterSets); //eslint-disable-line max-len\n                }\n\n                return result;\n            }, function () {\n                return this.passwordErrorMessage;\n            }\n        ],\n        'validate-url': [\n            function (v) {\n                if ($.mage.isEmptyNoTrim(v)) {\n                    return true;\n                }\n                v = (v || '').replace(/^\\s+/, '').replace(/\\s+$/, '');\n\n                return (/^(http|https|ftp):\\/\\/(([A-Z0-9]([A-Z0-9_-]*[A-Z0-9]|))(\\.[A-Z0-9]([A-Z0-9_-]*[A-Z0-9]|))*)(:(\\d+))?(\\/[A-Z0-9~](([A-Z0-9_~-]|\\.)*[A-Z0-9~]|))*\\/?(.*)?$/i).test(v); //eslint-disable-line max-len\n\n            },\n            $.mage.__('Please enter a valid URL. Protocol is required (http://, https:// or ftp://).')\n        ],\n        'validate-clean-url': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^(http|https|ftp):\\/\\/(([A-Z0-9][A-Z0-9_-]*)(\\.[A-Z0-9][A-Z0-9_-]*)+.(com|org|net|dk|at|us|tv|info|uk|co.uk|biz|se)$)(:(\\d+))?\\/?/i.test(v) || /^(www)((\\.[A-Z0-9][A-Z0-9_-]*)+.(com|org|net|dk|at|us|tv|info|uk|co.uk|biz|se)$)(:(\\d+))?\\/?/i.test(v); //eslint-disable-line max-len\n\n            },\n            $.mage.__('Please enter a valid URL. For example http://www.example.com or www.example.com.')\n        ],\n        'validate-xml-identifier': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^[A-Z][A-Z0-9_\\/-]*$/i.test(v);\n\n            },\n            $.mage.__('Please enter a valid XML-identifier (Ex: something_1, block5, id-4).')\n        ],\n        'validate-ssn': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^\\d{3}-?\\d{2}-?\\d{4}$/.test(v);\n\n            },\n            $.mage.__('Please enter a valid social security number (Ex: 123-45-6789).')\n        ],\n        'validate-zip-us': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /(^\\d{5}$)|(^\\d{5}-\\d{4}$)/.test(v);\n\n            },\n            $.mage.__('Please enter a valid zip code (Ex: 90602 or 90602-1234).')\n        ],\n        'validate-date-au': [\n            function (v) {\n                var regex, d;\n\n                if ($.mage.isEmptyNoTrim(v)) {\n                    return true;\n                }\n                regex = /^(\\d{2})\\/(\\d{2})\\/(\\d{4})$/;\n\n                if ($.mage.isEmpty(v) || !regex.test(v)) {\n                    return false;\n                }\n                d = new Date(v.replace(regex, '$2/$1/$3'));\n\n                return parseInt(RegExp.$2, 10) === 1 + d.getMonth() &&\n                    parseInt(RegExp.$1, 10) === d.getDate() &&\n                    parseInt(RegExp.$3, 10) === d.getFullYear();\n\n            },\n            $.mage.__('Please use this date format: dd/mm/yyyy. For example 17/03/2006 for the 17th of March, 2006.')\n        ],\n        'validate-currency-dollar': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^\\$?\\-?([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}\\d*(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$/.test(v); //eslint-disable-line max-len\n\n            },\n            $.mage.__('Please enter a valid $ amount. For example $100.00.')\n        ],\n        'validate-not-negative-number': [\n            function (v) {\n                if ($.mage.isEmptyNoTrim(v)) {\n                    return true;\n                }\n                v = $.mage.parseNumber(v);\n\n                return !isNaN(v) && v >= 0;\n\n            },\n            $.mage.__('Please enter a number 0 or greater in this field.')\n        ],\n        // validate-not-negative-number should be replaced in all places with this one and then removed\n        'validate-zero-or-greater': [\n            function (v) {\n                if ($.mage.isEmptyNoTrim(v)) {\n                    return true;\n                }\n                v = $.mage.parseNumber(v);\n\n                return !isNaN(v) && v >= 0;\n\n            },\n            $.mage.__('Please enter a number 0 or greater in this field.')\n        ],\n        'validate-greater-than-zero': [\n            function (v) {\n                if ($.mage.isEmptyNoTrim(v)) {\n                    return true;\n                }\n                v = $.mage.parseNumber(v);\n\n                return !isNaN(v) && v > 0;\n            },\n            $.mage.__('Please enter a number greater than 0 in this field.')\n        ],\n        'validate-css-length': [\n            function (v) {\n                if (v !== '') {\n                    return (/^[0-9]*\\.*[0-9]+(px|pc|pt|ex|em|mm|cm|in|%)?$/).test(v);\n                }\n\n                return true;\n            },\n            $.mage.__('Please input a valid CSS-length (Ex: 100px, 77pt, 20em, .5ex or 50%).')\n        ],\n        // Additional methods\n        'validate-number': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || !isNaN($.mage.parseNumber(v)) && /^\\s*-?\\d*(\\.\\d*)?\\s*$/.test(v);\n            },\n            $.mage.__('Please enter a valid number in this field.')\n        ],\n        'required-number': [\n            function (v) {\n                return !!v.length;\n            },\n            $.mage.__('Please enter a valid number in this field.')\n        ],\n        'validate-number-range': [\n            function (v, elm, param) {\n                var numValue, dataAttrRange, classNameRange, result, range, m, classes, ii;\n\n                if ($.mage.isEmptyNoTrim(v)) {\n                    return true;\n                }\n\n                numValue = $.mage.parseNumber(v);\n\n                if (isNaN(numValue)) {\n                    return false;\n                }\n\n                dataAttrRange = /^(-?[\\d.,]+)?-(-?[\\d.,]+)?$/;\n                classNameRange = /^number-range-(-?[\\d.,]+)?-(-?[\\d.,]+)?$/;\n                result = true;\n                range = param;\n\n                if (typeof range === 'string') {\n                    m = dataAttrRange.exec(range);\n\n                    if (m) {\n                        result = result && $.mage.isBetween(numValue, m[1], m[2]);\n                    } else {\n                        result = false;\n                    }\n                } else if (elm && elm.className) {\n                    classes = elm.className.split(' ');\n                    ii = classes.length;\n\n                    while (ii--) {\n                        range = classes[ii];\n                        m = classNameRange.exec(range);\n\n                        if (m) { //eslint-disable-line max-depth\n                            result = result && $.mage.isBetween(numValue, m[1], m[2]);\n                            break;\n                        }\n                    }\n                }\n\n                return result;\n            },\n            $.mage.__('The value is not within the specified range.'),\n            true\n        ],\n        'validate-digits': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || !/[^\\d]/.test(v);\n            },\n            $.mage.__('Please enter a valid number in this field.')\n        ],\n        'validate-forbidden-extensions': [\n            function (v, elem) {\n                var forbiddenExtensions = $(elem).attr('data-validation-params'),\n                    forbiddenExtensionsArray = forbiddenExtensions.split(','),\n                    extensionsArray = v.split(','),\n                    result = true;\n\n                this.validateExtensionsMessage = $.mage.__('Forbidden extensions has been used. Avoid usage of ') +\n                    forbiddenExtensions;\n\n                $.each(extensionsArray, function (key, extension) {\n                    if (forbiddenExtensionsArray.indexOf(extension) !== -1) {\n                        result = false;\n                    }\n                });\n\n                return result;\n            }, function () {\n                return this.validateExtensionsMessage;\n            }\n        ],\n        'validate-digits-range': [\n            function (v, elm, param) {\n                var numValue, dataAttrRange, classNameRange, result, range, m, classes, ii;\n\n                if ($.mage.isEmptyNoTrim(v)) {\n                    return true;\n                }\n\n                numValue = $.mage.parseNumber(v);\n\n                if (isNaN(numValue)) {\n                    return false;\n                }\n\n                dataAttrRange = /^(-?\\d+)?-(-?\\d+)?$/;\n                classNameRange = /^digits-range-(-?\\d+)?-(-?\\d+)?$/;\n                result = true;\n                range = param;\n\n                if (typeof range === 'string') {\n                    m = dataAttrRange.exec(range);\n\n                    if (m) {\n                        result = result && $.mage.isBetween(numValue, m[1], m[2]);\n                    } else {\n                        result = false;\n                    }\n                } else if (elm && elm.className) {\n                    classes = elm.className.split(' ');\n                    ii = classes.length;\n\n                    while (ii--) {\n                        range = classes[ii];\n                        m = classNameRange.exec(range);\n\n                        if (m) { //eslint-disable-line max-depth\n                            result = result && $.mage.isBetween(numValue, m[1], m[2]);\n                            break;\n                        }\n                    }\n                }\n\n                return result;\n            },\n            $.mage.__('The value is not within the specified range.'),\n            true\n        ],\n        'validate-range': [\n            function (v, elm) {\n                var minValue, maxValue, ranges, reRange, result, values,\n                    i, name, validRange, minValidRange, maxValidRange;\n\n                if ($.mage.isEmptyNoTrim(v)) {\n                    return true;\n                } else if ($.validator.methods['validate-digits'] && $.validator.methods['validate-digits'](v)) {\n                    minValue = maxValue = $.mage.parseNumber(v);\n                } else {\n                    ranges = /^(-?\\d+)?-(-?\\d+)?$/.exec(v);\n\n                    if (ranges) {\n                        minValue = $.mage.parseNumber(ranges[1]);\n                        maxValue = $.mage.parseNumber(ranges[2]);\n\n                        if (minValue > maxValue) { //eslint-disable-line max-depth\n                            return false;\n                        }\n                    } else {\n                        return false;\n                    }\n                }\n                reRange = /^range-(-?\\d+)?-(-?\\d+)?$/;\n                result = true;\n                values = $(elm).prop('class').split(' ');\n\n                for (i = values.length - 1; i >= 0; i--) {\n                    name = values[i];\n                    validRange = reRange.exec(name);\n\n                    if (validRange) {\n                        minValidRange = $.mage.parseNumber(validRange[1]);\n                        maxValidRange = $.mage.parseNumber(validRange[2]);\n                        result = result &&\n                        (isNaN(minValidRange) || minValue >= minValidRange) &&\n                        (isNaN(maxValidRange) || maxValue <= maxValidRange);\n                    }\n                }\n\n                return result;\n            },\n            $.mage.__('The value is not within the specified range.')\n        ],\n        'validate-alpha': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^[a-zA-Z]+$/.test(v);\n            },\n            $.mage.__('Please use letters only (a-z or A-Z) in this field.')\n        ],\n        'validate-code': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^[a-z]+[a-z0-9_]+$/.test(v);\n            },\n            $.mage.__('Please use only letters (a-z), numbers (0-9) or underscore (_) in this field, and the first character should be a letter.') //eslint-disable-line max-len\n        ],\n        'validate-alphanum': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^[a-zA-Z0-9]+$/.test(v);\n            },\n            $.mage.__('Please use only letters (a-z or A-Z) or numbers (0-9) in this field. No spaces or other characters are allowed.') //eslint-disable-line max-len\n        ],\n        'validate-not-number-first': [\n            function (value) {\n                return $.mage.isEmptyNoTrim(value) || /^[^0-9-\\.].*$/.test(value.trim());\n            },\n            $.mage.__('First character must be letter.')\n        ],\n        'validate-date': [\n            function (value, params, additionalParams) {\n                var test = moment(value, additionalParams.dateFormat);\n\n                return $.mage.isEmptyNoTrim(value) || test.isValid();\n            },\n            $.mage.__('Please enter a valid date.')\n\n        ],\n        'validate-date-range': [\n            function (v, elm) {\n                var m = /\\bdate-range-(\\w+)-(\\w+)\\b/.exec(elm.className),\n                    currentYear, normalizedTime, dependentElements;\n\n                if (!m || m[2] === 'to' || $.mage.isEmptyNoTrim(v)) {\n                    return true;\n                }\n\n                currentYear = new Date().getFullYear() + '';\n\n                /**\n                 * @param {String} vd\n                 * @return {Number}\n                 */\n                normalizedTime = function (vd) {\n                    vd = vd.split(/[.\\/]/);\n\n                    if (vd[2] && vd[2].length < 4) {\n                        vd[2] = currentYear.substr(0, vd[2].length) + vd[2];\n                    }\n\n                    return new Date(vd.join('/')).getTime();\n                };\n\n                dependentElements = $(elm.form).find('.validate-date-range.date-range-' + m[1] + '-to');\n\n                return !dependentElements.length || $.mage.isEmptyNoTrim(dependentElements[0].value) ||\n                    normalizedTime(v) <= normalizedTime(dependentElements[0].value);\n            },\n            $.mage.__('Make sure the To Date is later than or the same as the From Date.')\n        ],\n        'validate-cpassword': [\n            function () {\n                var conf = $('#confirmation').length > 0 ? $('#confirmation') : $($('.validate-cpassword')[0]),\n                    pass = false,\n                    passwordElements, i, passwordElement;\n\n                if ($('#password')) {\n                    pass = $('#password');\n                }\n                passwordElements = $('.validate-password');\n\n                for (i = 0; i < passwordElements.length; i++) {\n                    passwordElement = $(passwordElements[i]);\n\n                    if (passwordElement.closest('form').attr('id') === conf.closest('form').attr('id')) {\n                        pass = passwordElement;\n                    }\n                }\n\n                if ($('.validate-admin-password').length) {\n                    pass = $($('.validate-admin-password')[0]);\n                }\n\n                return pass.val() === conf.val();\n            },\n            $.mage.__('Please make sure your passwords match.')\n        ],\n        'validate-identifier': [\n            function (v) {\n                return $.mage.isEmptyNoTrim(v) || /^[a-z0-9][a-z0-9_\\/-]+(\\.[a-z0-9_-]+)?$/.test(v);\n            },\n            $.mage.__('Please enter a valid URL Key (Ex: \"example-page\", \"example-page.html\" or \"anotherlevel/example-page\").') //eslint-disable-line max-len\n        ],\n        'validate-zip-international': [\n\n            /*function(v) {\n             // @TODO: Cleanup\n             return Validation.get('IsEmpty').test(v) ||\n             /(^[A-z0-9]{2,10}([\\s]{0,1}|[\\-]{0,1})[A-z0-9]{2,10}$)/.test(v);\n             }*/\n            function () {\n                return true;\n            },\n            $.mage.__('Please enter a valid zip code.')\n        ],\n        'validate-one-required': [\n            function (v, elm) {\n                var p = $(elm).parent(),\n                    options = p.find('input');\n\n                return options.map(function (el) {\n                        return $(el).val();\n                    }).length > 0;\n            },\n            $.mage.__('Please select one of the options above.')\n        ],\n        'validate-state': [\n            function (v) {\n                return v !== 0 || v === '';\n            },\n            $.mage.__('Please select State/Province.')\n        ],\n        'required-file': [\n            function (v, elm) {\n                var result = !$.mage.isEmptyNoTrim(v),\n                    ovId;\n\n                if (!result) {\n                    ovId = $(elm).attr('id') + '_value';\n\n                    if ($(ovId)) {\n                        result = !$.mage.isEmptyNoTrim($(ovId).val());\n                    }\n                }\n\n                return result;\n            },\n            $.mage.__('Please select a file.')\n        ],\n        'validate-ajax-error': [\n            function (v, element) {\n                element = $(element);\n                element.on('change.ajaxError', function () {\n                    element.removeClass('validate-ajax-error');\n                    element.off('change.ajaxError');\n                });\n\n                return !element.hasClass('validate-ajax-error');\n            },\n            ''\n        ],\n        'validate-optional-datetime': [\n            function (v, elm, param) {\n                var dateTimeParts = $('.datetime-picker[id^=\"options_' + param + '\"]'),\n                    hasWithValue = false,\n                    hasWithNoValue = false,\n                    pattern = /day_part$/i,\n                    i;\n\n                for (i = 0; i < dateTimeParts.length; i++) {\n                    if (!pattern.test($(dateTimeParts[i]).attr('id'))) {\n                        if ($(dateTimeParts[i]).val() === 's') { //eslint-disable-line max-depth\n                            hasWithValue = true;\n                        } else {\n                            hasWithNoValue = true;\n                        }\n                    }\n                }\n\n                return hasWithValue ^ hasWithNoValue;\n            },\n            $.mage.__('The field isn\\'t complete.')\n        ],\n        'validate-required-datetime': [\n            function (v, elm, param) {\n                var dateTimeParts = $('.datetime-picker[id^=\"options_' + param + '\"]'),\n                    i;\n\n                for (i = 0; i < dateTimeParts.length; i++) {\n                    if (dateTimeParts[i].value === '') {\n                        return false;\n                    }\n                }\n\n                return true;\n            },\n            $.mage.__('This is a required field.')\n        ],\n        'validate-one-required-by-name': [\n            function (v, elm, selector) {\n                var name = elm.name.replace(/([\\\\\"])/g, '\\\\$1'),\n                    container = this.currentForm;\n\n                selector = selector === true ? 'input[name=\"' + name + '\"]:checked' : selector;\n\n                return !!container.querySelectorAll(selector).length;\n            },\n            $.mage.__('Please select one of the options.')\n        ],\n        'less-than-equals-to': [\n            function (value, element, params) {\n                if ($.isNumeric($(params).val()) && $.isNumeric(value)) {\n                    this.lteToVal = $(params).val();\n\n                    return parseFloat(value) <= parseFloat($(params).val());\n                }\n\n                return true;\n            },\n            function () {\n                var message = $.mage.__('Please enter a value less than or equal to %s.');\n\n                return message.replace('%s', this.lteToVal);\n            }\n        ],\n        'greater-than-equals-to': [\n            function (value, element, params) {\n                if ($.isNumeric($(params).val()) && $.isNumeric(value)) {\n                    this.gteToVal = $(params).val();\n\n                    return parseFloat(value) >= parseFloat($(params).val());\n                }\n\n                return true;\n            },\n            function () {\n                var message = $.mage.__('Please enter a value greater than or equal to %s.');\n\n                return message.replace('%s', this.gteToVal);\n            }\n        ],\n        'validate-emails': [\n            function (value) {\n                var validRegexp, emails, i;\n\n                if ($.mage.isEmpty(value)) {\n                    return true;\n                }\n                validRegexp = /^([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9,!\\#\\$%&'\\*\\+\\/=\\?\\^_`\\{\\|\\}~-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*@([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z0-9-]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*\\.(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]){2,})$/i; //eslint-disable-line max-len\n                emails = value.split(/[\\s\\n\\,]+/g);\n\n                for (i = 0; i < emails.length; i++) {\n                    if (!validRegexp.test(emails[i].trim())) {\n                        return false;\n                    }\n                }\n\n                return true;\n            },\n            $.mage.__('Please enter valid email addresses, separated by commas. For example, johndoe@domain.com, johnsmith@domain.com.') //eslint-disable-line max-len\n        ],\n\n        'validate-cc-type-select': [\n\n            /**\n             * Validate credit card type matches credit card number\n             * @param {*} value - select credit card type\n             * @param {*} element - element contains the select box for credit card types\n             * @param {*} params - selector for credit card number\n             * @return {Boolean}\n             */\n            function (value, element, params) {\n                if (value && params && creditCartTypes[value]) {\n                    return creditCartTypes[value][0].test($(params).val().replace(/\\s+/g, ''));\n                }\n\n                return false;\n            },\n            $.mage.__('Card type does not match credit card number.')\n        ],\n        'validate-cc-number': [\n\n            /**\n             * Validate credit card number based on mod 10.\n             *\n             * @param {*} value - credit card number\n             * @return {Boolean}\n             */\n            function (value) {\n                if (value) {\n                    return validateCreditCard(value);\n                }\n\n                return false;\n            },\n            $.mage.__('Please enter a valid credit card number.')\n        ],\n        'validate-cc-type': [\n\n            /**\n             * Validate credit card number is for the correct credit card type.\n             *\n             * @param {String} value - credit card number\n             * @param {*} element - element contains credit card number\n             * @param {*} params - selector for credit card type\n             * @return {Boolean}\n             */\n            function (value, element, params) {\n                var ccType;\n\n                if (value && params) {\n                    ccType = $(params).val();\n                    value = value.replace(/\\s/g, '').replace(/\\-/g, '');\n\n                    if (creditCartTypes[ccType] && creditCartTypes[ccType][0]) {\n                        return creditCartTypes[ccType][0].test(value);\n                    } else if (creditCartTypes[ccType] && !creditCartTypes[ccType][0]) {\n                        return true;\n                    }\n                }\n\n                return false;\n            },\n            $.mage.__('Credit card number does not match credit card type.')\n        ],\n        'validate-cc-exp': [\n\n            /**\n             * Validate credit card expiration date, make sure it's within the year and not before current month.\n             *\n             * @param {*} value - month\n             * @param {*} element - element contains month\n             * @param {*} params - year selector\n             * @return {Boolean}\n             */\n            function (value, element, params) {\n                var isValid = false,\n                    month, year, currentTime, currentMonth, currentYear;\n\n                if (value && params) {\n                    month = value;\n                    year = $(params).val();\n                    currentTime = new Date();\n                    currentMonth = currentTime.getMonth() + 1;\n                    currentYear = currentTime.getFullYear();\n\n                    isValid = !year || year > currentYear || year == currentYear && month >= currentMonth; //eslint-disable-line\n                }\n\n                return isValid;\n            },\n            $.mage.__('Incorrect credit card expiration date.')\n        ],\n        'validate-cc-cvn': [\n\n            /**\n             * Validate credit card cvn based on credit card type.\n             *\n             * @param {*} value - credit card cvn\n             * @param {*} element - element contains credit card cvn\n             * @param {*} params - credit card type selector\n             * @return {*}\n             */\n            function (value, element, params) {\n                var ccType;\n\n                if (value && params) {\n                    ccType = $(params).val();\n\n                    if (creditCartTypes[ccType] && creditCartTypes[ccType][0]) {\n                        return creditCartTypes[ccType][1].test(value);\n                    }\n                }\n\n                return false;\n            },\n            $.mage.__('Please enter a valid credit card verification number.')\n        ],\n        'validate-cc-ukss': [\n\n            /**\n             * Validate Switch/Solo/Maestro issue number and start date is filled.\n             *\n             * @param {*} value - input field value\n             * @return {*}\n             */\n            function (value) {\n                return value;\n            },\n            $.mage.__('Please enter issue number or start date for switch/solo card type.')\n        ],\n        'validate-length': [\n            function (v, elm) {\n                var reMax = new RegExp(/^maximum-length-[0-9]+$/),\n                    reMin = new RegExp(/^minimum-length-[0-9]+$/),\n                    validator = this,\n                    result = true,\n                    length = 0;\n\n                $.each(elm.className.split(' '), function (index, name) {\n                    if (name.match(reMax) && result) {\n                        length = name.split('-')[2];\n                        result = v.length <= length;\n                        validator.validateMessage =\n                            $.mage.__('Please enter less or equal than %1 symbols.').replace('%1', length);\n                    }\n\n                    if (name.match(reMin) && result && !$.mage.isEmpty(v)) {\n                        length = name.split('-')[2];\n                        result = v.length >= length;\n                        validator.validateMessage =\n                            $.mage.__('Please enter more or equal than %1 symbols.').replace('%1', length);\n                    }\n                });\n\n                return result;\n            }, function () {\n                return this.validateMessage;\n            }\n        ],\n        'required-entry': [\n            function (value) {\n                return !$.mage.isEmpty(value);\n            }, $.mage.__('This is a required field.')\n        ],\n        'not-negative-amount': [\n            function (v) {\n                if (v.length) {\n                    return (/^\\s*\\d+([,.]\\d+)*\\s*%?\\s*$/).test(v);\n                }\n\n                return true;\n            },\n            $.mage.__('Please enter positive number in this field.')\n        ],\n        'validate-per-page-value-list': [\n            function (v) {\n                var isValid = !$.mage.isEmpty(v),\n                    values = v.split(','),\n                    i;\n\n                for (i = 0; i < values.length; i++) {\n                    if (!/^[0-9]+$/.test(values[i])) {\n                        isValid = false;\n                    }\n                }\n\n                return isValid;\n            },\n            $.mage.__('Please enter a valid value, ex: 10,20,30')\n        ],\n        'validate-per-page-value': [\n            function (v, elm) {\n                var values;\n\n                if ($.mage.isEmpty(v)) {\n                    return false;\n                }\n                values = $('#' + elm.id + '_values').val().split(',');\n\n                return values.indexOf(v) !== -1;\n            },\n            $.mage.__('Please enter a valid value from list')\n        ],\n        'validate-new-password': [\n            function (v) {\n                if ($.validator.methods['validate-password'] && !$.validator.methods['validate-password'](v)) {\n                    return false;\n                }\n\n                if ($.mage.isEmpty(v) && v !== '') {\n                    return false;\n                }\n\n                return true;\n            },\n            $.mage.__('Please enter 6 or more characters. Leading and trailing spaces will be ignored.')\n        ],\n        'required-if-not-specified': [\n            function (value, element, params) {\n                var valid = false,\n                    alternate = $(params),\n                    alternateValue;\n\n                if (alternate.length > 0) {\n                    valid = this.check(alternate);\n                    // if valid, it may be blank, so check for that\n                    if (valid) {\n                        alternateValue = alternate.val();\n\n                        if (typeof alternateValue == 'undefined' || alternateValue.length === 0) { //eslint-disable-line\n                            valid = false;\n                        }\n                    }\n                }\n\n                if (!valid) {\n                    valid = !this.optional(element);\n                }\n\n                return valid;\n            },\n            $.mage.__('This is a required field.')\n        ],\n        'required-if-all-sku-empty-and-file-not-loaded': [\n            function (value, element, params) {\n                var valid = false,\n                    alternate = $(params.specifiedId),\n                    alternateValue;\n\n                if (alternate.length > 0) {\n                    valid = this.check(alternate);\n                    // if valid, it may be blank, so check for that\n                    if (valid) {\n                        alternateValue = alternate.val();\n\n                        if (typeof alternateValue == 'undefined' || alternateValue.length === 0) { //eslint-disable-line\n                            valid = false;\n                        }\n                    }\n                }\n\n                if (!valid) {\n                    valid = !this.optional(element);\n                }\n\n                $('input[' + params.dataSku + '=true]').each(function () {\n                    if ($(this).val() !== '') {\n                        valid = true;\n                    }\n                });\n\n                return valid;\n            },\n            $.mage.__('Please enter valid SKU key.')\n        ],\n        'required-if-specified': [\n            function (value, element, params) {\n                var valid = true,\n                    dependent = $(params),\n                    dependentValue;\n\n                if (dependent.length > 0) {\n                    valid = this.check(dependent);\n                    // if valid, it may be blank, so check for that\n                    if (valid) {\n                        dependentValue = dependent.val();\n                        valid = typeof dependentValue != 'undefined' && dependentValue.length > 0;\n                    }\n                }\n\n                if (valid) {\n                    valid = !this.optional(element);\n                } else {\n                    valid = true; // dependent was not valid, so don't even check\n                }\n\n                return valid;\n            },\n            $.mage.__('This is a required field.')\n        ],\n        'required-number-if-specified': [\n            function (value, element, params) {\n                var valid = true,\n                    dependent = $(params),\n                    depeValue;\n\n                if (dependent.length) {\n                    valid = this.check(dependent);\n\n                    if (valid) {\n                        depeValue = dependent[0].value;\n                        valid = !!(depeValue && depeValue.length);\n                    }\n                }\n\n                return valid ? !!value.length : true;\n            },\n            $.mage.__('Please enter a valid number.')\n        ],\n        'datetime-validation': [\n            function (value, element) {\n                var isValid = true;\n\n                if ($(element).val().length === 0) {\n                    isValid = false;\n                    $(element).addClass('mage-error');\n                }\n\n                return isValid;\n            },\n            $.mage.__('This is required field')\n        ],\n        'required-text-swatch-entry': [\n            tableSingleValidation,\n            $.mage.__('Admin is a required field in each row.')\n        ],\n        'required-visual-swatch-entry': [\n            tableSingleValidation,\n            $.mage.__('Admin is a required field in each row.')\n        ],\n        'required-dropdown-attribute-entry': [\n            tableSingleValidation,\n            $.mage.__('Admin is a required field in each row.')\n        ],\n        'validate-item-quantity': [\n            function (value, element, params) {\n                var validator = this,\n                    result = false,\n                    // obtain values for validation\n                    qty = $.mage.parseNumber(value),\n                    isMinAllowedValid = typeof params.minAllowed === 'undefined' ||\n                        qty >= $.mage.parseNumber(params.minAllowed),\n                    isMaxAllowedValid = typeof params.maxAllowed === 'undefined' ||\n                        qty <= $.mage.parseNumber(params.maxAllowed),\n                    isQtyIncrementsValid = typeof params.qtyIncrements === 'undefined' ||\n                        qty % $.mage.parseNumber(params.qtyIncrements) === 0;\n\n                result = qty > 0;\n\n                if (result === false) {\n                    validator.itemQtyErrorMessage = $.mage.__('Please enter a quantity greater than 0.');//eslint-disable-line max-len\n\n                    return result;\n                }\n\n                result = isMinAllowedValid;\n\n                if (result === false) {\n                    validator.itemQtyErrorMessage = $.mage.__('The fewest you may purchase is %1.').replace('%1', params.minAllowed);//eslint-disable-line max-len\n\n                    return result;\n                }\n\n                result = isMaxAllowedValid;\n\n                if (result === false) {\n                    validator.itemQtyErrorMessage = $.mage.__('The maximum you may purchase is %1.').replace('%1', params.maxAllowed);//eslint-disable-line max-len\n\n                    return result;\n                }\n\n                result = isQtyIncrementsValid;\n\n                if (result === false) {\n                    validator.itemQtyErrorMessage = $.mage.__('You can buy this product only in quantities of %1 at a time.').replace('%1', params.qtyIncrements);//eslint-disable-line max-len\n\n                    return result;\n                }\n\n                return result;\n            }, function () {\n                return this.itemQtyErrorMessage;\n            }\n        ],\n        'password-not-equal-to-user-name': [\n            function (value, element, params) {\n                if (typeof params === 'string') {\n                    return value.toLowerCase() !== params.toLowerCase();\n                }\n\n                return true;\n            },\n            $.mage.__('The password can\\'t be the same as the email address. Create a new password and try again.')\n        ]\n    };\n\n    $.each(rules, function (i, rule) {\n        rule.unshift(i);\n        $.validator.addMethod.apply($.validator, rule);\n    });\n    $.validator.addClassRules({\n        'required-option': {\n            required: true\n        },\n        'required-options-count': {\n            required: true\n        },\n        'validate-both-passwords': {\n            'validate-cpassword': true\n        }\n    });\n    $.validator.messages = $.extend($.validator.messages, {\n        required: $.mage.__('This is a required field.'),\n        remote: $.mage.__('Please fix this field.'),\n        email: $.mage.__('Please enter a valid email address.'),\n        url: $.mage.__('Please enter a valid URL.'),\n        date: $.mage.__('Please enter a valid date.'),\n        dateISO: $.mage.__('Please enter a valid date (ISO).'),\n        number: $.mage.__('Please enter a valid number.'),\n        digits: $.mage.__('Please enter only digits.'),\n        creditcard: $.mage.__('Please enter a valid credit card number.'),\n        equalTo: $.mage.__('Please enter the same value again.'),\n        maxlength: $.validator.format($.mage.__('Please enter no more than {0} characters.')),\n        minlength: $.validator.format($.mage.__('Please enter at least {0} characters.')),\n        rangelength: $.validator.format($.mage.__('Please enter a value between {0} and {1} characters long.')),\n        range: $.validator.format($.mage.__('Please enter a value between {0} and {1}.')),\n        max: $.validator.format($.mage.__('Please enter a value less than or equal to {0}.')),\n        min: $.validator.format($.mage.__('Please enter a value greater than or equal to {0}.'))\n    });\n\n    if ($.metadata) {\n        // Setting the type as html5 to enable data-validate attribute\n        $.metadata.setType('html5');\n    }\n\n    showLabel = $.validator.prototype.showLabel;\n    $.extend(true, $.validator.prototype, {\n        /**\n         * @param {*} element\n         * @param {*} message\n         */\n        showLabel: function (element, message) {\n            var label, elem;\n\n            showLabel.call(this, element, message);\n\n            // ARIA (adding aria-invalid & aria-describedby)\n            label = this.errorsFor(element);\n            elem = $(element);\n\n            if (!label.attr('id')) {\n                label.attr('id', this.idOrName(element) + '-error');\n            }\n            elem.attr('aria-invalid', 'true')\n                .attr('aria-describedby', label.attr('id'));\n        }\n    });\n\n    /**\n     * Validate form field without instantiating validate plug-in.\n     *\n     * @param {Element|String} element - DOM element or selector\n     * @return {Boolean} validation result\n     */\n    $.validator.validateElement = function (element) {\n        var form, validator, valid, classes;\n\n        element = $(element);\n        form = element.get(0).form;\n        validator = form ? $(form).data('validator') : null;\n\n        if (validator) {\n            return validator.element(element.get(0));\n        }\n        valid = true;\n        classes = element.prop('class').split(' ');\n        $.each(classes, $.proxy(function (i, className) {\n            if (this.methods[className] && !this.methods[className](element.val(), element.get(0))) {\n                valid = false;\n\n                return valid;\n            }\n        }, this));\n\n        return valid;\n    };\n\n    originValidateDelegate = $.fn.validateDelegate;\n\n    /**\n     * @return {*}\n     */\n    $.fn.validateDelegate = function () {\n        if (!this[0].form) {\n            return this;\n        }\n\n        return originValidateDelegate.apply(this, arguments);\n    };\n\n    /**\n     * Validate single element.\n     *\n     * @param {Element} element\n     * @param {Object} config\n     * @returns {*}\n     */\n    $.validator.validateSingleElement = function (element, config) {\n        var errors = {},\n            valid = true,\n            validateConfig = {\n                errorElement: 'label',\n                ignore: '.ignore-validate'\n            },\n            form, validator, classes, elementValue;\n\n        $.extend(validateConfig, config);\n        element = $(element).not(validateConfig.ignore);\n\n        if (!element.length) {\n            return true;\n        }\n\n        form = element.get(0).form;\n        validator = form ? $(form).data('validator') : null;\n\n        if (validator) {\n            return validator.element(element.get(0));\n        }\n\n        classes = element.prop('class').split(' ');\n        validator = element.parent().data('validator') ||\n            $.mage.validation(validateConfig, element.parent()).validate;\n\n        element.removeClass(validator.settings.errorClass);\n        validator.toHide = validator.toShow;\n        validator.hideErrors();\n        validator.toShow = validator.toHide = $([]);\n\n        $.each(classes, $.proxy(function (i, className) {\n            elementValue = element.val();\n\n            if (element.is(':checkbox') || element.is(':radio')) {\n                elementValue = element.is(':checked') || null;\n            }\n\n            if (this.methods[className] && !this.methods[className](elementValue, element.get(0))) {\n                valid = false;\n                errors[element.get(0).name] = this.messages[className];\n                validator.invalid[element.get(0).name] = true;\n                validator.showErrors(errors);\n\n                return valid;\n            }\n        }, this));\n\n        return valid;\n    };\n\n    $.widget('mage.validation', {\n        options: {\n            meta: 'validate',\n            onfocusout: false,\n            onkeyup: false,\n            onclick: false,\n            ignoreTitle: true,\n            errorClass: 'mage-error',\n            errorElement: 'div',\n\n            /**\n             * @param {*} error\n             * @param {*} element\n             */\n            errorPlacement: function (error, element) {\n                var errorPlacement = element,\n                    fieldWrapper;\n\n                // logic for date-picker error placement\n                if (element.hasClass('_has-datepicker')) {\n                    errorPlacement = element.siblings('button');\n                }\n                // logic for field wrapper\n                fieldWrapper = element.closest('.addon');\n\n                if (fieldWrapper.length) {\n                    errorPlacement = fieldWrapper.after(error);\n                }\n                //logic for checkboxes/radio\n                if (element.is(':checkbox') || element.is(':radio')) {\n                    errorPlacement = element.parents('.control').children().last();\n\n                    //fallback if group does not have .control parent\n                    if (!errorPlacement.length) {\n                        errorPlacement = element.siblings('label').last();\n                    }\n                }\n                //logic for control with tooltip\n                if (element.siblings('.tooltip').length) {\n                    errorPlacement = element.siblings('.tooltip');\n                }\n                errorPlacement.after(error);\n            }\n        },\n\n        /**\n         * Check if form pass validation rules without submit.\n         *\n         * @return boolean\n         */\n        isValid: function () {\n            return this.element.valid();\n        },\n\n        /**\n         * Remove validation error messages\n         */\n        clearError: function () {\n            if (arguments.length) {\n                $.each(arguments, $.proxy(function (index, item) {\n                    this.validate.prepareElement(item);\n                    this.validate.hideErrors();\n                }, this));\n            } else {\n                this.validate.resetForm();\n            }\n        },\n\n        /**\n         * Validation creation.\n         *\n         * @protected\n         */\n        _create: function () {\n            this.validate = this.element.validate(this.options);\n\n            // ARIA (adding aria-required attribute)\n            this.element\n                .find('.field.required')\n                .find('.control')\n                .find('input, select, textarea')\n                .attr('aria-required', 'true');\n\n            this._listenFormValidate();\n        },\n\n        /**\n         * Validation listening.\n         * @protected\n         */\n        _listenFormValidate: function () {\n            $('form').on('invalid-form.validate', this.listenFormValidateHandler);\n        },\n\n        /**\n         * Handle form validation. Focus on first invalid form field.\n         *\n         * @param {jQuery.Event} event\n         * @param {Object} validation\n         */\n        listenFormValidateHandler:  function (event, validation) {\n            var firstActive = $(validation.errorList[0].element || []),\n                lastActive = $(validation.findLastActive() ||\n                    validation.errorList.length && validation.errorList[0].element || []),\n                parent, windowHeight, successList;\n\n            if (lastActive.is(':hidden')) {\n                parent = lastActive.parent();\n                windowHeight = $(window).height();\n                $('html, body').animate({\n                    scrollTop: parent.offset().top - windowHeight / 2\n                });\n            }\n\n            // ARIA (removing aria attributes if success)\n            successList = validation.successList;\n\n            if (successList.length) {\n                $.each(successList, function () {\n                    $(this)\n                        .removeAttr('aria-describedby')\n                        .removeAttr('aria-invalid');\n                });\n            }\n\n            if (firstActive.length) {\n                firstActive.focus();\n            }\n        }\n    });\n\n    return $.mage.validation;\n}));\n","mage/polyfill.js":"try {\n    if (!window.localStorage || !window.sessionStorage) {\n        throw new Error();\n    }\n\n    localStorage.setItem('storage_test', 1);\n    localStorage.removeItem('storage_test');\n} catch (e) {\n    (function () {\n        'use strict';\n\n        /**\n         * Returns a storage object to shim local or sessionStorage\n         * @param {String} type - either 'local' or 'session'\n         */\n        var Storage = function (type) {\n            var data;\n\n            /**\n             * Creates a cookie\n             * @param {String} name\n             * @param {String} value\n             * @param {Integer} days\n             */\n            function createCookie(name, value, days) {\n                var date, expires;\n\n                if (days) {\n                    date = new Date();\n                    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);\n                    expires = '; expires=' + date.toGMTString();\n                } else {\n                    expires = '';\n                }\n                document.cookie = name + '=' + value + expires + '; path=/';\n            }\n\n            /**\n             * Reads value of a cookie\n             * @param {String} name\n             */\n            function readCookie(name) {\n                var nameEQ = name + '=',\n                    ca = document.cookie.split(';'),\n                    i = 0,\n                    c;\n\n                for (i = 0; i < ca.length; i++) {\n                    c = ca[i];\n\n                    while (c.charAt(0) === ' ') {\n                        c = c.substring(1, c.length);\n                    }\n\n                    if (c.indexOf(nameEQ) === 0) {\n                        return c.substring(nameEQ.length, c.length);\n                    }\n                }\n\n                return null;\n            }\n\n            /**\n             * Returns cookie name based upon the storage type.\n             * If this is session storage, the function returns a unique cookie per tab\n             */\n            function getCookieName() {\n\n                if (type !== 'session') {\n                    return 'localstorage';\n                }\n\n                if (!window.name) {\n                    window.name = new Date().getTime();\n                }\n\n                return 'sessionStorage' + window.name;\n            }\n\n            /**\n             * Sets storage cookie to a data object\n             * @param {Object} dataObject\n             */\n            function setData(dataObject) {\n                data = encodeURIComponent(JSON.stringify(dataObject));\n                createCookie(getCookieName(), data, 365);\n            }\n\n            /**\n             * Clears value of cookie data\n             */\n            function clearData() {\n                createCookie(getCookieName(), '', 365);\n            }\n\n            /**\n             * @returns value of cookie data\n             */\n            function getData() {\n                var dataResponse = readCookie(getCookieName());\n\n                return dataResponse ? JSON.parse(decodeURIComponent(dataResponse)) : {};\n            }\n\n            data = getData();\n\n            return {\n                length: 0,\n\n                /**\n                 * Clears data from storage\n                 */\n                clear: function () {\n                    data = {};\n                    this.length = 0;\n                    clearData();\n                },\n\n                /**\n                 * Gets an item from storage\n                 * @param {String} key\n                 */\n                getItem: function (key) {\n                    return data[key] === undefined ? null : data[key];\n                },\n\n                /**\n                 * Gets an item by index from storage\n                 * @param {Integer} i\n                 */\n                key: function (i) {\n                    var ctr = 0,\n                        k;\n\n                    for (k in data) {\n\n                        if (data.hasOwnProperty(k)) {\n\n                            // eslint-disable-next-line max-depth\n                            if (ctr.toString() === i.toString()) {\n                                return k;\n                            }\n                            ctr++;\n                        }\n                    }\n\n                    return null;\n                },\n\n                /**\n                 * Removes an item from storage\n                 * @param {String} key\n                 */\n                removeItem: function (key) {\n                    delete data[key];\n                    this.length--;\n                    setData(data);\n                },\n\n                /**\n                 * Sets an item from storage\n                 * @param {String} key\n                 * @param {String} value\n                 */\n                setItem: function (key, value) {\n                    data[key] = value.toString();\n                    this.length++;\n                    setData(data);\n                }\n            };\n        };\n\n        window.localStorage.prototype = window.localStorage = new Storage('local');\n        window.sessionStorage.prototype = window.sessionStorage = new Storage('session');\n    })();\n}\n","mage/storage.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine(['jquery', 'mage/url'], function ($, urlBuilder) {\n    'use strict';\n\n    return {\n        /**\n         * Perform asynchronous GET request to server.\n         * @param {String} url\n         * @param {Boolean} global\n         * @param {String} contentType\n         * @returns {Deferred}\n         */\n        get: function (url, global, contentType) {\n            global = global === undefined ? true : global;\n            contentType = contentType || 'application/json';\n\n            return $.ajax({\n                url: urlBuilder.build(url),\n                type: 'GET',\n                global: global,\n                contentType: contentType\n            });\n        },\n\n        /**\n         * Perform asynchronous POST request to server.\n         * @param {String} url\n         * @param {String} data\n         * @param {Boolean} global\n         * @param {String} contentType\n         * @returns {Deferred}\n         */\n        post: function (url, data, global, contentType) {\n            global = global === undefined ? true : global;\n            contentType = contentType || 'application/json';\n\n            return $.ajax({\n                url: urlBuilder.build(url),\n                type: 'POST',\n                data: data,\n                global: global,\n                contentType: contentType\n            });\n        },\n\n        /**\n         * Perform asynchronous PUT request to server.\n         * @param {String} url\n         * @param {String} data\n         * @param {Boolean} global\n         * @param {String} contentType\n         * @returns {Deferred}\n         */\n        put: function (url, data, global, contentType) {\n            global = global === undefined ? true : global;\n            contentType = contentType || 'application/json';\n\n            return $.ajax({\n                url: urlBuilder.build(url),\n                type: 'PUT',\n                data: data,\n                global: global,\n                contentType: contentType\n            });\n        },\n\n        /**\n         * Perform asynchronous DELETE request to server.\n         * @param {String} url\n         * @param {Boolean} global\n         * @param {String} contentType\n         * @returns {Deferred}\n         */\n        delete: function (url, global, contentType) {\n            global = global === undefined ? true : global;\n            contentType = contentType || 'application/json';\n\n            return $.ajax({\n                url: urlBuilder.build(url),\n                type: 'DELETE',\n                global: global,\n                contentType: contentType\n            });\n        }\n    };\n});\n","mage/translate-init.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'mage/translate',\n    'jquery/jquery-storageapi'\n], function ($) {\n    'use strict';\n\n    return function (pageOptions) {\n        var dependencies = [],\n            versionObj;\n\n        $.initNamespaceStorage('mage-translation-storage');\n        $.initNamespaceStorage('mage-translation-file-version');\n        versionObj = $.localStorage.get('mage-translation-file-version');\n\n        if (versionObj.version !== pageOptions.version) {\n            dependencies.push(\n              pageOptions.dictionaryFile\n            );\n        }\n\n        require.config({\n            deps: dependencies,\n\n            /**\n             * @param {String} string\n             */\n            callback: function (string) {\n                if (typeof string === 'string') {\n                    $.mage.translate.add(JSON.parse(string));\n                    $.localStorage.set('mage-translation-storage', string);\n                    $.localStorage.set(\n                        'mage-translation-file-version',\n                        {\n                            version: pageOptions.version\n                        }\n                    );\n                } else {\n                    $.mage.translate.add($.localStorage.get('mage-translation-storage'));\n                }\n            }\n        });\n    };\n});\n","mage/tabs.js":"/**\n * Copyright \u00a9 Magento, Inc. All rights reserved.\n * See COPYING.txt for license details.\n */\n\ndefine([\n    'jquery',\n    'jquery/ui',\n    'mage/mage',\n    'mage/collapsible'\n], function ($) {\n    'use strict';\n\n    $.widget('mage.tabs', {\n        options: {\n            active: 0,\n            disabled: [],\n            openOnFocus: true,\n            collapsible: false,\n            collapsibleElement: '[data-role=collapsible]',\n            header: '[data-role=title]',\n            content: '[data-role=content]',\n            trigger: '[data-role=trigger]',\n            closedState: null,\n            openedState: null,\n            disabledState: null,\n            ajaxUrlElement: '[data-ajax=true]',\n            ajaxContent: false,\n            loadingClass: null,\n            saveState: false,\n            animate: false,\n            icons: {\n                activeHeader: null,\n                header: null\n            }\n        },\n\n        /**\n         * @private\n         */\n        _create: function () {\n            if (typeof this.options.disabled === 'string') {\n                this.options.disabled = this.options.disabled.split(' ').map(function (item) {\n                    return parseInt(item, 10);\n                });\n            }\n            this._processPanels();\n            this._handleDeepLinking();\n            this._processTabIndex();\n            this._closeOthers();\n            this._bind();\n        },\n\n        /**\n         * @private\n         */\n        _destroy: function () {\n            $.each(this.collapsibles, function () {\n                $(this).collapsible('destroy');\n            });\n        },\n\n        /**\n         * If deep linking is used, all sections must be closed but the one that contains the anchor.\n         * @private\n         */\n        _handleDeepLinking: function () {\n            var self = this,\n                anchor = window.location.hash,\n                isValid = $.mage.isValidSelector(anchor),\n                anchorId = anchor.replace('#', '');\n\n            if (anchor && isValid) {\n                $.each(self.contents, function (i) {\n                    if ($(this).attr('id') === anchorId) {\n                        self.collapsibles.not(self.collapsibles.eq(i)).collapsible('forceDeactivate');\n\n                        return false;\n                    }\n                });\n            }\n        },\n\n        /**\n         * When the widget gets instantiated, the first tab that is not disabled receive focusable property\n         * Updated: for accessibility all tabs receive tabIndex 0\n         * @private\n         */\n        _processTabIndex: function () {\n            var self = this;\n\n            self.triggers.attr('tabIndex', 0);\n            $.each(this.collapsibles, function (i) {\n                if (!$(this).collapsible('option', 'disabled')) {\n                    self.triggers.eq(i).attr('tabIndex', 0);\n\n                    return false;\n                }\n            });\n            $.each(this.collapsibles, function (i) {\n                $(this).on('beforeOpen', function () {\n                    self.triggers.attr('tabIndex', 0);\n                    self.triggers.eq(i).attr('tabIndex', 0);\n                });\n            });\n        },\n\n        /**\n         * Prepare the elements for instantiating the collapsible widget\n         * @private\n         */\n        _processPanels: function () {\n            this.contents = this.element.find(this.options.content);\n\n            this.collapsibles = this.element.find(this.options.collapsibleElement);\n\n            this.collapsibles\n                .attr('role', 'presentation')\n                .parent()\n                .attr('role', 'tablist');\n\n            this.headers = this.element.find(this.options.header);\n\n            if (this.headers.length === 0) {\n                this.headers = this.collapsibles;\n            }\n            this.triggers = this.element.find(this.options.trigger);\n\n            if (this.triggers.length === 0) {\n                this.triggers = this.headers;\n            }\n            this._callCollapsible();\n        },\n\n        /**\n         * Setting the disabled and active tabs and calling instantiation of collapsible\n         * @private\n         */\n        _callCollapsible: function () {\n            var self = this,\n                disabled = false,\n                active = false;\n\n            $.each(this.collapsibles, function (i) {\n                disabled = active = false;\n\n                if ($.inArray(i, self.options.disabled) !== -1) {\n                    disabled = true;\n                }\n\n                if (i === self.options.active) {\n                    active = true;\n                }\n                self._instantiateCollapsible(this, i, active, disabled);\n            });\n        },\n\n        /**\n         * Instantiate collapsible.\n         *\n         * @param {HTMLElement} element\n         * @param {Number} index\n         * @param {*} active\n         * @param {*} disabled\n         * @private\n         */\n        _instantiateCollapsible: function (element, index, active, disabled) {\n            $(element).collapsible(\n                $.extend({}, this.options, {\n                    active: active,\n                    disabled: disabled,\n                    header: this.headers.eq(index),\n                    content: this.contents.eq(index),\n                    trigger: this.triggers.eq(index)\n                })\n            );\n        },\n\n        /**\n         * Adding callback to close others tabs when one gets opened\n         * @private\n         */\n        _closeOthers: function () {\n            var self = this;\n\n            $.each(this.collapsibles, function () {\n                $(this).on('beforeOpen', function () {\n                    self.collapsibles.not(this).collapsible('forceDeactivate');\n                });\n            });\n        },\n\n        /**\n         * @param {*} index\n         */\n        activate: function (index) {\n            this._toggleActivate('activate', index);\n        },\n\n        /**\n         * @param {*} index\n         */\n        deactivate: function (index) {\n            this._toggleActivate('deactivate', index);\n        },\n\n        /**\n         * @param {*} action\n         * @param {*} index\n         * @private\n         */\n        _toggleActivate: function (action, index) {\n            this.collapsibles.eq(index).collapsible(action);\n        },\n\n        /**\n         * @param {*} index\n         */\n        disable: function (index) {\n            this._toggleEnable('disable', index);\n        },\n\n        /**\n         * @param {*} index\n         */\n        enable: function (index) {\n            this._toggleEnable('enable', index);\n        },\n\n        /**\n         * @param {*} action\n         * @param {*} index\n         * @private\n         */\n        _toggleEnable: function (action, index) {\n            var self = this;\n\n            if ($.isArray(index)) {\n                $.each(index, function () {\n                    self.collapsibles.eq(this).collapsible(action);\n                });\n            } else if (index === undefined) {\n                this.collapsibles.collapsible(action);\n            } else {\n                this.collapsibles.eq(index).collapsible(action);\n            }\n        },\n\n        /**\n         * @param {jQuery.Event} event\n         * @private\n         */\n        _keydown: function (event) {\n            var self = this,\n                keyCode, toFocus, toFocusIndex, enabledTriggers, length, currentIndex, nextToFocus;\n\n            if (event.altKey || event.ctrlKey) {\n                return;\n            }\n            keyCode = $.ui.keyCode;\n            toFocus = false;\n            enabledTriggers = [];\n\n            $.each(this.triggers, function () {\n                if (!self.collapsibles.eq(self.triggers.index($(this))).collapsible('option', 'disabled')) {\n                    enabledTriggers.push(this);\n                }\n            });\n            length = $(enabledTriggers).length;\n            currentIndex = $(enabledTriggers).index(event.target);\n\n            /**\n             * @param {String} direction\n             * @return {*}\n             */\n            nextToFocus = function (direction) {\n                if (length > 0) {\n                    if (direction === 'right') {\n                        toFocusIndex = (currentIndex + 1) % length;\n                    } else {\n                        toFocusIndex = (currentIndex + length - 1) % length;\n                    }\n\n                    return enabledTriggers[toFocusIndex];\n                }\n\n                return event.target;\n            };\n\n            switch (event.keyCode) {\n                case keyCode.RIGHT:\n                case keyCode.DOWN:\n                    toFocus = nextToFocus('right');\n                    break;\n\n                case keyCode.LEFT:\n                case keyCode.UP:\n                    toFocus = nextToFocus('left');\n                    break;\n\n                case keyCode.HOME:\n                    toFocus = enabledTriggers[0];\n                    break;\n\n                case keyCode.END:\n                    toFocus = enabledTriggers[length - 1];\n                    break;\n            }\n\n            if (toFocus) {\n                toFocusIndex = this.triggers.index(toFocus);\n                $(event.target).attr('tabIndex', -1);\n                $(toFocus).attr('tabIndex', 0);\n                toFocus.focus();\n\n                if (this.options.openOnFocus) {\n                    this.activate(toFocusIndex);\n                }\n                event.preventDefault();\n            }\n        },\n\n        /**\n         * @private\n         */\n        _bind: function () {\n            var events = {\n                keydown: '_keydown'\n            };\n\n            this._off(this.triggers);\n            this._on(this.triggers, events);\n        }\n    });\n\n    return $.mage.tabs;\n});\n"}
}});
